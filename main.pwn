#pragma warning disable 213
#pragma warning disable 239
#pragma warning disable 217
#pragma warning disable 214
#pragma warning disable 200
//#pragma warning disable 203
//#pragma warning disable 204
#pragma warning disable 202
#pragma tabsize 4

#pragma dynamic 400000

AntiAmx()
{
    new a[][] = {
        "Unarmed (Fist)",
        "Brass K"
    };
    #pragma unused a
}

//discordbot//
#define  DCMD_PREFIX '$' //Si no define, por defecto es '!'
#define DCMD_STRICT_CASE
#define DCMD_ALLOW_BOTS

// Discord //
#define securitychannel     "1440967671368781914"
#define commandlogs         "1440967671368781914"
#define adminchannel        "1440967671368781914"
#define estachannel         "1440967671368781914"
#define puasabro                  "1436777647555219640"

new DCC_Channel:bandas;
new DCC_Channel:duty;
new DCC_Channel:logs;
new DCC_Channel:spam;
new DCC_Channel:tl;
new DCC_Channel:ban;
new DCC_Channel:lgs;
new DCC_Channel:cmds;
new DCC_Channel:nw;

new DCC_Channel:chats;
new DCC_Channel:nr;
new DCC_Channel:re;
new DCC_Channel:as;
new DCC_Channel:ch;
new DCC_Channel:bd;
new DCC_Channel:sanc;

#define DISCORD_ROLE_Dueno 			"1436782909510914250"
#define DISCORD_ROLE_ModeradorG 			"1440969799370014752"
#define DISCORD_ROLE_Moderador			"1440969430740897842"
#define DISCORD_ROLE_Usuario			"1436776769096122378"
#define DISCORD_ROLE_No			"1014926732102484008"
#define DISCORD_ROLE_Si			"967499916643541126"
#define DISCORD_GENERAL 			"1206433869746675792"

//discord// //Antrax//
new    DCC_Role: discordRoleDueno;
new	DCC_Role: discordRoleModerador;
new	DCC_Role: discordRoleModeradorG;
new	DCC_Role: discordRoleUsuario;
new    DCC_Guild: discordGuild;

#include <a_samp>

#define Loop(%0,%1,%2)				for(new %0 = %2; %0 < %1; %0++)
#define funcion%0(%1) 				        forward %0(%1); public %0(%1)

new CLEAR_ZONE;

//Cargos 
#define c1_color 0xFFFFFFFF
#define c2_color 0xFFFFC7FF
#define c3_color 0xFFFF72FF
#define c4_color 0xFFFF00FF
#define c5_color 0xFFA600FF
#define c6_color 0xFF0000FF

// Limites
new LimiteVenda[MAX_PLAYERS];
new LimiteEnamorado[MAX_PLAYERS];
new Robandot[MAX_PLAYERS];
new TIME_DEALER[MAX_PLAYERS];
new PlayerText:MensajeTD[MAX_PLAYERS];

#define NA 5 /* Cantidad de anuncios (Recuerden agregar textdraw) */
new TiempoAnuncio[MAX_PLAYERS],Text:TextDrawx[5];
enum anuncios
{
	Texto[75]
};

new Anunciox[NA][anuncios];

#define IsPlayerDriver(%0) GetPlayerState(%0) == PLAYER_STATE_DRIVER
#define IsPlayerOnFoot(%0) GetPlayerState(%0) == PLAYER_STATE_ONFOOT

#define MAX_SLOTS_INV 10
#define MAX_DROP_ITEM 500
 new stock DCC_Channel:Est_Channel;

//MODIFICAR SEGUN SLOTS DEL SERVIDOR
#undef MAX_PLAYERS
#define MAX_PLAYERS 105
#define VERSION_BUILD	"04"

//Includes
#include <crashdetect>
#include <YSF>
#include <YSI-Includes\YSI\y_inline>
#include <YSI_Coding\y_va>
#include <YSI_Coding\y_stringhash>
#include <YSI_Coding\y_timers>
#include <YSI_Game\y_vehicledata>
#include <YSI_Coding\y_hooks>
#include <streamer>
#include <sscanf2>
#include <Pawn.CMD>
#include <Pawn.Regex>
#include <Pawn.RakNet>
#include <a_mysql>
#include <a_mysql_yinline>
#include <mapandreas>
#include <discord-connector>
#include <discord-cmd>
#define PP_SYNTAX_FOR_LIST
#include <PawnPlus>
#include <android-check>
#include <easyDialog>
#include <dini>
#include <sampmobile>

//Version Fecha
#define SERVER_VERSION	"4.0"
#define VERSION_DATE	"06/06/2021"

// Configuracion del servidor.
#define SERVER_NAME			"(ES) Spain Plus RolePlay - Movil/PC"
#define SERVER_SHORT_NAME	"SP:RP"
#define SERVER_HOSTNAME "(ES) Spain Plus RolePlay Movil/PC"
#define SERVER_GAMEMODE		"Main"
#define SERVER_LANGUAGE		"Español - Spanish"
#define SERVER_WEBSITE		"https://sprp.ml/"
#define SERVER_COIN			"Gemas"

#define MAX_BAD_LOGIN_ATTEMPS 3	// maximos intentos de contraseñas erroneas
#define REP_MULTIPLIER 6	//12 rep * nivel para subir, si es nivel 1 necesita 12 rep para subir a nivel 2
#define TIME_FOR_REP 2500000 // 60 minutos para obtener reputacion
#define REP_FOR_PAYDAY 2	// payday cada 1 reputaciones
#define CMD_LOGGIN 1 // log de comandos
#define COMMAND_TIMER 3
#define TIME_DIALOGOS 10

//Colores

/* Colores trabajos */
#define MECHANIC_COLOR "999999"
#define MEDIC_COLOR "ff3200"
#define POLICE_COLOUR "0f4bff"

#define PRIMARY_COLOR "66c4e4"
#define SILVER_COLOR 	"FFFFFF"
#define RED_COLOR 		"d50000"
#define LIME_COLOR 		"98f442"
#define BLUE_COLOR 		"90C3D4"
#define GREEN_COLOR "00FF00"
#define LIGHTBLUE_COLOR "41ff73"
#define ORANGE_COLOR "FF3300"

#define RojoIntenso         0xe70000FF
#define Rojo                0xa80707FF
#define Aguamarina          0x00fcffFF
#define Blanco              0xFFFFFFFF

#define COLOR_SERVER1	"{12b512}"
#define COLOR_SERVER2	"{61fa67}"
#define COLOR_SERVER3	"{067a0b}"
#define COLOR_SERVER4	"{159974}"
#define COLOR_SERVER5	"{64edcb}"

#define DIALOG_ESTADO_TEXTO 1000
#define DIALOG_BASURERO_INV 1010
#define DIALOG_ESTADO_COLOR 1001
 
// Radares 

#define MAX_RADAR   100
#define Amarelo                                                                 0xF6F600AA
#define COLOR_LIGHTRED 	        												0xFF6347AA
#define Mostarda                                                                0xF6C700AA
#define AmareloClaro                                                            0xF6F67AAA
#define Vermelho                                                                0xF60000AA
#define Bordo                                                                   0xBC0034AA
#define Laranja                                                                 0xF6A100AA
#define Azul                                                                    0x0000F6AA
#define AzulClaro                                                               0x00B6F6AA
#define Verde                                                                   0x00A600AA
#define VerdeFlorecente                                                         0x00F600AA
#define VerdeClaro                                                              0x00B57DAA
#define Branco                                                                  0xF6F6F6AA
#define Roza                                                                    0xF650A6AA
#define RozaClaro                                                               0xF698A6AA
#define Roxo                                                                    0x9E23F6AA
#define RoxoClaro                                                               0xF698A6AA
#define Cinza                                                                   0x545352AA
#define Cinzaazulado															0xA7C0C0AA

#define PastaRadares        "Radares/Radar%d.ini"

static
	lString[256],
	radarid[MAX_PLAYERS],
	vel,
	Text3D:TRadar[MAX_RADAR],
	ObjetoRadar[2][MAX_RADAR],
	CriandoRadar,
	Float:PosXX,
	Float:PosYY,
	Float:PosZZ,
	Float:Angulo;
enum radar {
	Float:lPosXX,
	Float:lPosYY,
	Float:lPosZZ,
	Float:lAngulo,
	lVelocidade,
};

enum pInfo{
	PPassouRadar
}
new InfoRadar[MAX_RADAR][radar];
new Text:Flash;
new gstring[256];
new PlayerInfo[MAX_PLAYERS][pInfo];

new TimerAbandonoVeh[MAX_VEHICLES]; 

#define MECHANIC_COLOR "999999"
#define MEDIC_COLOR "ff3200"
#define POLICE_COLOUR "0f4bff"

// PIROTECNIA 

#define TIPO_TRUENO     1
#define TIPO_FUENTE     2
#define TIPO_VOLADOR    3
#define TIPO_BOMBER     4
#define TIPO_ARCOIRIS   5
#define TIPO_GALAXIA    6

forward OnPirotecniaExplota(playerid, tipo, Float:x, Float:y, Float:z, objid);


#define		minutes(%0) 		(1000 * %0 * 60)
#define NECESSARY_TIME_BETWEEN_WORKS 180 //segundos

#define blanco			"{ffffff}"
#define azul "66c4e4"

#define WHITE			"{ffffff}"
#define BLUE			"{0000ff}"
#define PURPLE			"{cc00ff}"
#define PINK			"{ff00dd}"
#define RED				"{d50000}"
#define ORANGE			"{005dff}"
#define YELLOW			"{ffff00}"
#define YELLOW_COLOR "828282"
#define LIME			"{ff135b}"
#define GREEN			"{ff135b}"
#define CYAN            "{13a6e4}"
#define VALUE_MOTOR 350.0

#define DIALOG_LISTA_OBJETOS 32500 

#define VEHICLE_COORD_TYPE_BOOT		(1)
#define VEHICLE_COORD_TYPE_BONNET	(2)

/* LIMITES JUGADOR */
	// Normal User
#define MAX_NU_VEHICLES		2
#define MAX_NU_PROPERTIES	1
#define MAX_NU_NEGOCIOS 	1
#define MAX_NU_WORKS        1
#define MAX_NU_TOYS         2
#define MAX_NU_VOBJECTS     2
#define MAX_NU_PROPERTY_OBJECTS 150

// EVENTO DM

new bool:EventoDM_Activo = false;
new EventoDM_ArmaID = 0;
new bool:EnEventoDM[MAX_PLAYERS];

new B_Pecho[MAX_PLAYERS];
new B_Accesorios[MAX_PLAYERS];

#define		segundos(%0) 		(1000 * %0)

#define MIN_TIME_BETWEEN_AD 	(2 * 60)

	// VIP
#define MAX_SU_VEHICLES     6
#define MAX_SU_PROPERTIES   2
#define MAX_SU_WORKS		2
#define MAX_SU_NEGOCIOS 	2
#define MAX_SU_TOYS         5
#define MAX_SU_VOBJECTS     50
#define MAX_SU_PROPERTY_OBJECTS  500
#define MAX_ANUNCIOS    	5

//SECURE LOGIN
#define SECURE_LOGIN_IP_DAYS 30
#define SECURE_LOGIN_REQUEST_URL "api.super-rp.es/auth/auth-request-code"
#define SECURE_LOGIN_CHECK_URL "api.super-rp.es/auth/auth-check-code"
#define SECURE_LOGIN_TIME 180000 //3 min en logear o kick

new CheckpointArmero[MAX_PLAYERS];
#define MAX_SLOTS 48

new PLAYERS_IN_GAME;
new pick123[1000];
#define vmenu 159156

// ID de tu diálogo.
#define DIALOG_TOP_RICOS 666
#define DIALOG_CONFIRM_BUY 771
#define DIALOG_TRAILERO_RUTAS 1011
#define MAX_TOP_PLAYERS 10    

// Definimos los campos que tendrá cada entrada del ranking usando un ENUM
enum E_TOP_RICOS_DATA
{
    Top_PlayerID, // ID del jugador
    Top_Money,    // Cantidad de dinero
};
new g_TopRicos[MAX_TOP_PLAYERS][E_TOP_RICOS_DATA]; 

// ID de tu diálogo. GEMAS
#define DIALOG_TOP_GEMAS 667
#define MAX_TOP_GEMAS 10    

// Definimos los campos que tendrá cada entrada del ranking usando un ENUM
enum E_TOP_GEMAS_DATA
{
    Top_PlayerID, // ID del jugador
    Top_Gemas,    // Cantidad de dinero
};
new g_TopGemas[MAX_TOP_GEMAS][E_TOP_GEMAS_DATA]; 

new Area_TallerMotor[2]; // Variable para los 2 pickups del taller

// KILLSSS S S S S S S  S

new AutoSiendoProcesado[MAX_PLAYERS];

new PaginaObjetos[MAX_PLAYERS];

// ID de tu diálogo. GEMAS
#define DIALOG_TOP_KILLS 668
#define MAX_TOP_KILLS 10    

// Definimos los campos que tendrá cada entrada del ranking usando un ENUM
enum E_TOP_KILLS_DATA
{
    Top_PlayerID, // ID del jugador
    Top_Kills,    // Cantidad de dinero
};
new g_TopKills[MAX_TOP_KILLS][E_TOP_KILLS_DATA]; 

new LimiteRemedio[MAX_PLAYERS], LimiteCrack[MAX_PLAYERS], LimiteMaria[MAX_PLAYERS];

// --- Constantes y Definiciones ---
#define MAX_STORES 1                // Cantidad de tiendas que manejará este sistema
#define ROB_RANGE 3.0               // Rango de distancia para iniciar el robo (metros)
#define ROB_TIME 30                 // Tiempo que tarda el robo (segundos)
#define ROB_REWARD 5000             // Dinero obtenido al completar
#define ROB_WANTED_LEVEL 3          // Nivel de búsqueda (estrellas) por robar
#define STORE_COOLDOWN_TIME 300     // << NUEVO >> 300 segundos = 5 minutos de espera
#define DIALOG_DAILY_REWARD_COOLDOWN 670 

// ID para el diálogo principal de recompensa (LISTO para reclamar)
#define DIALOG_DAILY_REWARD 671


// --- Arrays Globales ---
new Float:g_StorePos[MAX_STORES][3] = {
    { -27.964675, -89.948631, 1003.54687 }
};

// Array para saber si una tienda está siendo robada
new g_isStoreBeingRobbed[MAX_STORES] = { false };

// << NUEVO >> Array que guarda el tiempo UNIX cuando la tienda estará disponible (0 = disponible)
new g_storeCooldownEnd[MAX_STORES] = { 0 };


#define MIN_VEHICLE_INTERACTION_SPEED 20

new UltimoPaquete[MAX_PLAYERS];

new
      Text:BoxMisiones,
      Text:MisionCo,
      Text:MisionRe
;

new
      Text:BoxLogros,
      Text:LogroCo,
      Text:LogroRe
;

new stock



DCC_Channel:Security_Channel,
DCC_Channel:Command_Logs,
DCC_Channel:Admin_Channel,    //Admins Channel
DCC_Channel:W_L

;

#include "src/parking_slot_header.pwn"

new ListItemNoList[MAX_PLAYERS][250];
new PlayerText:g_RobberyProgressTD[MAX_PLAYERS]; // El TextDraw en sí (PlayerText)
new g_RobberyTimerStart[MAX_PLAYERS];           // Guarda el tiempo UNIX de inicio del robo
new g_RobberyUpdateTimer[MAX_PLAYERS];          // Guarda el ID del temporizador de actualización

#define MAX_BANK_ATM 18

new BebederoPickup[2]; // Arreglo para los 2 pickups

const
	MAX_Referidos = 1000,
	MAX_MOCHILAS = 500
;

new TipoDialogoMercado[16]; 

forward SincronizarMundoReal();

new TimeDmgDots[MAX_PLAYERS]; // Guarda el gettime() del último daño

enum oInfo
{
	IDObjeto,
	NombreObjeto[45],
	ModeloObjeto,
	IDArma,
	Guardable,
	Arrojadizo,
	Capacidad,
	Consumible,
	Sapd,
}
//Objetos
new ObjetoInfo[281][oInfo] ={
{0, "Vacio", 0, 0, 0, 0, 0, 0},
{1, "Manopla", 331, 1, 1, 0, 1, 0}, //ARMAS
{2, "PaloGolf", 333, 2, 0, 0, 1, 0},
{3, "Porra", 334, 3, 1, 0, 1, 0},
{4, "Navaja", 335, 4, 1, 0, 1, 0},
{5, "Bate", 336, 5, 0, 0, 1, 0},
{6, "Pala", 337, 6, 0, 0, 1, 0},
{7, "Palo", 338, 7, 0, 0, 1, 0},
{8, "Katana", 339, 8, 0, 0, 1, 0},
{9, "Motosierra", 341, 9, 0, 0, 1, 0},
{10, "Dildo", 321, 10, 1, 0, 1, 0},
{11, "Dildo", 322, 11, 1, 0, 1, 0},
{12, "Vibrador", 323, 12, 1, 0, 1, 0},
{13, "Vibrador", 324, 13, 1, 0, 1, 0},
{14, "Flores", 325, 14, 1, 0, 1, 0},
{15, "Palanca", 326, 15, 0, 0, 1, 0},
{16, "Granada", 342, 16, 1, 1, 1, 0},
{17, "Lagrimojena", 343, 17, 1, 1, 1, 0},
{18, "Molotov", 344, 18, 1, 1, 1, 0},
{19, "9mm", 346, 22, 1, 0, 80, 0},
{20, "9mm- Sl", 347, 23, 1, 0, 80, 0},
{21, "Desert Eagle", 348, 24, 1, 0, 90, 0},
{22, "Escopeta", 349, 25, 1, 0, 70, 0},
{23, "Recortada", 350, 26, 1, 0, 90, 0},
{24, "Escopeta De Combate", 351, 27, 1, 0, 120, 0},
{25, "Uzi", 352, 28, 1, 0, 250, 0},
{26, "MP5", 353, 29, 1, 0, 450, 0},
{27, "AK47", 355, 30, 1, 0, 390, 0},
{28, "M4", 356, 31, 1, 0, 400, 0},
{29, "Tec9", 372, 32, 1, 0, 320, 0},
{30, "Rifle", 357, 33, 0, 0, 70, 0},
{31, "Sniper", 358, 34, 1, 0, 70, 0},
{32, "Bomba C4", 363, 39, 1, 1, 1, 0},
{33, "Detonador", 364, 40, 1, 0, 1, 0},
{34, "Spray", 365, 41, 1, 0, 500, 0},
{35, "Extintor", 366, 42, 0, 0, 1000, 0},
{36, "Camara", 367, 43, 1, 0, 100, 0},
{37, "Paracaidas", 371, 46, 0, 1, 1, 0},
{38, "Taser", 347, 23, 1, 0, 1, 0},
{39, "Cargador De Pistola", 19995, 0, 1, 0, 80, 0}, //Cargadores
{40, "Cargador De Deagle", 19995, 0, 1, 0, 85, 0},
{41, "Cargador De Uzi", 19995, 0, 1, 0, 220, 0},
{42, "Cargador De MP5", 19995, 0, 1, 0, 450, 0},
{43, "Cargador De Tec9", 19995, 0, 1, 0, 320, 0},
{44, "Cargador De AK47", 19995, 0, 1, 0, 520, 0},
{45, "Cargador De M4", 19995, 0, 1, 0, 520, 0},
{46, "Cargador De Rifle", 19995, 0, 1, 0, 50, 0},
{47, "Balas Pistola", 2040, 0, 1, 1, 100, 0}, //Pistola //Balas
{48, "Balas Desert Eagle", 2040, 0, 1, 1, 100, 0}, //Desert Eagle
{49, "Balas MP5", 2040, 0, 1, 1, 100, 0}, //SMG
{50, "Cargador de escopeta", 19995, 0, 1, 0, 120, 0}, //Escopeta
{51, "Balas AK47", 3013, 0, 1, 1, 180, 0}, //Ak 47
{52, "Balas M4", 3013, 0, 1, 1, 180, 0}, //M4
{53, "Balas rifle", 3013, 0, 1, 1, 180, 0}, //Rifle
{54, "Carga extintor", 1210, 0, 0, 0, 5, 0},
{55, "Galletas", 2663, 0, 1, 1, 8, 1},
{56, "Patatas", 2663, 0, 1, 1, 8, 1},
{57, "Nachos", 2663, 0, 1, 1, 8, 1},
{58, "Gaseosa", 2601, 0, 1, 0, 6, 1},
{59, "Fanta", 2601, 0, 1, 0, 6, 1},
{60, "Coca-cola", 1484, 0, 1, 1, 8, 1},
{61, "Cerveza", 1543, 0, 1, 0, 8, 1},
{62, "Vino", 1667, 0, 1, 1, 7, 1},
{63, "Whisky", 1666, 0, 1, 1, 7, 1},
{64, "Ron", 1666, 0, 1, 1, 7, 1},
{65, "Hamburguesa", 19094, 0, 1, 1, 5, 1},
{66, "Pizza", 2814, 0, 1, 1, 8, 1},
{67, "Telefono", 330, 0, 1, 0, 1, 0},
{68, "Encendedor", 327, 0, 1, 1, 30, 0},
{69, "Cigarillos", 19896, 0, 1, 1, 20, 0},
{70, "Fernet", 1544, 0, 1, 0, 12, 1},
{71, "Whisky", 1520, 0, 1, 0, 12, 1},
{72, "Tequila", 1517, 0, 1, 0, 12, 1},
{73, "Chaleco", 19515, 0, 1, 0, 1, 1},
{74, "Cocaina", 1579, 0, 1, 0, 20, 1},
{75, "Cocaina", 1576, 0, 1, 0, 50, 1},
{76, "Cocaina", 1279, 0, 1, 0, 100, 1},
{77, "Maletin", 1210, 0, 1, 0, 1, 1},
{78, "Atuendo", 2704, 0, 1, 0, 1, 1},
{79, "Cargamento M4", 3800, 0, 1, 0, 8, 1},
{80, "Cargamento EDC", 3800, 0, 1, 0, 8, 1},
{81, "Cargamento DKS", 3800, 0, 1, 0, 8, 1},
{82, "Cargamento TEC9", 3799, 0, 1, 0, 8, 1},
{83, "Alas", 8491, 0, 1, 0, 1, 0},
{84, "Estrella", 902, 0, 1, 0, 1, 0},
{85, "Tortuga", 1609, 0, 1, 0, 1, 0},
{86, "Estrella", 902, 0, 1, 0, 1, 0},
{87, "Cuernos", 6865, 0, 1, 0, 1, 0},
{88, "Vaca", 11470, 0, 1, 0, 1, 0},
{89, "Costal", 1985, 0, 1, 0, 1, 0},
{90, "Leon", 3471, 0, 1, 0, 1, 0},
{91, "Venado", 19315, 0, 1, 0, 1, 0},
{92, "Calabaza", 19320, 0, 1, 0, 1, 0},
{93, "Arbol Navidad", 19076, 0, 1, 0, 1, 0},
{94, "Regalo", 19057, 0, 1, 0, 2, 1},
{95, "Huevo Pascua", 19341, 0, 1, 0, 1, 0},
{96, "Fogata", 19632, 0, 1, 0, 1, 0},
{97, "Tiburon", 1608, 0, 1, 0, 1, 0},
{98, "Demonio", 3524, 0, 1, 0, 1, 0},
{99, "Calabera", 1254, 0, 1, 0, 1, 0},
{100, "Totem", 1276, 0, 1, 0, 1, 0},
{101, "Dinamita", 1654, 0, 1, 0, 1, 1},
{102, "AK47 Oro", 355, 30, 1, 0, 9999, 0},
{103, "M4 Oro", 356, 31, 1, 0, 9999, 0},
{104, "Escopeta De Oro", 351, 27, 1, 0, 9999, 0},
{105, "Cargador De AK47 Oro", 19995, 0, 1, 0, 9999, 0},
{106, "Cargador De M4 Oro", 19995, 0, 1, 0, 9999, 0},
{107, "Cargador De escopeta Oro", 19995, 0, 1, 0, 9999, 0},
{108, "Dinero negro bug", 1212, 0, 1, 0, 70000, 0},
{109, "Destornillador", 18644, 0, 1, 0, 20, 1},
{110, "Palanca", 18634, 0, 1, 0, 20, 1},
{111, "Fichas", 1903, 0, 1, 0, 5, 0},
{112, "Bidon", 1650, 0, 1, 0, 1, 1},
{113, "Botiquin", 11738, 0, 1, 0, 5, 1},
{114, "Kit De Reparacion", 19921, 0, 1, 0, 1, 1},
{115, "Cargamento Escopeta", 3800, 0, 1, 0, 8, 1},
{116, "Cuchillo", 335, 0, 1, 0, 20, 1},
{117, "Cuchillo Plata", 335, 0, 1, 0, 50, 1},
{118, "Cuchillo", 335, 0, 1, 0, 100, 1},
{119, "Patineta", 19878, 0, 1, 0, 1, 1},
{120, "Mascara", 19163, 0, 1, 0, 1, 1},
{121, "Taser", 18642, 0, 1, 0, 1, 1},
{122, "Materiales", 19793, 0, 1, 0, 1, 1},
{123, "Totemm", 1276, 0, 1, 0, 1, 0},
{124, "Alas", 8491, 0, 1, 0, 1, 0},
{125, "Globo", 19338, 0, 1, 0, 1, 0},
{126, "Corona", 2992, 0, 1, 0, 1, 0},
{127, "Cometa", 2469, 0, 1, 0, 1, 0},
{128, "Pollo", 19137, 0, 1, 0, 1, 0},
{129, "Cuernos", 19314, 0, 1, 0, 1, 0},
{130, "Sombrero bruja", 19528, 0, 1, 0, 1, 0},
{131, "Cj", 18963, 0, 1, 0, 1, 0},
{132, "Gorro navideño", 19065, 0, 1, 0, 1, 0},
{133, "Loro", 19078, 0, 1, 0, 1, 0},
{134, "Pene", 19086, 0, 1, 0, 1, 0},
{135, "Ciervo", 19315, 0, 1, 0, 1, 0},
{136, "Delfin", 1607, 0, 1, 0, 1, 0},
{137, "Tiburon", 1608, 0, 1, 0, 1, 0},
{138, "Tortuga", 1609, 0, 1, 0, 1, 0},
{139, "Vaca", 16442, 0, 1, 0, 1, 0},
{140, "Dinamita", 1654, 0, 1, 0, 1, 0},
{141, "Papalote", 2499, 0, 1, 0, 1, 0},
{142, "Vaca", 16442, 0, 1, 0, 1, 0},
{143, "Materiales", 19941, 0, 1, 0, 1, 0},
{144, "Gorra", 18939, 0, 1, 0, 1, 0},
{145, "Gorra Policia", 18636, 0, 1, 0, 1, 0},
{146, "Sombrero", 33469, 0, 1, 0, 1, 0},
{147, "Sombrero Vaquero", 19100, 0, 1, 0, 1, 0},
{148, "Sombrero El Viejo", 18962, 0, 1, 0, 1, 0},
{149, "Totem", 1276, 0, 1, 0, 1, 0},
{150, "Alas", 8492, 0, 1, 0, 1, 0},
{151, "Delfin", 1607, 0, 1, 0, 1, 0},
{152, "Tiburon", 1608, 0, 1, 0, 1, 0},
{153, "Tortuga", 1609, 0, 1, 0, 1, 0},
{154, "Guitarra", 19317, 0, 1, 0, 1, 0},
{155, "Guitarra Electrica", 19318, 0, 1, 0, 1, 0},
{156, "Guitarra Warlock", 19319, 0, 1, 0, 1, 0},
{157, "Sombrero Negro",  18962, 0, 1, 0, 1, 0},
{158, "Casco", 18368, 0, 1, 0, 1, 0},
{159, "Gorra", 18940, 0, 1, 0, 1, 0},
{160, "Gorra Azul", 18957, 0, 1, 0, 1, 0},
{161, "Sombrero Vaquero", 19095, 0, 1, 0, 1, 0},
{162, "Sombrero Rojo", 19097, 0, 1, 0, 1, 0},
{163, "Gorra Camionero", 18961, 0, 1, 0, 1, 0},
{164, "Calavera", 1254, 0, 1, 0, 1, 0},
{165, "Placa TikTok", 1253, 0, 1, 0, 1, 0},
{166, "Mascara", 19036, 0, 1, 0, 1, 0},
{167, "Chaleco", 19904, 0, 1, 0, 1, 0},
{168, "Chaleco Mafia", 19142, 0, 1, 0, 1, 0},
{169, "Sombrero Paja", 19553, 0, 1, 0, 1, 0},
{170, "Bolsa Dinero", 1550, 0, 1, 0, 1, 1},
{171, "C4", 1252, 0, 1, 0, 1, 1},
{172, "Rueda", 1098, 0, 1, 0, 1, 0},
{173, "Rueda", 1080, 0, 1, 0, 1, 0},
{174, "Rueda", 1078, 0, 1, 0, 1, 0},
{175, "Escoba", 19622, 0, 1, 0, 1, 0},
{176, "Dinero negro", 1212, 0, 1, 0, 20000, 1},
{177, "Dinero", 1212, 0, 1, 0, 99999999, 1},
{178, "Dinero negro", 1212, 0, 1, 0, 70000, 1},
{179, "Dinero negro", 1212, 0, 1, 0, 100000, 1},
{180, "Dinero negro", 1212, 0, 1, 0, 150000, 1},
{181, "Marihuana", 1578, 0, 1, 0, 50, 1},
{182, "Marihuana", 1578, 0, 1, 0, 100, 1},
{183, "Medicamentos", 11736, 0, 1, 0, 20, 1},
{184, "Medicamentos", 11736, 0, 1, 0, 100, 1},
{185, "Troncos", 1463, 0, 1, 0, 100, 1},
{186, "Mueble", 1814, 0, 1, 0, 100, 1},
{187, "Tronco", 19793, 0, 1, 0, 1, 1},
{188, "Mueble", 1814, 0, 1, 0, 1, 1},
{189, "Bolsa Dinero Negro", 1550, 0, 1, 0, 1, 1},
{190, "C. Dinamitas", 3800, 0, 1, 0, 5, 1},
{191, "Cargamento Dinero Negro", 3799, 0, 1, 0, 4, 1},
{192, "C. Chalecos", 3799, 0, 1, 0, 4, 1},
{193, "Hierro", 905, 0, 1, 0, 3, 1},
{194, "Vendas", 11736, 0, 1, 0, 5, 1},
{195, "Desert Oro", 348, 24, 1, 0, 9999, 0},
{196, "Cargador Desert Oro", 19995, 0, 1, 0, 9999, 0},
{197, "Cabeza Sangrienta", 2908, 0, 1, 0, 1, 0},
{198, "Cabeza Dragon", 3528, 0, 1, 0, 1, 0},
{199, "Pilar Calavera", 3524, 0, 1, 0, 1, 0},
{200, "Mochila", 3026, 0, 1, 0, 600, 1},
{201, "Globo", 19333, 0, 1, 0, 1, 0},
{202, "Gorra Camionero", 18961, 0, 1, 0, 1, 0},
{203, "Loro", 19079, 0, 1, 0, 1, 0},
{204, "Casco", 18977, 0, 1, 0, 1, 0},
{205, "Casco Luces", 18646, 0, 1, 0, 1, 0},
{206, "Gorra Pizzero", 19558, 0, 1, 0, 1, 0},
{207, "Sombrero Claro", 19095, 0, 1, 0, 1, 0},
{208, "Madera Fuego", 19632, 0, 1, 0, 1, 0},
{209, "Diablo", 6865, 0, 1, 0, 1, 0},
{210, "Granjero", 19553, 0, 1, 0, 1, 0},
{211, "Vaquero Negro", 19096, 0, 1, 0, 1, 0},
{212, "Bate", 2045, 0, 1, 0, 1, 0},

{213, "9mm L", 346, 22, 1, 0, 80, 0, 1},
{214, "Desert Eagle L", 348, 24, 1, 0, 90, 0, 1},
{215, "Escopeta L", 349, 25, 1, 0, 120, 0, 1},
{216, "Escopeta De Combate L", 351, 27, 1, 0, 120, 0, 1},
{217, "MP5 L", 353, 29, 1, 0, 450, 0, 1},
{218, "AK47 L", 355, 30, 1, 0, 390, 0, 1},
{219, "M4 L", 356, 31, 1, 0, 400, 0, 1},

{220, "Cargador De Deagle L", 19995, 0, 1, 0, 90, 0},
{221, "Cargador De MP5 L", 19995, 0, 1, 0, 450, 0},
{222, "Cargador De AK47 L", 19995, 0, 1, 0, 390, 0},
{223, "Cargador De M4 L", 19995, 0, 1, 0, 400, 0},
{224, "Cargador De Escopeta L", 19995, 0, 1, 0, 120, 0}, 
{225, "Chaleco L", 19142, 0, 1, 0, 100, 1, 1},

{226, "AK47 Zafiro", 355, 30, 1, 0, 9999, 0},
{227, "M4 Zafiro", 356, 31, 1, 0, 9999, 0},
{228, "DK Zafiro", 348, 24, 1, 0, 9999, 0},
{229, "EDC Zafiro", 351, 27, 1, 0, 9999, 0},

{230, "Afro", 18975, 0, 1, 0, 1, 0},
{231, "Sombrero Lentes", 19136, 0, 1, 0, 1, 0},
{232, "Casco Morado", 18979, 0, 1, 0, 1, 0},
{233, "Mascara Diablo", 11704, 0, 1, 0, 1, 0},
{234, "Regalo Blanco", 19054, 0, 1, 0, 1, 0},
{235, "Calavera", 1254, 0, 1, 0, 1, 0},
{236, "Logo", 18749, 0, 1, 0, 1, 0},
{237, "Lingote", 1274, 0, 1, 0, 1, 0},

{238, "Jet", 1681, 0, 1, 0, 1, 0},
{239, "Caldero", 19527, 0, 1, 0, 1, 0},
{240, "Arbolito", 19076, 0, 1, 0, 1, 0},
{241, "Gallo", 16776, 0, 1, 0, 1, 0},
{242, "Casco Seguridad", 18638, 0, 1, 0, 1, 0},

{243, "Gorra Negra", 18941, 0, 1, 0, 1, 0}, //Gorras hacer mas son mismo atach
{244, "Gorra Gris", 18942, 0, 1, 0, 1, 0}, //Gorras hacer mas son mismo atach
{245, "Gorra Verde", 18943, 0, 1, 0, 1, 0}, //Gorras hacer mas son mismo atach
{246, "Gorro Negro", 18965, 0, 1, 0, 1, 0}, 
{247, "Panuelo", 18912, 0, 1, 0, 1, 0}, // Hacer mas son mismo atacha 
{248, "Panuelo", 18913, 0, 1, 0, 1, 0}, // Hacer mas son mismo atacha
{249, "Panuelo", 18914, 0, 1, 0, 1, 0}, // Hacer mas son mismo atacha
{250, "Panuelo", 18915, 0, 1, 0, 1, 0}, // Hacer mas son mismo atacha
{251, "Panuelo", 18916, 0, 1, 0, 1, 0}, // Hacer mas son mismo atacha
{252, "Panuelo", 18917, 0, 1, 0, 1, 0}, // Hacer mas son mismo atacha
{253, "Panuelo", 18918, 0, 1, 0, 1, 0}, // Hacer mas son mismo atacha
{254, "Panuelo", 18919, 0, 1, 0, 1, 0}, // Hacer mas son mismo atacha
{255, "Tumbadota", 18961, 0, 1, 0, 1, 0},
{256, "Materiales", 2060, 0, 1, 0, 99999999, 1},
{257, "Lucky Block", 19056, 0, 1, 0, 2, 1},
{258, "Parlante", 2226, 0, 1, 0, 1, 1},

{259, "Gorra de lado", 18939, 0, 1, 0, 1, 0},
{260, "Gorra de lado", 18941, 0, 1, 0, 1, 0},
{261, "Gorra de lado", 18942, 0, 1, 0, 1, 0},
{262, "Gorra de lado", 18940, 0, 1, 0, 1, 0},
{263, "Gorra de lado", 18943, 0, 1, 0, 1, 0},

{264, "Lentes", 19138, 0, 1, 0, 1, 0},
{265, "Lentes", 19139, 0, 1, 0, 1, 0},
{266, "Lentes", 19140, 0, 1, 0, 1, 0},

{267, "Salchicha", 19346, 0, 1, 0, 1, 0},
{268, "Bolsa atraco", 11745, 0, 1, 0, 1, 0},

{269, "Fuego derecho", 18693, 0, 1, 0, 1, 0},
{270, "Fuego Izquierdo", 18693, 0, 1, 0, 1, 0},
{271, "Vaquero negro", 18639, 0, 1, 0, 1, 0},
{272, "Ciervo", 1736, 0, 1, 0, 1, 0},
{273, "Pizza", 2702, 0, 1, 0, 1, 0},
{274, "Minigun", 362, 38, 1, 0, 9999, 0},
{275, "RPG", 359, 35, 1, 0, 9999, 0},
{276, "HS Rocket", 369, 36, 1, 0, 9999, 0},
{277, "Flamethrower", 361, 37, 1, 0, 9999, 0},

{278, "Poli", 3092, 0, 1, 0, 1, 0},
{279, "Sombrero elegante", 19352, 0, 1, 0, 1, 0},
{280, "Chaleco constructor", 19904, 0, 1, 0, 1, 0}
};

//Accesorios
enum Toys_Info
{
    IDObjetot,
    shop_toy_model[45],
	shop_toy_modelid,
	IDArma,
	Guardable,
	Arrojadizo,
	Capacidad,
	Consumible,
	shop_toy_price_base,
	shop_toy_price,
}
new Toys_Shop[][Toys_Info] =
{
    {128, "Pollo", 19137, 0, 1, 0, 1, 0, 200000, 0},
    {127, "Cometa", 2469, 0, 1, 0, 1, 0, 800000, 0},
    {129, "Cuernos", 19314, 0, 1, 0, 1, 0, 600000, 0},
    {154, "Guitarra", 19317, 0, 1, 0, 1, 0, 40000, 0},
    {149, "Totem", 1276, 0, 1, 0, 1, 0, 1600000, 0}, 
    {152, "Tiburon", 1608, 0, 1, 0, 1, 0, 1200000, 0},
    {204, "Casco Rojo", 18977, 0, 1, 0, 1, 0, 20000, 0},
    {205 , "Casco Luces", 18046, 0, 1, 0, 1, 0,400000, 0},
    {206, "Gorro pizza",19558, 0, 1, 0, 1, 0, 25000, 0},
    {207, "Sombrero claro",19095 , 0, 1, 0, 1, 0, 350000, 0},
    {208, "Madera fuego",19632, 0, 1, 0, 1, 0, 1250000, 0},
    {209, "Diablo black", 6865, 0, 1, 0, 1, 0, 1000000, 0},
    {211, "Vaquero negro",19096, 0, 1, 0, 1, 0, 550000, 0},
    {212, "Megabate",2045, 0, 1, 0, 1, 0, 400000, 0},
    
    {238, "Jet",1681, 0, 1, 0, 1, 0, 450000, 0},
    {230, "Afro",18975, 0, 1, 0, 1, 0, 40000, 0},
    {198, "Dragon",3528, 0, 1, 0, 1, 0, 8000000, 0}
};

// Array con IDs de objetos que pueden aparecer en basureros
new ItemsBasuraRandom[] = {
    55, 56, 57, 58, 59, 60, 69, 109, 110, 112, 172, 175, 194, 212
};

#define 	MAX_FABRICAS        50

new ClimaActual;

#define DIALOG_ACEPTAR_PEDIDO 6653
#define DIALOG_G_FABRICA 6654
enum FabricasMeta
{
    pMapIcon,
	pID,
	pPropietario[128],
	Float:pEntradaX,
	Float:pEntradaY,
	Float:pEntradaZ,
	Float:pSalidaX,
	Float:pSalidaY,
	Float:pSalidaZ,
	Float:pEntradaA,
	Float:pEntradaGX,
	Float:pEntradaGY,
	Float:pEntradaGZ,
	Float:pEntradaGA,
	pTanque[9],
	Float:pSalidaGX,
	Float:pSalidaGY,
	Float:pSalidaGZ,
	Almacen[10],
	Meta[20],
	pCantidadDinero,
	pRecortada,
	pSniper,
	pUzi,
	pTec9,
	TiempoSoborno,
	RojoPick,
	pBanda,
	pVW,
	pInt,
	pChalecos,
	pEnVenta,
	Text3D:pLabel,
	Text3D:pLabel2,
	Text3D:pLabel3,
	Text3D:pLabel4,
	Text3D:pLabel5,
	Text3D:Cocinero[5],
	pEnVentaPor,
	pRecorrido,
	pPickup,
	pPickupSalida,
	pValor,
	pEnUso,
	Text3D:LTanque[9],
	Text3D:olla[3],
	pPuerta,
	tMoney,
	humo[3],
	Crisol[3],
	Porcentaje[3],
	CargoCamionetas,
	Auto1F,
	Auto2F,
	Bolso[75],
	Chalecos[32],
	bolsospagados,
	EscoObjetos[10],
	SniperObjetos[10],
	Tec9Objetos[10],
	UziObjetos[10],
	PorcentajeCocinero[5],
	StatoCuoco[5],
	Bloque[5],
	Termino[5],
	ActorFabrica[11],
	TieneActor[11],
	EstadoActor[11],
	pProduccionEstado,    // 0: Apagado, 1: Cocinando, 2: Terminado
    Float:pProduccionMeta, // El porcentaje de 0.0 a 100.0
    pCantidadBolsas,      // Mercancía lista
	Text3D:pLabelTanques[3],
    Text3D:pLabelCocineros[4],
    Text3D:pLabelCajas[5],
    pQuimicos
};
new Fabricas[MAX_FABRICAS][FabricasMeta];

new BarrilVehiculo[MAX_VEHICLES]; // Cantidad de barriles en el auto
new ObjBarrilVehiculo[MAX_VEHICLES][5]; // IDs de los objetos pegados al auto
new PickupProveedorQ[3];
// Configuración de los proveedores (X, Y, Z, A, Cantidad, Precio, Skin)
static const Float:InfoActoresQ[3][7] = {
    {-1626.1145, -2692.1223, 48.7426, 149.0037, 30.0,  100000.0, 28.0}, // Pedido 0
    {-1976.8629, -2433.7983, 30.6250, 115.7298, 50.0, 150000.0, 29.0}, // Pedido 1
    {-2217.1535, -2280.9616, 30.6250, 319.3753, 150.0, 220000.0, 141.0} // Pedido 2
};

static const Float:BodegaEntregaQ[][] = {
    {1393.8236, -29.6433, 1000.9615}, // Pos 0
    {1390.4539, -29.8449, 1000.9615}, // Pos 1
    {1386.4923, -30.1120, 1000.9615}, // Pos 2
    {1383.1325, -29.7254, 1000.9615}  // Pos 3
};

#define MAX_COMPRADORES 3

enum enum_Compradores {
    cID,
    cNombre[32],
    cSkin,
    Float:acX,
    Float:acY,
    Float:acZ,
    Float:cA,
    bool:cActivo,
    cTiempo,
    cActorID,
    Text3D:cLabel
}

new CompradoresInfo[MAX_COMPRADORES][enum_Compradores] = {
    {0, "El Chino", 29, 2721.7744, -2214.4243, 13.5468, 178.5710, false, 0, -1, Text3D:-1},
    {1, "Don Carlos", 159, 2505.8503, -2637.4421, 13.6470, 356.6831, false, 0, -1, Text3D:-1},
    {2, "La Patrona", 150, 2430.4282, -2462.4436, 13.6298, 317.0806, false, 0, -1, Text3D:-1}
};

// Coordenadas de las cajas dentro de la fábrica para CARGAR
static const Float:PosCajasCargar[][] = {
    {1413.8179, -22.5885, 1000.9615},
    {1412.7058, -25.9258, 1000.9615},
    {1390.7039, -29.9370, 1000.9615},
    {1387.3239, -30.3500, 1000.9615},
    {1383.0504, -30.1439, 1000.9615}
};

new VentaActorSeleccionado[MAX_PLAYERS]; // Guarda el ID del comprador elegido
new CajasCargadas[MAX_PLAYERS];         // Cajas que ya subió a la camioneta
new CajasEntregadas[MAX_PLAYERS];       // Cajas que ya bajó frente al actor
new ObjetoCajaSuelo[MAX_PLAYERS][3];    // IDs de los objetos de caja que aparecen en el suelo
new ObjCajasVehiculo[MAX_VEHICLES][3]; // Para guardar los IDs de los objetos pegados al vehículo

new palabras[][] = { //Palabras que detectará el antispam cómo spam directo/indirecto, si lo colocan lo enviara a los admins
	"mcity",
	"megacity",
	"fenixzone",
	"fz",
	"zone",
	"alphazone",
	"megaroleplay",
	"luxuszone",
	"luxusrp",
	"deluxzone",
	"deluxezone",
	"viperzia",
	"worldturns",
	"sobeit",
	"linex",
	"efeseta",
	"oseta",
	"unplayer",
	"roleplay",
	"Tokyo",
	"NewPlay",
	"Medallo",
	"SD",
	"Droid",
	"Droids",
	"Gamas",
	"Gama",
	"Mierda este",
	"Una mierda este",
	"Es una mierda este",
	"Antrax",
	"antrax",
	"sv"
};

#define function%0(%1) forward %0(%1); public %0(%1)

new bool:dmgInfoState[MAX_PLAYERS];

new online;

new /* Valores por defecto si no se puede cargar de ECO.txt */
	Float:MULTIPLIER_PROPERITES =	8.00,
	Float:MULTIPLIER_VEHICLES 	=	1.00,
	Float:MULTIPLIER_TOYS		=	8.00,
	Float:MULTIPLIER_SKINS		=	8.00,
	Float:MULTIPLIER_WEAPONS	=	7.00,
	SU_SD_PRICE					=	15,
	SU_WORK_EXTRA_PAY			=	450,
	SU_VIP_2					= 	9,
	CHANGE_NAME_SD_PRICE		=	20;

// Buffer format MySQL Querys
new QUERY_BUFFER[4096];

#define COLOR_AMARILLO_HTML "{FFFF00}"
#define COLOR_BLANCO_HTML   "{FFFFFF}"
#define MAX_BOLSAS_D 5
#define COLOR_AMARILLO		0xFEE639FF
#define COLOR_BLANCO        -1
#define COLOR_ROJO_NORMAL   0xE95500FF
#define COLOR_GRIS          0xC9C9C9FF
#define FACCION_LSPD        (1)
#define COLOR_RADIO         0x45B6D5FF
#define COLOR_ROL_ME        0xFF669FFF
#define COLOR_VERDE         0x73A100FF

#define MAX_BASUREROS 100 // Ajusta según necesites

enum enum_BASUREROS
{
    ba_DB_ID,
    Float:ba_X, 
    Float:ba_Y, 
    Float:ba_Z,
    Float:ba_RX, 
    Float:ba_RY, 
    Float:ba_RZ,
    // Cambiamos la forma de declarar los items:
    ba_INV_ID[10],    // Almacena los IDs de los 10 objetos
    ba_INV_CANT[10],  // Almacena las cantidades de los 10 objetos
    ba_OBJETO_ID,
    Text3D:ba_LABEL,
    ba_PICKUP
};
new BasureroData[MAX_BASUREROS][enum_BASUREROS];
new TotalBasureros = 0;

#define MAX_NEGOCIOS 100
#define PATH_NEGOCIO "/Negocios/%d.ini"

// Tipos de negocio
enum {
    TIPO_24_7,
    TIPO_RESTAURANTE,
    TIPO_AMUNNATION,
    TIPO_BAR
}

enum n_info {
    n_Precio,
    n_Tipo,
    n_Owner[MAX_PLAYER_NAME],
    bool:n_Comprado,
    bool:n_Cerrado,
    n_Mercancia,
    n_Caja,
    Float:n_EntradaX,
    Float:n_EntradaY,
    Float:n_EntradaZ,
    Float:n_EntradaA,
    Float:n_SalidaX,
    Float:n_SalidaY,
    Float:n_SalidaZ,
    n_Interior,
    // Variables de control (no se guardan)
    n_PickupEntrada,
    n_PickupSalida,
    n_PickupVenta,
    Text3D:n_Label,
    n_MapIcon
}

new NI[MAX_NEGOCIOS][n_info];


// Rutas Tipo 1 (24/7 - Ciudad)
new Float:Rutas247[3][3] = {
    {2104.5, -1806.5, 13.5}, // Idlewood 24/7
    {1001.0, -919.5, 42.3},  // Market 24/7
    {1352.3, 278.2, 19.5}    // Mullholand 24/7
};

// Rutas Tipo 2 (Troncos - Desierto)
new Float:RutasDesierto[2][3] = {
    {-1461.2, 2590.1, 55.8}, // El Quebrados
    {-188.1, 1110.5, 19.7}   // Fort Carson
};


new
    LotteryTimeLeft = 0,         // Tiempo restante para el PROXIMO sorteo (en segundos)
    WinningNumber = -1,          // El número ganador aleatorio (0-100)
    LotteryActive = 0;           // 1 = La ronda de adivinanza está abierta.

// ===================================
// CONSTANTES DEL SORTEO
// ===================================
#define LOTTERY_DURATION (30 * 60) // Duración del ciclo del sorteo (30 minutos)
#define LOTTERY_PRIZE 5000         // Cantidad de dinero que ganará el afortunado
#define CHAT_COLOR 0x66C4E4FF      // Color de los mensajes de sorteo (Celeste Twitter)
#define WINNER_COLOR 0x00FF00FF    // Color para el ganador (Verde)

//Spotify TextDraws
enum E_PLAYER_SPOTIFY
{
	e_iMusicSelect,
	e_iGenderSelect,
	bool:e_bListenMusic,

};
new PLAYER_SPOTIFY[MAX_PLAYERS][E_PLAYER_SPOTIFY];

// Esto crea una reserva de espacio para guardar la posición X, Y, Z de cada jugador
new Float:UltimaPos[MAX_PLAYERS][3]; 

#define MAX_PUNTOS_ALQUILER 100

enum pAlquilerInfo {
    al_ID,
    al_Creado,
    Float:al_X,
    Float:al_Y,
    Float:al_Z,
    Float:al_A,
    // Elementos visuales
    al_Pickup,
    Text3D:al_Label
};
new PuntosAlquiler[MAX_PUNTOS_ALQUILER][pAlquilerInfo];

enum pinfo {
    pi_AptoID,
    pi_AptoTiempo,
    Float:pi_AptoExX,
    Float:pi_AptoExY,
    Float:pi_AptoExZ,
    Float:pi_AptoExA,
    pi_AptoPickupEx,
    Text3D:pi_AptoLabelEx,
    
    pi_AptoPickupRopero,   // NUEVO: Ropero
    Text3D:pi_AptoLabelRopero,
    pi_AptoPickupCaja,     // NUEVO: Caja Fuerte
    Text3D:pi_AptoLabelCaja,
    
    pi_AptoSkin1,
    pi_AptoSkin2,
    pi_CajaID[10],
    pi_CajaCant[10],
    pi_AptoCooldown
};
new APA[MAX_PLAYERS][pinfo];

#define DIALOG_RENTAR_APTO    12500
#define DIALOG_ROPERO          12501
#define DIALOG_CAJA_FUERTE     12502


// LOGROS 
#define MAX_LOGROS 100
new LogrosJugador[MAX_PLAYERS][100]; 
enum pLogroInfo {
    lNombre[64],
    lDescripcion[64], // <--- Lo que el jugador debe hacer
    lDinero,
    lGemas,
    lObjetoID
}

new const InfoLogros[][pLogroInfo] = {
    // --- SOCIAL Y BÁSICOS ---
    {"Bienvenido", "Entra al servidor por primera vez", 500, 0, -1},
    {"Ciudadano Fiel", "Juega tus primeras 5 horas", 2000, 0, -1},
    {"Imagen Renovada", "Cómprate una skin nueva", 200, 0, -1},
    {"Estilo Propio", "Compra tu primera prenda de ropa", 150, 0, -1},

    // --- TRABAJOS ---
    {"Primer Empleo", "Consigue tu primer empleo", 300, 0, -1},
    {"Camionero", "Completa 1 ruta de carga", 1500, 2, -1},

    // --- vehiculoS ---
    {"Mi Primer Motor", "Compra tu primer vehiculo", 0, 5, -1},
    {"A Toda Velocidad", "Alcanza los 200 km/h en un auto", 500, 0, -1},

    // --- ECONOMÍA Y NEGOCIOS ---
    {"Emprendedor", "Compra tu primer negocio", 0, 2, -1},
    {"Magnate", "Genera $50,000 en ganancias de negocios", 5000, 2, -1},
    {"Dueño de Empresa", "Funda tu propia empresa", 0, 3, -1},

    // --- ILEGAL Y BANDAS ---
    {"Iniciado", "Únete a una banda criminal", 0, 5, -1},
    {"Ladrón de Barrio", "Roba tu primera tienda de 24/7", 1000, 0, -1},
    {"Ladron de Cajeros", "Roba con éxito un cajero automático", 2500, 0, -1},
    {"Químico Loco", "Produce tu primera dosis en el laboratorio", 0, 1, -1},
    {"Gran Productor", "Produce 100 unidades de mercancia", 5000, 1, -1},
    {"Respeto de Banda", "Participa en una guerra de territorios", 2000, 0, -1},
    {"Fuga Maestra", "Escapa de una persecución policial", 800, 0, -1},
    {"Arsenal", "Compra arma en el mercado negro", 2000, 0, -1},

    // --- INTERACCIÓN Y SALUD ---
    {"Glotón", "Come 20 Veces", 0, 0, 65},
    {"Hidratado", "Bebe 20 sodas", 200, 0, -1},
    {"Atleta", "Corre una distancia de 10km a pie", 1000, 5, -1},
    {"Nadador", "Nada por 15 minutos seguidos", 500, 2, -1},

    // --- LOGROS DE "DINI" Y SISTEMA ---
    {"Ficha Policial", "Ten tu primer cargo criminal", 0, 1, -1},
    {"Ex-Convicto", "Cumple una condena en la cárcel", 500, 0, -1},
    {"Donador", "Compra tu primer paquete VIP", 0, 2, -1},

    // --- MÁS IDEAS PERSONALIZADAS ---
    {"Francotirador", "Acierta un tiro a más de 100 metros", 1500, 2, -1},
    {"Manos de Seda", "Roba vehiculo sin ser detectado", 2000, 1, -1},
    {"Protector", "Únete a la facción de Policía", 0, 2, -1},
    {"Héroe sin Capa", "Reanima a un jugador herido (Médico)", 1500, 1, -1},
    {"Propiedad Privada", "Compra tu primera casa", 0, 2, -1},
    {"Veterano", "Alcanza el nivel 20 en el servidor", 10000, 100, -1}
};

#define DIALOG_LOGROS 9950 // Asegúrate de que este ID no esté usado

new
	bool:server_loaded,
	MySQL:srp_db,

	Float:New_User_Pos[4] = {1759.687744, -1893.562011, 13.555646, 273.521972},
	Lumberjack_Area,
	Farmer_Area,
	Harvest_Area,
	Jail_Areas[4];

new Float:Driving_School_Points[][] =
{
	{1091.089599, -1746.308593, 13.435119},
	{1167.535278, -1742.263427, 12.957903},
	{1171.846435, -1715.820312, 13.226259},
	{1038.348510, -1714.909545, 12.964056},
	{1034.545043, -1798.436279, 13.252917},
	{1067.375732, -1850.233520, 12.956840},
	{1171.302368, -1852.219238, 12.955949},
	{1173.417602, -1741.321655, 12.961367},
	{1099.110717, -1741.392456, 13.06539}
};

new ADMIN_COLOURS[][] =
{
	"cccccc",
	"f88888",
	"f15151",
	"f22222",
	"ff0000",
	"ff0000",
	"ff0000",
	"ff0000"
};

new Float:TruckLoadPoint[][] =
{
	{-520.48822, -502.04059, 25.26037, 0.0},
	{-529.98822, -502.04059, 25.26040, 0.0},
	{-557.48822, -502.04059, 25.26040, 0.0},
	{4471.7319, 5898.2646, 44.1051, 180.0},
	{4477.1011, 5898.2646, 44.1051, 180.0},
	{4481.8916, 5898.2646, 44.1051, 180.0}
};

#define PRESSED(%0) (((newkeys & (%0)) == (%0)) && ((oldkeys & (%0)) != (%0)))
#define RELEASED(%0) (((newkeys & (%0)) != (%0)) && ((oldkeys & (%0)) == (%0)))


/* Colores */
#define COLOR_FADE1 	0xE6E6E6E6
#define COLOR_FADE2 	0xC8C8C8C8
#define COLOR_FADE3 	0xAAAAAAAA
#define COLOR_FADE4 	0x8C8C8C8C
#define COLOR_FADE5 	0x6E6E6E6E
#define PLAYER_COLOR	0xCCCCCC00
#define SPECIAL_ACTION_PISSING 68

// Cargaditos 

new totalreferidos = 1;			//referidos
new totalmochilas = 0;			// mochilas

forward VerificarAguaFuego(playerid);
forward FuegoApagado(playerid);


forward FinalizarCarga(playerid, empresaid);
forward FinalizarEntrega(playerid); // Aprovecha y añade este también para evitar el siguiente warning

forward CheckLotteryTimer(); // <--- ¡Añade esta línea!
forward StartLottery();     // (Opcional) También es bueno declararla

new Text3D:tagname[MAX_PLAYERS];
new bool:EstaAutorizado[MAX_PLAYERS];
new bool:haveMask[MAX_PLAYERS];
// Coloca esta línea al inicio del script, junto a otros 'forward'
//forward guardar_objeto_en_mochila(playerid, backpackID, itemID, itemCant);
forward SacarCargos(playerid);

#define reg_int			cache_get_value_int
#define reg_float		cache_get_value_float
#define reg_string		cache_get_value_name

guardar_int_mysql(tabla[], columna[], id, monto)
{
	new query[210];
	mysql_format(srp_db, query, sizeof query, "UPDATE %s SET %s = '%d' WHERE ID = '%d'", tabla, columna, monto, id);
	mysql_tquery(srp_db, query);
	return 1;
}

main()
{
	print("--- > "SERVER_NAME", By AntraxXWxz && Gryr < --- ");

	discordGuild = DCC_FindGuildById( DISCORD_GENERAL );

    discordRoleDueno = DCC_FindRoleById( DISCORD_ROLE_Dueno );
    discordRoleModerador = DCC_FindRoleById( DISCORD_ROLE_Moderador );
    discordRoleModeradorG = DCC_FindRoleById( DISCORD_ROLE_ModeradorG );
    discordRoleUsuario = DCC_FindRoleById( DISCORD_ROLE_Usuario );
    
	Admin_Channel = DCC_FindChannelById( adminchannel );

    Security_Channel = DCC_FindChannelById( securitychannel );
    
    W_L = DCC_FindChannelById( puasabro );
    
    Est_Channel = DCC_FindChannelById( estachannel );
    

}


#define NEARS_PLAYERS_DISTANCE 4.0
enum {
	NEAR_PLAYERS_INV_GENERAL
};

// COORDENADAS DE LA CARRERA
#define CMD_AREA_X 2555.633789
#define CMD_AREA_Y -1851.066528
#define CMD_AREA_Z 3.853566
#define CMD_AREA_RANGE 10.0 // Distancia para usar el comando

#define FINISH_X 1971.233886
#define FINISH_Y -1848.017333
#define FINISH_Z 4.015795

// POSICIONES DE INICIO
#define START1_X 2556.158447
#define START1_Y -1847.471801
#define START1_Z 3.789054
#define START1_A 88.304389

#define START2_X 2556.604736
#define START2_Y -1853.849731
#define START2_Z 3.859375
#define START2_A 87.521995

new Float:SaludFuego[MAX_PLAYERS];
new CheckFuegoTimer[MAX_PLAYERS];

new Float:VidaAntesAFK[MAX_PLAYERS];
new Float:ChalecoAntesAFK[MAX_PLAYERS];

new Float:PosAntesAFK_X[MAX_PLAYERS];
new Float:PosAntesAFK_Y[MAX_PLAYERS];
new Float:PosAntesAFK_Z[MAX_PLAYERS];

new bool:GpsEmpresaActivo[MAX_PLAYERS];

new Text3D:ChatBubbleID[MAX_PLAYERS] = {Text3D:INVALID_3DTEXT_ID, ...};
new ChatBubbleTimer[MAX_PLAYERS] = {-1, ...};

enum r_info {
    r_Nombre[32],
    Float:r_X,
    Float:r_Y,
    Float:r_Z,
    r_Cantidad,
    r_PrecioCosto
}

new SuministrosRutas[5][r_info] = {
    {"Suministros Basicos", 712.564575, -569.312866, 16.33593, 10, 25000},
    {"Cargamento Mediano", 239.932983, -242.476684, 1.578125, 30, 40000},
    {"Importación Textil",1423.418457, 274.671722, 19.554687, 50, 55000},
    {"Suministros Industriales", 2408.260253, 91.679306, 26.473726, 70, 80000},
    {"Cargamento Premium", -82.177345, 1082.334716, 19.742187, 100, 120000}
};

new EnRutaSuministros[MAX_PLAYERS]; // ID del negocio
new TipoRutaSeleccionada[MAX_PLAYERS]; // ID de la ruta (0-4)
new bool:CargandoMercancia[MAX_PLAYERS];

enum p_info {
    p_Nombre[32],
    p_Precio,
    p_MercanciaCosto, 
    p_ID_Objeto 
}

new ProductosNegocio[4][10][p_info] = {
    // TIPO 0: 24/7 (Ganancia moderada por volumen)
    {
        {"Galletas", 8500, 3, 55},    // Costo merc: 7,500 | Gana: 1,000
        {"Patatas", 8500, 3, 56},     // Costo merc: 7,500 | Gana: 1,000
        {"Nachos", 8800, 3, 57},      // Costo merc: 7,500 | Gana: 1,300
        {"Gaseosa", 11000, 4, 58},    // Costo merc: 10,000 | Gana: 1,000
        {"Bidon", 25000, 8, 112},     // Costo merc: 20,000 | Gana: 5,000
        {"Botiquin", 35000, 10, 113}, // Costo merc: 25,000 | Gana: 10,000
        {"", 0, 0, 0}, {"", 0, 0, 0}, {"", 0, 0, 0}, {"", 0, 0, 0}
    },
    // TIPO 1: Restaurante (Ganancia por servicio)
    {
        {"Hamburguesa", 12500, 4, 65},  // Costo merc: 10,000 | Gana: 2,500
        {"Pizza", 15500, 5, 66},        // Costo merc: 12,500 | Gana: 3,000
        {"Coca-cola", 22000, 8, 60},    // Costo merc: 20,000 | Gana: 2,000
        {"Fanta", 22000, 8, 59},        // Costo merc: 20,000 | Gana: 2,000
        {"Agua", 15000, 5, 58},         // Costo merc: 12,500 | Gana: 2,500
        {"Combo Pizza", 16000, 5, 66},  // Costo merc: 12,500 | Gana: 3,500
        {"Hamburguesa D", 18500, 6, 65},// Costo merc: 15,000 | Gana: 3,500
        {"", 0, 0, 0}, {"", 0, 0, 0}, {"", 0, 0, 0}
    },
    // TIPO 2: Ammu-Nation (Artículos de lujo/alto riesgo)
    {
        {"9mm", 45000, 15, 19},     // Costo merc: 37,500 | Gana: 7,500
        {"Escopeta", 85000, 30, 22}, // Costo merc: 75,000 | Gana: 10,000
        {"Chaleco", 35000, 10, 73},  // Costo merc: 25,000 | Gana: 10,000
        {"", 0, 0, 0}, {"", 0, 0, 0}, {"", 0, 0, 0}, {"", 0, 0, 0}, {"", 0, 0, 0}, {"", 0, 0, 0}, {"", 0, 0, 0}
    },
    // TIPO 3: Bar (Margen de ganancia alto por unidad)
    {
        {"Cerveza", 9000, 3, 61},   // Costo merc: 7,500 | Gana: 1,500
        {"Vino", 18500, 6, 62},     // Costo merc: 15,000 | Gana: 3,500
        {"Whisky", 19500, 6, 63},   // Costo merc: 15,000 | Gana: 4,500
        {"Ron", 16500, 5, 64},      // Costo merc: 12,500 | Gana: 4,000
        {"Fernet", 14000, 4, 70},   // Costo merc: 10,000 | Gana: 4,000
        {"Tequila", 14500, 4, 72},  // Costo merc: 10,000 | Gana: 4,500
        {"Gaseosa", 18000, 6, 58},  // Costo merc: 15,000 | Gana: 3,000
        {"", 0, 0, 0}, {"", 0, 0, 0}, {"", 0, 0, 0}
    }
};

#define MAX_LABORATORIOS 50
#define PATH_LABS "Laboratorios/Lab_%d.ini"

enum lab_info {
    l_ID,
    l_Precio,
    l_Owner[MAX_PLAYER_NAME],
    l_Nombre[64],
    Float:l_PosX,
    Float:l_PosY,
    Float:l_PosZ,
    l_Mercancia,
    l_Materiales,
    l_Caja,
    bool:l_Comprado,
    bool:l_Cerrado,
    // Variables de control
    l_Pickup,
    Text3D:l_Label,
    l_MapIcon
}
new LI[MAX_LABORATORIOS][lab_info];
new Iterator:Laboratorios<MAX_LABORATORIOS>; // Para procesar solo los existentes

new UsandoPickup[MAX_PLAYERS]; 

enum E_DATOS_PRODUCCION {
    objID,          // ID del objeto en tu ObjetoInfo
    matCost,        // Materiales que el usuario entrega de su mano
    merCost,        // <--- NUEVA: Mercancía que se le resta al Lab del dueño
    pagaUser,       // Dinero que el lab le paga al usuario
    Float:posX1,    
    Float:posY1,    
    Float:posZ1
}


new ProduccionLab[5][E_DATOS_PRODUCCION] = {
    // Objeto | Mat | Mercancía | Paga | X | Y | Z
    {79,  120, 40, 2000, -0.674094, 1109.234252, 19.726181}, // M4 (Gasta 50 merc)
    {81,  160, 60, 1500, 578.241943, 1221.977172, 11.711267}, // DKS (Gasta 40 merc)
    {190, 110, 40, 1200, -749.912048, 1448.450927, 16.034305}, // Dinamita (Gasta 30 merc)
    {74,  130, 30, 800,  637.673095, 1686.186889, 6.992187},  // Cocaína (Gasta 20 merc)
    {192, 150, 45, 1300, -1204.521362, 1838.931396, 41.71875}  // Chaleco (Gasta 45 merc)
};



enum E_TRABAJADOR_DATA {
    tTrabajando,     // 0: Nada, 1: Yendo a entregar, 2: Regresando por paga
    tLabID,          // De qué laboratorio sacó la droga
    tRutaID          // Qué ruta de las 6 eligió
}
new PTD[MAX_PLAYERS][E_TRABAJADOR_DATA];


new Text3D:LabelNombre[MAX_PLAYERS] = {Text3D:INVALID_3DTEXT_ID, ...};

new IncendiosApagados[MAX_PLAYERS];
new SegundosNadando[MAX_PLAYERS];
new PlayerEntradaDelay[MAX_PLAYERS];

new PlayerText:TD_TextoCarga[MAX_PLAYERS];

new PlayerText:TD_Cargando[MAX_PLAYERS];

// Configuración
#define MAX_RUTAS_LAB 5

// Enumerador para el estado del jugador
enum E_PLAYER_LAB_DATA {
    pTrabajando,     // 0: Nada, 1: Yendo, 2: Regresando
    pLabID,          // ID del laboratorio vinculado
    pRutaID          // Qué ruta de las 5 eligió
}
new PLD[MAX_PLAYERS][E_PLAYER_LAB_DATA];

// Array de Coordenadas de las 5 Rutas (X, Y, Z)
new Float:RutasSuministros[MAX_RUTAS_LAB][3] = {
    {-83.528907, -1174.100830, 2.146989}, // Ruta 0
    {-83.528907, -1174.100830, 2.146989}, // Ruta 1
    {-83.528907, -1174.100830, 2.146989},  // Ruta 2
    {-83.528907, -1174.100830, 2.146989}, // Ruta 3
    {-83.528907, -1174.100830, 2.146989}     // Ruta 4
};

// Cantidad de mercancía según la ruta
new CantidadMercaRuta[MAX_RUTAS_LAB] = {20, 40, 50, 80, 110};


new bool:RutaFinalBomberos[MAX_PLAYERS];
new ObjetoFuego[MAX_PLAYERS][4]; // Ahora guardamos 4 IDs de objetos por jugador
// Para el efecto visual del fuego

new Float:PosIncendios[][3] = {
    {2146.757812, -1433.310791, 25.539062}, 
    {2101.107666, -1362.988769, 23.984375}, 
    {2096.181152, -1277.648681, 25.493057}, 
    {2231.068603, -1333.280883, 23.981559}, 
    {2350.699707, -1412.329467, 23.992427}, 
    {2395.349609, -1505.582519, 23.83486}, 
    
    {2471.902099, -1736.645751, 13.382812},
    {2373.088867, -1912.037353, 13.382812},
    {2062.512207, -1907.775024, 13.546875,},
    {2097.955566, -1806.463134, 13.55402}
    
};

// Coordenadas para San Fierro
new Float:PosIncendiosSF[][3] = {
    { -2024.0, 67.0, 28.0 }, // Ejemplo: Cerca del Garaje de CJ en SF
    { -2521.0, -622.0, 132.0 }, // Ejemplo: Cerca de la antena
    { -1711.0, 1345.0, 7.0 }, // Agrega aquí todas las que quieras para SF
    
    { -1970.089599, 303.298278, 35.171875},
    { -2203.678955, 576.391113, 35.171875 },
    { -2442.941894, 748.606689, 35.171875 },
    { -2377.905517, 909.905151, 45.445312 },
    { -2360.067871, 1008.113647, 50.695312 },
    { -2671.614746, 262.957244, 4.632812 },
    { -2333.396484, -169.820343, 35.320312}
};

// Coordenadas para Las Venturas
new Float:PosIncendiosLV[][3] = {
    { 1690.0, 1448.0, 10.0 }, // Ejemplo: Cerca del casino
    { 2115.0, 2375.0, 10.0 }, // Ejemplo: El Visage
    { 1460.0, 2634.0, 10.0 }, // Agrega aquí todas las que quieras para LV
    
    { 2415.667724, 1065.617553, 10.820312 },
    { 2088.924316, 1449.991577, 10.820312 },
    { 2517.662597, 1178.557373, 10.820312 },
    { 1653.827026, 1733.335327, 10.820312 },
    { 1592.970458, 2192.243408, 10.820312 },
    { 1063.889404, 2386.479248, 10.820312 }
};

// Variable para saber qué zona eligió el jugador
new ZonaIncendio[MAX_PLAYERS]; // 0: LS, 1: SF, 2: LV



// DIALOGO Y SONIDO
#define DIALOG_RACE_ACCEPT 600
#define RACE_SOUND_ID 1056 // ID de sonido "Siren" (ejemplo común)

// ENUM para manejar el estado de la carrera
enum E_RaceState {
    race_PLAYER1,     // ID del jugador que reta (Challenger)
    race_PLAYER2,     // ID del jugador retado (Challenged)
    race_BET,         // Cantidad de la apuesta
    race_ACTIVE,      // 0 = Desafío, 1 = Carrera activa
    race_TIMER_ID,    // ID del Timer de la cuenta regresiva
    race_WINNER       // 0 = Pendiente, 1 = Ganador, 2 = Perdedor (Para lógica)
};

// *****************************************************************
// IMPORTANTE: Se usa sizeof(E_RaceState) para obtener el tamaño correcto.
// *****************************************************************
// Definición del tamaño del enum (colócalo junto a las demás definiciones)
#define RACE_STATE_SIZE 6
#define CELL_SIZE 4


// Luego, en la declaración del array:
new RaceState[2][RACE_STATE_SIZE]; 


// Variable para rastrear quién está en la carrera
new IsPlayerInRace[MAX_PLAYERS] = {0, ...};

// Declaración de los forwards para el timer
forward TimerPlayer(playerid);
forward RaceCountdown(count_val); // <-- Asegúrate que aquí diga 'count_val'
forward EndRace(winnerid, loserid, bet_amount);

forward OnNearPlayerSelected(playerid, to_player, id);
forward OnPriceSelected(playerid, price, id);
forward OnAmountSelected(playerid, amount, id);
forward OnPlayerEnterInterior(playerid, index);
forward OnPlayerExitInterior(playerid, index);

enum
{
	CHEAT_WEAPON,
	CHEAT_AMMO,
	CHEAT_CAR_MOD,
	CHEAT_VEHICLE_SPEED_HACK,
	CHEAT_POS,
	CHEAT_TEXT_SPAMMER,
	CHEAT_COMMAND_SPAMMER,
	CHEAT_DEATH_SPAMMER,
	CHEAT_STATE_SPAMMER,
	CHEAT_VEHICLE_ENTER_SPAMMER,
	CHEAT_JETPACK,
	CHEAT_PLAYER_SPEED,
	CHEAT_PLAYER_HEALTH,
	CHEAT_PLAYER_ARMOUR,
	CHEAT_VEHICLE_HEALTH,
	CHEAT_PLAYER_VEHICLE_WORK, //Entra a un vehiculo que no es de su trabajo
	CHEAT_PLAYER_VEHICLE_DOORS,
	CHEAT_VEHICLE_NOFUEL,
	CHEAT_SPECTATE,
	CHEAT_UNDETECTED_WEAPON,
	CHEAT_UNOCCUPIED_VEHICLE_TP,
	CHEAT_HIGH_POS,
	CHEAT_CAR_JACKING,
	CHEAT_FAKE_TRAILER_SYNC,
	CHEAT_DESTROY_VEHICLE,
	CHEAT_CBUG,
	CHEAT_AFKPOS
}


enum e_ac_Info
{
	ac_Name[24],
	bool:ac_Enabled,
	bool:ac_Kick, // 1 = kickea, 0 = avisa a admins
	ac_Detections, //enviar aviso cuando llege a este num en los seg de abajo
	ac_Interval,
}

new ac_Info[][e_ac_Info] = /* Valores por defecto si no se carga de AC.txt */
{
	{"Armas",					true, true,		1, 0},
	{"Municion",				true, true,		1, 0},
	{"Mod Car",					true, true,		1, 0},
	{"Vehicle Speed",			true, true,		1, 0},
	{"Posición",						true, false,	3, 10},
	{"Texto Spammer",			true, true,		10, 5},
	{"Command Spammer",			true, true,		5, 5},
	{"Death Spammer",			true, false,	1, 0},
	{"State Change Spammer",	true, false,	1, 0},
	{"Vehicle Enter Spammer",	true, false,	1, 0},
	{"Jetpack",					true, true,		1, 0},
	{"Player Speed",			true, true,		1, 0},
	{"Player Health",			true, true,		1, 0},
	{"Player Amour",			true, true,		1, 0},
	{"Vehicle Health",			true, true,		1, 0},
	{"pwork != vwork",			true, true,		1, 0},
	{"Enter Closed Vehicle",	true, false,	1, 0},
	{"Vehicle No Fuel .cs",		true, false,	50, 10},
	{"Player Spectate",			true, false,	1, 0},
	{"pweapon != sweapon",		true, false,	1, 0},
	{"Unocuppied Veh TP",		true, true,		1, 0},
	{"High Pos",				true, true,		1, 0},
	{"Car Jacking",				true, true,		1, 0},
	{"Fake Trailer sync",		true, true,		1, 0},
	{"Destryo Vehicle",			true, false,	1, 0},
	{"C-Bug",					true, false,	1, 0},
	{"Afk Pos",					true, true,		1, 0}
};

enum _InfoAnuncioEx
{
    Text:TDAnuncio,
    Anuncio[175]
}
new _InfoAnuncio[MAX_ANUNCIOS][_InfoAnuncioEx];

enum e_PLAYER_AC_INFO
{
	p_ac_info_DETECTIONS,
	p_ac_info_LAST_DETECTION,
	p_ac_info_IMMUNITY, //gettime + seconds
}
new PLAYER_AC_INFO[MAX_PLAYERS][sizeof(ac_Info)][e_PLAYER_AC_INFO];

enum
{
	TYPE_LEGAL,
	TYPE_ILLEGAL,
}

new Vehicles_SAPD[MAX_PLAYERS][10];

enum
{
	DIALOG_REGISTER,
	DIALOG_MEJORAS_MOTOR,
	DIALOG_WORKS_ARMERO,
	DIALOG_REGISTER_EMAIL,
	DIALOG_GENDER,
	DIALOG_LOGIN,
	DIALOG_USER_NEW,
	DIALOG_USER_ADV,
	DIALOG_LOGINIP,
	DIALOG_SECURE_LOGIN_INSERT_CODE,
	DIALOG_INFO,
	DIALOG_CLOTHES,
	DIALOG_FOOD_PIZZA,
	DIALOG_FOOD_CLUCKIN,
	DIALOG_FOOD_TACO,
    DIALOG_FOOD_STEAK,
	DIALOG_ANNOUNCES,	
	DIALOG_FOOD_BURGER,
	DIALOG_PLAYER_TOYS,
	DIALOG_PLAYER_TOY_MENU,
	DIALOG_PLAYER_TOY_EDIT_NAME,
	DIALOG_PLAYER_TOY_CONFIRMDELETE,
	DIALOG_PLAYER_TOY_EDIT_BONE,
	DIALOG_PLAYER_TOY_SELECT_BONE,
	DIALOG_PLAYER_TOY_COLOR_1,
	DIALOG_PLAYER_TOY_COLOR_2,
	DIALOG_PLAYER_TOY_DELETE_ALL,
	DIALOG_BANK,
	DIALOG_BANK_WITHDRAW,
	DIALOG_BANK_DEPOSIT,
	DIALOG_BANK_TRANSFER,
	DIALOG_BANK_TRANSFER_SEND,
	DIALOG_BANK_TRANSACTIONS,
	DIALOG_CREATE_BANK_ACCOUNT,
	DIALOG_247_LIST,
	DIALOG_PHONE,
	DIALOG_PHONE_COORD,
	DIALOG_PHONE_BOOK,
	DIALOG_PHONE_BOOK_ADD_NUMBER,
	DIALOG_PHONE_BOOK_ADD_NAME,
	DIALOG_PHONE_BOOK_OPTIONS,
	DIALOG_PHONE_BOOK_CHANGE_NAME,
	DIALOG_PHONE_BOOK_CONFIRM_DELET,
	DIALOG_PHONE_BOOK_DELETE_ALL,
	DIALOG_PHONE_CALL_NUMBER,
	DIALOG_PHONE_SMS_NUMBER,
	DIALOG_PHONE_SMS_MESSAGE,
	DIALOG_PHONE_BOOK_SEND_MESSAGE,
	DIALOG_PHONE_SENT_MESSAGES,
	DIALOG_PHONE_RECEIVED_MESSAGES,
	DIALOG_CONFIRM_BUY_PROPERTY,
	DIALOG_CONFIRM_BUY_NEGOCIOS,
	DIALOG_UNUSED,
	DIALOG_PLAYER_GPS,
	DIALOG_PLAYER_GPS_PLAYER,
	DIALOG_PLAYER_GPS_PLAYER_ADD,
	DIALOG_PLAYER_GPS_PLAYER_OPTION,
	DIALOG_PLAYER_GPS_CHANGE_NAME,
	DIALOG_PLAYER_GPS_CONFIRM_DELET,
	DIALOG_PLAYER_GPS_SITES,
	DIALOG_PLAYER_GPS_WORKS,
	DIALOG_PLAYER_GPS_DELETE_ALL,
	DIALOG_PLAYER_GPS_SITE_0,
	DIALOG_PLAYER_GPS_SITE_2,
	DIALOG_PLAYER_GPS_SITE_3,
	DIALOG_PLAYER_GPS_SITE_4,
	DIALOG_PLAYER_GPS_SITE_5,
	DIALOG_PLAYER_GPS_SITE_6,
	DIALOG_PLAYER_GPS_SITE_7,
	DIALOG_PLAYER_GPS_SITE_8,
	DIALOG_FARMACIAS,
	DIALOG_PLAYER_GPS_PROPERTIES,
	DIALOG_PLAYER_GPS_NEGOCIOS,
	DIALOG_MAIN_NAVIDAD,
	DIALOG_TAXI_GPS,
	DIALOG_CLIENTES_GPS,
	DIALOG_TARIFA_GPS,
	DIALOG_MAIN_HALLO,
	DIALOG_PLAYER_GPS_VEHICLES,
	DIALOG_PROPERTY_OPTIONS,
	DIALOG_PROPERTY_NAME,
	DIALOG_PROPERTY_BANK_SELL,
	DIALOG_NEGOCIOS_OPTIONS,
	DIALOG_NEGOCIOS_NAME,
	DIALOG_NEGOCIOS_BANK_SELL,
	DIALOG_BUY_VEHICLE,
	DIALOG_NOTARY,
	DIALOG_NOTARY_SELECT_PROPERTY,
	DIALOG_PROPERTY_SELL_PRICE,
	DIALOG_PROPERTY_SELL_TO_PLAYER,
	DIALOG_SELL_CONFIRM_PROPERTY,
	DIALOG_NOTARY_SELECT_VEHICLE,
	DIALOG_VEHICLE_BANK_SELL,
	DIALOG_VEHICLE_SELL_PRICE,
	DIALOG_VEHICLE_SELL_TO_PLAYER,
	DIALOG_SELL_CONFIRM_VEHICLE,
	DIALOG_SELECT_TRUCK_TYPE,
	DIALOG_BOLM,
	DIALOG_BOLSILLO,
	DIALOG_BOLSILLO_OPTIONS,
	DIALOG_BOLSILLO_DAR,
	DIALOG_BOLSILLO_PRECIO,
	DIALOG_BOLSILLO_VENDER,
	DIALOG_BOLSILLO_TIRAR,
	DIALOG_TUNING_MENU_PART,
	DIALOG_TUNING_MENU_COMPONENT,
	DIALOG_MECHANIC_MENU,
	DIALOG_MECHANIC_TRUNK_PRICE,
	DIALOG_MECHANIC_REPAIR_PRICE,
	DIALOG_MECHANIC_COLOR_PRICE,
	DIALOG_MECHANIC_TUNING_PRICE,
	DIALOG_MECHANIC_PAINTJOB_PRICE,
	DIALOG_MECHANIC_REM_COM_PRICE,
	DIALOG_MECHANIC_ACCEPT,
	DIALOG_MECHANIC_SELECT_COL_SLOT,
	DIALOG_MECHANIC_SELECT_COLOR,
	DIALOG_MECHANIC_REMOVE_COMPONEN,
	DIALOG_TUNING_PAINTJOB,
	DIALOG_SEED_LIST,
	DIALOG_SEED_BUY,
	DIALOG_ATUENDO,
	DIALOG_BIDON,
	DIALOG_BIDONX,
	DIALOG_OFERTA_CARGAR,
	DIALOG_BANCO,
	DIALOG_PLANT_PLANTS,
	DIALOG_ANIMS,
	DIALOG_TRICKS_OBJETO,
	DIALOG_TRICKS_FOOD,
	DIALOG_TRICKS_MEDICINE,
	DIALOG_TRICKS_CANNABIS,
	DIALOG_TRICKS_CRACK,
	DIALOG_TRICKS_SU,
	DIALOG_TRICKS_WEAPON,
	DIALOG_TRICKS_PACKET,
	DIALOG_TRICKS_UPACKET,
	DIALOG_TRICKS_VENDAS,
	DIALOG_VEHICLE_BOOT,
	DIALOG_VEHICLE_BOOT_DELETE_ALL,
	DIALOG_VEHICLE_BOOT_OPTIONS,
	DIALOG_VEHICLE_BOOT_DELETE,
	DIALOG_SELECT_POLICE_SKIN,
	DIALOG_POLICE_RADIOS,
	DIALOG_POLICE_LIST,
	DIALOG_POLICE_MODIFY,
	//
	DIALOG_HELP,
	DIALOG_HELP_GENERAL,
	DIALOG_HELP_INFO,
	DIALOG_HELP_CHARACTER,
	DIALOG_HELP_PROPERTIES,
	DIALOG_HELP_NEGOCIOS,
	DIALOG_HELP_REPORT,
	DIALOG_HELP_VEHICLES,
	DIALOG_HELP_WORKS,
	DIALOG_HELP_CREWS,
	DIALOG_HELP_BOL,
	DIALOG_HELP_SU,
	DIALOG_HELP_SECURE_LOGIN,
	DIALOG_ADMIN_LIST,
	DIALOG_ADMIN_MODIFY,
	DIALOG_CHANGE_PASSWORD,
	DIALOG_CHANGE_PASSWORD_PASS,
	DIALOG_ANTI_CHEAT,
	DIALOG_ANTI_CHEAT_MODIFY,
	DIALOG_ANTI_CHEAT_MODIFY_DETECT,
	DIALOG_GET_VEHICLE,
	DIALOG_CREATE_CREW,
	DIALOG_CREATE_CREW_NAME,
	DIALOG_CREATE_CREW_COLOR,
	DIALOG_CREATE_CREW_CONFIRM,
	DIALOG_CREW_MENU,
	DIALOG_CREW_MEMBER_LIST,
	DIALOG_CREW_CHANGE_NAME,
	DIALOG_CREW_MEMBER_LIST_DELETE,
	DIALOG_CREW_CAST_MEMBER_CONFIRM,
	DIALOG_CREW_INVITE_RANK,
	DIALOG_CREW_INVITE_ACCEPT,
	DIALOG_CREW_RANKS,
	DIALOG_CREW_RANK_MODIFY,
	DIALOG_CREW_RANK_MODIFY_NAME,
	DIALOG_CREW_RANK_MODIFY_PERMISS,
	DIALOG_CREW_RANK_DELETE,
	DIALOG_CREW_RANK_DELETE_CONFIRM,
	DIALOG_CREW_RANK_CREATE,
	DIALOG_CREW_MODIFY_COLOR,
	DIALOG_CREW_DELETE,
	DIALOG_CREW_LEAVE,
	DIALOG_CREW_MODIFY_MEMBERS,
	DIALOG_CREW_MODIFY_MEMBER,
	DIALOG_CREW_PROPERTY_CONFIRM,
	DIALOG_CREW_LEAVE_TERRITORY,
	DIALOG_CREW_LEAVE_PROPERTY,
	DIALOG_POLICE_PENALTY,
	DIALOG_SERVER_ECO,
	DIALOG_SERVER_ECO_MODIFY,
	DIALOG_SU_BUY,
	DIALOG_SU,
	DIALOG_VOBJECT_MENU,
	DIALOG_VOBJECT_OBJECTS,
	DIALOG_VOBJECT_OBJECT,
	DIALOG_VOBJECT_OBJECT_CNAME,
	DIALOG_VOBJECT_OBJECT_COLORS,
	DIALOG_VOBJECT_OBJECT_COLOR,
	DIALOG_VOBJECT_OBJECT_COLOR_HEX,
	DIALOG_VOBJECT_OBJECT_CDELETE,
	DIALOG_VOBJECT_DELETE_ALL,
	DIALOG_VOBJECT_TEXT_MENU,
	DIALOG_VOBJECT_TEXT_TEXT,
	DIALOG_VOBJECT_TEXT_FONT,
	DIALOG_VOBJECT_TEXT_FONT_SIZE,
	DIALOG_VOBJECT_TEXT_FONT_COLOR,
	DIALOG_VOBJECT_COUNTRY,
	DIALOG_PLAYER_CONFIG,
	DIALOG_WORKS_TELEPORTS,
	DIALOG_POLICE_BYC,
	DIALOG_POLICE_BYC_LAST_ALL,
	DIALOG_POLICE_BYC_NAME_FIND,
	DIALOG_POLICE_DELETE_BYC,
	DIALOG_POLICE_BYC_LAST_PLAYER,
	DIALOG_CHANGE_NAME,
	DIALOG_CHANGE_NAME_NAME,
	DIALOG_CHANGE_EMAIL,
	DIALOG_CHANGE_EMAIL_EMAIL,
	DIALOG_PROPERTY_CLOSET,
	DIALOG_PROPERTY_CLOSET_DLT_ALL,
	DIALOG_PROPERTY_CLOSET_OPTIONS,
	DIALOG_PROPERTY_CLOSET_DELETE,
	DIALOG_INV_ACTIONS,
	DIALOG_NEARS_PLAYERS,
	DIALOG_NEARS_PLAYERS_PRICE,
	DIALOG_NEARS_PLAYERS_AMOUNT,
	DIALOG_FSHOP_SELECT_PROPERTY,
	DIALOG_PROPERTY_OBJECTS_MENU,
	DIALOG_POBJECTS_DELETE_ALL,
	DIALOG_POBJECT_EDIT,
	DIALOG_POBJECT_TEXTURE_INDEX,
	DIALOG_POBJECT_TEXTURE,
	DIALOG_PLANE_OPTIONS,
	DIALOG_PLANE_SELECT_COLOR,
	DIALOG_BOAT_OPTIONS,
	DIALOG_BOAT_SELECT_COLOR,
	DIALOG_GRAFFITI_OPTIONS,
	DIALOG_ADMIN_CREW_MENU,
	DIALOG_ADMIN_CREW_SUBMENU,
	DIALOG_ADMIN_CREW_DELETE,
	DIALOG_GRAFFITI_EDIT,
	DIALOG_GRAFFITI_TEXT_OPTIONS,
	DIALOG_GRAFFITI_ETEXT_TEXT,
	DIALOG_GRAFFITI_ETEXT_FONT,
	DIALOG_GRAFFITI_ETEXT_SIZE,
	DIALOG_GRAFFITI_ETEXT_COLOR,
	DIALOG_ADMIN_EVENT_MENU,
	DIALOG_ADMIN_EVENT_WEAPONS,
	DIALOG_ADMIN_INPUT_WEAPON,
	DIALOG_ADMIN_INPUT_PLAYER,
	DIALOG_ADMIN_INPUT_LIFE,
	DIALOG_ADMIN_INPUT_ARMOUR,
	DIALOG_ADMIN_TEAM_EVENT,
	DIALOG_ADMIN_EDIT_SKIN_1,
	DIALOG_ADMIN_EDIT_SKIN_2,
	DIALOG_ACENTOS,
	DIALOG_KEYS_MENU,
	DIALOG_VIP_2_MAIN,
	DIALOG_SU_BUY_2,
	DIALOG_VIP2,
	DIALOG_UPGRADE_VIP,
	DIALOG_PIEZAS,
	//Mios
	DIALOG_PCPD,
	DIAH_LOPYU,
	DIALOG_DOOR_CREAR,
	DIALOG_FARMACY,
	DIALOG_UTILITY,
	DIALOG_WPD,
	DIALOG_COCA,
	DIALOG_COCA_GUARDAR, 
	DIALOG_COCA_SACAR,
	
	DIALOG_MARI,
	DIALOG_MARI_GUARDAR, 
	DIALOG_MARI_SACAR,
	
	DIALOG_MEDI,
	DIALOG_MEDI_GUARDAR, 
	DIALOG_NADA,
	DIALOG_MEDI_SACAR,
	
	DIALOG_B1,
	DIALOG_B2,
	DIALOG_B3,
	DIALOG_B4,
	DIALOG_DOOR_FACC,
	DIALOG_DOOR_INT,
	DIALOG_CLOTHE_FACC,
	DIALOG_VEH_FACC,
	DIALOG_G_CREATOR,
	DIALOG_G_FACCID,
	DIALOG_G_WEAPON,
	DIALOG_G_SUB_WEAPON,
	DIALOG_G_SET_FAC,
	DIALOG_G_WEAPON_S,
	DIALOG_G_WEAPON_A,
	DIALOG_GUN_LOCKER,
	DIALOG_PLAYER_RENUNCIO,
	DIALOG_CLEOS,
	DIALOG_ACTIVIDADES
}

enum
{
	ROLEPLAY_STATE_NORMAL,
	ROLEPLAY_STATE_HOSPITAL,
	ROLEPLAY_STATE_INTERIOR,
	ROLEPLAY_STATE_OWN_PROPERTY,
	ROLEPLAY_STATE_OWN_NEGOCIOS,
	ROLEPLAY_STATE_GUEST_PROPERTY,
	ROLEPLAY_STATE_GUEST_NEGOCIOS,
	ROLEPLAY_STATE_ARRESTED,
	ROLEPLAY_STATE_JAIL,
	ROLEPLAY_STATE_CRACK,
	ROLEPLAY_STATE_HQ
}

enum
{
	GAME_STATE_NONE,
	GAME_STATE_CONNECTED,
	//GAME_STATE_OCCUPIED,
	GAME_STATE_DEAD, // Pantalla de la muerte solo (wasted)
	GAME_STATE_NORMAL,
}

#define MAX_TIMERS_PER_PLAYER 22

/* Timers
0 = Kick
1 = Gangzone daño Rojo
2 = Añadir reputacion
3 = un/freeze player
4 = recuperar vida
5 = restart hambre sed
6 = esperando llamada
7 = esperar arrancar veh
9 = cargando camion
10 = reciclando
11 = talando
12 = plantando
13 = gps mapa
14 = esposar
15 = jail time
16 = health down
17 = msg td
18 = intro
19 = anti cj
20 = terminó descarga dl
21 = ocultar textdraw login ciudad extra
*/

/* TUNING SYSTEM */
#define TOTAL_TUNING_PARTS	14
#define MAX_TUNING_PARTS_COMPONENTS	20
enum PLAYER_TUNING_MENU_Info
{
	tuning_menu_NAME[24], // o part
	tuning_menu_ID,
	tuning_menu_PIECES,
}
new PLAYER_TUNING_MENU[MAX_PLAYERS][MAX_TUNING_PARTS_COMPONENTS][PLAYER_TUNING_MENU_Info];

/* GLOBAL_VEHICLES */
#define MAX_VEHICLE_COMPONENTS	14
#define MIN_VEHICLE_HEALTH		450.0
forward Float:GetDistanceBetweenPoints3D(Float:x1, Float:y1, Float:z1, Float:x2, Float:y2, Float:z2);
forward Float:GetVehicleSpeed(vehicleid);
forward Float:GetVehicleAirSpeed(vehicleid);
forward Float:frandom(Float:max, Float:min, dp);
forward Float:CompressRotation(Float:rotation);

new GuardaEspalda[MAX_PLAYERS];

/*enum Barras
{
	PlayerBar:lineacolor,
};
new Progressbar[MAX_PLAYERS][Barras];*/

new VEHICLE_COLORS[256] = //SA-MP Wiki
{
	// The existing colours from San Andreas
	0x000000FF, 0xF5F5F5FF, 0x2A77A1FF, 0x840410FF, 0x263739FF, 0x86446EFF, 0xD78E10FF, 0x4C75B7FF, 0xBDBEC6FF, 0x5E7072FF,
	0x46597AFF, 0x656A79FF, 0x5D7E8DFF, 0x58595AFF, 0xD6DAD6FF, 0x9CA1A3FF, 0x335F3FFF, 0x730E1AFF, 0x7B0A2AFF, 0x9F9D94FF,
	0x3B4E78FF, 0x732E3EFF, 0x691E3BFF, 0x96918CFF, 0x515459FF, 0x3F3E45FF, 0xA5A9A7FF, 0x635C5AFF, 0x3D4A68FF, 0x979592FF,
	0x421F21FF, 0x5F272BFF, 0x8494ABFF, 0x767B7CFF, 0x646464FF, 0x5A5752FF, 0x252527FF, 0x2D3A35FF, 0x93A396FF, 0x6D7A88FF,
	0x221918FF, 0x6F675FFF, 0x7C1C2AFF, 0x5F0A15FF, 0x193826FF, 0x5D1B20FF, 0x9D9872FF, 0x7A7560FF, 0x989586FF, 0xADB0B0FF,
	0x848988FF, 0x304F45FF, 0x4D6268FF, 0x162248FF, 0x272F4BFF, 0x7D6256FF, 0x9EA4ABFF, 0x9C8D71FF, 0x6D1822FF, 0x4E6881FF,
	0x9C9C98FF, 0x917347FF, 0x661C26FF, 0x949D9FFF, 0xA4A7A5FF, 0x8E8C46FF, 0x341A1EFF, 0x6A7A8CFF, 0xAAAD8EFF, 0xAB988FFF,
	0x851F2EFF, 0x6F8297FF, 0x585853FF, 0x9AA790FF, 0x601A23FF, 0x20202CFF, 0xA4A096FF, 0xAA9D84FF, 0x78222BFF, 0x0E316DFF,
	0x722A3FFF, 0x7B715EFF, 0x741D28FF, 0x1E2E32FF, 0x4D322FFF, 0x7C1B44FF, 0x2E5B20FF, 0x395A83FF, 0x6D2837FF, 0xA7A28FFF,
	0xAFB1B1FF, 0x364155FF, 0x6D6C6EFF, 0x0F6A89FF, 0x204B6BFF, 0x2B3E57FF, 0x9B9F9DFF, 0x6C8495FF, 0x4D8495FF, 0xAE9B7FFF,
	0x406C8FFF, 0x1F253BFF, 0xAB9276FF, 0x134573FF, 0x96816CFF, 0x64686AFF, 0x105082FF, 0xA19983FF, 0x385694FF, 0x525661FF,
	0x7F6956FF, 0x8C929AFF, 0x596E87FF, 0x473532FF, 0x44624FFF, 0x730A27FF, 0x223457FF, 0x640D1BFF, 0xA3ADC6FF, 0x695853FF,
	0x9B8B80FF, 0x620B1CFF, 0x5B5D5EFF, 0x624428FF, 0x731827FF, 0x1B376DFF, 0xEC6AAEFF, 0x000000FF,
	// SA-MP extended colours (0.3x)
	0x177517FF, 0x210606FF, 0x125478FF, 0x452A0DFF, 0x571E1EFF, 0x010701FF, 0x25225AFF, 0x2C89AAFF, 0x8A4DBDFF, 0x35963AFF,
	0xB7B7B7FF, 0x464C8DFF, 0x84888CFF, 0x817867FF, 0x817A26FF, 0x6A506FFF, 0x583E6FFF, 0x8CB972FF, 0x824F78FF, 0x6D276AFF,
	0x1E1D13FF, 0x1E1306FF, 0x1F2518FF, 0x2C4531FF, 0x1E4C99FF, 0x2E5F43FF, 0x1E9948FF, 0x1E9999FF, 0x999976FF, 0x7C8499FF,
	0x992E1EFF, 0x2C1E08FF, 0x142407FF, 0x993E4DFF, 0x1E4C99FF, 0x198181FF, 0x1A292AFF, 0x16616FFF, 0x1B6687FF, 0x6C3F99FF,
	0x481A0EFF, 0x7A7399FF, 0x746D99FF, 0x53387EFF, 0x222407FF, 0x3E190CFF, 0x46210EFF, 0x991E1EFF, 0x8D4C8DFF, 0x805B80FF,
	0x7B3E7EFF, 0x3C1737FF, 0x733517FF, 0x781818FF, 0x83341AFF, 0x8E2F1CFF, 0x7E3E53FF, 0x7C6D7CFF, 0x020C02FF, 0x072407FF,
	0x163012FF, 0x16301BFF, 0x642B4FFF, 0x368452FF, 0x999590FF, 0x818D96FF, 0x99991EFF, 0x7F994CFF, 0x839292FF, 0x788222FF,
	0x2B3C99FF, 0x3A3A0BFF, 0x8A794EFF, 0x0E1F49FF, 0x15371CFF, 0x15273AFF, 0x375775FF, 0x060820FF, 0x071326FF, 0x20394BFF,
	0x2C5089FF, 0x15426CFF, 0x103250FF, 0x241663FF, 0x692015FF, 0x8C8D94FF, 0x516013FF, 0x090F02FF, 0x8C573AFF, 0x52888EFF,
	0x995C52FF, 0x99581EFF, 0x993A63FF, 0x998F4EFF, 0x99311EFF, 0x0D1842FF, 0x521E1EFF, 0x42420DFF, 0x4C991EFF, 0x082A1DFF,
	0x96821DFF, 0x197F19FF, 0x3B141FFF, 0x745217FF, 0x893F8DFF, 0x7E1A6CFF, 0x0B370BFF, 0x27450DFF, 0x071F24FF, 0x784573FF,
	0x8A653AFF, 0x732617FF, 0x319490FF, 0x56941DFF, 0x59163DFF, 0x1B8A2FFF, 0x38160BFF, 0x041804FF, 0x355D8EFF, 0x2E3F5BFF,
	0x561A28FF, 0x4E0E27FF, 0x706C67FF, 0x3B3E42FF, 0x2E2D33FF, 0x7B7E7DFF, 0x4A4442FF, 0x28344EFF
};
new bool:TieneCargos[MAX_PLAYERS];


new Float:BUS_CHECKPOINTS[][] =
{
	{1777.971191, -1857.460815, 12.979743},
	{1817.338623, -1919.801391, 12.949137},
	{1894.044433, -1935.315307, 12.945528},
	{2017.377075, -1940.344726, 12.912435},
	{2084.926269, -1909.614379, 12.950249},
	{2084.690429, -1828.876586, 12.948607},
	{2038.750732, -1750.460327, 12.949655},
	{1918.313232, -1749.566650, 12.949593},
	{1837.739379, -1749.245727, 12.948787},
	{1819.156250, -1830.985351, 12.970937}
};

new Float:HealthUp_Pickups[][] = {
    {2035.9701, -1420.0262, 942.9642},
    {2032.6637, -1420.0520, 942.9642},
    {261.769531, 71.022819, 1003.242187}
};

new const Float:HARVEST_CHECKPOINTS[][] =
{
	{-328.332305, -1546.391357, 16.15409},
	{-250.803207, -1553.425415, 4.534295},
	{-224.260910, -1485.022827, 8.041003},
	{-308.437896, -1476.776977, 11.40934},
	{-283.487731, -1553.320068, 7.445997},
	{-258.756164, -1426.692993, 9.493670},
	{-178.887649, -1406.682250, 3.996473},
	{-177.676818, -1322.970581, 6.885325},
	{-305.899322, -1318.196533, 10.12089},
	{-325.471008, -1412.821777, 15.12606},
	{-191.962982, -1384.020019, 6.075732},
	{-214.637603, -1321.270507, 10.79362},
	{-263.975738, -1375.987426, 11.41642},
	{-308.705474, -1424.302001, 15.52844},
	{-287.710388, -1497.158325, 8.503927},
	{-387.908111, -1532.118774, 23.47214}
};

enum
{
	VEHICLE_TYPE_NONE,
	VEHICLE_TYPE_TEST,
	VEHICLE_TYPE_SELL,
	VEHICLE_TYPE_PERSONAL,
	VEHICLE_TYPE_WORK,
	VEHICLE_TYPE_FACTION,
	VEHICLE_TYPE_RENT,
	VEHICLE_TYPE_DRIVING_SCHOOL,
	VEHICLE_TYPE_FACCION
}

enum
{
	VEHICLE_STATE_NORMAL,
	VEHICLE_STATE_DAMAGED,
}

enum Global_Vehicles_Info
{
	bool:gb_vehicle_VALID,
	bool:gb_vehicle_OCCUPIED,
	gb_vehicle_TYPE,
	gb_vehicle_MODELID,
	gb_vehicle_NUMBER_PLATE[32],
	Float:gb_vehicle_POS[3],
	Float:gb_vehicle_SPAWN_X,
	Float:gb_vehicle_SPAWN_Y,
	Float:gb_vehicle_SPAWN_Z,
	Float:gb_vehicle_SPAWN_ANGLE,
	Float:gb_vehicle_HEALTH,
	gb_vehicle_DAMAGE_PANELS,
	gb_vehicle_DAMAGE_DOORS,
	gb_vehicle_DAMAGE_LIGHTS,
	gb_vehicle_DAMAGE_TIRES,
	gb_vehicle_COLOR_1,
	gb_vehicle_COLOR_2,
	gb_vehicle_PAINTJOB,
	Float:gb_vehicle_GAS,
	Float:gb_vehicle_MAX_GAS,
	gb_vehicle_COMPONENTS[MAX_VEHICLE_COMPONENTS],
	gb_vehicle_STATE,
	gb_vehicle_INTERIOR,
	gb_vehicle_WORLD,
	gb_vehicle_PARAMS_ENGINE,
	gb_vehicle_PARAMS_LIGHTS,
	gb_vehicle_PARAMS_ALARM,
	gb_vehicle_PARAMS_DOORS,
	gb_vehicle_PARAMS_BONNET,
	gb_vehicle_PARAMS_BOOT,
	gb_vehicle_PARAMS_OBJECTIVE,
	gb_vehicle_DRIVER,
	gb_vehicle_LAST_DRIVER,
	gb_vehicle_LAST_CLOSED_TIME,
	gb_vehicle_LAST_REPAIR_TIME,

	bool:gb_vehicle_SPAWNED,
	gb_vehicle_TP_IMMUNITY,
	gb_vehicle_VIP,
	gb_vehicle_ATTACHED_TO,
	Text3D:gb_vehicle_LABEL,
	gb_vehicle_LANDING_GEAR_STATUS,
	bool: gb_vehicle_IS_RETURN,
	gb_vehicle_LINK_ID,
	gb_vehicle_TRUNK_EXTEND,
	gb_vehicle_TIME_OUT,
	gb_vehicle_FACCION,
	gb_vehicle_RADIO,gb_vehicle_RADIO_LINK[120],
	gb_vehicle_FACC_ID,
	
	bool:gb_vehicle_TEMP, //despawneable
	gb_vehicle_RESPAWN_TIME,
	gb_vehicle_RENT_DRIVER,
	gb_vehicle_PARAMS_GLOVE,
    gb_vehicle_ABANDONED_TICKS
}
new GLOBAL_VEHICLES[MAX_VEHICLES][Global_Vehicles_Info];
enum Player_Vehicles_Info
{
	bool:player_vehicle_VALID,
	player_vehicle_ID,
	player_vehicle_OWNER_ID,
	bool:player_vehicle_ACCESSIBLE,
	player_vehicle_CLAMP,
	player_vehicle_PARKING,
	player_vehicle_PLAYERID,
	player_vehicle_MOTOR_NIVEL, // 0: Normal, 1: +30, 2: +50, 3: +60
	player_vehicle_EXTRA_SLOTS
};
new PLAYER_VEHICLES[MAX_VEHICLES][Player_Vehicles_Info];
#define PLAYER_VEHICLE_TIME_KEEP (5 * 60) // tiempo en el que el vehiculo se auto guardar+a (10 minutos.)
#define VEHICLE_MODEL_RENT 462 //Modelo del vehiculo para rentas

// Si ya tienes un enum para transportistas, agrega esto dentro:
enum E_TRANSPORTISTAS {
    Objeto1,
    Objeto2,
    // ... otras variables que ya tengas
}
new Transportistas[MAX_PLAYERS][E_TRANSPORTISTAS];


#define MAX_VEHICLE_OBJECTS_INDEXS	5
enum
{
	VOBJECT_TYPE_OBJECT,
	VOBJECT_TYPE_TEXT,
	VOBJECT_TYPE_COUNTRY_FLAG,
	VOBJECT_TYPE_COUNTRY_PANEL,
}
enum e_VEHICLE_OBJECTS
{
	bool:vobject_VALID,
	vobject_TYPE,
	vobject_NAME[32],
	vobject_ID,
	vobject_OBJECT_ID,
	vobject_MODELID,
	Float:vobject_OFFSET[3],
	Float:vobject_ROT[3],
	vobject_ATTACHED,
	vobject_COLORS[MAX_VEHICLE_OBJECTS_INDEXS],

	vobject_text_TEXT[32],
	vobject_text_FONT[24],
	vobject_text_FONT_SIZE,
	vobject_text_BOLD,
	vobject_text_FONT_COLOR,
}
new VEHICLE_OBJECTS[MAX_VEHICLES][MAX_SU_VOBJECTS][e_VEHICLE_OBJECTS];

new male_medic_skins[] = {274, 275, 276};

enum
{
	WORK_TYPE_NONE,
	WORK_TYPE_NORMAL,
	WORK_TYPE_FAMILY,
}
enum _:E_WORKS
{
	WORK_NONE = 0,
	WORK_TAXI = 1,
	WORK_TRUCK = 2,
	WORK_MECHANIC = 3,
	WORK_HARVESTER = 4,
	WORK_TRASH = 5,
	WORK_LUMBERJACK = 6,
	WORK_FARMER = 7,
	WORK_POLICE = 8,
	WORK_PIZZA = 9,
	WORK_MEDIC = 10,
	WORK_BUS = 11,
	WORK_ARMERO  = 12,
	WORK_TRAILERO = 13
};
enum work_info_info
{
	work_info_TYPE,
	work_info_LEVEL,
	work_info_NAME[24],
	bool:work_info_NEED_DUTY, 	//si este trabajo es normal y tiene vehiculos indica si es necesario que el jugador este de servicio para subirse
	work_info_EXTRA_PAY,		//dejar en 0 para no paga extra.......Paga extra de 'work_info_EXTRA_PAY' cada 'work_info_EXTRA_PAY_EXP' con un limite de 'work_info_EXTRA_PAY_LIMIT'
	work_info_EXTRA_PAY_EXP,
	work_info_EXTRA_PAY_LIMIT,	// dejar en 0 para sin limites

	//sistame de mejores empleados
	work_info_TOP_MAX_PRIZE,
	work_info_TOP_PRIZE_DECREASE,
	work_info_TOP_MIN_PRIZE,
	work_info_TOP1_COINS_PRIZE,
	work_info_COLOR[24]
}
new work_info[][work_info_info] =
{
	{WORK_TYPE_NONE, 0, "ninguno",					false, 0, 0, 0,			0, 0, 0, 0, ""#GREEN_COLOR""},
	{WORK_TYPE_NORMAL, 1, "taxista",				false, 0, 0, 0,			0, 0, 0, 0, "ffff00"},
	{WORK_TYPE_NORMAL, 1, "camionero",				false, 0, 50, 1300,		50000, 10000, 1500, 1, "66c4e4"},
	{WORK_TYPE_NORMAL, 3, "mecanico",				true, 0, 0, 0,			5000, 10000, 1500, 0, "ff0000"},
	{WORK_TYPE_NORMAL, 3, "cosechador",				false, 20, 30, 800,		10000, 1500, 500, 0, "ffcd25"},
	{WORK_TYPE_NORMAL, 1, "basurero", 				true, 60, 50, 2000,		10000, 1500, 500, 0, "00ee33"},
	{WORK_TYPE_NORMAL, 1, "leniador",				false, 10, 100, 100,	10000, 1500, 500, 0, "239bff"},
	{WORK_TYPE_NORMAL, 3, "agricultor",				false, 0, 0, 0,			50000, 10000, 1500, 0, "41ff73"},
	{WORK_TYPE_FAMILY, 0, "policia",				true, 1000, 1, 0,		0, 0, 0, 0, "FF3300"},
	{WORK_TYPE_NORMAL, 1, "pizzero",				true, 60, 20, 800,		0, 0, 0, 0, "999999"},
	{WORK_TYPE_NORMAL, 3, "medico",					true, 60, 50, 2000,		0, 0, 0, 0, "ff3200"},
	{WORK_TYPE_NORMAL, 1, "Chofer",			false, 20, 30, 800, 6000, 2000, 1000, 1, "{0f4bff}"},
	{WORK_TYPE_NORMAL, 5, "Armero",					false, 0, 50, 800,		5000, 3000, 1000, 2, ""#GREEN_COLOR""},
	{WORK_TYPE_NORMAL, 5, "Trailero",					false, 0, 50, 800,		5000, 3000, 1000, 2, ""#GREEN_COLOR""}

};

//forward OnPlayerObtainWork(playerid, work); - tutoriales
enum enum_PLAYER_WORKS
{
	pwork_SET,
	pwork_LEVEL
};
new PLAYER_WORKS[MAX_PLAYERS][sizeof(work_info)][enum_PLAYER_WORKS];
/////////////////////////////////////////////////////////////////////////////////////////////////////////
enum _:E_FACTIONS
{
	FACTIONS_NONE = 0,
	FACTIONS_SAPD = 1,
};
enum faction_info_info
{
	faction_info_TYPE,
	faction_info_LEVEL,
	faction_info_NAME[24]
}
new faction_info[][faction_info_info] =
{
	{WORK_TYPE_NONE, 0, "Sin facción"},
	{FACTIONS_SAPD, 1, "SADP"}
};

//forward OnPlayerObtainWork(playerid, work); - tutoriales
enum enum_PLAYER_FACTIONS
{
	pfact_SET,
	pfact_LEVEL
};
new PLAYER_FACTIONS[MAX_PLAYERS][sizeof(faction_info)][enum_PLAYER_FACTIONS];
/////////////////////////////////////////////////////////////////////////////////////////////////////////

new Float:MedicalBuyKitsCoords[][3] = {
	{1784.2471, -1761.3529, 2005.0752},
	{2218.307128, 1262.755004, 780.966186},
	{-196.9981,-1752.3593,675.7687}
};

/* Tuning Object System */

enum e_Tuning_Shop_Objects
{
	tuning_object_MODELID,
	tuning_object_NAME[24],
	tuning_object_PRICE,
}
new Tuning_Shop_Objects[][e_Tuning_Shop_Objects] =
{
	{1000, "spl_b_mar_m", 3000},
    {1001, "spl_b_bab_m", 3000},
    {1002, "spl_b_bar_m", 3000},
    {1003, "spl_b_mab_m", 3000},
    {1004, "bnt_b_sc_m", 9000},
    {1005, "bnt_b_sc_l", 3000},
    {1007, "wg_l_b_ssk", 2000},
    {1018, "exh_b_ts", 3500},
    {1019, "exh_b_t", 3500},
    {1021, "exh_b_m", 3500},
    {1024, "lgt_b_sspt", 2000},
    {1029, "exh_c_s", 3000},
    {1043, "exh_lr_br2", 3500},
    {1044, "exh_lr_br1", 3000},
    {1047, "wg_l_a_f", 2500},
    {1048, "wg_l_c_f", 2500},
    {1049, "spl_a_f_r", 3000},
    {1050, "spl_c_f_r", 3000},
    {1056, "wg_l_a_st", 2500},
    {1090, "wg_l_a_u", 2500},
    {19078, "TheParrot1", 8000},
    {19917, "CutsceneEngine1", 10500},
    {19893, "LaptopSAMP1", 6000},
    {2768, "CJ_CB_BURG", 1000},
    {19838, "CoffeeCup1", 1000},
    {11736, "MedicCase1", 3000},
    {1247, "bribe", 8000},
    {19147, "PinSpotLight5", 5000},
    {19148, "PinSpotLight6", 5000},
    {19149, "PinSpotLight7", 5000},
    {19151, "PinSpotLight9", 5000},
    {19153, "PinSpotLight11", 5000},
    {19580, "Pizza1", 1000},
    {2690, "CJ_FIRE_EXT", 5000},
    {19308, "taxi01", 3000},
    {1550, "CJ_MONEY_BAG", 4000},
    {19306, "kmb_goflag2", 5000},
    {19307, "kmb_goflag3", 5000},
    {18647, "RedNeonTube1", 6000},
    {18648, "BlueNeonTube1", 6000},
    {18649, "LIMENeonTube1", 6000},
    {18650, "YellowNeonTube1", 6000},
    {18651, "PinkNeonTube1", 6000},
    {18652, "WhiteNeonTube1", 6000},
    {18749, "SAMPLogoSmall", 5000},
    {19054, "XmasBox1", 3000},
    {19133, "ArrowType4", 5000},
    {19471, "forsale02", 3000},
    {19878, "Skateboard1", 2000},
    {19314, "bullhorns01", 5000},
    {2404, "CJ_SURF_BOARD", 3000},
    {2405, "CJ_SURF_BOARD2", 3000},
    {2406, "CJ_SURF_BOARD3", 3000},
    {19317, "bassguitar01", 2000},
    {19318, "flyingv01", 2000},
    {2232, "MED_SPEAKER_4", 3000},
    {1840, "speaker_2", 2000},
    {2229, "SWANK_SPEAKER", 4000},
	{1025, "wheel_or1", 2500},
	{1073, "wheel_sr6", 2500},
	{1074, "wheel_sr3", 2500},
	{1075, "wheel_sr2", 2500},
	{1076, "wheel_lr4", 2500},
	{1077, "wheel_lr1", 2500},
	{1078, "wheel_lr3", 2500},
	{1079, "wheel_sr1", 2500},
	{1080, "wheel_sr5", 2500},
	{1081, "wheel_sr4", 2500},
	{1082, "wheel_gn1", 2500},
	{1083, "wheel_lr2", 2500},
	{1084, "wheel_lr5", 2500},
	{1085, "wheel_gn2", 2500},
	{1096, "wheel_gn3", 2500},
	{1097, "wheel_gn4", 2500},
	{1098, "wheel_gn5", 2500},
	{19894, "laptop", 4500},
	{19873, "toiletpaperroll1", 200},
	{19874, "soapbar1", 200},
	{19624, "case1", 600},
	{19621, "obj1", 1500},
	{19620, "police", 10500},
	{2311, "table", 7500}
};

//ZONAS
enum
{
	AREA_TYPE_NONE,
	AREA_TYPE_GANGZONE,
	AREA_TYPE_MECHANIC,
	AREA_TYPE_AIRPORT,
	AREA_TYPE_AIRVEH_FUEL,
	AREA_TYPE_WATERVEH_STATION,
	AREA_TYPE_SAFEZONE
};

#define MAX_TERRITORIES	100
enum enum_TERRITORIES
{
	bool:territory_VALID,
	territory_ID,
	territory_NAME[32],
	bool:territory_OCCUPIED,
	territory_CREW_ID,
	territory_CREW_INDEX,
	territory_COLOR,
	Float:territory_MIN_X,
	Float:territory_MIN_Y,
	Float:territory_MIN_Z,
	Float:territory_MAX_X,
	Float:territory_MAX_Y,
	Float:territory_MAX_Z,

	territory_AREA,
	territory_GANG_ZONE,

	bool:territory_WAR,
	territory_ATTACKER_CREW_INDEX,
	territory_WAR_TIME_LEFT,
	Text:territory_TEXTDRAW[2],
	territory_TIMER,
	territory_LAST_ATTACK,
}
new TERRITORIES[MAX_TERRITORIES][enum_TERRITORIES];
forward OnTerritoriesLoaded();

enum enum_RUTAS_TRAILERO {
    ruta_NOMBRE[64],
    ruta_CARGA_MODELO,
    Float:ruta_X, 
    Float:ruta_Y, 
    Float:ruta_Z,
    ruta_PAGO
}; // No olvides el punto y coma aquí

// La solución es poner el nombre del enum aquí: InfoRutasTr[][enum_RUTAS_TRAILERO]
new InfoRutasTr[][enum_RUTAS_TRAILERO] = {
    {"Combustible ", 584, 657.693847, -546.178039, 16.335937, 9000}, 
    {"Contenedores", 435, 64.709724, -287.711608, 1.578125, 12000},
    {"Suministros", 450, -84.173385, -1187.449829, 1.750000, 15000}
};


enum Puntos_Carga_Info
{
	Float:pc_X,
	Float:pc_Y,
	Float:pc_Z
};

new Puntos_Carga_Trailer[][Puntos_Carga_Info] =
{
	{2871.029785, 934.752014, 10.75000},      // Coordenada 1
	{2870.664794, 918.712341, 10.750000}   // Coordenada 
};

// Estas variables son para que el pickup y el label se guarden con ID
new CargaPickup[sizeof(Puntos_Carga_Trailer)];
new Text3D:CargaLabel[sizeof(Puntos_Carga_Trailer)];


//Bandas
// Crews
#define MAX_CREWS		200
#define MAX_CREW_RANKS	5
#define MAX_CREW_MEMBERS 25

enum {
	crew_TYPE_BANDA,
	crew_TYPE_FACCION
}

enum enum_CREW_INFO
{
	bool:crew_VALID,
	crew_ID,
	crew_NAME[32],
	crew_COLOR,

	bool:crew_FIGHTING,
	crew_LAST_ATTACK,
	crew_LAST_ROBBERY,

	crew_MEMBERS,
	crew_ONLINE_MEMBERS,
	crew_TYPE,
	crew_INTERIOR,
}
new CREW_INFO[MAX_CREWS][enum_CREW_INFO];
forward OnCrewDeleted(crewId);
forward OnCrewCaptureTerritory(crewId, crewIndex, territoryId, territoryIndex);
forward OnCrewLeftTerritory(crewId, crewIndex, territoryId, territoryIndex);


new RandomColors[] =
{
	0xFFFFFFFF,
	0x000000FF,
    0x99CC00FF,
    0xFF9900FF,
	0x6699CCFF,
	0x0099FFFF,
	0xCCCC99FF,

	0xFF8C13FF,	0xC715FFFF,	0x20B2AAFF,	0xDC143CFF,	0x6495EDFF,	0xf0e68cFF,	0x778899FF,	0xFF1493FF,	0xF4A460FF,
	0xEE82EEFF,	0xFFD720FF,	0x8b4513FF,	0x4949A0FF,	0x148b8bFF,	0x14ff7fFF,	0x556b2fFF,	0x0FD9FAFF,	0x10DC29FF,
	0x534081FF,	0x0495CDFF,	0xEF6CE8FF,	0xBD34DAFF,	0x247C1BFF,	0x0C8E5DFF,	0x635B03FF,	0xCB7ED3FF,	0x65ADEBFF,
	0x5C1ACCFF,	0xF2F853FF,	0x11F891FF,	0x7B39AAFF,	0x53EB10FF,	0x54137DFF,	0x275222FF,	0xF09F5BFF,	0x3D0A4FFF,
	0x22F767FF,	0xD63034FF,	0x9A6980FF,	0xDFB935FF,	0x3793FAFF,	0x90239DFF,	0xE9AB2FFF,	0xAF2FF3FF,	0x057F94FF,
	0xB98519FF,	0x388EEAFF,	0x028151FF,	0xA55043FF,	0x0DE018FF,	0x93AB1CFF,	0x95BAF0FF,	0x369976FF,	0x18F71FFF,
	0x4B8987FF,	0x491B9EFF,	0x829DC7FF,	0xBCE635FF,	0xCEA6DFFF,	0x20D4ADFF,	0x2D74FDFF,	0x3C1C0DFF,	0x12D6D4FF,
	0x48C000FF,	0x2A51E2FF,	0xE3AC12FF,	0xFC42A8FF,	0x2FC827FF,	0x1A30BFFF,	0xB740C2FF,	0x42ACF5FF,	0x2FD9DEFF,
	0xFAFB71FF,	0x05D1CDFF,	0xC471BDFF,	0x94436EFF,	0xC1F7ECFF,	0xCE79EEFF,	0xBD1EF2FF,	0x93B7E4FF,	0x3214AAFF,
	0x184D3BFF,	0xAE4B99FF,	0x7E49D7FF,	0x4C436EFF,	0xFA24CCFF,	0xCE76BEFF,	0xA04E0AFF,	0x9F945CFF,	0xDCDE3DFF,
	0x10C9C5FF,	0x70524DFF,	0x0BE472FF,	0x8A2CD7FF,	0x6152C2FF,	0xCF72A9FF,	0xE59338FF,	0xEEDC2DFF,	0xD8C762FF,
	0xD8C762FF,	0xFF8C13FF,	0xC715FFFF,	0x20B2AAFF,	0xDC143CFF,	0x6495EDFF,	0xf0e68cFF,	0x778899FF,	0xFF1493FF,
	0xF4A460FF,	0xEE82EEFF,	0xFFD720FF,	0x8b4513FF,	0x4949A0FF,	0x148b8bFF,	0x14ff7fFF,	0x556b2fFF,	0x0FD9FAFF,
	0x10DC29FF,	0x534081FF,	0x0495CDFF,	0xEF6CE8FF,	0xBD34DAFF,	0x247C1BFF,	0x0C8E5DFF,	0x635B03FF,	0xCB7ED3FF,
	0x65ADEBFF,	0x5C1ACCFF,	0xF2F853FF,	0x11F891FF,	0x7B39AAFF,	0x53EB10FF,	0x54137DFF,	0x275222FF,	0xF09F5BFF,
	0x3D0A4FFF,	0x22F767FF,	0xD63034FF,	0x9A6980FF,	0xDFB935FF,	0x3793FAFF,	0x90239DFF,	0xE9AB2FFF,	0xAF2FF3FF,
	0x057F94FF,	0xB98519FF,	0x388EEAFF,	0x028151FF,	0xA55043FF,	0x0DE018FF,	0x93AB1CFF,	0x95BAF0FF,	0x369976FF,
	0x18F71FFF,	0x4B8987FF,	0x491B9EFF,	0x829DC7FF,	0xBCE635FF,	0xCEA6DFFF,	0x20D4ADFF,	0x2D74FDFF,	0x3C1C0DFF,
	0x12D6D4FF,	0x48C000FF,	0x2A51E2FF,	0xE3AC12FF,	0xFC42A8FF,	0x2FC827FF,	0x1A30BFFF,	0xB740C2FF,	0x42ACF5FF,
	0x2FD9DEFF,	0xFAFB71FF,	0x05D1CDFF,	0xC471BDFF,	0x94436EFF,	0xC1F7ECFF,	0xCE79EEFF,	0xBD1EF2FF,	0x93B7E4FF,
	0x3214AAFF,	0x184D3BFF,	0xAE4B99FF,	0x7E49D7FF,	0x4C436EFF,	0xFA24CCFF,	0xCE76BEFF,	0xA04E0AFF,	0x9F945CFF,
	0xDCDE3DFF,	0x10C9C5FF,	0x70524DFF,	0x0BE472FF,	0x8A2CD7FF,	0x6152C2FF,	0xCF72A9FF,	0xE59338FF,	0xEEDC2DFF,
	0xD8C762FF,	0xD8C762FF
};

/*
Permisos de rangos

0 - cambiar nombre
1 - invitar
2 - echar
3 - cambiar rango de miembros
4 - crear rangos y modificar rangos
5 - poner casas personales a casas de banda
6 - vender casas de banda
7 - cambiar color de la banda
8 - abandonar territorio
9 - destruir cbanda
*/

//permisos
enum
{
	CREW_RANK_CHANGE_NAME,
	CREW_RANK_INVITE,
	CREW_RANK_CAST_MEMBERS,
	CREW_RANK_MODIFY_MEMBERS,
	CREW_RANK_MODIFY_RANKS,
	CREW_RANK_ADD_PROPERTIES,
	CREW_RANK_DELETE_PROPERTIES,
	CREW_RANK_CHANGE_COLOR,
	CREW_RANK_LEAVE_TERRITORY,
	CREW_RANK_DELETE,
	CREW_RANK_GRAFFITI,

	CREW_RANK_SIZE, // dejar siempre el ultimo
}

new CREW_RANKS_PERMISSIONS[][] =
{
	"cambiar nombre de la banda",	//0
	"invitar jugadores",			//1
	"echar miembros",				//2
	"cambiar rangos de miembros",	//3
	"crear rangos o modificarlos",	//4
	"poner propiedades de banda",	//5
	"liberar propiedades de banda",	//6
	"cambiar color de la banda",	//7
	"abandonar territorios",		//8
	"eliminar banda",				//9
	"crear y eliminar graffitis"	//10
};

enum enum_CREW_RANK_INFO
{
	bool:crew_rank_VALID,
	crew_rank_ID,
	crew_rank_NAME[32],
	crew_rank_PERMISSION[CREW_RANK_SIZE],
}
new CREW_RANK_INFO[MAX_CREWS][MAX_CREW_RANKS][enum_CREW_RANK_INFO];

enum obtain_work_coords_info
{
	bool:obtain_work_AVAILABLE,
	bool:obtain_work_PICKUP,
	Float:obtain_work_X,
	Float:obtain_work_Y,
	Float:obtain_work_Z,
	obtain_work_INTERIOR,
	bool:obtain_work_MAP_ICON,
	obtain_work_MAP_ICON_ID,
	Float:obtain_work_MAP_ICON_X,
	Float:obtain_work_MAP_ICON_Y,
	Float:obtain_work_MAP_ICON_Z,
}
new Float:obtain_work_coords[][obtain_work_coords_info] =
{
	{false, false, 0.0, 0.0, 0.0, 0,	false, 0, 0.0, 0.0, 0.0},
	{true, true, 1490.285766, 1305.699340, 1093.296386, 3,	true, 61, 1752.603881, -1894.155883, 13.557376}, //taxista ls
	{true, true, 1297.107543, -65.027748, 1002.498046, 18, true, 61, -510.699890, -539.409118, 25.523437}, //caminero
	{true, true, 1598.2506, -2151.0869, 13.5579, 0, true, 27, 1598.2506, -2151.0869, 13.5579}, //mecanico
	{true, true, -372.126922, -1435.706298, 25.726562, 0,	true, 61, -372.126922, -1435.706298, 25.726562}, //Cosechador
	{true, true, -1884.997314, -1636.733642, 21.750000, 0, true, 61, -1884.997314, -1636.733642, 21.750000}, //Basurero
	{true, true, -532.029846, -97.514228, 63.296875, 0, true, 61, -532.029846, -97.514228, 63.296875}, //leñador
	{true, true, 1564.864257, 23.255302, 24.164062, 0, true, 61, 1564.864257, 23.255302, 24.164062},
	{true, true, -510.972015, 324.242736, 2004.585937, 20,	false, 0, 1480.966918, -1772.065673, 18.795755}, // policia
	{true, true, 377.902313, -119.416114, 1001.492187, 5, false, 0, 2105.485107, -1806.400878, 13.554687},
	{true, true, 2035.490844, -1406.075317, 942.964233, 3,	false, 0, 0.0, 0.0, 0.0}, //Paramedico
	{true, true, 1743.353271, -1864.173706, 13.573884, 0,	true, 61, 1743.353271, -1864.173706, 13.573884},
    {true, true, 1803.394165, -1574.869262, 13.407026, 0, true, 6, 1803.394165, -1574.869262, 13.407026}, //Armero xd //Armero xd
    {true, true, 2853.442382, 945.200317, 10.750000, 0, true, 51, 2853.442382, 945.200317, 10.750000} // Trailero
};

enum Work_Vehicles_Info
{
	bool:work_vehicle_VALID,
	work_vehicle_WORK,
	work_vehicle_EXP,
	bool:work_vehicle_NEED_DUTY,
}
new WORK_VEHICLES[MAX_VEHICLES][Work_Vehicles_Info];

forward OnTrashVehicleObject(vehicleid);
//new valid_work_vehicle_colors[] = {84, 63, 91, 63, 102, 65, 105, 72, 110, 93, 121, 93, 12, 95, 23, 1};
forward OnSanAndreasVehicleLoad(vehicleid);
forward OnSanAndreasVehiclesLoad();
new valid_work_vehicle_colors[] = {84, 63, 91, 63, 102, 65, 105, 72, 110, 93, 121, 93, 12, 95, 23, 1};
enum San_Andreas_Vehicles_Info
{
	san_andreas_vehicle_TYPE,
	san_andreas_vehicle_TYPE_IN,
	san_andreas_vehicle_TYPE_IN_EXP,
	san_andreas_vehicle_MODELID,
	Float:san_andreas_vehicle_SPAWN_X,
	Float:san_andreas_vehicle_SPAWN_Y,
	Float:san_andreas_vehicle_SPAWN_Z,
	Float:san_andreas_vehicle_SPAWN_ANGLE,
	san_andreas_vehicle_COLOR_1,
	san_andreas_vehicle_COLOR_2,
	san_andreas_vehicle_vip,
	san_andreas_vehicle_WORLD,
	Text3D:san_andreas_vehicle_Text3D,
	san_andreas_vehicle_STATE,
	san_andreas_vehicle_TIME_GET,
	san_andreas_vehicle_TIME_READY,
	san_andreas_vehicle_TIMER
}


new San_Andreas_Vehicles[][San_Andreas_Vehicles_Info] =
{
    
     //policia ls
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 596, 1601.9473, -1696.1240, 5.6107, 89.0810, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 596, 1602.1748, -1691.9042, 5.6110, 88.4362, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 596, 1602.0411, -1700.2920, 5.6110, 88.6648, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 596, 1601.8983, -1704.0681, 5.6115, 89.3552, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 596, 1587.3389, -1710.4362, 5.6118, 1.0410, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 596, 1583.4728, -1710.5020, 5.6120, 359.4709, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 560, 1545.2308, -1680.1783, 5.7223, 89.2245, 0, 0, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 411, 1544.4467, -1676.0834, 5.6177, 89.6164, 0, 0, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 599, 1570.1743, -1710.9041, 6.0789, 0.5127, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 599, 1574.3672, -1710.9801, 6.0787, 0.3933, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 1, 523, 1583.7402, -1668.5023, 5.4657, 88.7599, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 1, 523, 1583.7308, -1671.5286, 5.4637, 87.6115, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 1, 523, 1583.8281, -1674.2369, 5.4653, 89.9781, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 427, 1538.5195, -1645.3208, 6.0224, 178.7787, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 427, 1534.8190, -1645.2932, 6.0222, 178.9228, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 601, 1526.7194, -1644.9723, 5.6494, 179.5714, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 596, 1601.9880, -1687.8237, 5.6110, 89.6723, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 596, 1602.2769, -1684.0154, 5.6119, 89.6658, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 596, 1591.4995, -1710.3190, 5.6105, 359.6988, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 596, 1595.5188, -1710.3881, 5.6109, 358.7049, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 528, 1546.5891, -1654.8442, 5.9344, 90.4177, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 528, 1546.4629, -1650.9556, 5.9348, 90.2691, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 6, 497, 1564.0654, -1654.0856, 29.2126, 88.9137, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 601, 1530.5052, -1644.9598, 5.6494, 179.5481, 0, 1, 0, 0, Text3D: -1, 0},

	//policia sf
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 597, -1588.1722, 749.2943, -5.5779, 0.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 597, -1592.2081, 749.1027, -5.5779, 0.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 597, -1596.2935, 749.4324, -5.5779, 0.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 597, -1600.3527, 749.0949, -5.5779, 0.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 597, -1604.2867, 749.3167, -5.5779, 0.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 597, -1575.0361, 742.6935, -5.5779, 90.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 597, -1574.9946, 738.4707, -5.5779, 90.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 597, -1575.1072, 735.0409, -5.5779, 90.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 597, -1575.0322, 730.9659, -5.5779, 90.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 597, -1575.1212, 722.3821, -5.5779, 90.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 597, -1575.0864, 718.5404, -5.5779, 90.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 599, -1574.7537, 714.1426, -5.1303, 90.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 599, -1574.6227, 710.4202, -5.1303, 90.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 599, -1574.6934, 706.5904, -5.1303, 90.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 597, -1599.5576, 693.3072, -5.5779, 180.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 597, -1608.8636, 693.0085, -5.5779, 180.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 597, -1612.5468, 692.6500, -5.5779, 180.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 411, -1639.4524, 662.1886, -5.5417, -90.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 415, -1639.3489, 666.1519, -5.5417, -90.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 413, -1639.1108, 669.9014, -5.2635, -90.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 601, -1638.7815, 678.3526, -5.4683, -90.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 601, -1638.8115, 682.3326, -5.4683, -90.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 427, -1628.3209, 691.4453, -5.0293, 180.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 427, -1624.6458, 691.1703, -5.0293, 180.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 427, -1621.0149, 691.4860, -5.0293, 180.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 426, -1639.1274, 658.2158, -5.5682, -90.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 1, 523, -1617.3679, 731.1095, -5.6017, 0.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 1, 523, -1615.6661, 731.2083, -5.6017, 0.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 1, 523, -1613.6464, 731.1612, -5.6017, 0.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 1, 523, -1611.4475, 731.4107, -5.6017, 0.0000, 0, 1, 0, 0, Text3D: -1, 0},

	//Policia lvpd
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 598, 2314.1758, 2475.5225, 3.0620, 90.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 598, 2313.4473, 2480.4548, 3.0620, 90.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 598, 2313.9863, 2470.4392, 3.0620, 90.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 598, 2313.3777, 2466.1509, 3.0620, 90.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 598, 2313.2185, 2460.8066, 3.0620, 90.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 598, 2285.6572, 2474.5803, 3.0066, 0.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 598, 2281.5867, 2475.2078, 3.0066, 0.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 598, 2277.3740, 2475.5874, 3.0066, 0.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 598, 2272.8518, 2475.8105, 3.0066, 0.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 598, 2307.3750, 2431.3274, 2.9947, 0.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 598, 2298.9263, 2431.8225, 2.9947, 0.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 599, 2272.4565, 2431.9678, 3.3194, 0.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 599, 2267.9832, 2431.6877, 3.3194, 0.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 599, 2263.6194, 2431.6626, 3.3194, 0.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 601, 2246.5898, 2431.7930, 3.0092, 0.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 427, 2250.7744, 2431.9976, 3.2946, 0.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 427, 2258.8242, 2431.7910, 3.2946, 0.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 427, 2254.3489, 2432.4753, 3.2946, 0.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 415, 2297.8123, 2451.5508, 3.0484, 90.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 2, 415, 2298.2183, 2455.7683, 3.0484, 90.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 1, 523, 2299.6643, 2459.1206, 2.8170, 90.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 1, 523, 2299.8755, 2460.9136, 2.8170, 90.0000, 0, 1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_WORK, WORK_POLICE, 1, 523, 2299.8306, 2463.0632, 2.8170, 90.0000, 0, 1, 0, 0, Text3D: -1, 0},

	//autoescuela
	{VEHICLE_TYPE_DRIVING_SCHOOL, WORK_NONE, 0, 445, 1098.756958, -1757.996826, 13.352320, 87.428710, -1, -1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_DRIVING_SCHOOL, WORK_NONE, 0, 445, 1099.098999, -1761.104858, 13.351068, 89.832168, -1, -1, 0, 0, Text3D: -1, 0},
	{VEHICLE_TYPE_DRIVING_SCHOOL, WORK_NONE, 0, 445, 1099.136108, -1763.714355, 13.350932, 87.501022, -1, -1, 0, 0, Text3D: -1, 0}
};

enum San_Andreas_Barriers_Info
{
	barrier_VEHICLE_TYPE,
	barrier_VEHICLE_TYPE_IN,
	barrier_VEHICLE_TYPE_IN2,
	Float:barrier_X,
	Float:barrier_Y,
	Float:barrier_Z,
	Float:barrier_ROTATION,
	barrier_INTERIOR,
	barrier_WORLD,
	barrier_OBJECT_ID,
	barrier_TIMER,
	bool:barrier_CLOSING,
	Float:barrier_DISTANCE,
	barrier_PRICE,
	Float:barrier_PLAYER_X,
	Float:barrier_PLAYER_Y,
	Float:barrier_PLAYER_Z
}
new San_Andreas_Barriers[][San_Andreas_Barriers_Info] = // usar VEHICLE_TYPE_NONE para que puedan pasar todos
{
	{VEHICLE_TYPE_WORK, WORK_TAXI, WORK_NONE, 1811.32373, -1886.26331, 12.36843, 90.00000, 0, 0, INVALID_STREAMER_ID, -1, false, 15.0, 0,		0.0, 0.0, 0.0}, // barrera taxi ls
	{VEHICLE_TYPE_WORK, WORK_TAXI, WORK_NONE, 1717.0457, 1308.0387, 9.7157, 90.0, 0, 0, INVALID_STREAMER_ID, -1, false, 15.0, 0,				0.0, 0.0, 0.0}, // barrera taxi lv
	{VEHICLE_TYPE_NONE, WORK_NONE, WORK_NONE, -495.0410, -562.1307, 24.4932, 180.0, 0, 0, INVALID_STREAMER_ID, -1, false, 15.0, 0,				0.0, 0.0, 0.0}, // barrera camioneros TRUCK
	{VEHICLE_TYPE_NONE, WORK_NONE, WORK_NONE, -1526.39063, 481.38281, 6.17970, 0.0, 0, 0, INVALID_STREAMER_ID, -1, false, 15.0, 0,				0.0, 0.0, 0.0}, // ejercito??
	{VEHICLE_TYPE_NONE, WORK_NONE, WORK_NONE, -82.1645, -1123.0260, 0.0373, 67.1102, 0, 0, INVALID_STREAMER_ID, -1, false, 15.0, 0,				0.0, 0.0, 0.0}, // grua
	{VEHICLE_TYPE_WORK, WORK_POLICE, WORK_NONE, 1544.69629, -1630.79651, 12.31840, -90.0, 0, 0, INVALID_STREAMER_ID, -1, false, 15.0, 0,		0.0, 0.0, 0.0}, // barrera POLICIA LS
	{VEHICLE_TYPE_NONE, WORK_NONE, WORK_NONE, -1526.39063, 481.38281, 6.17970, 0.0, 0, 0, INVALID_STREAMER_ID, -1, false}, // ejercito??
	{VEHICLE_TYPE_WORK, WORK_POLICE, WORK_NONE, 2238.19897, 2450.41797, 9.80680, -90.0, 0, 0, INVALID_STREAMER_ID, -1, false, 15.0, 0,			0.0, 0.0, 0.0}, // barrera POLICIA LV
	{VEHICLE_TYPE_WORK, WORK_POLICE, WORK_NONE, -1572.20313, 658.83588, 6.07810, -90.0, 0, 0, INVALID_STREAMER_ID, -1, false, 15.0, 0,			0.0, 0.0, 0.0}, // barrera POLICIA SF 1
	{VEHICLE_TYPE_WORK, WORK_POLICE, WORK_NONE, -1701.42969, 687.59381, 23.88280, 90.0, 0, 0, INVALID_STREAMER_ID, -1, false, 15.0, 0,			0.0, 0.0, 0.0}, // barrera POLICIA SF 2

	{VEHICLE_TYPE_NONE, WORK_NONE, WORK_NONE, 1795.434448, 683.170410, 15.157672, 166.600051, 0, 0, INVALID_STREAMER_ID, -1, false, 8.0, 500,	0.0, 0.0, 0.0}, //Peaje LV
	{VEHICLE_TYPE_NONE, WORK_NONE, WORK_NONE, 1786.182617, 685.082275, 15.157672, 166.599960, 0, 0, INVALID_STREAMER_ID, -1, false, 8.0, 500,	0.0, 0.0, 0.0}, //Peaje LV
	{VEHICLE_TYPE_NONE, WORK_NONE, WORK_NONE, 1783.368286, 685.849304, 15.157672, -13.399984, 0, 0, INVALID_STREAMER_ID, -1, false, 8.0, 500,	0.0, 0.0, 0.0}, //Peaje LV
	{VEHICLE_TYPE_NONE, WORK_NONE, WORK_NONE, 1774.675903, 687.671081, 15.157672, -13.399984, 0, 0, INVALID_STREAMER_ID, -1, false, 8.0, 500,	0.0, 0.0, 0.0}, //Peaje LV

	{VEHICLE_TYPE_NONE, WORK_NONE, WORK_NONE, -1036.1921, -588.4973, 30.9307, 355.7986, 0, 0, INVALID_STREAMER_ID, -1, false, 15.0, 0,			0.0, 0.0, 0.0} // barrera AMAZON
};


#define     MAX_DOORS       100

#define     MAX_DOORS       100

enum door_enum {
    dSQLID,
    Float:dExterior[4],
    dInt,
    dFaccion,
    bool:dCreate,
    Text3D:dLabel,
    dPickup,
    dIntPickup,
	dMapIco
}
new Doors[MAX_DOORS][door_enum];

enum entradas_data_enum {
    Float:eX,
    Float:eY,
    Float:eZ,
    Float:eAngle,
    eInterior,
    eName[32]
}

new EntradasHQ[][entradas_data_enum] =
{
    {2324.9136,-1148.9286,1050.7101, 360.0, 12, "Casa de mafia"},
    {-2158.8105,642.7458,1052.3750,177.1034, 1 ,"Oficina de Woozie"},
    {2496.0103,-1692.4316,1014.7422,180.0, 3 , "CJ House"},
    {2524.3943,-1679.5071,1015.4986,270.2859, 1, "Sweet's House" },
    {2352.9329,-1180.9839,1027.9766, 90.0, 5 , "Casa de Gangster"},
    {318.6303,1114.8304,1083.8828, 360.0, 5 , "Casa de crack"}
};

#define MAX_BOOT_SLOTS	50

enum VEHICLE_INFO_enum
{
	bool:vehicle_info_LANDING_GEAR,
	bool:vehicle_info_AIR_ALARMS,
	bool:vehicle_info_NORMAL_SPEEDO,
	vehicle_info_NAME[24],
	Float:vehicle_info_MAX_GAS, // Por defecto
	Float:vehicle_info_MAX_VEL,
	vehicle_info_PRICE,
	vehicle_info_LEVEL,
	vehicle_info_EXTRA,
	vehicle_info_BOOT_SLOTS,
	vehicle_info_SEATS,
	bool:vehicle_info_ENGINE,
	bool:vehicle_info_DRIVER_DOOR,
	bool:vehicle_info_PASSENGER_DOOR,
	vehicle_info_VIP_LEVEL,
	vehicle_info_COINS
}
new VEHICLE_INFO[][VEHICLE_INFO_enum] =
{
	{false, false, true, "Landstalker", 80.0, 159.00, 125000, 6, 0, 10		, 4	, true, true, true, 0, 0},
	{false, false, true, "Bravura", 45.0, 148.00, 25000, 4, 0, 6			, 2	, true, true, true, 0, 0},
	{false, false, true, "Buffalo", 50.0, 188.00, 375000, 8, 0, 6			, 2	, true, true, true, 0, 0},
	{false, false, true, "Linerunner", 150.0, 110.00, 40000, 30, 0, 0	, 2	, true, true, true, 0, 0},
	{false, false, true, "Perrenial", 50.0, 134.00, 5000, 2, 0, 10		, 4	, true, true, true, 0, 0},
	{false, false, true, "Sentinel", 45.0, 165.00, 30000, 2, 0, 6			, 4	, true, true, true, 0, 0},
	{false, false, true, "Dumper", 20.0, 111.00, 700000, 30, 0, 0			, 1	, true, true, true, 0, 0},
	{false, false, true, "Firetruck", 120.0, 149.00, 500000, 30, 0, 0		, 2	, true, true, true, 0, 0},
	{false, false, true, "Trashmaster", 80.0, 101.00, 300000, 30, 0, 0	, 2	, true, true, true, 0, 0},
	{false, false, true, "Stretch", 80.0, 159.00, 800000, 15, 0, 12		, 4	, true, true, true, 0, 0},
	{false, false, true, "Manana", 40.0, 131.00, 8000, 2, 0, 4			, 2	, true, true, true, 0, 0},
	{false, false, true, "Infernus", 80.0, 223.00, 350000, 15, 0, 6		, 2	, true, true, true, 1, 15},
	{false, false, true, "Voodoo", 45.0, 170.00, 25000, 6, 0, 4			, 2	, true, true, true, 0, 0},
	{false, false, true, "Pony", 60.0, 111.00, 30000, 6, 0, 12			, 4	, true, true, true, 0, 0},
	{false, false, true, "Mule", 60.0, 106.00, 30000, 8, 0, 0				, 2	, true, true, true, 0, 0},
	{false, false, true, "Cheetah", 65.0, 194.00, 2500000, 15, 0, 4		, 2	, true, true, true, 0, 0},
	{false, false, true, "Ambulance", 120.0, 155.00, 600000, 30, 0, 0		, 4	, true, true, true, 0, 0},
	{false, false, false, "Leviathan", 400.0, 1.00, 1500000, 30, 0, MAX_BOOT_SLOTS		, 2	, true, true, true, 0, 0}, // >>>> No.
	{false, false, true, "Moonbeam", 60.0, 116.00, 16000, 2, 0, 12		, 4	, true, true, true, 0, 0},
	{false, false, true, "Esperanto", 40.0, 150.00, 20000, 3, 0, 5		, 2	, true, true, true, 0, 0},
	{false, false, true, "Taxi", 60.0, 146.00, 80000, 8, 0, 8				, 4	, true, true, true, 0, 0}, // >>>> No.
	{false, false, true, "Washington", 50.0, 155.00, 15000, 2, 0, 6		, 4	, true, true, true, 0, 0},
	{false, false, true, "Bobcat", 70.0, 141.00, 20000, 6, 0, 8			, 2	, true, true, true, 0, 0},
	{false, false, true, "MrWhoopee", 60.0, 99.00, 30000, 15, 0, 0		, 2	, true, true, true, 0, 0},
	{false, false, true, "BFInjection", 30.0, 136.00, 20000, 12, 0, 4	, 2	, true, true, false, 1, 20},
	{false, false, false, "Hunter", 425.0, 1.00, 3000000, 30, 0, MAX_BOOT_SLOTS			, 1	, true, true, true, 0, 0}, // >>>> No.
	{false, false, true, "Premier", 70.0, 175.00, 21000, 3, 0, 6			, 4	, true, true, true, 0, 0},
	{false, false, true, "Enforcer", 120.0, 167.00, 200000, 16, 0, 0		, 4	, true, true, true, 0, 0}, // >>>> No.
	{false, false, true, "Securicar", 80.0, 158.00, 150000, 15, 0, 12		, 4	, true, true, true, 0, 0}, // >>>> No.
	{false, false, true, "Banshee", 65.0, 203.00, 20000, 15, 0, 4		, 2	, true, true, true, 1, 10},
	{false, false, false, "Predator", 1.0, 1.00, 80000, 10, 0, MAX_BOOT_SLOTS			, 1	, true, true, true, 0, 0},
	{false, false, true, "Bus", 180.0, 131.00, 500000, 20, 0, 20			, 500, true, true, true, 0, 0},
	{false, false, true, "Rhino", 200.0, 95.00, 10000000, 100, 0, 0		, 1	, true, true, true, 0, 0}, // >>>> No.
	{false, false, true, "Barracks", 150.0, 111.00, 600000, 80, 0, 0		, 2	, true, true, true, 0, 0},
	{false, false, true, "Hotknife", 50.0, 168.00, 75000, 15, 0, 4		, 2	, true, true, true, 0, 0}, // >>>> No.
	{false, false, false, "Trailer1", 1.0, 1.00, 50000, 5, 0, 0			, 0	, false, false, false, 0, 0}, // >>>> No.
	{false, false, true, "Previon", 40.0, 150.00, 8000, 2, 0, 6			, 2	, true, true, true, 0, 0},
	{false, false, true, "Coach", 150.0, 159.00, 450000, 30, 0, 20		, 500, true, true, true, 0, 0},
	{false, false, true, "Cabbie", 80.0, 144.00, 54000, 5, 0, 6			, 4	, true, true, true, 0, 0}, // >>>> No.
	{false, false, true, "Stallion", 60.0, 170.00, 15000, 2, 0, 6			, 2	, true, true, true, 0, 0},
	{false, false, true, "Rumpo", 60.0, 137.00, 20000, 5, 0, 12			, 4	, true, true, true, 0, 0},
	{false, false, false, "RCBandit", 1.0, 1.00, 500, 1, 0, 0				, 1	, true, true, true, 0, 0}, // >>>> No.
	{false, false, true, "Romero", 60.0, 140.00, 80000, 10, 0, 0			, 2	, true, true, true, 0, 0},
	{false, false, true, "Packer", 150.0, 127.00, 500000, 15, 0, 0		, 2	, true, true, true, 0, 0},
	{false, false, true, "Monster", 80.0, 111.00, 20000, 20, 0, 20		, 2	, true, true, true, 2, 50},
	{false, false, true, "Admiral", 65.0, 165.00, 5000, 1, 0, 4			, 4	, true, true, true, 0, 0},
	{false, false, false, "Squalo", 1.0, 1.00, 20000, 12, 0, MAX_BOOT_SLOTS			, 1	, true, true, true, 2, 23},
	{false, false, false, "Seasparrow", 120.0, 1.00, 500000, 16, 0, MAX_BOOT_SLOTS		, 2	, true, true, true, 2, 40}, 
	{false, false, true, "Pizzaboy", 20.0, 116.00, 1600, 1, 0, 0			, 1	, true, true, true, 0, 0}, // >>>> No.
	{false, false, false, "Tram", 1.0, 1.00, 0, 0, 0, 0					, 0	, false, false, false, 0, 0}, // >>>> No.
	{false, false, false, "Trailer2", 1.0, 1.00, 0, 0, 0, 0				, 0	, false, false, false, 0, 0}, // >>>> No.
	{false, false, true, "Turismo", 80.0, 195.00, 20000, 15, 0, 6		, 2	, true, true, true, 1, 14},
	{false, false, false, "Speeder", 1.0, 1.00, 1500000, 15, 0, MAX_BOOT_SLOTS			, 1	, true, true, true, 0, 25},
	{false, false, false, "Reefer", 1.0, 1.00, 800000, 10, 0, MAX_BOOT_SLOTS			, 1	, true, true, true, 0, 10},
	{false, false, false, "Tropic", 1.0, 1.00, 1600000, 15, 0, MAX_BOOT_SLOTS			, 1	, true, true, true, 2, 18},
	{false, false, true, "Flatbed", 120.0, 159.00, 50000, 10, 0, 0		, 2	, true, true, true, 0, 0}, // >>>> No.
	{false, false, true, "Yankee", 50.0, 107.00, 80000, 8, 0, 15			, 2	, true, true, true, 0, 0}, // >>>> No.
	{false, false, true, "Caddy", 10.0, 96.00, 20000, 1, 0, 0				, 2	, true, true, false, 1, 30}, // >>>> No.
	{false, false, true, "Solair", 80.0, 158.00, 20000, 3, 0, 8			, 4	, true, true, true, 0, 0},
	{false, false, true, "BerkleyRCVan", 60.0, 137.00, 50000, 5, 0, 12	, 4	, true, true, true, 0, 0}, // >>>> No.
	{false, false, false, "Skimmer", 250.0, 1.00, 160000, 15, 0, MAX_BOOT_SLOTS			, 2	, true, true, true, 0, 0},
	{false, false, true, "PCJ-600", 45.0, 167.00, 40000, 5, 0, 0			, 2	, true, true, false, 0, 0},
	{false, false, true, "Faggio", 20.0, 107.00, 3750, 1, 0, 0			, 2	, true, true, false, 0, 0},
	{false, false, true, "Freeway", 60.0, 142.00, 30000, 6, 0, 0			, 2	, true, true, false, 0, 0},
	{false, false, false, "RCBaron", 1.0, 1.00, 500, 1, 0, 0				, 1	, true, true, true, 0, 0}, // >>>> No.
	{false, false, false, "RCRaider", 1.0, 1.00, 500, 1, 0, 0				, 1	, true, true, true, 0, 0}, // >>>> No.
	{false, false, true, "Glendale", 50.0, 148.00, 3750, 1, 0, 6			, 4	, true, true, true, 0, 0},
	{false, false, true, "Oceanic", 50.0, 141.00, 16000, 1, 0, 6			, 4	, true, true, true, 0, 0},
	{false, false, true, "Sanchez", 40.0, 143.00, 50000, 2, 0, 0			, 2	, true, true, false, 0, 0},
	{false, false, false, "Sparrow", 140.0, 1.00, 500000, 30, 0, MAX_BOOT_SLOTS			, 2	, true, true, true, 2, 35}, // >>>> No.
	{false, false, true, "Patriot", 120.0, 158.00, 20000, 15, 0, 8		, 4	, true, true, true, 1, 40},
	{false, false, true, "Quad", 25.0, 111.00, 20000, 1, 0, 0				, 2	, true, true, false, 1, 10},
	{false, false, false, "Coastguard", 1.0, 1.00, 375000, 5, 0, MAX_BOOT_SLOTS		, 1	, true, true, true, 0, 0}, // >>>> No.
	{false, false, false, "Dinghy", 1.0, 1.00, 25000, 5, 0, MAX_BOOT_SLOTS				, 1	, true, true, true, 0, 0},
	{false, false, true, "Hermes", 80.0, 150.00, 9000, 2, 0, 6			, 2	, true, true, true, 0, 0},
	{false, false, true, "Sabre", 45.0, 174.00, 12000, 2, 0, 6			, 2	, true, true, true, 0, 0},
	{true, false, false, "Rustler", 250.0, 1.00, 30000, 15, 0, MAX_BOOT_SLOTS			, 1	, true, true, true, 0, 0},
	{false, false, true, "ZR-350", 60.0, 188.00, 120000, 3, 0, 4			, 2	, true, true, true, 0, 0},
	{false, false, true, "Walton", 50.0, 118.00, 3500, 1, 0, 6			, 2	, true, true, true, 0, 0},
	{false, false, true, "Regina", 80.0, 141.00, 10000, 5, 0, 10			, 4	, true, true, true, 0, 0},
	{false, false, true, "Comet", 45.0, 186.00, 130000, 6, 0, 4			, 2	, true, true, true, 0, 0},
	{false, false, false, "BMX", 1.0, 1.00, 150, 1, 0, 0					, 1	, false, true, true, 0, 0},
	{false, false, true, "Burrito", 60.0, 158.00, 40000, 6, 0, 12			, 4	, true, true, true, 0, 0},
	{false, false, true, "Camper", 50.0, 124.00, 60000, 9, 0, 10			, 3	, true, true, true, 0, 0},
	{false, false, false, "Marquis", 1.0, 1.00, 6000000, 20, 0, MAX_BOOT_SLOTS			, 1	, true, true, true, 0, 60},
	{false, false, true, "Baggage", 20.0, 100.00, 1000, 1, 0, 0			, 1	, true, true, true, 0, 0}, // >>>> No.
	{false, false, true, "Dozer", 25.0, 65.00, 50000, 5, 0, 0				, 1	, true, true, true, 0, 0}, // >>>> No.
	{false, false, false, "Maverick", 200.0, 1.00, 20000, 20, 0, MAX_BOOT_SLOTS			, 4	, true, true, true, 1, 60}, // >>>> No.
	{false, false, false, "NewsChopper", 200.0, 1.00, 500000, 20, 0, MAX_BOOT_SLOTS		, 2	, true, true, true, 0, 0}, // >>>> No.
	{false, false, true, "Rancher", 90.0, 140.00, 150000, 6, 0, 10			, 2	, true, true, true, 0, 0},
	{false, false, true, "FBIRancher", 90.0, 158.00, 80000, 8, 0, 12		, 4	, true, true, true, 0, 0}, // >>>> No.
	{false, false, true, "Virgo", 45.0, 150.00, 6000, 1, 0, 4				, 2	, true, true, true, 0, 0},
	{false, false, true, "Greenwood", 45.0, 141.00, 12000, 2, 0, 4		, 4	, true, true, true, 0, 0},
	{false, false, false, "Jetmax", 1.0, 1.00, 5000000, 20, 0, MAX_BOOT_SLOTS			, 1	, true, true, true, 1, 42},
	{false, false, true, "Hotring", 80.0, 216.00, 20000, 15, 0, 0		, 2	, true, true, true, 1, 35},
	{false, false, true, "Sandking", 60.0, 178.00, 20000, 15, 0, 10		, 2	, true, true, true, 1, 35},
	{false, false, true, "Blista Compact", 60.0, 164.00, 6500, 1, 0, 4	, 2	, true, true, true, 0, 0},
	{false, false, false, "Police Maverick", 200.0, 1.00, 600000, 20, 0, MAX_BOOT_SLOTS	, 4	, true, true, true, 0, 0},
	{false, false, true, "Boxville", 60.0, 109.00, 80000, 12, 0, 12		, 4	, true, true, true, 0, 0},
	{false, false, true, "Benson", 70.0, 124.00, 80000, 12, 0, 12			, 2	, true, true, true, 0, 0},
	{false, false, true, "Mesa", 60.0, 141.00, 75000, 5, 0, 2				, 2	, true, true, true, 0, 0},
	{false, false, false, "RCGoblin", 1.0, 1.00, 500, 1, 0, 0				, 1	, true, true, true, 0, 0}, // >>>> No.
	{false, false, true, "HotringRacer A", 80.0, 216.00, 20000, 20, 0, 0	, 2	, true, true, true, 1, 35},
	{false, false, true, "HotringRacer B", 80.0, 216.00, 20000, 20, 0, 0	, 2	, true, true, true, 1, 35},
	{false, false, true, "BloodringBanger", 40.0, 174.00, 80000, 15, 0, 0	, 2	, true, true, true, 1, 20},
	{false, false, true, "Rancher", 80.0, 140.00, 150000, 6, 0, 10			, 2	, true, true, true, 0, 0},
	{false, false, true, "SuperGT", 60.0, 180.00, 600000, 15, 0, 4		, 2	, true, true, true, 0, 0},
	{false, false, true, "Elegant", 65.0, 167.00, 35750, 1, 0, 6			, 4	, true, true, true, 0, 0},
	{false, false, true, "Journey", 90.0, 108.00, 40000, 4, 0, 12			, 2	, true, true, true, 0, 0},
	{false, false, false, "Bike", 1.0, 1.00, 500, 1, 0, 0					, 1	, false, true, true, 0, 0}, // >>>> No.
	{false, false, false, "MountainBike", 1.0, 1.00, 500, 1, 0, 0			, 1	, false, true, true, 0, 0}, // >>>> No.
	{false, false, false, "Beagle", 300.0, 1.00, 6000000, 16, 0, MAX_BOOT_SLOTS			, 2	, true, true, true, 0, 0}, // >>>> No.
	{false, false, false, "Cropdust", 150.0, 1.00, 1200000, 12, 0, MAX_BOOT_SLOTS		, 1	, true, true, true, 0, 0}, // >>>> No.
	{false, false, false, "Stunt", 150.0, 1.00, 1200000, 12, 0, MAX_BOOT_SLOTS			, 1	, true, true, true, 0, 0}, // >>>> No.
	{false, false, true, "Tanker", 130.0, 121.00, 500000, 20, 0, 0		, 2	, true, true, true, 0, 0},
	{false, false, true, "Roadtrain", 150.0, 143.00, 500000, 20, 0, 0		, 2	, true, true, true, 0, 0},
	{false, false, true, "Nebula", 60.0, 158.00, 10000, 1, 0, 4			, 4	, true, true, true, 0, 0},
	{false, false, true, "Majestic", 45.0, 158.00, 10000, 1, 0, 4			, 2	, true, true, true, 0, 0},
	{false, false, true, "Buccaneer", 50.0, 165.00, 12500, 1, 0, 4			, 2	, true, true, true, 0, 0},
	{true, true, false, "Shamal", 3000.0, 1.00, 20000000, 30, 0, MAX_BOOT_SLOTS			, 1	, true, true, true, 0, 0},
	{true, false, false, "Hydra", 3000.0, 1.00, 50000000, 100, 0, MAX_BOOT_SLOTS		, 1	, true, true, true, 0, 0},
	{false, false, true, "FCR-900", 50.0, 169.00, 60000, 6, 0, 0			, 2	, true, true, false, 1, 9},
	{false, false, true, "NRG-500", 40.0, 190.00, 80000, 8, 0, 0			, 2	, true, true, false, 1, 16},
	{false, false, true, "HPV1000", 60.0, 168.00, 50000, 8, 0, 0			, 2	, true, true, false, 0, 0}, // >>>> No.
	{false, false, true, "CementTruck", 30.0, 131.00, 80000, 8, 0, 0		, 2	, true, true, true, 0, 0}, // >>>> No.
	{false, false, true, "TowTruck", 60.0, 162.00, 30000, 3, 0, 4			, 2	, true, true, true, 0, 0}, // >>>> No.
	{false, false, true, "Fortune", 40.0, 159.00, 25000, 2, 0, 4			, 2	, true, true, true, 0, 0},
	{false, false, true, "Cadrona", 45.0, 150.00, 10000, 2, 0, 4			, 2	, true, true, true, 0, 0},
	{false, false, true, "FBITruck", 80.0, 178.00, 150000, 15, 0, 12		, 2	, true, true, true, 0, 0}, // >>>> No.
	{false, false, true, "Willard", 55.0, 150.00, 12500, 1, 0, 6			, 4	, true, true, true, 0, 0},
	{false, false, true, "Forklift", 10.0, 61.00, 1500, 1, 0, 0			, 1	, true, true, true, 0, 0},
	{false, false, true, "Tractor", 30.0, 71.00, 2000, 1, 0, 0			, 1	, true, true, true, 0, 0}, // >>>> No.
	{false, false, true, "Combine", 20.0, 111.00, 10000, 2, 0, 0			, 1	, true, true, true, 0, 0}, // >>>> No.
	{false, false, true, "Feltzer", 50.0, 168.00, 32500, 3, 0, 6			, 2	, true, true, true, 0, 0},
	{false, false, true, "Remington", 60.0, 170.00, 37500, 3, 0, 4		, 2	, true, true, true, 0, 0},
	{false, false, true, "Slamvan", 60.0, 159.00, 50000, 8, 0, 4			, 2	, true, true, true, 0, 0},
	{false, false, true, "Blade", 62.0, 174.00, 75000, 4, 0, 6			, 2	, true, true, true, 0, 0},
	{false, false, false, "Freight", 1.0, 1.00, 1000000, 100, 0, 0		, 500, true, true, true, 0, 0}, // >>>> No.
	{false, false, false, "Streak", 1.0, 1.00, 1000000, 100, 0, 0			, 500, true, true, true, 0, 0}, // >>>> No.
	{false, false, true, "Vortex", 20.0, 100.00, 2000, 20, 0, 0			, 1	, true, true, true, 0, 0}, // >>>> No.
	{false, false, true, "Vincent", 40.0, 150.00, 12500, 1, 0, 6			, 4	, true, true, true, 0, 0},
	{false, false, true, "Bullet", 60.0, 204.00, 20000, 15, 0, 4			, 2	, true, true, true, 1, 14},
	{false, false, true, "Clover", 45.0, 165.00, 15000, 1, 0, 4			, 2	, true, true, true, 0, 0},
	{false, false, true, "Sadler", 60.0, 152.00, 12500, 1, 0, 8			, 2	, true, true, true, 0, 0},
	{false, false, true, "FiretruckLA", 120.0, 149.00, 2000000, 20, 0, 0	, 2	, true, true, true, 0, 0}, // >>>> No.
	{false, false, true, "Hustler", 80.0, 148.00, 545000, 25, 0, 6		, 2	, true, true, true, 0, 0},
	{false, false, true, "Intruder", 60.0, 150.00, 37500, 3, 0, 6			, 4	, true, true, true, 0, 0},
	{false, false, true, "Primo", 55.0, 144.00, 7500, 1, 0, 6				, 4	, true, true, true, 0, 0},
	{false, false, false, "Cargobob", 400.0, 1.00, 3000000, 20, 0, MAX_BOOT_SLOTS		, 2	, true, true, true, 0, 0},
	{false, false, true, "Tampa", 60.0, 154.00, 30000, 2, 0, 4			, 2	, true, true, true, 0, 0},
	{false, false, true, "Sunrise", 60.0, 146.00, 9000, 2, 0, 6			, 4	, true, true, true, 0, 0},
	{false, false, true, "Merit", 55.0, 158.00, 20000, 2, 0, 6				, 4	, true, true, true, 0, 0},
	{false, false, true, "Utility", 60.0, 122.00, 30000, 3, 0, 6			, 2	, true, true, true, 0, 0}, // >>>> No.
	{true, true, false, "Nevada", 15000.0, 1.00, 2000000, 30, 0, MAX_BOOT_SLOTS			, 1	, true, true, true, 0, 0},
	{false, false, true, "Yosemite", 60.0, 145.00, 62500, 3, 0, 8			, 2	, true, true, true, 0, 0},
	{false, false, true, "Windsor", 45.0, 159.00, 33750, 3, 0, 4			, 2	, true, true, true, 0, 0},
	{false, false, true, "MonsterA", 45.0, 111.00, 20000, 20, 0, 20		, 2	, true, true, true, 1, 50},
	{false, false, true, "MonsterB", 60.0, 111.00, 20000, 20, 0, 20		, 2	, true, true, true, 1, 50},
	{false, false, true, "Uranus", 80.0, 157.00, 162500, 3, 0, 4			, 2	, true, true, true, 0, 0},
	{false, false, true, "Jester", 60.0, 179.00, 25000, 5, 0, 4			, 2	, true, true, true, 0, 8},
	{false, false, true, "Sultan", 60.0, 170.00, 362500, 5, 0, 6			, 4	, true, true, true, 0, 0},
	{false, false, true, "Stratum", 60.0, 155.00, 132000, 4, 0, 8			, 4	, true, true, true, 0, 0},
	{false, false, true, "Elegy", 60.0, 179.00, 20000, 6, 0, 6			, 2	, true, true, true, 1, 9},
	{false, false, false, "Raindance", 400.0, 1.00, 500000, 15, 0, MAX_BOOT_SLOTS		, 2	, true, true, true, 0, 0},
	{false, false, false, "RC Tiger", 1.0, 1.00, 500, 1, 0, 0				, 1	, true, true, true, 0, 0},
	{false, false, true, "Flash", 60.0, 166.00, 150000, 6, 0, 8			, 2	, true, true, true, 0, 0},
	{false, false, true, "Tahoma", 40.0, 161.00, 37500, 1, 0, 6			, 4	, true, true, true, 0, 0},
	{false, false, true, "Savanna", 50.0, 174.00, 75000, 5, 0, 6			, 4	, true, true, true, 0, 0},
	{false, false, true, "Bandito", 30.0, 147.00, 30000, 5, 0, 0			, 1	, true, true, true, 0, 0},
	{false, false, false, "FreightFlat", 1.0, 1.00, 5000000, 50, 0, 0		, 0	, true, true, true, 0, 0},
	{false, false, false, "StreakCarriage", 1.0, 1.00, 5000000, 50, 0, 0	, 0	, true, true, true, 0, 0}, // >>>> No.
	{false, false, true, "Kart", 10.0, 94.00, 20000, 1, 0, 0				, 1	, true, true, true, 0, 0}, // >>>> No.
	{false, false, true, "Mower", 15.0, 61.00, 1200, 1, 0, 0				, 1	, true, true, true, 0, 0},
	{false, false, true, "Duneride", 80.0, 111.00, 1000000, 20, 0, 20		, 2	, true, true, true, 2, 50},
	{false, false, true, "Sweeper", 20.0, 61.00, 4000, 1, 0, 2			, 1	, true, true, true, 0, 0}, // >>>> No.
	{false, false, true, "Broadway", 45.0, 159.00, 20000, 6, 0, 4			, 2	, true, true, true, 0, 0},
	{false, false, true, "Tornado", 40.0, 159.00, 15000, 1, 0, 4			, 2	, true, true, true, 0, 0},
	{true, true, false, "AT-400", 25000.0, 1.00, 10000000, 50, 0, MAX_BOOT_SLOTS			, 1	, true, true, true, 0, 0}, // >>>> No.
	{false, false, true, "DFT-30", 80.0, 131.00, 100000, 10, 0, 4			, 2	, true, true, true, 0, 0},
	{false, false, true, "Huntley", 80.0, 159.00, 150000, 6, 0, 8			, 4	, true, true, true, 0, 0},
	{false, false, true, "Stafford", 60.0, 154.00, 225000, 2, 0, 6			, 4	, true, true, true, 0, 0},
	{false, false, true, "BF-400", 35.0, 168.00, 13000, 2, 0, 0			, 2	, true, true, false, 0, 0},
	{false, false, true, "Newsvan", 60.0, 137.00, 30000, 3, 0, 10			, 4	, false, false, false, 0, 0},
	{false, false, true, "Tug", 15.0, 86.00, 2000, 1, 0, 0				, 1	, true, true, true, 0, 0}, // >>>> No.
	{false, false, false, "Trailer 3", 1.0, 1.00, 160000, 15, 0, 0		, 0	, true, true, true, 0, 0},
	{false, false, true, "Emperor", 60.0, 154.00, 15000, 1, 0, 6			, 4	, true, true, true, 0, 0},
	{false, false, true, "Wayfarer", 50.0, 158.00, 8000, 2, 0, 0			, 2	, true, true, false, 0, 0},
	{false, false, true, "Euros", 50.0, 166.00, 20000, 3, 0, 4			, 2	, true, true, true, 0, 0},
	{false, false, true, "Hotdog", 60.0, 109.00, 30000, 5, 0, 12			, 2	, true, true, true, 0, 0},
	{false, false, true, "Club", 65.0, 164.00, 50000, 10, 0, 6			, 2	, true, true, true, 0, 0},
	{false, false, false, "FreightCarriage", 1.0, 1.00, 1000000, 100, 0, 0, 0	, false, false, false, 0, 0}, // >>>> No.
	{false, false, false, "Trailer3", 1.0, 1.00, 1000000, 100, 0, 0		, 0	, false, false, false, 0, 0}, // >>>> No.
	{true, true, false, "Andromada", 30000.0, 1.00, 1000000, 100, 0, MAX_BOOT_SLOTS		, 500, true, true, true, 0, 0}, // >>>> No.
	{false, false, false, "Dodo", 250.0, 1.00, 750000, 12, 0, MAX_BOOT_SLOTS				, 2	, true, true, true, 0, 0}, // >>>> No.
	{false, false, false, "RCCam", 1.0, 1.00, 500, 1, 0, 0				, 2	, true, true, true, 0, 0}, // >>>> No.
	{false, false, false, "Launch", 1.0, 1.00, 800000, 8, 0, MAX_BOOT_SLOTS			, 1	, true, true, true, 0, 13}, // >>>> No.
	{false, false, true, "LSPD", 60.0, 177.00, 50000, 10, 0, 8			, 4	, true, true, true, 0, 0}, // >>>> No.
	{false, false, true, "SFPD", 60.0, 177.00, 50000, 10, 0, 8			, 4	, true, true, true, 0, 0}, // >>>> No.
	{false, false, true, "LVPD", 60.0, 177.00, 50000, 10, 0, 8			, 4	, true, true, true, 0, 0},
	{false, false, true, "PoliceRanger", 90.0, 159.00, 70000, 10, 0, 12	, 2	, true, true, true, 0, 0}, // // >>>> No. >>>> No.
	{false, false, true, "Picador", 40.0, 152.00, 11500, 1, 0, 6			, 2	, true, true, true, 0, 0},
	{false, false, true, "S.W.A.T.Van", 30.0, 111.00, 4000000, 50, 0, 0	, 2	, true, true, true, 0, 0}, // >>>> No.
	{false, false, true, "Alpha", 60.0, 170.00, 1250000, 8, 0, 4			, 2	, true, true, true, 0, 0},
	{false, false, true, "Phoenix", 60.0, 172.00, 137500, 10, 0, 4		, 2	, true, true, true, 0, 0},
	{false, false, true, "Glendale", 30.0, 148.00, 1500, 1, 0, 6			, 4	, true, true, true, 0, 0},
	{false, false, true, "Sadler", 40.0, 152.00, 4000, 1, 0, 6			, 2	, true, true, true, 0, 0},
	{false, false, false, "LuggageTrailerA", 1.0, 1.00, 500, 1, 0, 0		, 0	, true, true, true, 0, 0},
	{false, false, false, "LuggageTrailerB", 1.0, 1.00, 500, 1, 0, 0		, 0	, true, true, true, 0, 0}, // >>>> No.
	{false, false, false, "StairTrailer", 1.0, 1.00, 500, 1, 0, 0			, 0	, true, true, true, 0, 0}, // >>>> No.
	{false, false, true, "Boxville", 90.0, 108.00, 60000, 6, 0, 15		, 4	, true, true, true, 0, 0}, // >>>> No.
	{false, false, false, "FarmPlow", 1.0, 1.00, 3000, 1, 0, 0			, 0	, true, true, true, 0, 0}, // >>>> No.
	{false, false, false, "UtilityTrailer", 1.0, 1.00, 1000, 1, 0, 0         , 0	, true, true, true, 0, 0} // >>>> No.
};

enum
{
	BOOT_TYPE_OBJECT
};
enum enum_VEHICLE_BOOT
{
	bool:vehicle_boot_VALID,
	vehicle_boot_OBJECT_ID,
	vehicle_boot_TYPE,
	vehicle_boot_INT,
	vehicle_boot_INT_EXTRA,
}
new VEHICLE_BOOT[MAX_VEHICLES][MAX_BOOT_SLOTS][enum_VEHICLE_BOOT];

// AGRICULTOR
enum
{
	PLANT_TYPE_MEDICINE, 	// VIDA
	PLANT_TYPE_CANNABIS,	// YOKSETIOXD
	PLANT_TYPE_CRACK,		//CHALECO
}

enum seed_info_enum
{
	seed_info_TYPE,
	seed_info_PLANT_TYPE,
	seed_info_EXP,
	seed_info_NAME[24],
	seed_info_PRICE,
}
new seed_info[][seed_info_enum] =
{
	{TYPE_LEGAL, PLANT_TYPE_MEDICINE, 0, "Medicina", 30},
	{TYPE_ILLEGAL, PLANT_TYPE_CANNABIS, 100, "Marihuana", 50},
	{TYPE_ILLEGAL, PLANT_TYPE_CRACK, 150, "Coca", 150}
};

enum plant_info_enum
{
	plant_info_SEEDS,
	plant_info_NAME[24],
}
new plant_info[][plant_info_enum] =
{
	{2, "Medicamento"},
	{4, "Marihuana"},
	{10, "Crack"}
};


#define MAX_PLANTS	500
enum PLANTS_ENUM
{
	bool:plant_VALID,
	bool:plant_GROWING,
	bool:plant_INVISIBLE,
	Float:plant_GROWING_PROGRESS,
	plant_TYPE,
	plant_PLANTED_BY_ACCOUNT_ID,
	plant_PLANTED_BY_NAME[24],
	plant_OBJECT_ID,
	plant_VIRTUAL_WORLD,
	Text3D:plant_LABEL_ID,
	plant_EXPIRE_TIME,
	plant_TIMER,
	plant_IMMUNITY,
}
new PLANTS[MAX_PLANTS][PLANTS_ENUM];

enum
{
	OBJECT_TYPE_NONE,
	OBJECT_TYPE_PLANT,
	OBJECT_TYPE_POLICE,
	OBJECT_TYPE_FURNITURE,
	OBJECT_TYPE_WH_BOX,
	OBJECT_TYPE_GRAFFITI,
	OBJECT_TYPE_TEST
}

/* SYSTEM - GPS */
enum
{
	CHECKPOINT_TYPE_NONE,
	CHECKPOINT_TYPE_GPS,
	CHECKPOINT_TYPE_UNLOAD_TRUCK,
	CHECKPOINT_HIERRO,
	CHECKPOINT_TYPE_FINISH_TRUCK,
	CHECKPOINT_TYPE_HARVEST,
	CHECKPOINT_TYPE_BUS,
	CHECKPOINT_TYPE_CLEANER,
	CHECKPOINT_TYPE_JARDINERO,
	CHECKPOINT_TYPE_FUMIGATOR,
	CHECKPOINT_TYPE_TRASH,
	CHECKPOINT_TYPE_FINISH_TRASH,
	CHECKPOINT_TYPE_LUMBERJACK,
	CHECKPOINT_TYPE_CARNICERO,
	CHECKPOINT_TYPE_PIZZA_DEL,
	CHECKPOINT_TYPE_PIZZA_FINISH,
	CHECKPOINT_TYPE_DRIVING_SCHOOL,
	CHECKPOINT_TYPE_WH_PICKUP,
	CHECKPOINT_TYPE_WH_PUT,
	CHECKPOINT_TYPE_DMAN,
	CHECKPOINT_TYPE_MINERO,
	CHECKPOINT_TYPE_FINISH_DMAN
}

#define MAX_JBL_DISTANCE 20.0 // Distancia del sonido
#define DIALOG_JBL_MAIN 8800
#define DIALOG_JBL_URL  8801

enum jbl_data {
    bool:jbl_COLOCADA,
    jbl_OBJETO,
    Text3D:jbl_LABEL, // Variable para el texto flotante
    jbl_AREA,
    jbl_URL[128],
    Float:jbl_X,
    Float:jbl_Y,
    Float:jbl_Z
}
new JBLInfo[MAX_PLAYERS][jbl_data];


#define MAX_PLAYER_GPS_SAVES	10
#define MAX_LISTITEMS			35
enum Player_GPS_Enum
{
	player_gps_VALID,
	player_gps_ID,
	player_gps_NAME[24],
	Float:player_gps_X,
	Float:player_gps_Y,
	Float:player_gps_Z,
	player_gps_WORLD,
	player_gps_INTERIOR,
}
new PLAYER_GPS[MAX_PLAYERS][MAX_PLAYER_GPS_SAVES][Player_GPS_Enum];


/* SYSTEM - PHONE */
enum
{
	CALL_GAME_STATE_NONE,
	CALL_STATE_WAITING_RESPONSE,
	CALL_STATE_INCOMING_CALL,
	CALL_STATE_ESTABLISHED,
}

enum
{
	PHONE_STATE_ON,
	PHONE_STATE_OFF,
}

#define MAX_PHONE_CONTACTS	20
enum Phone_Book_Enum
{
	phone_book_contact_VALID,

	phone_book_contact_ID,
	phone_book_contact_NAME[24],
	phone_book_contact_PHONE_NUMBER,
}
new PLAYER_PHONE_BOOK[MAX_PLAYERS][MAX_PHONE_CONTACTS][Phone_Book_Enum]; //PB = PhoneBook

enum
{
	MODE_PC,
	MODE_ANDROID,
}

enum
{
	SEX_MALE,
	SEX_FEMALE,
}

#define INVALID_ACENTO_ID -1

new Acento[MAX_PLAYERS] = {-1, ...};
new const Acentos[][] = {

	"Britanico",
	"Japones",
	"Asiatico",
	"Venezolano",
	"Peruano",
	"Ruso",
	"Americano",
	"Español",
	"Colombiano",
	"Ecuatoriano",
	"Frances",
	"Italiano",
	"Gangster",
	"Uruguayo",
	"Brasilero",
	"Argentino",
	"Chileno",
	"Cubano",
	"Israeli",
	"Aleman",
	"Hippie",
	"Mexicano",
	"Arabe",
	"Noruego",
	"Australiano"
};

enum e_ZONEINFO
{
	z_Name[45],
    Float:z_MinX,
    Float:z_MinY,
    Float:z_MinZ,
    Float:z_MaxX,
    Float:z_MaxY,
    Float:z_MaxZ,
}
new g_Zones[][e_ZONEINFO] =
{
	// Indoor zones
	{"Caligula's Palace",            2087.30,  1543.20,   900.00,  2437.30,  1703.20,   1200.90},
	{"The Four Dragons Casino",      1817.30,   863.20,   900.00,  2027.30,  1083.20,   1200.90},
	// Outdoor Zones list by mabako, from gta client files
	{"The Big Ear",                -410.00,  1403.30,    -3.00,  -137.90,  1681.20,   200.00},
	{"Aldea Malvada",               -1372.10,  2498.50,     0.00, -1277.50,  2615.30,   200.00},
	{"Angel Pine",                  -2324.90, -2584.20,    -6.10, -1964.20, -2212.10,   200.00},
	{"Arco del Oeste",               -901.10,  2221.80,     0.00,  -592.00,  2571.90,   200.00},
	{"Avispa Country Club",         -2646.40,  -355.40,     0.00, -2270.00,  -222.50,   200.00},
	{"Avispa Country Club",         -2831.80,  -430.20,    -6.10, -2646.40,  -222.50,   200.00},
	{"Avispa Country Club",         -2361.50,  -417.10,     0.00, -2270.00,  -355.40,   200.00},
	{"Avispa Country Club",         -2667.80,  -302.10,   -28.80, -2646.40,  -262.30,    71.10},
	{"Avispa Country Club",         -2470.00,  -355.40,     0.00, -2270.00,  -318.40,    46.10},
	{"Avispa Country Club",         -2550.00,  -355.40,     0.00, -2470.00,  -318.40,    39.70},
	{"Back o Beyond",               -1166.90, -2641.10,     0.00,  -321.70, -1856.00,   200.00},
	{"Battery Point",               -2741.00,  1268.40,    -4.50, -2533.00,  1490.40,   200.00},
	{"Bayside",                     -2741.00,  2175.10,     0.00, -2353.10,  2722.70,   200.00},
	{"Bayside Marina",              -2353.10,  2275.70,     0.00, -2153.10,  2475.70,   200.00},
	{"Beacon Hill",                  -399.60, -1075.50,    -1.40,  -319.00,  -977.50,   198.50},
	{"Blackfield",                    964.30,  1203.20,   -89.00,  1197.30,  1403.20,   110.90},
	{"Blackfield",                    964.30,  1403.20,   -89.00,  1197.30,  1726.20,   110.90},
	{"Blackfield Chapel",            1375.60,   596.30,   -89.00,  1558.00,   823.20,   110.90},
	{"Blackfield Chapel",            1325.60,   596.30,   -89.00,  1375.60,   795.00,   110.90},
	{"Blackfield Intersection",      1197.30,  1044.60,   -89.00,  1277.00,  1163.30,   110.90},
	{"Blackfield Intersection",      1166.50,   795.00,   -89.00,  1375.60,  1044.60,   110.90},
	{"Blackfield Intersection",      1277.00,  1044.60,   -89.00,  1315.30,  1087.60,   110.90},
	{"Blackfield Intersection",      1375.60,   823.20,   -89.00,  1457.30,   919.40,   110.90},
	{"Blueberry",                     104.50,  -220.10,     2.30,   349.60,   152.20,   200.00},
	{"Blueberry",                      19.60,  -404.10,     3.80,   349.60,  -220.10,   200.00},
	{"Blueberry Acres",              -319.60,  -220.10,     0.00,   104.50,   293.30,   200.00},
	{"Caligula's Palace",            2087.30,  1543.20,   -89.00,  2437.30,  1703.20,   110.90},
	{"Caligula's Palace",            2137.40,  1703.20,   -89.00,  2437.30,  1783.20,   110.90},
	{"Calton Heights",              -2274.10,   744.10,    -6.10, -1982.30,  1358.90,   200.00},
	{"Chinatown",                   -2274.10,   578.30,    -7.60, -2078.60,   744.10,   200.00},
	{"City Hall",                   -2867.80,   277.40,    -9.10, -2593.40,   458.40,   200.00},
	{"Come-A-Lot",                   2087.30,   943.20,   -89.00,  2623.10,  1203.20,   110.90},
	{"Commerce",                     1323.90, -1842.20,   -89.00,  1701.90, -1722.20,   110.90},
	{"Commerce",                     1323.90, -1722.20,   -89.00,  1440.90, -1577.50,   110.90},
	{"Commerce",                     1370.80, -1577.50,   -89.00,  1463.90, -1384.90,   110.90},
	{"Commerce",                     1463.90, -1577.50,   -89.00,  1667.90, -1430.80,   110.90},
	{"Commerce",                     1583.50, -1722.20,   -89.00,  1758.90, -1577.50,   110.90},
	{"Commerce",                     1667.90, -1577.50,   -89.00,  1812.60, -1430.80,   110.90},
	{"Conference Center",            1046.10, -1804.20,   -89.00,  1323.90, -1722.20,   110.90},
	{"Conference Center",            1073.20, -1842.20,   -89.00,  1323.90, -1804.20,   110.90},
	{"Cranberry Station",           -2007.80,    56.30,     0.00, -1922.00,   224.70,   100.00},
	{"Creek",                        2749.90,  1937.20,   -89.00,  2921.60,  2669.70,   110.90},
	{"Dillimore",                     580.70,  -674.80,    -9.50,   861.00,  -404.70,   200.00},
	{"Doherty",                     -2270.00,  -324.10,    -0.00, -1794.90,  -222.50,   200.00},
	{"Doherty",                     -2173.00,  -222.50,    -0.00, -1794.90,   265.20,   200.00},
	{"Downtown",                    -1982.30,   744.10,    -6.10, -1871.70,  1274.20,   200.00},
	{"Downtown",                    -1871.70,  1176.40,    -4.50, -1620.30,  1274.20,   200.00},
	{"Downtown",                    -1700.00,   744.20,    -6.10, -1580.00,  1176.50,   200.00},
	{"Downtown",                    -1580.00,   744.20,    -6.10, -1499.80,  1025.90,   200.00},
	{"Downtown",                    -2078.60,   578.30,    -7.60, -1499.80,   744.20,   200.00},
	{"Downtown",                    -1993.20,   265.20,    -9.10, -1794.90,   578.30,   200.00},
	{"Downtown Los Santos",          1463.90, -1430.80,   -89.00,  1724.70, -1290.80,   110.90},
	{"Downtown Los Santos",          1724.70, -1430.80,   -89.00,  1812.60, -1250.90,   110.90},
	{"Downtown Los Santos",          1463.90, -1290.80,   -89.00,  1724.70, -1150.80,   110.90},
	{"Downtown Los Santos",          1370.80, -1384.90,   -89.00,  1463.90, -1170.80,   110.90},
	{"Downtown Los Santos",          1724.70, -1250.90,   -89.00,  1812.60, -1150.80,   110.90},
	{"Downtown Los Santos",          1370.80, -1170.80,   -89.00,  1463.90, -1130.80,   110.90},
	{"Downtown Los Santos",          1378.30, -1130.80,   -89.00,  1463.90, -1026.30,   110.90},
	{"Downtown Los Santos",          1391.00, -1026.30,   -89.00,  1463.90,  -926.90,   110.90},
	{"Downtown Los Santos",          1507.50, -1385.20,   110.90,  1582.50, -1325.30,   335.90},
	{"East Beach",                   2632.80, -1852.80,   -89.00,  2959.30, -1668.10,   110.90},
	{"East Beach",                   2632.80, -1668.10,   -89.00,  2747.70, -1393.40,   110.90},
	{"East Beach",                   2747.70, -1668.10,   -89.00,  2959.30, -1498.60,   110.90},
	{"East Beach",                   2747.70, -1498.60,   -89.00,  2959.30, -1120.00,   110.90},
	{"East Los Santos",              2421.00, -1628.50,   -89.00,  2632.80, -1454.30,   110.90},
	{"East Los Santos",              2222.50, -1628.50,   -89.00,  2421.00, -1494.00,   110.90},
	{"East Los Santos",              2266.20, -1494.00,   -89.00,  2381.60, -1372.00,   110.90},
	{"East Los Santos",              2381.60, -1494.00,   -89.00,  2421.00, -1454.30,   110.90},
	{"East Los Santos",              2281.40, -1372.00,   -89.00,  2381.60, -1135.00,   110.90},
	{"East Los Santos",              2381.60, -1454.30,   -89.00,  2462.10, -1135.00,   110.90},
	{"East Los Santos",              2462.10, -1454.30,   -89.00,  2581.70, -1135.00,   110.90},
	{"Easter Basin",                -1794.90,   249.90,    -9.10, -1242.90,   578.30,   200.00},
	{"Easter Basin",                -1794.90,   -50.00,    -0.00, -1499.80,   249.90,   200.00},
	{"Easter Bay Airport",          -1499.80,   -50.00,    -0.00, -1242.90,   249.90,   200.00},
	{"Easter Bay Airport",          -1794.90,  -730.10,    -3.00, -1213.90,   -50.00,   200.00},
	{"Easter Bay Airport",          -1213.90,  -730.10,     0.00, -1132.80,   -50.00,   200.00},
	{"Easter Bay Airport",          -1242.90,   -50.00,     0.00, -1213.90,   578.30,   200.00},
	{"Easter Bay Airport",          -1213.90,   -50.00,    -4.50,  -947.90,   578.30,   200.00},
	{"Easter Bay Airport",          -1315.40,  -405.30,    15.40, -1264.40,  -209.50,    25.40},
	{"Easter Bay Airport",          -1354.30,  -287.30,    15.40, -1315.40,  -209.50,    25.40},
	{"Easter Bay Airport",          -1490.30,  -209.50,    15.40, -1264.40,  -148.30,    25.40},
	{"Easter Bay Chemicals",        -1132.80,  -768.00,     0.00,  -956.40,  -578.10,   200.00},
	{"Easter Bay Chemicals",        -1132.80,  -787.30,     0.00,  -956.40,  -768.00,   200.00},
	{"El Castillo del Diablo",       -464.50,  2217.60,     0.00,  -208.50,  2580.30,   200.00},
	{"El Castillo del Diablo",       -208.50,  2123.00,    -7.60,   114.00,  2337.10,   200.00},
	{"El Castillo del Diablo",       -208.50,  2337.10,     0.00,     8.40,  2487.10,   200.00},
	{"El Corona",                    1812.60, -2179.20,   -89.00,  1970.60, -1852.80,   110.90},
	{"El Corona",                    1692.60, -2179.20,   -89.00,  1812.60, -1842.20,   110.90},
	{"El Quebrados",                -1645.20,  2498.50,     0.00, -1372.10,  2777.80,   200.00},
	{"Esplanade East",              -1620.30,  1176.50,    -4.50, -1580.00,  1274.20,   200.00},
	{"Esplanade East",              -1580.00,  1025.90,    -6.10, -1499.80,  1274.20,   200.00},
	{"Esplanade East",              -1499.80,   578.30,   -79.60, -1339.80,  1274.20,    20.30},
	{"Esplanade North",             -2533.00,  1358.90,    -4.50, -1996.60,  1501.20,   200.00},
	{"Esplanade North",             -1996.60,  1358.90,    -4.50, -1524.20,  1592.50,   200.00},
	{"Esplanade North",             -1982.30,  1274.20,    -4.50, -1524.20,  1358.90,   200.00},
	{"Fallen Tree",                  -792.20,  -698.50,    -5.30,  -452.40,  -380.00,   200.00},
	{"Fallow Bridge",                 434.30,   366.50,     0.00,   603.00,   555.60,   200.00},
	{"Fern Ridge",                    508.10,  -139.20,     0.00,  1306.60,   119.50,   200.00},
	{"Financial",                   -1871.70,   744.10,    -6.10, -1701.30,  1176.40,   300.00},
	{"Fisher's Lagoon",              1916.90,  -233.30,  -100.00,  2131.70,    13.80,   200.00},
	{"Flint Intersection",           -187.70, -1596.70,   -89.00,    17.00, -1276.60,   110.90},
	{"Flint Range",                  -594.10, -1648.50,     0.00,  -187.70, -1276.60,   200.00},
	{"Fort Carson",                  -376.20,   826.30,    -3.00,   123.70,  1220.40,   200.00},
	{"Foster Valley",               -2270.00,  -430.20,    -0.00, -2178.60,  -324.10,   200.00},
	{"Foster Valley",               -2178.60,  -599.80,    -0.00, -1794.90,  -324.10,   200.00},
	{"Foster Valley",               -2178.60, -1115.50,     0.00, -1794.90,  -599.80,   200.00},
	{"Foster Valley",               -2178.60, -1250.90,     0.00, -1794.90, -1115.50,   200.00},
	{"Frederick Bridge",             2759.20,   296.50,     0.00,  2774.20,   594.70,   200.00},
	{"Gant Bridge",                 -2741.40,  1659.60,    -6.10, -2616.40,  2175.10,   200.00},
	{"Gant Bridge",                 -2741.00,  1490.40,    -6.10, -2616.40,  1659.60,   200.00},
	{"Ganton",                       2222.50, -1852.80,   -89.00,  2632.80, -1722.30,   110.90},
	{"Ganton",                       2222.50, -1722.30,   -89.00,  2632.80, -1628.50,   110.90},
	{"Garcia",                      -2411.20,  -222.50,    -0.00, -2173.00,   265.20,   200.00},
	{"Garcia",                      -2395.10,  -222.50,    -5.30, -2354.00,  -204.70,   200.00},
	{"Garver Bridge",               -1339.80,   828.10,   -89.00, -1213.90,  1057.00,   110.90},
	{"Garver Bridge",               -1213.90,   950.00,   -89.00, -1087.90,  1178.90,   110.90},
	{"Garver Bridge",               -1499.80,   696.40,  -179.60, -1339.80,   925.30,    20.30},
	{"Glen Park",                    1812.60, -1449.60,   -89.00,  1996.90, -1350.70,   110.90},
	{"Glen Park",                    1812.60, -1100.80,   -89.00,  1994.30,  -973.30,   110.90},
	{"Glen Park",                    1812.60, -1350.70,   -89.00,  2056.80, -1100.80,   110.90},
	{"LIME Palms",                   176.50,  1305.40,    -3.00,   338.60,  1520.70,   200.00},
	{"LIMEglass College",            964.30,  1044.60,   -89.00,  1197.30,  1203.20,   110.90},
	{"LIMEglass College",            964.30,   930.80,   -89.00,  1166.50,  1044.60,   110.90},
	{"Hampton Barns",                 603.00,   264.30,     0.00,   761.90,   366.50,   200.00},
	{"Hankypanky Point",             2576.90,    62.10,     0.00,  2759.20,   385.50,   200.00},
	{"Harry Gold Parkway",           1777.30,   863.20,   -89.00,  1817.30,  2342.80,   110.90},
	{"Hashbury",                    -2593.40,  -222.50,    -0.00, -2411.20,    54.70,   200.00},
	{"Hilltop Farm",                  967.30,  -450.30,    -3.00,  1176.70,  -217.90,   200.00},
	{"Hunter Quarry",                 337.20,   710.80,  -115.20,   860.50,  1031.70,   203.70},
	{"Idlewood",                     1812.60, -1852.80,   -89.00,  1971.60, -1742.30,   110.90},
	{"Idlewood",                     1812.60, -1742.30,   -89.00,  1951.60, -1602.30,   110.90},
	{"Idlewood",                     1951.60, -1742.30,   -89.00,  2124.60, -1602.30,   110.90},
	{"Idlewood",                     1812.60, -1602.30,   -89.00,  2124.60, -1449.60,   110.90},
	{"Idlewood",                     2124.60, -1742.30,   -89.00,  2222.50, -1494.00,   110.90},
	{"Idlewood",                     1971.60, -1852.80,   -89.00,  2222.50, -1742.30,   110.90},
	{"Jefferson",                    1996.90, -1449.60,   -89.00,  2056.80, -1350.70,   110.90},
	{"Jefferson",                    2124.60, -1494.00,   -89.00,  2266.20, -1449.60,   110.90},
	{"Jefferson",                    2056.80, -1372.00,   -89.00,  2281.40, -1210.70,   110.90},
	{"Jefferson",                    2056.80, -1210.70,   -89.00,  2185.30, -1126.30,   110.90},
	{"Jefferson",                    2185.30, -1210.70,   -89.00,  2281.40, -1154.50,   110.90},
	{"Jefferson",                    2056.80, -1449.60,   -89.00,  2266.20, -1372.00,   110.90},
	{"Julius Thruway East",          2623.10,   943.20,   -89.00,  2749.90,  1055.90,   110.90},
	{"Julius Thruway East",          2685.10,  1055.90,   -89.00,  2749.90,  2626.50,   110.90},
	{"Julius Thruway East",          2536.40,  2442.50,   -89.00,  2685.10,  2542.50,   110.90},
	{"Julius Thruway East",          2625.10,  2202.70,   -89.00,  2685.10,  2442.50,   110.90},
	{"Julius Thruway North",         2498.20,  2542.50,   -89.00,  2685.10,  2626.50,   110.90},
	{"Julius Thruway North",         2237.40,  2542.50,   -89.00,  2498.20,  2663.10,   110.90},
	{"Julius Thruway North",         2121.40,  2508.20,   -89.00,  2237.40,  2663.10,   110.90},
	{"Julius Thruway North",         1938.80,  2508.20,   -89.00,  2121.40,  2624.20,   110.90},
	{"Julius Thruway North",         1534.50,  2433.20,   -89.00,  1848.40,  2583.20,   110.90},
	{"Julius Thruway North",         1848.40,  2478.40,   -89.00,  1938.80,  2553.40,   110.90},
	{"Julius Thruway North",         1704.50,  2342.80,   -89.00,  1848.40,  2433.20,   110.90},
	{"Julius Thruway North",         1377.30,  2433.20,   -89.00,  1534.50,  2507.20,   110.90},
	{"Julius Thruway South",         1457.30,   823.20,   -89.00,  2377.30,   863.20,   110.90},
	{"Julius Thruway South",         2377.30,   788.80,   -89.00,  2537.30,   897.90,   110.90},
	{"Julius Thruway West",          1197.30,  1163.30,   -89.00,  1236.60,  2243.20,   110.90},
	{"Julius Thruway West",          1236.60,  2142.80,   -89.00,  1297.40,  2243.20,   110.90},
	{"Juniper Hill",                -2533.00,   578.30,    -7.60, -2274.10,   968.30,   200.00},
	{"Juniper Hollow",              -2533.00,   968.30,    -6.10, -2274.10,  1358.90,   200.00},
	{"K.A.C.C. Military Fuels",      2498.20,  2626.50,   -89.00,  2749.90,  2861.50,   110.90},
	{"Kincaid Bridge",              -1339.80,   599.20,   -89.00, -1213.90,   828.10,   110.90},
	{"Kincaid Bridge",              -1213.90,   721.10,   -89.00, -1087.90,   950.00,   110.90},
	{"Kincaid Bridge",              -1087.90,   855.30,   -89.00,  -961.90,   986.20,   110.90},
	{"King's",                      -2329.30,   458.40,    -7.60, -1993.20,   578.30,   200.00},
	{"King's",                      -2411.20,   265.20,    -9.10, -1993.20,   373.50,   200.00},
	{"King's",                      -2253.50,   373.50,    -9.10, -1993.20,   458.40,   200.00},
	{"LVA Freight Depot",            1457.30,   863.20,   -89.00,  1777.40,  1143.20,   110.90},
	{"LVA Freight Depot",            1375.60,   919.40,   -89.00,  1457.30,  1203.20,   110.90},
	{"LVA Freight Depot",            1277.00,  1087.60,   -89.00,  1375.60,  1203.20,   110.90},
	{"LVA Freight Depot",            1315.30,  1044.60,   -89.00,  1375.60,  1087.60,   110.90},
	{"LVA Freight Depot",            1236.60,  1163.40,   -89.00,  1277.00,  1203.20,   110.90},
	{"Las Barrancas",                -926.10,  1398.70,    -3.00,  -719.20,  1634.60,   200.00},
	{"Las Brujas",                   -365.10,  2123.00,    -3.00,  -208.50,  2217.60,   200.00},
	{"Las Colinas",                  1994.30, -1100.80,   -89.00,  2056.80,  -920.80,   110.90},
	{"Las Colinas",                  2056.80, -1126.30,   -89.00,  2126.80,  -920.80,   110.90},
	{"Las Colinas",                  2185.30, -1154.50,   -89.00,  2281.40,  -934.40,   110.90},
	{"Las Colinas",                  2126.80, -1126.30,   -89.00,  2185.30,  -934.40,   110.90},
	{"Las Colinas",                  2747.70, -1120.00,   -89.00,  2959.30,  -945.00,   110.90},
	{"Las Colinas",                  2632.70, -1135.00,   -89.00,  2747.70,  -945.00,   110.90},
	{"Las Colinas",                  2281.40, -1135.00,   -89.00,  2632.70,  -945.00,   110.90},
	{"Las Payasadas",                -354.30,  2580.30,     2.00,  -133.60,  2816.80,   200.00},
	{"Las Venturas Airport",         1236.60,  1203.20,   -89.00,  1457.30,  1883.10,   110.90},
	{"Las Venturas Airport",         1457.30,  1203.20,   -89.00,  1777.30,  1883.10,   110.90},
	{"Las Venturas Airport",         1457.30,  1143.20,   -89.00,  1777.40,  1203.20,   110.90},
	{"Las Venturas Airport",         1515.80,  1586.40,   -12.50,  1729.90,  1714.50,    87.50},
	{"Last Dime Motel",              1823.00,   596.30,   -89.00,  1997.20,   823.20,   110.90},
	{"Leafy Hollow",                -1166.90, -1856.00,     0.00,  -815.60, -1602.00,   200.00},
	{"Lil' Probe Inn",                -90.20,  1286.80,    -3.00,   153.80,  1554.10,   200.00},
	{"Linden Side",                  2749.90,   943.20,   -89.00,  2923.30,  1198.90,   110.90},
	{"Linden Station",               2749.90,  1198.90,   -89.00,  2923.30,  1548.90,   110.90},
	{"Linden Station",               2811.20,  1229.50,   -39.50,  2861.20,  1407.50,    60.40},
	{"Little Mexico",                1701.90, -1842.20,   -89.00,  1812.60, -1722.20,   110.90},
	{"Little Mexico",                1758.90, -1722.20,   -89.00,  1812.60, -1577.50,   110.90},
	{"Los Flores",                   2581.70, -1454.30,   -89.00,  2632.80, -1393.40,   110.90},
	{"Los Flores",                   2581.70, -1393.40,   -89.00,  2747.70, -1135.00,   110.90},
	{"Los Santos International",     1249.60, -2394.30,   -89.00,  1852.00, -2179.20,   110.90},
	{"Los Santos International",     1852.00, -2394.30,   -89.00,  2089.00, -2179.20,   110.90},
	{"Los Santos International",     1382.70, -2730.80,   -89.00,  2201.80, -2394.30,   110.90},
	{"Los Santos International",     1974.60, -2394.30,   -39.00,  2089.00, -2256.50,    60.90},
	{"Los Santos International",     1400.90, -2669.20,   -39.00,  2189.80, -2597.20,    60.90},
	{"Los Santos International",     2051.60, -2597.20,   -39.00,  2152.40, -2394.30,    60.90},
	{"Marina",                        647.70, -1804.20,   -89.00,   851.40, -1577.50,   110.90},
	{"Marina",                        647.70, -1577.50,   -89.00,   807.90, -1416.20,   110.90},
	{"Marina",                        807.90, -1577.50,   -89.00,   926.90, -1416.20,   110.90},
	{"Market",                        787.40, -1416.20,   -89.00,  1072.60, -1310.20,   110.90},
	{"Market",                        952.60, -1310.20,   -89.00,  1072.60, -1130.80,   110.90},
	{"Market",                       1072.60, -1416.20,   -89.00,  1370.80, -1130.80,   110.90},
	{"Market",                        926.90, -1577.50,   -89.00,  1370.80, -1416.20,   110.90},
	{"Market Station",                787.40, -1410.90,   -34.10,   866.00, -1310.20,    65.80},
	{"Martin Bridge",                -222.10,   293.30,     0.00,  -122.10,   476.40,   200.00},
	{"Missionary Hill",             -2994.40,  -811.20,     0.00, -2178.60,  -430.20,   200.00},
	{"Montgomery",                   1119.50,   119.50,    -3.00,  1451.40,   493.30,   200.00},
	{"Montgomery",                   1451.40,   347.40,    -6.10,  1582.40,   420.80,   200.00},
	{"Montgomery Intersection",      1546.60,   208.10,     0.00,  1745.80,   347.40,   200.00},
	{"Montgomery Intersection",      1582.40,   347.40,     0.00,  1664.60,   401.70,   200.00},
	{"Mulholland",                   1414.00,  -768.00,   -89.00,  1667.60,  -452.40,   110.90},
	{"Mulholland",                   1281.10,  -452.40,   -89.00,  1641.10,  -290.90,   110.90},
	{"Mulholland",                   1269.10,  -768.00,   -89.00,  1414.00,  -452.40,   110.90},
	{"Mulholland",                   1357.00,  -926.90,   -89.00,  1463.90,  -768.00,   110.90},
	{"Mulholland",                   1318.10,  -910.10,   -89.00,  1357.00,  -768.00,   110.90},
	{"Mulholland",                   1169.10,  -910.10,   -89.00,  1318.10,  -768.00,   110.90},
	{"Mulholland",                    768.60,  -954.60,   -89.00,   952.60,  -860.60,   110.90},
	{"Mulholland",                    687.80,  -860.60,   -89.00,   911.80,  -768.00,   110.90},
	{"Mulholland",                    737.50,  -768.00,   -89.00,  1142.20,  -674.80,   110.90},
	{"Mulholland",                   1096.40,  -910.10,   -89.00,  1169.10,  -768.00,   110.90},
	{"Mulholland",                    952.60,  -937.10,   -89.00,  1096.40,  -860.60,   110.90},
	{"Mulholland",                    911.80,  -860.60,   -89.00,  1096.40,  -768.00,   110.90},
	{"Mulholland",                    861.00,  -674.80,   -89.00,  1156.50,  -600.80,   110.90},
	{"Mulholland Intersection",      1463.90, -1150.80,   -89.00,  1812.60,  -768.00,   110.90},
	{"North Rock",                   2285.30,  -768.00,     0.00,  2770.50,  -269.70,   200.00},
	{"Ocean Docks",                  2373.70, -2697.00,   -89.00,  2809.20, -2330.40,   110.90},
	{"Ocean Docks",                  2201.80, -2418.30,   -89.00,  2324.00, -2095.00,   110.90},
	{"Ocean Docks",                  2324.00, -2302.30,   -89.00,  2703.50, -2145.10,   110.90},
	{"Ocean Docks",                  2089.00, -2394.30,   -89.00,  2201.80, -2235.80,   110.90},
	{"Ocean Docks",                  2201.80, -2730.80,   -89.00,  2324.00, -2418.30,   110.90},
	{"Ocean Docks",                  2703.50, -2302.30,   -89.00,  2959.30, -2126.90,   110.90},
	{"Ocean Docks",                  2324.00, -2145.10,   -89.00,  2703.50, -2059.20,   110.90},
	{"Ocean Flats",                 -2994.40,   277.40,    -9.10, -2867.80,   458.40,   200.00},
	{"Ocean Flats",                 -2994.40,  -222.50,    -0.00, -2593.40,   277.40,   200.00},
	{"Ocean Flats",                 -2994.40,  -430.20,    -0.00, -2831.80,  -222.50,   200.00},
	{"Octane Springs",                338.60,  1228.50,     0.00,   664.30,  1655.00,   200.00},
	{"Old Venturas Strip",           2162.30,  2012.10,   -89.00,  2685.10,  2202.70,   110.90},
	{"Palisades",                   -2994.40,   458.40,    -6.10, -2741.00,  1339.60,   200.00},
	{"Palomino Creek",               2160.20,  -149.00,     0.00,  2576.90,   228.30,   200.00},
	{"Paradiso",                    -2741.00,   793.40,    -6.10, -2533.00,  1268.40,   200.00},
	{"Pershing Square",              1440.90, -1722.20,   -89.00,  1583.50, -1577.50,   110.90},
	{"Pilgrim",                      2437.30,  1383.20,   -89.00,  2624.40,  1783.20,   110.90},
	{"Pilgrim",                      2624.40,  1383.20,   -89.00,  2685.10,  1783.20,   110.90},
	{"Pilson Intersection",          1098.30,  2243.20,   -89.00,  1377.30,  2507.20,   110.90},
	{"Pirates in Men's Pants",       1817.30,  1469.20,   -89.00,  2027.40,  1703.20,   110.90},
	{"Playa del Seville",            2703.50, -2126.90,   -89.00,  2959.30, -1852.80,   110.90},
	{"Prickle Pine",                 1534.50,  2583.20,   -89.00,  1848.40,  2863.20,   110.90},
	{"Prickle Pine",                 1117.40,  2507.20,   -89.00,  1534.50,  2723.20,   110.90},
	{"Prickle Pine",                 1848.40,  2553.40,   -89.00,  1938.80,  2863.20,   110.90},
	{"Prickle Pine",                 1938.80,  2624.20,   -89.00,  2121.40,  2861.50,   110.90},
	{"Queens",                      -2533.00,   458.40,     0.00, -2329.30,   578.30,   200.00},
	{"Queens",                      -2593.40,    54.70,     0.00, -2411.20,   458.40,   200.00},
	{"Queens",                      -2411.20,   373.50,     0.00, -2253.50,   458.40,   200.00},
	{"Randolph Industrial Estate",   1558.00,   596.30,   -89.00,  1823.00,   823.20,   110.90},
	{"Redsands East",                1817.30,  2011.80,   -89.00,  2106.70,  2202.70,   110.90},
	{"Redsands East",                1817.30,  2202.70,   -89.00,  2011.90,  2342.80,   110.90},
	{"Redsands East",                1848.40,  2342.80,   -89.00,  2011.90,  2478.40,   110.90},
	{"Redsands West",                1236.60,  1883.10,   -89.00,  1777.30,  2142.80,   110.90},
	{"Redsands West",                1297.40,  2142.80,   -89.00,  1777.30,  2243.20,   110.90},
	{"Redsands West",                1377.30,  2243.20,   -89.00,  1704.50,  2433.20,   110.90},
	{"Redsands West",                1704.50,  2243.20,   -89.00,  1777.30,  2342.80,   110.90},
	{"Regular Tom",                  -405.70,  1712.80,    -3.00,  -276.70,  1892.70,   200.00},
	{"Richman",                       647.50, -1118.20,   -89.00,   787.40,  -954.60,   110.90},
	{"Richman",                       647.50,  -954.60,   -89.00,   768.60,  -860.60,   110.90},
	{"Richman",                       225.10, -1369.60,   -89.00,   334.50, -1292.00,   110.90},
	{"Richman",                       225.10, -1292.00,   -89.00,   466.20, -1235.00,   110.90},
	{"Richman",                        72.60, -1404.90,   -89.00,   225.10, -1235.00,   110.90},
	{"Richman",                        72.60, -1235.00,   -89.00,   321.30, -1008.10,   110.90},
	{"Richman",                       321.30, -1235.00,   -89.00,   647.50, -1044.00,   110.90},
	{"Richman",                       321.30, -1044.00,   -89.00,   647.50,  -860.60,   110.90},
	{"Richman",                       321.30,  -860.60,   -89.00,   687.80,  -768.00,   110.90},
	{"Richman",                       321.30,  -768.00,   -89.00,   700.70,  -674.80,   110.90},
	{"Robada Intersection",         -1119.00,  1178.90,   -89.00,  -862.00,  1351.40,   110.90},
	{"Roca Escalante",               2237.40,  2202.70,   -89.00,  2536.40,  2542.50,   110.90},
	{"Roca Escalante",               2536.40,  2202.70,   -89.00,  2625.10,  2442.50,   110.90},
	{"Rockshore East",               2537.30,   676.50,   -89.00,  2902.30,   943.20,   110.90},
	{"Rockshore West",               1997.20,   596.30,   -89.00,  2377.30,   823.20,   110.90},
	{"Rockshore West",               2377.30,   596.30,   -89.00,  2537.30,   788.80,   110.90},
	{"Rodeo",                          72.60, -1684.60,   -89.00,   225.10, -1544.10,   110.90},
	{"Rodeo",                          72.60, -1544.10,   -89.00,   225.10, -1404.90,   110.90},
	{"Rodeo",                         225.10, -1684.60,   -89.00,   312.80, -1501.90,   110.90},
	{"Rodeo",                         225.10, -1501.90,   -89.00,   334.50, -1369.60,   110.90},
	{"Rodeo",                         334.50, -1501.90,   -89.00,   422.60, -1406.00,   110.90},
	{"Rodeo",                         312.80, -1684.60,   -89.00,   422.60, -1501.90,   110.90},
	{"Rodeo",                         422.60, -1684.60,   -89.00,   558.00, -1570.20,   110.90},
	{"Rodeo",                         558.00, -1684.60,   -89.00,   647.50, -1384.90,   110.90},
	{"Rodeo",                         466.20, -1570.20,   -89.00,   558.00, -1385.00,   110.90},
	{"Rodeo",                         422.60, -1570.20,   -89.00,   466.20, -1406.00,   110.90},
	{"Rodeo",                         466.20, -1385.00,   -89.00,   647.50, -1235.00,   110.90},
	{"Rodeo",                         334.50, -1406.00,   -89.00,   466.20, -1292.00,   110.90},
	{"Royal Casino",                 2087.30,  1383.20,   -89.00,  2437.30,  1543.20,   110.90},
	{"San Andreas Sound",            2450.30,   385.50,  -100.00,  2759.20,   562.30,   200.00},
	{"Santa Flora",                 -2741.00,   458.40,    -7.60, -2533.00,   793.40,   200.00},
	{"Santa Maria Beach",             342.60, -2173.20,   -89.00,   647.70, -1684.60,   110.90},
	{"Santa Maria Beach",              72.60, -2173.20,   -89.00,   342.60, -1684.60,   110.90},
	{"Shady Cabin",                 -1632.80, -2263.40,    -3.00, -1601.30, -2231.70,   200.00},
	{"Shady Creeks",                -1820.60, -2643.60,    -8.00, -1226.70, -1771.60,   200.00},
	{"Shady Creeks",                -2030.10, -2174.80,    -6.10, -1820.60, -1771.60,   200.00},
	{"Sobell Rail Yards",            2749.90,  1548.90,   -89.00,  2923.30,  1937.20,   110.90},
	{"Spinybed",                     2121.40,  2663.10,   -89.00,  2498.20,  2861.50,   110.90},
	{"Starfish Casino",              2437.30,  1783.20,   -89.00,  2685.10,  2012.10,   110.90},
	{"Starfish Casino",              2437.30,  1858.10,   -39.00,  2495.00,  1970.80,    60.90},
	{"Starfish Casino",              2162.30,  1883.20,   -89.00,  2437.30,  2012.10,   110.90},
	{"Temple",                       1252.30, -1130.80,   -89.00,  1378.30, -1026.30,   110.90},
	{"Temple",                       1252.30, -1026.30,   -89.00,  1391.00,  -926.90,   110.90},
	{"Temple",                       1252.30,  -926.90,   -89.00,  1357.00,  -910.10,   110.90},
	{"Temple",                        952.60, -1130.80,   -89.00,  1096.40,  -937.10,   110.90},
	{"Temple",                       1096.40, -1130.80,   -89.00,  1252.30, -1026.30,   110.90},
	{"Temple",                       1096.40, -1026.30,   -89.00,  1252.30,  -910.10,   110.90},
	{"The Camel's Toe",              2087.30,  1203.20,   -89.00,  2640.40,  1383.20,   110.90},
	{"The Clown's Pocket",           2162.30,  1783.20,   -89.00,  2437.30,  1883.20,   110.90},
	{"The Emerald Isle",             2011.90,  2202.70,   -89.00,  2237.40,  2508.20,   110.90},
	{"The Farm",                    -1209.60, -1317.10,   114.90,  -908.10,  -787.30,   251.90},
	{"The Four Dragons Casino",      1817.30,   863.20,   -89.00,  2027.30,  1083.20,   110.90},
	{"The High Roller",              1817.30,  1283.20,   -89.00,  2027.30,  1469.20,   110.90},
	{"The Mako Span",                1664.60,   401.70,     0.00,  1785.10,   567.20,   200.00},
	{"The Panopticon",               -947.90,  -304.30,    -1.10,  -319.60,   327.00,   200.00},
	{"The Pink Swan",                1817.30,  1083.20,   -89.00,  2027.30,  1283.20,   110.90},
	{"The Sherman Dam",              -968.70,  1929.40,    -3.00,  -481.10,  2155.20,   200.00},
	{"The Strip",                    2027.40,   863.20,   -89.00,  2087.30,  1703.20,   110.90},
	{"The Strip",                    2106.70,  1863.20,   -89.00,  2162.30,  2202.70,   110.90},
	{"The Strip",                    2027.40,  1783.20,   -89.00,  2162.30,  1863.20,   110.90},
	{"The Strip",                    2027.40,  1703.20,   -89.00,  2137.40,  1783.20,   110.90},
	{"The Visage",                   1817.30,  1863.20,   -89.00,  2106.70,  2011.80,   110.90},
	{"The Visage",                   1817.30,  1703.20,   -89.00,  2027.40,  1863.20,   110.90},
	{"Unity Station",                1692.60, -1971.80,   -20.40,  1812.60, -1932.80,    79.50},
	{"Valle Ocultado",               -936.60,  2611.40,     2.00,  -715.90,  2847.90,   200.00},
	{"Verdant Bluffs",                930.20, -2488.40,   -89.00,  1249.60, -2006.70,   110.90},
	{"Verdant Bluffs",               1073.20, -2006.70,   -89.00,  1249.60, -1842.20,   110.90},
	{"Verdant Bluffs",               1249.60, -2179.20,   -89.00,  1692.60, -1842.20,   110.90},
	{"Verdant Meadows",                37.00,  2337.10,    -3.00,   435.90,  2677.90,   200.00},
	{"Verona Beach",                  647.70, -2173.20,   -89.00,   930.20, -1804.20,   110.90},
	{"Verona Beach",                  930.20, -2006.70,   -89.00,  1073.20, -1804.20,   110.90},
	{"Verona Beach",                  851.40, -1804.20,   -89.00,  1046.10, -1577.50,   110.90},
	{"Verona Beach",                 1161.50, -1722.20,   -89.00,  1323.90, -1577.50,   110.90},
	{"Verona Beach",                 1046.10, -1722.20,   -89.00,  1161.50, -1577.50,   110.90},
	{"Vinewood",                      787.40, -1310.20,   -89.00,   952.60, -1130.80,   110.90},
	{"Vinewood",                      787.40, -1130.80,   -89.00,   952.60,  -954.60,   110.90},
	{"Vinewood",                      647.50, -1227.20,   -89.00,   787.40, -1118.20,   110.90},
	{"Vinewood",                      647.70, -1416.20,   -89.00,   787.40, -1227.20,   110.90},
	{"Whitewood Estates",             883.30,  1726.20,   -89.00,  1098.30,  2507.20,   110.90},
	{"Whitewood Estates",            1098.30,  1726.20,   -89.00,  1197.30,  2243.20,   110.90},
	{"Willowfield",                  1970.60, -2179.20,   -89.00,  2089.00, -1852.80,   110.90},
	{"Willowfield",                  2089.00, -2235.80,   -89.00,  2201.80, -1989.90,   110.90},
	{"Willowfield",                  2089.00, -1989.90,   -89.00,  2324.00, -1852.80,   110.90},
	{"Willowfield",                  2201.80, -2095.00,   -89.00,  2324.00, -1989.90,   110.90},
	{"Willowfield",                  2541.70, -1941.40,   -89.00,  2703.50, -1852.80,   110.90},
	{"Willowfield",                  2324.00, -2059.20,   -89.00,  2541.70, -1852.80,   110.90},
	{"Willowfield",                  2541.70, -2059.20,   -89.00,  2703.50, -1941.40,   110.90},
	{"Yellow Bell Station",          1377.40,  2600.40,   -21.90,  1492.40,  2687.30,    78.00}
};

new g_Cities[][e_ZONEINFO] =
{
	// Main Zones
	{"Los Santos",                     44.60, -2892.90,  -242.90,  2997.00,  -768.00,   900.00},
	{"Las Venturas",                  869.40,   596.30,  -242.90,  2997.00,  2993.80,   900.00},
	{"Bone County",                  -480.50,   596.30,  -242.90,   869.40,  2993.80,   900.00},
	{"Tierra Robada",               -2997.40,  1659.60,  -242.90,  -480.50,  2993.80,   900.00},
	{"Tierra Robada",               -1213.90,   596.30,  -242.90,  -480.50,  1659.60,   900.00},
	{"San Fierro",                  -2997.40, -1115.50,  -242.90, -1213.90,  1659.60,   900.00},
	{"Red County",                  -1213.90,  -768.00,  -242.90,  2997.00,   596.30,   900.00},
	{"Flint County",                -1213.90, -2892.90,  -242.90,    44.60,  -768.00,   900.00},
	{"Whetstone",                   -2997.40, -2892.90,  -242.90, -1213.90, -1115.50,   900.00}
};

enum enum_SAFE_ZONES
{
	safe_zone_AREA_ID,
	Float:safe_zone_MIN_X,
	Float:safe_zone_MIN_Y,
	Float:safe_zone_MAX_X,
	Float:safe_zone_MAX_Y,
	safe_zone_INTERIOR,
	safe_zone_WORLD,
}
new SAFE_ZONES[][enum_SAFE_ZONES] =
{
	{INVALID_STREAMER_ID, 1996.91,	-1449.67,	2056.86,	-1350.719, 0, 0},
	{INVALID_STREAMER_ID, 1323.9,	-1842.27,	1701.9,	-1722.26, 0, 0},
	{INVALID_STREAMER_ID, 1440.9,	-1722.26,	1583.5,	-1577.589, 0, 0},
	{INVALID_STREAMER_ID, 1249.619,	-2394.33,	1852.0,	-2179.25, 0, 0},
	{INVALID_STREAMER_ID, 1382.729,	-2730.879,	2201.82,	-2394.33, 0, 0},
	{INVALID_STREAMER_ID, -2078.669,	578.395,	-1499.89,	744.267, 0, 0},
	{INVALID_STREAMER_ID, -2741.07,	458.411,	-2533.04,	793.411, 0, 0},
	{INVALID_STREAMER_ID, -1794.92,	-730.117,	-1213.91,	-50.096, 0, 0},
	{INVALID_STREAMER_ID, -792.254,	-698.554,	-452.403,	-380.042, 0, 0},
	{INVALID_STREAMER_ID, -594.19,	-1648.55,	-187.699,	-1276.599, 0, 0},
	{INVALID_STREAMER_ID, 2237.399,	2202.76,	2536.429,	2542.55, 0, 0},
	{INVALID_STREAMER_ID, 1236.63,	1203.28,	1457.369,	1883.109, 0, 0},
	{INVALID_STREAMER_ID, 1457.369,	1203.28,	1777.39,	1883.109, 0, 0},
	{INVALID_STREAMER_ID, -91.585,	1655.05,	421.234,	2123.01, 0, 0},
	{INVALID_STREAMER_ID, -613.953796, -209.777252, -381.961181, -6.355076, 0, 0},
	{INVALID_STREAMER_ID, -115.255050, -1211.812377, -54.539089, -1179.635253, 0, 0}
};

/* Rangos Policias */
enum enum_POLICE_SHOP_WEAPONS
{
	police_shop_RANK,
	police_shop_WEAPON_ID,
	police_shop_WEAPON_PRICE,
}

enum enum_POLICE_SKINS
{
	police_skin_TYPE,
	police_skin_SKIN,
	police_skin_RANK,
}
new POLICE_SKINS[][enum_POLICE_SKINS] =
{
	{SEX_MALE, 280, 1},
	{SEX_MALE, 265, 2},
	{SEX_MALE, 266, 3},
	{SEX_MALE, 267, 4},
	{SEX_MALE, 281, 5},
	{SEX_MALE, 285, 6},
	{SEX_MALE, 282, 7},
	{SEX_MALE, 268, 8},
	{SEX_MALE, 283, 9},

	{SEX_FEMALE, 306, 1},
	{SEX_FEMALE, 307, 3},
	{SEX_FEMALE, 309, 6},
	{SEX_FEMALE, 190, 7},
	{SEX_FEMALE, 192, 8},
	{SEX_FEMALE, 193, 9}
};

new POLICE_RANKS[][] =
{
	/* 0 */ "Civil",
	/* 1 */ "Cadete",
	/* 2 */ "Oficial I",
	/* 3 */ "Oficial II",
	/* 4 */ "Oficial III",
	/* 5 */ "Detective I",
	/* 6 */ "Detective II",
	/* 7 */ "Sargento",
	/* 8 */ "Capitán",
	/* 9 */ "Jefe Policía"
};

enum E_POLICE_VEHICLES {
	vModel,
	vColor1,
	vColor2,
	vRank
};

new pVehicle_Spawn[][E_POLICE_VEHICLES] = {
	{523, 0, 1, 1},
	{596, 0, 1, 1},
	{599, 0, 1, 5},
	{427, 0, 1, 8},
	{528, 0, 1, 8}
};

#define MAX_POLICE_OBJECTS	300
enum enum_POLICE_OBJECTS
{
	bool:police_object_VALID,
	police_object_USER[24],
	police_object_OBJECT_ID,
}
new POLICE_OBJECTS[MAX_POLICE_OBJECTS][enum_POLICE_OBJECTS];

enum enum_POLICE_GARAGE_DOORS
{
	police_gdoor_MODELID,
	Float:police_gdoor_CLOSED_X,
	Float:police_gdoor_CLOSED_Y,
	Float:police_gdoor_CLOSED_Z,
	Float:police_gdoor_CLOSED_RX,
	Float:police_gdoor_CLOSED_RY,
	Float:police_gdoor_CLOSED_RZ,
	Float:police_gdoor_OPENED_X,
	Float:police_gdoor_OPENED_Y,
	Float:police_gdoor_OPENED_Z,
	Float:police_gdoor_OPENED_RX,
	Float:police_gdoor_OPENED_RY,
	Float:police_gdoor_OPENED_RZ,
	Float:police_gdoor_MOVE_SPEED,
	bool:police_gdoor_CLOSING,
	police_gdoor_OBJECT_ID,
	police_gdoor_TIMER,
}
new POLICE_GARAGE_DOORS[][enum_POLICE_GARAGE_DOORS] =
{
	{3055, 1588.48853, -1637.85852, 14.57500, 0.0, 0.0, 0.0, 1588.48853, -1637.85852, 16.45880, 90.0, 0.0, 0.0, 1.3, false, INVALID_STREAMER_ID, -1},
	{3055, 2294.04102, 2498.81396, 4.47113,   0.00000, 0.00000, 90.00000, 2294.0410, 2498.8140, 9.0059, 0.0, 0.0, 90.0, 1.6, false, INVALID_STREAMER_ID, -1},
	{3055, 2335.13086, 2443.66895, 6.97370,   0.00000, 0.00000, 60.00000, 2335.1309, 2443.6689, 11.6876, 0.0, 0.0, 60.0, 1.6, false, INVALID_STREAMER_ID, -1},
	{10184, -1631.69556, 688.56641, 8.70960,   0.00000, 0.00000, 90.00000, -1631.6956, 688.5664, 13.2064, 0.0, 0.0, 90.0, 1.6, false, INVALID_STREAMER_ID, -1}
};

enum enum_POLICE_DOORS
{
	police_door_MODELID,
	Float:police_door_X,
	Float:police_door_Y,
	Float:police_door_Z,
	Float:police_door_RZ,
	police_door_INTERIOR,
	police_door_WORLD,
	bool:police_door_CLOSED,
	police_door_OBJECT_ID,
	police_door_TIMER,
}
new POLICE_DOORS[][enum_POLICE_DOORS] =
{
	{1495, 1582.6055, -1638.0713, 12.3384, 0.0, 0, 0, true, INVALID_STREAMER_ID, -1},//lspd
	{1495, 245.62910, 72.53300, 1002.54999, 0.0, 6, 0, true, INVALID_STREAMER_ID, -1},//lspd
	{1495, 250.65849, 62.58540, 1002.54999, 90.0, 6, 0, true, INVALID_STREAMER_ID, -1},//lspd
	{1495, 226.16409, 71.01760, 1003.95050, 90.0, 6, 0, true, INVALID_STREAMER_ID, -1},//lspd
	{1497, 222.14630, 70.52970, 1003.95050, -90.0, 6, 0, true, INVALID_STREAMER_ID, -1},//lspd
	{1495, -1619.70764, 688.41058, 6.17220, 180.00000, 0, 0, true, INVALID_STREAMER_ID, -1},//sfpd
	{1495, 239.58211, 116.84430, 1002.20319, 90.00000, 10, 0, true, INVALID_STREAMER_ID, -1},//sfpd
	{1495, 253.19209, 108.35700, 1002.20319, 90.00000, 10, 0, true, INVALID_STREAMER_ID, -1},//sfpd
	{1497, 266.59210, 112.56570, 1003.60992, 180.0, 10, 0, true, INVALID_STREAMER_ID, -1},//sfpd
	{1495, 228.27240, 150.46510, 1002.01813, 90.0, 3, 0, true, INVALID_STREAMER_ID, -1},//lvpd
	{1495, 228.27240, 160.45010, 1002.01813, 90.0, 3, 0, true, INVALID_STREAMER_ID, -1},//lvpd
	{1495, 232.21030, 169.83350, 1002.01813, 180.0, 3, 0, true, INVALID_STREAMER_ID, -1},//lvpd
	{1495, 2294.03516, 2492.91528, 2.26740, 90.0, 0, 0, true, INVALID_STREAMER_ID, -1},//lvpd
	{1497, 221.95570, 181.21680, 1002.02142, 0.0, 3, 0, true, INVALID_STREAMER_ID, -1}//lvpd
};

/* SYSTEM - PROPERTIES */
forward OnDefaultPFurChanged(index);
#define MAX_PROPERTIES	2000
enum Property_Info_Enum
{
	property_VALID,
	property_ID,
	Float:property_EXT_X,
	Float:property_EXT_Y,
	Float:property_EXT_Z,
	Float:property_EXT_ANGLE,
	property_EXT_INTERIOR,
	property_EXT_FREEZE,
	property_ID_INTERIOR,

	bool:property_SOLD,
	bool:property_CREW,
	property_OWNER_ID,
	property_CREW_ID,
	property_NAME[24],
	property_PRICE,
	property_LEVEL,
	property_EXTRA,
	property_VIP_LEVEL,
	property_TYPE,
	property_EXTRA1,

	Text3D:property_EXT_LABEL_ID,
	Text3D:property_INT_LABEL_ID,
	property_EXT_PICKUP_ID,
	property_INT_PICKUP_ID,

	property_PRICE_BASE,
	bool:property_DIS_DEFAULT_INTERIOR,

	bool:property_POLICE_FORCING,
	bool:property_POLICE_FORCED,
	property_POLICE_FORCE_TIMER
}
new PROPERTY_INFO[MAX_PROPERTIES][Property_Info_Enum];

/* PROPERTY CONSTRUCTOR */
#define PROPERTY_EMPTY_INTERIOR_Z_OFFSET 20.0
new TOTAL_PROPERTIES_LOADED;
enum PROPERTY_INTERIOR_ENUM
{
	property_creator_LEVEL,
	property_creator_PRICE,
	Float:property_INT_X,
	Float:property_INT_Y,
	Float:property_INT_Z,
	Float:property_INT_ANGLE,
	property_INT_INTERIOR,
	bool:property_INT_FREEZE,
	bool:property_EMPTY_INTERIOR,
	property_creator_TYPE,
}
new PROPERTY_INTERIORS[][PROPERTY_INTERIOR_ENUM] =
{
	{6, 180000, 140.249008, 1366.197509, 1083.859375, 0.0, 5, false, true, 0},
	{6, 160000, 2324.530029, -1149.540039, 1050.710083, 0.0, 12, false, true, 0},
	{6, 270000, 225.679992, 1021.450012, 1084.017700, 0.0, 7, false, true, 0},
	{6, 190000, 234.190002, 1063.729980, 1084.212280, 0.0, 6, false, true, 0},
	{6, 120000, 226.300003, 1114.239990, 1080.992919, 270.0, 5, false, true, 0},
	{6, 180000, 2317.889892, -1026.760009, 1050.217773, 0.0, 9, false, true, 0},
	{6, 120000, 2495.979980, -1692.079956, 1014.742187, 180.0, 3, false, true, 0},
	{6, 90000,  2196.626464, -1204.321411, 1049.023437, 90.0, 6, false, true, 0},
	{6, 105000, 2270.143554, -1210.490600, 1047.562500, 90.0, 10, false, true, 0},
	{4, 90000,  2365.199951, -1135.595825, 1050.882568, 0.0, 8, false, true, 0},
	{3, 75000,  2237.590087, -1081.640014, 1049.023437, 0.0, 2, false, true, 0},
	{4, 65000,  2468.840087, -1698.239990, 1013.507812, 90.0, 2, false, false, 0},
	{3, 45000,  2282.928955, -1140.004516, 1050.898437, 0.0, 11, false, true, 0},
	{4, 50000,  2308.775878, -1212.731689, 1049.023437, 0.0, 6, false, true, 0},
	{6, 135000, 2233.681396, -1114.973510, 1050.882812, 0.0, 5, false, true, 0},
	{6, 230000, 2218.162597, -1076.148315, 1050.484375, 90.0, 1, false, true, 0},
	{6, 220000, 266.654327, 304.961791, 999.148437, 270.0, 2, false, true, 0},
	{6, 30000,  243.720001, 304.910003, 999.148437, 270.0, 1, false, true, 0},
	{6, 65000,  2259.440673, -1135.905883, 1050.640258, 270.0, 10, false, true, 0},
	{12, 3000000, 1260.910034, -785.320068, 1091.906250, 280.0, 5, false, false, 0},
	{4,  570500,  1056.4907, -1755.1863, 535.5806, 181.1608, 10, false, true, 0},
	{7, 1000000,  1403.6003, -20.9603, 1000.9092, 88.7952, 1, false, false, 0},
	{5, 140000, 2403.7600, -1107.2654, 1030.6010, 177.3992, 1, false, false, 4},
	{5, 150000, 2352.1003, -1115.6572, 1030.6010, 358.4842, 1, false, false, 4}
};

enum PROPERTY_CLOSET_POS_ENUM
{
	Float:property_closet_X,
	Float:property_closet_Y,
	Float:property_closet_Z
}
new PROPERTY_CLOSET_POS[][PROPERTY_CLOSET_POS_ENUM] = //de momento posicion de la puerte se cambiara porxiamn
{
	{145.103408, 1384.249877, 1088.367187},
	{2337.974609, -1141.684082, 1054.304687},
	{243.130554, 1046.244384, 1084.000000},
	{235.600509, 1079.485351, 1087.812622},
	{239.347656, 1116.808593, 1084.992187},
	{2326.974365, -1015.419189, 1054.711059},
	{2492.362060, -1708.568969, 1018.336791},
	{2198.682128, -1219.331787, 1049.023437},
	{2258.639892, -1220.260253, 1049.023437},
	{2363.767333, -1127.419433, 1050.882568},
	{2235.885986, -1073.944335, 1049.023437},
	{2450.338867, -1706.199340, 1013.507812},
	{2286.247314, -1137.693359, 1050.898437},
	{2319.417480, -1212.880981, 1049.023437},
	{2231.736328, -1112.198730, 1050.882812},
	{2215.857910, -1074.698974, 1050.484375},
	{270.320709, 303.413482, 999.155761},
	{248.817687, 303.795257, 999.148437},
	{2263.338378, -1132.665161, 1050.632812},
	{1271.444091, -822.371704, 1089.937500}
};

/*enum PROPERTY_CANSADO_POS_ENUM
{
	Float:dormir_pos_X,
	Float:dormir_pos_Y,
	Float:dormir_pos_Z,
	Float:domir_INT_ANGLE,
	dormir_INT_INTERIOR,
}

new POS_DORMIR[][PROPERTY_CANSADO_POS_ENUM] =
{
	{2337.825195, -1137.842895, 1054.304687, 1.644967, 12},
	{238.327590, 1048.877441, 1084.000000, 355.299957, 7},
	{246.881927, 1073.524902, 1084.187500, 358.378143, 6},
	{228.458038, 1109.732299, 1080.992187, 85.131546, 5},
	{2326.340576, -1009.782958, 1054.718750, 354.751708, 9}

};*/

#define MAX_CLOSET_SLOTS	10
enum
{
	CLOSET_TYPE_WEAPON,
	CLOSET_TYPE_MEDICINES,
	CLOSET_TYPE_CANNABIS,
	CLOSET_TYPE_CRACK,
	CLOSET_TYPE_PACKAGE
};
enum enum_PROPERTY_CLOSET
{
	bool:property_closet_VALID,
	property_closet_OBJECT_ID,
	property_closet_TYPE,
	property_closet_INT,
	property_closet_INT_EXTRA
};
new PROPERTY_CLOSET[MAX_PROPERTIES][MAX_CLOSET_SLOTS][enum_PROPERTY_CLOSET];

enum PLAYER_PROPERTY_CONSTRUCTOR_ENU
{
	bool:player_property_creator_ENABLED,
	player_property_creator_INTERIO,
	Float:player_property_creator_EXT_X,
	Float:player_property_creator_EXT_Y,
	Float:player_property_creator_EXT_Z,
	Float:player_property_creator_EXT_ANG,
	player_property_creator_EXT_INT,
}
new PLAYER_PROPERTY_CONSTRUCTOR[MAX_PLAYERS][PLAYER_PROPERTY_CONSTRUCTOR_ENU];

//Taxis
enum TAXI_METER_VEHICLE_Info
{
	bool:veh_taxi_meter_ENABLED,
	veh_taxi_meter_PRICE,
	veh_taxi_meter_PAYMENT,
	Float:veh_taxi_meter_OLD_X,
	Float:veh_taxi_meter_OLD_Y,
	Float:veh_taxi_meter_OLD_Z,
	Float:veh_taxi_meter_DISTANCE,
	veh_taxi_meter_TIMER,
}
new TAXI_METER_VEHICLE[MAX_VEHICLES][TAXI_METER_VEHICLE_Info];

//Pizzero
new Float:PIZZA_DELIVERY_POINT[][] =
{
	{2232.147460, -1785.597656, 13.560449, 82.756179    },
	{2290.242675, -1796.022583, 13.546875, 267.344024   },
	{1739.314575, -1582.890747, 14.158246, 174.783370   },
	{1694.923339, -1583.478881, 13.546875, 179.829818   },
	{1241.816406, -2032.996093, 60.041099, 263.972076   },
	{1187.268798, -1666.487915, 13.634441, 172.332916   },
	{998.998962, -1868.162231, 12.820312, 333.677734    },
	{891.677551, -1695.211669, 13.546875, 182.046417    },
	{507.502838, -1606.101684, 16.247840, 359.563903    },
	{305.462341, -1748.736816, 4.546875, 356.093139     },
	{159.034683, -1906.259521, 3.773437, 0.044234       },
	{387.668762, -2083.981689, 7.835937, 11.638330      },
	{902.655456, -930.055786, 42.601562, 185.516662     },
	{1809.700439, -1166.832885, 24.226562, 168.451568   },
	{2007.953857, -985.501953, 33.888450, 203.231872    },
	{2580.753906, -969.438110, 81.363517, 50.412715     },
	{2796.151855, -1088.867187, 30.719810, 234.631011   },
	{2819.019287, -1614.678588, 11.079871, 245.630599   },
	{2756.354492, -1979.312011, 13.547579, 270.360687   },
	{931.654541, -1231.159545, 16.928218, 262.568939    },
	{952.439208, -913.921447, 45.729900, 180.787841     },
	{824.417663, -2031.578857, 12.867187, 331.166229    },
	{1714.394531, -1629.683593, 20.203384, 332.709594   }
};

enum PIZZA_VEHICLE_Info
{
	bool:pizza_vehicle_STARTED,
	pizza_vehicle_DRIVER_AID,
	pizza_vehicle_PIZZAS,
	pizza_vehicle_PIZZA_POINT,
	bool:pizza_vehicle_PIZZA_POINT_DELI,
}
new PIZZA_VEHICLE[MAX_VEHICLES][PIZZA_VEHICLE_Info];

//Camioneros
new Float:LoadTrucksPoints[][] =
{
	{-520.48822, -502.04059, 25.26037, 0.0},
	{-529.98822, -502.04059, 25.26040, 0.0},
	{-557.48822, -502.04059, 25.26040, 0.0},

	{4471.7319, 5898.2646, 44.1051, 180.0},
	{4477.1011, 5898.2646, 44.1051, 180.0},
	{4481.8916, 5898.2646, 44.1051, 180.0}
};

enum TRUCK_VEHICLE_Info
{
	bool:truck_vehicle_LOADED,
	bool:truck_vehicle_LOADING,
	bool:truck_vehicle_UNLOADING,
	bool:truck_vehicle_DELIVERED,
	truck_vehicle_DRIVER_USER_ID,
	truck_vehicle_POINT,
	truck_vehicle_CURRENT_POINT,
	truck_vehicle_TOTAL_POINTS,
	Float:truck_vehicle_TOTAL_DISTANCE
}
new TRUCK_VEHICLE[MAX_VEHICLES][TRUCK_VEHICLE_Info];

new Float:Truck_Return_Positions[3] =
{
	-481.952117, -521.362060, 25.691177
};

enum Truck_Content_Info
{
	truck_content_EXP,
	truck_content_NAME[32],
	truck_content_MONEY,
	Float:truck_content_X,
	Float:truck_content_Y,
	Float:truck_content_Z
}
new Truck_Contents[][Truck_Content_Info] =
{
	{0, "Productos agrícolas", 950, -185.473693, -280.008880, 1.603357},
	{0, "Productos industriales", 1250, 2168.514404, -2275.264892, 13.128628},
	{0, "Madera y leña", 1700, -2096.593017, -2243.229492, 30.352083},
	{0, "Ropa y complementos", 1975, 2834.454833, 958.061462, 10.479191},
	{25, "Productos de limpieza", 2250, 2524.153076, 2816.919189, 10.547390},
	{50, "Productos de pesca", 2760, -1789.979858, 1421.842895, 6.914581},
	{50, "Productos químicos", 3560, -1862.919433, -202.232727, 18.125516},
	{80, "Productos tecnológicos", 3850, 1039.057983, 2132.961425, 10.547390}
};

/* Mecánico */
new Float:MechanicStartWorkingCoords[1][3] =
{
	{1583.3824, -2145.0291, 13.5579}
};

new Float:MechanicBuyPiecesCoords[1][3] =
{
	{1599.1108, -2175.4253, 13.5779}
};

new Float:MechanicBuyKitsCoords[][3] = {
	{1599.1902, -2172.2930, 13.5779}
};

/* Leñador */
enum
{
	LUMBER_TREE_STATE_NORMAL,
	LUMBER_TREE_STATE_CUTTING,
	LUMBER_TREE_STATE_CUTTED,
}
enum LUMBER_TREES_Info
{
	lumber_tree_MODELID,
	Float:lumber_tree_X,
	Float:lumber_tree_Y,
	Float:lumber_tree_Z,
	Float:lumber_tree_RX,
	Float:lumber_tree_RY,
	Float:lumber_tree_RZ,
	lumber_tree_OBJECT_ID,
	Text3D:lumber_tree_LABEL,
	lumber_tree_STATE,
	lumber_tree_GROW_TIMER,
	lumber_tree_GROW_COUNTER,
}
new LUMBER_TREES[][LUMBER_TREES_Info] =
{
	{657, -467.31256, -47.68515, 59.00023,   0.00000, 0.00000, 0.00000, INVALID_STREAMER_ID, Text3D:INVALID_3DTEXT_ID, LUMBER_TREE_STATE_NORMAL, -1, -1},
	{657, -480.88443, -53.57695, 59.39736,   0.00000, 0.00000, 0.00000, INVALID_STREAMER_ID, Text3D:INVALID_3DTEXT_ID, LUMBER_TREE_STATE_NORMAL, -1, -1},
	{657, -491.79199, -45.14817, 59.24156,   0.00000, 0.00000, 0.00000, INVALID_STREAMER_ID, Text3D:INVALID_3DTEXT_ID, LUMBER_TREE_STATE_NORMAL, -1, -1},
	{657, -493.84619, -54.35930, 59.48059,   0.00000, 0.00000, 0.00000, INVALID_STREAMER_ID, Text3D:INVALID_3DTEXT_ID, LUMBER_TREE_STATE_NORMAL, -1, -1},
	{657, -473.43958, -40.64830, 59.00023,   0.00000, 0.00000, 0.00000, INVALID_STREAMER_ID, Text3D:INVALID_3DTEXT_ID, LUMBER_TREE_STATE_NORMAL, -1, -1},
	{657, -468.32245, -61.54378, 58.98302,   0.00000, 0.00000, 0.00000, INVALID_STREAMER_ID, Text3D:INVALID_3DTEXT_ID, LUMBER_TREE_STATE_NORMAL, -1, -1},
	{657, -458.69937, -75.32365, 58.80302,   0.00000, 0.00000, 0.00000, INVALID_STREAMER_ID, Text3D:INVALID_3DTEXT_ID, LUMBER_TREE_STATE_NORMAL, -1, -1},
	{657, -453.17416, -65.31260, 58.98302,   0.00000, 0.00000, 0.00000, INVALID_STREAMER_ID, Text3D:INVALID_3DTEXT_ID, LUMBER_TREE_STATE_NORMAL, -1, -1},
	{657, -444.92609, -78.80465, 57.97836,   0.00000, 0.00000, 0.00000, INVALID_STREAMER_ID, Text3D:INVALID_3DTEXT_ID, LUMBER_TREE_STATE_NORMAL, -1, -1},
	{657, -465.78470, -85.49714, 58.96302,   0.00000, 0.00000, 0.00000, INVALID_STREAMER_ID, Text3D:INVALID_3DTEXT_ID, LUMBER_TREE_STATE_NORMAL, -1, -1},
	{657, -454.24377, -86.58199, 58.46635,   0.00000, 0.00000, 0.00000, INVALID_STREAMER_ID, Text3D:INVALID_3DTEXT_ID, LUMBER_TREE_STATE_NORMAL, -1, -1},
	{657, -440.20041, -92.70150, 57.60720,   0.00000, 0.00000, 0.00000, INVALID_STREAMER_ID, Text3D:INVALID_3DTEXT_ID, LUMBER_TREE_STATE_NORMAL, -1, -1},
	{657, -484.98972, -65.79082, 59.82284,   0.00000, 0.00000, 0.00000, INVALID_STREAMER_ID, Text3D:INVALID_3DTEXT_ID, LUMBER_TREE_STATE_NORMAL, -1, -1},
	{657, -460.57928, -95.55928, 59.25615,   0.00000, 0.00000, 0.00000, INVALID_STREAMER_ID, Text3D:INVALID_3DTEXT_ID, LUMBER_TREE_STATE_NORMAL, -1, -1},
	{657, -521.20569, -44.74903, 60.62712,   0.00000, 0.00000, 0.00000, INVALID_STREAMER_ID, Text3D:INVALID_3DTEXT_ID, LUMBER_TREE_STATE_NORMAL, -1, -1},
	{657, -534.94348, -50.98387, 61.66861,   0.00000, 0.00000, 0.00000, INVALID_STREAMER_ID, Text3D:INVALID_3DTEXT_ID, LUMBER_TREE_STATE_NORMAL, -1, -1},
	{657, -533.45081, -41.45306, 61.64992,   0.00000, 0.00000, 0.00000, INVALID_STREAMER_ID, Text3D:INVALID_3DTEXT_ID, LUMBER_TREE_STATE_NORMAL, -1, -1},
	{657, -495.74197, -64.77782, 59.94119,   0.00000, 0.00000, 0.00000, INVALID_STREAMER_ID, Text3D:INVALID_3DTEXT_ID, LUMBER_TREE_STATE_NORMAL, -1, -1},
	{657, -519.74005, -72.02750, 61.19377,   0.00000, 0.00000, 0.00000, INVALID_STREAMER_ID, Text3D:INVALID_3DTEXT_ID, LUMBER_TREE_STATE_NORMAL, -1, -1},
	{657, -518.47144, -57.24505, 60.76774,   0.00000, 0.00000, 0.00000, INVALID_STREAMER_ID, Text3D:INVALID_3DTEXT_ID, LUMBER_TREE_STATE_NORMAL, -1, -1}
};

/* Carnicero */
enum
{
	MEAT_STATE_NORMAL,
	MEAT_STATE_CUTTING,
	MEAT_STATE_CUTTED,
}

enum CARNICERO_Info
{
	Float:meat_pos_X,
	Float:meat_pos_Y,
	Float:meat_pos_Z,
	Text3D:meat_LABEL,
	meat_STATE,
	meat_GROW_TIMER,
	meat_GROW_COUNTER,

}
new CARNICERO[][CARNICERO_Info] =
{
	{1426.4937, 1710.1337, -29.5633, Text3D:INVALID_3DTEXT_ID, MEAT_STATE_NORMAL, -1, -1},
	{1430.0415, 1710.1432, -29.5633, Text3D:INVALID_3DTEXT_ID, MEAT_STATE_NORMAL, -1, -1},
	{1435.9034, 1703.8522, -29.5633, Text3D:INVALID_3DTEXT_ID, MEAT_STATE_NORMAL, -1, -1},
	{1430.1179, 1703.7687, -29.5633, Text3D:INVALID_3DTEXT_ID, MEAT_STATE_NORMAL, -1, -1},
	{1426.4623, 1703.7004, -29.5633, Text3D:INVALID_3DTEXT_ID, MEAT_STATE_NORMAL, -1, -1},
	{1435.8978, 1697.2495, -29.5633, Text3D:INVALID_3DTEXT_ID, MEAT_STATE_NORMAL, -1, -1},
	{1430.1792, 1697.3888, -29.5564, Text3D:INVALID_3DTEXT_ID, MEAT_STATE_NORMAL, -1, -1},
	{1426.2631, 1697.3127, -29.5633, Text3D:INVALID_3DTEXT_ID, MEAT_STATE_NORMAL, -1, -1},
	{1436.0515, 1690.1595, -29.5564, Text3D:INVALID_3DTEXT_ID, MEAT_STATE_NORMAL, -1, -1},
	{1430.2734, 1690.1013, -29.5564, Text3D:INVALID_3DTEXT_ID, MEAT_STATE_NORMAL, -1, -1},
	{1426.3097, 1690.0471, -29.5633, Text3D:INVALID_3DTEXT_ID, MEAT_STATE_NORMAL, -1, -1},
	{1436.1252, 1682.0193, -29.5633, Text3D:INVALID_3DTEXT_ID, MEAT_STATE_NORMAL, -1, -1},
	{1430.2910, 1682.1735, -29.5633, Text3D:INVALID_3DTEXT_ID, MEAT_STATE_NORMAL, -1, -1},
	{1426.6183, 1682.1691, -29.5633, Text3D:INVALID_3DTEXT_ID, MEAT_STATE_NORMAL, -1, -1}
};

/* Basurero */

#define MAX_ROUTES	5
#define MAX_OBJECTS_PER_ROUTE	20

enum Trash_Object_Info
{
	bool:trash_route_VALID,
	trash_route_OBJECTS,
	Float:trash_route_DISTANCE,
	trash_route_MONEY,
	trash_object_MODELID[MAX_OBJECTS_PER_ROUTE],
	Float:trash_object_X[MAX_OBJECTS_PER_ROUTE],
	Float:trash_object_Y[MAX_OBJECTS_PER_ROUTE],
	Float:trash_object_Z[MAX_OBJECTS_PER_ROUTE],
	Float:trash_object_RX[MAX_OBJECTS_PER_ROUTE],
	Float:trash_object_RY[MAX_OBJECTS_PER_ROUTE],
	Float:trash_object_RZ[MAX_OBJECTS_PER_ROUTE],
}
new TRASH_OBJECTS[MAX_ROUTES][Trash_Object_Info];
new TRASH_PLAYER_OBJECTS[MAX_PLAYERS][MAX_OBJECTS_PER_ROUTE];

enum TRASH_VEHICLES_INFO
{
	bool:trash_vehicle_JOB_STARTED,
	trash_vehicle_ROUTE,
	trash_vehicle_CP,
	trash_vehicle_DRIVER_ID,
	trash_vehicle_PASSENGER_ID,
}
new TRASH_VEHICLES[MAX_VEHICLES][TRASH_VEHICLES_INFO];

/* SYSTEM - PLAYERTEMP */
enum
{
	PED_STOPPED,
	PED_WALKING,
	PED_RUNNING,
	PED_SPRINTING,
	PED_BYCICLING,
}

enum temp@player@charge 
{
	bool:ofertaCargar,
	pOfertante,
	pOfertadoTo,
	bool:esCargado,
	bool:estaCargando,
	playerCargado,
	cargadoPor

}new cargadoTmp[MAX_PLAYERS][temp@player@charge];

enum
{
	p_PHONE_STATE_OFF,
	p_PHONE_STATE_ON,
	p_PHONE_STATE_MENU,
	p_PHONE_STATE_PAYPAL,
	p_PHONE_STATE_SPOTIFY_MENU,
	p_PHONE_STATE_SPOTIFY_MUSICS,
	p_PHONE_STATE_SPOTIFY_LISTEN,
	p_PHONE_STATE_DISCORD,
	p_PHONE_STATE_CAMERA,
	p_PHONE_STATE_CALL,
	p_PHONE_STATE_CALLING,
	p_PHONE_STATE_WHATSAPP,
	p_PHONE_STATE_GOOGLEMAPS,
	p_PHONE_STATE_BINANCE_MENU,
	p_PHONE_STATE_BINANCE_WALLET,
	p_PHONE_STATE_BINANCE_BUY,
	p_PHONE_STATE_BINANCE_SELL
};

enum Temp_Enum
{
	pt_GAME_STATE,
	pt_NAME[24],
	pt_IP[16],
	bool:pt_USER_EXIST, // Esta registrado?
	bool:pt_USER_LOGGED, // 1 = ha cargado todos los datos del user
	pt_ANTIFLOOD_COMMANDS,
	pt_ANTIFLOOD_TALK,
	pt_TIMERS[MAX_TIMERS_PER_PLAYER],
	bool:pt_USER_VALID_NAME,
	pt_RP_NAME[24],
	pt_BAD_LOGIN_ATTEMP,
	bool:pt_PLAYER_USING_PHONE,
	pt_PLAYER_STATE_PHONE,
	bool:pt_CLOSE_PHONE_USING,
	pt_PLAYER_PHONE_STATE,
	pt_PLAYER_PHONE_TIME,
	pt_PLAYER_BANK_ACCOUNT,
	pt_PLAYER_BANK_PAYPAL[25],
	pt_PLAYER_COIN_SELECT,
	pt_PLAYER_COIN_CANT,
	pt_PLAYER_BINANCE_ID,
	bool:pt_ADMIN_SERVICE,
	Float:pt_DAMAGE_DANIO,
	pt_ESPOSADO,
	pt_EDITING_BASURERO,
	bool:pt_ES_EDICION_REAL,
	pt_VIEWING_BASURERO,
	pt_TRAILER_OBJ, // ID del remolque creado
    pt_RUTA_ACTIVA, // ID de la ruta actual
    bool:pt_CARGADO, // Si ya lleva la carga
    bool:pt_ENTREGADO,
    pt_CHECKPOINT_TIPO,
	pt_DOUBT_CHANNEL_TIME,
	pt_NOMBRE_ORIGINAL[MAX_PLAYER_NAME],
	pt_DEALER_INDEX,
	bool:pt_DEALER_SHOP,
	pt_VEHICLE_DEALER_INDEX,
	pt_VEHICLE_DEALER_SIZE,
	Float:pt_DEATH_HEALTH,
	Float:pt_ARRESTED_HEALTH,
	Float:pt_INJURED_POS[4],
	pt_CURRENT_PARKING_INDEX,
	pt_PLAYER_LISTITEM_EX[MAX_LISTITEMS],
	pt_LAST_LOADED_VEHICLE,
	pt_GLOBAL_CHANNEL_TIME,
	pt_TWITTER_CHANNEL_TIME,
	pt_LAST_PICKUP_ID,
	pt_LAST_AREA_ID,
	pt_HOSPITAL,
	Float:pt_HOSPITAL_LIFE,
	pt_TIME_PASSED_LAST_REP,
	pt_INTERIOR_INDEX,
	pt_LAST_RADIO,
	pt_CLOTHING_SHOP,
	pt_CLOTHING_SHOP_SELECTED_SKIN,
	bool:pt_SELECT_TEXTDRAW,
	bool:pt_HUD_TEXTDRAWS, // Barra de hambre y sed
	bool:pt_THIRST_MESSAGE,
	bool:pt_HUNGRY_MESSAGE,
	bool:pt_TOYS_SHOP,
	pt_TOYS_SHOP_TOY_SELECTED,
	pt_SELECTED_TOY_SLOT,
	pt_SELECT_BANK_TRANSFER_ACCOUNT,
	pt_SELECT_BANK_TRANSFER_ID,
	bool:pt_PLAYER_IN_ATM,
	bool:pt_PHONE_COMMANDS_MESSAGE,
	pt_CURRENT_AD_POINT,
	pt_NIEVE,
	pt_NIEVE_ACTION,
	bool:pt_PLAYER_IN_CALL,
	pt_PLAYER_PHONE_CALL_STATE,
	pt_PLAYER_PHONE_CALL_PLAYERID,
	pt_PLAYER_LISTITEM[MAX_LISTITEMS],
	pt_PLAYER_PHONE_BOOK_ADD_NUMBER,
	pt_PLAYER_PHONE_BOOK_SELECTED,
	pt_PLAYER_PHONE_NUMBER_SELECTED,
	pt_BUY_HOUSE_INDEX,
	pt_BUY_NEGOCIOS_INDEX,
	bool:pt_PLAYER_FINISH_HOSPITAL,
	pt_ANTIFLOOD_KNOCK_PROPERTY,
	pt_ANTIFLOOD_KNOCK_NEGOCIOS,
	pt_KNOCK_PLAYER_ID,
	pt_GPS_CHECKPOINT,
	pt_GPS_PLAYER_SELECTED,
	pt_PLAYER_GPS_SELECTED_PROPERTY[MAX_SU_PROPERTIES],
	pt_PLAYER_PROPERTY_SELECTED,
	pt_FUEL_DOWN_TIME,
	pt_SELECTED_BUY_VEHICLE_ID,
	pt_LAST_VEHICLE_ID,
	pt_NOTARY_OPTION, //0 al banco, 1 a persona
	pt_NOTARY_PRICE,
	pt_NOTARY_TO_PLAYER,
	pt_PLAYER_VEHICLE_SELECTED,
	bool:pt_TAXI_METER_ENABLED,
	bool:pt_WANT_TAXI,
	Float:pt_TRUCK_LOADING_VALUE,
	pt_TRUCK_CHECKPOINT,
	pt_TUNING_SELECTED_PART[24],
	pt_TUNING_SELECTED_COMPONENT[24],
	pt_TUNING_SELECTED_COMPONENT_ID,
	pt_TUNING_SELECTED_PIECES,
	pt_PAINTJOB_SELECTED_ID,
	pt_WORKING_IN,
	pt_WORKING_FACT,
	pt_SELECTED_MECHANIC_VEHICLE_ID,
	pt_MECHANIC_COLOR_SLOT,
	bool:pt_WANT_MECHANIC,
	pt_HARVERT_CHECKPOINT,
	pt_BUS_PROCCESS,
	pt_BUS_CHECKPOINT,
	pt_HARVERT_PROCCESS,
	pt_PIZZA_CHECKPOINT,
	bool:pt_TRASH_DRIVER,
	bool:pt_TRASH_PASSENGER,
	pt_TRASH_VEHICLE_ID,
	pt_TRASH_CHECKPOINT,
	Float:pt_RECYCLE_BIN_VALUE,
	//work lumberjack
	bool:pt_PLAYER_CARRYING_TREE,
	pt_PLAYER_LUMBERJACK_TREE,
	pt_LUMBERJACK_CHECKPOINT,
	pt_LAST_GOT_WORK_TIME,
	bool:pt_NEW_USER,
	pt_LAST_GIVE_MONEY_TIME,
	pt_SELECTED_BUY_SEED_ID,
	bool:pt_PLANTING,
	pt_PLANTING_PLANT_SELECTED,
	bool:pt_GPS_MAP,
	bool:pt_KICKED,
	pt_TRICK_SELLER_PID,
	pt_TRICK_SELLER_AID,
	pt_TRICK_SELLER_EXTRA,
	pt_TRICK_PRICE,
	pt_TRICK_SELLER_INT,
	pt_TRICK_TIME,
	pt_PROPERTY_INDEX,
	pt_DIALOG_BOT_VEHICLE,
	pt_DIALOG_BOT_VEHICLE_BOOT_SLOT,
	pt_POLICE_RADIO,
	pt_TAXI_RADIO,
	pt_MEDIC_RADIO,
	pt_MECHANIC_RADIO,
	bool:pt_CUFFING,
	bool:pt_CUFFED,
	pt_CUFFED_TIMER,
	pt_ENTER_JAIL_TIME,
	pt_DIALOG_DB_LIMIT,
	pt_DIALOG_DB_PAGE,
	pt_SELECTED_DB_AC_ID,
	bool:pt_POLICE_CALL_NAME,
	bool:pt_POLICE_CALL_DESCRIPTION,
	pt_POLICE_CALL_NAME_STR[24],
	pt_TAXI_CALL_NAME_STR[24],
	pt_SAVE_ACCOUNT_TIME,
	pt_TIME_CONSUME,
	pt_SPAWN_AUTOS,
	pt_ANTIFLOOD_REPORT,
	bool:pt_SEE_ACMD_LOG,
	bool:pt_SEE_ADM_LOG,
	bool:pt_SEE_ADM_CHAT,
	pt_WORK_VEHICLE_ID,
	pt_RENT_VEHICLE_ID,
	pt_WORK_VEHICLE_SPAWN_TIMER,
	pt_LAST_CHEAT_DETECTED_TIME,
	bool:pt_SEE_AC_LOG,
	pt_ANTIFLOOD_DEATH,
	pt_ANTIFLOOD_STATE,
	pt_ANTIFLOOD_ENTER_VEHICLE,
	pt_SELECTED_AC_LISTITEM,
	pt_ADMIN_PM_PID,
	pt_ADMIN_PM_AID,
	pt_ADMIN_PM_TIME,
	pt_MECHANIC_PID,
	pt_MECHANIC_AID,
	pt_MECHANIC_PRICE,
	pt_MECHANIC_TEXT[64],
	pt_MECHANIC_TYPE,
	pt_MECHANIC_EXTRA,
	pt_MECHANIC_VEHICLE_ID,
	pt_MECHANIC_PIECES,
	pt_MECHANIC_TIME,
	pt_MECHANIC_SELECTED_COLOR,
	pt_MECHANIC_SELECTED_COMPONENT,
	pt_VIRTUAL_WORLD,
	bool:pt_PLAYER_SPECTATE,
	pt_PIZZA_PROCCESS,
	pt_DELIVERED_PIZZAS,
	pt_PIZZA_ACTOR,
	pt_LAST_PLANT_TIME,
	pt_LAST_SET_WANTED_LEVEL,
	pt_CREATE_CREW_NAME[32],
	pt_CREATE_CREW_COLOR,
	pt_CREW_INVITE_PID,
	pt_CREW_INVITE_AID,
	pt_CREW_INVITE_INFO[4],
	pt_CREW_SELECTED_RANK,
	pt_CREW_SELECTED_NEW_RANK,
	pt_LAST_TERRITORY,
	pt_PLAYER_TERRITORY_PRO,
	pt_PLAYER_COLOR,
	pt_LAST_GOT_CREW,
	pt_POLICE_PEN_PID,
	pt_POLICE_PEN_AID,
	pt_POLICE_PEN_IM,
	pt_POLICE_PEN_TIME,
	pt_DIALOG_ECO_SELECTED,
	pt_LAST_SU_CHECK,
	pt_PIVOT_OBJECT,
	pt_SELECT_TUNING_OBJECT,
	pt_TUNING_PICKUP,
	bool:pt_IN_TUNING_GARAGE,
	bool:pt_TUNING_GARAGE_SHOP,
	pt_TUNING_GARAGE_VEHICLEID,
	pt_TUNING_EDIT_SLOT,
	Float:pt_OLD_EDIT_VOBJECT_POS[6],
	pt_TUNING_EDIT_COLOR_SLOT,
	pt_COUNTRY_TYPE,
	pt_PASSWD[24],
	bool:pt_CONTROL,
	pt_SELECTING_STYLE,
	pt_SELECTED_STYLE,
	pt_PROPERTY_CINFO[4],
	pt_CJ_WARNINGS,
	pt_FIRST_NAME[24],
	pt_SUB_NAME[24],
	pt_LAST_SAFE_ZONE_WARNING,
	pt_SELECTED_POLICE_OBJECT_INDEX,
	pt_SELECTED_BYC_ID,
	pt_SELECTED_BYC_USER_ID,
	bool:pt_DIALOG_RESPONDED,
	pt_DIALOG_ID,
	bool:pt_DL_EXAM,
	pt_DL_EXAM_CP,
	pt_DL_EXAM_PROCCESS,
	pt_COOLDOWN_MEDICINE,
	pt_COOLDOWN_CRACK,
	pt_COOLDOWN_WEED,
	pt_COOLDOWN_VENDA,
	pt_COOLDOWN_BOTI,
	pt_SELECTED_OBJECT,
	pt_DIALOG_CLOSET_PROPERTY,
	pt_DIALOG_CLOSET_PROPERTY_SLOT,
	bool:pt_CLASSED,
	pt_CREW_INDEX,
	pt_DEATH_TIME,
	pt_TRUCKER_AD,
	pt_TRUCKER_VEH,
	bool:pt_CREW_HELP,
	pt_DIALOG_SHOW,
	pt_DO,
	pt_VENTA,
	pt_ROL,
	pt_CARR,
	pt_CAR,
	pt_LAST_VEHICLE_DESTROY,
	pt_LOGIN_KICK_TIMER,
	pt_COOLDOWN_MEDICAL_KIT,
	pt_SELECTED_GRAFFITI,
	pt_MESSAGE_ENGINE,
	pt_REF_CALLED,
	bool:pt_USING_MASK,
	bool:pt_IN_VEHICLE_REPAIR,
	pt_MODE,
	pt_LAST_KILLER,
	pt_MUTED_Twitter,
	pt_MUTED_GLOBAL,
	pt_SELECT_PACKET,
	pt_TRICK_PACKET,
	pt_TRICK_USER,
    pt_EN_INTRO,
    pt_TIME_PICKUP,
    bool:pt_AUTO_LOGGED,
    pt_PLAYER_LISTED[500],
	pt_MERCHANT_INDEX,
	Float:pt_HERIDO_POS[4],
	bool:pt_IN_INJURED_ANIMATION,
    pt_TIME_PAUSE,
    pt_PICKUP_TIMER,
    pt_VEHICLE_REPAIR_INDEX,
    pt_LAST_SHOT_TICK,
    pt_FABRICA_ID,
    pt_NEGOCIO_ID,
    pt_EN_APARTAMENTO,
    pt_EN_DEALER
};
new PLAYER_TEMP[MAX_PLAYERS][Temp_Enum]; // PT (PlayerTemp), variables que no van a ser guardadas en base de datos.

#define MAX_ADS_PER_PLAYER	3
enum
{
	PLAYER_SHOP_STATE_ALL,
	PLAYER_SHOP_STATE_AD,
	PLAYER_SHOP_STATE_MY_ADS,
}

enum
{
	SHOP_ARTICLE_TYPE_PROPERTY,
	SHOP_ARTICLE_TYPE_NEGOCIOS,
	SHOP_ARTICLE_TYPE_VEHICLE,
	SHOP_ARTICLE_TYPE_OTHER,
}

enum
{
	MECHANIC_OPTION_REPAIR,
	MECHANIC_OPTION_TRUNK,
	MECHANIC_OPTION_COLOR_1,
	MECHANIC_OPTION_COLOR_2,
	MECHANIC_OPTION_TUNING,
	MECHANIC_OPTION_REMOVE_COMPONEN,
	MECHANIC_OPTION_PAINTJOB,
}

//EnterExits
//EnterExits
enum {
	INTERIOR_NO_INFO,
	INTERIOR_BINCO,
	INTERIOR_SUBURBAN,
	INTERIOR_PROLAPS,
	INTERIOR_DIDIER_SACHS,
	INTERIOR_VICTIM,
	INTERIOR_ZIP,
	INTERIOR_247,
	INTERIOR_PIZZA,
	INTERIOR_CLUCKIN_BELL,
	INTERIOR_BURGER_SHOT,
	INTERIOR_BANK_LS,
	INTERIOR_BANK_SF,
	INTERIOR_BANK_LV,
	INTERIOR_CITY_HALL_LS,
	INTERIOR_UNITY_STATION,
	INTERIOR_TRUCK,
	INTERIOR_POLICE_GARAGE,
	INTERIOR_HOSPITAL,
	INTERIOR_DRIVING_SCHOOL,
	INTERIOR_BLACK_MARKET,
	INTERIOR_PHARMACY,
	INTERIOR_ADMIN_ZONE,
	INTERIOR_POLICE_LS,
	INTERIOR_POLICE_SF,
	INTERIOR_POLICE_LV,
	INTERIOR_FABRICA

}
enum Enter_Exits {
	ee_VISIBLE_ITEMS,
	ee_MAIN_ACTOR,
	ee_TIMER,
	ee_ID,
	ee_NAME[64],
	ee_INTERIOR_TYPE,
	
	ee_INT_MAPICON,
	ee_INT_FREEZE,
	ee_INT_WORLD,
	ee_INT_INTERIOR,

	Float:ee_INT_X,
	Float:ee_INT_Y,
	Float:ee_INT_Z,
	Float:ee_INT_ANGLE,
	
	ee_EXT_MAPICON,
	ee_EXT_FREEZE,
	ee_EXT_WORLD,
	ee_EXT_INTERIOR,

	Float:ee_EXT_X,
	Float:ee_EXT_Y,
	Float:ee_EXT_Z,
	Float:ee_EXT_ANGLE,
	
	ee_TIME_OPEN,
	ee_TIME_CLOSE,

	ee_INT_MAPICON_ID,
	ee_EXT_MAPICON_ID,

	Text3D:ee_INT_LABEL_ID,
	Text3D:ee_EXT_LABEL_ID,

	ee_INT_PICKUP_ID,
	ee_EXT_PICKUP_ID,

	ee_GPS_NAME[24]
}

new ENTER_EXIT[][Enter_Exits] = {
	{-1, INVALID_ACTOR_ID, -1, -1, "Binco", INTERIOR_BINCO, -1, false, 0, 15, 207.744949, -111.073318, 1005.132812, 0.0,	45, false, 0, 0, 2244.484863, -1665.223510, 15.476562, 0.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Binco", INTERIOR_BINCO, -1, false, 1, 15, 207.744949, -111.073318, 1005.132812, 0.0,	45, false, 0, 0, -2374.125976, 910.103271, 45.433864, 90.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Binco", INTERIOR_BINCO, -1, false, 2, 15, 207.744949, -111.073318, 1005.132812, 0.0,	45, false, 0, 0, 2101.902832, 2257.391845, 11.023437, 270.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Binco", INTERIOR_BINCO, -1, false, 3, 15, 207.744949, -111.073318, 1005.132812, 0.0,	45, false, 0, 0, 1656.993408, 1733.450195, 10.828111, 90.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "SubUrban", INTERIOR_SUBURBAN, -1, false, 0, 1, 203.906326, -50.494247, 1001.804687, 0.0,	45, false, 0, 0, 2112.835205, -1211.456665, 23.962865, 180.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "SubUrban", INTERIOR_SUBURBAN, -1, false, 1, 1, 203.906326, -50.494247, 1001.804687, 0.0,	45, false, 0, 0, -2490.140869, -29.123632, 25.617187, 90.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "SubUrban", INTERIOR_SUBURBAN, -1, false, 2, 1, 203.906326, -50.494247, 1001.804687, 0.0,	45, false, 0, 0, 2779.590087, 2453.658203, 11.062500, 136.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "ProLaps", INTERIOR_PROLAPS, -1, false, 0, 3, 206.995925, -140.021163, 1003.507812, 0.0,	45, false, 0, 0, 499.498168, -1360.616088, 16.368682, 340.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "ProLaps", INTERIOR_PROLAPS, -1, false, 1, 3, 206.995925, -140.021163, 1003.507812, 0.0,	45, false, 0, 0, 2825.891357, 2407.322265, 11.062500, 133.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Didier Sachs", INTERIOR_DIDIER_SACHS, -1, false, 0, 14, 204.348281, -168.678985, 1000.523437, 0.0,	45, false, 0, 0, 453.858032, -1478.098632, 30.813968, 111.110641, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Didier Sachs", INTERIOR_DIDIER_SACHS, -1, false, 1, 14, 204.348281, -168.678985, 1000.523437, 0.0,	45, false, 0, 0, 1642.838012, -2284.760742, -1.195312, 270.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Victim", INTERIOR_VICTIM, -1, false, 0, 5, 227.350250, -8.188652, 1002.210937, 90.0,	45, false, 0, 0, 461.541320, -1500.892333, 31.049194, 98.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Victim", INTERIOR_VICTIM, -1, false, 1, 5, 227.350250, -8.188652, 1002.210937, 90.0,	45, false, 0, 0, -1694.747558, 951.613464, 24.890625, 135.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Victim", INTERIOR_VICTIM, -1, false, 2, 5, 227.350250, -8.188652, 1002.210937, 90.0,	45, false, 0, 0, 2802.926269, 2430.682861, 11.062500, 130.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "ZIP", INTERIOR_ZIP, -1, false, 0, 18, 161.401184, -96.887367, 1001.804687, 0.0,	45, false, 0, 0, 1456.611816, -1137.818969, 23.961400, 215.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "ZIP", INTERIOR_ZIP, -1, false, 1, 18, 161.401184, -96.887367, 1001.804687, 0.0,	45, false, 0, 0, -1882.421997, 866.394836, 35.171875, 138.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "ZIP", INTERIOR_ZIP, -1, false, 2, 18, 161.401184, -96.887367, 1001.804687, 0.0,	45, false, 0, 0, 2090.534667, 2224.481933, 11.023437, 180.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "ZIP", INTERIOR_ZIP, -1, false, 3, 18, 161.401184, -96.887367, 1001.804687, 0.0,	45, false, 0, 0, 2572.074218, 1904.711181, 11.023437, 180.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "24/7", INTERIOR_247, -1, false, 0, 18, -30.958774, -91.807441, 1003.546875, 0.0,	17, false, 0, 0, 2194.734130, 1991.022216, 12.296875, 90.0,	0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "24/7", INTERIOR_247, -1, false, 1, 18, -30.958774, -91.807441, 1003.546875, 0.0,	17, false, 0, 0, -180.966003, 1034.823242, 19.742187, 90.0,	0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "24/7", INTERIOR_247, -1, false, 2, 18, -30.958774, -91.807441, 1003.546875, 0.0,	17, false, 0, 0, 1352.314941, -1758.961425, 13.507812, 0.0,	0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "24/7", INTERIOR_247, -1, false, 3, 18, -30.958774, -91.807441, 1003.546875, 0.0,	17, false, 0, 0, 1833.540771, -1842.542724, 13.578125, 90.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "24/7", INTERIOR_247, -1, false, 4, 18, -30.958774, -91.807441, 1003.546875, 0.0,	17, false, 0, 0, 2884.694335, 2453.865478, 11.068956, 225.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "24/7", INTERIOR_247, -1, false, 5, 18, -30.958774, -91.807441, 1003.546875, 0.0,	17, false, 0, 0, 2097.616210, 2224.081298, 11.023437, 180.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "24/7", INTERIOR_247, -1, false, 6, 18, -30.958774, -91.807441, 1003.546875, 0.0,	17, false, 0, 0, 2247.650146, 2396.417236, 10.820312, 0.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "24/7", INTERIOR_247, -1, false, 7, 18, -30.958774, -91.807441, 1003.546875, 0.0,	17, false, 0, 0, 1315.453247, -897.967102, 39.578125, 180.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "24/7", INTERIOR_247, -1, false, 8, 18, -30.958774, -91.807441, 1003.546875, 0.0,	17, false, 0, 0, 1000.317199, -919.933349, 42.328125, 105.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "24/7", INTERIOR_247, -1, false, 9, 18, -30.958774, -91.807441, 1003.546875, 0.0,	17, false, 0, 0, 2452.572021, 2064.924316, 10.820312, 180.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "24/7", INTERIOR_247, -1, false, 10, 18, -30.958774, -91.807441, 1003.546875, 0.0,	17, false, 0, 0, 2546.502929, 1972.397338, 10.820312, 180.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "24/7", INTERIOR_247, -1, false, 11, 18, -30.958774, -91.807441, 1003.546875, 0.0,	17, false, 0, 0, 1937.592773, 2307.269042, 10.820312, 90.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "24/7", INTERIOR_247, -1, false, 12, 18, -30.958774, -91.807441, 1003.546875, 0.0,	17, false, 0, 0, -1562.437744, -2733.189941, 48.743457, 234.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "24/7", INTERIOR_247, -1, false, 13, 18, -30.958774, -91.807441, 1003.546875, 0.0,	17, false, 0, 0, -2442.718994, 755.316589, 35.171875, 180.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
//	{-1, INVALID_ACTOR_ID, -1, -1, "24/7", INTERIOR_247, -1, false, 14, 18, -30.958774, -91.807441, 1003.546875, 0.0,	17, false, 0, 0, 1605.3993, -2151.1086, 13.8141, 223.1830, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""}, //meca
	{-1, INVALID_ACTOR_ID, -1, -1, "24/7", INTERIOR_247, -1, false, 15, 18, -30.958774, -91.807441, 1003.546875, 0.0,	17, false, 0, 0, 1928.5833, -1776.2985, 13.5469, 261.4121, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""}, //gaso
	{-1, INVALID_ACTOR_ID, -1, -1, "Well Stacked Pizza", INTERIOR_PIZZA, -1, false, 0, 5, 372.310729, -133.246292, 1001.492187, 0.0,	29, false, 0, 0, 2105.234619, -1806.479614, 13.554687, 90.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Well Stacked Pizza", INTERIOR_PIZZA, -1, false, 1, 5, 372.310729, -133.246292, 1001.492187, 0.0,	29, false, 0, 0, -1721.211425, 1359.705932, 7.185316, 90.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Well Stacked Pizza", INTERIOR_PIZZA, -1, false, 2, 5, 372.310729, -133.246292, 1001.492187, 0.0,	29, false, 0, 0, 2756.652099, 2477.132812, 11.062500, 135.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Well Stacked Pizza", INTERIOR_PIZZA, -1, false, 3, 5, 372.310729, -133.246292, 1001.492187, 0.0,	29, false, 0, 0, 2083.380615, 2224.687988, 11.023437, 180.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Well Stacked Pizza", INTERIOR_PIZZA, -1, false, 4, 5, 372.310729, -133.246292, 1001.492187, 0.0,	29, false, 0, 0, 2351.770996, 2533.328369, 10.820312, 180.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Well Stacked Pizza", INTERIOR_PIZZA, -1, false, 5, 5, 372.310729, -133.246292, 1001.492187, 0.0,	29, false, 0, 0, 2638.568847, 1849.818481, 11.023437, 90.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Well Stacked Pizza", INTERIOR_PIZZA, -1, false, 6, 5, 372.310729, -133.246292, 1001.492187, 0.0,	29, false, 0, 0, 372.310729, -133.246292, 1001.492187, 0.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Well Stacked Pizza", INTERIOR_PIZZA, -1, false, 7, 5, 372.310729, -133.246292, 1001.492187, 0.0,	29, false, 0, 0, 375.114501, -117.272621, 1001.492187, 180.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Cluckin Bell", INTERIOR_CLUCKIN_BELL, -1, false, 0, 9, 364.914093, -11.778851, 1001.851562, 0.0,	14, false, 0, 0, 2419.926025, -1509.024780, 24.000000, 270.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Cluckin Bell", INTERIOR_CLUCKIN_BELL, -1, false, 1, 9, 364.914093, -11.778851, 1001.851562, 0.0,	14, false, 0, 0, 2397.772949, -1898.847778, 13.546875, 0.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Cluckin Bell", INTERIOR_CLUCKIN_BELL, -1, false, 2, 9, 364.914093, -11.778851, 1001.851562, 0.0,	14, false, 0, 0, 928.553466, -1352.848876, 13.343750, 90.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Cluckin Bell", INTERIOR_CLUCKIN_BELL, -1, false, 3, 9, 364.914093, -11.778851, 1001.851562, 0.0,	14, false, 0, 0, 2838.312011, 2407.552978, 11.068956, 225.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Cluckin Bell", INTERIOR_CLUCKIN_BELL, -1, false, 4, 9, 364.914093, -11.778851, 1001.851562, 0.0,	14, false, 0, 0, 2101.901367, 2228.776855, 11.023437, 270.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Cluckin Bell", INTERIOR_CLUCKIN_BELL, -1, false, 5, 9, 364.914093, -11.778851, 1001.851562, 0.0,	14, false, 0, 0, 2393.372070, 2041.856323, 10.820312, 0.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Cluckin Bell", INTERIOR_CLUCKIN_BELL, -1, false, 6, 9, 364.914093, -11.778851, 1001.851562, 0.0,	14, false, 0, 0, 2638.423828, 1671.904296, 11.023437, 90.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Cluckin Bell", INTERIOR_CLUCKIN_BELL, -1, false, 7, 9, 364.914093, -11.778851, 1001.851562, 0.0,	14, false, 0, 0, -1816.567382, 618.417419, 35.171875, 180.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Cluckin Bell", INTERIOR_CLUCKIN_BELL, -1, false, 8, 9, 364.914093, -11.778851, 1001.851562, 0.0,	14, false, 0, 0, -2671.401611, 257.927551, 4.632812, 0.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Cluckin Bell", INTERIOR_CLUCKIN_BELL, -1, false, 9, 9, 364.914093, -11.778851, 1001.851562, 0.0,	14, false, 0, 0, 364.914093, -11.778851, 1001.851562, 0.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Cluckin Bell", INTERIOR_CLUCKIN_BELL, -1, false, 10, 9, 364.914093, -11.778851, 1001.851562, 0.0,	14, false, 0, 0, 368.652679, -4.492218, 1001.851562, 180.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Burger Shot", INTERIOR_BURGER_SHOT, -1, false, 0, 10, 362.869354, -75.153747, 1001.507812, 315.0,	10, false, 0, 0, 810.715270, -1616.163330, 13.546875, 270.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Burger Shot", INTERIOR_BURGER_SHOT, -1, false, 1, 10, 362.869354, -75.153747, 1001.507812, 315.0,	10, false, 0, 0, 1199.272216, -918.372253, 43.121376, 180.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Burger Shot", INTERIOR_BURGER_SHOT, -1, false, 2, 10, 362.869354, -75.153747, 1001.507812, 315.0,	10, false, 0, 0, 2366.805419, 2071.106201, 10.820312, 90.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Burger Shot", INTERIOR_BURGER_SHOT, -1, false, 3, 10, 362.869354, -75.153747, 1001.507812, 315.0,	10, false, 0, 0, 2472.626464, 2034.173339, 11.062500, 90.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Burger Shot", INTERIOR_BURGER_SHOT, -1, false, 4, 10, 362.869354, -75.153747, 1001.507812, 315.0,	10, false, 0, 0, 1872.485351, 2071.812255, 11.062500, 270.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Burger Shot", INTERIOR_BURGER_SHOT, -1, false, 5, 10, 362.869354, -75.153747, 1001.507812, 315.0,	10, false, 0, 0, 2169.620117, 2795.799072, 10.820312, 270.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Burger Shot", INTERIOR_BURGER_SHOT, -1, false, 6, 10, 362.869354, -75.153747, 1001.507812, 315.0,	10, false, 0, 0, 1157.925659, 2072.159912, 11.062500, 270.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Burger Shot", INTERIOR_BURGER_SHOT, -1, false, 7, 10, 362.869354, -75.153747, 1001.507812, 315.0,	10, false, 0, 0, -2356.003173, 1008.051147, 50.898437, 90.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Burger Shot", INTERIOR_BURGER_SHOT, -1, false, 8, 10, 362.869354, -75.153747, 1001.507812, 315.0,	10, false, 0, 0, -2336.861816, -166.945022, 35.554687, 270.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Burger Shot", INTERIOR_BURGER_SHOT, -1, false, 9, 10, 362.869354, -75.153747, 1001.507812, 315.0,	10, false, 0, 0, -1912.406860, 827.900634, 35.227863, 315.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Banco Los Santos", INTERIOR_BANK_LS, -1, false, 5, 5, 1412.077880, 1315.779907, 1501.087890, 90.0, 52, false, 0, 0, 1477.583740, -1010.425170, 26.843750, 180.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Banco San Fierro", INTERIOR_BANK_SF, -1, true, 10, 10, 1104.824462, 1515.503173, 1452.807128, 0, 52, false, 0, 0, -1961.384887, 441.804687, 35.171875, 90.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Banco Las Venturas", INTERIOR_BANK_LV, -1, true, 15, 15, 2673.430908, -610.844604, -71.658203, 270.0, 52, false, 0, 0, 2474.557861, 1024.154052, 10.820312, 180.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{1000, INVALID_ACTOR_ID, -1, -1, "Gobierno San Andreas", INTERIOR_CITY_HALL_LS, -1, true, 20, 20, 617.550659, -26.078269, 1000.990295, 0.0, 3, false, 0, 0, 1480.966918, -1772.065673, 18.795755, 0.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Unity Station", INTERIOR_UNITY_STATION, -1, false, 0, 3, 1494.416015, 1303.681884, 1093.289062, 0.0, -1, false, 0, 0, 1752.603881, -1894.155883, 13.557376, 270.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Camioneros", INTERIOR_TRUCK, -1, true, 25, 18, 1297.457031, -61.437820, 1002.498046, 180.0, -1, false, 0, 0, -510.699890, -539.409118, 25.523437, 180.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Policia Los Santos", INTERIOR_POLICE_LS, -1, false, 0, 6, 246.827011, 62.424068, 1003.640625, 0.0, 30, false, 0, 0, 1555.400390, -1675.611694, 16.195312, 90.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
// Reemplaza tu línea de garaje LSPD por esta exactamente:
{-1, INVALID_ACTOR_ID, -1, -1, "Policia Los Santos", INTERIOR_POLICE_GARAGE, -1, 0, 0, 6, 246.4078, 87.9032, 1003.6406, 180.0, -1, 0, 0, 0, 1568.6519, -1690.0806, 6.2187, 180.0, -1, -1, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, "Comisaria LSPD"},
	{-1, INVALID_ACTOR_ID, -1, -1, "Hospital", INTERIOR_HOSPITAL, -1, false, 1, 3, 2063.2744, -1405.9264, 942.9642, 90.0, 22, false, 0, 0, 2034.197875, -1403.040039, 17.294845, 180.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Hospital", INTERIOR_HOSPITAL, -1, false, 2, 3, 2063.2744, -1405.9264, 942.9642, 90.0, 22, false, 0, 0, 1172.832763, -1323.269531, 15.400051, 270.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Hospital", INTERIOR_HOSPITAL, -1, false, 3, 3, 2063.2744, -1405.9264, 942.9642, 90.0, 22, false, 0, 0, 1242.235595, 328.113281, 19.755510, 0.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Hospital", INTERIOR_HOSPITAL, -1, false, 4, 3, 2063.2744, -1405.9264, 942.9642, 90.0, 22, false, 0, 0, -2201.566162, -2307.610839, 30.625000, 320.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Hospital", INTERIOR_HOSPITAL, -1, false, 5, 3, 2063.2744, -1405.9264, 942.9642, 90.0, 22, false, 0, 0, -2655.108886, 639.278625, 14.453125, 180.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Hospital", INTERIOR_HOSPITAL, -1, false, 6, 3, 2063.2744, -1405.9264, 942.9642, 90.0, 22, false, 0, 0, -318.812774, 1050.359130, 20.340259, 0.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Hospital", INTERIOR_HOSPITAL, -1, false, 7, 3, 2063.2744, -1405.9264, 942.9642, 90.0, 22, false, 0, 0, -1514.855590, 2520.366699, 55.909828, 0.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Hospital", INTERIOR_HOSPITAL, -1, false, 8, 3, 2063.2744, -1405.9264, 942.9642, 90.0, 22, false, 0, 0, 1583.311401, 1768.952758, 10.820312, 90.0, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Escuela de Conducir", INTERIOR_DRIVING_SCHOOL, -1, false, 1, 1, 1067.775512, -338.253540, 2797.699951, 180.0, 36, false, 0, 0, 1153.9894, -1772.6492, 16.5992, 0.8853, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, "Licencia de Automovil"},
	{-1, INVALID_ACTOR_ID, -1, -1, "Mercado Negro", INTERIOR_BLACK_MARKET, -1, false, 1, 1, 1257.7573, 629.1966, -41.8727, 182.2564, 23, false, 0, 0, 2494.0999, -1464.6708, 24.0254, 352.9490, 23, 24, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""}, 
    {-1, INVALID_ACTOR_ID, -1, -1, "Mercado Negro", INTERIOR_BLACK_MARKET, -1, false, 2, 1, 1257.7573, 629.1966, -41.8727, 182.2564, 23, false, 0, 0, 2770.7004, -1628.7234, 12.1775, 355.2818, 05, 06, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""}, 
    {-1, INVALID_ACTOR_ID, -1, -1, "Mercado Negro", INTERIOR_BLACK_MARKET, -1, false, 3, 1, 1257.7573, 629.1966, -41.8727, 182.2564, 23, false, 0, 0, 2323.7839, 13.0632, 26.4844, 170.8722, 13, 14, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""}, 
    {-1, INVALID_ACTOR_ID, -1, -1, "Mercado Negro", INTERIOR_BLACK_MARKET, -1, false, 4, 1, 1257.7573, 629.1966, -41.8727, 182.2564, 23, false, 0, 0, 1297.0322, 353.3503, 19.5547, 249.4260, 23, 25, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""}, 
    {-1, INVALID_ACTOR_ID, -1, -1, "Mercado Negro", INTERIOR_BLACK_MARKET, -1, false, 5, 1, 1257.7573, 629.1966, -41.8727, 182.2564, 23, false, 0, 0, 646.8146, -511.4411, 16.3359, 358.4639, 12, 13, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""}, 
    {-1, INVALID_ACTOR_ID, -1, -1, "Mercado Negro", INTERIOR_BLACK_MARKET, -1, false, 6, 1, 1257.7573, 629.1966, -41.8727, 182.2564, 23, false, 0, 0, 255.4722, -158.1288, 1.5703, 84.7748, 09, 12, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""}, 
    {-1, INVALID_ACTOR_ID, -1, -1, "Mercado Negro", INTERIOR_BLACK_MARKET, -1, false, 7, 1, 1257.7573, 629.1966, -41.8727, 182.2564, 23, false, 0, 0, 51.6686, 1222.1752, 18.9145, 85.4112, 19, 21, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""}, 
    {-1, INVALID_ACTOR_ID, -1, -1, "Mercado Negro", INTERIOR_BLACK_MARKET, -1, false, 8, 1, 1257.7573, 629.1966, -41.8727, 182.2564, 23, false, 0, 0, 1679.9502, 1762.6923, 10.8291, 177.2893, 23, 24, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""}, 
    {-1, INVALID_ACTOR_ID, -1, -1, "Mercado Negro", INTERIOR_BLACK_MARKET, -1, false, 9, 1, 1257.7573, 629.1966, -41.8727, 182.2564, 23, false, 0, 0, 1068.8927, 2383.2654, 10.8203, 349.4335, 21, 23, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""}, 
    {-1, INVALID_ACTOR_ID, -1, -1, "Mercado Negro", INTERIOR_BLACK_MARKET, -1, false, 10, 1, 1257.7573, 629.1966, -41.8727, 182.2564, 23, false, 0, 0, 263.6038, 2895.4731, 10.5314, 27.7467, 08, 09, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""}, 
    {-1, INVALID_ACTOR_ID, -1, -1, "Mercado Negro", INTERIOR_BLACK_MARKET, -1, false, 11, 1, 1257.7573, 629.1966, -41.8727, 182.2564, 23, false, 0, 0, -1463.1968, 2628.6160, 58.7734, 349.3821, 08, 09, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""}, 
    {-1, INVALID_ACTOR_ID, -1, -1, "Mercado Negro", INTERIOR_BLACK_MARKET, -1, false, 12, 1, 1257.7573, 629.1966, -41.8727, 182.2564, 23, false, 0, 0, -1061.6124, 1562.1187, 33.4313, 34.3667, 22, 25, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""}, 
    {-1, INVALID_ACTOR_ID, -1, -1, "Mercado Negro", INTERIOR_BLACK_MARKET, -1, false, 13, 1, 1257.7573, 629.1966, -41.8727, 182.2564, 23, false, 0, 0, -2446.8921, 2512.2158, 15.7003, 268.0068, 14, 16, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""}, 
    {-1, INVALID_ACTOR_ID, -1, -1, "Mercado Negro", INTERIOR_BLACK_MARKET, -1, false, 14, 1, 1257.7573, 629.1966, -41.8727, 182.2564, 23, false, 0, 0, -2110.9207, -43.9475, 35.3203, 174.2830, 15, 17, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""}, 
    {-1, INVALID_ACTOR_ID, -1, -1, "Mercado Negro", INTERIOR_BLACK_MARKET, -1, false, 15, 1, 1257.7573, 629.1966, -41.8727, 182.2564, 23, false, 0, 0, -2093.4341, -2417.6628, 30.6250, 321.0594, 3, 4, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Farmacia", INTERIOR_PHARMACY, -1, false, 4, 4, -27.2724, -31.4541, 1003.5573, 356.4702, 22, false, 0, 0, 2063.0342, -1897.2124, 13.5538, 176.6345, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Farmacia", INTERIOR_PHARMACY, -1, false, 5, 4, -27.2724, -31.4541, 1003.5573, 356.4702, 22, false, 0, 0, 694.9771, -500.1252, 16.3359, 1.9875, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""}, 
	
	{-1, INVALID_ACTOR_ID, -1, -1, "Farmacia", INTERIOR_PHARMACY, -1, false, 6, 4, -27.2724, -31.4541, 1003.5573, 356.4702, 22, false, 0, 0, -2162.894775, 129.211791, 35.320312, 247.250015, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Farmacia", INTERIOR_PHARMACY, -1, false, 7, 4, -27.2724, -31.4541, 1003.5573, 356.4702, 22, false, 0, 0, -1582.070678, 947.864013, 7.187500, 265.411682, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Farmacia", INTERIOR_PHARMACY, -1, false, 8, 4, -27.2724, -31.4541, 1003.5573, 356.4702, 22, false, 0, 0, 2086.201660, 2066.852539, 11.057899, 270.111724, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Farmacia", INTERIOR_PHARMACY, -1, false, 9, 4, -27.2724, -31.4541, 1003.5573, 356.4702, 22, false, 0, 0, 2436.722900, 1131.732055, 10.812517, 85.440757, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Farmacia", INTERIOR_PHARMACY, -1, false, 10, 4, -27.2724, -31.4541, 1003.5573, 356.4702, 22, false, 0, 0, 2333.549804, -67.295516, 26.484375, 273.482543, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
	{-1, INVALID_ACTOR_ID, -1, -1, "Farmacia", INTERIOR_PHARMACY, -1, false, 11, 4, -27.2724, -31.4541, 1003.5573, 356.4702, 22, false, 0, 0, 294.387207, -187.591567, 1.578125, 105.110557, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""},
//	{-1, INVALID_ACTOR_ID, -1, -1, "Logistica de Spain +", INTERIOR_ADMIN_ZONE, -1, false, 1, 0, 232.8765, 1822.7367, 7.4141, 91.4262, -1, false, 0, 0, 1410.7903, -1486.8801, 20.4355, 178.4441, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""}
    {-1, INVALID_ACTOR_ID, -1, -1, "Fabrica", INTERIOR_FABRICA, -1, false, 500, 2, 2576.7156,-1290.0043,1044.1250,89.0502, 0, false, 0, 0, 1797.818847, -1578.880126, 14.090199, 275.270599, 0, 0, -1, -1, Text3D:INVALID_3DTEXT_ID, Text3D:INVALID_3DTEXT_ID, -1, -1, ""}
};

enum enum_JAIL_POSITIONS
{
	jail_INT,
	Float:jail_X,
	Float:jail_Y,
	Float:jail_Z,
	Float:jail_ANGLE,
	jail_INTERIOR,
}
new JAIL_POSITIONS[][enum_JAIL_POSITIONS] = 
{
	{INTERIOR_POLICE_LS, 265.070129, 77.518280, 1001.039062, 270.0, 6} //jaills
};

enum BUY_PROPERTIES_SITES_INFO
{
	site_INTERIOR_TYPE,
	Float:site_X,
	Float:site_Y,
	Float:site_Z,
	site_WORLD,
	site_INTERIOR,
}
new BUY_PROPERTIES_SITES[][BUY_PROPERTIES_SITES_INFO] =
{
	{INTERIOR_BANK_LS, 1396.346435, 1320.558471, 1501.090698, 5, 5},
	{INTERIOR_BANK_SF, 1116.351684, 1540.468750, 1451.827148, 10, 10},
	{INTERIOR_BANK_LV, 2681.990966, -615.470520, -71.658203, 15, 15}
};

enum
{
	PRODUCT_TYPE_NONE,
	PRODUCT_TYPE_FOOD,
	PRODUCT_TYPE_PHONE,
	PRODUCT_TYPE_GPS,
	PRODUCT_TYPE_MP3,
	PRODUCT_TYPE_PHONE_RESOLVER,
	PRODUCT_TYPE_JBL,
	PRODUCT_TYPE_SPEAKERS,
	PRODUCT_TYPE_KIT,
}
enum Supermarket_Enum
{
	product_TYPE,
	product_NAME[24],
	product_PRICE,
	Float:product_HUNGRY,
	Float:product_THIRST,
	product_DRUNK,
	product_id_mano,
}
new Supermarket_Product_List[][Supermarket_Enum] =
{
	{PRODUCT_TYPE_PHONE, "Telefono", 750, 0.0, 0.0, 0, 67},
	{PRODUCT_TYPE_PHONE_RESOLVER, "Guia telefnica", 200, 0.0, 0.0, 0, 0},
	{PRODUCT_TYPE_GPS, "Localizador GPS", 800, 0.0, 0.0, 0, 0},
	{PRODUCT_TYPE_JBL, "Parlante", 50000, 0.0, 0.0, 0, 258},
	{PRODUCT_TYPE_FOOD, "Lata de coca-cola", 40, 0.0, 12.0, 0, 60},
	{PRODUCT_TYPE_FOOD, "Lata de cerveza", 30, 0.0, 10.0, 0, 61},
	{PRODUCT_TYPE_FOOD, "Barra de chocolate", 80, 15.0, 0.0, 0, 55},
	{PRODUCT_TYPE_FOOD, "Pizza", 60, 20.0, 0.0, 0, 66},
	{PRODUCT_TYPE_FOOD, "Nachos de queso", 50, 15.0, 2.0, 0, 57},
	{PRODUCT_TYPE_FOOD, "Hamburguesa", 45, 10.0, 2.0, 0, 65},
	{PRODUCT_TYPE_FOOD, "Fernet", 40, 0.0, 3.0, 4500, 70},
	{PRODUCT_TYPE_FOOD, "Tequila", 80, 0.0, 3.0, 2500, 71},
	{PRODUCT_TYPE_FOOD, "Whisky", 200, 0.0, 3.0, 3000, 72},
	{PRODUCT_TYPE_FOOD, "Gaseosa", 100, 0.0, 3.0, 3000, 58},
	{PRODUCT_TYPE_FOOD, "Fanta", 120, 0.0, 3.0, 3000, 59},
	{PRODUCT_TYPE_FOOD, "Vino", 190, 0.0, 3.0, 3000, 62},
	{PRODUCT_TYPE_FOOD, "Tequila", 130, 0.0, 3.0, 3000, 72},
	{PRODUCT_TYPE_FOOD, "Ron", 170, 0.0, 3.0, 3000, 64},
	{PRODUCT_TYPE_FOOD, "Encendedor", 70, 0.0, 3.0, 3000, 68},
	{PRODUCT_TYPE_FOOD, "Cigarrillos", 70, 0.0, 3.0, 3000, 69},
	{PRODUCT_TYPE_KIT, "Kit de reparación", 1000, 0.0, 0.0, 0, 114}
};

enum Clothing_Shop_Info
{
	clothing_shop_INTERIOR_TYPE,
	clothing_shop_NAME[24],
	Float:clothing_shop_X,
	Float:clothing_shop_Y,
	Float:clothing_shop_Z,
	Float:clothing_shop_ANGLE,
	clothing_shop_INTERIOR,
}
new Clothing_Shop_Positions[][Clothing_Shop_Info] =  
{ 
	{INTERIOR_BINCO, "Binco", 207.733657, -100.633468, 1005.257812, 180.0, 15}, //Binco
	{INTERIOR_SUBURBAN, "SubUrban", 203.789169, -43.261127, 1001.804687, 0.139882, 1}, //SubUrban
	{INTERIOR_PROLAPS, "ProLaps", 207.064910, -129.177688, 1003.507812, 2.295757, 3}, //prolaps
	{INTERIOR_DIDIER_SACHS, "Didier Sachs", 204.357238, -159.502349, 1000.523437, 357.297515, 14}, //Didier
	{INTERIOR_VICTIM, "Victim", 206.373947, -7.220408, 1001.210937, 89.267509, 5}, //Victim
	{INTERIOR_ZIP, "ZIP", 161.417160, -83.329345, 1001.804687, 358.119964, 18} //Zip
};

new const COLOR_LEVEL[] = 
{
	0xFF0000FF,
	0xFF69B4FF,
	0xFF4500FF,
	0xFFD700FF,
	0xADFF2FFF,
	0x008000FF,
	0x9400D3FF,
	0x0000FFFF,
	0x40E0D0FF,
	0xE6E6FAFF,
	0x008080FF,
	0xF28500FF,
	0xFFFFFFFF,
	0x696969FF,
	0xF4A460FF,
	0x1E90FFFF
};

enum Fast_Food_Info
{
	fast_food_INTERIOR_TYPE,
	fast_food_NAME[24],
	Float:fast_food_X,
	Float:fast_food_Y,
	Float:fast_food_Z,
	fast_food_INTERIOR,
}
new Fast_Food_Positions[][Fast_Food_Info] =
{
	{INTERIOR_BURGER_SHOT, "Burger Shot", 375.913238, -67.435272, 1001.507812, 10}, // BurgerShot
	{INTERIOR_PIZZA, "Well Stacked Pizza", 375.254730, -118.804710, 1001.499511, 5},
	{INTERIOR_CLUCKIN_BELL, "Cluckin Bell", 368.757904, -6.018908, 1001.851562, 9} //Cluckin Bell
};

enum atm_bank_info
{
	atm_modelid,
	Float:atm_X,
	Float:atm_Y,
	Float:atm_Z,
	Float:atm_RX,
	Float:atm_RY,
	Float:atm_RZ
}
new ATM_BANK[MAX_BANK_ATM][atm_bank_info] = 
{
	{2754, 2833.38672, 2402.91553, 10.93546,   0.00000, 0.00000, 131.44171},
	{2754, 2088.78442, 1510.00574, 10.69234,   0.00000, 0.00000, 45.39682},
	{2754, 1662.92346, 1723.03162, 10.53258,   0.00000, 0.00000, 90.27153},
	{2754, -16.17070, 1219.33813, 19.17369,   0.00000, 0.00000, 179.53238},
	{2754, -1505.91687, 2612.09058, 55.63910,   0.00000, 0.00000, 178.85609},
	{2754, -2540.67188, 2340.96143, 4.79166,   0.00000, 0.00000, 90.97625},
	{2754, -1690.23547, 1327.11902, 7.04427,   0.00000, 0.00000, 43.44909},
	{2754, -1980.48608, 155.24883, 27.49554,   0.00000, 0.00000, 359.06995},
	{2754, -2631.60693, -6.86652, 5.97444,   0.00000, 0.00000, 181.99303},
	{2754, -2146.54395, -2332.90283, 30.43888,   0.00000, 0.00000, 232.48808},
	{2754, 574.90155, -1419.96509, 14.22211,   0.00000, 0.00000, 283.89526},
	{2754, 1227.24524, -1428.54846, 13.29063,   0.00000, 0.00000, 269.20294},
	{2754, 1810.57153, -1873.97852, 13.38759,   0.00000, 0.00000, 180.44339},
	{2754, 1493.07471, -1022.08618, 23.63997,   0.00000, 0.00000, 91.19178},
	{2754, 2330.78149, 81.79469, 26.33336,   0.00000, 0.00000, 269.20883},
	{2754, 711.71503, -542.69287, 16.04271,   0.00000, 0.00000, 180.17184},
	{2754, 242.68755, -54.72442, 1.31352,   0.00000, 0.00000, 0.00000},
	{2754, 1381.12219, 233.81693, 19.28907,   0.00000, 0.00000, 154.79193}
};

#define MAX_BANK_TRANSACTIONS_DIALOG	20
enum
{
	BANK_TRANSACTION_WITHDRAW,
	BANK_TRANSACTION_DEPOSIT,
	BANK_TRANSACTION_TRANSFER,
	BANK_TRANSACTION_CREATE_ACCOUNT,
	BANK_TRANSACTION_BUY_PROPERTY,
	BANK_TRANSACTION_BUY_NEGOCIOS,
	BANK_TRANSACTION_SOLD_PROPERTY,
	BANK_TRANSACTION_SOLD_NEGOCIOS,
	BANK_TRANSACTION_BUY_VEHICLE,
	BANK_TRANSACTION_SOLD_VEHICLE
};
enum Bank_Interior_Info
{
	bank_INTERIOR_TYPE,
	Float:bank_X,
	Float:bank_Y,
	Float:bank_Z,
	bank_WORLD,
	bank_INTERIOR,
}

new Bank_Interior_Positions[][Bank_Interior_Info] =
{
	{INTERIOR_BANK_LS, 1407.356201, 1320.171142, 1501.083984, 5, 5},
	{INTERIOR_BANK_SF, 1105.033935, 1529.565795, 1452.480957, 10, 10},
	{INTERIOR_BANK_LV, 2690.869628, -610.943664, -71.658203, 15, 15}
};

enum Food_Info
{
	food_NAME[24],
	food_PRICE,
	Float:food_HUNGRY,
	Float:food_THIRST,
	product_DRUNK,
	product_id_mano,
}
new PIZZA_FOOD[][Food_Info] =
{
	{"Lata de coca-cola", 40, 0.0, 12.0, 0, 60},
	{"Lata de cerveza", 30, 0.0, 10.0, 0, 61},
	{"Barra de chocolate", 80, 15.0, 0.0, 0, 55},
	{"Pizza", 60, 20.0, 0.0, 0, 66},
	{"Nachos de queso", 50, 15.0, 2.0, 0, 57},
	{"Hamburguesa", 45, 10.0, 2.0, 0, 65},
	{"Fernet", 40, 0.0, 3.0, 4500, 70},
	{"Tequila", 80, 0.0, 3.0, 2500, 71},
	{"Whisky", 200, 0.0, 3.0, 3000, 72},
	{"Patatas", 60, 20.0, 0.0, 0, 56},
	{"Fanta", 80, 0.0, 3.0, 2500, 59},
	{"Vino", 80, 0.0, 3.0, 2500, 62},
	{"Gaseosa", 80, 0.0, 3.0, 2500, 58}
};
new BURGER_SHOT_FOOD[][Food_Info] =
{
	{"Lata de coca-cola", 40, 0.0, 12.0, 0, 60},
	{"Lata de cerveza", 30, 0.0, 10.0, 0, 61},
	{"Barra de chocolate", 80, 15.0, 0.0, 0, 55},
	{"Pizza", 60, 20.0, 0.0, 0, 66},
	{"Nachos de queso", 50, 15.0, 2.0, 0, 57},
	{"Hamburguesa", 45, 10.0, 2.0, 0, 65},
	{"Fernet", 40, 0.0, 3.0, 4500, 70},
	{"Tequila", 80, 0.0, 3.0, 2500, 71},
	{"Whisky", 200, 0.0, 3.0, 3000, 72},
	{"Patatas", 60, 20.0, 0.0, 0, 56},
	{"Fanta", 80, 0.0, 3.0, 2500, 59},
	{"Vino", 80, 0.0, 3.0, 2500, 62},
	{"Gaseosa", 80, 0.0, 3.0, 2500, 58}
};
new CLUCKIN_BELL_FOOD[][Food_Info] =
{
	{"Lata de coca-cola", 40, 0.0, 12.0, 0, 60},
	{"Lata de cerveza", 30, 0.0, 10.0, 0, 61},
	{"Barra de chocolate", 80, 15.0, 0.0, 0, 55},
	{"Pizza", 60, 20.0, 0.0, 0, 66},
	{"Nachos de queso", 50, 15.0, 2.0, 0, 57},
	{"Hamburguesa", 45, 10.0, 2.0, 0, 65},
	{"Fernet", 40, 0.0, 3.0, 4500, 70},
	{"Tequila", 80, 0.0, 3.0, 2500, 71},
	{"Whisky", 200, 0.0, 3.0, 3000, 72},
	{"Patatas", 60, 20.0, 0.0, 0, 56},
	{"Fanta", 80, 0.0, 3.0, 2500, 59},
	{"Vino", 80, 0.0, 3.0, 2500, 62},
	{"Gaseosa", 80, 0.0, 3.0, 2500, 58}
};

new TACO_FOOD[][Food_Info] =
{
	{"Lata de coca-cola", 40, 0.0, 12.0, 0, 60},
	{"Lata de cerveza", 30, 0.0, 10.0, 0, 61},
	{"Barra de chocolate", 80, 15.0, 0.0, 0, 55},
	{"Pizza", 60, 20.0, 0.0, 0, 66},
	{"Nachos de queso", 50, 15.0, 2.0, 0, 57},
	{"Hamburguesa", 45, 10.0, 2.0, 0, 65},
	{"Fernet", 40, 0.0, 3.0, 4500, 70},
	{"Tequila", 80, 0.0, 3.0, 2500, 71},
	{"Whisky", 200, 0.0, 3.0, 3000, 72},
	{"Patatas", 60, 20.0, 0.0, 0, 56},
	{"Fanta", 80, 0.0, 3.0, 2500, 59},
	{"Vino", 80, 0.0, 3.0, 2500, 62},
	{"Gaseosa", 80, 0.0, 3.0, 2500, 58}
};
new STEAK_FOOD[][Food_Info] =
{
	{"Lata de coca-cola", 40, 0.0, 12.0, 0, 60},
	{"Lata de cerveza", 30, 0.0, 10.0, 0, 61},
	{"Barra de chocolate", 80, 15.0, 0.0, 0, 55},
	{"Pizza", 60, 20.0, 0.0, 0, 66},
	{"Nachos de queso", 50, 15.0, 2.0, 0, 57},
	{"Hamburguesa", 45, 10.0, 2.0, 0, 65},
	{"Fernet", 40, 0.0, 3.0, 4500, 70},
	{"Tequila", 80, 0.0, 3.0, 2500, 71},
	{"Whisky", 200, 0.0, 3.0, 3000, 72},
	{"Patatas", 60, 20.0, 0.0, 0, 56},
	{"Fanta", 80, 0.0, 3.0, 2500, 59},
	{"Vino", 80, 0.0, 3.0, 2500, 62},
	{"Gaseosa", 80, 0.0, 3.0, 2500, 58}
};

enum Player_Toys_Info
{
	player_toy_VALID,

	player_toy_ID,
	player_toy_NAME[24],
	player_toy_ATTACHED,
	player_toy_MODELID,
	player_toy_BONE,
	Float:player_toy_OFFSET_X,
	Float:player_toy_OFFSET_Y,
	Float:player_toy_OFFSET_Z,
	Float:player_toy_ROT_X,
	Float:player_toy_ROT_Y,
	Float:player_toy_ROT_Z,
	Float:player_toy_SCALE_X,
	Float:player_toy_SCALE_Y,
	Float:player_toy_SCALE_Z,
	player_toy_COLOR_1,
	player_toy_COLOR_2,
}
new PLAYER_TOYS[MAX_PLAYERS][MAX_SU_TOYS][Player_Toys_Info]; //PTOYS = PlayerToys

new Toys_Bones[][24] =
{
	{"Espalda"},
	{"Cabeza"},
	{"Brazo izquierdo"},
	{"Brazo derecho"},
	{"Mano izquierda"},
	{"Mano derecha"},
	{"Muslo izquierdo"},
	{"Muslo derecho"},
	{"Pie izquierdo"},
	{"Pie derecho"},
	{"Pantorrilla derecha"},
	{"Pantorrilla izquierda"},
	{"Antebrazo izquierdo"},
	{"Antebrazo derecho"},
	{"Hombro izquierdo"},
	{"Hombro derecho"},
	{"Cuello"},
	{"Boca"}
};
enum oi_info
{
	obj_ID,
	obj_BONE,
	obj_NAME[32]
};
new OBJETOS_INFO[][oi_info] =
{
	{0, 1,	"Desconocido"},
	{1, 1,	"Manopla"},
	{2, 1,	"Palo de golf"},
	{3, 1,	"Porra"},
	{4, 1,	"Cuchillo"},
	{5, 1,	"Bate de beisbol"},
	{6, 1,	"Pala"},
	{7, 1,	"Palo de billar"},
	{8, 1,	"Katana"},
	{9, 1,	"Motosierra"},
	{10, 1,	"Consolador rosa"},
	{11, 1,	"Vibrador blanco"},
	{12, 1,	"Gran vibrador blanco"},
	{13, 1,	"Vibrador plateado"},
	{14, 1,	"Ramo de flores"},
	{15, 1,	"Baston"},
	{16, 1,	"Granada"},
	{17, 1,	"Gas Lacrimógeno"},
	{18, 1,	"Molotov"},
	{22, 1,	"9mm"},
	{23, 1,	"9mm con silenciador"},
	{24, 1,	"Desert Eagle"},
	{25, 1,	"Escopeta"},
	{26, 1,	"Sawn Off"},
	{27, 1,	"Escopeta de combate"},
	{28, 1,	"UZI"},
	{29, 1,	"MP5"},
	{30, 1,	"AK-47"},
	{31, 1,	"M4"},
	{32, 1,	"TEC-9"},
	{33, 1,	"Rifle"},
	{34, 1,	"Sniper"},
	{35, 1,	"Lanzacohetes"},
	{36, 1,	"Bazooka"},
	{37, 1,	"Lanzallamas"},
	{38, 1,	"Minigun"},
	{39, 1,	"Bomba"},
	{40, 1,	"Detonador"},
	{41, 1,	"Spray"},
	{42, 1,	"Extintor De Incendios"},
	{43, 1,	"Camara"},
	{44, 1,	"Lentes de visión nocturna"},
	{45, 1,	"Gafas termicas"},
	{46, 1,	"Paracaídas"},
	{19472, 2, "Mascara Anti-Gas"},
	{18637, 4,	"Escudo Policía"},
	{18640, 2,	"Peluca"},
	{18642, 6,	"Taser"},
	{18645, 2,	"Casco con Llamas"},
	{18646, 2,  "Casco con Luces"},
	{18692, 6, 	"Llamas"},
	{18913, 2,	"Bandana Verde"},
	{18917, 2,	"Bandana Azul"},
	{18918, 2,	"Bandana Negro"},
	{18939, 2,	"Jockey Azul"},
	{18942, 2,	"Jockey Ploma"},
	{18943, 2,	"Jockey Verde"},
	{18947, 2,	"Sombrero Negro"},
	{18961, 2,	"Jockey de Camionero"},
	{18962, 2,	"Sombrero negro"},
	{18964, 2,	"Gorro Negro"},
	{18974, 2,	"Antifaz"},
	{18976, 2,	"Casco Azul"},
	{18978, 2,	"Casco Blanco"},
	{18979, 2,	"Casco Morado"},
	{19033, 2,	"Gafas Negras"},
	{19036, 2,	"Mascara Blanca"},
	{19064, 2,	"Gorra de Navidad"},
	{19078, 15,	"Loro"},
	{19079, 16, "Loro"},
	{19086, 6,	"Vibrador Gigante"},
	{19093, 2,	"Gorro"},
	{19136, 2,	"Sombrero con Pelo"},
	{19137, 2,	"Mascara de Pollo"},
	{19138, 2,	"Lentes Negros"},
	{19139, 2,	"Lentes Rojos"},
	{19140, 2,	"Lentes Azules"},
	{19142, 1,	"Chaleco"},
	{19352, 2,	"Sombrero Elegante"},
	{19421, 2,	"Audifonos"},
	{19472, 2,	"Mascara de Gas"},
	{19488, 2,	"Sombrero Gris"},
	{19559, 1,	"Mochila"},
	{19801, 2,	"Mascara"},
	{18897, 2, "Bandana azul"},
	{18898, 2, "Bandana verde"},
	{18899, 2, "Bandana Rosa"},
 	{18971, 2, "Sombrero blanco y negro"},
 	{18972, 2, "Sombrero negro y naranja"},
 	{18893, 2, "Gorra pirata blanca"},
 	{18895, 2, "Gorra pirata negra"},
 	{18915, 2, "Cubre boca morado"},
 	{18920, 2, "Cubre boca amarillo"},
 	{18949, 2, "Sombrero verde"},
 	{19022, 2, "Lentes negros"},
 	{19023, 2, "Lentes azules"},
 	{19025, 2, "Lentes morado"},
 	{19029, 2, "Lentes verdes"},
 	{19069, 2, "Gorra negra"},
 	{18963, 2, "CJ"},
 	{19317, 1, "Guitarra"},
	{2404, 5, "Tabla de Suft T1"},
 	{2405, 5, "Tabla de Suft T2"},
 	{2406, 5, "Tabla de Suft T3"},
 	{1210, 5, "Maletín"},
 	{19318, 5, "Bajo"},
 	{19351, 2, "Bigote"},
	{18638, 2, "Casco de seguridad"},
	{19160, 2, "Casco de seguridad"},
	{18639, 2, "Sombrero negro"},
	{18975, 2, "Peluca"},
	{19274, 2, "Peluca de payaso roja"},
	{18891, 2, "Bandana"},
	{18892, 2, "Bandana"},
	{18894, 2, "Bandana"},
	{18896, 2, "Bandana"},
	{18900, 2, "Bandana"},
	{18901, 2, "Bandana"},
	{18902, 2, "Bandana"},
	{18903, 2, "Bandana"},
	{18904, 2, "Bandana"},
	{18905, 2, "Bandana"},
	{18906, 2, "Bandana"},
	{18907, 2, "Bandana"},
	{18908, 2, "Bandana"},
	{18909, 2, "Bandana"},
	{18910, 2, "Bandana"},
	{18911, 2, "Cubre Bocas"},
	{18912, 2, "Cubre Bocas"},
	{18914, 2, "Cubre Bocas"},
	{18916, 2, "Cubre Bocas"},
	{18919, 2, "Cubre Bocas"},
	{18921, 2, "Boina"},
	{18922, 2, "Boina"},
	{18923, 2, "Boina"},
	{18924, 2, "Boina"},
	{18925, 2, "Boina"},
	{18926, 2, "Jockey"},
	{18927, 2, "Jockey"},
	{18928, 2, "Jockey"},
	{18929, 2, "Jockey"},
	{18930, 2, "Jockey"},
	{18931, 2, "Jockey"},
	{18932, 2, "Jockey"},
	{18933, 2, "Jockey"},
	{18934, 2, "Jockey"},
	{18935, 2, "Jockey"},
	{19487, 2, "sombrero de copa"},
	{18940, 2, "Jockey"},
	{18941, 2, "Jockey"},
	{18955, 2, "Jockey"},
	{18956, 2, "Jockey"},
	{18957, 2, "Jockey"},
	{18958, 2, "Jockey"},
	{18959, 2, "Jockey"},
	{18960, 2, "Jockey"},
	{18936, 2, "Yelmo"},
	{18937, 2, "Yelmo"},
	{18938, 2, "Yelmo"},
	{18944, 2, "Sombrero rojo"},
	{18945, 2, "Sombrero gris"},
	{18946, 2, "Sombrero"},
	{18948, 2, "Sombrero"},
	{18950, 2, "Sombrero"},
	{18951, 2, "Sombrero"},
	{18952, 2, "Casco De Boxeo"},
	{18953, 2, "Gorro"},
	{18954, 2, "Gorro"},
	{18965, 2, "Gorro"},
	{18966, 2, "Gorro"},
	{18967, 2, "Gorro"},
	{18968, 2, "Gorro"},
	{18969, 2, "Gorro"},
	{18970, 2, "Sombrero de tigre"},
	{18973, 2, "Sombreo cool"},
	{19095, 2, "Sombrero de vaquero"},
	{19096, 2, "Sombrero negro"},
	{19097, 2, "Sombrero de vaquero"},
	{19098, 2, "Sombrero oscuro"},
	{18977, 2, "Casco rojo"},
	{19006, 2, "Gafas"},
	{19007, 2, "Gafas"},
	{19008, 2, "Gafas"},
	{19009, 2, "Gafas"},
	{19010, 2, "Gafas"},
	{19011, 2, "Gafas"},
	{19012, 2, "Gafas"},
	{19013, 2, "Gafas"},
	{19014, 2, "Gafas"},
	{19015, 2, "Gafas"},
	{19016, 2, "Gafas"},
	{19017, 2, "Gafas"},
	{19018, 2, "Gafas"},
	{19019, 2, "Gafas"},
	{19020, 2, "Gafas"},
	{19021, 2, "Gafas"},
	{19024, 2, "Gafas"},
	{19026, 2, "Gafas"},
	{19027, 2, "Gafas"},
	{19028, 2, "Gafas"},
	{19030, 2, "Gafas"},
	{19031, 2, "Gafas"},
	{19032, 2, "Gafas"},
	{19034, 2, "Gafas"},
	{19035, 2, "Gafas"},
	{19037, 2, "Mascara roja"},
	{19038, 2, "Mascara verde"},
	{19528, 2, "Sombrero de bruja"},
	{19553, 2, "Sombrero de paja"},
	{19554, 2, "Gorro"},
	{19558, 2, "Jockey de Pizza"},
	{19065, 2, "Gorro navideño"},
	{19085, 2, "Parche en el ojo"},
	{19094, 2, "Sombrero de amburguesa"},
	{19039, 5, "Reloj de oro"},
	{19040, 5, "Reloj"},
	{19041, 5, "Reloj"},
	{19042, 5, "Reloj"},
	{19043, 5, "Reloj"},
	{19044, 5, "Reloj"},
	{19045, 5, "Reloj"},
	{19046, 5, "Reloj"},
	{19047, 5, "Reloj"},
	{19048, 5, "Reloj"},
	{19049, 5, "Reloj"},
	{19050, 5, "Reloj"},
	{19051, 5, "Reloj"},
	{19052, 5, "Reloj"},
	{19053, 5, "Reloj"},
	{19319, 1, "Guitarra electrica"},
	{19556, 5, "Guante de boxeo"},
	{19557, 2, "Antifaz"},
	{19590, 5, "Espada japonesa"},
	{19591, 6, "Abanico"},
	{19878, 2, "Patineta"},
	{18632, 6, "Caña de pescar"},
	{1607, 2, "Delfin"},
	{19314, 2, "Cuernos"},
	{1550, 1, "Bolso con dinero"},
	{19777, 1, "FBI logo"},
	{19141, 2, "Casco SWAT"}
};

new Droids_Shop_Female_Skin[][] = {
	{141, 10, 10},
	{172, 10, 10},
	{224, 10, 10},
	{225, 10, 10}
};

new Droids_Shop_Male_Skin[][] =
{
	{0, 20, 20}, // Hombre
	{45, 10, 10},
	{46, 10, 10},
	{61, 10, 10},
	{80, 10, 10},
	{81, 10, 10},
	{82, 10, 10},
	{83, 10, 10},
	{84, 10, 10},
	{86, 10, 10},
	{100, 10, 10},
	{102, 10, 10},
	{103, 10, 10},
	{104, 10, 10},
	{105, 10, 10},
	{106, 10, 10},
	{107, 10, 10},
	{111, 10, 10},
	{112, 10, 10},
	{113, 10, 10},
	{117, 10, 10},
	{118, 10, 10},
	{119, 10, 10},
	{123, 10, 10},
	{142, 10, 10},
	{144, 10, 10},
	{147, 10, 10},
	{149, 10, 10},
	{165, 10, 10},
	{166, 10, 10},
	{171, 10, 10},
	{186, 10, 10},
	{187, 10, 10},
	{189, 10, 10},
	{203, 10, 10},
	{204, 10, 10},
	{227, 10, 10},
	{228, 10, 10},
	{253, 10, 10},
	{255, 10, 10},
	{264, 10, 10},
	{269, 10, 10},
	{270, 10, 10},
	{271, 20, 20},
	{272, 10, 10},
	{273, 10, 10},
	{289, 10, 10},
	{289, 10, 10},
	{292, 20, 20},
	{293, 10, 10},
	{294, 10, 10},
	{295, 10, 10},
	{299, 10, 10}
};

new
Binco_Shop_Male_Skins[][] =
{
	/* BINCO - HOMBRE */
	{4, 75      , 0},
	{5, 75      , 0},
	{6, 90      , 0},
	{7, 80      , 0},
	{21, 121    , 0},
	{44, 65     , 0},
	{47, 119    , 0},
	{101, 149   , 0},
	{127, 89    , 0},
	{128, 25    , 0},
	{134, 25    , 0},
	{135, 25    , 0},
	{137, 19    , 0},
	{160, 55    , 0},
	{161, 68    , 0},
	{168, 39    , 0},
	{176, 79    , 0},
	{177, 65    , 0},
	{179, 110   , 0},
	{184, 150   , 0},
	{188, 160   , 0},
	{200, 15    , 0},
	{212, 30    , 0},
	{230, 10    , 0},
	{258, 69    , 0},
	{259, 69    , 0},
	{262, 50	, 0},
	{86, 70		, 0},
	{102, 100	, 0},
	{103, 100	, 0},
	{104, 100	, 0},
	{105, 100	, 0},
	{106, 100	, 0},
	{107, 100	, 0},
	{108, 100	, 0},
	{109, 100	, 0},
	{110, 100	, 0},
	{111, 100	, 0},
	{112, 100	, 0},
	{113, 100	, 0},
	{114, 100	, 0},
	{115, 100	, 0},
	{116, 100	, 0},
	{117, 100	, 0},
	{118, 100	, 0},
	{119, 100	, 0},
	{120, 100	, 0},
	{121, 100	, 0},
	{122, 100	, 0},
	{123, 100	, 0},
	{124, 100	, 0},
	{125, 100	, 0},
	{126, 100	, 0}
},

Binco_Shop_Female_Skins[][] =
{
	/* BINCO - MUJER */
	{13, 120   , 0},
	{41, 59    , 0},
	{56, 190   , 0},
	{65, 110   , 0},
	{69, 100   , 0},
	{75, 50    , 0},
	{89, 69    , 0},
	{151, 89   , 0},
	{152, 3000 , 0},
	{207, 500  , 0},
	{226, 120  , 0},
	{298, 900  , 0}
},

Suburban_Shop_Male_Skins[][] =
{
	/* SUBURBAN - HOMBRE */
	{2, 100   , 0},
	{3, 140   , 0},
	{20, 190  , 0},
	{43, 180  , 0},
	{48, 145  , 0},
	{60, 250  , 0},
	{100, 300 , 0},
	{112, 200 , 0},
	{119, 49  , 0},
	{143, 199 , 0},
	{180, 150 , 0},
	{183, 100 , 0},
	{184, 140 , 0},
	{241, 200 , 0},
	{242, 190 , 0},
	{247, 450 , 0},
	{248, 499 , 0},
	{249, 650 , 0},
	{264, 5   , 0}
},

Suburban_Shop_Female_Skins[][] =
{
	/* SUBURBAN - MUJER */
	{39, 109  , 0},
	{56, 100  , 0},
	{88, 140  , 0},
	{131, 200 , 0},
	{195, 199 , 0}
},

Prolaps_Shop_Male_Skins[][] =
{
	/* PROLAPS - HOMBRE */
	{29, 129  , 0},
	{36, 140  , 0},
	{37, 150  , 0},
	{51, 160  , 0},
	{52, 170  , 0},
	{96, 200  , 0},
	{99, 700  , 0},
	{206, 499 , 0},
	{154, 199 , 0}
},

Prolaps_Shop_Female_Skins[][] =
{
	/* PROLAPS - MUJER */
	{41, 199 , 0},
	{90, 250 , 0},
	{92, 860 , 0},
	{138, 150, 0},
	{139, 150, 0},
	{140, 159, 0},
	{190, 150, 0},
	{192, 180, 0},
	{193, 195, 0}
},

Didier_Shop_Male_Skins[][] =
{
	/* DIDIER - HOMBRE */
	{17, 1500  , 0},
	{46, 1900  , 0},
	{57, 1220  , 0},
	{82, 3400  , 0},
	{83, 3400  , 0},
	{84, 3400  , 0},
	{124, 3500 , 0},
	{147, 6000 , 0},
	{163, 3000 , 0},
	{166, 3000 , 0},
	{171, 4000 , 0},
	{187, 4500 , 0},
	{223, 3100 , 0},
	{240, 1500 , 0},
	{295, 3000 , 0}
},

Didier_Shop_Female_Skins[][] =
{
	/* DIDIER - MUJER */
	{11, 1500  , 0},
	{12, 3000  , 0},
	{40, 2500  , 0},
	{91, 8000  , 0},
	{141, 3500 , 0},
	{169, 4000 , 0},
	{172, 2100 , 0},
	{194, 2000 , 0},
	{214, 25000, 0},
	{215, 3200 , 0},
	{216, 10500, 0},
	{219, 9500 , 0}
},

Victim_Shop_Male_Skins[][] =
{
	/* VICTIM - HOMBRE */
	{19, 400   , 0},
	{46, 1200  , 0},
	{59, 900   , 0},
	{72, 599   , 0},
	{73, 699   , 0},
	{98, 339   , 0},
	{121, 200  , 0},
	{170, 500  , 0},
	{185, 400  , 0},
	{186, 900  , 0},
	{188, 350  , 0},
	{221, 700  , 0},
	{223, 1200 , 0},
	{250, 50000, 0},
	{289, 699  , 0},
	{299, 700  , 0},
	{303, 500  , 0},
	{304, 700  , 0}
},

Victim_Shop_Female_Skins[][] =
{
	/* VICTIM - MUJER */
	{12, 2900  , 0},
	{40, 3000  , 0},
	{55, 1010  , 0},
	{56, 400   , 0},
	{192, 3000 , 0},
	{211, 3500 , 0},
	{226, 600  , 0},
	{233, 900  , 0}
},

Zip_Shop_Male_Skins[][] =
{
	/* ZIP - HOMBRE */
	{121, 190  , 0},
	{170, 500  , 0},
	{185, 400  , 0},
	{186, 900  , 0},
	{19, 400   , 0},
	{46, 1200  , 0},
	{59, 905   , 0},
	{72, 400   , 0},
	{73, 650   , 0},
	{98, 320   , 0},
	{250, 49999, 0},
	{289, 622  , 0},
	{299, 730  , 0},
	{303, 550  , 0},
	{188, 350  , 0},
	{221, 700  , 0},
	{223, 1200 , 0},
	{304, 700  , 0}
},

Zip_Shop_Female_Skins[][] =
{
	/* ZIP - MUJER */
	{56, 405    , 0},
	{192, 3010  , 0},
	{211, 3520  , 0},
	{226, 620   , 0},
	{233, 950   , 0},
	{12, 2904   , 0},
	{40, 3002   , 0},
	{55, 1011   , 0}
};

enum
{
	PICKUP_TYPE_NONE = 0,
	PICKUP_TYPE_ENTER_EXIT,
	PICKUP_TYPE_ATM,
	PICKUP_TYPE_REPAIR_VEHICLE,
	PICKUP_TYPE_HEALTH_UP,
	PICKUP_TYPE_TRUCK_LOAD,
	PICKUP_TYPE_WORK,
	PICKUP_TYPE_DEALER_SHIP,
	PICKUP_TYPE_RENT,
	PICKUP_TYPE_SPAWN_POLICE_VEHICL,
	PICKUP_TYPE_VEHICLE_SPAWN,
	PICKUP_TYPE_PROPERTY,
	PICKUP_TYPE_NEGOCIOS,
	PICKUP_TYPE_HOTDOG,
	PICKUP_TYPE_HQ,
	PICKUP_V_SPAWN_WORK,
	PICKUP_TYPE_ONFOOT_PARKING_SLO,
	PICKUP_TYPE_DRIVER_PARKING_SLO,
	PICKUP_TYPE_CENTRAL_PARKING_SL,
	PICKUP_TYPE_MERCHANTS,
	PICKUP_TYPE_PACK_DRUGS,
	PICKUP_TYPE_BUY_DRUGS_PACK
};

enum
{
	MUSIC_TYPE_TRAP,
	MUSIC_TYPE_ROCK,
	MUSIC_TYPE_REGGAETON,
	MUSIC_TYPE_POP,
	MUSIC_TYPE_ELECTRONIC,
	MUSIC_TYPE_CLASSICS,
	MUSIC_TYPE_INDIE,
	MUSIC_TYPE_SPANISH,
	MUSIC_TYPE_CUMBIA,

	MUSIC_TYPE_TOTAL
};

enum music_type_info
{
	music_NAME[35],
	music_URL[240]
};

new const music_spotify[4][8][music_type_info] = 
{
	{
		{"Goosebumps - Travis Scott", "http://167.114.188.226/servermusics/Spotify/Trap/Goosebumps%20-%20Travis%20Scott.mp3"},
		{"Highest in the room - Travis Scott", "http://167.114.188.226/servermusics/Spotify/Trap/Highest%20in%20the%20room%20-%20Travis%20Scott.mp3"},
		{"La Romana - Bad Bunny", "http://167.114.188.226/servermusics/Spotify/Trap/La%20Romana%20-%20Bad%20Bunny.mp3"},
		{"Lucid Dreams - Juice Wrld", "http://167.114.188.226/servermusics/Spotify/Trap/Lucid%20Dreams%20-%20Juice%20Wrld.mp3"},
		{"Montero - Lil Nas X", "http://167.114.188.226/servermusics/Spotify/Trap/Montero%20-%20Lil%20Nas%20X.mp3"},
		{"Moonlight  - XXXTentacion", "http://167.114.188.226/servermusics/Spotify/Trap/Moonlight%20%20-%20XXXTentacion.mp3"},
		{"Rockstar - DaBaby", "http://167.114.188.226/servermusics/Spotify/Trap/Rockstar%20-%20DaBaby.mp3"},
		{"The Box - Roddy Ricch", "http://167.114.188.226/servermusics/Spotify/Trap/The%20Box%20-%20Roddy%20Ricch.mp3"}
	},
	{
		{"Highway to Hell - ACDC", "http://167.114.188.226/servermusics/Spotify/Rock/Highway%20to%20Hell%20-%20ACDC.mp3"},
		{"In the end - Linkin Park", "http://167.114.188.226/servermusics/Spotify/Rock/In%20the%20end%20-%20Linkin%20Park.mp3"},
		{"I wanna know - Arctic Monkeys", "http://167.114.188.226/servermusics/Spotify/Rock/I%20wanna%20know%20-%20Arctic%20Monkeys.mp3"},
		{"Paint It Black - Rolling Stones", "http://167.114.188.226/servermusics/Spotify/Rock/Paint%20It%20Black%20-%20Rolling%20Stones.mp3"},
		{"Rock you - Queen", "http://167.114.188.226/servermusics/Spotify/Rock/Rock%20you%20-%20Queen.mp3"},
		{"Seven Nation - White Stripes", "http://167.114.188.226/servermusics/Spotify/Rock/Seven%20Nation%20-%20White%20Stripes.mp3"},
		{"The jungle - GunsNrose", "http://167.114.188.226/servermusics/Spotify/Rock/The%20jungle%20-%20GunsNrose.mp3"},
		{"Thunderstruck - ACDC", "http://167.114.188.226/servermusics/Spotify/Rock/Thunderstruck%20-%20ACDC.mp3"}
	},
	{
		{"Despacito - Luis fonsi", "http://167.114.188.226/servermusics/Spotify/Reggaeton/Despacito%20-%20Luis%20fonsi.mp3"},
		{"L-Gante - BZRP#38", "http://167.114.188.226/servermusics/Spotify/Reggaeton/L-Gante%20-%20BZRP%2338.mp3"},
		{"Morado - J Balvin", "http://167.114.188.226/servermusics/Spotify/Reggaeton/Morado%20-%20J%20Balvin.mp3"},
		{"Nicky Jam - BZRP#41", "http://167.114.188.226/servermusics/Spotify/Reggaeton/Nicky%20Jam%20-%20BZRP%2341.mp3"},
		{"No me conocen - DUKI", "http://167.114.188.226/servermusics/Spotify/Reggaeton/No%20me%20conocen%20-%20DUKI,%20REI.mp3"},
		{"Poblado - J Balvin", "http://167.114.188.226/servermusics/Spotify/Reggaeton/Poblado%20-%20J%20Balvin,%20Karol%20G.mp3"},
		{"Qu Ms Pues - J Balvin", "http://167.114.188.226/servermusics/Spotify/Reggaeton/Qu%c3%a9%20M%c3%a1s%20Pues%20-%20J%20Balvin.mp3"},
		{"Yonaguni - Bad Bunny", "http://167.114.188.226/servermusics/Spotify/Reggaeton/Yonaguni%20-%20Bad%20Bunny.mp3"}
	},
	{
		{"Attention - Charlie Puth", "http://167.114.188.226/servermusics/Spotify/Pop/Attention%20-%20Charlie%20Puth.mp3"},
		{"Blinding Lights - The Weeknd", "http://167.114.188.226/servermusics/Spotify/Pop/Blinding%20Lights%20-%20The%20Weeknd.mp3"},
		{"Circles - Post Malone", "http://167.114.188.226/servermusics/Spotify/Pop/Circles%20-%20Post%20Malone.mp3"},
		{"Stitches - Shawn Mendes", "http://167.114.188.226/servermusics/Spotify/Pop/Stitches%20-%20Shawn%20Mendes.mp3"},
		{"Sunflower - Post Malone", "http://167.114.188.226/servermusics/Spotify/Pop/Sunflower%20-%20Post%20Malone.mp3"},
		{"Talking To The Moon - Bruno Mars", "http://167.114.188.226/servermusics/Spotify/Pop/Talking%20To%20The%20Moon%20-%20Bruno%20Mars.mp3"},
		{"The Weekend - Coldplay", "http://167.114.188.226/servermusics/Spotify/Pop/The%20Weekend%20-%20Coldplay.mp3"},
		{"Yellow - Coldplay", "http://167.114.188.226/servermusics/Spotify/Pop/Yellow%20-%20Coldplay.mp3"}
	}
};

new Intro_Skins[][] =
{
	{ // HOMBRE
		170,
		158,
		184,
		220,
		183,
		73
	},

	{ // MUJER
		192,
		40,
		226,
		41,
		13,
		298,
	}
};

/*enum E_Intro_Info {
	Float:intro_info_CAM_X,
	Float:intro_info_CAM_Y,
	Float:intro_info_CAM_Z,
	Float:intro_info_CAM_RX,
	Float:intro_info_CAM_RY,
	Float:intro_info_CAM_RZ,
	Float:intro_info_CAM_LOOK_AT_X,
	Float:intro_info_CAM_LOOK_AT_Y,
	Float:intro_info_CAM_LOOK_AT_Z,
	Float:intro_info_CAM_LOOK_AT_RX,
	Float:intro_info_CAM_LOOK_AT_RY,
	Float:intro_info_CAM_LOOK_AT_RZ,
	intro_info_HOUR,
	intro_info_WEATHER,
};

new Intro_Info[][E_Intro_Info] = {
	{313.236328, 1128.530761, 9.520181, 318.766510, 1130.892089, 10.157177, 310.896820, 1132.935791, 9.169703, 314.989013, 1134.086425, 9.431639, 5, 1},
	{408.495666, 2512.417968, 18.166431, 409.920318, 2505.000732, 17.877164, 413.448150, 2512.634277, 17.513612, 414.895172, 2505.338134, 17.507190, 20, 1},
	{49.753929, -240.485778, 2.406555, 53.778308, -237.900802, 3.012162, 45.922225, -237.391876, 1.542942, 49.144725, -236.385101, 1.901962, 16, 1}
};*/

new Intro_Audios[][] = {
	"http://files.super-rp.es/audio/intro/intro3.mp3"
};

enum Fuel_Stations_Info
{
	Float:fs_X,
	Float:fs_Y,
	Float:fs_Z
};
new Fuel_Stations[][Fuel_Stations_Info] =
{
	{1942.679443, -1771.374511, 13.390598},
	{654.678710, -570.627807, 16.335937},
	{1384.011962, 457.825012, 19.995258},
	{-1669.027221, 411.541076, 7.179687},
	{-2409.644042, 976.147644, 45.307708},
	{-1328.633666, 2675.913818, 50.062500},
	{612.890563, 1692.938720, 6.992187},
	{-1607.715820, -2717.499023, 48.539062},
	{2146.831542, 2743.855224, 10.820312},
	{2197.993408, 2475.015625, 10.820312},
	{2115.124267, 926.094909, 10.960937},
	{1595.974731, 2193.016845, 10.820312},
	{-1477.559326, 1858.962524, 32.639846},
	{-98.757804, -1172.726440, 2.428447}
};

enum E_HOSPITAL_SPAWN_INFO
{
	Float:hspi_X,
	Float:hspi_Y,
	Float:hspi_Z,
	Float:hspi_ANGLE,
}

new Hospital_Spawn_Positions[][E_HOSPITAL_SPAWN_INFO] =
{
	{2034.197875, -1403.040039, 17.294845, 180.0},
	{1172.832763, -1323.269531, 15.400051, 270.0},
	{1242.235595, 328.113281, 19.755510, 0.0},
	{-2201.566162, -2307.610839, 30.625000, 320.0},
	{-2655.108886, 639.278625, 14.453125, 180.0},
	{-318.812774, 1050.359130, 20.340259, 0.0},
	{-1514.855590, 2520.366699, 55.909828, 0.0},
	{1583.311401, 1768.952758, 10.820312, 90.0}
};

new Float:Hospital_Cameras_Positions[][] =
{
	{2007.3301, -1442.3809, 26.7332, 2008.0043, -1441.6445, 26.4982},
	{1209.2427, -1314.4705, 23.4945, 1208.5284, -1315.1681, 23.3195},
	{1260.2025, 342.6251, 22.3913, 1259.4681, 341.9478, 22.2512},
	{-2200.5859, -2316.3057, 31.7932, -2200.8340, -2315.3367, 31.6932},
	{-2530.8450, 568.0942, 29.4603, -2531.6973, 568.6146, 29.4553},
	{-305.5014, 1068.6696, 24.2657, -306.1943, 1067.9514, 24.0607},
	{-1504.2892, 2553.1243, 61.1113, -1504.5568, 2552.1619, 60.8414},
	{1624.5881, 1837.4691, 12.5740, 1623.9382, 1836.7124, 12.4690}
};

/* TEXTDRAWS */
#define MAX_PLAYER_MAP_GPS_POINTS 20
#define HUD_PTEXTDRAWS_SIZE 8
enum Player_Textdraws_Enum
{
	PlayerText:ptextdraw_HOSPITAL[3], //Barra recuperando vida despues de morir
	PlayerText:ptextdraw_CLOTHING_SHOP[6], //Tiendas de ropas
	PlayerText:ptextdraw_TOYS_SHOP[10],
	PlayerText:ptextdraw_PROPERTY_CONSTRUCTOR[6],
	PlayerText:ptextdraw_TRUCK_LOAD[4],
	PlayerText:ptextdraw_RECYCLE_TRASH[3],
	PlayerText:ptextdraw_PLAYER_GPS_MAP[MAX_PLAYER_MAP_GPS_POINTS],
	PlayerText:ptextdraw_WANTED_LEVEL[2],
	PlayerText:ptextdraw_TUNING_SHOP,
	PlayerText:ptextdraw_DAMAGE[5],
	PlayerText:ptextdraw_HUD[HUD_PTEXTDRAWS_SIZE],
	PlayerText:ptextdraw_SPEEDO_METER[2],
	PlayerText:ptextdraw_PHONE_CALLING[3],
	PlayerText:ptextdraw_PHONE_MAP_NAME,
	PlayerText:ptextdraw_PHONE_PP_DATA[2],
	PlayerText:ptextdraw_PHONE_MUSICS[8],
	PlayerText:ptextdraw_PHONE_BINANCE_ID,
	PlayerText:ptextdraw_PHONE_BINANCE_WALLET[9],
	PlayerText:ptextdraw_PHONE_BINANCE_OPT[6],
	PlayerText:ptextdraw_PHONE_SPOTIFY_LISTEN[4],
	PlayerText:ptextdraw_NOTIFICATION,
	PlayerText:ptextdraw_NECESIDADES[5]
}
new PlayerTextdraws[MAX_PLAYERS][Player_Textdraws_Enum];



#define map_td_X 3.0
#define map_td_Y 134.0
#define map_td_SIZE_X 175.0
#define map_td_SIZE_Y 190.0

#define HUD_TEXTDRAWS_SIZE 8
#define LOAD_SCREEN_TEXTDRAWS_SIZE 4
enum Textdraws_Enum
{
	Text:textdraw_LOAD_SCREEN[LOAD_SCREEN_TEXTDRAWS_SIZE],
	Text:textdraw_GPS_MAP[4],
	Text:textdraw_TERRITORY_BOX,
	Text:textdraw_SHOP_TUNING[5],
	Text:textdraw_HUD[HUD_TEXTDRAWS_SIZE],
	Text:textdraw_PHONE_PLAYER[25],
	Text:textdraw_PHONE_MENU[35],
	Text:textdraw_PHONE_DISCORD[35],
	Text:textdraw_PHONE_SPOTFY_GENDERS[46],
	Text:textdraw_PHONE_SPOTFY_MUSICS[31],
	Text:textdraw_PHONE_SPOTFY_SONG[25],
	Text:textdraw_PHONE_WHATSAPP[37],
	Text:textdraw_PHONE_CALLING[24],
	Text:textdraw_PHONE_GOOGLEMAPS[30],
	Text:textdraw_PHONE_PAYPAL[34],
	Text:textdraw_PHONE_BINANCE_MENU[27],
	Text:textdraw_PHONE_BINANCE_WALLET[35],
	Text:textdraw_PHONE_BINANCE_OPT[26],
	Text:textdraw_PHONE_QUIT[2],


}
new Textdraws[Textdraws_Enum];

new Text:PopUp;
new Text:PopUp1;
new Text:Velocimetro[MAX_PLAYERS];
new Text:PopUp2;
new not;
new not1;
new not2;

#define MIN_PASS_LENGTH	6
#define MAX_PASS_LENGTH	18

enum enum_PI
{
	pi_ID,
	pi_TOG_ANUNCIOS,
	pi_NAME[24],
	pi_IP[16],
	pi_EMAIL[32],
	pi_SALT[16],
	pi_PASS[65],
	pi_REG_DATE[24],
	pi_LAST_CONNECTION[24],
	pi_LAST_CONNECTION_TIMESTAMP,
	pi_TIME_PLAYING,
	pi_LEVEL,
	pi_REP,
	pi_CONNECTED,
	pi_PLAYERID,
	pi_RECEIVE_STATS,
	pi_DOUBT_CHANNEL,
	pi_TWITTER_CHANNEL,
	pi_TIME_FOR_REP,
	pi_ADMIN_LEVEL,
	pi_PAYDAY_REP,
	pi_VIP,
	pi_VIP_EXPIRE_DATE[24],
	pi_COINS,
	pi_BLACK,
	pi_PROGRESO_TRABAJO,
	pi_ESTADO_TRABAJO,
	pi_ARMERO,
	pi_SKIN,
	pi_CASH,
	Float:pi_POS_X,
	Float:pi_POS_Y,
	Float:pi_POS_Z,
	Float:pi_ANGLE,
	pi_STATE,
	pi_INTERIOR,
	pi_LOCAL_INTERIOR,
	pi_FIGHT_STYLE,
	Float:pi_HEALTH,
	Float:pi_ARMOUR,
	pi_GENDER,
	Float:pi_HUNGRY,
	Float:pi_THIRST,
//	Float:pi_CANSADO,
	pi_BLACK_MARKET_LEVEL,
	pi_WANTED_LEVEL,
	pi_POLICE_JAIL_TIME,
	pi_POLICE_DUTY,
	pi_FBI_DUTY,
	pi_POLICE_JAIL_ID,
	pi_DRIVE_LICENSE_POINTS,
	pi_BANK_ACCOUNT,
	pi_BANK_MONEY,
	pi_PHONE_NUMBER,
	pi_PHONE_STATE,
	pi_PHONE_VISIBLE_NUMBER,
	pi_GPS,
	pi_MP3,
	pi_PHONE_RESOLVER,
	pi_SPEAKERS,
	pi_MECHANIC_PIECES,
	pi_FUEL_DRUM,
	pi_SEED_MEDICINE,
	pi_SEED_CANNABIS,
	pi_SEED_CRACK,
	pi_MEDICINE,
	pi_CANNABIS,
	pi_CRACK,
	pi_MPACK50,
	pi_MPACK100,
	pi_CPACK50,
	pi_CPACK100,
	pi_DPACK50,
	pi_DPACK100,
	pi_CONFIG_SOUNDS,
	pi_JAIL,
	pi_BANEOS,
	pi_MUTEOS,
	pi_ADV,
	pi_KICK,
	pi_CONFIG_AUDIO,
	pi_CONFIG_TIME,
	pi_CONFIG_HUD,
	pi_CONFIG_ADMIN,
	pi_CONFIG_SECURE_LOGIN,
	pi_MUTE,
	pi_MUTE_TWITTER,
	pi_PLACA_PD,
	pi_PLACA_SM,
	pi_CAN_BUY_BM,
	pi_VIPGRUAS,
	pi_CREW,
	pi_CREW_RANK,
	pi_MECHANIC_KITS,
	pi_MEDICAL_KITS,
	pi_AD_CHANNEL_TIME,
	pi_GIFT_GOT,
	pi_CUCHILLO,
	pi_KILLS,
	pi_GANZUAS,
	pi_MATERIALES,
	pi_BOLSA,
	pi_C4,
	pi_TIME_MINED,
	pi_HIERRO,
	pi_MASK,
	pi_camaraon,
	pi_DAMAGE,
	pi_PING,
	pi_ZONE_TEXT,
	pi_INFO_HEALTH,
	pi_BOL[MAX_SLOTS_INV],
	pi_BOL_CANT[MAX_SLOTS_INV],
	pi_MANO_IZQ,
	pi_IZQ_CANT,
	pi_MANO_DER,
	pi_DER_CANT,
	pi_CHEAT,
	pi_KANA,
	pi_A1,
	pi_A2,
	pi_A3,
	pi_A4,
	pi_A5,
	pi_A6,
	pi_A7,
	pi_A8,
	pi_A9,
	pi_A10,
	Float:pi_DISTANCIA_PIE,
	pi_SODAS_TOMADAS,
	pi_COMIDAS_TOTALES,
	pi_Estado[64],
    pi_ColorEstado,
    Text3D:pi_LabelEstado, // Aquí guardamos el ID del label dinámico
    pi_GUIA_INICIO,
    pi_MASK_ON

};
new PI[MAX_PLAYERS][enum_PI];

forward OnPlayerRegister(playerid);
forward OnPlayerLogin(playerid);

new bool:PI_CAR_WORK[MAX_PLAYERS],
	PI_CAR_WORK_ID[MAX_PLAYERS] = {-1, ...},
	PI_CAR_RENT[MAX_PLAYERS] = {-1, ...},
	CommandTime[MAX_PLAYERS][COMMAND_TIMER] = {0, ...},
	DialogTime[MAX_PLAYERS][TIME_DIALOGOS] = {0, ...},	
	PI_CAR_TEST_ID[MAX_PLAYERS] = {-1, ...},
	bool:PI_CAR_TEST[MAX_PLAYERS],
	PI_TIMER_CITY[MAX_PLAYERS] = {-1, ...};


new
	DIALOG_FOOD_PIZZA_String[800],
	DIALOG_FOOD_CLUCKIN_String[800],
	DIALOG_FOOD_BURGER_String[800],
	DIALOG_247_LIST_String[34 + 55 * sizeof Supermarket_Product_List],
	DIALOG_ANIMS_String[1000],
	DIALOG_FOOD_TACO_String[800],
	DIALOG_FOOD_STEAK_String[800],
	DIALOG_CREATE_CREW_COLOR_String[4200],
	DIALOG_PLAYER_GPS_SITE_7_String[5000],
	DIALOG_CREDIT_String[2000]
;


#define HidePlayerDialog(%1)		ShowPlayerDialog(%1, -1, 0, " ", " ", " ", " ")


// PLAYER WEAPONS
#define NO_WEAPON 0
enum {
	WEAPON_SHIELD = 300,
	WEAPON_TASER_GUN
};
enum enum_WEAPON_INFO
{
	bool:weapon_info_SPECIAL,
	bool:weapon_info_AC_CBUG,
	bool:weapon_info_ANTI_CHEAT,
	bool:weapon_info_AMMO,
	weapon_info_TYPE,
	weapon_info_NAME[35],
	weapon_info_SLOT,
	weapon_info_SHOT_TIME,
	weapon_info_MODEL,
	bool:weapon_info_DROP
}
new WEAPON_INFO[][enum_WEAPON_INFO] =
{
	{false, false, false, false, NO_WEAPON, "Puño", 0, 250, -1, false},
	{false, false, true, false, WEAPON_BRASSKNUCKLE, "Manopla", 0, 250, 331, true},
	{false, false, true, false, WEAPON_GOLFCLUB, "Palo de golf", 1, 250, 333, true},
	{false, false, true, false, WEAPON_NITESTICK, "Porra", 1, 250, 334, false},
	{false, false, true, false, WEAPON_KNIFE, "Cuchillo", 1, 250, 335, true},
	{false, false, true, false, WEAPON_BAT, "Bate", 1, 250, 336, true},
	{false, false, true, false, WEAPON_SHOVEL, "Pala", 1, 250, 337, true},
	{false, false, true, false, WEAPON_POOLSTICK, "Taco", 1, 250, 338, true},
	{false, false, true, false, WEAPON_KATANA, "Katana", 1, 250, 339, true},
	{false, false, true, false, WEAPON_CHAINSAW, "Motosierra", 1, 30, 341, true},
	{false, false, true, false, WEAPON_DILDO, "Dildo morado", 10, 250, 321, true},
	{false, false, true, false, WEAPON_DILDO2, "Dildo", 10, 250, 322, true},
	{false, false, true, false, WEAPON_VIBRATOR, "Vibrador", 10, 250, 323, true},
	{false, false, true, false, WEAPON_VIBRATOR2, "Vibrador plateado", 10, 250, 324, true},
	{false, false, true, false, WEAPON_FLOWER, "Flores", 10, 250, 325, true},
	{false, false, true, false, WEAPON_CANE, "Bastón", 10, 250, 326, true},
	{false, false, true, true, WEAPON_GRENADE, "Granada", 8, 500, 342, true},
	{false, false, true, true, WEAPON_TEARGAS, "Gas lacrimógeno", 8, 500, 343, true},
	{false, false, true, true, WEAPON_MOLTOV, "Cocktail Molotov", 8, 500, 344, true},
	{false, false, false, false, NO_WEAPON, "", 0, 0, -1, false},
	{false, false, false, false, NO_WEAPON, "", 0, 0, -1, false},
	{false, false, false, false, NO_WEAPON, "", 0, 0, -1, false},
	{false, true, true, true, WEAPON_COLT45, "9mm", 2, 160, 346, true},
	{false, true, true, true, WEAPON_SILENCED, "9mm silenciada", 2, 120, 347, true},
	{false, true, true, true, WEAPON_DEAGLE, "Desert Eagle", 2, 950, 348, true},
	{false, true, true, true, WEAPON_SHOTGUN, "Escopeta", 3, 800, 349, true},
	{false, true, true, true, WEAPON_SAWEDOFF, "Escopeta recortada", 3, 120, 350, true},
	{false, true, true, true, WEAPON_SHOTGSPA, "Escopeta de combate", 3, 120, 351, true},
	{false, true, true, true, WEAPON_UZI, "Micro UZI", 4, 70, 352, true},
	{false, true, true, true, WEAPON_MP5, "MP5", 4, 70, 353, true},
	{false, true, true, true, WEAPON_AK47, "Ak-47", 5, 80, 355, true},
	{false, true, true, true, WEAPON_M4, "M4", 5, 80, 356, true},
	{false, true, true, true, WEAPON_TEC9, "TEC-9", 4, 70, 372, true},
	{false, true, true, true, WEAPON_RIFLE, "Rifle", 6, 1000, 357, true},
	{false, true, true, true, WEAPON_SNIPER, "Sniper", 6, 1000, 358, true},
	{false, true, true, true, WEAPON_ROCKETLAUNCHER, "Lanzacohetes RPG", 7, 1000, 359, false},
	{false, true, true, true, WEAPON_HEATSEEKER, "Lanzacohetes HS", 7, 1000, 360, true},
	{false, true, true, true, WEAPON_FLAMETHROWER, "Lanzallamas", 7, 500, 361, true},
	{false, true, true, true, WEAPON_MINIGUN, "Minigun", 7, 0, 362, false},
	{false, false, true, true, WEAPON_SATCHEL, "Bomba detonadora", 8, 500, 363, false},
	{false, false, false, false, WEAPON_BOMB, "Detonador", 12, 500, 364, false},
	{false, false, true, true, WEAPON_SPRAYCAN, "Bote de spray", 9, 10, 365, true},
	{false, false, true, true, WEAPON_FIREEXTINGUISHER, "Extintor", 9, 10, 366, true},
	{false, false, true, false, WEAPON_CAMERA, "Cámara", 9, 500, 367, true},
	{false, false, true, false, NO_WEAPON, "Gafas de visión nocturna", 11, 0, 368, false},
	{false, false, true, false, NO_WEAPON, "Gafas térmicas", 11, 0, 369, false},
	{false, false, false, false, WEAPON_PARACHUTE, "Bolsa", 11, 0, 371, true},
	{true, false, false, false, WEAPON_SHIELD, "Escudo", 13, 0, 18637, false},
	{true, true, true, true, WEAPON_TASER_GUN, "Pistola taser", 2, 120, 347, false}
};


enum enum_PLAYER_WEAPONS
{
	bool:player_weapon_VALID,
	player_weapon_DB_ID,
	player_weapon_ID,
	player_weapon_AMMO,
}
new PLAYER_WEAPONS[MAX_PLAYERS][20][enum_PLAYER_WEAPONS];

enum
{
	TYPE_WARNING,
	TYPE_KICK,
	TYPE_BAN,
	TYPE_TEMP_BAN,
	TYPE_UNBAN
}

enum
{
	CMD_USER,
	CMD_HELPER,
	CMD_HELPER_MODERATOR,
	CMD_MODERATOR,
	CMD_ENCARGADO,
	CMD_DEVELOPER,
	CMD_DISABLED,
}
new ADMIN_LEVELS[][] =
{
	"Ciudadano",
	"Ayudante",
	"Moderador",
	"Moderador Global",
	"Encargado",
	"Administrador"
};

#define MAX_MERCHANTS 15
#define MAX_MERCHANTS_SALES 17

enum E_MERCHANTS {
    bool: mValid,
    bool: mSpawned,
    mActorId,
    Text3D: mText3d,
    mPickupId,
    Float: mPosX,
    Float: mPosY,
    Float: mPosZ,
    Float: mAngle,
    mData,
    mTimeSpawned
}

enum E_MERCHANT_SALES {
    bool: sValid,
    sType,
    sExtra,
    sData,
    sData_Extra
}

enum {
    SALE_TYPE_DYNAMITE,
    SALE_TYPE_ARMOUR,
    SALE_TYPE_BLACK_CASH_BUY,
    SALE_TYPE_BLACK_CASH_SELL
}

new
    Merchants_Skins[] = {239, 262, 291, 293, 175, 115},
    MerchantsInfo[MAX_MERCHANTS][E_MERCHANTS],
    MerchantsSales[MAX_MERCHANTS_SALES][E_MERCHANT_SALES],
    LastMerchantDate = 0
;

/* Defined functions */
GetValidMerchantIndex() {
    for (new i = 0; i != MAX_MERCHANTS; i ++) {
        if (!MerchantsInfo[i][mValid]) {
            return i;
        }
    }
    return -1;
}

CreateMerchant(Float: x, Float: y, Float: z, Float: angle) {
    new index = GetValidMerchantIndex();
    if (index == -1) return printf("No hay mas indexes disponibles 'CreateMerchant'.");

    MerchantsInfo[index][mValid] = true;
    MerchantsInfo[index][mSpawned] = false;
    MerchantsInfo[index][mPosX] = x;
    MerchantsInfo[index][mPosY] = y;
    MerchantsInfo[index][mPosZ] = z;
    MerchantsInfo[index][mAngle] = angle;
    MerchantsInfo[index][mData] = random(MAX_MERCHANTS_SALES);
    return 1;
}

CreateMerchantSales(index, type, extra, data, extra_data) {
    MerchantsSales[index][sValid] = true;
    MerchantsSales[index][sType] = type;
    MerchantsSales[index][sExtra] = extra;
    MerchantsSales[index][sData] = data;
    MerchantsSales[index][sData_Extra] = extra_data;
    return 1;
}

SpawnRandomMerchant() {
    new index = -1, skin, infom[3], city[45], zone[45], Float: posm[2];
    new intentos = 0; // Contador de seguridad

    // 1. Buscar un comerciante válido (máximo 100 intentos)
    while (index == -1 && intentos < 100) {
        new tmpIndex = random(MAX_MERCHANTS);
        if (MerchantsInfo[tmpIndex][mValid] && !MerchantsInfo[tmpIndex][mSpawned]) {
            index = tmpIndex;
        }
        intentos++;
    }

    if (index == -1) return printf("[Error]: No se encontró un comerciante válido o libre para spawnear.");

    MerchantsInfo[index][mSpawned] = true;

    new Random_mData[] = {5, 12, 0, 0, 7, 15, 6, 6, 17, 1, 10, 3, 8, 14, 9, 17, 13, 16, 4, 5, 6, 8, 9, 7, 16, 0, 10, 15, 1, 13, 14, 2};
    
    // 2. Asignar data de venta con seguridad
    intentos = 0;
    new randData = Random_mData[ random(sizeof(Random_mData)) ];
    while (!MerchantsSales[randData][sValid] && intentos < 50) {
        randData = Random_mData[ random(sizeof(Random_mData)) ];
        intentos++;
    }
    MerchantsInfo[index][mData] = randData;

    MerchantsInfo[index][mTimeSpawned] = gettime() + 1200;

    // 3. Crear el Actor y visuales
    skin = Merchants_Skins[random(sizeof(Merchants_Skins))];
    MerchantsInfo[index][mActorId] = CreateDynamicActor(skin, MerchantsInfo[index][mPosX], MerchantsInfo[index][mPosY], MerchantsInfo[index][mPosZ], MerchantsInfo[index][mAngle], true, 100.0, 0, 0);

    // Ajuste de posición para el pickup y texto
    posm[0] = MerchantsInfo[index][mPosX] + (0.5 * floatsin(-MerchantsInfo[index][mAngle], degrees));
    posm[1] = MerchantsInfo[index][mPosY] + (0.5 * floatcos(-MerchantsInfo[index][mAngle], degrees));

    MerchantsInfo[index][mText3d] = CreateDynamic3DTextLabel("Acercate para {828282}comprar{ffffff}", -1, posm[0], posm[1], MerchantsInfo[index][mPosZ], 5.0, .testlos = true);
    MerchantsInfo[index][mPickupId] = CreateDynamicPickup(1212, 1, posm[0], posm[1], MerchantsInfo[index][mPosZ]);

    infom[0] = PICKUP_TYPE_MERCHANTS;
    infom[1] = index;
    infom[2] = index;
    Streamer_SetArrayData(STREAMER_TYPE_PICKUP, MerchantsInfo[index][mPickupId], E_STREAMER_EXTRA_ID, infom);

    GetPointZone(MerchantsInfo[index][mPosX], MerchantsInfo[index][mPosY], city, zone);

    new str[144];
    format(str, sizeof(str), " {828282}Comerciantes {ffffff} Un {00ff00}nuevo comerciante{ffffff} ha llegado a » %s | %s", zone, city);
    SendClientMessageToAll(-1, str);
    
    return 1;
}

RemoveSpawnedMerchant(index) {
    // 1. Establecemos la espera para el próximo comerciante (400 segundos)
    LastMerchantDate = gettime() + 400;

    // 2. Destrucción de elementos físicos
    if(IsValidDynamicActor(MerchantsInfo[index][mActorId])) 
        DestroyDynamicActor(MerchantsInfo[index][mActorId]);
        
    if(IsValidDynamic3DTextLabel(MerchantsInfo[index][mText3d])) 
        DestroyDynamic3DTextLabel(MerchantsInfo[index][mText3d]);
        
    if(IsValidDynamicPickup(MerchantsInfo[index][mPickupId])) 
        DestroyDynamicPickup(MerchantsInfo[index][mPickupId]);

    // 3. Limpieza total de variables de estado
    MerchantsInfo[index][mSpawned] = false;
    MerchantsInfo[index][mTimeSpawned] = 0;
    MerchantsInfo[index][mData] = 0;
    
    // 4. Reset de IDs para evitar que el Streamer intente borrarlos de nuevo
    MerchantsInfo[index][mActorId] = INVALID_ACTOR_ID; // O INVALID_ACTOR_ID
    MerchantsInfo[index][mText3d] = Text3D:INVALID_STREAMER_ID;
    MerchantsInfo[index][mPickupId] = INVALID_STREAMER_ID;

    printf("[SISTEMA]: El comerciante ID %d ha sido removido. Siguiente en 400 seg.", index);
    return 1;
}

ShowMerchantDialog(playerid, index) {
    PLAYER_TEMP[playerid][pt_MERCHANT_INDEX] = index;

    switch(MerchantsSales[ MerchantsInfo[index][mData] ][sType]) {
        case SALE_TYPE_DYNAMITE: {
        Dialog_Show(playerid, "OnMerchantBuyResponse", DIALOG_STYLE_MSGBOX, "{828282}[CCC] {ffffff}  Dinamita", "{ffffff}¿Quieres comprarme un {"#GREEN_COLOR"}Dinamita{ffffff} por %s{666666}B${ffffff}?.", "Comprar", "xSalir", number_format_thousand(MerchantsSales[ MerchantsInfo[index][mData] ][sExtra]));
        }
        case SALE_TYPE_ARMOUR: {
            Dialog_Show(playerid, "OnMerchantBuyResponse", DIALOG_STYLE_MSGBOX,  "{828282}[CCC] {ffffff}  Chaleco", "{ffffff}¿Quieres comprarme un {"#GREEN_COLOR"}Chaleco{ffffff} por %s{666666}B${ffffff}?", "Comprar", "xSalir", number_format_thousand(MerchantsSales[ MerchantsInfo[index][mData] ][sExtra]));
        }
        case SALE_TYPE_BLACK_CASH_SELL: {
            Dialog_Show(playerid,  "OnMerchantBuyResponse", DIALOG_STYLE_INPUT, "Tenpenny  {828282}vende", "{ffffff}Introduce la cantidad de {666666}Dinero Negro{ffffff}\npara realizar la {f22222}Venta: %d{666666}B${ffffff} = %d$", "Comprar", "xSalir", MerchantsSales[ MerchantsInfo[index][mData] ][sExtra], MerchantsSales[ MerchantsInfo[index][mData] ][sData_Extra]);
        }
    }
}

#define MAX_DEALERS 6
#define MAX_VEHICLES_PER_DEALERS 50

/* Header */
enum {
    DEALER_WANG = 0,
    DEALER_GROTTI,
    DEALER_COUTT_AND_SCHUTZ,
    DEALER_SHODY,
    DEALER_OTTOS_AUTOS,
    DEALER_BOAT
}

enum e_DEALER_INFO {
    dName[32],
    dColour[16],
    
    Float: dVehReturnX,
    Float: dVehReturnY,
    Float: dVehReturnZ,
    Float: dVehReturnAngle
}

enum e_BUY_VEHICLE_POINT {
    Float: pPosX,
    Float: pPosY,
    Float: pPosZ,
    Float: pRot,

    pDealer,
    pObjectId,
    pPickupId
};

enum e_DEALER_VEHICLE_INFO {
    bool:dvValid,
    dvModelId,
    dvColour1,
    dvColour2,
    dvPrice,
    dvCoins
}

new 
    DealersInfo[][e_DEALER_INFO] = {
        {"Wang", "239bff", -1920.1965, 302.7697, 40.5643, -90.0000},
        {"Grotti", "ff4600", 563.774475, -1273.510986, 16.867170, 12.636687},
        {"Coutt And Schutz", "ffaa00", 2133.863037, -1129.836791, 25.270145, 71.406616},
        {"Shody", "d7ff00", 1677.705078, 1790.098144, 10.445111, 89.955596},
        {"OTTO's Autos", "faff00", -1645.245361, 1217.047973, 6.732273, 224.517120},
        {"Boat", "00b9ff", -2258.0054, 2477.0315, 0.2512, 313.4971}
    },

    BuyVehiclePoint[][e_BUY_VEHICLE_POINT] = {
        {-1967.343383, 291.565399, 34.131885, -90.100028, DEALER_WANG, INVALID_STREAMER_ID, INVALID_STREAMER_ID},
        {552.640747, -1259.638793, 16.232191, 34.699981, DEALER_GROTTI, INVALID_STREAMER_ID, INVALID_STREAMER_ID},
        {2130.263671, -1151.178222, 22.943443, 179.899932, DEALER_COUTT_AND_SCHUTZ, INVALID_STREAMER_ID, INVALID_STREAMER_ID},
        {1702.180297, 1852.536376, 9.790305, -179.999938, DEALER_SHODY, INVALID_STREAMER_ID, INVALID_STREAMER_ID},
        {-1641.813476, 1207.663574, 6.119683, 133.699584, DEALER_OTTOS_AUTOS, INVALID_STREAMER_ID, INVALID_STREAMER_ID},
        {-2284.027343, 2428.705566, 3.972121, 0.000000, DEALER_BOAT, INVALID_STREAMER_ID, INVALID_STREAMER_ID}
    },

    DealerVehiclesInfo[MAX_VEHICLES_PER_DEALERS][MAX_DEALERS][e_DEALER_VEHICLE_INFO],
    
    PlayerText:pDealerShopMenuTd[MAX_PLAYERS][10] = {{PlayerText:INVALID_TEXT_DRAW, ...}, ...};

/* Impl */
stock DealerShipGPSResponse(playerid, listitem) {
    SetPlayer_GPS_Checkpoint(playerid, BuyVehiclePoint[listitem][pPosX], BuyVehiclePoint[listitem][pPosY], BuyVehiclePoint[listitem][pPosZ], 0, 0);
    return 1;
}

stock Float:GetDistanceBetweenCoords(Float:x1, Float:y1, Float:z1, Float:x2, Float:y2, Float:z2)
{
    new Float:dX = (x1 - x2);
    new Float:dY = (y1 - y2);
    new Float:dZ = (z1 - z2);
    
    // Calcula la distancia usando la fórmula de la distancia (Teorema de Pitágoras 3D)
    return floatsqroot(dX * dX + dY * dY + dZ * dZ);
}


GetValidDealerVehicleIndex(const dealer) {
	for (new i = 0; i != MAX_VEHICLES_PER_DEALERS; i ++) {
		if (!DealerVehiclesInfo[i][dealer][dvValid]) return i;
	}
	return -1;
}

GetDealerVehiclesSize(const dealer) {
	new size = 0;
	for (new i = 0; i != MAX_VEHICLES_PER_DEALERS; i ++) {
		if (!DealerVehiclesInfo[i][dealer][dvValid]) continue;
		size ++;
	}
	return size;
}

CreateDealerVehicle(const dealer, const model, const colour_1 = -1, const colour_2 = -1) {
	new index = GetValidDealerVehicleIndex(dealer);
	if (index == -1) return printf("No hay mas indexes en 'CreateDealerVehicle'. extra %d", dealer);

	DealerVehiclesInfo[index][dealer][dvValid] = true;

    DealerVehiclesInfo[index][dealer][dvModelId] = model;

    DealerVehiclesInfo[index][dealer][dvColour1] = colour_1;
	if (DealerVehiclesInfo[index][dealer][dvColour1] == -1) DealerVehiclesInfo[index][dealer][dvColour1] = random(255);
    DealerVehiclesInfo[index][dealer][dvColour2] = colour_2;
	if (DealerVehiclesInfo[index][dealer][dvColour2] == -1) DealerVehiclesInfo[index][dealer][dvColour2] = random(255);

    DealerVehiclesInfo[index][dealer][dvPrice] = VEHICLE_INFO[model-400][vehicle_info_PRICE];
    DealerVehiclesInfo[index][dealer][dvCoins] = VEHICLE_INFO[model-400][vehicle_info_COINS];

    if(DealerVehiclesInfo[index][dealer][dvCoins] > 0) {
        DealerVehiclesInfo[index][dealer][dvPrice] = 0;
    }
    return 1;
}

UpdateDealerShipMenu(playerid) {
	if (!PLAYER_TEMP[playerid][pt_DEALER_SHOP]) return 0;

	new td_str[300 + 24], TdvModelId = DealerVehiclesInfo[ PLAYER_TEMP[playerid][pt_VEHICLE_DEALER_INDEX] ][ PLAYER_TEMP[playerid][pt_DEALER_INDEX] ][dvModelId];
	PlayerTextDrawSetPreviewModel(playerid, pDealerShopMenuTd[playerid][3], TdvModelId);

    PlayerTextDrawSetString(playerid, pDealerShopMenuTd[playerid][9], DealersInfo[ PLAYER_TEMP[playerid][pt_DEALER_INDEX] ][dName]);
    PlayerTextDrawBoxColor(playerid, pDealerShopMenuTd[playerid][1], HexToIntEx(DealersInfo[ PLAYER_TEMP[playerid][pt_DEALER_INDEX] ][dColour], 255));
    PlayerTextDrawBackgroundColor(playerid, pDealerShopMenuTd[playerid][2], HexToIntEx(DealersInfo[ PLAYER_TEMP[playerid][pt_DEALER_INDEX] ][dColour], 255));
    PlayerTextDrawBoxColor(playerid, pDealerShopMenuTd[playerid][9], HexToIntEx(DealersInfo[ PLAYER_TEMP[playerid][pt_DEALER_INDEX] ][dColour], 255));

    PlayerTextDrawSetPreviewVehCol(playerid, pDealerShopMenuTd[playerid][3], DealerVehiclesInfo[ PLAYER_TEMP[playerid][pt_VEHICLE_DEALER_INDEX] ][ PLAYER_TEMP[playerid][pt_DEALER_INDEX] ][dvColour1], DealerVehiclesInfo[ PLAYER_TEMP[playerid][pt_VEHICLE_DEALER_INDEX] ][ PLAYER_TEMP[playerid][pt_DEALER_INDEX] ][dvColour2]);
	
	if (DealerVehiclesInfo[ PLAYER_TEMP[playerid][pt_VEHICLE_DEALER_INDEX] ][ PLAYER_TEMP[playerid][pt_DEALER_INDEX] ][dvCoins] > 0) {
		format(td_str, sizeof td_str, "Modelo:_%s~n~Precio:_%s "SERVER_COIN"s", VEHICLE_INFO[ TdvModelId - 400][vehicle_info_NAME], number_format_thousand( DealerVehiclesInfo[ PLAYER_TEMP[playerid][pt_VEHICLE_DEALER_INDEX] ][ PLAYER_TEMP[playerid][pt_DEALER_INDEX] ][dvCoins] ));
		PlayerTextDrawSetString(playerid, pDealerShopMenuTd[playerid][4], td_str);

		if (PI[playerid][pi_COINS] < DealerVehiclesInfo[ PLAYER_TEMP[playerid][pt_VEHICLE_DEALER_INDEX] ][ PLAYER_TEMP[playerid][pt_DEALER_INDEX] ][dvCoins]) PlayerTextDrawBoxColor(playerid, pDealerShopMenuTd[playerid][5], -900267777);
		else PlayerTextDrawBoxColor(playerid, pDealerShopMenuTd[playerid][5], 1855979775);
		PlayerTextDrawShow(playerid, pDealerShopMenuTd[playerid][5]);
	} else {
		format(td_str, sizeof td_str, "Modelo:_%s~n~Precio:_%s$", VEHICLE_INFO[ TdvModelId - 400 ][vehicle_info_NAME], number_format_thousand( DealerVehiclesInfo[ PLAYER_TEMP[playerid][pt_VEHICLE_DEALER_INDEX] ][ PLAYER_TEMP[playerid][pt_DEALER_INDEX] ][dvPrice] ));
		PlayerTextDrawSetString(playerid, pDealerShopMenuTd[playerid][4], td_str);

		if (PI[playerid][pi_BANK_MONEY] < DealerVehiclesInfo[ PLAYER_TEMP[playerid][pt_VEHICLE_DEALER_INDEX] ][ PLAYER_TEMP[playerid][pt_DEALER_INDEX] ][dvPrice]) PlayerTextDrawBoxColor(playerid, pDealerShopMenuTd[playerid][5], -900267777);
		else PlayerTextDrawBoxColor(playerid, pDealerShopMenuTd[playerid][5], 1855979775);
		PlayerTextDrawShow(playerid, pDealerShopMenuTd[playerid][5]);
	}

	format(td_str, sizeof td_str, "%d/%d", PLAYER_TEMP[playerid][pt_VEHICLE_DEALER_INDEX] + 1, PLAYER_TEMP[playerid][pt_VEHICLE_DEALER_SIZE]);
	PlayerTextDrawSetString(playerid, pDealerShopMenuTd[playerid][8], td_str);

    PlayerTextDrawShow(playerid, pDealerShopMenuTd[playerid][0]);
    PlayerTextDrawShow(playerid, pDealerShopMenuTd[playerid][1]);
    PlayerTextDrawShow(playerid, pDealerShopMenuTd[playerid][2]);
    PlayerTextDrawShow(playerid, pDealerShopMenuTd[playerid][3]);
    PlayerTextDrawShow(playerid, pDealerShopMenuTd[playerid][4]);
    PlayerTextDrawShow(playerid, pDealerShopMenuTd[playerid][5]);
    PlayerTextDrawShow(playerid, pDealerShopMenuTd[playerid][6]);
    PlayerTextDrawShow(playerid, pDealerShopMenuTd[playerid][7]);
    PlayerTextDrawShow(playerid, pDealerShopMenuTd[playerid][8]);
    PlayerTextDrawShow(playerid, pDealerShopMenuTd[playerid][9]);
	return 1;
}

ShowPlayerDealerShipMenu(playerid) {
    PLAYER_TEMP[playerid][pt_VEHICLE_DEALER_INDEX] = 0;
	PLAYER_TEMP[playerid][pt_VEHICLE_DEALER_SIZE] = GetDealerVehiclesSize(PLAYER_TEMP[playerid][pt_DEALER_INDEX]);

	PLAYER_TEMP[playerid][pt_DEALER_SHOP] = true;
	UpdateDealerShipMenu(playerid);

    SendClientMessageEx(playerid, -1, "Pulsa [ESC] o /esc{ffffff} para salir de el menu");
    PLAYER_TEMP[playerid][pt_DIALOG_SHOW] = true;
    PLAYER_TEMP[playerid][pt_EN_DEALER] = true;

    SelectTextDrawEx(playerid, -1);
    return 1;
}

stock HidePlayerDealerShipMenu(playerid) {
    PlayerTextDrawHide(playerid, pDealerShopMenuTd[playerid][0]);
    PlayerTextDrawHide(playerid, pDealerShopMenuTd[playerid][1]);
    PlayerTextDrawHide(playerid, pDealerShopMenuTd[playerid][2]);
    PlayerTextDrawHide(playerid, pDealerShopMenuTd[playerid][3]);
    PlayerTextDrawHide(playerid, pDealerShopMenuTd[playerid][4]);
    PlayerTextDrawHide(playerid, pDealerShopMenuTd[playerid][5]);
    PlayerTextDrawHide(playerid, pDealerShopMenuTd[playerid][6]);
    PlayerTextDrawHide(playerid, pDealerShopMenuTd[playerid][7]);
    PlayerTextDrawHide(playerid, pDealerShopMenuTd[playerid][8]);
    PlayerTextDrawHide(playerid, pDealerShopMenuTd[playerid][9]);

	PLAYER_TEMP[playerid][pt_PICKUP_TIMER] = gettime() + 3;
    PLAYER_TEMP[playerid][pt_DIALOG_SHOW] = false;
    PLAYER_TEMP[playerid][pt_DEALER_SHOP] = false;
    
    PLAYER_TEMP[playerid][pt_EN_DEALER] = false;

    CancelSelectTextDrawEx(playerid);
    TIME_DEALER[playerid] = gettime();
    return 1;
}

enum Point_Vehicle_Info
{
	Float:vpos_X,
	Float:vpos_Y,
	Float:vpos_Z,
	Float:spawn_X,
	Float:spawn_Y,
	Float:spawn_Z,
	Float:spawn_A
};

enum e_G_VALID_OS
{
	e_G_VALID_OS_TIMER,
	e_G_VALID_OS_TYPE
}

new g_PValidOS[MAX_PLAYERS][e_G_VALID_OS] = {{-1, -1}, ...};


public OnIncomingConnection(playerid, ip_address[], port)
{
	if(!server_loaded) BlockIpAddress(ip_address, 20 * 1000);
	return 1;
}

stock Float:CameraLookToAngle(playerid)
{
    new Float:x, Float:y, Float:z;
    GetPlayerCameraFrontVector(playerid, x, y, z);
    return atan2(y, x) + 270.0;
}

stock IsMadera(id){
    new idMadera[18] ={122};
    for(new i = 0; i < 18; i++)if(id == idMadera[i]) return 1;
    return 0;
}

new TimerCar[MAX_PLAYERS] = {-1, ...};
public OnPlayerDisconnect(playerid, reason)
{
    Desconectado(playerid);
    RecogerJBL(playerid);
    
    if(EnEventoDM[playerid])
    {
        // Limpiamos las variables de manos para que no se guarden en el archivo del usuario
        // así evitamos que al loguear mañana aparezca con el arma del evento
        PI[playerid][pi_MANO_DER] = 0;
        PI[playerid][pi_DER_CANT] = 0;
        EnEventoDM[playerid] = false;
        
        SetPlayerPosEx(playerid, 1555.400390,-1675.611694,16.195312, 0.0, 0, 0, true);

        // Opcional: Avisar a los que siguen en el DM que alguien se fue/crasheó
        new str_disc[128];
        format(str_disc, sizeof(str_disc), "{D50000}» {FFFFFF}%s abandonó el evento (Desconexión).", PLAYER_TEMP[playerid][pt_RP_NAME]);
        for(new i = 0; i < MAX_PLAYERS; i++) {
            if(IsPlayerConnected(i) && EnEventoDM[i]) {
                SendClientMessage(i, -1, str_disc);
            }
        }
    }
    
    AutoSiendoProcesado[playerid] = 0;
    
    // Opcional: Si el jugador se desconecta, sus contadores de vehículos 
    // deberían resetearse por seguridad
    for(new v = 1; v <= GetVehiclePoolSize(); v++)
    {
        if(PLAYER_VEHICLES[v][player_vehicle_OWNER_ID] == PI[playerid][pi_ID])
        {
            GLOBAL_VEHICLES[v][gb_vehicle_ABANDONED_TICKS] = 0;
        }
    }
    
    if(PLAYER_TEMP[playerid][pt_TRAILER_OBJ] != 0)
    {
        DestroyVehicle(PLAYER_TEMP[playerid][pt_TRAILER_OBJ]);
        PLAYER_TEMP[playerid][pt_TRAILER_OBJ] = 0;
    }
    
    if(PI[playerid][pi_GUIA_INICIO] > 0)
    {
        GuardarProgresoGuia(playerid);
    }
    
	online--;
	new reasontext[526];
	switch(reason)
	{
	    case 0: reasontext = "Timeout/Crash";
	    case 1: reasontext = "Quit";
	    case 2: reasontext = "Kick/Ban";
	}
	new h, m, s;
	new day, month, year;
	gettime(h, m, s);
	getdate(year,month,day);
    new DCC_Channel:g_Discord_Chat;
	new name[MAX_PLAYER_NAME + 1];
    GetPlayerName(playerid, name, sizeof name);
    
    GuardarEstado(playerid);
    if(IsValidDynamic3DTextLabel(PI[playerid][pi_LabelEstado]))
    {
        DestroyDynamic3DTextLabel(PI[playerid][pi_LabelEstado]);
        PI[playerid][pi_LabelEstado] = Text3D:INVALID_3DTEXT_ID;
    }

    if (_:g_Discord_Chat == 0)
    g_Discord_Chat = DCC_FindChannelById("1440971373072744662"); // Discord channel ID

    new string[128];
    format(string, sizeof string, "Player ID %d",playerid);
    new DCC_Embed:apalah;
	new str[526],stra[526],stro[526];
	format(str,sizeof(str),"%s",name);
	format(stra,sizeof(stra),"%s",reasontext);
	EstaAutorizado[playerid] = false;
    format(stro,sizeof(stro),"%d/%d",online,GetMaxPlayers());
	apalah = DCC_CreateEmbed("Spain+ RolePlay","Jugador desconectado","","",0xff0000,"Join us @Spain+ RolePlay","","https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png","");
	DCC_AddEmbedField(apalah, str, string, true);
	DCC_AddEmbedField(apalah, "Razon", stra, true);
	DCC_AddEmbedField(apalah, "Actuales Jugadores", stro, true);
	DCC_SendChannelEmbedMessage(g_Discord_Chat,apalah);

	if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER)
	{
		new vehicleid = GetPlayerVehicleID(playerid);
		if(vehicleid)
		{
			GLOBAL_VEHICLES[ vehicleid ][gb_vehicle_TP_IMMUNITY] = gettime() + 5;
			GLOBAL_VEHICLES[ vehicleid ][gb_vehicle_DRIVER] = INVALID_PLAYER_ID;
			GLOBAL_VEHICLES[ vehicleid ][gb_vehicle_LAST_DRIVER] = INVALID_PLAYER_ID;
			GLOBAL_VEHICLES[ vehicleid ][gb_vehicle_OCCUPIED] = false;
		}
	}
	if(PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] != INVALID_VEHICLE_ID)
	{
		if(GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] ][gb_vehicle_LAST_DRIVER] == playerid) GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] ][gb_vehicle_LAST_DRIVER] = INVALID_PLAYER_ID;
	}

	PLAYER_TEMP[playerid][pt_TIME_PASSED_LAST_REP] = gettime() * 1000 - PLAYER_TEMP[playerid][pt_TIME_PASSED_LAST_REP];
	PI[playerid][pi_TIME_FOR_REP] -= PLAYER_TEMP[playerid][pt_TIME_PASSED_LAST_REP];
	if(PI[playerid][pi_CREW]) CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_ONLINE_MEMBERS] --;
	if(PLAYER_TEMP[playerid][pt_PIVOT_OBJECT] != INVALID_OBJECT_ID) DestroyPlayerObject(playerid, PLAYER_TEMP[playerid][pt_PIVOT_OBJECT]);
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL) PI[playerid][pi_POLICE_JAIL_TIME] -= gettime() - PLAYER_TEMP[playerid][pt_ENTER_JAIL_TIME];
	if(PLAYER_TEMP[playerid][pt_PLAYER_IN_CALL]) EndPhoneCall(playerid);

	DestroyPlayerCheckpoints(playerid);
	DestroyPlayerTextDraws(playerid);
	CallLocalFunction("EndPlayerJob", "iib", playerid, PLAYER_TEMP[playerid][pt_WORKING_IN], false);
    
	//db
	if(PI[playerid][pi_ID] != 0)
	{
		if(PLAYER_TEMP[playerid][pt_USER_LOGGED]) //guardar datos solo si ha logeado
		{
			PI[playerid][pi_CONNECTED] = 0;
			PI[playerid][pi_PLAYERID] = 0;
			UpdatePlayerWorldInfo(playerid);
			
			new f = PLAYER_TEMP[playerid][pt_FABRICA_ID];
            if(f != -1) {
                PI[playerid][pi_POS_X] = Fabricas[f][pEntradaX];
                PI[playerid][pi_POS_Y] = Fabricas[f][pEntradaY];
                PI[playerid][pi_POS_Z] = Fabricas[f][pEntradaZ];
                PI[playerid][pi_INTERIOR] = 0;
            }

            new n = PLAYER_TEMP[playerid][pt_NEGOCIO_ID];
            if(n != -1) {
                PI[playerid][pi_POS_X] = NI[n][n_EntradaX];
                PI[playerid][pi_POS_Y] = NI[n][n_EntradaY];
                PI[playerid][pi_POS_Z] = NI[n][n_EntradaZ];
                PI[playerid][pi_INTERIOR] = 0;
            }

            if(PLAYER_TEMP[playerid][pt_EN_APARTAMENTO]) {
                PI[playerid][pi_POS_X] = APA[playerid][pi_AptoExX];
                PI[playerid][pi_POS_Y] = APA[playerid][pi_AptoExY];
                PI[playerid][pi_POS_Z] = APA[playerid][pi_AptoExZ];
                PI[playerid][pi_INTERIOR] = 0;
            }

			getDateTime(PI[playerid][pi_LAST_CONNECTION]);
			SavePlayerData(playerid);
			SavePlayerVehicles(playerid, true);
			SavePlayerToys(playerid);
			SavePlayerWeaponsData(playerid);
			SavePlayerWorkLevels(playerid);
			
			//msg
			new disconnect_message[128];
			switch(reason)
			{
				case 0: format(disconnect_message, sizeof disconnect_message, "{909D95}%s se ha desconectado por error (crash).", PLAYER_TEMP[playerid][pt_NAME]);
				case 1: format(disconnect_message, sizeof disconnect_message, "{909D95}%s se ha desconectado.", PLAYER_TEMP[playerid][pt_NAME]);
				case 2: format(disconnect_message, sizeof disconnect_message, "{909D95}%s se ha desconectado porque fue expulsado del servidor.", PLAYER_TEMP[playerid][pt_NAME]);
			}
			NearbyMessage(PI[playerid][pi_POS_X], PI[playerid][pi_POS_Y], PI[playerid][pi_POS_Z], PI[playerid][pi_INTERIOR], GetPlayerVirtualWorld(playerid), 15.0, 0x909D95FF, disconnect_message);
		
			CreateDisconnectInfo(playerid, reason);
		}
		else {
			mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET connected = 0, playerid = 0 WHERE id = %d;", PI[playerid][pi_ID]);
			mysql_tquery(srp_db, QUERY_BUFFER);
		}
	}
	PLAYER_TEMP[playerid][pt_NEGOCIO_ID] = -1;
	PLAYER_TEMP[playerid][pt_FABRICA_ID] = -1;
	PLAYER_TEMP[playerid][pt_EN_APARTAMENTO] = false;
	PLAYER_TEMP[playerid][pt_EN_DEALER] = false;

	//reset
	ResetPlayerVariables(playerid);
	ClearPlayerParkingVehicles(playerid);
	
	new vendedor = PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID];
    PLAYER_TEMP[vendedor][pt_VENTA]= 0; 
    
    PLAYER_TEMP[playerid][pt_NOMBRE_ORIGINAL][0] = '\0';
    
    if (IsPlayerInRace[playerid] == 1)
    {
        new p1 = RaceState[0][race_PLAYER1];
        new p2 = RaceState[0][race_PLAYER2];
        new winner = INVALID_PLAYER_ID;

        // Identificamos quién se quedó conectado para darle la victoria por abandono
        if (playerid == p1) winner = p2;
        else winner = p1;

        // Si el otro jugador sigue conectado
        if (winner != INVALID_PLAYER_ID && IsPlayerConnected(winner))
        {
            SendClientMessage(winner, -1, "{cccccc}[CARRERA] Tu oponente se ha desconectado. La carrera ha sido cancelada.");
            
            // Opcional: Podrías devolverle el dinero de su apuesta aquí
            new apuesta = RaceState[0][race_BET];
            GivePlayerCash(winner, apuesta); 
            
            // Limpiamos al jugador que se quedó
            IsPlayerInRace[winner] = 0;
            TogglePlayerControllable(winner, true);
            DisablePlayerCheckpoint(winner);
        }

        // Limpieza absoluta de las variables de la carrera
        // (Llamamos a EndRace con parámetros de cancelación)
        EndRace(INVALID_PLAYER_ID, INVALID_PLAYER_ID, 0);
        
        // Nos aseguramos de resetear la variable individual del que se fue
        IsPlayerInRace[playerid] = 0;
    }
	return 1;
}

forward QuitarCargando(playerid);
public QuitarCargando(playerid)
{
    PlayerTextDrawHide(playerid, TD_Cargando[playerid]);
    PlayerTextDrawHide(playerid, TD_TextoCarga[playerid]);
    // Aquí puedes quitar el GameText si lo pusiste
    return 1;
}


forward DestroyCar(playerid, vehicleid);
public DestroyCar(playerid, vehicleid)
{
	LimpiarVariables(PI_CAR_WORK_ID[playerid]);
	DestroyVehicle(PI_CAR_WORK_ID[playerid]);
	PI_CAR_WORK[playerid] = false;
	PI_CAR_WORK_ID[playerid] = -1;
	return 1;
}

ResetPlayerVariables(playerid)
{
	new tmp_PI[enum_PI]; PI[playerid] = tmp_PI;

	new temp_PLAYER_TEMP[Temp_Enum]; PLAYER_TEMP[playerid] = temp_PLAYER_TEMP;

	new temp_PLAYER_TOYS[Player_Toys_Info];
	for(new i = 0; i != MAX_SU_TOYS; i ++) PLAYER_TOYS[playerid][i] = temp_PLAYER_TOYS;

	new temp_PLAYER_PHONE_BOOK[Phone_Book_Enum];
	for(new i = 0; i != MAX_PHONE_CONTACTS; i ++) PLAYER_PHONE_BOOK[playerid][i] = temp_PLAYER_PHONE_BOOK;

	new temp_PLAYER_GPS[Player_GPS_Enum];
	for(new i = 0; i != MAX_PLAYER_GPS_SAVES; i ++) PLAYER_GPS[playerid][i] = temp_PLAYER_GPS;

	new tmp_PLAYER_WORKS[enum_PLAYER_WORKS];
	for(new i = 0; i != sizeof(PLAYER_WORKS[]); i ++) PLAYER_WORKS[playerid][i] = tmp_PLAYER_WORKS;

	new tmp_PLAYER_FACTIONS[enum_PLAYER_FACTIONS];
	for(new i = 0; i != sizeof(PLAYER_FACTIONS[]); i ++) PLAYER_FACTIONS[playerid][i] = tmp_PLAYER_FACTIONS;
	
	CheckpointArmero[playerid] = 0;
	
	new temp_PLAYER_PROPERTY_CONSTRUCTO[PLAYER_PROPERTY_CONSTRUCTOR_ENU]; PLAYER_PROPERTY_CONSTRUCTOR[playerid] = temp_PLAYER_PROPERTY_CONSTRUCTO;

	PLAYER_TEMP[playerid][pt_NOTARY_TO_PLAYER] = INVALID_PLAYER_ID;
	PLAYER_TEMP[playerid][pt_ADMIN_SERVICE] = false;

	new tmp_PLAYER_WEAPONS[enum_PLAYER_WEAPONS];
	for(new i = 0; i != sizeof PLAYER_WEAPONS[]; i ++) PLAYER_WEAPONS[playerid][i] = tmp_PLAYER_WEAPONS;

	new tmp_PLAYER_AC_INFO[e_PLAYER_AC_INFO];
	for(new i = 0; i != sizeof(ac_Info); i ++) PLAYER_AC_INFO[playerid][i] = tmp_PLAYER_AC_INFO;
	return 1;
}

DestroyPlayerCheckpoints(playerid)
{
	if(IsValidDynamicCP(PLAYER_TEMP[playerid][pt_GPS_CHECKPOINT]))
	{
		DestroyDynamicCP(PLAYER_TEMP[playerid][pt_GPS_CHECKPOINT]);
		PLAYER_TEMP[playerid][pt_GPS_CHECKPOINT] = INVALID_STREAMER_ID;
	}
	if(IsValidDynamicCP(PLAYER_TEMP[playerid][pt_TRUCK_CHECKPOINT]))
	{
		DestroyDynamicCP(PLAYER_TEMP[playerid][pt_TRUCK_CHECKPOINT]);
		PLAYER_TEMP[playerid][pt_TRUCK_CHECKPOINT] = INVALID_STREAMER_ID;
	}
	if(IsValidDynamicCP(PLAYER_TEMP[playerid][pt_TRASH_CHECKPOINT]))
	{
		DestroyDynamicCP(PLAYER_TEMP[playerid][pt_TRASH_CHECKPOINT]);
		PLAYER_TEMP[playerid][pt_TRASH_CHECKPOINT] = INVALID_STREAMER_ID;
	}
	if(IsValidDynamicRaceCP(PLAYER_TEMP[playerid][pt_HARVERT_CHECKPOINT]))
	{
		DestroyDynamicRaceCP(PLAYER_TEMP[playerid][pt_HARVERT_CHECKPOINT]);
		PLAYER_TEMP[playerid][pt_HARVERT_CHECKPOINT] = INVALID_STREAMER_ID;
	}
	if(IsValidDynamicCP(PLAYER_TEMP[playerid][pt_LUMBERJACK_CHECKPOINT]))
	{
		DestroyDynamicCP(PLAYER_TEMP[playerid][pt_LUMBERJACK_CHECKPOINT]);
		PLAYER_TEMP[playerid][pt_LUMBERJACK_CHECKPOINT] = INVALID_STREAMER_ID;
	}
	if(IsValidDynamicRaceCP(PLAYER_TEMP[playerid][pt_BUS_CHECKPOINT]))
	{
		DestroyDynamicRaceCP(PLAYER_TEMP[playerid][pt_BUS_CHECKPOINT]);
		PLAYER_TEMP[playerid][pt_BUS_CHECKPOINT] = INVALID_STREAMER_ID;
	}
	if(IsValidDynamicCP(PLAYER_TEMP[playerid][pt_PIZZA_CHECKPOINT]))
	{
		DestroyDynamicCP(PLAYER_TEMP[playerid][pt_PIZZA_CHECKPOINT]);
		PLAYER_TEMP[playerid][pt_PIZZA_CHECKPOINT] = INVALID_STREAMER_ID;
	}
	if(IsValidDynamicActor(PLAYER_TEMP[playerid][pt_PIZZA_ACTOR]))
	{
		DestroyDynamicActor(PLAYER_TEMP[playerid][pt_PIZZA_ACTOR]);
		PLAYER_TEMP[playerid][pt_PIZZA_ACTOR] = INVALID_STREAMER_ID;
	}
	if(IsValidDynamicRaceCP(PLAYER_TEMP[playerid][pt_DL_EXAM_CP]))
	{
		DestroyDynamicRaceCP(PLAYER_TEMP[playerid][pt_DL_EXAM_CP]);
		PLAYER_TEMP[playerid][pt_DL_EXAM_CP] = INVALID_STREAMER_ID;
	}
	return 1;
}

GetEnterExitIndexById(id)
{
	for(new i = 0; i != sizeof ENTER_EXIT; i ++)
	{
		if(ENTER_EXIT[i][ee_ID] == 0) continue;
		if(ENTER_EXIT[i][ee_ID] == id) return i;
	}
	return -1;
}
public OnRconLoginAttempt(ip[], password[], success)
{
	new playerid;
    static string[150], IP[16];
    for(new i=0; i<MAX_PLAYERS; i++)
    {
    GetPlayerIp(playerid, IP, sizeof IP);
    if(strcmp(ip, IP, true ) == 0)
    {
    if (EstaAutorizado[i] == false)
    {
	KickEx(playerid, 750);
	Ban(playerid);
    SendClientMessage(playerid, 0x00A5AAFF, string);
    return 1;
    }
    }
    }
    return 1;
}

forward caite2(playerid);
public caite2(playerid)
{
    if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return 1;
    if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK) return 1;
    if(GetPlayerState(playerid) != PLAYER_STATE_ONFOOT) return 1;
    ApplyAnimation(playerid,"PED","getup",4.1,0,0,0,0,0,1);
    SetTimerEx("descaerse2", 1500, false, "d", playerid);
	return 1;
}

forward descaerse2(playerid);
public descaerse2(playerid)
{
    if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return 1;
    if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK) return 1;
    if(GetPlayerState(playerid) != PLAYER_STATE_ONFOOT) return 1;
	return 1;
}

forward Caite(playerid);
public Caite(playerid)
{
    if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return 1;
    if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK) return 1;
    if(GetPlayerState(playerid) != PLAYER_STATE_ONFOOT) return 1;
    ApplyAnimation(playerid,"PED","getup",4.1,0,0,0,0,0,1);
    SetTimerEx("descaerse", 1500, false, "d", playerid);
	return 1;
}

forward Caida(playerid);
public Caida(playerid)
{
    if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return 1;
    if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK) return 1;
    if(GetPlayerState(playerid) != PLAYER_STATE_ONFOOT) return 1;
    ApplyAnimation(playerid,"PED","getup",4.1,0,0,0,0,0,1);
    SetTimerEx("descaerse", 1500, false, "d", playerid);
	return 1;
}

forward descaerse(playerid);
public descaerse(playerid)
{
    if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return 1;
    if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK) return 1;
    if(GetPlayerState(playerid) != PLAYER_STATE_ONFOOT) return 1;
    SetTimerEx("Caite", 80000, false, "i", playerid);
	return 1;
}

forward Limpiado(playerid);
public Limpiado(playerid)
{
    if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return 1;
    if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK) return 1;
    if(GetPlayerState(playerid) != PLAYER_STATE_ONFOOT) return 1;
    ApplyAnimation(playerid, "CARRY", "crry_prtial", 4.1, 0, 0, 0, 0, 0, true);
	ClearAnimations(playerid);
	return 1;
}

// Variables para el jugador
new TrabajandoEmpresa[MAX_PLAYERS];
new RutaAsignada[MAX_PLAYERS];
new TipoTrabajo[MAX_PLAYERS];

#define DIALOG_COMPRAR_MERC 7003
#define DIALOG_RUTAS_1 7000 // Diálogo para empresas Tipo 1 (24/7)
#define DIALOG_RUTAS_2 7001 // Diálogo para empresas Tipo 2 (Troncos)
#define DIALOG_COMPRAR_EMP 7002 // Diálogo para empresas Tipo 2 (Troncos)

new VehiculoTrabajo[MAX_PLAYERS]; // Almacena el ID del auto que sacó el jugador
new CargaTimer[MAX_PLAYERS];      // Para el timer de los 5 segundos
new bool:Cargando[MAX_PLAYERS];   // Estado de carga

new bool:RutaFinalTransporte[MAX_PLAYERS];

#define DIALOG_RUTAS_3 7005
#define DIALOG_LISTA_EMPRESAS 7007

forward FinalizarCargaBomberos(playerid);


#define MAX_EMPRESAS 50
#define TIPO_MERCANCIA 1
#define TIPO_TRONCOS 2

enum E_EMPRESA {
    eID,
    eDuenio[MAX_PLAYER_NAME],
    ePrecio,
    eGanancias,
    eMercancia,
    eTipo, 
    Float:eX, Float:eY, Float:eZ,
    Float:eGAngle, // <--- Nueva variable para el ángulo del garaje
    Float:eGX, Float:eGY, Float:eGZ,
    ePickup,
    eGPickup,
    Text3D:eText,   // <--- AGREGA ESTA LÍNEA
    Text3D:eGText,  // <--- AGREGA ESTA PARA EL TEXTO DEL GARAJE
    bool:eComprada
}
new EmpresaData[MAX_EMPRESAS][E_EMPRESA];
new Iterator:Empresas<MAX_EMPRESAS>; // Si usas foreach, si no, usa un bucle normal


//Trabajo de Limpia Calles
forward Limpiando_Calle(playerid);
public Limpiando_Calle(playerid)
{
    new vehicleid = GetPlayerVehicleID(playerid);
	TogglePlayerControllable(playerid, true);
	GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_ENGINE] = 1;
	SendFormatNotification(playerid, "Continúa con la ~g~~h~ruta~w~.", 4);
	return 1;
}
//Trabajo de Jardinero
forward Cortando_Hierba(playerid);
public Cortando_Hierba(playerid)
{
    new vehicleid = GetPlayerVehicleID(playerid);
	TogglePlayerControllable(playerid, true);
	GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_ENGINE] = 1;
	StopAudioStreamForPlayer(playerid);
	SendFormatNotification(playerid, "Continúa podando ~g~~h~la zona~w~.", 4);
	return 1;
}

stock ChangeRadioForThisVehicle(playerid, id_radio)
{
	new vehiculoid = GetPlayerVehicleID(playerid);

	if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER)
	{
		
		foreach(new i : Player)
		{
			if(IsPlayerConnected(i) && IsPlayerInVehicle(i,vehiculoid) && GetPlayerState(i) == PLAYER_STATE_PASSENGER)
			{
				PlayAudioStreamForPlayer(i, Radios[ id_radio ][Link]);
				SendClientMessageEx(i, -1, ""RED"@%s "WHITE"cambio la radio del vehiculo a: "RED"%s",PLAYER_TEMP[playerid][pt_NAME],Radios[ id_radio ][Nombre]);
			}
		}
	}

	PlayAudioStreamForPlayer(playerid, Radios[ id_radio ][Link]);
	SendClientMessageEx(playerid, -1, "Cambiaste la radio del vehiculo a: "RED"%s",Radios[ id_radio ][Nombre]);

	GLOBAL_VEHICLES[ vehiculoid ][gb_vehicle_RADIO] = id_radio;

	return 1;
}
 
 stock alm(string[], string2[])
{
    strmid(string, string2, 0, strlen(string2), strlen(string2) + 1);
    return 1;
}

stock AnimCargador(playerid)
{
	switch(PI[playerid][pi_MANO_DER])
	{
		case 19: {ApplyAnimation(playerid,"COLT45","colt45_reload",4.1, 0, 1, 1, 0, 700, 1); SetTimerEx("StopAnimation", 700, false, "i", playerid);}
		case 20: {ApplyAnimation(playerid,"COLT45","colt45_reload",4.1, 0, 1, 1, 0, 700, 1); SetTimerEx("StopAnimation", 700, false, "i", playerid);}
		case 21: {ApplyAnimation(playerid,"PYTHON","python_reload",4.1, 0, 1, 1, 0, 700, 1); SetTimerEx("StopAnimation", 700, false, "i", playerid);}
		case 22: {ApplyAnimation(playerid,"BUDDY","buddy_reload",4.1, 0, 1, 1, 0, 800, 1); SetTimerEx("StopAnimation", 800, false, "i", playerid);}
		case 23: {ApplyAnimation(playerid,"COLT45","sawnoff_reload",4.1, 0, 1, 1, 0, 800, 1); SetTimerEx("StopAnimation", 800, false, "i", playerid);}
		case 24: {ApplyAnimation(playerid,"BUDDY","buddy_reload",4.1, 0, 1, 1, 0, 700, 1); SetTimerEx("StopAnimation", 700, false, "i", playerid);}
		case 25: {ApplyAnimation(playerid,"UZI","UZI_reload",4.1, 0, 1, 1, 0, 700, 1); SetTimerEx("StopAnimation", 700, false, "i", playerid);}
		case 26: {ApplyAnimation(playerid,"RIFLE","RIFLE_load",4.1, 0, 1, 1, 0, 700, 1); SetTimerEx("StopAnimation", 700, false, "i", playerid);}
		case 27: {ApplyAnimation(playerid,"RIFLE","RIFLE_load",4.1, 0, 1, 1, 0, 700, 1); SetTimerEx("StopAnimation", 700, false, "i", playerid);}
		case 28: {ApplyAnimation(playerid,"RIFLE","RIFLE_load",4.1, 0, 1, 1, 0, 700, 1); SetTimerEx("StopAnimation", 700, false, "i", playerid);}
		case 29: {ApplyAnimation(playerid,"UZI","UZI_reload",4.1, 0, 1, 1, 0, 700, 1); SetTimerEx("StopAnimation", 700, false, "i", playerid);}
		case 30: {ApplyAnimation(playerid,"BUDDY","buddy_reload",4.1, 0, 1, 1, 0, 800, 1); SetTimerEx("StopAnimation", 800, false, "i", playerid);}
		case 31: {ApplyAnimation(playerid,"BUDDY","buddy_reload",4.1, 0, 1, 1, 0, 800, 1); SetTimerEx("StopAnimation", 800, false, "i", playerid);}
		case 189: {ApplyAnimation(playerid,"BUDDY","buddy_reload",4.1, 0, 1, 1, 0, 800, 1); SetTimerEx("StopAnimation", 800, false, "i", playerid);}
		case 212: {ApplyAnimation(playerid,"PYTHON","python_reload",4.1, 0, 1, 1, 0, 700, 1); SetTimerEx("StopAnimation", 700, false, "i", playerid);}
	}
}
 
stock GetPlayerArma(playerid)
{
	switch(PI[playerid][pi_MANO_DER])
	{
	    case 19: return 19;
	    case 20: return 20;
	    case 21: return 21;
	    case 22: return 22;
	    case 23: return 23;
	    case 24: return 24;
	    case 25: return 25;
	    case 26: return 26;
		case 27: return 27;
	    case 28: return 28;
	    case 29: return 29;
	    case 30: return 30;
	    case 31: return 31;
	    case 35: return 35;
	    case 102: return 102;
	    case 103: return 103;
	    case 104: return 104;
	    case 195: return 195;
	
	    case 214: return 214;
	    case 215: return 215;
	    case 216: return 216;
	    case 217: return 217; 
	    case 218: return 218;
	    case 219: return 219;
	}
	return 0;
}
 
stock IsCbugWeapon(playerid){
  	new weaponID = GetPlayerWeapon(playerid);
  	if(weaponID == 22 || weaponID == 24 || weaponID == 25 || weaponID == 27)
  	{
	return 1;
    }

	return 0;
}


RegalosNavidad(playerid)
{
	new RandomNavidad = random(16);
    switch (RandomNavidad)
    {
		case 0:
		{
			new dinerorand = random(15000 - 11000) + 11000;
            GivePlayerCash(playerid, dinerorand);
            SendFormatNotification(playerid, "Conseguiste %s$ de dinero", number_format_thousand(dinerorand));
		}
		case 1:
		{
			new checki = 74;
			new player_slot = GetEmptyInvSlot(playerid);
            if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
		    PI[playerid][pi_BOL][player_slot] = checki;
		    PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
            SendNotification(playerid, "Conseguiste Un Paquete De Crack 20G.");
		}
		case 2:
		{
			
            new checki = 257;
			new player_slot = GetEmptyInvSlot(playerid);
            if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
		    PI[playerid][pi_BOL][player_slot] = checki;
		    PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
            SendNotification(playerid, "Lucky Block.");
		}
		case 3:
		{
			PI[playerid][pi_COINS]+= 1;
            mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET coins = %d WHERE id = %d;", PI[playerid][pi_COINS], PI[playerid][pi_ID]);
            mysql_tquery(srp_db, QUERY_BUFFER);
            SendNotification(playerid, "Conseguiste ~y~1~w~ Gema.");
		}
		case 4:
		{
			new checki = 79;
			new player_slot = GetEmptyInvSlot(playerid);
            if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
		    PI[playerid][pi_BOL][player_slot] = checki;
		    PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
            SendNotification(playerid, "Conseguiste Un Cargamento De M4.");
		}
		case 5:
		{
			new checki = 153;
			new player_slot = GetEmptyInvSlot(playerid);
            if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
		    PI[playerid][pi_BOL][player_slot] = checki;
		    PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
            SendNotification(playerid, "Conseguiste Una Tortuga.");
		}
		case 6:
		{
			new checki = 77;
			new player_slot = GetEmptyInvSlot(playerid);
            if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
		    PI[playerid][pi_BOL][player_slot] = checki;
		    PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
            SendNotification(playerid, "Conseguiste Un Maletin.");
		}
		case 7:
		{
			new checki = 78;
			new player_slot = GetEmptyInvSlot(playerid);
            if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
		    PI[playerid][pi_BOL][player_slot] = checki;
		    PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
            SendNotification(playerid, "Conseguiste Un Atuendo.");
		}
		case 8:
		{
			new checki = 73;
			new player_slot = GetEmptyInvSlot(playerid);
            if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
		    PI[playerid][pi_BOL][player_slot] = checki;
		    PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
            SendNotification(playerid, "Conseguiste Un Chaleco.");
		}
		case 9:
		{
			new checki = 101;
			new player_slot = GetEmptyInvSlot(playerid);
            if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
		    PI[playerid][pi_BOL][player_slot] = checki;
		    PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
            SendNotification(playerid, "Conseguiste Una Dinamita.");
		}
		case 10:
		{
			new checki = 80;
			new player_slot = GetEmptyInvSlot(playerid);
            if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
		    PI[playerid][pi_BOL][player_slot] = checki;
		    PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
            SendNotification(playerid, "Conseguiste Un Cargamento EDC.");
		}
		case 11:
		{
			GivePlayerCash(playerid, 150000); 
		}
		case 12:
		{
			new checki = 164;
			new player_slot = GetEmptyInvSlot(playerid);
            if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
		    PI[playerid][pi_BOL][player_slot] = checki;
		    PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
            SendNotification(playerid, "Conseguiste Una calavera.");
		}
		case 13:
		{
			new checki = 175;
			new player_slot = GetEmptyInvSlot(playerid);
            if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
		    PI[playerid][pi_BOL][player_slot] = checki;
		    PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
            SendNotification(playerid, "Conseguiste Una escoba.");
		}
		case 14:
		{
			new checki = 161;
			new player_slot = GetEmptyInvSlot(playerid);
            if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
		    PI[playerid][pi_BOL][player_slot] = checki;
		    PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
            SendNotification(playerid, "Conseguiste Un Sombrero Exclusivo.");
		}
		case 15:
		{
			new checki = 132;
			new player_slot = GetEmptyInvSlot(playerid);
            if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
		    PI[playerid][pi_BOL][player_slot] = checki;
		    PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
            SendNotification(playerid, "Conseguiste Un Gorro Navideco Exclusivo.");
		}
    }
    
    return 1;
}

LuckyBlock(playerid)
{
	new RandomNavidad = random(16);
    switch (RandomNavidad)
    {
		case 0:
		{
			new dinerorand = random(15000 - 11000) + 11000;
            GivePlayerCash(playerid, dinerorand);
            SendFormatNotification(playerid, "Conseguiste %s$ de dinero", number_format_thousand(dinerorand));
		}
		case 1:
		{
			new checki = 74;
			new player_slot = GetEmptyInvSlot(playerid);
            if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
		    PI[playerid][pi_BOL][player_slot] = checki;
		    PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
            SendNotification(playerid, "Conseguiste Un Paquete De Crack 20G.");
		}
		case 2:
		{
			
            
		}
		case 3:
		{
			PI[playerid][pi_COINS]+= 1;
            mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET coins = %d WHERE id = %d;", PI[playerid][pi_COINS], PI[playerid][pi_ID]);
            mysql_tquery(srp_db, QUERY_BUFFER);
            SendNotification(playerid, "Conseguiste ~y~1~w~ Gema.");
		}
		case 4:
		{
			new checki = 79;
			new player_slot = GetEmptyInvSlot(playerid);
            if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
		    PI[playerid][pi_BOL][player_slot] = checki;
		    PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
            SendNotification(playerid, "Conseguiste Un Cargamento De M4.");
		}
		case 5:
		{
			
		}
		case 6:
		{
			new checki = 77;
			new player_slot = GetEmptyInvSlot(playerid);
            if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
		    PI[playerid][pi_BOL][player_slot] = checki;
		    PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
            SendNotification(playerid, "Conseguiste Un Maletin.");
		}
		case 7:
		{
			
		}
		case 8:
		{
			new checki = 73;
			new player_slot = GetEmptyInvSlot(playerid);
            if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
		    PI[playerid][pi_BOL][player_slot] = checki;
		    PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
            SendNotification(playerid, "Conseguiste Un Chaleco.");
		}
		case 9:
		{
			new checki = 101;
			new player_slot = GetEmptyInvSlot(playerid);
            if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
		    PI[playerid][pi_BOL][player_slot] = checki;
		    PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
            SendNotification(playerid, "Conseguiste Una Dinamita.");
		}
		case 10:
		{
			new checki = 80;
			new player_slot = GetEmptyInvSlot(playerid);
            if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
		    PI[playerid][pi_BOL][player_slot] = checki;
		    PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
            SendNotification(playerid, "Conseguiste Un Cargamento EDC.");
		}
		case 11:
		{
			GivePlayerCash(playerid, 150000); 
		}
		case 12:
		{
			new checki = 164;
			new player_slot = GetEmptyInvSlot(playerid);
            if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
		    PI[playerid][pi_BOL][player_slot] = checki;
		    PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
            SendNotification(playerid, "Conseguiste Una calavera.");
		}
		case 13:
		{
			new checki = 175;
			new player_slot = GetEmptyInvSlot(playerid);
            if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
		    PI[playerid][pi_BOL][player_slot] = checki;
		    PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
            SendNotification(playerid, "Conseguiste Una escoba.");
		}
		case 14:
		{
			new checki = 161;
			new player_slot = GetEmptyInvSlot(playerid);
            if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
		    PI[playerid][pi_BOL][player_slot] = checki;
		    PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
            SendNotification(playerid, "Conseguiste Un Sombrero.");
		}
		case 15:
		{
			new checki = 132;
			new player_slot = GetEmptyInvSlot(playerid);
            if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
		    PI[playerid][pi_BOL][player_slot] = checki;
		    PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
            SendNotification(playerid, "Conseguiste Un Gorro Navideco Exclusivo.");
		}
    }
    
    return 1;
}

PrepararTopRicos()
{
    new player_count = 0;
    
    // Estructura temporal y local para la función (usamos un enum similar, solo local)
    enum E_TEMP_STATS
    {
        Temp_PlayerID,
        Temp_Money,
    };
    new online_players[MAX_PLAYERS][E_TEMP_STATS];

    // Recorre a todos los jugadores conectados y guarda sus stats
    for (new i = 0; i < MAX_PLAYERS; i++)
    {
        if (IsPlayerConnected(i))
        {
            online_players[player_count][Temp_PlayerID] = i;
            // ¡ADAPTA ESTA LÍNEA A TU VARIABLE DE DINERO!
            online_players[player_count][Temp_Money] = PI[i][pi_CASH];
            player_count++;
        }
    }

    // Algoritmo de ordenamiento (Bubble Sort)
    for (new i = 0; i < player_count - 1; i++)
    {
        for (new j = i + 1; j < player_count; j++)
        {
            // Compara el dinero (Temp_Money)
            if (online_players[i][Temp_Money] < online_players[j][Temp_Money])
            {
                // Intercambia ambos campos (ID y Dinero)
                new temp_id = online_players[i][Temp_PlayerID];
                new temp_money = online_players[i][Temp_Money];

                online_players[i][Temp_PlayerID] = online_players[j][Temp_PlayerID];
                online_players[i][Temp_Money] = online_players[j][Temp_Money];
                
                online_players[j][Temp_PlayerID] = temp_id;
                online_players[j][Temp_Money] = temp_money;
            }
        }
    }

    // 3. Llenar el array global g_TopRicos con el nuevo ENUM
    new max_top = MAX_TOP_PLAYERS;
    if (player_count < max_top) max_top = player_count; 

    for (new i = 0; i < MAX_TOP_PLAYERS; i++)
    {
        if (i >= max_top)
        {
            // Marcar como inválido
            g_TopRicos[i][Top_PlayerID] = INVALID_PLAYER_ID; 
            g_TopRicos[i][Top_Money] = 0;
            continue;
        }
        
        // Copiar los datos al array global g_TopRicos
        g_TopRicos[i][Top_PlayerID] = online_players[i][Temp_PlayerID];
        g_TopRicos[i][Top_Money] = online_players[i][Temp_Money];
    }
}

MostrarTopRicos(playerid)
{
    PrepararTopRicos(); 

    new dialog_content[2048]; 
    new temp_str[128]; 
    new player_name[MAX_PLAYER_NAME];
    
    dialog_content[0] = '\0';

    // Encabezado directo y limpio para TABLIST_HEADERS
    strcat(dialog_content, "{ffffff}Posición\t{ffffff}Jugador\t{ffffff}Dinero\n"); 
    
    for (new i = 0; i < MAX_TOP_PLAYERS; i++)
    {
        // Si el ID no es válido o no hay dinero, dejamos de llenar
        if (g_TopRicos[i][Top_PlayerID] == INVALID_PLAYER_ID) break;
        if (g_TopRicos[i][Top_Money] <= 0) break;

        GetPlayerName(g_TopRicos[i][Top_PlayerID], player_name, sizeof(player_name));
        
        // Usamos un solo \t para que Android alinee bien las columnas
        format(temp_str, sizeof(temp_str), 
               "{FFFFFF}%d\t{FFFFFF}%s\t%s{00FF00}$\n", 
               i + 1, player_name, number_format_thousand(g_TopRicos[i][Top_Money]));
               
        strcat(dialog_content, temp_str);
    }
    
    ShowPlayerDialog(playerid, DIALOG_TOP_RICOS, DIALOG_STYLE_TABLIST_HEADERS,
        "{B77610}[Ricos] {ffffff}Top 10 Dinero", 
        dialog_content,
        "Actualizar", 
        "xCerrar");
}


Destor(playerid)
{
	new RandomDestor = random(12);
    switch (RandomDestor)
    {
		case 0:
		{
		//	SendNotification(playerid, "No Conseguiste Destornillador.");
		}
		case 1:
		{
	//		SendNotification(playerid, "No Conseguiste Destornillador.");
		}
		case 2:
		{
			
		}
		case 3:
		{
		//	SendNotification(playerid, "No Conseguiste Destornillador.");
		}
		case 4:
		{
			
		}
		case 5:
		{
		//	SendNotification(playerid, "No Conseguiste Destornillador.");
		}
		case 6:
		{
//			SendNotification(playerid, "No Conseguiste Destornillador.");
		}
		case 7:
		{
		//	SendNotification(playerid, "No Conseguiste Destornillador.");
		}
		case 8:
		{
//			SendNotification(playerid, "No Conseguiste Destornillador.");
		}
		case 9:
		{
		    new cant = random(4)+11;
			new player_slot = GetEmptyInvSlot(playerid);
            if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
            new checki = 109;
            PI[playerid][pi_BOL][player_slot] = checki;
            PI[playerid][pi_BOL_CANT][player_slot] = cant;
            SendNotification(playerid, "Destornillador.");
		}
		case 10:
		{
	//		SendNotification(playerid, "No Conseguiste Destornillador.");
		}
		case 11:
		{
		//	SendNotification(playerid, "No Conseguiste Destornillador.");
		}
    }
    
    return 1;
}

Palanca(playerid)
{
	new RandomDestor = random(12);
    switch (RandomDestor)
    {
		case 0:
		{
			
		}
		case 1:
		{
			
		}
		case 2:
		{
		    new cant = random(5)+9;
			new player_slot = GetEmptyInvSlot(playerid);
            if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
            new checki = 110;
            PI[playerid][pi_BOL][player_slot] = checki;
            PI[playerid][pi_BOL_CANT][player_slot] = cant;
            SendNotification(playerid, "Palanca.");
		}
		case 3:
		{
			
		}
		case 4:
		{
		    new cant = random(5)+9;
			new player_slot = GetEmptyInvSlot(playerid);
            if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
            new checki = 109;
            PI[playerid][pi_BOL][player_slot] = checki;
            PI[playerid][pi_BOL_CANT][player_slot] = cant;
            SendNotification(playerid, "Palanca.");
		}
		case 5:
		{
			
		}
		case 6:
		{
			
		}
		case 7:
		{
			
		}
		case 8:
		{
			
		}
		case 9:
		{
		    new cant = random(5)+9;
			new player_slot = GetEmptyInvSlot(playerid);
            if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
            new checki = 109;
            PI[playerid][pi_BOL][player_slot] = checki;
            PI[playerid][pi_BOL_CANT][player_slot] = cant;
            SendNotification(playerid, "Palanca.");
		}
		case 10:
		{
			
		}
		case 11:
		{
			
		}
    }
    
    return 1;
}

Madera(playerid)
{
	new RandomMadera = random(12);
    switch (RandomMadera)
    {
		case 0:
		{
		//	SendNotification(playerid, "No Conseguiste Madera.");
		}
		case 1:
		{
		//	SendNotification(playerid, "No Conseguiste Madera.");
		}
		case 2:
		{
			new player_slot = GetEmptyInvSlot(playerid);
            if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
            new checki = 122;
            PI[playerid][pi_BOL][player_slot] = checki;
            PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
            SendNotification(playerid, "Madera.");
		}
		case 3:
		{
//			SendNotification(playerid, "No Conseguiste Madera.");
		}
		case 4:
		{
//			SendNotification(playerid, "No Conseguiste Madera.");
		}
		case 5:
		{
		//	SendNotification(playerid, "No Conseguiste Madera.");
		}
		case 6:
		{
	//		SendNotification(playerid, "No Conseguiste Madera.");
		}
		case 7:
		{
	//		SendNotification(playerid, "No Conseguiste Madera.");
		}
		case 8:
		{
	//		SendNotification(playerid, "No Conseguiste Madera.");
		}
		case 9:
		{
	//		SendNotification(playerid, "No Conseguiste Madera.");
		}
		case 10:
		{
//			SendNotification(playerid, "No Conseguiste Madera.");
		}
		case 11:
		{
//			SendNotification(playerid, "No Conseguiste Madera.");
		}
    }
    
    return 1;
}

Llanta(playerid)
{
	new RandomLlanta = random(12);
    switch (RandomLlanta)
    {
		case 0:
		{
			//SendNotification(playerid, "Oki.");
		}
		case 1:
		{
		//	SendNotification(playerid, "Oki.");
		}
		case 2:
		{
			new player_slot = GetEmptyInvSlot(playerid);
            if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
            new checki = 172;
            PI[playerid][pi_BOL][player_slot] = checki;
            PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
		}
		case 3:
		{
		//	SendNotification(playerid, "Oki.");
		}
		case 4:
		{
			new player_slot = GetEmptyInvSlot(playerid);
            if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
            new checki = 173;
            PI[playerid][pi_BOL][player_slot] = checki;
            PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
            SendNotification(playerid, "Rueda.");
		}
		case 5:
		{
			//SendNotification(playerid, "Oki.");
		}
		case 6:
		{
		//	SendNotification(playerid, "Oki.");
		}
		case 7:
		{
	//		SendNotification(playerid, "Oki.");
		}
		case 8:
		{
		//	SendNotification(playerid, "Oki.");
		}
		case 9:
		{
			new player_slot = GetEmptyInvSlot(playerid);
            if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
            new checki = 174;
            PI[playerid][pi_BOL][player_slot] = checki;
            PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
            SendNotification(playerid, "Rueda.");
		}
		case 10:
		{
		//	SendNotification(playerid, "Oki.");
		}
		case 11:
		{
	//		SendNotification(playerid, "Oki.");
		}
    }
    
    return 1;
}

dcuchi(playerid)
{
	new Randomdcuchi = random(12);
    switch (Randomdcuchi)
    {
		case 0:
		{
		//	SendNotification(playerid, "No Conseguiste Nada.");
		}
		case 1:
		{
		//	SendNotification(playerid, "No Conseguiste Nada.");
		}
		case 2:
		{
		    new cant = random(20)+60;
			new player_slot = GetEmptyInvSlot(playerid);
            if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
            new checki = 118;
            PI[playerid][pi_BOL][player_slot] = checki;
            PI[playerid][pi_BOL_CANT][player_slot] = cant;
            SendNotification(playerid, "Cuchillo.");
		}
		case 3:
		{
		//	SendNotification(playerid, "No Conseguiste Nada.");
		}
		case 4:
		{
		    new cant = random(20)+60;
			new player_slot = GetEmptyInvSlot(playerid);
            if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
            new checki = 118;
            PI[playerid][pi_BOL][player_slot] = checki;
            PI[playerid][pi_BOL_CANT][player_slot] = cant;
            SendNotification(playerid, "Cuchillo.");
		}
		case 5:
		{
		//	SendNotification(playerid, "No Conseguiste Nada.");
		}
		case 6:
		{
		//	SendNotification(playerid, "No Conseguiste Nada.");
		}
		case 7:
		{
		//	SendNotification(playerid, "No Conseguiste Nada.");
		}
		case 8:
		{
		//	SendNotification(playerid, "No Conseguiste Nada.");
		}
		case 9:
		{
			new cant = random(10)+30;
			new player_slot = GetEmptyInvSlot(playerid);
            if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
            new checki = 118;
            PI[playerid][pi_BOL][player_slot] = checki;
            PI[playerid][pi_BOL_CANT][player_slot] = cant;
            SendNotification(playerid, "Cuchillo.");
		}
		case 10:
		{
		//	SendNotification(playerid, "No Conseguiste Nada.");
		}
		case 11:
		{
		//	SendNotification(playerid, "No Conseguiste Nada.");
		}
    }
    
    return 1;
}

stock FreezeThenAutoUnfreeze(playerid, time){
    TogglePlayerControllable(playerid, 0);
    SetTimerEx("UnfreezeBastard", time, false, "i", playerid);
}

forward UnfreezeBastard(playerid);
public UnfreezeBastard(playerid){
	ClearAnimations(playerid);
    TogglePlayerControllable(playerid, 1);
}
forward OnPlayerMakeCBug(playerid);
public OnPlayerMakeCBug(playerid){
	FreezeThenAutoUnfreeze(playerid, 5000);
    return 1;
}

stock NombreEx(playerid)
{
    new string[24];
    GetPlayerName(playerid,string,24);
    new str[24];
    strmid(str,string,0,strlen(string),24);
    for(new i = 0; i < MAX_PLAYER_NAME; i++)
    {
        if (str[i] == '_') str[i] = ' ';
    }
    return str;
}

enum infosmochilas                      //sistema de mochila IN the MYSQL
{
	mID,
	mModelo,
	mSlot[9],
	mSlot_Cant[9],
	mSlot_Tipo[9]
};
new InfoMochila[MAX_MOCHILAS][infosmochilas];

//variables referidos
enum referidosinfo
{
	rID,
	rCodigo[120],
	rCreador[120],
	rFechaCreacion[120],
	rUsos,
	rTipoRecom,
};
new InfoReferido[MAX_Referidos][referidosinfo];

forward CargarReferidos();
public CargarReferidos()
{
	new cargaditos = 0;
	Loop(tabla, cache_num_rows(), 0)
	{
		new id = tabla+1;
		reg_int(tabla, "ID", InfoReferido[id][rID]);
		reg_string(tabla, "Nombre", InfoReferido[id][rCodigo], 120);
		reg_string(tabla, "Creador", InfoReferido[id][rCreador], 120);
		reg_string(tabla, "FechaCreacion", InfoReferido[id][rFechaCreacion], 120);
		reg_int(tabla, "VecesUsado", InfoReferido[id][rUsos]);
		reg_int(tabla, "TipoRecompenza", InfoReferido[id][rTipoRecom]);
		if (InfoReferido[id][rID]) totalreferidos++;
		//funcion
		cargaditos++;
	}
	printf("%d referidos [SQL: %d] cargados correctamente.", cargaditos, totalreferidos-1);
	return 1;
}

new Float:Rent_Vehicles_Point[][] = {
    {1363.7134, -1744.0533, 13.5454, 90.0},
    {1768.047851, -1904.974731, 13.567752, 354.80322},
    {1973.883056, -2016.243652, 13.546875, 90.966873},
    {1548.736328, -1719.134033, 13.554561, 172.967086},
    {-2074.819335, -43.403808, 35.320312, 86.360687},
    {-2279.626220, 725.467590, 49.420066, 266.529998},
    {-1648.522705, 1307.646728, 7.028867, 134.965332},
    {-2508.148681, 2404.086181, 16.607572, 301.815490},
    {-1454.298706, 2542.474365, 55.835937, 68.117210},
    {-757.425170, 1585.743896, 26.960937, 145.553756},
    {-199.143508, 2738.113525, 62.687500, 276.708801},
    {-110.269531, 1114.384399, 19.742187, 180.840698},
    {656.657348, 1718.522949, 6.992187, 49.318408},
    {-419.027893, -654.997619, 14.229820, 284.729248},
    {-2112.360351, -2495.050292, 30.625000, 225.410430},
    {205.084762, -270.908599, 1.578125, 167.447021},
    {665.864624, -613.843383, 16.339584, 353.589752},
    {1187.733764, 230.198211, 19.554687, 335.230590},
    {2280.299072, -69.375671, 26.520956, 267.060760},
    {1992.459472, 957.264221, 10.820312, 264.839080},
    {1565.977294, 1884.317993, 10.925530, 180.679550},
    {2088.362304, 1668.123046, 10.820312, 89.813133}
};

stock SetPlayerRentVehicleInfo(playerid) {
    if (PLAYER_TEMP[playerid][pt_RENT_VEHICLE_ID] != INVALID_VEHICLE_ID) {
        Dialog_Show(playerid, "OnEndPlayerRentResponse", DIALOG_STYLE_MSGBOX, "[{"#LIGHTBLUE_COLOR"}Renta{ffffff}]  Devolver vehiculo", "{ffffff}¿Quieres devolver el {ff0000}vehiculo{ffffff} rentado?", "»Aceptar", "xSalir");
        return 1;
    }
    PLAYER_TEMP[playerid][pt_RENT_VEHICLE_ID] = INVALID_VEHICLE_ID;

    if (PLAYER_TEMP[playerid][pt_WORK_VEHICLE_ID] != INVALID_VEHICLE_ID) {
        Dialog_Show(playerid, "OnEndPlayerJobResponse", DIALOG_STYLE_MSGBOX, "[{828282}Trabajos{ffffff}]  Cancelar Jornada", "{ffffff}¿Quieres cancelar tu {ff0000}jornada de trabajo{ffffff} actual?", "»Aceptar", "xSalir");
        return 1;
    }
    PLAYER_TEMP[playerid][pt_WORK_VEHICLE_ID] = INVALID_VEHICLE_ID;

    if (PLAYER_TEMP[playerid][pt_WORK_VEHICLE_SPAWN_TIMER] > gettime()) return SendClientMessageEx(playerid, -1, "Debes esperar ~b~%d~w~ segundos para sacar otro vehiculo.", (PLAYER_TEMP[playerid][pt_WORK_VEHICLE_SPAWN_TIMER] - gettime()));

    new modelid = 510;
    if (PI[playerid][pi_VIP]) modelid = 462;

    Dialog_Show(playerid, "OnPlayerRentResponse", DIALOG_STYLE_MSGBOX, "{828282}Renta{ffffff} » +", 
        "{ffffff}Rentar Vehiculo {"#LIGHTBLUE_COLOR"}%s{ffffff} por 100{"#GREEN_COLOR"}${ffffff}.\n{cccccc} Tras 5 minutos sin uso sera remolcad/a.",
        "Rentar", "xSalir",

        VEHICLE_INFO[ modelid - 400 ][vehicle_info_NAME]
    );
    return 1;
}

Dialog:OnEndPlayerRentResponse(playerid, response, listitem, inputtext[]) {
    if (response) {
        if (PLAYER_TEMP[playerid][pt_RENT_VEHICLE_ID] != INVALID_VEHICLE_ID) {
            if (GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_RENT_VEHICLE_ID] ][gb_vehicle_TEMP]) {
                DestroyVehicleEx(PLAYER_TEMP[playerid][pt_RENT_VEHICLE_ID]);
                PLAYER_TEMP[playerid][pt_RENT_VEHICLE_ID] = INVALID_VEHICLE_ID;
            }

            SendFormatNotification(playerid, "Tu vehiculo rentado ha sido devuelto.");
        }
        PLAYER_TEMP[playerid][pt_RENT_VEHICLE_ID] = INVALID_VEHICLE_ID;
    }
    return 1;
}

Dialog:OnPlayerRentResponse(playerid, response, listitem, inputtext[]) {
    if (response) {
    if(GivePlayerCash(playerid, -100, true, true)) {
            ShowPlayerMessage(playerid, "Vehiculo ~b~rentado~w~.");

            new const index = PLAYER_TEMP[playerid][pt_VEHICLE_REPAIR_INDEX];

            new modelid = 510;
            if (PI[playerid][pi_VIP]) modelid = 462;

            new Float:rvx = Rent_Vehicles_Point[index][0], Float:rvy = Rent_Vehicles_Point[index][1];

            rvx += (1.5 * floatsin(-Rent_Vehicles_Point[index][3], degrees));
            rvy += (1.5 * floatcos(-Rent_Vehicles_Point[index][3], degrees));

            new vehicle_id = CreateVehicle(modelid, rvx, rvy, Rent_Vehicles_Point[index][2], Rent_Vehicles_Point[index][3], 1, 1, -1, false);

            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_VALID] = true;
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_TYPE] = VEHICLE_TYPE_NONE;
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_MODELID] = modelid;
            format(GLOBAL_VEHICLES[vehicle_id][gb_vehicle_NUMBER_PLATE], 32, "{%06x}SA{ffffff}%d", VEHICLE_COLORS[ 1 ] >>> 8, vehicle_id);
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_X] = rvx;
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_Y] = rvy;
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_Z] = Rent_Vehicles_Point[index][2];
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_ANGLE] = Rent_Vehicles_Point[index][3];
            
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_POS][0] = GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_X];
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_POS][1] = GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_Y];
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_POS][2] = GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_Z];
            
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_HEALTH] = 1250.0;
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_DAMAGE_PANELS] = 0;
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_DAMAGE_DOORS] = 0;
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_DAMAGE_LIGHTS] = 0;
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_DAMAGE_TIRES] = 0;
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_COLOR_1] = 1;
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_COLOR_2] = 1;
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_PAINTJOB] = 3; // No paintjob
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_MAX_GAS] = VEHICLE_INFO[ GLOBAL_VEHICLES[vehicle_id][gb_vehicle_MODELID] - 400 ][vehicle_info_MAX_GAS];
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_GAS] = GLOBAL_VEHICLES[vehicle_id][gb_vehicle_MAX_GAS];
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_STATE] = VEHICLE_STATE_NORMAL;
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_INTERIOR] = 0;
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_WORLD] = 0;
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_TEMP] = true;
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_RENT_DRIVER] = playerid;

            ResetVehicleTaxiMeter(vehicle_id);
            ResetTruckInfo(vehicle_id);
            ResetTrashInfo(vehicle_id);
            ResetPizzaInfo(vehicle_id);

            SetVehicleVirtualWorldEx(vehicle_id, 0);
            SetVehicleToRespawnEx(vehicle_id);

            PutPlayerInVehicleEx(playerid, vehicle_id, 0);

            PLAYER_TEMP[playerid][pt_RENT_VEHICLE_ID] = vehicle_id;
            PLAYER_TEMP[playerid][pt_WORK_VEHICLE_SPAWN_TIMER] = gettime() + 15;
        } else {
            ShowPlayerMessage(playerid, "No tienes el ~r~dinero~w~ suficiente.");
        }
    }
    return 1;
}

SetRenter(playerid)
{
    if (PLAYER_TEMP[playerid][pt_RENT_VEHICLE_ID] != INVALID_VEHICLE_ID) {
        Dialog_Show(playerid, "OnEndPlayerRentResponse", DIALOG_STYLE_MSGBOX, "[{828282}Renta{ffffff}]  Devolver vehiculo", "{ffffff}¿Quieres devolver el {ff0000}vehiculo{ffffff} rentado?", "»Aceptar", "xSalir");
        return 1;
    }
    PLAYER_TEMP[playerid][pt_RENT_VEHICLE_ID] = INVALID_VEHICLE_ID;

    if (PLAYER_TEMP[playerid][pt_WORK_VEHICLE_ID] != INVALID_VEHICLE_ID) {
        Dialog_Show(playerid, "OnEndPlayerJobResponse", DIALOG_STYLE_MSGBOX, "[{828282}Trabajos{ffffff}]  Cancelar Jornada", "{ffffff}¿Quieres cancelar tu {ff0000}jornada de trabajo{ffffff} actual?", "»Aceptar", "xSalir");
        return 1;
    }
    PLAYER_TEMP[playerid][pt_WORK_VEHICLE_ID] = INVALID_VEHICLE_ID;

    if (PLAYER_TEMP[playerid][pt_WORK_VEHICLE_SPAWN_TIMER] > gettime()) return ShowPlayerMessage(playerid, "Debes esperar.");

    if(GivePlayerCash(playerid, -100, true, true)) {
            ShowPlayerMessage(playerid, "Vehiculo ~b~rentado~w~.");

            new const index = PLAYER_TEMP[playerid][pt_VEHICLE_REPAIR_INDEX];

            new modelid = 510;
            if (PI[playerid][pi_VIP]) modelid = 510;

            new Float:rvx = Rent_Vehicles_Point[index][0], Float:rvy = Rent_Vehicles_Point[index][1];

            rvx += (1.5 * floatsin(-Rent_Vehicles_Point[index][3], degrees));
            rvy += (1.5 * floatcos(-Rent_Vehicles_Point[index][3], degrees));

            new vehicle_id = CreateVehicle(modelid, rvx, rvy, Rent_Vehicles_Point[index][2], Rent_Vehicles_Point[index][3], 1, 1, -1, false);

            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_VALID] = true;
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_TYPE] = VEHICLE_TYPE_NONE;
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_MODELID] = modelid;
            format(GLOBAL_VEHICLES[vehicle_id][gb_vehicle_NUMBER_PLATE], 32, "{%06x}SA{ffffff}%d", VEHICLE_COLORS[ 1 ] >>> 8, vehicle_id);
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_X] = rvx;
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_Y] = rvy;
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_Z] = Rent_Vehicles_Point[index][2];
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_ANGLE] = Rent_Vehicles_Point[index][3];
            
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_POS][0] = GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_X];
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_POS][1] = GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_Y];
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_POS][2] = GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_Z];
            
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_HEALTH] = 1250.0;
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_DAMAGE_PANELS] = 0;
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_DAMAGE_DOORS] = 0;
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_DAMAGE_LIGHTS] = 0;
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_DAMAGE_TIRES] = 0;
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_COLOR_1] = 1;
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_COLOR_2] = 1;
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_PAINTJOB] = 3; // No paintjob
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_MAX_GAS] = VEHICLE_INFO[ GLOBAL_VEHICLES[vehicle_id][gb_vehicle_MODELID] - 400 ][vehicle_info_MAX_GAS];
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_GAS] = GLOBAL_VEHICLES[vehicle_id][gb_vehicle_MAX_GAS];
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_STATE] = VEHICLE_STATE_NORMAL;
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_INTERIOR] = 0;
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_WORLD] = 0;
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_TEMP] = true;
            GLOBAL_VEHICLES[vehicle_id][gb_vehicle_RENT_DRIVER] = playerid;

            ResetVehicleTaxiMeter(vehicle_id);
            ResetTruckInfo(vehicle_id);
            ResetTrashInfo(vehicle_id);
            ResetPizzaInfo(vehicle_id);

            SetVehicleVirtualWorldEx(vehicle_id, 0);
            SetVehicleToRespawnEx(vehicle_id);

            PutPlayerInVehicleEx(playerid, vehicle_id, 0);

            PLAYER_TEMP[playerid][pt_RENT_VEHICLE_ID] = vehicle_id;
            PLAYER_TEMP[playerid][pt_WORK_VEHICLE_SPAWN_TIMER] = gettime() + 15;
        } else {
            ShowPlayerMessage(playerid, "No tienes el ~r~dinero~w~ suficiente.");
        }
    return 1;
}
stock Bosslogs(playerid, cmdtext[])
{
  new name1[MAX_PLAYER_NAME];
  GetPlayerName(playerid, name1, sizeof(name1));
  new string[150];
  format(string, sizeof string, "[Admins Lan-Bot] El administrador %s[%i] ha usado /%s", name1, playerid, cmdtext);
  new DCC_Embed:embed = DCC_CreateEmbed("Bandas Spain+ RolePlay","","","",0x00ff00,"Spain+ RolePlay","","https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png","");
  lgs= DCC_FindChannelById("1396774061434081320");
  DCC_SendChannelMessage(lgs, string);
  DCC_AddEmbedField(embed, "Administración", string, true);
  DCC_SendChannelEmbedMessage(lgs,embed);
}

stock GetPlayerEmpresaCerca(playerid)
{
    for(new i = 1; i < MAX_EMPRESAS; i++)
    {
        // Verificamos si la empresa existe (usando la coordenada X como referencia)
        if(EmpresaData[i][eX] != 0.0)
        {
            // Comprobamos si está cerca del pickup principal (Gestión)
            if(IsPlayerInRangeOfPoint(playerid, 3.5, EmpresaData[i][eX], EmpresaData[i][eY], EmpresaData[i][eZ]))
            {
                return i;
            }
            
            // Comprobamos si está cerca del garaje (Trabajo)
            if(EmpresaData[i][eGX] != 0.0)
            {
                if(IsPlayerInRangeOfPoint(playerid, 3.5, EmpresaData[i][eGX], EmpresaData[i][eGY], EmpresaData[i][eGZ]))
                {
                    return i;
                }
            }
        }
    }
    return -1; // No está cerca de ninguna empresa
}


stock GuardarEmpresa(id)
{
    new path[64];
    format(path, sizeof(path), "Empresas/%d.ini", id);

    // Si por alguna razón el archivo no existe, lo creamos para evitar errores
    if(!dini_Exists(path)) {
        dini_Create(path);
    }

    // Guardado de strings (Cadenas de texto)
    dini_Set(path, "Duenio", EmpresaData[id][eDuenio]);

    // Guardado de valores enteros (Integers)
    dini_IntSet(path, "Precio", EmpresaData[id][ePrecio]);
    dini_IntSet(path, "Ganancias", EmpresaData[id][eGanancias]);
    dini_IntSet(path, "Mercancia", EmpresaData[id][eMercancia]);
    dini_IntSet(path, "Tipo", EmpresaData[id][eTipo]);

    // Guardado de coordenadas (Floats) - Pickup Principal
    dini_FloatSet(path, "X", EmpresaData[id][eX]);
    dini_FloatSet(path, "Y", EmpresaData[id][eY]);
    dini_FloatSet(path, "Z", EmpresaData[id][eZ]);

    // Guardado de coordenadas del Garaje (Si existen)
    dini_FloatSet(path, "GX", EmpresaData[id][eGX]);
    dini_FloatSet(path, "GY", EmpresaData[id][eGY]);
    dini_FloatSet(path, "GZ", EmpresaData[id][eGZ]);

    return 1;
}

// Dentro de tu función donde creas o actualizas el label:


public OnPlayerSpawn(playerid)
{
    PLAYER_TEMP[playerid][pt_WORK_VEHICLE_SPAWN_TIMER] = gettime() + 15;
    
    if(EnEventoDM[playerid])
    {
        if(!EventoDM_Activo) { // Si el evento cerró mientras él estaba muerto
            EnEventoDM[playerid] = false;
        }
        else {
            SetPlayerInterior(playerid, 16);
            SetPlayerVirtualWorld(playerid, 666);
            SetPlayerPosEx(playerid, -1401.06,1265.37,1039.86, 0.0, 16, 666);
            SetPlayerHealthEx(playerid, 100.0);
            SetPlayerArmourEx(playerid, 100.0);
            
            // Re-dar el arma del evento
            new checki = GetWeaponCheckID(EventoDM_ArmaID);
            PI[playerid][pi_MANO_DER] = checki;
            PI[playerid][pi_DER_CANT] = 999;
            GivePlayerWeaponEx(playerid, EventoDM_ArmaID, 999);
            SetPlayerToys(playerid);
            
            GameTextForPlayer(playerid, "~w~MODO: ~g~EVENTO DM~n~~y~EQUIPADO Y LISTO", 4000, 3);
            return 1; // IMPORTANTE: Detenemos el resto del spawn normal
        }
    }
	
	if(!PLAYER_TEMP[playerid][pt_USER_LOGGED])
	{
		printf("[WARNING] playerid: %i, SPAWNED but it's not correct.", playerid);
		return Kick(playerid);
	}

	for(new i = 0; i < MAX_ANUNCIOS; i++)
		{
			TextDrawSetString(_InfoAnuncio[i][TDAnuncio], _InfoAnuncio[i][Anuncio]);
			TextDrawShowForPlayer(playerid, _InfoAnuncio[i][TDAnuncio]);
		}

	if(PLAYER_TEMP[playerid][pt_GAME_STATE] == GAME_STATE_CONNECTED) // Primer spawn
	{
		if(PLAYER_TEMP[playerid][pt_LOGIN_KICK_TIMER] != -1) {
			KillTimer(PLAYER_TEMP[playerid][pt_LOGIN_KICK_TIMER]);
			PLAYER_TEMP[playerid][pt_LOGIN_KICK_TIMER] = -1;
		}

		if(IsPlayerUsingAndroid(playerid))
		{
	  		PLAYER_TEMP[playerid][pt_MODE] = MODE_ANDROID;
		}
		else
		{
			if(CheckPlayerFakeClient(playerid)) Kick(playerid);
			PLAYER_TEMP[playerid][pt_MODE] = MODE_PC;
		}

		if(PLAYER_TEMP[playerid][pt_MODE] == MODE_ANDROID) SendNotification(playerid, "~w~Has logueado desde ~g~ANDROID ~w~exitosamente.");
		else SendNotification(playerid, "~w~Has logueado desde ~g~PC ~w~exitosamente.");

		new now = gettime();
		PLAYER_TEMP[playerid][pt_LAST_PLANT_TIME] = now;
		PLAYER_TEMP[playerid][pt_COOLDOWN_MEDICAL_KIT] = now + 300; 
		PLAYER_TEMP[playerid][pt_COOLDOWN_CRACK] = now + 300;
		format(PI[playerid][pi_IP], 16, "%s", PLAYER_TEMP[playerid][pt_IP]);
		SetPlayerSafeZones(playerid);
		if(PI[playerid][pi_CREW]) SetPlayerGangZones(playerid);
		SetPlayerSkillLevels(playerid);
		ApplyAnimation(playerid,"SWAT","null",0.0,0,0,0,0,0);
		ApplyAnimation(playerid,"MEDIC","null",0.0,0,0,0,0,0);
		ApplyAnimation(playerid,"SHOP","null",0.0,0,0,0,0,0);
		ApplyAnimation(playerid,"BOMBER","null",0.0,0,0,0,0,0);
		ApplyAnimation(playerid,"FOOD","null",0.0,0,0,0,0,0);
		ApplyAnimation(playerid,"CHAINSAW","null",0.0,0,0,0,0,0);
		ApplyAnimation(playerid,"ROB_BANK","null",0.0,0,0,0,0,0);
		ApplyAnimation(playerid,"CARRY","null",0.0,0,0,0,0,0);
		ApplyAnimation(playerid,"PED","null",0.0,0,0,0,0,0);
		ApplyAnimation(playerid,"SWEET","null",0.0,0,0,0,0,0);
		ApplyAnimation(playerid,"CRACK","null",0.0,0,0,0,0,0);
		ApplyAnimation(playerid,"POLICE","null",0.0,0,0,0,0,0); 
		
		if(PI_TIMER_CITY[playerid]) PI_TIMER_CITY[playerid] = SetTimerEx("UpdateTextCity", 10000, true, "i", playerid);
		
		if(PI[playerid][pi_CHEAT] == 1)
       { 
       SetPlayerArmourEx(playerid, 0.0);
       SetPlayerHealthEx(playerid, 20.0); 
        PI[playerid][pi_CHEAT] = 0;	
        }
        
        if(PI[playerid][pi_KANA] == 1) 
       { 
            ShowPlayerMessage(playerid, "Saliste del servidor con esposas, has sido encarcelado", 3);
            JailPlayer(playerid, 880);
            PI[playerid][pi_KANA] = 0;	
        }
        
		if(PI[playerid][pi_POLICE_DUTY] != 0)
		{
		    ShowPlayerMessage(playerid, "Servicio ~b~Policia");
			if(PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET]) CallLocalFunction("StartPlayerJob", "iii", playerid, WORK_POLICE, INVALID_VEHICLE_ID);
			else PI[playerid][pi_POLICE_DUTY] = 0;
		}

		switch(PI[playerid][pi_STATE])
		{
			case ROLEPLAY_STATE_NORMAL:
			{
				SetPlayerHud(playerid);
				SetCameraBehindPlayer(playerid);
				/*TogglePlayerControllableEx(playerid, false);
				KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][3]);
				PLAYER_TEMP[playerid][pt_TIMERS][3] = SetTimerEx("TogglePlayerControl", 2000, false, "ib", playerid, true);*/

				SetPlayerVirtualWorld(playerid, 0);
				
				if(PI[playerid][pi_WANTED_LEVEL] > 0) {
				    SetPlayerWantedLevelEx(playerid, PI[playerid][pi_WANTED_LEVEL]);
				}
				
			}
			case ROLEPLAY_STATE_HQ:
			{
				new bool:validcounted = false;
				for(new i = 0; i < MAX_DOORS; i++)
				{
					if(Doors[i][dSQLID] == PI[playerid][pi_LOCAL_INTERIOR])
					{
						SetPlayerPosEx(playerid, Doors[i][dExterior][0], Doors[i][dExterior][1], Doors[i][dExterior][2] , Doors[i][dExterior][3] ,0, 0);
						PI[playerid][pi_STATE] = ROLEPLAY_STATE_NORMAL;
						PI[playerid][pi_LOCAL_INTERIOR] = 0;
						PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] = -1;
						validcounted = true;
						TogglePlayerControllableEx(playerid, false);
						KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][3]);
						PLAYER_TEMP[playerid][pt_TIMERS][3] = SetTimerEx("TogglePlayerControl", 2000, false, "ib", playerid, true);
						break;
					}
				}
				if(!validcounted && PI[playerid][pi_LOCAL_INTERIOR] == 0)
				{
					PI[playerid][pi_STATE] = ROLEPLAY_STATE_NORMAL;
					PI[playerid][pi_LOCAL_INTERIOR] = 0;
					PI[playerid][pi_POS_X] = New_User_Pos[0];
					PI[playerid][pi_POS_Y] = New_User_Pos[1];
					PI[playerid][pi_POS_Z] = New_User_Pos[2];
					PI[playerid][pi_ANGLE] = New_User_Pos[3];
					PI[playerid][pi_INTERIOR] = 0;

					SetPlayerPosEx(playerid, PI[playerid][pi_POS_X], PI[playerid][pi_POS_Y], PI[playerid][pi_POS_Z], PI[playerid][pi_ANGLE], PI[playerid][pi_INTERIOR], 0);
					TogglePlayerControllableEx(playerid, false);
					KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][3]);
					PLAYER_TEMP[playerid][pt_TIMERS][3] = SetTimerEx("TogglePlayerControl", 2000, false, "ib", playerid, true);
				}
			}
			case ROLEPLAY_STATE_JAIL:
			{
				PI[playerid][pi_STATE] = ROLEPLAY_STATE_JAIL;
				if(PI[playerid][pi_POLICE_JAIL_TIME] < 5) PI[playerid][pi_POLICE_JAIL_TIME] = 5;
				KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][15]);
				PLAYER_TEMP[playerid][pt_TIMERS][15] = SetTimerEx("UnjailPlayer", PI[playerid][pi_POLICE_JAIL_TIME] * 1000, false, "i", playerid);

				PLAYER_TEMP[playerid][pt_ENTER_JAIL_TIME] = gettime();
				SetPlayerPos(playerid, 265.070129, 77.518280, 1001.039062);
				SetPlayerInterior(playerid, 6);

				new time = PI[playerid][pi_POLICE_JAIL_TIME] - (gettime() - PLAYER_TEMP[playerid][pt_ENTER_JAIL_TIME]);
				SendFormatNotification(playerid, "Te quedan %s minutos de condena.", TimeConvert(time));

				SetPlayerHud(playerid);
				SetCameraBehindPlayer(playerid);
				TogglePlayerControllableEx(playerid, false);
				KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][3]);
				PLAYER_TEMP[playerid][pt_TIMERS][3] = SetTimerEx("TogglePlayerControl", 2000, false, "ib", playerid, true);
			}
			case ROLEPLAY_STATE_ARRESTED:
			{
				if(PI[playerid][pi_VIP]) PI[playerid][pi_POLICE_JAIL_TIME] = 150 * PI[playerid][pi_WANTED_LEVEL];
				else PI[playerid][pi_POLICE_JAIL_TIME] = 300 * PI[playerid][pi_WANTED_LEVEL];

				PI[playerid][pi_WANTED_LEVEL] = 0;

				PI[playerid][pi_STATE] = ROLEPLAY_STATE_JAIL;
				if(PI[playerid][pi_POLICE_JAIL_TIME] < 5) PI[playerid][pi_POLICE_JAIL_TIME] = 5;
				KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][15]);
				PLAYER_TEMP[playerid][pt_TIMERS][15] = SetTimerEx("UnjailPlayer", PI[playerid][pi_POLICE_JAIL_TIME] * 1000, false, "i", playerid);

				SetPlayerPos(playerid, 265.070129, 77.518280, 1001.039062);
				SetPlayerInterior(playerid, 6);

				new time = PI[playerid][pi_POLICE_JAIL_TIME] - (gettime() - PLAYER_TEMP[playerid][pt_ENTER_JAIL_TIME]);
				SendFormatNotification(playerid, "Te quedan %s minutos de condena.", TimeConvert(time));

				SetPlayerHud(playerid);
				SetCameraBehindPlayer(playerid);
				TogglePlayerControllableEx(playerid, false);
				KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][3]);
				PLAYER_TEMP[playerid][pt_TIMERS][3] = SetTimerEx("TogglePlayerControl", 2000, false, "ib", playerid, true);
			}
			case ROLEPLAY_STATE_OWN_PROPERTY:
			{
				new index = GetPropertyIndexByID(PI[playerid][pi_LOCAL_INTERIOR]);
				if(index == -1)
				{
					PI[playerid][pi_STATE] = ROLEPLAY_STATE_NORMAL;
					PI[playerid][pi_LOCAL_INTERIOR] = 0;
					PI[playerid][pi_POS_X] = New_User_Pos[0];
					PI[playerid][pi_POS_Y] = New_User_Pos[1];
					PI[playerid][pi_POS_Z] = New_User_Pos[2];
					PI[playerid][pi_ANGLE] = New_User_Pos[3];
					PI[playerid][pi_INTERIOR] = 0;

					SetPlayerPosEx(playerid, PI[playerid][pi_POS_X], PI[playerid][pi_POS_Y], PI[playerid][pi_POS_Z], PI[playerid][pi_ANGLE], PI[playerid][pi_INTERIOR], 0);
				}
				else
				{
					if(PROPERTY_INFO[index][property_OWNER_ID] == PI[playerid][pi_ID])
					{
						SetPlayerInterior(playerid, PROPERTY_INTERIORS[ PROPERTY_INFO[index][property_ID_INTERIOR] ][property_INT_INTERIOR]);
						SetPlayerVirtualWorld(playerid, PROPERTY_INFO[index][property_ID]);
					}
					else
					{
						PI[playerid][pi_STATE] = ROLEPLAY_STATE_NORMAL;
						PI[playerid][pi_LOCAL_INTERIOR] = 0;
						PI[playerid][pi_POS_X] = PROPERTY_INFO[index][property_EXT_X];
						PI[playerid][pi_POS_Y] = PROPERTY_INFO[index][property_EXT_Y];
						PI[playerid][pi_POS_Z] = PROPERTY_INFO[index][property_EXT_Z];
						PI[playerid][pi_ANGLE] = PROPERTY_INFO[index][property_EXT_ANGLE];
						PI[playerid][pi_INTERIOR] = PROPERTY_INFO[index][property_EXT_INTERIOR];

						SetPlayerPosEx(playerid, PI[playerid][pi_POS_X], PI[playerid][pi_POS_Y], PI[playerid][pi_POS_Z], PI[playerid][pi_ANGLE], PI[playerid][pi_INTERIOR], 0);
					}
				}

				SetPlayerHud(playerid);
				SetCameraBehindPlayer(playerid);
				TogglePlayerControllableEx(playerid, false);
				KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][3]);
				PLAYER_TEMP[playerid][pt_TIMERS][3] = SetTimerEx("TogglePlayerControl", 2000, false, "ib", playerid, true);
			}

			case ROLEPLAY_STATE_HOSPITAL:
			{
				PLAYER_TEMP[playerid][pt_HOSPITAL] = GetNearestHospitalForPlayer(playerid);
				PLAYER_TEMP[playerid][pt_PLAYER_FINISH_HOSPITAL] = false;
				PLAYER_TEMP[playerid][pt_GAME_STATE] = GAME_STATE_DEAD;

				TogglePlayerControllableEx(playerid, true);
				TogglePlayerSpectatingEx(playerid, true);
				SetPlayerInterior(playerid, 0);
				PI[playerid][pi_LOCAL_INTERIOR] = 0;
				PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] = -1;
				PLAYER_TEMP[playerid][pt_PROPERTY_INDEX] = -1;
				PLAYER_TEMP[playerid][pt_HOSPITAL_LIFE] = 35.0;
				UpdateHospitalSizeTextdrawLife(playerid);
				clearInjuredVars(playerid);
				KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][4]);
				PLAYER_TEMP[playerid][pt_TIMERS][4] = SetTimerEx("HealthUp", 1000, false, "i", playerid);

				PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_HOSPITAL][0]);
				PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_HOSPITAL][1]);
				PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_HOSPITAL][2]);

				ClearPlayerChat(playerid);
				ShowPlayerMessage(playerid, "Fuiste ingresado en ~r~el centro médico más cercano~w~.~n~~n~Espera mientras te recuperas", 2);

				InterpolateCameraPos(playerid, Hospital_Cameras_Positions[PLAYER_TEMP[playerid][pt_HOSPITAL]][0], Hospital_Cameras_Positions[PLAYER_TEMP[playerid][pt_HOSPITAL]][1], Hospital_Cameras_Positions[PLAYER_TEMP[playerid][pt_HOSPITAL]][2], Hospital_Cameras_Positions[PLAYER_TEMP[playerid][pt_HOSPITAL]][0], Hospital_Cameras_Positions[PLAYER_TEMP[playerid][pt_HOSPITAL]][1], Hospital_Cameras_Positions[PLAYER_TEMP[playerid][pt_HOSPITAL]][2], 1000, CAMERA_CUT);
				InterpolateCameraLookAt(playerid, Hospital_Cameras_Positions[PLAYER_TEMP[playerid][pt_HOSPITAL]][3], Hospital_Cameras_Positions[PLAYER_TEMP[playerid][pt_HOSPITAL]][4], Hospital_Cameras_Positions[PLAYER_TEMP[playerid][pt_HOSPITAL]][5], Hospital_Cameras_Positions[PLAYER_TEMP[playerid][pt_HOSPITAL]][3], Hospital_Cameras_Positions[PLAYER_TEMP[playerid][pt_HOSPITAL]][4], Hospital_Cameras_Positions[PLAYER_TEMP[playerid][pt_HOSPITAL]][5], 1000, CAMERA_CUT);
			}
		}

		new neccessary_rep = PI[playerid][pi_LEVEL] * REP_MULTIPLIER;
		if(PI[playerid][pi_REP] < neccessary_rep)
		{
			if(PI[playerid][pi_TIME_FOR_REP] > TIME_FOR_REP) PI[playerid][pi_TIME_FOR_REP] = TIME_FOR_REP;
			if(PI[playerid][pi_TIME_FOR_REP] <= 900) PI[playerid][pi_TIME_FOR_REP] = 3000;

			PLAYER_TEMP[playerid][pt_TIME_PASSED_LAST_REP] = gettime() * 1000;
			PLAYER_TEMP[playerid][pt_TIMERS][2] = SetTimerEx("AddPlayerReputation", PI[playerid][pi_TIME_FOR_REP], false, "i", playerid);
		}
		else SendFormatNotification(playerid, "Escribe ~g~/comprarnivel ~w~para subir al nivel ~g~%d ~w~por ~g~%d dólares~w~.", PI[playerid][pi_LEVEL] + 1, PI[playerid][pi_LEVEL] * 150); //

		if(PI[playerid][pi_PHONE_NUMBER])
		{
			inline OnOfflineMessagesChecked()
			{
				new rows;
				if(cache_get_row_count(rows))
				{
					if(rows)
					{
						new unreaded_messages;
						cache_get_value_index_int(0, 0, unreaded_messages);
						if(unreaded_messages > 0) SendClientMessageEx(playerid, -1, "Tienes {f1f442}%d "WHITE"mensajes nuevos en tu /movil desde tu última conexión.", unreaded_messages);
					}
				}
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE pmessages SET offline = 0 WHERE to_id = %d;", PI[playerid][pi_ID]);
				mysql_tquery(srp_db, QUERY_BUFFER);
			}
			mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT COUNT(id) FROM pmessages WHERE to_id = %d AND offline = 1;", PI[playerid][pi_ID]);
			mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnOfflineMessagesChecked);
		}
	}
	else if(PLAYER_TEMP[playerid][pt_GAME_STATE] == GAME_STATE_DEAD) // Viene de morir
	{
		if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_HOSPITAL)
		{
			if(!PLAYER_TEMP[playerid][pt_PLAYER_FINISH_HOSPITAL])
			{
				TogglePlayerSpectatingEx(playerid, true);
				SetPlayerInterior(playerid, 0);
				SetPlayerVirtualWorld(playerid, 0);
				PLAYER_TEMP[playerid][pt_PLAYER_FINISH_HOSPITAL] = false;
				PI[playerid][pi_STATE] = ROLEPLAY_STATE_HOSPITAL;
				PI[playerid][pi_LOCAL_INTERIOR] = 0;
				if(PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] != -1) {
					CallLocalFunction("OnPlayerExitInterior", "ii", playerid, PLAYER_TEMP[playerid][pt_INTERIOR_INDEX]);
				}
				PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] = -1;
				PLAYER_TEMP[playerid][pt_PROPERTY_INDEX] = -1;

				PLAYER_TEMP[playerid][pt_HOSPITAL_LIFE] = 35.0;
				UpdateHospitalSizeTextdrawLife(playerid);
				KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][4]);
				PLAYER_TEMP[playerid][pt_TIMERS][4] = SetTimerEx("HealthUp", 1000, false, "i", playerid);

				DeleteIlegalInv(playerid);
				clearInjuredVars(playerid);
				PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_HOSPITAL][0]);
				PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_HOSPITAL][1]);
				PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_HOSPITAL][2]);

				ClearPlayerChat(playerid);
			/*	if(PI[playerid][pi_WANTED_LEVEL] > 0 || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED)
				{
					ShowPlayerMessage(playerid, "Fuiste ingresado en el centro médico más cercano.", 2);
					ShowPlayerMessage(playerid, "Cuando te recuperes serás llevado a la cárcel.", 2);
				}*/
					ShowPlayerMessage(playerid, "Fuiste ingresado en el centro médico más cercano", 2);
					ShowPlayerMessage(playerid, "Espera mientras te recuperas.", 2);

				InterpolateCameraPos(playerid, Hospital_Cameras_Positions[PLAYER_TEMP[playerid][pt_HOSPITAL]][0], Hospital_Cameras_Positions[PLAYER_TEMP[playerid][pt_HOSPITAL]][1], Hospital_Cameras_Positions[PLAYER_TEMP[playerid][pt_HOSPITAL]][2], Hospital_Cameras_Positions[PLAYER_TEMP[playerid][pt_HOSPITAL]][0], Hospital_Cameras_Positions[PLAYER_TEMP[playerid][pt_HOSPITAL]][1], Hospital_Cameras_Positions[PLAYER_TEMP[playerid][pt_HOSPITAL]][2], 1000, CAMERA_CUT);
				InterpolateCameraLookAt(playerid, Hospital_Cameras_Positions[PLAYER_TEMP[playerid][pt_HOSPITAL]][3], Hospital_Cameras_Positions[PLAYER_TEMP[playerid][pt_HOSPITAL]][4], Hospital_Cameras_Positions[PLAYER_TEMP[playerid][pt_HOSPITAL]][5], Hospital_Cameras_Positions[PLAYER_TEMP[playerid][pt_HOSPITAL]][3], Hospital_Cameras_Positions[PLAYER_TEMP[playerid][pt_HOSPITAL]][4], Hospital_Cameras_Positions[PLAYER_TEMP[playerid][pt_HOSPITAL]][5], 1000, CAMERA_CUT);
			}
		}
	}

	if(PLAYER_TEMP[playerid][pt_PLAYER_FINISH_HOSPITAL])
	{
		if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL)
		{
			KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][15]);
			PLAYER_TEMP[playerid][pt_TIMERS][15] = SetTimerEx("UnjailPlayer", PI[playerid][pi_POLICE_JAIL_TIME] * 1000, false, "i", playerid);
		}
		SetPlayerInterior(playerid, PI[playerid][pi_INTERIOR]);
		SetPlayerVirtualWorld(playerid, 0);
		SetPlayerHud(playerid);
		TogglePlayerControllableEx(playerid, false);
		PLAYER_TEMP[playerid][pt_PLAYER_FINISH_HOSPITAL] = false;
		KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][3]);
		SetCameraBehindPlayer(playerid);
		PLAYER_TEMP[playerid][pt_TIMERS][3] = SetTimerEx("TogglePlayerControl", 2000, false, "ib", playerid, true);
	}

	PLAYER_TEMP[playerid][pt_GAME_STATE] = GAME_STATE_NORMAL;
	SetPlayerToys(playerid);
	if(PI[playerid][pi_STATE] != ROLEPLAY_STATE_JAIL && PI[playerid][pi_STATE] != ROLEPLAY_STATE_CRACK) SetWeaponsForPlayer(playerid);
	SetPlayerNormalColor(playerid);
	//SetPlayerCityWeather(playerid);
	GameTextForPlayer(playerid, "_", 500, 3);
	PLAYER_TEMP[playerid][pt_CONTROL] = false;

	PLAYER_AC_INFO[playerid][CHEAT_POS][p_ac_info_IMMUNITY] = gettime() + 3;
	PLAYER_AC_INFO[playerid][CHEAT_STATE_SPAMMER][p_ac_info_IMMUNITY] = gettime() + 3;
	PLAYER_AC_INFO[playerid][CHEAT_PLAYER_HEALTH][p_ac_info_IMMUNITY] = gettime() + 3;
	PLAYER_AC_INFO[playerid][CHEAT_PLAYER_ARMOUR][p_ac_info_IMMUNITY] = gettime() + 3;
	PLAYER_AC_INFO[playerid][CHEAT_UNOCCUPIED_VEHICLE_TP][p_ac_info_IMMUNITY] = gettime() + 5;
	
    // --- AÑADE ESTO AQUÍ PARA RE-EQUIPAR AL POLICÍA TRAS MORIR ---
    if(PI[playerid][pi_POLICE_DUTY] != 0 && PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET])
    {
        // Esto le devuelve el skin y las herramientas de poli al salir del hospital
        CallLocalFunction("StartPlayerJob", "iii", playerid, WORK_POLICE, INVALID_VEHICLE_ID);
    }
    
    // Y lo que te dije antes: equipar las armas del inventario
    if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_NORMAL)
    {
        EquiparManos(playerid); 
    }
    return 1;
}

//Comandos | Antrax & GM
stock GetPlayerCash(playerid)
{
    // Esta función valida si el playerid es seguro y solo entonces accede a PI.
    if (playerid < 0 || playerid >= MAX_PLAYERS || !IsPlayerConnected(playerid)) {
        return 0; 
    }
    return PI[playerid][pi_CASH]; 
}

stock CargarEmpresas()
{
    new path[64], cargadas = 0;
    for(new i = 1; i < MAX_EMPRESAS; i++)
    {
        format(path, sizeof(path), "/Empresas/%d.ini", i);
        
        if(dini_Exists(path))
        {
            EmpresaData[i][eID] = i;
            format(EmpresaData[i][eDuenio], MAX_PLAYER_NAME, dini_Get(path, "Duenio"));
            EmpresaData[i][ePrecio] = dini_Int(path, "Precio");
            EmpresaData[i][eGanancias] = dini_Int(path, "Ganancias");
            EmpresaData[i][eMercancia] = dini_Int(path, "Mercancia");
            EmpresaData[i][eTipo] = dini_Int(path, "Tipo");
            
            // Cargar Coordenadas Principales
            EmpresaData[i][eX] = dini_Float(path, "X");
            EmpresaData[i][eY] = dini_Float(path, "Y");
            EmpresaData[i][eZ] = dini_Float(path, "Z");
            EmpresaData[i][eGAngle] = dini_Float(path, "GAngle");
            
            // Cargar Coordenadas del Garaje
            EmpresaData[i][eGX] = dini_Float(path, "GX");
            EmpresaData[i][eGY] = dini_Float(path, "GY");
            EmpresaData[i][eGZ] = dini_Float(path, "GZ");

            // Determinar si está comprada
            if(strcmp(EmpresaData[i][eDuenio], "Nadie") == 0) EmpresaData[i][eComprada] = false;
            else EmpresaData[i][eComprada] = true;

            // Esta función crea el Pickup y el Texto 3D en el mapa
            ActualizarEmpresaVisual(i);
            cargadas++;
        }
    }
    printf("[SISTEMA EMPRESAS] Se han cargado %d empresas con éxito.", cargadas);
    return 1;
}

CMD:setupfacciones(playerid, params[])
{
    if(PI[playerid][pi_ADMIN_LEVEL] < 4) return SendNotification(playerid, "No tienes permisos.");

    // 1. Tabla de Facciones (Crews)
    mysql_tquery(srp_db, "CREATE TABLE IF NOT EXISTS facciones (\
        SQLID INT AUTO_INCREMENT PRIMARY KEY,\
        Nombre VARCHAR(50),\
        Color INT,\
        Tipo INT DEFAULT 0,\
        Rango1 VARCHAR(32) DEFAULT 'Rango 1',\
        Rango2 VARCHAR(32) DEFAULT 'Rango 2',\
        Rango3 VARCHAR(32) DEFAULT 'Rango 3',\
        Rango4 VARCHAR(32) DEFAULT 'Rango 4',\
        Rango5 VARCHAR(32) DEFAULT 'Rango 5',\
        Rango6 VARCHAR(32) DEFAULT 'Rango 6')");

    // 2. Tabla de Gunlockers (Equipamiento) con STOCK
    mysql_tquery(srp_db, "CREATE TABLE IF NOT EXISTS gunlocker (\
        SQLID INT AUTO_INCREMENT PRIMARY KEY,\
        faccionid INT,\
        exterior_x FLOAT, exterior_y FLOAT, exterior_z FLOAT,\
        virtualw INT, interior INT,\
        stock INT DEFAULT 50,\
        weapon0 INT DEFAULT 0, ammu0 INT DEFAULT 0,\
        weapon1 INT DEFAULT 0, ammu1 INT DEFAULT 0,\
        weapon2 INT DEFAULT 0, ammu2 INT DEFAULT 0,\
        weapon3 INT DEFAULT 0, ammu3 INT DEFAULT 0,\
        weapon4 INT DEFAULT 0, ammu4 INT DEFAULT 0)");

    // 3. Tabla de Vehículos de Facción
    mysql_tquery(srp_db, "CREATE TABLE IF NOT EXISTS facc_vehicles (\
        SQLID INT AUTO_INCREMENT PRIMARY KEY,\
        modelid INT,\
        faccion_id INT,\
        color1 INT, color2 INT,\
        spawn_x FLOAT, spawn_y FLOAT, spawn_z FLOAT, spawn_angle FLOAT)");

    // 4. Tabla de Entradas (Doors/HQ)
    mysql_tquery(srp_db, "CREATE TABLE IF NOT EXISTS doors (\
        SQLID INT AUTO_INCREMENT PRIMARY KEY,\
        interiorid INT,\
        faccionid INT,\
        exterior_x FLOAT, exterior_y FLOAT, exterior_z FLOAT, exterior_angle FLOAT)");

    SendNotification(playerid, "Tablas de facción creadas/verificadas en la DB.");
    return 1;
}


CMD:creartablasobjetos(playerid, params[])
{
    if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 0;

    mysql_tquery(srp_db, "CREATE TABLE IF NOT EXISTS contadores_objetos (tipo_objeto_id INT PRIMARY KEY, ultimo_id INT DEFAULT 0)");
    mysql_tquery(srp_db, "CREATE TABLE IF NOT EXISTS objetos_jugadores (id_db INT AUTO_INCREMENT PRIMARY KEY, owner_id INT NOT NULL, tipo_objeto_id INT NOT NULL, id_interno INT NOT NULL)");
    
    SendClientMessage(playerid, -1, "{00FF00}[DB]{FFFFFF} Tablas de objetos por contador creadas.");
    return 1;
}



CMD:comprarfabrica(playerid, params[])
{
    if(PI[playerid][pi_CREW] == 0) return SendClientMessage(playerid, -1, "{FF0000}ERROR: {FFFFFF}No perteneces a ninguna banda.");
    if(PI[playerid][pi_CREW_RANK] != 0) return SendClientMessage(playerid, -1, "{FF0000}ERROR: {FFFFFF}Solo el líder puede realizar esta compra.");

    new fab = -1;
    for(new i = 0; i < MAX_FABRICAS; i++) {
        if(IsPlayerInRangeOfPoint(playerid, 3.5, Fabricas[i][pEntradaX], Fabricas[i][pEntradaY], Fabricas[i][pEntradaZ])) {
            fab = i;
            break;
        }
    }

    if(fab == -1) return SendClientMessage(playerid, -1, "{FF0000}ERROR: {FFFFFF}No estás en ninguna entrada de fábrica.");
    if(Fabricas[fab][pBanda] != 0) return SendClientMessage(playerid, -1, "{FF0000}ERROR: {FFFFFF}Esta fábrica ya tiene dueño.");
    if(PI[playerid][pi_CASH] < Fabricas[fab][pValor]) return SendClientMessage(playerid, -1, "{FF0000}ERROR: {FFFFFF}No tienes suficiente dinero.");

    new crew_idx = PLAYER_TEMP[playerid][pt_CREW_INDEX];
    SetPlayerCashX(playerid, -Fabricas[fab][pValor]); 
    
    Fabricas[fab][pBanda] = PI[playerid][pi_CREW];
    format(Fabricas[fab][pPropietario], 128, "%s", CREW_INFO[crew_idx][crew_NAME]);

    // --- ACTUALIZACIÓN EXTERIOR ---
    if(IsValidDynamicPickup(Fabricas[fab][pPickup])) DestroyDynamicPickup(Fabricas[fab][pPickup]);
    Fabricas[fab][pPickup] = CreateDynamicPickup(1313, 1, Fabricas[fab][pEntradaX], Fabricas[fab][pEntradaY], Fabricas[fab][pEntradaZ], Fabricas[fab][pVW]);
    
    new f_vw = Fabricas[fab][pID] + 100;
    Fabricas[fab][pPickupSalida] = CreateDynamicPickup(1313, 1, 1372.501220, -26.929988, 1000.961547, f_vw);

    if(IsValidDynamicMapIcon(Fabricas[fab][pMapIcon])) DestroyDynamicMapIcon(Fabricas[fab][pMapIcon]);
    Fabricas[fab][pMapIcon] = CreateDynamicMapIcon(Fabricas[fab][pEntradaX], Fabricas[fab][pEntradaY], Fabricas[fab][pEntradaZ], 59, 0, -1, -1, -1, 100.0, MAPICON_GLOBAL);

    // --- ACTIVACIÓN DE ELEMENTOS INTERNOS (Copiado de LoadFabricas) ---

    // 1. Creación de Actores (Cocineros)
    Fabricas[fab][ActorFabrica][0] = CreateDynamicActor(145, 1403.947, -30.022, 1000.96, 84.98, .worldid = f_vw, .interiorid = 0);
    Fabricas[fab][ActorFabrica][1] = CreateDynamicActor(146, 1406.908, -29.957, 1000.96, 90.20, .worldid = f_vw, .interiorid = 0);
    Fabricas[fab][ActorFabrica][2] = CreateDynamicActor(145, 1407.962, -32.174, 1000.96, 175.62, .worldid = f_vw, .interiorid = 0);
    Fabricas[fab][ActorFabrica][3] = CreateDynamicActor(146, 1402.875, -32.388, 1000.96, 176.81, .worldid = f_vw, .interiorid = 0);

    for(new a = 0; a < 4; a++) {
        ApplyDynamicActorAnimation(Fabricas[fab][ActorFabrica][a], "DEALER", "DEALER_IDLE", 4.1, 1, 0, 0, 0, 0); 
        new Float:ax, Float:ay;
        if(a == 0) { ax = 1403.947; ay = -30.022; }
        else if(a == 1) { ax = 1406.908; ay = -29.957; }
        else if(a == 2) { ax = 1407.962; ay = -32.174; }
        else { ax = 1402.875; ay = -32.388; }
        Fabricas[fab][pLabelCocineros][a] = CreateDynamic3DTextLabel("{FF0000}« {FFFFFF}Cocinero {FF0000}»\n{BBBBBB}Estado: {F1C40F}Esperando materiales", -1, ax, ay, 1001.8, 8.0, .worldid = f_vw, .interiorid = 0);
    }

    // 2. Labels Tanques
    new str_t[128];
    for(new t = 0; t < 3; t++) {
        format(str_t, sizeof(str_t), "{3BF1B3}« {FFFFFF}Tanque #%d {3BF1B3}»\n{BBBBBB}Estado: {53FF00}Listo\n{FFFFFF}Usa 'H'", t + 1);
        new Float:tx = (t == 0 ? 1411.424 : (t == 1 ? 1414.296 : 1417.298));
        Fabricas[fab][pLabelTanques][t] = CreateDynamic3DTextLabel(str_t, -1, tx, -31.484, 1001.5, 10.0, .worldid = f_vw, .interiorid = 0);
    }

    // 3. Pickups y Labels de Cajas
    new str_caja[160];
    for(new c = 0; c < sizeof(PosCajasCargar); c++) 
    {
        CreateDynamicPickup(1271, 1, PosCajasCargar[c][0], PosCajasCargar[c][1], PosCajasCargar[c][2], f_vw, 0); 
        format(str_caja, sizeof(str_caja), "{3BF1B3}« {FFFFFF}Cajas Laboratorio {3BF1B3}»\n{BBBBBB}Stock: {53FF00}0 Cajas\n\n{F1C40F}Acercate para cargar");
        Fabricas[fab][pLabelCajas][c] = CreateDynamic3DTextLabel(str_caja, -1, PosCajasCargar[c][0], PosCajasCargar[c][1], PosCajasCargar[c][2] + 0.5, 10.0, .worldid = f_vw, .interiorid = 0);
    }

    // Actualizar el label exterior principal
    ActualizarLabelsFabrica(fab);

    // 4. Guardado en Base de Datos
    mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, 
        "UPDATE fabricas SET id_banda = %d, propietario = '%e' WHERE id = %d", 
        Fabricas[fab][pBanda], Fabricas[fab][pPropietario], Fabricas[fab][pID]);
    mysql_tquery(srp_db, QUERY_BUFFER);

    PlayerPlaySound(playerid, 1052, 0.0, 0.0, 0.0);
    SendFormatNotification(playerid, "¡Éxito! Tu banda ahora controla la fábrica ID %d.", Fabricas[fab][pID]);
    return 1;
}

stock ActualizarLabelsFabrica(f)
{
    if(f == -1) return 0;

    // --- OBTENER COLOR HEX DE LA BANDA ---
    // Buscamos el color de la banda en CREW_INFO basándonos en Fabricas[f][pBanda]
    new crew_color_hex = 0xFFFFFF; // Blanco por defecto si no se encuentra
    for(new c = 0; c < MAX_CREWS; c++) {
        if(CREW_INFO[c][crew_ID] == Fabricas[f][pBanda]) {
            crew_color_hex = CREW_INFO[c][crew_COLOR] >>> 8; 
            break;
        }
    }

    // 1. ACTUALIZAR LABEL EXTERIOR (Entrada)
    new label_str[512];
    format(label_str, sizeof(label_str), \
                        "{3BF1B3}« {FFFFFF}Fabrica Meta ID: {3BF1B3}%d {3BF1B3}»\n\n\
                        {FFFFFF}Banda: {%06x}%s\n\
                        {FFFFFF}Mercancía: {FFF700}%d {FFFFFF}Cajas\n\
                        {FFFFFF}Valor: %d {00FF00}$\n\
                        {FFFFFF}El Comercio Se Encuentra {828282}Abierto\n\
                        {FFFFFF}Propiedad Privada", \
                        Fabricas[f][pID], 
                        crew_color_hex, 
                        Fabricas[f][pPropietario], 
                        Fabricas[f][pCantidadBolsas], 
                        Fabricas[f][pCantidadDinero]);

    UpdateDynamic3DTextLabelText(Fabricas[f][pLabel], -1, label_str);

    // 2. ACTUALIZAR LABELS DE LAS CAJAS (Interior)
    new str_caja[160];
    for(new c = 0; c < sizeof(PosCajasCargar); c++) 
    {
        format(str_caja, sizeof(str_caja), \
            "{3BF1B3}« {FFFFFF}Cajas Laboratorio {3BF1B3}»\n\
            {BBBBBB}Stock: {53FF00}%d Cajas\n\n\
            {F1C40F}Acercate para cargar", \
            Fabricas[f][pCantidadBolsas]);
        
        if(IsValidDynamic3DTextLabel(Fabricas[f][pLabelCajas][c]))
        {
            UpdateDynamic3DTextLabelText(Fabricas[f][pLabelCajas][c], -1, str_caja);
        }
    }
    return 1;
}



CMD:actualizardb(playerid, params[])
{
    if(PI[playerid][pi_ADMIN_LEVEL] < 4) return SendClientMessage(playerid, -1, "{FF0000}ERROR: {FFFFFF}No tienes permisos.");

    // Solo agregamos lo nuevo que no estaba antes
    mysql_tquery(srp_db, "ALTER TABLE fabricas ADD COLUMN quimicos INT NOT NULL DEFAULT 0");

    SendClientMessage(playerid, -1, "{3BF1B3}» {FFFFFF}Columnas de producción agregadas a la DB.");
    return 1;
}

CMD:fabrica(playerid, params[])
{
    new f = PLAYER_TEMP[playerid][pt_FABRICA_ID];
    if(f == -1) return 1;
    
    new str[800], title[64];
    format(title, sizeof(title), "{3BF1B3}[Gestion] {ffffff}  Fabrica ID  %d", Fabricas[f][pID]);
    
    // 1. INFORMACIÓN (Listitems 0, 1, 2)
    // Usamos un color gris para que se entienda que son informativos
    format(str, sizeof(str), "{777777}Stock Químicos: {F1C40F}%d {FFFFFF}lts.\n", Fabricas[f][pQuimicos]);
    format(str, sizeof(str), "%s{777777}Stock Cajas: {53FF00}%d {FFFFFF}und.\n", str, Fabricas[f][pCantidadBolsas]);
    format(str, sizeof(str), "%s{777777}Caja Fuerte: {FFFFFF}%d{00FF00}$\n", str, Fabricas[f][pCantidadDinero]);

    // 2. SEPARADOR VISUAL (Listitem 3 - Solo estético)
    format(str, sizeof(str), "%s{444444}--------------------------\n", str);

    // 3. ACCIONES (Listitems 4 y 5)
    format(str, sizeof(str), "%s{3BF1B3}» {FFFFFF}Buscar Químicos\n", str); // listitem 4
    format(str, sizeof(str), "%s{3BF1B3}» {FFFFFF}Entregar Mercancía", str); // listitem 5

    ShowPlayerDialog(playerid, 1180, DIALOG_STYLE_LIST, title, str, "Seleccionar", "xCerrar");
    return 1;
}



CMD:probarcomprador(playerid, params[])
{
    new id;
    if(sscanf(params, "i", id)) return SendClientMessage(playerid, -1, "{FF0000}USO: {FFFFFF}/probarcomprador [ID del 0 al 2]");

    if(id < 0 || id >= MAX_COMPRADORES) return SendClientMessage(playerid, -1, "ID de comprador inválido.");

    // Si ya existe uno en ese ID, lo borramos para resetearlo
    if(CompradoresInfo[id][cActivo]) DesactivarComprador(id);

    // Activación forzada
    CompradoresInfo[id][cActivo] = true;
    CompradoresInfo[id][cTiempo] = 60; // Le damos 1 hora para que no se borre mientras pruebas
    
    // Creamos el Actor físico
    CompradoresInfo[id][cActorID] = CreateDynamicActor(CompradoresInfo[id][cSkin], CompradoresInfo[id][acX], CompradoresInfo[id][acY], CompradoresInfo[id][acZ], CompradoresInfo[id][cA]);
    
    // Creamos el Texto 3D arriba del actor
    new str[150];
    format(str, sizeof(str), "{F1C40F}« Comprador (TEST): {FFFFFF}%s {F1C40F}»\n{BBBBBB}Estado: {53FF00}Esperando Mercancía", CompradoresInfo[id][cNombre]);
    CompradoresInfo[id][cLabel] = CreateDynamic3DTextLabel(str, -1, CompradoresInfo[id][acX], CompradoresInfo[id][acY], CompradoresInfo[id][acZ]+1.0, 15.0);
    
    SendClientMessage(playerid, -1, "{3BF1B3}» {FFFFFF}Has forzado la aparición del comprador. Ahora ve a la fábrica y selecciónalo en el menú.");
    return 1;
}


stock ActualizarCajasVisuales(vehicleid, cantidad)
{
    // Limpiamos lo que haya
    for(new i = 0; i < 3; i++) {
        if(IsValidDynamicObject(ObjCajasVehiculo[vehicleid][i])) {
            DestroyDynamicObject(ObjCajasVehiculo[vehicleid][i]);
            ObjCajasVehiculo[vehicleid][i] = -1;
        }
    }

    new vw = GetVehicleVirtualWorld(vehicleid);
    new int = GetVehicleInterior(vehicleid);

    // Coordenadas para la batea (ajustadas para el modelo 1271 a escala 0.45)
    if(cantidad > 0) {
        ObjCajasVehiculo[vehicleid][0] = CreateDynamicObject(1271, 0, 0, 0, 0, 0, 0, vw, int);
        AttachDynamicObjectToVehicle(ObjCajasVehiculo[vehicleid][0], vehicleid, 0.20, -1.20, 0.15, 0.0, 0.0, 0.0);
    }
    if(cantidad > 1) {
        ObjCajasVehiculo[vehicleid][1] = CreateDynamicObject(1271, 0, 0, 0, 0, 0, 0, vw, int);
        AttachDynamicObjectToVehicle(ObjCajasVehiculo[vehicleid][1], vehicleid, -0.20, -1.20, 0.15, 0.0, 0.0, 0.0);
    }
    if(cantidad > 2) {
        ObjCajasVehiculo[vehicleid][2] = CreateDynamicObject(1271, 0, 0, 0, 0, 0, 0, vw, int);
        AttachDynamicObjectToVehicle(ObjCajasVehiculo[vehicleid][2], vehicleid, 0.0, -1.70, 0.15, 0.0, 0.0, 0.0);
    }
    return 1;
}

stock ActualizarBarriles(vehicleid)
{
    // Destruir anteriores para no duplicar
    for(new i = 0; i < 5; i++) {
        if(IsValidDynamicObject(ObjBarrilVehiculo[vehicleid][i])) {
            DestroyDynamicObject(ObjBarrilVehiculo[vehicleid][i]);
            ObjBarrilVehiculo[vehicleid][i] = -1;
        }
    }

    new cantidad = BarrilVehiculo[vehicleid];
    new vw = GetVehicleVirtualWorld(vehicleid);
    new int = GetVehicleInterior(vehicleid);

    // Creamos y pegamos según la cantidad que lleve
    if(cantidad > 0) {
        ObjBarrilVehiculo[vehicleid][0] = CreateDynamicObject(3632, 0, 0, 0, 0, 0, 0, vw, int);
        AttachDynamicObjectToVehicle(ObjBarrilVehiculo[vehicleid][0], vehicleid, 0.39, -1.08, 0.23, 0.0, 0.0, 0.0);
    }
    if(cantidad > 1) {
        ObjBarrilVehiculo[vehicleid][1] = CreateDynamicObject(3632, 0, 0, 0, 0, 0, 0, vw, int);
        AttachDynamicObjectToVehicle(ObjBarrilVehiculo[vehicleid][1], vehicleid, -0.51, -1.08, 0.19, 0.0, 0.0, 0.0);
    }
    if(cantidad > 2) {
        ObjBarrilVehiculo[vehicleid][2] = CreateDynamicObject(3632, 0, 0, 0, 0, 0, 0, vw, int);
        AttachDynamicObjectToVehicle(ObjBarrilVehiculo[vehicleid][2], vehicleid, -0.04, -1.72, 0.23, 0.0, 0.0, 0.0);
    }
    return 1;
}

CMD:suministrar(playerid, params[])
{
    new f = PLAYER_TEMP[playerid][pt_FABRICA_ID];
    if(f == -1) return SendClientMessage(playerid, -1, "{FF0000}ERROR: {FFFFFF}No estás dentro de la fábrica.");

    if(Fabricas[f][pQuimicos] < 10) return SendClientMessage(playerid, -1, "{FF0000}ERROR: {FFFFFF}No hay suficientes químicos (Necesitas 10 lts).");

    new tanque_id = -1;
    if(IsPlayerInRangeOfPoint(playerid, 2.5, 1411.424, -31.484, 1000.96)) tanque_id = 0;
    else if(IsPlayerInRangeOfPoint(playerid, 2.5, 1414.296, -31.473, 1000.96)) tanque_id = 1;
    else if(IsPlayerInRangeOfPoint(playerid, 2.5, 1417.298, -31.485, 1000.96)) tanque_id = 2;

    if(tanque_id == -1) return SendClientMessage(playerid, -1, "{FF0000}ERROR: {FFFFFF}Acércate a un tanque de químicos.");
    if(Fabricas[f][StatoCuoco][tanque_id] != 0) return SendClientMessage(playerid, -1, "Este tanque ya está ocupado o tiene producto listo.");

    // --- CONSUMO ---
    Fabricas[f][pQuimicos] -= 10;
    Fabricas[f][StatoCuoco][tanque_id] = 1; // Estado: Produciendo
    Fabricas[f][PorcentajeCocinero][tanque_id] = 1; // Empezamos en 1 para que el timer detecte etapa

    // Guardar cambio de químicos en BD
    new query[128];
    mysql_format(srp_db, query, sizeof(query), "UPDATE fabricas SET quimicos = %d WHERE id = %d", Fabricas[f][pQuimicos], Fabricas[f][pID]);
    mysql_tquery(srp_db, query);
    
    new str_t[128];
    format(str_t, sizeof(str_t), "{3BF1B3}« {FFFFFF}Tanque #%d {3BF1B3}»\n{F1C40F}Estado: {FF0000}En Producción\n{BBBBBB}Químicos inyectados", tanque_id + 1);
    UpdateDynamic3DTextLabelText(Fabricas[f][pLabelTanques][tanque_id], -1, str_t);

    // --- EL DISPARADOR (Lo que faltaba) ---
    // Llamamos a la primera actualización inmediatamente
    ActualizarProduccion(f, tanque_id);
    
    SendClientMessage(playerid, -1, "{3BF1B3}» {FFFFFF}Iniciaste producción. Gastaste {F1C40F}10 lts {FFFFFF}de químicos.");
    return 1;
}

forward ActualizarProduccion(f, tid);
public ActualizarProduccion(f, tid)
{
    if(Fabricas[f][StatoCuoco][tid] == 1)
    {
        Fabricas[f][PorcentajeCocinero][tid] += 1; 
        
        new str[160], estado[64];
        new pct = Fabricas[f][PorcentajeCocinero][tid];

        // --- SISTEMA DE 10 ETAPAS DETALLADAS ---
        if(pct >= 1 && pct <= 10) {
            format(estado, sizeof(estado), "Preparando Precursores");
            if(pct == 1) ApplyDynamicActorAnimation(Fabricas[f][ActorFabrica][tid], "GANGS", "prtial_gngtlkA", 4.1, 1, 1, 1, 1, 0);
        }
        else if(pct >= 11 && pct <= 20) {
            format(estado, sizeof(estado), "Mezclando Solventes");
            if(pct == 11) ApplyDynamicActorAnimation(Fabricas[f][ActorFabrica][tid], "BD_FIRE", "wash_up", 4.1, 1, 1, 1, 1, 0);
        }
        else if(pct >= 21 && pct <= 30) {
            format(estado, sizeof(estado), "Control de Presión");
            if(pct == 21) ApplyDynamicActorAnimation(Fabricas[f][ActorFabrica][tid], "COP_AMBIENT", "Coplook_loop", 4.1, 1, 1, 1, 1, 0);
        }
        else if(pct >= 31 && pct <= 40) {
            format(estado, sizeof(estado), "Destilación Térmica");
            if(pct == 31) ApplyDynamicActorAnimation(Fabricas[f][ActorFabrica][tid], "BOMBER", "BOM_Plant", 4.1, 1, 1, 1, 1, 0);
        }
        else if(pct >= 41 && pct <= 50) {
            format(estado, sizeof(estado), "Filtrado de Residuos");
            if(pct == 41) ApplyDynamicActorAnimation(Fabricas[f][ActorFabrica][tid], "SMOKING", "M_smkstnd_loop", 4.1, 1, 1, 1, 1, 0);
        }
        else if(pct >= 51 && pct <= 60) {
            format(estado, sizeof(estado), "Saturación Ácida");
            if(pct == 51) ApplyDynamicActorAnimation(Fabricas[f][ActorFabrica][tid], "OTB", "wtchr_look_in", 4.1, 1, 1, 1, 1, 0);
        }
        else if(pct >= 61 && pct <= 70) {
            format(estado, sizeof(estado), "Extracción de Cristales");
            if(pct == 61) ApplyDynamicActorAnimation(Fabricas[f][ActorFabrica][tid], "CAR_CHAT", "car_talkm_loop", 4.1, 1, 1, 1, 1, 0);
        }
        else if(pct >= 71 && pct <= 80) {
            format(estado, sizeof(estado), "Lavado con Acetona");
            if(pct == 71) ApplyDynamicActorAnimation(Fabricas[f][ActorFabrica][tid], "GRENADE", "WEAPON_throwu", 4.1, 0, 0, 0, 1, 0);
        }
        else if(pct >= 81 && pct <= 90) {
            format(estado, sizeof(estado), "Secado en Bandejas");
            if(pct == 81) ApplyDynamicActorAnimation(Fabricas[f][ActorFabrica][tid], "INT_HOUSE", "wash_up", 4.1, 1, 1, 1, 1, 0);
        }
        else if(pct >= 91 && pct <= 99) {
            format(estado, sizeof(estado), "Pesaje e Inspección");
            if(pct == 91) ApplyDynamicActorAnimation(Fabricas[f][ActorFabrica][tid], "GRAFFITI", "graffiti_Chkout", 4.1, 1, 1, 1, 1, 0);
        }

        // --- ACTUALIZACIÓN DEL LABEL ---
        format(str, sizeof(str), "{FF0000}« {FFFFFF}Cocinero %d {FF0000}»\n{BBBBBB}Fase: {53FF00}%s\n{F1C40F}Progreso: %d%%", tid + 1, estado, pct);
        UpdateDynamic3DTextLabelText(Fabricas[f][pLabelCocineros][tid], -1, str);

        // --- FINALIZACIÓN ---
        if(pct >= 100)
        {
            Fabricas[f][StatoCuoco][tid] = 2; 
            ApplyDynamicActorAnimation(Fabricas[f][ActorFabrica][tid], "DEALER", "DEALER_IDLE", 4.1, 1, 0, 0, 0, 0);
            
            format(str, sizeof(str), "{FF0000}« {FFFFFF}Cocinero %d {FF0000}»\n{53FF00}LOTE LISTO\n{FFFFFF}Usa 'H'", tid + 1);
            UpdateDynamic3DTextLabelText(Fabricas[f][pLabelCocineros][tid], -1, str);
        }
        else SetTimerEx("ActualizarProduccion", 10000, false, "ii", f, tid);
    }
    return 1;
}


CMD:empaquetar(playerid, params[])
{
    new f = PLAYER_TEMP[playerid][pt_FABRICA_ID];
    if(f == -1) return SendClientMessage(playerid, -1, "{FF0000}ERROR: {FFFFFF}No estás dentro de la fábrica.");

    new tid = -1;
    // Buscamos cuál de los 3 cocineros está LISTO (Estado 2) y está cerca del jugador
    for(new i = 0; i < 3; i++)
    {
        // Usamos la posición del Actor (cocinero) para detectar la cercanía
        new Float:ax, Float:ay, Float:az;
        GetDynamicActorPos(Fabricas[f][ActorFabrica][i], ax, ay, az);

        if(IsPlayerInRangeOfPoint(playerid, 3.5, ax, ay, az))
        {
            tid = i;
            break;
        }
    }

    if(tid == -1) return SendClientMessage(playerid, -1, "{FF0000}ERROR: {FFFFFF}No hay ningún cocinero cerca.");
    
    // AHORA verificamos si ese cocinero específico terminó
    if(Fabricas[f][StatoCuoco][tid] != 2) return SendClientMessage(playerid, -1, "{FF0000}ERROR: {FFFFFF}Este cocinero aún está trabajando o no tiene materiales.");
    if(PI[playerid][pi_MANO_DER] != 0) return SendNotification(playerid, "Debes tener la mano vacía.");
    
    if(GetPVarInt(playerid, "CargandoCaja")) return SendClientMessage(playerid, -1, "{FF0000}ERROR: {FFFFFF}Ya llevas una caja encima.");

    // --- LÓGICA DE RESETEO (Esto libera el tanque y al cocinero) ---
    Fabricas[f][StatoCuoco][tid] = 0;
    Fabricas[f][PorcentajeCocinero][tid] = 0;
    
    // 1. Reset Label Cocinero
    new str[128];
    format(str, sizeof(str), "{FF0000}« {FFFFFF}Cocinero %d {FF0000}»\n{BBBBBB}Estado: {F1C40F}Esperando materiales", tid + 1);
    UpdateDynamic3DTextLabelText(Fabricas[f][pLabelCocineros][tid], -1, str);

    // 2. Reset Label Tanque (Para que se pueda usar /suministrar otra vez)
    format(str, sizeof(str), "{3BF1B3}« {FFFFFF}Tanque #%d {3BF1B3}»\n{BBBBBB}Estado: {53FF00}Listo\n{FFFFFF}Usa 'H'", tid + 1);
    UpdateDynamic3DTextLabelText(Fabricas[f][pLabelTanques][tid], -1, str);

    // 3. Limpiar animación del Actor
  //  ClearDynamicActorAnimation(Fabricas[f][ActorFabrica][tid]);
    ApplyDynamicActorAnimation(Fabricas[f][ActorFabrica][tid], "DEALER", "DEALER_IDLE", 4.1, 1, 0, 0, 0, 0);

    // --- ACCIÓN DE CARGAR ---
    SetPlayerSpecialAction(playerid, SPECIAL_ACTION_CARRY); 
    SetPlayerAttachedObject(playerid, 9, 1271, 1, 0.09, 0.32, 0.0, 0.0, 90.0, 0.0, 0.45, 0.45, 0.45);
    SetPVarInt(playerid, "CargandoCaja", 1);

    // --- CHECKPOINT DE BODEGA ---
    new cp = random(sizeof(BodegaEntregaQ)); // Elige una de las 4 coordenadas
    SetPlayerRaceCheckpoint(playerid, 1, BodegaEntregaQ[cp][0], BodegaEntregaQ[cp][1], BodegaEntregaQ[cp][2], BodegaEntregaQ[cp][0], BodegaEntregaQ[cp][1], BodegaEntregaQ[cp][2], 2.5);

    SendClientMessage(playerid, -1, "{3BF1B3}» {FFFFFF}Has recogido el lote. Llévalo a la {FFFF00}bodega {FFFFFF}(punto rojo).");
    return 1;
}

CMD:creartablafabricas(playerid, params[])
{
    if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 0;

    mysql_tquery(srp_db, "CREATE TABLE IF NOT EXISTS fabricas (\
        id INT AUTO_INCREMENT PRIMARY KEY,\
        propietario VARCHAR(128) DEFAULT 'Nadie',\
        id_banda INT DEFAULT 0,\
        valor INT DEFAULT 0,\
        entrada_x FLOAT, entrada_y FLOAT, entrada_z FLOAT, entrada_a FLOAT,\
        salida_x FLOAT, salida_y FLOAT, salida_z FLOAT,\
        vw INT DEFAULT 0, interior INT DEFAULT 0,\
        meta_bolsas INT DEFAULT 0, dinero_caja INT DEFAULT 0,\
        en_venta INT DEFAULT 1)");
        
    SendFormatNotification(playerid, "Comando enviado: Creando tabla 'fabricas' en MySQL...");
    return 1;
}

CMD:crearfabrica(playerid, params[])
{
    if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 0;

    new precio;
    if(sscanf(params, "d", precio)) return SendClientMessage(playerid, -1, "{FF0000}Uso:{FFFFFF} /crearfabrica [precio]");

    new Float:x, Float:y, Float:z, Float:a;
    GetPlayerPos(playerid, x, y, z);
    GetPlayerFacingAngle(playerid, a);

    inline OnFabricaInsert()
    {
        new id = cache_insert_id();
        new i = GetFreeFabricaSlot();

        if(i != -1)
        {
            Fabricas[i][pID] = id;
            Fabricas[i][pEntradaX] = x;
            Fabricas[i][pEntradaY] = y;
            Fabricas[i][pEntradaZ] = z;
            Fabricas[i][pValor] = precio;
            Fabricas[i][pBanda] = 0;
            Fabricas[i][pVW] = GetPlayerVirtualWorld(playerid);
            Fabricas[i][pInt] = GetPlayerInterior(playerid);

            // --- ESTÉTICA IGUAL A LOADFABRICAS ---
            
            // Icono de casa en venta (ID 37)
            Fabricas[i][pMapIcon] = CreateDynamicMapIcon(x, y, z, 59, 0, -1, -1, -1, 100.0, MAPICON_GLOBAL);
            
            // Pickup de entrada "En Venta" (ID 19133)
            Fabricas[i][pPickup] = CreateDynamicPickup(19133, 1, x, y, z, Fabricas[i][pVW]);

            // Label con el formato que le pusiste a LoadFabricas
            new label_str[512];
            format(label_str, sizeof(label_str), \
                "{3BF1B3}« {FFFFFF}Fabrica ID: {3BF1B3}%d {3BF1B3}»\n\n\
                {BBBBBB}Costo: {53FF00}$%d\n\
                {FFFFFF}Usa {F1C40F}/comprarfabrica\n\n\
                {FFFFFF}Ubicación: {CCCCCC}Punto Clandestino", \
                id, precio);

            Fabricas[i][pLabel] = CreateDynamic3DTextLabel(label_str, -1, x, y, z + 0.6, 12.0);
            
            SendFormatNotification(playerid, "Fábrica ID %d creada exitosamente por $%d.", id, precio);
        }
    }

    mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, 
        "INSERT INTO fabricas (entrada_x, entrada_y, entrada_z, entrada_a, valor, vw, interior) VALUES (%f, %f, %f, %f, %d, %d, %d)", 
        x, y, z, a, precio, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid));
    
    mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnFabricaInsert);
    return 1;
}

CMD:cuete(playerid, params[])
{
    new tipo;
    if(sscanf(params, "d", tipo)) {
        SendClientMessage(playerid, -1, "{FF9900}» {FFFFFF}Tipos: 1:Trueno, 2:Fuente, 3:Volador, 4:Bomber, 5:Arcoíris, 6:Galaxia");
        return 1;
    }

    new Float:x, Float:y, Float:z, Float:a;
    GetPlayerPos(playerid, x, y, z);
    GetPlayerFacingAngle(playerid, a);

    // Animación de encendido (Dura 2 segundos)
    ApplyAnimation(playerid, "BOMBER", "BOM_Plant", 4.1, 0, 0, 0, 0, 0, 1);
    
    x += (1.2 * floatsin(-a, degrees));
    y += (1.2 * floatcos(-a, degrees));

    // Objeto del petardo físico
    new obj = CreateDynamicObject(1210, x, y, z-0.9, 0, 0, 0); 
    
    // TIEMPO DE ENCENDIDO: 4 segundos para que te dé tiempo de correr
    SetTimerEx("OnPirotecniaExplota", 4000, false, "ddfff d", playerid, tipo, x, y, z, obj);
    
    SendNotification(playerid, "~y~Mecha larga encendida... ~r~¡ALEJATE!");
    return 1;
}

// --- LÓGICA DE EXPLOSIÓN MEJORADA ---
public OnPirotecniaExplota(playerid, tipo, Float:x, Float:y, Float:z, objid)
{
    if(IsValidDynamicObject(objid)) DestroyDynamicObject(objid);

    switch(tipo)
    {
        case TIPO_TRUENO:
        {
            CreateExplosion(x, y, z, 12, 5.0); // Explosión pequeña que no hace daño
            // Efecto de humo/chispas rápido
            new ef = CreateDynamicObject(18716, x, y, z, 0, 0, 0); 
            SetTimerEx("LimpiarObjeto", 2000, false, "d", ef);
        }
        case TIPO_FUENTE:
        {
            // Efecto de chispas constantes (Fuente)
            new ef = CreateDynamicObject(18728, x, y, z - 1.0, 0, 0, 0);
            PlayerPlaySound(playerid, 1159, x, y, z); // Sonido de fuego
            SetTimerEx("LimpiarObjeto", 10000, false, "d", ef); // Dura 10 segundos
        }
        case TIPO_VOLADOR:
        {
            // Creamos el cohete que sube
            new cohete = CreateDynamicObject(3786, x, y, z, 0, 0, 0);
            MoveDynamicObject(cohete, x, y, z + 30.0, 15.0); // Sube 30 metros
            
            // Sonido de silbido
            PlayerPlaySound(playerid, 1160, x, y, z);
            
            // Programar explosión en el aire
            SetTimerEx("ExplosionAire", 2000, false, "fff", x, y, z + 30.0);
            SetTimerEx("LimpiarObjeto", 2100, false, "d", cohete);
        }
        case TIPO_BOMBER: // Explosión de suelo fuerte
        {
            CreateExplosion(x, y, z, 7, 10.0); // Efecto visual más grande
            new ef = CreateDynamicObject(18681, x, y, z, 0, 0, 0); // Humo denso
            SetTimerEx("LimpiarObjeto", 3000, false, "d", ef);
        }
        case TIPO_ARCOIRIS: // Fuente de larga duración
        {
            new ef = CreateDynamicObject(18725, x, y, z - 1.0, 0, 0, 0);
            SendNotification(playerid, "~b~Fuente Arcoíris ~w~iniciada.");
            SetTimerEx("LimpiarObjeto", 20000, false, "d", ef); // 20 segundos de chispas
        }
        case TIPO_GALAXIA: // El que vuela con rastro y explota
{
    // 1. Crear el objeto del rastro (humo y fuego que sube)
    // Usamos el 18645 o 18716 que son estelas de humo/fuego
    new cohete = CreateDynamicObject(18645, x, y, z, 0, 0, 0);
    
    // 2. Moverlo hacia el cielo (40 metros de altura a velocidad 15.0)
    MoveDynamicObject(cohete, x, y, z + 40.0, 15.0); 
    
    // 3. Sonido de silbido de subida para todos los cercanos
    for(new i=0; i < MAX_PLAYERS; i++) {
        if(IsPlayerConnected(i) && IsPlayerInRangeOfPoint(i, 60.0, x, y, z)) {
            PlayerPlaySound(i, 1160, x, y, z); 
        }
    }
    
    // 4. Elegir color aleatorio
    new color_efecto = 19281 + random(4);
    
    // 5. Timer para la explosión final (debe coincidir con el tiempo de llegada arriba)
    // Si sube 40m a 15m/s, tarda aprox 2.6 segundos
    SetTimerEx("ExplosionColores", 2600, false, "fff d", x, y, z + 40.0, color_efecto);
    
    // 6. Borrar el objeto del rastro justo después de que explote
    SetTimerEx("LimpiarObjeto", 2700, false, "d", cohete);
    
    SendNotification(playerid, "~y~Cohete Galaxia lanzado...");
}
    }
    return 1;
}

forward ExplosionAire(Float:x, Float:y, Float:z);
public ExplosionAire(Float:x, Float:y, Float:z)
{
    // Partículas de fuegos artificiales (ID 19281 a 19284 son geniales)
    new ef = CreateDynamicObject(19282, x, y, z, 0, 0, 0);
    CreateExplosion(x, y, z, 12, 10.0);
    SetTimerEx("LimpiarObjeto", 4000, false, "d", ef);
    return 1;
}

forward LimpiarObjeto(objid);
public LimpiarObjeto(objid)
{
    if(IsValidDynamicObject(objid)) DestroyDynamicObject(objid);
    return 1;
}

forward ExplosionColores(Float:x, Float:y, Float:z, colorid);
public ExplosionColores(Float:x, Float:y, Float:z, colorid)
{
    // Creamos la explosión visual de colores
    new ef = CreateDynamicObject(colorid, x, y, z, 0, 0, 0);
    
    // Añadimos un destello de luz
    CreateExplosion(x, y, z, 12, 10.0); 
    
    // Sonido de explosión festiva
    for(new i=0; i < MAX_PLAYERS; i++) {
        if(IsPlayerConnected(i) && IsPlayerInRangeOfPoint(i, 100.0, x, y, z)) {
            PlayerPlaySound(i, 1159, x, y, z); 
        }
    }

    SetTimerEx("LimpiarObjeto", 5000, false, "d", ef); // El brillo dura 5 seg
    return 1;
}

CMD:eventodm(playerid, params[])
{
    if(PI[playerid][pi_ADMIN_LEVEL] < 4) return SendClientMessageEx(playerid, -1, "{D50000}» {FFFFFF}No tienes permiso.");
    
    if(EventoDM_Activo)
    {
        EventoDM_Activo = false;
        EventoDM_ArmaID = 0;
        
        SendClientMessageToAll(-1, "{D50000}» {FFFFFF}El evento de {D50000}Deathmatch {FFFFFF}ha sido finalizado por un administrador.");
        // Sacamos a todos los que estaban adentro
        for(new i = 0; i < MAX_PLAYERS; i++) {
            if(IsPlayerConnected(i) && EnEventoDM[i]) {
                ResetPlayerWeaponsEx(i);
        PI[i][pi_MANO_DER] = 0;
        PI[i][pi_DER_CANT] = 0;
                EnEventoDM[i] = false;
                SetPlayerToys(i);
                SetPlayerPosEx(i, 1555.400390,-1675.611694,16.195312, 0.0, 0, 0, true);
            }
        }
    }
    else
    {
        new weaponid;
        if(sscanf(params, "d", weaponid)) return SendNotification(playerid, "Uso: /eventodm [ID Arma]");
        
        EventoDM_Activo = true;
        EventoDM_ArmaID = weaponid;
        
        new msg[144];
        format(msg, sizeof(msg), "{00FF00}» {FFFFFF}¡Evento de {00FF00}Deathmatch {FFFFFF}abierto! Arma: {00FF00}%s{FFFFFF}. Usa {00FF00}/dm {FFFFFF}para entrar.", WEAPON_INFO[weaponid][weapon_info_NAME]);
        SendClientMessageToAll(-1, msg);
    }
    return 1;
}

CMD:dm(playerid, params[])
{
    if(!EventoDM_Activo) return SendNotification(playerid, "No hay ningún evento de DM activo.");
    
    if(EnEventoDM[playerid])
    {
        // Salir del evento
        EnEventoDM[playerid] = false;
        SendClientMessage(playerid, -1, "{D50000}» {FFFFFF}Has salido del evento de DM.");
        GameTextForPlayer(playerid, "~r~SALIENDO DEL~n~~w~EVENTO DM", 3000, 3);
        ResetPlayerWeaponsEx(playerid);
        PI[playerid][pi_MANO_DER] = 0;
        PI[playerid][pi_DER_CANT] = 0;
        PI[playerid][pi_STATE] = ROLEPLAY_STATE_NORMAL;
    	PI[playerid][pi_LOCAL_INTERIOR] = 0;
    	PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] = -1;
	    PI[playerid][pi_INTERIOR] = 0;
	    PI[playerid][pi_POLICE_JAIL_TIME] = 0;
	    SetPlayerToys(playerid);
        SetPlayerPosEx(playerid, 1555.400390,-1675.611694,16.195312, 0.0, 0, 0, true);
        new str_dm[128];
        format(str_dm, sizeof(str_dm), "{D50000}» {FFFFFF}El usuario {00FF00}%s {FFFFFF}se salió del evento.", PLAYER_TEMP[playerid][pt_RP_NAME]);
        for(new i = 0; i < MAX_PLAYERS; i++) {
            if(IsPlayerConnected(i)) {
                SendClientMessage(i, -1, str_dm);
            }
        }
    }
    else
    {
        // Entrar al evento
        if(PI[playerid][pi_STATE] != ROLEPLAY_STATE_NORMAL) return SendNotification(playerid, "No puedes entrar ahora.");
        if(PI[playerid][pi_MANO_DER] != 0) return SendNotification(playerid, "Debes tener las manos vacías para entrar.");
        
        EnEventoDM[playerid] = true;
        SetPlayerInterior(playerid, 16);
        SetPlayerVirtualWorld(playerid, 666); // Mundo aparte para que no molesten a otros
        SetPlayerPosEx(playerid, -1401.06,1265.37,1039.86, 0.0, 16, 666);
        
        // Dar arma del evento usando tu sistema para evitar bugs
        new checki = GetWeaponCheckID(EventoDM_ArmaID);
        PI[playerid][pi_MANO_DER] = checki;
        PI[playerid][pi_DER_CANT] = 90;
        GivePlayerWeaponEx(playerid, EventoDM_ArmaID, 90);
        
        SetPlayerHealthEx(playerid, 100.0);
        SetPlayerArmourEx(playerid, 100.0);
        
        SendClientMessage(playerid, -1, "{00FF00}» {FFFFFF}¡Bienvenido al evento! Mátalos a todos.");
        GameTextForPlayer(playerid, "~w~BIENVENIDO AL~n~~r~ARENA DM~n~~y~¡QUE COMIENCE LA ACCION!", 4000, 5);
        new str_dm[128];
        format(str_dm, sizeof(str_dm), "{00FF00}» {FFFFFF}El usuario {00FF00}%s {FFFFFF}se ha unido al evento. ¡Cuidado!", PLAYER_TEMP[playerid][pt_RP_NAME]);
        for(new i = 0; i < MAX_PLAYERS; i++) {
            if(IsPlayerConnected(i)) {
                SendClientMessage(i, -1, str_dm);
            }
        }
    }
    return 1;
}

CMD:basuraxd(playerid, params[])
{
    if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 1;
    TemporizadorBasureros();
    return 1;
}

CMD:creartablabasureros(playerid, params[])
{
    if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 1;

    new query[2500]; 
    strcat(query, "CREATE TABLE IF NOT EXISTS `basureros` (");
    strcat(query, "`id` int(11) NOT NULL AUTO_INCREMENT,");
    strcat(query, "`pos_x` float NOT NULL, `pos_y` float NOT NULL, `pos_z` float NOT NULL,");
    strcat(query, "`rot_x` float NOT NULL, `rot_y` float NOT NULL, `rot_z` float NOT NULL,");
    
    // Bucle para crear slot_id_1, slot_cant_1 ... hasta el 10
    for(new s = 1; s <= 10; s++) {
        new temp[150];
        format(temp, sizeof(temp), "`slot_id_%d` int(11) DEFAULT '0', `slot_cant_%d` int(11) DEFAULT '0',", s, s);
        strcat(query, temp);
    }
    
    strcat(query, "PRIMARY KEY (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8;");

    mysql_tquery(srp_db, query);
    SendClientMessage(playerid, 0x00FF00FF, "[MYSQL]: {FFFFFF}La tabla 'basureros' ha sido creada con éxito (Slots de ID y Cantidad).");
    return 1;
}

CMD:crearbasurero(playerid, params[])
{
    if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 1;

    new id_libre = -1;
    // Buscamos el primer número de ID que no esté en uso en nuestro array
    for(new x = 0; x < MAX_BASUREROS; x++)
    {
        // IMPORTANTE: Si ba_DB_ID es -1 o el objeto es inválido, ese es nuestro hueco
        if(BasureroData[x][ba_DB_ID] == -1 || !IsValidDynamicObject(BasureroData[x][ba_OBJETO_ID])) 
        {
            id_libre = x;
            break;
        }
    }

    if(id_libre == -1) return SendClientMessage(playerid, -1, "No hay slots libres para basureros.");

    new Float:pos[3], Float:angle;
    GetPlayerPos(playerid, pos[0], pos[1], pos[2]);
    GetPlayerFacingAngle(playerid, angle);
    pos[0] += (2.0 * floatsin(-angle, degrees));
    pos[1] += (2.0 * floatcos(-angle, degrees));

    // Creamos el objeto con el ID del slot libre
    BasureroData[id_libre][ba_OBJETO_ID] = CreateDynamicObject(3035, pos[0], pos[1], pos[2], 0.0, 0.0, angle);
    
    Streamer_Update(playerid);
    
    PLAYER_TEMP[playerid][pt_EDITING_BASURERO] = id_libre; 
    
    EditDynamicObject(playerid, BasureroData[id_libre][ba_OBJETO_ID]);
    SendFormatNotification(playerid, "Creando basurero con ID: %d", id_libre);
    return 1;
}


CMD:borrarbasurero(playerid, params[])
{
    new id_borrar;
    if(sscanf(params, "d", id_borrar)) return SendClientMessage(playerid, -1, "Uso: /borrarbasurero [ID]");

    // Limpiamos base de datos
    new query[128];
    mysql_format(srp_db, query, sizeof(query), "DELETE FROM basureros WHERE id = %d", id_borrar);
    mysql_tquery(srp_db, query);

    // Limpiamos el objeto y el array
    DestroyDynamicObject(BasureroData[id_borrar][ba_OBJETO_ID]);
    DestroyDynamic3DTextLabel(BasureroData[id_borrar][ba_LABEL]);
    DestroyDynamicPickup(BasureroData[id_borrar][ba_PICKUP]);
    
    BasureroData[id_borrar][ba_DB_ID] = -1; // Lo marcamos como vacío
    BasureroData[id_borrar][ba_OBJETO_ID] = INVALID_STREAMER_ID;
    
    SendClientMessage(playerid, -1, "Basurero borrado. El ID ahora está disponible.");
    return 1;
}

CMD:probarmejora(playerid, params[])
{
    if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 1;

    new vehicleid = GetPlayerVehicleID(playerid);
    if(!IsPlayerInAnyVehicle(playerid)) vehicleid = GetPlayerNearVehicle(playerid);
        
    if (vehicleid == INVALID_VEHICLE_ID || !PLAYER_VEHICLES[vehicleid][player_vehicle_VALID]) 
        return SendClientMessage(playerid, -1, "Vehículo inválido o no es de un jugador.");

    // 1. Obtenemos cuánto tiene el auto por defecto de fábrica
    new base_slots = VEHICLE_INFO[GLOBAL_VEHICLES[vehicleid][gb_vehicle_MODELID] - 400][vehicle_info_BOOT_SLOTS];
    
    // 2. Obtenemos cuánto tiene ya de mejora
    new current_extra = PLAYER_VEHICLES[vehicleid][player_vehicle_EXTRA_SLOTS];

    // 3. VERIFICACIÓN DEFINITIVA:
    // Si la suma de lo que ya tiene + la nueva mejora (7) supera tu límite de script (50)
    if(base_slots + current_extra + 7 > MAX_BOOT_SLOTS)
    {
        new msg[128];
        format(msg, sizeof(msg), "{FF0000}[ERROR]: {FFFFFF}Este vehículo ya no soporta más espacio. Límite del servidor: %d", MAX_BOOT_SLOTS);
        return SendClientMessage(playerid, -1, msg);
    }

    // 4. Si pasó la prueba, aplicamos la mejora (sumamos 7 a lo que ya tenía)
    PLAYER_VEHICLES[vehicleid][player_vehicle_EXTRA_SLOTS] += 7;

    // Guardado en la base de datos
    new query[128];
    mysql_format(srp_db, query, sizeof(query), "UPDATE `pvehicles` SET `espacio_extra` = %d WHERE `id` = %d", 
        PLAYER_VEHICLES[vehicleid][player_vehicle_EXTRA_SLOTS], 
        PLAYER_VEHICLES[vehicleid][player_vehicle_ID]); 
    
    mysql_tquery(srp_db, query);

    new msg[128];
    format(msg, sizeof(msg), "{00FF00}[MEJORA]: {FFFFFF}Refuerzo de baúl instalado (+7). Total actual: %d slots.", base_slots + PLAYER_VEHICLES[vehicleid][player_vehicle_EXTRA_SLOTS]);
    SendClientMessage(playerid, -1, msg);
    
    return 1;
}


CMD:jbl(playerid, params[])
{ 
    if(JBLInfo[playerid][jbl_COLOCADA])
    {
        ShowPlayerDialog(playerid, DIALOG_JBL_MAIN, DIALOG_STYLE_LIST, "{FF9900}[Parlante] {ffffff} Control", "Recoger Bocina\nCambiar Música", "Seleccionar", "xCancelar");
    }
    else
    {
        if(PI[playerid][pi_MANO_DER] != 258) return SendNotification(playerid, "No tienes parlante en tu mano."); 
        ShowPlayerDialog(playerid, DIALOG_JBL_MAIN, DIALOG_STYLE_LIST, "{FF9900}[Parlante] {ffffff} Menu", "Poner Bocina", "Seleccionar", "xCancelar");
    }
    return 1;
}


CMD:mejoras(playerid, params[])
{
    new vehid = GetPlayerVehicleID(playerid);
    if(GLOBAL_VEHICLES[vehid][gb_vehicle_PARAMS_ENGINE]) return ShowPlayerMessage(playerid, "Para trabajar sobre el vehiculo el motor debe estar apagado.");
    
    if(!IsPlayerInAnyVehicle(playerid) || GetPlayerState(playerid) != PLAYER_STATE_DRIVER)
        return ShowPlayerMessage(playerid, "Debes estar en el asiento del conductor.");

    // Verificamos si es un vehiculo de jugador
    if(!PLAYER_VEHICLES[vehid][player_vehicle_VALID])
        return ShowPlayerMessage(playerid, "Solo puedes mejorar vehiculos propios.");

    new model_idx = GetVehicleModel(vehid) - 400;
    
    // Obtenemos los datos reales de tu enum VEHICLE_INFO
    new vName[24];
    format(vName, sizeof(vName), "%s", VEHICLE_INFO[model_idx][vehicle_info_NAME]);
    new Float:vBase = VEHICLE_INFO[model_idx][vehicle_info_MAX_VEL];

    new nivel = PLAYER_VEHICLES[vehid][player_vehicle_MOTOR_NIVEL];
    
    // Calculamos la velocidad que tiene el auto justo ahora
    new Float:vActual = vBase;
    if(nivel == 1) vActual += 30.0;
    else if(nivel == 2) vActual += 55.0;
    else if(nivel == 3) vActual += 80.0;

    new str[800], title[128];
    format(title, sizeof(title), "{828282}[Mejoras] {ffffff} %s (Actual: %.0f KM/H)", vName, vActual);

    // Encabezado del TABLIST
    format(str, sizeof(str), "{FFFFFF}Mejora\t{FFFFFF}Estado\t{FFFFFF}Precio\t{FFFFFF}Vel. Final\n");
    
    // NIVEL 1
    format(str, sizeof(str), "%s{FFFFFF}Motor Nivel 1\t%s\t{FFFFFF}100.000{00FF00}$\t{FFFFFF}%.0f {FFFF00}KM/H\n", 
        str, (nivel == 1 ? "{00FF00}Instalado" : "{808080}Disponible"), (vBase + 30.0));

    // NIVEL 2
    format(str, sizeof(str), "%s{FFFFFF}Motor Nivel 2\t%s\t{FFFFFF}200.000{00FF00}$\t{FFFFFF}%.0f {FFFF00}KM/H\n", 
        str, (nivel == 2 ? "{00FF00}Instalado" : "{808080}Disponible"), (vBase + 55.0));

    // NIVEL 3
    format(str, sizeof(str), "%s{FFFFFF}Motor Nivel 3\t%s\t{FFFFFF}350.000{00FF00}$\t{FFFFFF}%.0f {FFFF00}KM/H\n", 
        str, (nivel == 3 ? "{00FF00}Instalado" : "{808080}Disponible"), (vBase + 80.0));

    // OPCIÓN ELIMINAR
    if(nivel > 0) 
    {
        format(str, sizeof(str), "%s{FF0000}Eliminar mejora\t{FFFFFF}Nivel %d\t{FF0000}GRATIS\t{808080}%.0f KM/H", str, nivel, vBase);
    }

    ShowPlayerDialog(playerid, 543, DIALOG_STYLE_TABLIST_HEADERS, title, str, "Seleccionar", "xCerrar");
    return 1;
}

CMD:miapartamento(playerid, params[])
{
    if(APA[playerid][pi_AptoID] == -1) return SendNotification(playerid, "No tienes ningún apartamento rentado.");
    
    new restante = APA[playerid][pi_AptoTiempo] - gettime();
    new dias = restante / 86400;
    new horas = (restante % 86400) / 3600;

    SendFormatNotification(playerid, "Tu contrato vence en: %d días y %d horas.", dias, horas);
    return 1;
}

CMD:estado(playerid, params[])
{
    new string_titulo[144]; // Un poco más largo por los códigos de color
    
    // Verificamos si la variable tiene un texto válido
    if(isnull(PI[playerid][pi_Estado]) || !strcmp(PI[playerid][pi_Estado], "Ninguno", true))
    {
        format(string_titulo, sizeof(string_titulo), "{828282}[Panel] {ffffff} Estado");
    }
    else
    {
        /* Explicación:
           {%06x} -> Convierte el color RGBA a Hexadecimal de 6 dígitos.
           >>> 8  -> Elimina el canal Alpha para que el color sea compatible con los tags {} de SAMP.
        */
        format(string_titulo, sizeof(string_titulo), "{FFFFFF}[Estado]  {%06x}%s", PI[playerid][pi_ColorEstado] >>> 8, PI[playerid][pi_Estado]);
    }

    ShowPlayerDialog(playerid, DIALOG_ESTADO_TEXTO, DIALOG_STYLE_INPUT, string_titulo, "{FFFFFF}Escribe el texto que quieres mostrar sobre tu cabeza:", "Siguiente", "xQuitar");
    return 1;
}


CMD:crearalquiler(playerid, params[])
{
    if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 0;
    new id = -1;
    for(new i = 0; i < MAX_PUNTOS_ALQUILER; i++) {
        if(!PuntosAlquiler[i][al_Creado]) { id = i; break; }
    }
    
    if(id == -1) return SendClientMessage(playerid, -1, "No hay espacio para más puntos.");

    GetPlayerPos(playerid, PuntosAlquiler[id][al_X], PuntosAlquiler[id][al_Y], PuntosAlquiler[id][al_Z]);
    GetPlayerFacingAngle(playerid, PuntosAlquiler[id][al_A]);
    PuntosAlquiler[id][al_Creado] = 1;

    // Crear Pickup y Label al instante
    PuntosAlquiler[id][al_Pickup] = CreateDynamicPickup(1273, 1, PuntosAlquiler[id][al_X], PuntosAlquiler[id][al_Y], PuntosAlquiler[id][al_Z], 0, 0);
    new str[128];
    format(str, sizeof(str), "{FFFFFF}Apartamento ID: %d\n{FFFFFF}Acércate para {00ff00}interactuar", id);
    PuntosAlquiler[id][al_Label] = CreateDynamic3DTextLabel(str, -1, PuntosAlquiler[id][al_X], PuntosAlquiler[id][al_Y], PuntosAlquiler[id][al_Z] + 0.5, 10.0);

    GuardarPuntosAlquiler();
    CreateDynamicMapIcon(PuntosAlquiler[id][al_X], PuntosAlquiler[id][al_Y], PuntosAlquiler[id][al_Z], 38, -1, 0, 0, -1, 200.0, MAPICON_GLOBAL);
    SendFormatNotification (playerid, "Punto de alquiler creado con éxito.");
    return 1;
}

CMD:borraralquiler(playerid, params[])
{
    if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 0;
    new id;
    if(sscanf(params, "d", id)) return SendClientMessage(playerid, -1, "Uso: /borraralquiler [ID]");
    if(id < 0 || id >= MAX_PUNTOS_ALQUILER || !PuntosAlquiler[id][al_Creado]) return SendClientMessage(playerid, -1, "ID Inválido.");

    // 1. LIMPIEZA DE JUGADORES CONECTADOS
    // Recorremos a todos para ver quién tiene este ID rentado
    for(new i = 0; i < MAX_PLAYERS; i++)
    {
        if(IsPlayerConnected(i) && APA[i][pi_AptoID] == id)
        {
            SendClientMessage(i, -1, "{FF0000}[Aviso]: {FFFFFF}El edificio donde alquilabas ha sido eliminado por la administración.");
            ResetearDatosApartamento(i); // Esto los saca si están adentro y limpia su .ini
        }
    }

    // 2. BORRAR ARCHIVO DEL PUNTO (Configuración del edificio)
    new path[64];
    format(path, sizeof(path), "/Alquilar/Punto_%d.ini", id);
    if(dini_Exists(path)) dini_Remove(path);

    // 3. BORRAR ELEMENTOS VISUALES
    if(IsValidDynamicPickup(PuntosAlquiler[id][al_Pickup])) DestroyDynamicPickup(PuntosAlquiler[id][al_Pickup]);
    if(IsValidDynamic3DTextLabel(PuntosAlquiler[id][al_Label])) DestroyDynamic3DTextLabel(PuntosAlquiler[id][al_Label]);
    
    // 4. RESETEAR VARIABLE GLOBAL
    PuntosAlquiler[id][al_Creado] = 0;
    PuntosAlquiler[id][al_X] = 0.0;
    PuntosAlquiler[id][al_Y] = 0.0;
    PuntosAlquiler[id][al_Z] = 0.0;

    SendFormatNotification(playerid, "Punto de alquiler eliminado y usuarios desalojados.");
    return 1;
}

CMD:logros(playerid, params[])
{
    // 4096 es el límite máximo real de SA-MP
    new string[4096], premio[100], estado[32]; 
    string[0] = '\0';

    strcat(string, "{FFFFFF}Logro\t{FFFFFF}Objetivo\t{FFFFFF}Premio\t{FFFFFF}Estado\n");

    for(new i = 0; i < sizeof(InfoLogros); i++)
    {
        premio[0] = '\0'; 

        // 1. Dinero
        if(InfoLogros[i][lDinero] > 0) {
            format(premio, sizeof(premio), "{FFFFFF}%d{00FF00}$ ", InfoLogros[i][lDinero]);
        }
        
        // 2. Gemas
        if(InfoLogros[i][lGemas] > 0) {
            format(premio, sizeof(premio), "%s {FFFFFF}%d{009AFF}G ", premio, InfoLogros[i][lGemas]);
        }
        
        // 3. Objeto (Limitamos el nombre si es muy largo)
        if(InfoLogros[i][lObjetoID] != -1) {
            new name[32];
            strmid(name, ObjetoInfo[InfoLogros[i][lObjetoID]][NombreObjeto], 0, 20); // Solo toma los primeros 20 caracteres
            format(premio, sizeof(premio), "%s {4B4956}%s", premio, name);
        }

        if(premio[0] == '\0') format(premio, sizeof(premio), "{666666}Ninguno");

        // 2. Estado
        if(LogrosJugador[playerid][i] == 1) format(estado, sizeof(estado), "{00FF00}Logrado");
        else format(estado, sizeof(estado), "{FF0000}Bloqueado");

        format(string, sizeof(string), "%s{FFFFFF}%s\t{AAAAAA}%s\t%s\t%s\n", 
            string, InfoLogros[i][lNombre], InfoLogros[i][lDescripcion], premio, estado);
    }

    ShowPlayerDialog(playerid, DIALOG_LOGROS, DIALOG_STYLE_TABLIST_HEADERS, "{FF7800}[Mis]{ffffff}  Logros", string, "xCerrar", "");
    return 1;
}




CMD:ataque(playerid, params[])
{
    new 
        start_tick, 
        end_tick, 
        total_time,
        report[144],
        buffer[256];

    SendClientMessage(playerid, -1, "{FF0000}[HOSTING-TEST]{FFFFFF} Ejecutando carga masiva de CPU (100,000 iteraciones)...");

    // Guardamos el tiempo exacto de inicio
    start_tick = GetTickCount();

    // --- BUCLE DE CARGA ---
    // Simulamos 200 usuarios y 500 acciones complejas por cada uno
    for(new i = 0; i < 200; i++)
    {
        for(new j = 0; j < 500; j++)
        {
            // Forzamos al procesador a formatear strings (operación costosa)
            format(buffer, sizeof(buffer), "UserID: %d | Acción: %d | Time: %d | Random: %f", i, j, gettime(), 500.50 / (i + 1));
            
            // Forzamos un cálculo matemático en cada vuelta
            new logic = (i * j) + (gettime() / 100);
            #pragma unused logic
        }
    }

    // Guardamos el tiempo al terminar
    end_tick = GetTickCount();
    total_time = end_tick - start_tick;

    // --- REPORTE DE RESULTADOS ---
    format(report, sizeof(report), "{FF0000}[RESULTADO]{FFFFFF} Tiempo de procesamiento: {00FF00}%d ms.", total_time);
    SendClientMessage(playerid, -1, report);

    if(total_time < 15) {
        SendClientMessage(playerid, -1, "Calidad CPU: {00FF00}Excelente. {FFFFFF}Aguantará 200 usuarios con sistemas pesados.");
    }
    else if(total_time < 40) {
        SendClientMessage(playerid, -1, "Calidad CPU: {FFFF00}Normal. {FFFFFF}Soportará la carga, evita bucles innecesarios.");
    }
    else {
        SendClientMessage(playerid, -1, "Calidad CPU: {FF0000}Crítica. {FFFFFF}El hosting es lento o está saturado. Habrá lag.");
    }

    return 1;
}

CMD:testgrua(playerid, params[])
{
    // 1. Verificamos si el jugador está en un vehiculo
    new vehicleid = GetPlayerVehicleID(playerid);
    
    if(!IsPlayerInAnyVehicle(playerid)) 
        return SendClientMessage(playerid, -1, "{FF0000}[TEST]{FFFFFF} Debes estar dentro del vehiculo que quieres testear.");

    // 2. Verificamos si es un vehiculo de jugador (registrado en PLAYER_VEHICLES)
    if(!PLAYER_VEHICLES[vehicleid][player_vehicle_VALID])
        return SendClientMessage(playerid, -1, "{FF0000}[TEST]{FFFFFF} Este vehiculo no es un vehiculo privado (PLAYER_VEHICLE).");

    // 3. Informamos que el proceso ha comenzado
    SendClientMessage(playerid, -1, "{FFFF00}[TEST]{FFFFFF} Forzando remolque por grúa... Espere.");

    // 4. IMPORTANTE: Sacamos al jugador del auto antes de parquearlo
    // (Si no lo sacamos, DestroyVehicle puede causar bugs o crashes en el cliente)
    RemovePlayerFromVehicle(playerid);

    // 5. Llamamos a la función que creamos
    // Usamos un pequeño delay de 500ms para que al jugador le dé tiempo de salir visualmente
    SetTimerEx("ForzarAutoParqueo", 500, false, "i", vehicleid);

    return 1;
}

// Función auxiliar para el timer del test
forward ForzarAutoParqueo(vehicleid);
public ForzarAutoParqueo(vehicleid)
{
    if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_VALID])
    {
        AutoParquearVehiculo(vehicleid);
        printf("[DEBUG] El vehiculo ID %d ha sido procesado por el comando de test.", vehicleid);
    }
    return 1;
}


CMD:crearlaboratorio(playerid, params[])
{
    new precio;
    if(sscanf(params, "d", precio)) return SendFormatNotification(playerid, "Uso: /crearlaboratorio [precio]");

    new id = Iter_Free(Laboratorios);
    if(id == ITER_NONE) return SendFormatNotification(playerid, "Límite de laboratorios alcanzado.");

    new Float:x, Float:y, Float:z;
    GetPlayerPos(playerid, x, y, z);

    LI[id][l_ID] = id;
    LI[id][l_Precio] = precio;
    strmid(LI[id][l_Owner], "Nadie", 0, strlen("Nadie"), MAX_PLAYER_NAME);
    strmid(LI[id][l_Nombre], "Laboratorio Clandestino", 0, strlen("Laboratorio Clandestino"), 64);
    LI[id][l_PosX] = x;
    LI[id][l_PosY] = y;
    LI[id][l_PosZ] = z;
    LI[id][l_Mercancia] = 0;
    LI[id][l_Materiales] = 0;
    LI[id][l_Caja] = 0;
    LI[id][l_Comprado] = false;
    LI[id][l_Cerrado] = true;

    CrearLabMundo(id);
    GuardarLaboratorio(id);
    Iter_Add(Laboratorios, id);

    SendFormatNotification(playerid, "Laboratorio creado con éxito.");
    return 1;
}

CMD:borrarlaboratorio(playerid, params[])
{
    new id;
    if(sscanf(params, "d", id)) return SendFormatNotification(playerid, "Uso: /borrarlaboratorio [ID]");
    if(!Iter_Contains(Laboratorios, id)) return SendFormatNotification(playerid, "Ese ID de laboratorio no existe.");

    // Borrar archivo
    new path[64];
    format(path, sizeof(path), PATH_LABS, id);
    fremove(path);

    // Borrar cosas del mapa
    DestroyDynamicPickup(LI[id][l_Pickup]);
    DestroyDynamic3DTextLabel(LI[id][l_Label]);
    DestroyDynamicMapIcon(LI[id][l_MapIcon]);
    
    if(LI[id][l_Pickup] != 0) {
        DestroyDynamicPickup(LI[id][l_Pickup]);
        LI[id][l_Pickup] = 0; // <--- ¡CLAVE! Limpiamos el ID
    }

    // Reset variables
    LI[id][l_PosX] = 0.0;
    Iter_Remove(Laboratorios, id);

    SendFormatNotification(playerid, "Laboratorio borrado físicamente.");
    return 1;
}

CMD:venderlaboratorio(playerid, params[])
{
    new id = -1;
    for(new i = 0; i < MAX_LABORATORIOS; i++) {
        if(IsPlayerInRangeOfPoint(playerid, 3.0, LI[i][l_PosX], LI[i][l_PosY], LI[i][l_PosZ])) {
            id = i;
            break;
        }
    }

    if(id == -1) return SendFormatNotification(playerid, "No estás en un laboratorio.");
    
    new name[MAX_PLAYER_NAME];
    GetPlayerName(playerid, name, sizeof(name));
    if(strcmp(LI[id][l_Owner], name, true) != 0) return SendFormatNotification(playerid, "No eres el dueño.");

    new mitad = LI[id][l_Precio] / 2;
    SetPlayerCashX(playerid, mitad);
    
    strmid(LI[id][l_Owner], "Nadie", 0, MAX_PLAYER_NAME, MAX_PLAYER_NAME);
    LI[id][l_Comprado] = false;
    LI[id][l_Cerrado] = true;
    LI[id][l_Mercancia] = 0; // Se pierde la merca al venderlo
    LI[id][l_Materiales] = 0;
    LI[id][l_Caja] = 0;

    GuardarLaboratorio(id);
    CrearLabMundo(id);
    
    SendFormatNotification(playerid, "Has vendido tu laboratorio por la mitad de su valor.");
    return 1;
}


CMD:comprarlaboratorio(playerid, params[])
{
    new id = -1;
    for(new i = 0; i < MAX_LABORATORIOS; i++) {
        if(IsPlayerInRangeOfPoint(playerid, 3.0, LI[i][l_PosX], LI[i][l_PosY], LI[i][l_PosZ])) {
            id = i;
            break;
        }
    }

    if(id == -1) return SendFormatNotification(playerid, "No estás cerca de ningún laboratorio.");
    if(LI[id][l_Comprado]) return SendFormatNotification(playerid, "Este laboratorio ya tiene dueño.");
    if(PI[playerid][pi_CASH] < LI[id][l_Precio]) return SendFormatNotification(playerid, "No tienes suficiente dinero.");

    // Proceso de compra
    SetPlayerCashX(playerid, -LI[id][l_Precio]); 
    
    new name[MAX_PLAYER_NAME];
    GetPlayerName(playerid, name, sizeof(name));
    
    strmid(LI[id][l_Owner], name, 0, MAX_PLAYER_NAME, MAX_PLAYER_NAME);
    LI[id][l_Comprado] = true;
    LI[id][l_Cerrado] = false; 
    LI[id][l_Mercancia] = 50; // <--- STOCK INICIAL DE REGALO
    LI[id][l_Materiales] = 0;
    LI[id][l_Caja] = 0;

    GuardarLaboratorio(id);
    CrearLabMundo(id); 
    
    SendFormatNotification(playerid, "Felicidades! Has comprado el laboratorio y recibiste 50 unidades de stock inicial.");
    return 1;
}

CMD:laboratorio(playerid, params[])
{
    new id = -1;
    for(new i = 0; i < MAX_LABORATORIOS; i++) {
        if(LI[i][l_PosX] != 0.0 && IsPlayerInRangeOfPoint(playerid, 3.0, LI[i][l_PosX], LI[i][l_PosY], LI[i][l_PosZ])) {
            id = i;
            break;
        }
    }

    if(id == -1) return SendFormatNotification(playerid, "No estás en ningún laboratorio.");

    new name[MAX_PLAYER_NAME];
    GetPlayerName(playerid, name, sizeof(name));
    
    PLD[playerid][pLabID] = id; 
    
    new titulo[250];

    if(strcmp(LI[id][l_Owner], name, true) == 0)
    {
        // Cambiado de menu_dueño a menu_dueno (Sin la Ñ)
        new menu_dueno[600]; 
        format(menu_dueno, sizeof(menu_dueno), 
            " Abrir / Cerrar\n\
             Cambiar Nombre\n\
             Retirar Ganancias {00FF00}(Caja)\n\ 
             Retirar {FF8080}Materiales\n\
             Rutas de Suministros {FFFF00}(Llenar Stock)\n\
             Poner a la venta\n\
             Ver Info\n\
            {828282}----------------------------------\n\
            {FFFFFF}Dinero en Caja: {00FF00}$%s\n\
            {FFFFFF}Stock Mercancia: {66C4E4}%d unidades\n\
            {FFFFFF}Materiales: {FFFF00}%d unidades",
            number_format_thousand(LI[id][l_Caja]), 
            LI[id][l_Mercancia], 
            LI[id][l_Materiales]
        );
        
        format(titulo, sizeof(titulo), "{828282}[Panel] {ffffff} Laboratorio ID %d", id);

        ShowPlayerDialog(playerid, 16000, DIALOG_STYLE_LIST, titulo, menu_dueno, "Seleccionar", "xCancelar");
    }
    else 
    {
        if(LI[id][l_Cerrado]) return SendFormatNotification(playerid, "El laboratorio está cerrado por el dueño.");
        if(LI[id][l_Mercancia] < 1) return SendFormatNotification(playerid, "El laboratorio no tiene insumos (Mercancia) para trabajar.");

        new str[1000], line[128];
        // Limpiamos la cadena inicial para evitar basura en memoria
        str[0] = '\0'; 
        strcat(str, "{FFFFFF}Producto\t{FFFFFF}Materiales\t{FFFFFF}Paga\n"); 

        for(new i = 0; i < 5; i++)
        {
            new obj_id = ProduccionLab[i][objID];
            
            // Verificamos que ProduccionLab y ObjetoInfo usen los nombres de variables correctos
            format(line, sizeof(line), "{FFFFFF}%s\t{828282}%d {FFFFFF}Materiales ( -%d{D50000}Mercancía{FFFFFF})\t{00FF00}${FFFFFF}%s + Item\n", 
                ObjetoInfo[obj_id][NombreObjeto], 
                ProduccionLab[i][matCost], 
                ProduccionLab[i][merCost], 
                number_format_thousand(ProduccionLab[i][pagaUser])
            );
            strcat(str, line);
        }  
    
        format(titulo, sizeof(titulo), "{828282}[Laboratorio] {ffffff}ID %d  Traficar", id);
        
        ShowPlayerDialog(playerid, 16001, DIALOG_STYLE_TABLIST_HEADERS, titulo, str, "Pedir", "xCerrar");
    }
    return 1;
}
alias:laboratorio("lab");

CMD:administrar(playerid, params[]) {
    new id = -1;
    // Buscamos si el jugador es dueño del negocio donde está parado
    for(new i=0; i<MAX_NEGOCIOS; i++) {
        if(IsPlayerInRangeOfPoint(playerid, 5.0, NI[i][n_EntradaX], NI[i][n_EntradaY], NI[i][n_EntradaZ])) {
            // Comprobamos si el nombre del dueño coincide
            new name[MAX_PLAYER_NAME];
            GetPlayerName(playerid, name, sizeof(name));
            for(new n = 0; n < strlen(name); n++) if(name[n] == '_') name[n] = ' '; // Limpiar guiones

            if(!strcmp(NI[i][n_Owner], name, true)) { 
                id = i; 
                break; 
            }
        }
    }

    if(id == -1) return SendFormatNotification(playerid, "No eres el dueño de este establecimiento.");

    SetPVarInt(playerid, "ID_NegAdmin", id);
    
    new str[512];
    // Formateamos el menú con la información solicitada al final
    format(str, sizeof(str), 
        " Retirar Dinero de la Caja\n\
         Abrir Cerrar Negocio\n\
         Poner a la Venta (50%% del valor)\n\
         Surtir Mercancía (Rutas)\n\n\
        {FFFFFF}Mercancía disponible: ({cccccc}%d"WHITE") unidades\n\
        {FFFFFF}Dinero en caja: ({cccccc}%d"WHITE"){00FF00}$", 
        NI[id][n_Mercancia], NI[id][n_Caja]
    );
    
    new titulo[250];
    
    format(titulo, sizeof(titulo), "{828282}[Administrar] {ffffff}  Negocio ID %d", id);

    ShowPlayerDialog(playerid, 8823, DIALOG_STYLE_LIST, titulo, str, "Seleccionar", "xCerrar");
    return 1;
}


CMD:comprarnegocio(playerid, params[]) {
    for(new i = 0; i < MAX_NEGOCIOS; i++) {
        if(NI[i][n_Precio] <= 0) continue; 

        if(IsPlayerInRangeOfPoint(playerid, 3.5, NI[i][n_EntradaX], NI[i][n_EntradaY], NI[i][n_EntradaZ])) {
            
            if(NI[i][n_Comprado]) return SendFormatNotification(playerid, "Este negocio ya tiene un dueño.");
            if(PI[playerid][pi_CASH] < NI[i][n_Precio]) return SendFormatNotification(playerid, "No tienes suficiente dinero.");
            
            SetPlayerCashX(playerid, -NI[i][n_Precio]);
            
            new name[MAX_PLAYER_NAME];
            GetPlayerName(playerid, name, sizeof(name));
            for(new n = 0; n < strlen(name); n++) if(name[n] == '_') name[n] = ' ';
            
            format(NI[i][n_Owner], MAX_PLAYER_NAME, "%s", name);
            
            NI[i][n_Comprado] = true;
            NI[i][n_Cerrado] = false;
            NI[i][n_Caja] = 0;
            NI[i][n_Mercancia] = 50; 
            
            // --- NUEVA LÓGICA PARA REPARAR EL PICKUP DE VENTA ---
            if(IsValidDynamicPickup(NI[i][n_PickupSalida])) DestroyDynamicPickup(NI[i][n_PickupSalida]);
            if(IsValidDynamicPickup(NI[i][n_PickupVenta])) DestroyDynamicPickup(NI[i][n_PickupVenta]);

            new Float:vX, Float:vY, Float:vZ, modelo_venta;

            // Buscamos las coordenadas y el modelo según el tipo de negocio
            switch(NI[i][n_Tipo]) {
                case 0: { // 24/7
                    vX = -29.259983; vY = -184.282455; vZ = 1003.546875; 
                    modelo_venta = 1274; 
                }
                case 1: { // Restaurante
                    vX = 379.139007; vY = -190.666397; vZ = 1000.632812; 
                    modelo_venta = 2880; 
                }
                case 2: { // Ammu-Nation
                    vX = 312.300537; vY = -165.750686; vZ = 999.601013; 
                    modelo_venta = 355; 
                }
                case 3: { // Bar
                    vX = 502.480377; vY = -14.576223; vZ = 1000.679687; 
                    modelo_venta = 1543; 
                }
            }

            // Pickup SALIDA (Icono de puerta amarilla)
            NI[i][n_PickupSalida] = CreateDynamicPickup(19607, 1, NI[i][n_SalidaX], NI[i][n_SalidaY], NI[i][n_SalidaZ], i + 100);
            
            // Pickup VENTA (Icono según el tipo de negocio y en su lugar exacto)
            NI[i][n_PickupVenta] = CreateDynamicPickup(modelo_venta, 1, vX, vY, vZ, i + 100);
            // ---------------------------------------------------

            ActualizarNegocioVisual(i); 
            GuardarNegocio(i);         
            OtorgarLogro(playerid, 8);
           
            SendFormatNotification(playerid, "¡Felicidades! Has comprado el negocio. Usa /administrar.");
            return 1; 
        }
    }
    return SendFormatNotification(playerid, "No estás cerca de ningún negocio en venta.");
}


CMD:crearnegocio(playerid, params[]) {
    if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 0;
    new tipo, precio, id = -1;
    if(sscanf(params, "ii", tipo, precio)) return SendFormatNotification(playerid, "Usa: /crearnegocio [0: 24/7 | 1: Rest | 2: Ammu | 3: Bar] [Precio]");

    for(new i=0; i<MAX_NEGOCIOS; i++) { if(NI[i][n_Precio] == 0) { id = i; break; } }
    if(id == -1) return SendFormatNotification(playerid, "No hay espacio para más negocios.");

    GetPlayerPos(playerid, NI[id][n_EntradaX], NI[id][n_EntradaY], NI[id][n_EntradaZ]);
    GetPlayerFacingAngle(playerid, NI[id][n_EntradaA]);

    NI[id][n_Tipo] = tipo;
    NI[id][n_Precio] = precio;
    NI[id][n_Comprado] = false;
    NI[id][n_Cerrado] = false;
    NI[id][n_Mercancia] = 100;
    NI[id][n_Caja] = 0;
    format(NI[id][n_Owner], MAX_PLAYER_NAME, "Nadie");

    // Variables temporales para la posición y el MODELO del Pickup de Venta
    new Float:vX, Float:vY, Float:vZ, modelo_venta;

    // Configuración de Salida, Interior y posición del Mostrador (Venta)
    switch(tipo) {
        case 0: { // 24/7
            NI[id][n_SalidaX] = -25.782049; NI[id][n_SalidaY] = -187.841567; NI[id][n_SalidaZ] = 1003.546875; NI[id][n_Interior] = 17; 
            vX = -29.259983; vY = -184.282455; vZ = 1003.546875; 
            modelo_venta = 1274; // Icono de billete/dinero para el 24/7
        }
        case 1: { // Restaurante
            NI[id][n_SalidaX] = 377.205841; NI[id][n_SalidaY] = -193.305938; NI[id][n_SalidaZ] = 1000.632812; NI[id][n_Interior] = 17; 
            vX = 379.139007; vY = -190.666397; vZ = 1000.632812; 
            modelo_venta = 2880; // Icono de corazón (comida/salud)
        }
        case 2: { // Ammu-Nation
            NI[id][n_SalidaX] = 316.447021; NI[id][n_SalidaY] = -170.037902; NI[id][n_SalidaZ] = 999.593750; NI[id][n_Interior] = 6;
            vX = 312.300537; vY = -165.750686; vZ = 999.601013; 
            modelo_venta = 355; // Icono de AK-47 (armas, pendejo)
        }
        case 3: { // Bar
            NI[id][n_SalidaX] = 493.512695; NI[id][n_SalidaY] = -24.383890; NI[id][n_SalidaZ] = 1000.679687; NI[id][n_Interior] = 17; 
            vX = 502.480377; vY = -14.576223; vZ = 1000.679687; 
            modelo_venta = 1543; // Icono de botella para que chupen
        }
    }

    // Pickup ENTRADA
    NI[id][n_PickupEntrada] = CreateDynamicPickup(19606, 1, NI[id][n_EntradaX], NI[id][n_EntradaY], NI[id][n_EntradaZ], 0);

    // Pickup SALIDA
    NI[id][n_PickupSalida] = CreateDynamicPickup(19607, 1, NI[id][n_SalidaX], NI[id][n_SalidaY], NI[id][n_SalidaZ], id + 100);

    // Pickup VENTA: ¡CON MODELO DIFERENTE SEGÚN EL TIPO!
    NI[id][n_PickupVenta] = CreateDynamicPickup(modelo_venta, 1, vX, vY, vZ, id + 100);

    // MAP ICON
    new iconid;
    switch(tipo) {
        case 0: iconid = 17; case 1: iconid = 10; case 2: iconid = 6; case 3: iconid = 49;
    }
    NI[id][n_MapIcon] = CreateDynamicMapIcon(NI[id][n_EntradaX], NI[id][n_EntradaY], NI[id][n_EntradaZ], iconid, -1, 0, 0, -1, 150.0);

    ActualizarNegocioVisual(id);
    GuardarNegocio(id);
    SendFormatNotification(playerid, "Negocio creado con éxito.");
    return 1;
}



CMD:borrarnegocio(playerid, params[]) {
    if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 0;
    new id;
    if(sscanf(params, "i", id)) return SendFormatNotification(playerid, "Usa: /borrarnegocio [ID]");
    
    DestroyDynamicPickup(NI[id][n_PickupEntrada]);
    DestroyDynamicPickup(NI[id][n_PickupSalida]);
    DestroyDynamicPickup(NI[id][n_PickupVenta]);
    DestroyDynamic3DTextLabel(NI[id][n_Label]);
    DestroyDynamicMapIcon(NI[id][n_MapIcon]);

    new path[64]; format(path, sizeof(path), PATH_NEGOCIO, id);
    fremove(path);
    NI[id][n_Precio] = 0;
    SendFormatNotification(playerid, "Negocio eliminado.");
    return 1;
}

CMD:crearempresa(playerid, params[])
{
    new tipo, precio;
    if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 0;
    if(sscanf(params, "dd", tipo, precio)) return SendFormatNotification(playerid, "USO: /crearempresa [Tipo 1 o 2] [Precio]");

    for(new i = 1; i < MAX_EMPRESAS; i++)
    {
        if(EmpresaData[i][eX] == 0.0) // Espacio libre (verificamos por coordenada X)
        {
            new Float:x, Float:y, Float:z;
            GetPlayerPos(playerid, x, y, z);
            
            // --- ASIGNACIÓN EN MEMORIA ---
            EmpresaData[i][eID] = i;
            format(EmpresaData[i][eDuenio], MAX_PLAYER_NAME, "Nadie");
            EmpresaData[i][ePrecio] = precio;
            EmpresaData[i][eTipo] = tipo;
            EmpresaData[i][eX] = x; 
            EmpresaData[i][eY] = y; 
            EmpresaData[i][eZ] = z;
            EmpresaData[i][eMercancia] = 50; // <--- Iniciamos con 50 de mercancía
            EmpresaData[i][eGanancias] = 0;
            EmpresaData[i][eComprada] = false;
            
            // --- GUARDADO EN ARCHIVO DINI ---
            new path[64];
            format(path, sizeof(path), "/Empresas/%d.ini", i);
            dini_Create(path);
            dini_IntSet(path, "Tipo", tipo);
            dini_IntSet(path, "Precio", precio);
            dini_IntSet(path, "Mercancia", 50); // <--- Guardamos los 50 en el archivo
            dini_IntSet(path, "Ganancias", 0);
            dini_FloatSet(path, "X", x);
            dini_FloatSet(path, "Y", y);
            dini_FloatSet(path, "Z", z);
            dini_Set(path, "Duenio", "Nadie");
            
            // Seteamos las coordenadas del garaje en 0 por defecto hasta que se usen
            dini_FloatSet(path, "GX", 0.0);
            dini_FloatSet(path, "GY", 0.0);
            dini_FloatSet(path, "GZ", 0.0);

            ActualizarEmpresaVisual(i);
            
            new msg[128];
            format(msg, sizeof(msg), "Empresa ID %d creada (Tipo: %d) con 50 unidades de stock.", i, tipo);
            SendFormatNotification(playerid, msg);
            return 1;
        }
    }
    SendFormatNotification(playerid, "No hay más espacios disponibles para empresas (MAX_EMPRESAS).");
    return 1;
}

CMD:borrarempresa(playerid, params[])
{
    
    new id;
    if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 0;
    if(sscanf(params, "d", id)) return SendFormatNotification(playerid, "Uso: /borrarempresa [ID]");

    // Verificamos que el ID sea válido y que la empresa exista (usando eX como referencia)
    if(id <= 0 || id >= MAX_EMPRESAS || EmpresaData[id][eX] == 0.0) 
        return SendFormatNotification(playerid, "ID de empresa inválido o inexistente.");

    // 1. DESTRUIR ELEMENTOS VISUALES (Pickup y Text3D de la entrada)
    if(IsValidDynamicPickup(EmpresaData[id][ePickup])) {
        DestroyDynamicPickup(EmpresaData[id][ePickup]);
        EmpresaData[id][ePickup] = -1;
    }
    if(IsValidDynamic3DTextLabel(EmpresaData[id][eText])) {
        DestroyDynamic3DTextLabel(EmpresaData[id][eText]);
        EmpresaData[id][eText] = Text3D:INVALID_3DTEXT_ID;
    }

    // 2. DESTRUIR ELEMENTOS VISUALES DEL GARAJE (si existen)
    if(IsValidDynamicPickup(EmpresaData[id][eGPickup])) {
        DestroyDynamicPickup(EmpresaData[id][eGPickup]);
        EmpresaData[id][eGPickup] = -1;
    }
    if(IsValidDynamic3DTextLabel(EmpresaData[id][eGText])) {
        DestroyDynamic3DTextLabel(EmpresaData[id][eGText]);
        EmpresaData[id][eGText] = Text3D:INVALID_3DTEXT_ID;
    }

    // 3. ELIMINAR EL ARCHIVO FÍSICO (.ini)
    new path[64];
    format(path, sizeof(path), "/Empresas/%d.ini", id);
    if(fexist(path)) fremove(path);

    // 4. RESETEAR VARIABLES EN MEMORIA
    EmpresaData[id][eID] = 0;
    EmpresaData[id][eX] = 0.0;
    EmpresaData[id][eY] = 0.0;
    EmpresaData[id][eZ] = 0.0;
    EmpresaData[id][eGX] = 0.0;
    EmpresaData[id][eGY] = 0.0;
    EmpresaData[id][eGZ] = 0.0;
    EmpresaData[id][eGAngle] = 0.0;
    EmpresaData[id][ePrecio] = 0;
    EmpresaData[id][eTipo] = 0;
    EmpresaData[id][eMercancia] = 0;
    EmpresaData[id][eGanancias] = 0;
    EmpresaData[id][eComprada] = false;
    format(EmpresaData[id][eDuenio], MAX_PLAYER_NAME, "Nadie");

    // Si usas Iteradores (foreach), eliminamos el ID del iterador
    Iter_Remove(Empresas, id);

    new msg[128];
    format(msg, sizeof(msg), "Has borrado la empresa ID: %d (Entrada y Garaje).", id);
    SendFormatNotification(playerid, msg);
    return 1;
}


CMD:creargaraje(playerid, params[])
{
    new id;
    if(sscanf(params, "d", id)) return SendFormatNotification(playerid, "USO: /creargaraje [ID Empresa]");

    // Validamos que la empresa exista (opcional pero recomendado)
    if(id <= 0 || id >= MAX_EMPRESAS) return SendFormatNotification(playerid, "ID de empresa inválido.");

    new Float:x, Float:y, Float:z, Float:a;
    GetPlayerPos(playerid, x, y, z);
    GetPlayerFacingAngle(playerid, a); // Capturamos el ángulo hacia donde mira el admin
    
    // --- ACTUALIZACIÓN EN MEMORIA ---
    EmpresaData[id][eGX] = x; 
    EmpresaData[id][eGY] = y; 
    EmpresaData[id][eGZ] = z;
    EmpresaData[id][eGAngle] = a; // Guardamos el ángulo en la variable
    
    // --- ACTUALIZACIÓN EN ARCHIVO DINI ---
    new path[64];
    format(path, sizeof(path), "/Empresas/%d.ini", id);
    
    if(dini_Exists(path))
    {
        dini_FloatSet(path, "GX", x);
        dini_FloatSet(path, "GY", y);
        dini_FloatSet(path, "GZ", z);
        dini_FloatSet(path, "GAngle", a); // Guardamos el ángulo en el archivo .ini
        
        ActualizarEmpresaVisual(id);
        SendFormatNotification(playerid, "Garaje de la empresa configurado (Posición y Ángulo).");
    }
    else
    {
        SendFormatNotification(playerid, "Error: El archivo de la empresa no existe.");
    }
    return 1;
}


stock GetPlayerNameEx(playerid)
{
    new name[MAX_PLAYER_NAME];
    GetPlayerName(playerid, name, sizeof(name));
    
    // Opcional: Esto cambia el "Juan_Perez" por "Juan Perez" en los mensajes
    for(new i = 0; i < MAX_PLAYER_NAME; i++)
    {
        if(name[i] == '_') name[i] = ' ';
    }
    
    return name;
}

CMD:mercancia(playerid, params[])
{
    new id = GetPlayerEmpresaCerca(playerid);
    
    if(id == -1) return SendFormatNotification(playerid, "No estás cerca de ninguna empresa.");
    
    // Verificar si es el dueño
    if(strcmp(EmpresaData[id][eDuenio], GetPlayerNameEx(playerid)) != 0) {
        return SendFormatNotification(playerid, "No eres el dueño de esta empresa.");
    }

    new str[150];
    format(str, sizeof(str), "{FFFFFF}Empresa: {FFFF00}%d\n{FFFFFF}Stock Actual: {FFFF00}%d\n\n¿Deseas comprar {00FF00}50unidades {FFFFFF}de mercancía por {FF0000}200{FFFFFF}Materiales?", id, EmpresaData[id][eMercancia]);
    
    ShowPlayerDialog(playerid, DIALOG_COMPRAR_MERC, DIALOG_STYLE_MSGBOX, "Compra de Mercancía", str, "Comprar", "Cancelar");
    
    // Guardamos el ID de la empresa en una variable temporal del jugador
    SetPVarInt(playerid, "ComprandoMercID", id);
    return 1;
}


CMD:empresa(playerid, params[])
{
    for(new i = 1; i < MAX_EMPRESAS; i++)
    {
        if(IsPlayerInRangeOfPoint(playerid, 3.0, EmpresaData[i][eX], EmpresaData[i][eY], EmpresaData[i][eZ]))
        {
            if(strcmp(EmpresaData[i][eDuenio], "Nadie") == 0)
            {
                // --- NUEVO: Formato con el precio de la empresa ---
                new str[128];
                format(str, sizeof(str), ""WHITE"¿Deseas comprar esta empresa?\n\n"WHITE"Precio de venta: {00FF00}$%d", EmpresaData[i][ePrecio]);
                
                ShowPlayerDialog(playerid, DIALOG_COMPRAR_EMP, DIALOG_STYLE_MSGBOX, "{828282}[Comprar] {ffffff}  Empresa", str, "Si", "xNo");
                SetPVarInt(playerid, "EmpID", i);
            }
            else if(strcmp(EmpresaData[i][eDuenio], GetPlayerNameEx(playerid)) == 0)
            {
                new str[256]; // Aumentamos un poco el tamaño por seguridad
                format(str, sizeof(str), ""WHITE"Ganancias acumuladas: {00FF00}$%d\n"WHITE"Suministros (Mercancia): {828282}%d\n\n"WHITE"Opciones de dueño:\n {828282} /retirar\n  /mercancia\n  /venderempresa", EmpresaData[i][eGanancias], EmpresaData[i][eMercancia]);
                ShowPlayerDialog(playerid, 0, DIALOG_STYLE_MSGBOX, "{828282}[Gestion] {ffffff}  Empresa", str, "Cerrar", "");
            }
            return 1;
        }
    }
    return 1;
}

CMD:fabricas(playerid, params[])
{
    new str[1500], info[128]; // Ajusta el tamaño según el número de fábricas
    str = "{FFFFFF}ID\t{FFFFFF}Estado\t{FFFFFF}Dueco\t{FFFFFF}Valor\n"; // Encabezado de la lista (TABLIST_HEADERS)

    for(new i = 0; i < MAX_FABRICAS; i++)
    {
        // Solo mostrar fábricas que existan en la base de datos (ID válido)
        if(Fabricas[i][pID] == 0) continue; 

        if(Fabricas[i][pBanda] == 0) // En venta
        {
            format(info, sizeof(info), "{FFFFFF}%d\t{53FF00}En Venta\t{FFFFFF}$%d\t{BBBBBB}N/A\n", 
                Fabricas[i][pID], Fabricas[i][pValor]);
        }
        else // Con dueño
        {
            format(info, sizeof(info), "{FFFFFF}%d\t{FF0000}Ocupada\t{FFFFFF}%s\t{FFFFFF}%d{2ECC71}$\n", 
                Fabricas[i][pID], Fabricas[i][pPropietario], Fabricas[i][pCantidadDinero]);
        }
        strcat(str, info);
    }

    ShowPlayerDialog(playerid, 1198, DIALOG_STYLE_TABLIST_HEADERS, "{3BF1B3}[GPS] {ffffff}  Fabricas", str, "Ubicar", "xCerrar");
    return 1;
}


CMD:empresas(playerid, params[])
{
    new str[1024], info[128], tipo_nom[20], estado[32];
    str = ""WHITE"ID\t"WHITE"Tipo\t"WHITE"Estado\t"WHITE"Distancia\n"; // Encabezados para DIALOG_STYLE_TABLIST_HEADERS

    for(new i = 1; i < MAX_EMPRESAS; i++)
    {
        if(EmpresaData[i][eX] == 0.0) continue; // Saltamos los IDs vacíos

        // Traducir el tipo de empresa
        switch(EmpresaData[i][eTipo])
        {
            case 1: tipo_nom = "24/7";
            case 2: tipo_nom = "Transportista";
            case 3: tipo_nom = "Bomberos";
            case 4: tipo_nom = "Electricista";
            default: tipo_nom = "Desconocido";
        }

        // Determinar si está a la venta o el nombre del dueño
        if(strcmp(EmpresaData[i][eDuenio], "Nadie") == 0) {
            format(estado, sizeof(estado), ""WHITE"En Venta {00FF00}$%d", EmpresaData[i][ePrecio]);
        } else {
            format(estado, sizeof(estado), "{828282}%s", EmpresaData[i][eDuenio]);
        }

        // Calcular distancia
        new Float:dist = GetPlayerDistanceFromPoint(playerid, EmpresaData[i][eX], EmpresaData[i][eY], EmpresaData[i][eZ]);

        // Añadir línea a la lista (TABLIST permite columnas separadas por \t)
        format(info, sizeof(info), "%d\t%s\t%s\t{66c4e4}%.1f m\n", i, tipo_nom, estado, dist);
        strcat(str, info);
    }

    ShowPlayerDialog(playerid, DIALOG_LISTA_EMPRESAS, DIALOG_STYLE_TABLIST_HEADERS, "{3BF1B3}[GPS] {ffffff}  Empresas", str, "Ubicar", "xCerrar");
    return 1;
}

CMD:laboratorios(playerid, params[])
{
    if(Iter_Count(Laboratorios) == 0) 
        return SendNotification(playerid, "No hay laboratorios creados en el servidor.");

    new str[2500], line[150], Float:pPos[3];
    GetPlayerPos(playerid, pPos[0], pPos[1], pPos[2]);
    
    // Encabezados: ID | Dueño / Estado | Distancia
    strcat(str, "{FFFFFF}Laboratorio\t{FFFFFF}Estado\t{FFFFFF}Distancia\n");

    foreach(new i : Laboratorios)
    {
        new Float:dist = GetPlayerDistanceFromPoint(playerid, LI[i][l_PosX], LI[i][l_PosY], LI[i][l_PosZ]);
        new info_dueno[64];

        if(!LI[i][l_Comprado]) {
            format(info_dueno, sizeof(info_dueno), "{00FF00}En Venta ($%s)", number_format_thousand(LI[i][l_Precio]));
        } else {
            format(info_dueno, sizeof(info_dueno), "{FFFFFF}%s (%s{FFFFFF})", 
                LI[i][l_Owner], 
                (LI[i][l_Cerrado]) ? ("{FF0000}Cerrado") : ("{00FF00}Abierto")
            );
        }
        
        format(line, sizeof(line), "{FFFFFF}Laboratorio (%d)\t%s\t{66c4e4}%.1f m\n", i, info_dueno, dist);
        strcat(str, line);
    }

    ShowPlayerDialog(playerid, 16009, DIALOG_STYLE_TABLIST_HEADERS, "{3BF1B3}[GPS] {ffffff}  Laboratorios", str, "Ubicar", "xCerrar");
    return 1;
}

CMD:alquileres(playerid, params[])
{
    new count = 0, str[1500], line[128], Float:Pos[3];
    GetPlayerPos(playerid, Pos[0], Pos[1], Pos[2]);
    str[0] = '\0'; // Forma más eficiente de limpiar un string largo

    for(new i = 0; i < MAX_PUNTOS_ALQUILER; i++)
    {
        if(PuntosAlquiler[i][al_Creado])
        {
            // CORREGIDO: Tenías una [i] de más aquí
            new Float:distancia = GetPlayerDistanceFromPoint(playerid, PuntosAlquiler[i][al_X], PuntosAlquiler[i][al_Y], PuntosAlquiler[i][al_Z]);
            
            format(line, sizeof(line), "{FFFFFF}ID: %d {FFFFFF} Apartamento {AAAAAA}Residencial {66c4e4}%.1f m\n", i, distancia);
            strcat(str, line);
            count++;
        }
    }

    if(count == 0) return SendNotification(playerid, "No hay puntos de alquiler disponibles.");

    ShowPlayerDialog(playerid, 978, DIALOG_STYLE_LIST, "{3BF1B3}[GPS] {ffffff} Alquileres", str, "Ubicar", "xCerrar");
    return 1;
}

CMD:apartamento(playerid, params[])
{
    if(APA[playerid][pi_AptoID] == -1) 
        return SendNotification(playerid, "No tienes ningún apartamento alquilado.");

    new id = APA[playerid][pi_AptoID];
    new Float:distancia = GetPlayerDistanceFromPoint(playerid, PuntosAlquiler[id][al_X], PuntosAlquiler[id][al_Y], PuntosAlquiler[id][al_Z]);
    
    // --- CÁLCULO DE TIEMPO RESTANTE ---
    new tiempo_restante = APA[playerid][pi_AptoTiempo] - gettime();
    new dias = tiempo_restante / 86400;
    new horas = (tiempo_restante % 86400) / 3600;
    new minutos = (tiempo_restante % 3600) / 60;
    
    new info[500], tiempo_str[128];
    
    if(tiempo_restante > 0) {
        format(tiempo_str, sizeof(tiempo_str), "{FFFFFF}%d días, %d horas y %d min.", dias, horas, minutos);
    } else {
        format(tiempo_str, sizeof(tiempo_str), "{FF0000}Expirado (Pendiente de desalojo)");
    }
    // ----------------------------------

    format(info, sizeof(info), 
        "{FFFFFF}Información de tu contrato:\n\n"\
        "{7BB4FF} ID de Edificio: {FFFFFF}%d\n"\
        "{7BB4FF} Ubicación: {FFFFFF}Entrada del Apartamento\n"\
        "{7BB4FF} Distancia actual: {FFFF00}%.1f metros\n"\
        "{7BB4FF} Tiempo restante: %s\n\n"\
        "{828282}¿Deseas marcar la ubicación en el GPS?", 
        id, distancia, tiempo_str);

    ShowPlayerDialog(playerid, 979, DIALOG_STYLE_MSGBOX, "{3BF1B3}[GPS] {ffffff} Apartamento", info, "Ubicar", "xCerrar");
    return 1;
}


CMD:negocios(playerid, params[])
{
    new str_lista[2000], fila[128], Float:distancia, Float:px, Float:py, Float:pz;
    GetPlayerPos(playerid, px, py, pz);
    
    // 1. Agregamos "Dueño / Estado" al encabezado
    strcat(str_lista, "{FFFFFF}Negocio\t{FFFFFF}Estado\t{FFFFFF}Distancia\n");

    for(new i = 0; i < MAX_NEGOCIOS; i++)
    {
        if(NI[i][n_EntradaX] == 0.0) continue;

        distancia = GetPlayerDistanceFromPoint(playerid, NI[i][n_EntradaX], NI[i][n_EntradaY], NI[i][n_EntradaZ]);
        
        // 2. Lógica para el nombre del dueño
        new estado_owner[MAX_PLAYER_NAME + 15]; // Espacio para el nombre y el color
        if(NI[i][n_Comprado] == false) {
            format(estado_owner, sizeof(estado_owner), "{00FF00}En Venta");
        } else {
            // Si tiene dueño, mostramos el nombre guardado en n_Owner
            format(estado_owner, sizeof(estado_owner), "{FF4B4B}%s", NI[i][n_Owner]);
        }

        format(fila, sizeof(fila), "{FFFFFF}%s\t%s\t{66c4e4}%.2f km\n", 
            (NI[i][n_Tipo] == 0 ? "24/7" : NI[i][n_Tipo] == 1 ? "Restaurante" : NI[i][n_Tipo] == 2 ? "Ammu-Nation" : "Bar"),
            estado_owner,
            (distancia / 1000) 
        );
        strcat(str_lista, fila);
    }

    if(strlen(str_lista) < 50) return SendClientMessage(playerid, -1, "No hay negocios registrados en el servidor.");

    ShowPlayerDialog(playerid, 15901, DIALOG_STYLE_TABLIST_HEADERS, "{3BF1B3}[GPS] {ffffff}  Negocios", str_lista, "Ubicar", "xCerrar");
    return 1;
}




CMD:venderempresa(playerid, params[])
{
    new id = -1;
    
    // 1. BUSCAMOS LA EMPRESA DONDE ESTÁ EL JUGADOR
    for(new i = 1; i < MAX_EMPRESAS; i++)
    {
        if(EmpresaData[i][eX] == 0.0) continue;
        
        if(IsPlayerInRangeOfPoint(playerid, 3.5, EmpresaData[i][eX], EmpresaData[i][eY], EmpresaData[i][eZ]))
        {
            // Verificamos que sea el dueño (o un administrador)
            if(strcmp(EmpresaData[i][eDuenio], GetPlayerNameEx(playerid)) == 0)
            {
                id = i;
                break;
            }
        }
    }

    if(id == -1) return SendFormatNotification(playerid, "No estás en la entrada de una empresa que te pertenezca.");

    // 2. CÁLCULO DE REEMBOLSO (50%)
    new reembolso = EmpresaData[id][ePrecio] / 2;
    SetPlayerCashX(playerid, reembolso); // Le damos la mitad del dinero

    // 3. RESETEAR DATOS DE PROPIEDAD
    format(EmpresaData[id][eDuenio], MAX_PLAYER_NAME, "Nadie");
    EmpresaData[id][eComprada] = false;
    EmpresaData[id][eGanancias] = 0;

    // 4. ACTUALIZAR TEXTO 3D VISUAL
    if(IsValidDynamic3DTextLabel(EmpresaData[id][eText])) 
    {
        new string[200], tipo_nom[32];
        switch(EmpresaData[id][eTipo])
        {
            case 1: tipo_nom = "24/7";
            case 2: tipo_nom = "Transportista";
            case 3: tipo_nom = "Bomberos";
            case 4: tipo_nom = "Electricista";
            default: tipo_nom = "Negocio";
        }
        
        new tipo[32];
        
        if(EmpresaData[id][eTipo] == 1) tipo = "Mercancía (24/7)";
        else if(EmpresaData[id][eTipo] == 2) tipo = "Mineria (Piedras)"; 
        else if(EmpresaData[id][eTipo] == 3) tipo = "Incendios (Bombero)";
        
        format(string, sizeof(string), "{00FF00}[ EMPRESA EN VENTA ]\n{FFFFFF}ID: {FFFF00}%d\n{FFFFFF}Tipo: {FFFF00}%s\n{FFFFFF}Precio: {00FF00}$%d\n{FFFFFF}Mercancía: {FFFF00}%d\n{FFFFFF}Ganancias : {00ff00}$%d\n{FFFFFF}Usa {33CCFF}/empresa {FFFFFF}para comprar", 
            id, tipo, EmpresaData[id][ePrecio], EmpresaData[id][eMercancia], EmpresaData[id][eGanancias]);
            
        UpdateDynamic3DTextLabelText(EmpresaData[id][eText], -1, string);
    }

    // 5. GUARDADO EN ARCHIVO .INI (Usando Dini como en tus otros comandos)
    new path[64];
    format(path, sizeof(path), "/Empresas/%d.ini", id);
    if(fexist(path))
    {
        dini_Set(path, "Duenio", "Nadie");
        dini_IntSet(path, "Ganancias", 0);
        dini_IntSet(path, "Comprada", 0);
    }

    // 6. MENSAJE FINAL
    new msg[128];
    format(msg, sizeof(msg), "Has vendido la empresa por ~g~$%d ~w~(50%) del valor original).", reembolso);
    SendFormatNotification(playerid, msg);
    
    // Actualizamos visuales generales (Labels/Pickups)
    ActualizarEmpresaVisual(id); 
    return 1;
}



CMD:retirar(playerid, params[])
{
    // Lógica para sacar dinero de las ganancias a tu bolsillo
    new id = GetPlayerEmpresaCerca(playerid);
    if(id == -1) return 1;
    if(strcmp(EmpresaData[id][eDuenio], GetPlayerNameEx(playerid)) != 0) return 1;
    
    // Guardamos la cantidad que va a retirar para verificar el logro
    new montoRetirado = EmpresaData[id][eGanancias];

    if(montoRetirado <= 0) return SendNotification(playerid, "No hay ganancias para retirar.");

    SetPlayerCashX(playerid, montoRetirado);
    EmpresaData[id][eGanancias] = 0;
    GuardarEmpresa(id);
    ActualizarEmpresaVisual(id);
    SendFormatNotification(playerid, "Has retirado ~g~$%d ~w~en ganancias.", montoRetirado);

    // --- LOGRO GANANCIAS (Si retira más de 50,000) ---
    if(montoRetirado >= 50000)
    {
        OtorgarLogro(playerid, 9); // Cambia el 14 por el ID real de tu lista
    }

    return 1;
}


CMD:retar(playerid, params[]) 
{
    new targetid, bet_amount;
    
    // 1. Chequeo de parámetros (sscanf)
    if (sscanf(params, "ui", targetid, bet_amount)) {
        return SendFormatNotification(playerid, "/retar ~r~[ID] [Apuesta]");
    }

    // 2. Validación de IDs
    if (playerid == targetid) {
        return SendFormatNotification(playerid, "No puedes retarte a ti mismo.");
    }

    // 2.1 Chequeo de conexión y validez
    if (targetid < 0 || targetid >= MAX_PLAYERS || !IsPlayerConnected(targetid)) {
        return SendFormatNotification(playerid, "El ID retado no es válido o no está conectado.");
    }

    // --- Chequeo de vehiculos ---
    if (!IsPlayerInAnyVehicle(playerid)) {
        return SendFormatNotification(playerid, "Debes estar dentro de un vehiculo para retar a alguien.");
    }

    if (!IsPlayerInAnyVehicle(targetid)) {
        return SendFormatNotification(playerid, "El jugador que intentas retar no está dentro de un vehiculo.");
    }
    
    // 3. Chequeo de estado de carrera
    if (IsPlayerInRace[playerid] || IsPlayerInRace[targetid]) {
        return SendFormatNotification(playerid, "Tú o el otro jugador ya está en una carrera.");
    }
    
    // 4. Chequeo de apuesta y dinero
    if (bet_amount < 100) { 
        return SendFormatNotification(playerid, "La apuesta mínima es de $100.");
    }
    
    if (GetPlayerCash(playerid) < bet_amount || GetPlayerCash(targetid) < bet_amount) {
        return SendFormatNotification(playerid, "Ambos jugadores necesitan tener la cantidad de la apuesta.");
    }
    
    // 5. Chequeo de zona
    if (GetPlayerDistanceFromPoint(playerid, CMD_AREA_X, CMD_AREA_Y, CMD_AREA_Z) > CMD_AREA_RANGE) {
        return SendFormatNotification(playerid, "Debes estar cerca del punto de inicio de carreras para retar.");
    }

    // 6. Almacenar el desafío (Variables seguras)
    RaceState[0][race_PLAYER1] = playerid;
    RaceState[0][race_PLAYER2] = targetid;
    RaceState[0][race_BET] = bet_amount;
    RaceState[0][race_ACTIVE] = 0; 

    // 7. Diálogo de aceptación (FORMATO PERSONALIZADO)
    new sender_name[MAX_PLAYER_NAME], dialog_text[128];
    GetPlayerName(playerid, sender_name, sizeof(sender_name));

    format(dialog_text, sizeof(dialog_text), ""WHITE"%s te esta retando a una carrera apuesta %s{00FF00}$", 
        sender_name, 
        number_format_thousand(bet_amount)
    );
    
    ShowPlayerDialog(targetid, DIALOG_RACE_ACCEPT, DIALOG_STYLE_MSGBOX, "{828282}[Desafio] {ffffff}  Carrera", dialog_text, "Aceptar", "xRechazar");

    SendFormatNotification(playerid, "Desafío enviado. Esperando respuesta...");
    return 1;
}

CMD:sloteria(playerid, params[])
{
    if(PI[playerid][pi_ADMIN_LEVEL] < 3) return 0;
    // --- 1. VERIFICACIÓN DE ADMINISTRADOR ---
    // ASEGÚRATE DE CAMBIAR "IsPlayerAdmin" POR LA FUNCIÓN QUE USAS PARA VERIFICAR EL NIVEL DE ADMIN

    // --- 2. VERIFICACIÓN DE ESTADO ---
    if (LotteryActive)
    {
        SendFormatNotification(playerid, "Ya hay un sorteo activo. Espera a que termine.");
        return 1;
    }
    
    // --- 3. INICIO RÁPIDO DEL SORTEO ---
    
    // Si ya existe un número ganador de la ronda anterior, lo reseteamos.
    WinningNumber = -1; 
    
    // Forzamos el inicio del sorteo
    StartLottery(); 

    // Mensaje de confirmación al administrador
    SendFormatNotification(playerid, "¡Sorteo de Twitter iniciado inmediatamente!");

    return 1;
}

// **Asegúrate de que la función "IsPlayerAdmin" exista y devuelva verdadero si el jugador es Admin.**


CMD:top(playerid, params[])
{
    MostrarTopRicos(playerid);
    return 1;
}

CMD:gemas(playerid, params[])
{
    MostrarTopRicosGemas(playerid);
    return 1;
}

CMD:kills(playerid, params[])
{
    MostrarTopRicosKills(playerid);
    return 1;
}


CMD:manoxd(playerid)
{
    if(PI[playerid][pi_MANO_DER] == 0){SendClientMessage(playerid, -1, "¡Tu mano derecha esta vacia!"); PlayerPlaySound(playerid,1085,0.0,0.0,0.0); return 1;}
	ShowDialog(playerid, DIALOG_BOLM);
	return 1;
}

CMD:actividades(playerid)
{
	ShowDialog(playerid, DIALOG_ACTIVIDADES);
	return 1;
}
alias:actividades("act");

CMD:caite(playerid, params[])
{
    if(GetPlayerState(playerid) != PLAYER_STATE_ONFOOT) return 1;
    SetTimerEx("Caida", 1000, false, "d", playerid);
	return 1;
}

CMD:savex(playerid,params[])
{
	new Float:Pos[4], string[555];
	GetPlayerPos(playerid, Pos[0], Pos[1], Pos[2]);
	GetPlayerFacingAngle(playerid, Pos[3]);
	format(string, sizeof(string), "Cordenada: X:%f, Y:%f, Z:%f, R:%f", Pos[0], Pos[1], Pos[2], Pos[3]);
	SendClientMessage(playerid, -1, string);
	return 1;
}

CMD:ad(playerid,params[])
{
	new anuncio[75];
	if(strlen(params) >= 74) return SendNotification(playerid, "Anuncio muy largo.");
	if(sscanf(params,"s[75]",anuncio)) return SendNotification(playerid, "usa /ad texto");
	new string[200];
	if(PI[playerid][pi_MUTE] > gettime())
	{
		new seconds = PI[playerid][pi_MUTE] - gettime();
		SendFormatNotification(playerid, "Estas silenciado en el canal de anuncios por %s minutos, evita mal usar.", TimeConvert(seconds));
		return 1;
	}
	
	if (!PI[playerid][pi_ADMIN_LEVEL])
	{
		if (gettime() < PLAYER_TEMP[playerid][pt_GLOBAL_CHANNEL_TIME] + 20)
		{
			new time = (20-(gettime()-PLAYER_TEMP[playerid][pt_GLOBAL_CHANNEL_TIME]));
			SendClientMessageEx(playerid, -1, "{cccccc}Tienes que esperar %s minutos para usar este canal.", TimeConvert(time));
			return 1;
		}
	}
	
	for(new a; a < NA-1; a++)
	{
	    if(strlen(Anunciox[a+1][Texto]) > 0)
	    {
			format(Anunciox[a][Texto],75,"%s",Anunciox[a+1][Texto]);
			format(string,sizeof(string),"~w~ %s ~g~Movil: %d", Anunciox[a][Texto], PI[playerid][pi_PHONE_NUMBER]);
			TextDrawSetString(TextDrawx[a],string);
			TextDrawShowForAll(TextDrawx[a]);
		}
	}
	Anunciox[NA-1][Texto] = anuncio;
	format(string,sizeof(string),"~w~ %s ~g~Movil: %d", anuncio, PI[playerid][pi_PHONE_NUMBER]);
	TextDrawSetString(TextDrawx[NA-1],string);
	TextDrawShowForAll(TextDrawx[NA-1]);
	PLAYER_TEMP[playerid][pt_GLOBAL_CHANNEL_TIME] = gettime();
	return true;
}

CMD:resetanuncios(playerid,params[])
{
	if(PI[playerid][pi_ADMIN_LEVEL] < 4) return ShowPlayerMessage(playerid, "~w~No estás autorizado para utilizar este comando, ~y~[Solo Administradores]", 2);
	for(new a; a < NA; a++)
	{
	    if(strlen(Anunciox[a][Texto]) > 0)
	    {
	    	format(Anunciox[a][Texto],35,"");
	    	TextDrawHideForAll(TextDrawx[a]);
		}
	}
	return true;
}

forward Timers();
public Timers()
{
	for(new i, j = GetPlayerPoolSize(); i <= j; i++)
	{
	    if(IsPlayerConnected(i) && TiempoAnuncio[i] > 0) TiempoAnuncio[i] --;
	}
	return true;
}

CMD:desbug(playerid)
{
	SetPlayerToys(playerid);
	return 1;
}

CMD:debug(playerid)
{
	RemovePlayerAttachedObject(playerid, 8);
	return 1;
}

CMD:recargar(playerid)
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return SendNotification(playerid, "Ahora no puedes usar este comando.");
	new string[124], EncontreCargador; EncontreCargador = 0;
	ActualizarManos(playerid);
	new Mano = PI[playerid][pi_MANO_DER];
	if(GetPlayerArma(playerid))
	{
		if(EncontreCargador == 0)
		{
			for(new x = 0; x < MAX_SLOTS_INV; x++) {
				if(PI[playerid][pi_BOL][x] == GetPlayerCargadorID(playerid)) {
					EncontreCargador = 1;
					PLAYER_AC_INFO[playerid][CHEAT_WEAPON][p_ac_info_IMMUNITY] = gettime() + 2;
				   	format(string, sizeof(string), "cargas tu arma con %d balas y está lista para ser usada de nuevo", PI[playerid][pi_BOL_CANT][x]);
			        Auto_SendPlayerAction(playerid, string);
					ResetPlayerWeapons(playerid);
					GivePlayerWeapon(playerid, ObjetoInfo[Mano][IDArma], PI[playerid][pi_BOL_CANT][x]);
				 	PI[playerid][pi_DER_CANT] = PI[playerid][pi_BOL_CANT][x];
				 	ActualizarManos(playerid);
				 	PI[playerid][pi_BOL][x] = 0;
				 	PI[playerid][pi_BOL_CANT][x] = 0;
				    AnimCargador(playerid);
				    return 1;
				}
			}
			if(EncontreCargador == 0) { SendNotification(playerid, "No tienes mas cargadores para el arma en bolsillos"); return 1; }
		}
	}
	return 1;
}
alias:recargar("re");

CMD:pati3(playerid)
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return SendNotification(playerid, "Ahora no puedes usar este comando.");
	ApplyAnimation(playerid,"SKATE","skate_idle",4.0,1,1,1,1,500,1);
	SendNotification(playerid, "Para cancelar la animacion utiliza /parar.");
	return 1;
}

CMD:lsall(playerid)
{
	new Float:x = 0.0;
	for(new i=0, j = GetPlayerPoolSize(); i <= j; ++i)
	{
		if(IsPlayerConnected(i) || i != INVALID_PLAYER_ID)
		{
			PI[i][pi_STATE] = ROLEPLAY_STATE_NORMAL;
			PI[i][pi_LOCAL_INTERIOR] = 0;
			PLAYER_TEMP[i][pt_INTERIOR_INDEX] = -1;
			PI[i][pi_INTERIOR] = 0;
			PI[i][pi_POLICE_JAIL_TIME] = 0;
    		SetPlayerPosEx(i, 1555.400390 + x, -1675.611694, 16.195312, 0.0, 0, 0, true);
    		x+= 0.5;
		}
	}
	x = 0.0;
	return 1;
}

CMD:sexo(playerid,params[]) 
{
    new sexstyle;
    if(sscanf(params, "d", sexstyle)) return SendClientMessage(playerid, -1, "USA: /sexo [1-20]");
	switch(sexstyle)
	{
		case 1: ApplyAnimation(playerid,"BLOWJOBZ","BJ_COUCH_START_P",4.1,0,1,1,1,1,1);
		case 2: ApplyAnimation(playerid,"BLOWJOBZ","BJ_COUCH_START_W",4.1,0,1,1,1,1,1);
		case 3: ApplyAnimation(playerid,"BLOWJOBZ","BJ_COUCH_LOOP_P",4.1,0,1,1,1,1,1);
		case 4: ApplyAnimation(playerid,"BLOWJOBZ","BJ_COUCH_LOOP_W",4.1,0,1,1,1,1,1);
		case 5: ApplyAnimation(playerid,"BLOWJOBZ","BJ_COUCH_END_P",4.1,0,1,1,1,1,1);
		case 6: ApplyAnimation(playerid,"BLOWJOBZ","BJ_COUCH_END_W",4.1,0,1,1,1,1,1);
		case 7: ApplyAnimation(playerid,"BLOWJOBZ","BJ_STAND_START_P",4.1,0,1,1,1,1,1);
		case 8: ApplyAnimation(playerid,"BLOWJOBZ","BJ_STAND_START_W",4.1,0,1,1,1,1,1);
		case 9: ApplyAnimation(playerid,"BLOWJOBZ","BJ_STAND_LOOP_P",4.1,0,1,1,1,1,1);
		case 10: ApplyAnimation(playerid,"BLOWJOBZ","BJ_STAND_LOOP_W",4.1,0,1,1,1,1,1);
		case 11: ApplyAnimation(playerid,"BLOWJOBZ","BJ_STAND_END_P",4.1,0,1,1,1,1,1);
		case 12: ApplyAnimation(playerid,"BLOWJOBZ","BJ_STAND_END_W",4.1,0,1,1,1,1,1);
		case 13: ApplyAnimation(playerid,"SNM","SPANKING_IDLEW",4.0, 0, 1, 1, 1, 1,1);
		case 14: ApplyAnimation(playerid, "SNM","SPANKING_IDLEP", 4.0, 1, 1, 1, 1, 1,1);
		case 15: ApplyAnimation(playerid, "SNM","SPANKINGW", 4.0, 1, 1, 1, 1, 1,1);
		case 16: ApplyAnimation(playerid, "SNM","SPANKINGP", 4.0, 1, 1, 1, 1, 1,1);
		case 17: ApplyAnimation(playerid, "SNM","SPANKEDW", 4.0, 1, 1, 1, 1, 1,1);
		case 18: ApplyAnimation(playerid, "SNM","SPANKEDP", 4.0, 1, 1, 1, 1, 1,1);
		case 19: ApplyAnimation(playerid, "SNM","SPANKING_ENDW", 4.0, 1, 1, 1, 1, 1,1);
		case 20: ApplyAnimation(playerid, "SNM","SPANKING_ENDP", 4.0, 1, 1, 1, 1, 1,1);
		default: return SendClientMessage(playerid,-1,"USA: /sexo [1-20]");
	}
	return 1;
}

CMD:freezeall(playerid, params[])
{
  SendClientMessageEx(playerid, -1, "Todos los jugadores fueron congelados");
  for(new i = 0; i < MAX_PLAYERS; i++)
  {
    TogglePlayerControllableEx(i, false);
  }

  return 1;
}


CMD:noticia(playerid, params[])
{
	new l_szNews[144 + 1];
	if(PI[playerid][pi_ADMIN_LEVEL] < 4) return SendClientMessageEx(playerid, -1, "{D50000}» {FFFFFF}Comando introducido incorrecto usa el comando {66c4e4}/ayuda.");
	//if(!PLAYER_WORKS[playerid][WORK_NEWS][pwork_SET]) return ShowPlayerNotification(playerid, 3000, "No eres ~r~reportero.");
	if(sscanf(params, "s[144]", l_szNews)) return SendNotification(playerid, "Debes usar /noticia !TEXTO");

	new l_szFormatString[144];
	format(l_szFormatString, sizeof l_szFormatString, "{FFD666}[NOTICIAS] {C8C8C8}(%s): {FFFFFF}%s", PLAYER_TEMP[playerid][pt_RP_NAME], l_szNews);
	SendClientMessageToAll(-1, l_szFormatString);
	return 1;
}


CMD:rarma(playerid, params[])
{
    Auto_SendPlayerAction(playerid, "Saca su arma rapidamente, Acto seguido recarga rapidamente, Sonaria.");

    new str_text[190];
    format(str_text, sizeof(str_text), "* %s (( ..::CLICK CLACK::.. Sonaria, Acto seguido recarga, Arma lista para su uso. ))", PLAYER_TEMP[playerid][pt_RP_NAME]);
	ProxDetector(playerid, 15.0, str_text, 0xADFF2FAA, 0xADFF2FAA, 0xADFF2FAA, 0xADFF2FAA, 0xADFF2FAA, 85);
	SetPlayerChatBubble(playerid, str_text, 0xADFF2FAA, 10.0, 15000);
	PLAYER_TEMP[playerid][pt_DO] = 1;
	PLAYER_TEMP[playerid][pt_ROL] = 1;
	return 1;
}

CMD:r1(playerid, params[])
{
    Auto_SendPlayerAction(playerid, "Saca su arma rapidamente, Acto seguido recarga rapidamente, Sonaria.");

    new str_text[190];
    format(str_text, sizeof(str_text), "* %s (( ..::CLICK CLACK::.. Sonaria, Acto seguido recarga, Arma lista para su uso. ))", PLAYER_TEMP[playerid][pt_RP_NAME]);
	ProxDetector(playerid, 15.0, str_text, 0xADFF2FAA, 0xADFF2FAA, 0xADFF2FAA, 0xADFF2FAA, 0xADFF2FAA, 85);
	SetPlayerChatBubble(playerid, str_text, 0xADFF2FAA, 10.0, 15000);
	PLAYER_TEMP[playerid][pt_DO] = 1;
	PLAYER_TEMP[playerid][pt_ROL] = 1;
	return 1;
}

CMD:rol(playerid, params[])
{
    Auto_SendPlayerAction(playerid, "Saca su arma rapidamente, Acto seguido recarga rapidamente, Sonaria.");

    new str_text[190];
    format(str_text, sizeof(str_text), "* %s (( ..::CLICK CLACK::.. Sonaria, Acto seguido recarga, Arma lista para su uso. ))", PLAYER_TEMP[playerid][pt_RP_NAME]);
	ProxDetector(playerid, 15.0, str_text, 0xADFF2FAA, 0xADFF2FAA, 0xADFF2FAA, 0xADFF2FAA, 0xADFF2FAA, 85);
	SetPlayerChatBubble(playerid, str_text, 0xADFF2FAA, 15.0, 15000);
	PLAYER_TEMP[playerid][pt_DO] = 1;
	PLAYER_TEMP[playerid][pt_ROL] = 1;
	return 1;
}

CMD:patrulla(playerid, params[])
{
    Auto_SendPlayerAction(playerid, "Estira su dos manos y abre la puerta de la patrulla rapidamente [Acto Seguido]");

    new str_text[190];
    format(str_text, sizeof(str_text), "* %s (( Puertas abiertas correctamente. ))", PLAYER_TEMP[playerid][pt_RP_NAME]);
	ProxDetector(playerid, 15.0, str_text, 0xADFF2FAA, 0xADFF2FAA, 0xADFF2FAA, 0xADFF2FAA, 0xADFF2FAA, 85);
	PLAYER_TEMP[playerid][pt_DO] = 1;
	return 1;
}

CMD:esposas(playerid, params[])
{
    Auto_SendPlayerAction(playerid, "Estira Su Mano Derecha Y Saca Sus Esposas Del Bolsillo Rapidamente");

    new str_text[190];
    format(str_text, sizeof(str_text), "* %s (( Esposas Sacadas correctamente. ))", PLAYER_TEMP[playerid][pt_RP_NAME]);
	ProxDetector(playerid, 15.0, str_text, 0xADFF2FAA, 0xADFF2FAA, 0xADFF2FAA, 0xADFF2FAA, 0xADFF2FAA, 85);
	PLAYER_TEMP[playerid][pt_DO] = 1;
	return 1;
}

CMD:explode(playerid, params[])
{
	static Float:X;
    static Float:Y;
    static Float:Z;
    new to_player;
    if(sscanf(params, "u", to_player)) return SendClientMessage(playerid, -1, "Syntax: /explode <player_id>");
    if(!IsPlayerConnected(to_player)) return SendClientMessage(playerid, -1, "Jugador desconectado");

	PI[to_player][pi_STATE] = ROLEPLAY_STATE_NORMAL;
	PLAYER_TEMP[to_player][pt_INTERIOR_INDEX] = 0;
	PI[to_player][pi_INTERIOR] = 0;
	PI[to_player][pi_POLICE_JAIL_TIME] = 0;
	GetPlayerPos(to_player, X, Y, Z);
	CreateExplosion( X, Y, Z, 7, 10.0);
	SendClientMessageEx(playerid, -1, "Jugador '%s (%d)' fue explotado.", PI[to_player][pi_NAME], to_player);
    return 1;
}

CMD:ufr(playerid, params[])
{
  SendClientMessageEx(playerid, -1, "Todos los jugadores fueron descongelados");
  for(new i = 0; i < MAX_PLAYERS; i++)
  {
    TogglePlayerControllableEx(i, true);
  }

  return 1;
}

CMD:stopall(playerid, params[])
{
	for(new i = 0; i < MAX_PLAYERS; i++)
	{
		StopAudioStreamForPlayer(i);
	}
	return 1;
}

CMD:acento(playerid)
{
	PLAYER_TEMP[playerid][pt_DIALOG_RESPONDED] = false;
	PLAYER_TEMP[playerid][pt_DIALOG_ID] = DIALOG_ACENTOS;
	ShowPlayerDialog(playerid, DIALOG_ACENTOS, DIALOG_STYLE_LIST, "Escoge tu acento", "Britanico\nJapones\nAsiatico\nVenezolano\nPeruano\nRuso\nAmericano\nEspañol\nColombiano\nEcuatoriano\nFrances\nItaliano\nGangster\nUruguayo\nBrasilero\nArgentino\nChileno\nCubano\nIsraeli\nAleman\nHippie\nMexicano\nArabe\nNoruego\nAustraliano", "Seleccionar", "»Cancelar");
	return 1;
}

CMD:muteart(playerid, params[])
{
    new to_player, reason[128], time;
    if(sscanf(params, "uds[128]", to_player, time, reason)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /muteard <player_id> <minutos> <razón>", 2);
	if(time < 0 || time > 1440) return ShowPlayerMessage(playerid, "Intervalo de minutos incorrecto.", 2);
    if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);
    if(PI[to_player][pi_ADMIN_LEVEL] > PI[playerid][pi_ADMIN_LEVEL]) return ShowPlayerMessage(playerid, "El rango administrativo de este jugador es superior al tuyo.", 2);
	if(gettime() < PI[to_player][pi_MUTE_TWITTER]) return ShowPlayerMessage(playerid, "El jugador ya está muteado.", 2);

	new seconds = time * 60;
	PI[to_player][pi_MUTE_TWITTER] = gettime() + seconds;
	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET mute = %d WHERE id = %d;", PI[to_player][pi_MUTE_TWITTER], PI[to_player][pi_ID]);
	mysql_tquery(srp_db, QUERY_BUFFER);
	SendClientMessageEx(to_player, -1, "Has sido silenciado del canal de Twitter por %d minutos, razón: %s", time, reason);
	new player_version[32];
	GetPlayerVersion(to_player, player_version, sizeof player_version);
	new str[265];
	switch(PI[playerid][pi_ADMIN_LEVEL])
	 {

			case 1: format(str, 265, "{0021ff}[MUTE] "WHITE"%s (%d) | "WHITE"%s {ff8000}[%s] {FFFfFF}| razón: %s | Minutos : [%s]", PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, TimeConvert(time * 60));
			case 2: format(str, 265, "{0021ff}[MUTE] "WHITE"%s (%d) | "WHITE"%s {0000ff}[%s] {FFFfFF}| razón: %s | Minutos : [%s]", PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, TimeConvert(time * 60));
			case 3: format(str, 265, "{0021ff}[MUTE] "WHITE"%s (%d) | "WHITE"%s {008f39}[%s] {FFFfFF}| razón: %s | Minutos : [%s]", PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, TimeConvert(time * 60));
			case 4: format(str, 265, "{0021ff}[MUTE] "WHITE"%s (%d) | "WHITE"%s {ff0000}[%s] {FFFfFF}| razón: %s | Minutos : [%s]", PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, TimeConvert(time * 60));
			case 5: format(str, 265, "{0021ff}[MUTE] "WHITE"%s (%d) | "WHITE"%s {ff4a00}[%s] {FFFfFF}| razón: %s | Minutos : [%s]", PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, TimeConvert(time * 60));
			case 6: format(str, 265, "{0021ff}[MUTE] "WHITE"%s (%d) | "WHITE"%s {ff4a00}[%s] {FFFfFF}| razón: %s | Minutos : [%s]", PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, TimeConvert(time * 60));
			case 7: format(str, 265, "{0021ff}[MUTE] "WHITE"%s (%d) | "WHITE"%s {ff4a00}[%s] {FFFfFF}| razón: %s | Minutos : [%s]", PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, TimeConvert(time * 60));
			case 8: format(str, 265, "{0021ff}[MUTE] "WHITE"%s (%d) | "WHITE"%s {ff4a00}[%s] {FFFfFF}| razón: %s | Minutos : [%s]", PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, TimeConvert(time * 60));
			case 9: format(str, 265, "{0021ff}[MUTE] "WHITE"%s (%d) | "WHITE"%s {ff4a00}[%s] {FFFfFF}| razón: %s | Minutos : [%s]", PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, TimeConvert(time * 60));
			case 10: format(str, 265, "{0021ff}[MUTE] "WHITE"%s (%d) | "WHITE"%s {ff4a00}[%s] {FFFfFF}| razón: %s | Minutos : [%s]", PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, TimeConvert(time * 60));

	}
	SendAdminAd(-1, str);
    ShowPlayerMessage(playerid, "Acabas de recibir $1500 por el mut/sanción.", 2);
    GivePlayerCash(playerid, 1500);
	return 1;
}	

CMD:desmuteart(playerid, params[])
{
    new to_player;
    if(sscanf(params, "u", to_player)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /desmuteard <player_id>", 2);
    if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);

	if(gettime() > PI[to_player][pi_MUTE_TWITTER]) return ShowPlayerMessage(playerid, "Este jugador no está silenciado.", 2);

	PI[to_player][pi_MUTE_TWITTER] = 0;
	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET mute = %d WHERE id = %d;", PI[to_player][pi_MUTE_TWITTER], PI[to_player][pi_ID]);
	mysql_tquery(srp_db, QUERY_BUFFER);
	SendClientMessage(to_player, -1, "Ya puedes volver a enviar dudas.");

	SendFormatNotification(playerid, "Jugador %s (%d) ha sido des-silenciado.", PI[to_player][pi_NAME], to_player);
	return 1;
}

new bool:twAvalible = true;
/*CMD:t(playerid, params[])
{
	new text[300 + 1], str[400 + 1], string2[144 + 1],SkinID[99]; 

	if(!PI[playerid][pi_TWITTER_CHANNEL]) return ShowPlayerMessage(playerid, "Para enviar un mensaje en Twitter primero activalo con ~g~/te", 2);
	if(!PI[playerid][pi_PHONE_NUMBER])
	{
		ShowPlayerMessage(playerid, "No tienes ningún teléfono, puedes ir a cualquier Oxxo para comprar uno.", 2);
		return 1;
	}
	if(!twAvalible) return ShowPlayerMessage(playerid, "Error:~r~ el comando está ~y~deshabilitado", 2);

	if(PI[playerid][pi_MUTE_TWITTER] > gettime())
	{
		new seconds = PI[playerid][pi_MUTE_TWITTER] - gettime();
		SendFormatNotification(playerid, "Estás silenciado en el canal de Twitter por %s minutos.", TimeConvert(seconds));
		return 1;
	}

	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return ShowPlayerMessage(playerid, "Ahora no puedes usar este comando.", 2);
	if(sscanf(params, "s[128]", text)) return ShowPlayerMessage(playerid, "~r~Sintaxis: Usa /t [texto]", 2);
	if (!PI[playerid][pi_ADMIN_LEVEL])
	{
		if (gettime() < PLAYER_TEMP[playerid][pt_GLOBAL_CHANNEL_TIME] + 20)
		{
			new time = (20-(gettime()-PLAYER_TEMP[playerid][pt_GLOBAL_CHANNEL_TIME]));
			SendClientMessageEx(playerid, -1, "{cccccc}Tienes que esperar %s minutos para usar este canal.", TimeConvert(time));
			return 1;
		}
	}
	
	if (LotteryActive)
    {
        // Si el jugador gana, la función retorna 1 y detenemos el comando para que no se envíe el tweet.
        if (ParseTwitterGuess(playerid, params))
        {
            return 1; 
        }
    }
	
	if (PI[playerid][pi_ADMIN_LEVEL]) 
    { 
        switch(PI[playerid][pi_ADMIN_LEVEL])
    	{
    	case 1: format(str, sizeof str, "{66c4e4}@Twitter{D50000}·{66c4e4}#{FFFFFF} (%d) [{FFAC6F}%s{FFFFFF}] {FFFfFF}%s: {66c4e4}%s", playerid, ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], PI[playerid][pi_NAME], text); 
    	case 2: format(str, sizeof str, "{66c4e4}@Twitter{D50000}·{66c4e4}#{FFFFFF} (%d) [{f15151}%s{FFFFFF}] {FFFfFF}%s: {66c4e4}%s", playerid, ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], PI[playerid][pi_NAME], text); 
    	case 3: format(str, sizeof str, "{66c4e4}@Twitter{D50000}·{66c4e4}#{FFFFFF} (%d) [{25C059}%s{FFFFFF}] {FFFfFF}%s: {66c4e4}%s", playerid, ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], PI[playerid][pi_NAME], text); 
    	case 4: format(str, sizeof str, "{66c4e4}@Twitter{D50000}·{66c4e4}#{FFFFFF} (%d) [{FF0000}%s{FFFFFF}] {FFFfFF}%s: {66c4e4}%s", playerid, ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], PI[playerid][pi_NAME], text); 
    	}
    }
	else if (PI[playerid][pi_VIP]) format(str, sizeof str, "{66c4e4}@Twitter{FFE000}·{66c4e4}# {ffffff}%s [{FFE000}VIP{FFFfFF}] {FFFfFF}(%d): {66c4e4}%s", PI[playerid][pi_NAME], playerid, text);
	else format(str, sizeof str, "{66c4e4}@Twitter{41ff2e}·{66c4e4}#{FFFfFF} %s {FFFfFF}(%d): {66c4e4}%s", PI[playerid][pi_NAME], playerid, text);
	format(string2, sizeof(string2), "@Twitter: %s (%d): %s", PI[playerid][pi_NAME], playerid, text);
	tl= DCC_FindChannelById("1440968356881764402");
    new DCC_Embed:embed = DCC_CreateEmbed();
    DCC_SetEmbedColour(embed, 0x00ff00);
    DCC_SetEmbedTitle(embed, ":palm_tree: - Spain+ RolePlay");
    DCC_SetEmbedDescription(embed, string2);
    DCC_SetEmbedFooter(embed, ""SERVER_NAME"");
    format(SkinID, sizeof(SkinID), "https://assets.open.mp/assets/images/skins/%d.png", PI[playerid][pi_SKIN]);
    DCC_SetEmbedThumbnail(embed, SkinID);
    DCC_SendChannelEmbedMessage(tl, embed);
	SendClientMessageToAll(-1, str);
	for(new Words; Words < sizeof(BadWords); Words++)
	{
	if(strfind(str,BadWords[Words],true) != -1 )
		{
    		new seconds = 30 * 60;
    		SendMessageToAdmins(-1,text);
    		SendFormatNotification(playerid,"Has sido silenciado del canal de twitter -Razón:  MG2/Mal Uso - Tiempo: 30 minutos");
    		//SendClientMessageEx(playerid, 0xaa4949FF, "Fueron retirados de tu cuenta 10.000$ por mal usar el canal.", 2);
    		//GivePlayerCash(playerid, -10000);
    		PI[playerid][pi_MUTE_TWITTER] = gettime() + seconds;

    		format(str, 145, "{0021ff}[MUTE] {ffffff}%s (%d) | {8fce00}[LAN-BOT] {ffffff}| Razón : {ffffff}MG2/Mal Uso | Minutos : 30 |", PI[playerid][pi_NAME], playerid);
    		SendAdminAd(0xaa4949FF, str);
    
    		return 0;
		}
	}
	PLAYER_TEMP[playerid][pt_GLOBAL_CHANNEL_TIME] = gettime();
	return 1;
}
alias:t("Twitter");*/

CMD:t(playerid, params[])
{
	new text[300 + 1], string2[144 + 1],SkinID[99]; 

	if(!PI[playerid][pi_TWITTER_CHANNEL]) return ShowPlayerMessage(playerid, "Para enviar un mensaje en Twitter primero activalo con ~g~/te", 2);
	if(!PI[playerid][pi_PHONE_NUMBER])
	{
		ShowPlayerMessage(playerid, "No tienes ningún teléfono, puedes ir a cualquier Oxxo para comprar uno.", 2);
		return 1;
	}
	if(!twAvalible) return ShowPlayerMessage(playerid, "Error:~r~ el comando está ~y~deshabilitado", 2);

	if(PI[playerid][pi_MUTE_TWITTER] > gettime())
	{
		new seconds = PI[playerid][pi_MUTE_TWITTER] - gettime();
		SendFormatNotification(playerid, "Estás silenciado en el canal de Twitter por %s minutos.", TimeConvert(seconds));
		return 1;
	}

	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return ShowPlayerMessage(playerid, "Ahora no puedes usar este comando.", 2);
	if(sscanf(params, "s[128]", text)) return ShowPlayerMessage(playerid, "~r~Sintaxis: Usa /t [texto]", 2);
	if (!PI[playerid][pi_ADMIN_LEVEL])
	{
		if (gettime() < PLAYER_TEMP[playerid][pt_GLOBAL_CHANNEL_TIME] + 20)
		{
			new time = (20-(gettime()-PLAYER_TEMP[playerid][pt_GLOBAL_CHANNEL_TIME]));
			SendClientMessageEx(playerid, -1, "{cccccc}Tienes que esperar %s minutos para usar este canal.", TimeConvert(time));
			return 1;
		}
	}
	
	if (LotteryActive)
    {
        // Si el jugador gana, la función retorna 1 y detenemos el comando para que no se envíe el tweet.
        if (ParseTwitterGuess(playerid, params))
        {
            return 1; 
        }
    }
	
	SendMessageToGlobalChannel(playerid, params, true, 140, false);
	
	format(string2, sizeof(string2), "@Twitter: %s (%d): %s", PI[playerid][pi_NAME], playerid, text);
	tl= DCC_FindChannelById("1440968356881764402");
    new DCC_Embed:embed = DCC_CreateEmbed();
    DCC_SetEmbedColour(embed, 0x00ff00);
    DCC_SetEmbedTitle(embed, ":palm_tree: - Spain+ RolePlay");
    DCC_SetEmbedDescription(embed, string2);
    DCC_SetEmbedFooter(embed, ""SERVER_NAME"");
    format(SkinID, sizeof(SkinID), "https://assets.open.mp/assets/images/skins/%d.png", PI[playerid][pi_SKIN]);
    DCC_SetEmbedThumbnail(embed, SkinID);
    DCC_SendChannelEmbedMessage(tl, embed);
	PLAYER_TEMP[playerid][pt_GLOBAL_CHANNEL_TIME] = gettime();
	return 1;
}
alias:t("Twitter");

CMD:tadm(playerid, params[])
{
	new text[128 + 1];
	if(PI[playerid][pi_ADMIN_LEVEL] < 2) return ShowPlayerMessage(playerid, "~w~No estás autorizado para utilizar este comando, ~y~[Solo Administradores]", 2);
	if(!PI[playerid][pi_PHONE_NUMBER])
	{
		ShowPlayerMessage(playerid, "~w~No tienes ningún teléfono, puedes ir a cualquier 24/7 para comprar uno.", 2);
		return 1;
	}


	if(PI[playerid][pi_MUTE_TWITTER] > gettime())
	{
		new seconds = PI[playerid][pi_MUTE_TWITTER] - gettime();
		SendFormatNotification(playerid, "Estás silenciado en el canal de Twitter por %s minutos.", TimeConvert(seconds));
		return 1;
	}

	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return ShowPlayerMessage(playerid, "Ahora no puedes usar este comando.", 2);
	if(sscanf(params, "s[128]", text)) return SendFormatNotification(playerid, "~w~Sintaxis: Usa /ta [texto]", 2);

	new str[144 + 1];
	format(str, sizeof str, "{66c4e4}@Twitter{41ff2e}·{66c4e4}#{ff4a00} ADMINISTRADOR: {66c4e4}%s", text);
	SendClientMessageToAll(-1, str);
	SendTwitterLogToAdmins(playerid, params);
	return 1;
}

CMD:transmitir(playerid, params[])
{
    if(PI[playerid][pi_ADMIN_LEVEL] < 4) return ShowPlayerMessage(playerid, "~w~No estás autorizado para utilizar este comando, ~y~[Solo Administradores]", 2);
	if(isnull(params)) return SendClientMessage(playerid, -1, "Syntax: /transmitir <texto>");
	new str[145]; format(str, 145, "{2e5eff}* [CNN NOTICIAS(EN VIVO)] %s", params);
	SendClientMessageToAll(-1, str);
	return 1;
}

CMD:ta(playerid, params[])
{
	new text[128 + 1];
	if(!PI[playerid][pi_PHONE_NUMBER])
	{
		SendFormatNotification(playerid, "No tienes ningún teléfono, puedes ir a cualquier 24/7 para comprar uno.", 2);
		return 1;
	}

	if(!twAvalible) return SendFormatNotification(playerid, "Error:~r~ el comando está ~y~deshabilitado");

	if(PI[playerid][pi_MUTE_TWITTER] > gettime())
	{
		new seconds = PI[playerid][pi_MUTE_TWITTER] - gettime();
		SendFormatNotification(playerid, "Estás silenciado en el canal de Twitter por %s minutos.", TimeConvert(seconds));
		return 1;
	}
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return ShowPlayerMessage(playerid, "Ahora no puedes usar este comando.", 2);
	if(PLAYER_TEMP[playerid][pt_MUTED_Twitter]) return ShowPlayerMessage(playerid, "Estas muteado de Twitter", 2);
	if(sscanf(params, "s[128]", text)) return ShowPlayerMessage(playerid, "~r~Sintaxis: Usa /ta [texto]", 2);
	if(gettime() < CommandTime[playerid][1] + 15) return SendFormatNotification(playerid, "Debes esperar %d segundos, para volver a usar Twitter", CommandTime[playerid][1] - gettime());
	
	CommandTime[playerid][1] = gettime();
	SendTwitterLogToAdmins(playerid, params);
	SendMessageToGlobalChannel(playerid, params, false, 140, false);
	return 1;
}

CMD:dejarv(playerid)
{
	if(!PI_CAR_WORK[playerid]) return ShowPlayerMessage(playerid, "No tienes ningun auto de trabajo, usa /pedirv", 2);

	if(PI_CAR_RENT[playerid] != -1)
	{
		DestroyVehicle(PI_CAR_RENT[playerid]);
		ShowPlayerMessage(playerid, "Has dejado tu auto, puedes volver a pedir un con /pedirv", 2);
		PI_CAR_WORK[playerid]=false;
		PI_CAR_RENT[playerid] = -1;
		return 1;
	}
	LimpiarVariables(PI_CAR_WORK_ID[playerid]);
	DestroyVehicle(PI_CAR_WORK_ID[playerid]);
	ShowPlayerMessage(playerid, "Has dejado tu auto, puedes volver a pedir un con /pedirv", 2);
	PI_CAR_WORK_ID[playerid] =- 1;
	PI_CAR_WORK[playerid] = false;
	PI_CAR_RENT[playerid] = -1;
	return 1;
}

LimpiarVariables(vehicleid)
{
	if(vehicleid == -1) return 0;
	if(WORK_VEHICLES[vehicleid][work_vehicle_WORK] == WORK_TRASH)
	{
		if(TRASH_VEHICLES[vehicleid][trash_vehicle_JOB_STARTED])
		{
			CancelTrashWork(TRASH_VEHICLES[vehicleid][trash_vehicle_DRIVER_ID], TRASH_VEHICLES[vehicleid][trash_vehicle_PASSENGER_ID], vehicleid);
		}
	}

	GLOBAL_VEHICLES[vehicleid][gb_vehicle_STATE] = VEHICLE_STATE_NORMAL;
	if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_MAX_GAS] <= 0.0) GLOBAL_VEHICLES[vehicleid][gb_vehicle_GAS] = 0.0;
	else GLOBAL_VEHICLES[vehicleid][gb_vehicle_GAS] = frandom(GLOBAL_VEHICLES[vehicleid][gb_vehicle_MAX_GAS], GLOBAL_VEHICLES[vehicleid][gb_vehicle_MAX_GAS] / 3, 2);
	GLOBAL_VEHICLES[vehicleid][gb_vehicle_HEALTH] = 1000.0;
	GLOBAL_VEHICLES[vehicleid][gb_vehicle_DAMAGE_PANELS] = 0;
	GLOBAL_VEHICLES[vehicleid][gb_vehicle_DAMAGE_DOORS] = 0;
	GLOBAL_VEHICLES[vehicleid][gb_vehicle_DAMAGE_LIGHTS] = 0;
	GLOBAL_VEHICLES[vehicleid][gb_vehicle_DAMAGE_TIRES] = 0;

	switch(WORK_VEHICLES[vehicleid][work_vehicle_WORK])
	{
		case WORK_TAXI: ResetVehicleTaxiMeter(vehicleid);
		case WORK_TRUCK: ResetTruckInfo(vehicleid);
		case WORK_TRASH: ResetTrashInfo(vehicleid);
		case WORK_PIZZA: ResetPizzaInfo(vehicleid);
	}
	return 1;
}

CMD:cachear(playerid, params[])
{
	if(!PI[playerid][pi_CREW]) return ShowPlayerMessage(playerid, "No formas parte de una banda.", 2);
	if(sscanf(params, "u", params[0])) return ShowPlayerMessage(playerid, "Error: /cachear [playerid/nombre]", 2);
	if(GetPlayerState(playerid) != PLAYER_STATE_ONFOOT) return ShowPlayerMessage(playerid, "No estás de pie.", 2);

	if(!IsPlayerConnected(params[0])) return ShowPlayerMessage(playerid, "El jugador no está conectado.", 2);
	new Float:pos[3]; GetPlayerPos(params[0], pos[0], pos[1], pos[2]);
	if(!IsPlayerInRangeOfPoint(playerid, 2.0, pos[0], pos[1], pos[2])) return ShowPlayerMessage(playerid, "Este jugador no está cerca tuya.", 2);
	if(PI[params[0]][pi_STATE] != ROLEPLAY_STATE_CRACK) return ShowPlayerMessage(playerid, "El jugador no está abatido.", 2);
	if(GetPlayerState(params[0]) != PLAYER_STATE_ONFOOT) return ShowPlayerMessage(playerid, "Para revisar a esta persona tiene que estar de pie.", 2);

	new dialog[95 * 15], line_str[95];
	format(dialog, sizeof dialog, "»Arma\t"BLUE"Munición\t"YELLOW"Slot\n");

	for(new i = 0; i < sizeof PLAYER_WEAPONS[]; i ++)
	{
		if(!PLAYER_WEAPONS[params[0]][i][player_weapon_VALID]) continue;

		format(line_str, sizeof line_str, "»%s\t"BLUE"%s\t"YELLOW"%d\n", WEAPON_INFO[ PLAYER_WEAPONS[params[0]][i][player_weapon_ID] ][weapon_info_NAME], number_format_thousand(PLAYER_WEAPONS[params[0]][i][player_weapon_AMMO]), i);
		strcat(dialog, line_str);
	}

	format(line_str, sizeof line_str, "Armas de %s", PLAYER_TEMP[playerid][pt_RP_NAME]);

	ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_TABLIST_HEADERS, line_str, dialog, "»Siguiente", "xCerrar");

	new action[64];
	format(action, sizeof action, "cachea rápidamente a %s.", PLAYER_TEMP[params[0]][pt_RP_NAME]);
	Auto_SendPlayerAction(playerid, action);
	return 1;
}

CMD:gpos(playerid, params[])
{
	new Float:pos[3], Float:angle;
	if(IsPlayerInAnyVehicle(playerid)) {
		new vehicleId = GetPlayerVehicleID(playerid);
		GetVehiclePos(vehicleId, pos[0], pos[1], pos[2]);
		GetVehicleZAngle(vehicleId, angle);
	}
	else {
		GetPlayerPos(playerid, pos[0], pos[1], pos[2]);
		GetPlayerFacingAngle(playerid, angle);
	}

	if(isnull(params)) printf("%f, %f, %f, %f, %d", pos[0], pos[1], pos[2], angle, GetPlayerInterior(playerid));
	else printf("%f, %f, %f, %f, %d //%s", pos[0], pos[1], pos[2], angle, GetPlayerInterior(playerid), params);
	return 1;
}

CMD:cpos(playerid, params[])
{
	new Float:pos[3], Float:at[3];
	GetPlayerCameraPos(playerid, pos[0], pos[1], pos[2]);
	GetPlayerCameraLookAt(playerid, at[0], at[1], at[2]);

	printf("{%f, %f, %f, %f, %f, %f}", pos[0], pos[1], pos[2], at[0], at[1], at[2]);
	return 1;
}

CMD:jetpack(playerid, params[])
{
    if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL) return ShowPlayerMessage(playerid, "No puedes usar este comando en la carcel.");
    if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK) return ShowPlayerMessage(playerid, "No puedes usar este comando herido.");
    SetPlayerSpecialAction(playerid, SPECIAL_ACTION_USEJETPACK);
	SendCmdLogToAdmins(playerid, "jetpack", params);
    return 1;
}


hook OnPlayerDeath(playerid, killerid, reason)
{ 
    if(EnEventoDM[playerid])
{
    ResetPlayerWeaponsEx(playerid);
    PI[playerid][pi_MANO_DER] = 0;
    PI[playerid][pi_DER_CANT] = 0;
    
    if(killerid != INVALID_PLAYER_ID) 
    {
        new str_dm[144];
        
        // Mensajes individuales
        SendFormatNotification(killerid, "Has matado a ~r~%s", PLAYER_TEMP[playerid][pt_RP_NAME]);
        SendFormatNotification(playerid, "Te ha matado ~r~%s", PLAYER_TEMP[killerid][pt_RP_NAME]);
        
        format(str_dm, sizeof(str_dm), "{FF0000}» {FFFFFF}Has sido abatido por {FF0000}%s {FFFFFF}en el evento DM.", PLAYER_TEMP[killerid][pt_RP_NAME]);
        SendClientMessage(playerid, -1, str_dm);
        
        // Mensaje GLOBAL (Solo para los que están en el evento)
        format(str_dm, sizeof(str_dm), "{00FF00}EVENTO DM {D50000}» {FF0000}%s {FFFFFF}eliminó a {FF0000}%s", PLAYER_TEMP[killerid][pt_RP_NAME], PLAYER_TEMP[playerid][pt_RP_NAME]);
        
        for(new i = 0; i <= GetPlayerPoolSize(); i++)
        {
            if(IsPlayerConnected(i)) // IMPORTANTE: Solo a los del evento
            {
                SendClientMessage(i, -1, str_dm);
            }
        }
    }
    
    // SOLUCIÓN AL BUG: Esperamos 100ms para spawnear
    SetTimerEx("ForzarRespawnDM", 100, false, "d", playerid);
    return 1; 
}


    
    PLAYER_TEMP[playerid][pt_ROL] = 0;
    PC_EmulateCommand(playerid, "/tirarile");
    TogglePlayerControllableEx(playerid, false);
    
    ResetTrabajo(playerid);
    
	if(PLAYER_TEMP[playerid][pt_KICKED] || !PLAYER_TEMP[playerid][pt_USER_LOGGED]) return 0;
	
	if (PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK && PLAYER_TEMP[playerid][pt_DEATH_HEALTH] > 10 && killerid != INVALID_PLAYER_ID) {
		PLAYER_AC_INFO[playerid][CHEAT_HIGH_POS][p_ac_info_IMMUNITY] = gettime() + 3;
		PLAYER_AC_INFO[playerid][CHEAT_POS][p_ac_info_IMMUNITY] = gettime() + 3;

		GetPlayerPos(playerid, PLAYER_TEMP[playerid][pt_INJURED_POS][0], PLAYER_TEMP[playerid][pt_INJURED_POS][1], PLAYER_TEMP[playerid][pt_INJURED_POS][2]);
		GetPlayerFacingAngle(playerid, PLAYER_TEMP[playerid][pt_INJURED_POS][3]);
		SetPlayerPosEx(playerid, PLAYER_TEMP[playerid][pt_INJURED_POS][0], PLAYER_TEMP[playerid][pt_INJURED_POS][1], PLAYER_TEMP[playerid][pt_INJURED_POS][2], PLAYER_TEMP[playerid][pt_INJURED_POS][3], GetPlayerInterior(playerid), GetPlayerVirtualWorld(playerid), false);
		
		SetPlayerHealthEx(playerid, PLAYER_TEMP[playerid][pt_DEATH_HEALTH]);

		SetSpawnInfo(playerid, NO_TEAM, PI[playerid][pi_SKIN], PLAYER_TEMP[playerid][pt_INJURED_POS][0], PLAYER_TEMP[playerid][pt_INJURED_POS][1], PLAYER_TEMP[playerid][pt_INJURED_POS][2], PLAYER_TEMP[playerid][pt_INJURED_POS][3], 0, 0, 0, 0, 0, 0);
		//SpawnPlayer(playerid);
		return 0;
	}
	
    if(killerid != INVALID_PLAYER_ID)
    {
        // 1. Verificamos si el arma usada fue un Sniper (ID 34)
        if(reason == 34) 
        {
            new Float:x1, Float:y1, Float:z1, Float:x2, Float:y2, Float:z2;
            GetPlayerPos(killerid, x1, y1, z1); // Posición del asesino
            GetPlayerPos(playerid, x2, y2, z2); // Posición de la víctima

            // 2. Calculamos la distancia entre ambos puntos
            new Float:distancia = VectorSize(x1-x2, y1-y2, z1-z2);

            // 3. Si la distancia es mayor a 100 metros
            if(distancia >= 100.0)
            {
                OtorgarLogro(killerid, 26); // ID 26: Francotirador
                
                // Opcional: Avisar al jugador a qué distancia hizo el tiro
                new msg[64];
                format(msg, sizeof(msg), "{FFFFFF}¡Tiro increíble! Distancia: {00FF00}%.2f metros", distancia);
                SendClientMessage(killerid, -1, msg);
            }
        }
    }


	if(PI[playerid][pi_WANTED_LEVEL] > 3)
	{
	new string[828];
	new city[45], zone[45];
	GetPlayerZones(playerid, city, zone);
	format(string, sizeof(string), "[Central de policía]{FFFFFF} Reporte: {00FFFC}%s{FFFFFF} ha sido abatido en {F4FA58}[%s %s], {FFFFFF} procedan a su entrega.", PI[playerid][pi_NAME], city, zone);
	SendPoliceRadioMessage(-1, -1, string);
	}
	KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][16]);
	ApplyAnimation(playerid, "SWAT", "gnstwall_injurd", 4.1, 1, 0, 0, 0, 0, 1);
	TogglePlayerControllable(playerid,0);
	PLAYER_AC_INFO[playerid][CHEAT_POS][p_ac_info_IMMUNITY] = gettime() + 3;
	PLAYER_AC_INFO[playerid][CHEAT_STATE_SPAMMER][p_ac_info_IMMUNITY] = gettime() + 3;
	PLAYER_AC_INFO[playerid][CHEAT_PLAYER_HEALTH][p_ac_info_IMMUNITY] = gettime() + 3;
	PLAYER_AC_INFO[playerid][CHEAT_VEHICLE_NOFUEL][p_ac_info_IMMUNITY] = gettime() + 15;
	if(!PI[playerid][pi_VIP]) SetPlayerArmourEx(playerid, 0.0);
	
	

	if(ac_Info[CHEAT_DEATH_SPAMMER][ac_Enabled])
	{
		if(gettime() > PLAYER_AC_INFO[playerid][CHEAT_DEATH_SPAMMER][p_ac_info_IMMUNITY])
		{
			new interval = GetTickDiff(GetTickCount(), PLAYER_TEMP[playerid][pt_ANTIFLOOD_DEATH]);
			if(interval < 50)
			{
				if(!ac_Info[CHEAT_DEATH_SPAMMER][ac_Interval]) OnPlayerCheatDetected(playerid, CHEAT_DEATH_SPAMMER, float(interval));
				else
				{
					if(gettime() - PLAYER_AC_INFO[playerid][CHEAT_DEATH_SPAMMER][p_ac_info_LAST_DETECTION] > ac_Info[CHEAT_DEATH_SPAMMER][ac_Interval]) PLAYER_AC_INFO[playerid][CHEAT_DEATH_SPAMMER][p_ac_info_DETECTIONS] = 0;
					else PLAYER_AC_INFO[playerid][CHEAT_DEATH_SPAMMER][p_ac_info_DETECTIONS] ++;

					PLAYER_AC_INFO[playerid][CHEAT_DEATH_SPAMMER][p_ac_info_LAST_DETECTION] = gettime();
					if(PLAYER_AC_INFO[playerid][CHEAT_DEATH_SPAMMER][p_ac_info_DETECTIONS] >= ac_Info[CHEAT_DEATH_SPAMMER][ac_Detections]) OnPlayerCheatDetected(playerid, CHEAT_DEATH_SPAMMER, float(interval));
				}
			}
			PLAYER_TEMP[playerid][pt_ANTIFLOOD_DEATH] = GetTickCount();
		}
	}
	
	HidePlayerMessage(playerid);

	if(IsPlayerConnected(killerid))
	{
		format(PLAYER_TEMP[playerid][pt_LAST_KILLER], 30, "%s", PLAYER_TEMP[killerid][pt_RP_NAME]);
	}

	if(IsPlayerConnected(killerid) && PI[killerid][pi_STATE] == ROLEPLAY_STATE_NORMAL && PI[playerid][pi_STATE] == ROLEPLAY_STATE_NORMAL)
	{
		new string[64], str[150];
		format(string, sizeof string, "~r~%s ~w~te acaba de asesinar.", PLAYER_TEMP[killerid][pt_RP_NAME]);
		format(str, sizeof str, "El usuario %s Fue muerto por %s ", PI[playerid][pi_NAME], PLAYER_TEMP[killerid][pt_RP_NAME]);
		as= DCC_FindChannelById("1440968087024308366");
        new DCC_Embed:embed = DCC_CreateEmbed("Muertes: Spain+ RolePlay","","","",0x00ff00,"Spain+ RolePlay","","https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png","");
        DCC_AddEmbedField(embed, "Asesinaron", str, true);
        DCC_SendChannelEmbedMessage(as,embed);
		ShowPlayerMessage(playerid, string, 5);

		format(string, sizeof string, "Acabas de asesinar a ~g~%s", PLAYER_TEMP[playerid][pt_RP_NAME]);
		ShowPlayerMessage(killerid, string, 5);
		PI[playerid][pi_KILLS] += 1;
		if(!PLAYER_WORKS[killerid][WORK_POLICE][pwork_SET])
		{
		new level = PI[killerid][pi_WANTED_LEVEL] + 2;
		if(level > 6) level = 6;
        SetPlayerWantedLevelEx(killerid, level);
        }
	}
	StopAudioStreamForPlayer(playerid);
	SetPlayerDrunkLevel(playerid, 0);
	KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][3]);
	SetPlayerSpecialAction(playerid, SPECIAL_ACTION_NONE);
	GetPlayerPos(playerid, PI[playerid][pi_POS_X], PI[playerid][pi_POS_Y], PI[playerid][pi_POS_Z]);
	GetPlayerFacingAngle(playerid, PI[playerid][pi_ANGLE]);
	//HidePlayerHud(playerid);
	CancelEdit(playerid);
	HidePlayerDialog(playerid);
	SetNormalPlayerMarkers(playerid);
	if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_POLICE) CallLocalFunction("EndPlayerJob", "iib", playerid, PLAYER_TEMP[playerid][pt_WORKING_IN], false);
	PLAYER_TEMP[playerid][pt_HUNGRY_MESSAGE] = false;
	PLAYER_TEMP[playerid][pt_THIRST_MESSAGE] = false;
	PLAYER_TEMP[playerid][pt_PLAYER_IN_ATM] = false;
	PLAYER_TEMP[playerid][pt_CUFFED] = false;
	PLAYER_TEMP[playerid][pt_CUFFING] = false;
	if(PLAYER_TEMP[playerid][pt_WANT_TAXI])
	{
		PLAYER_TEMP[playerid][pt_WANT_TAXI] = false;
		DisablePlayerTaxiMark(playerid);
	}

	if(PLAYER_TEMP[playerid][pt_WANT_MECHANIC])
	{
		PLAYER_TEMP[playerid][pt_WANT_MECHANIC] = false;
		DisablePlayerMechanicMark(playerid);
	}

	if(PLAYER_TEMP[playerid][pt_PLAYER_IN_CALL]) EndPhoneCall(playerid);
	if(PLAYER_TEMP[playerid][pt_GPS_MAP]) HidePlayerGpsMap(playerid);
	if(PI[playerid][pi_WANTED_LEVEL] > 0) DisablePlayerPoliceMark(playerid);
	if(PLAYER_TEMP[playerid][pt_TUNING_GARAGE_SHOP]) CancelPlayerTuningShop(playerid);
	if(PLAYER_TEMP[playerid][pt_IN_TUNING_GARAGE])
	{
		PLAYER_TEMP[playerid][pt_IN_TUNING_GARAGE] = false;
		SetVehicleVirtualWorldEx(PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID], 0);
		SetVehiclePosEx(PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID], 246.551910, 17.474195, 2.363841);
		SetVehicleZAngle(PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID], 0.0);
	}
	if(PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] != INVALID_VEHICLE_ID)
	{
		if(TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_JOB_STARTED])
		{
			if(PLAYER_TEMP[playerid][pt_TRASH_DRIVER])
			{
				SendClientMessage(TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_PASSENGER_ID], -1, "El trabajo se ha cancelado porque tu compañero ha dejado de trabajar.");
				CancelTrashWork(playerid, TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_PASSENGER_ID], PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID]);
			}
			if(PLAYER_TEMP[playerid][pt_TRASH_PASSENGER])
			{
				SendClientMessage(TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_DRIVER_ID], -1, "El trabajo se ha cancelado porque tu compañero ha dejado de trabajar.");
				CancelTrashWork(TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_DRIVER_ID], playerid, PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID]);
			}
		}
	}


	else
	{
		static const go_to_hospital_fix = false;
		if (go_to_hospital_fix || PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || GetPlayerInterior(playerid) != 0 || GetPlayerVirtualWorld(playerid) != 0) {
			DisablePlayerInjuredMark(playerid);
			PLAYER_TEMP[playerid][pt_HOSPITAL] = GetNearestHospitalForPlayer(playerid);
			PI[playerid][pi_STATE] = ROLEPLAY_STATE_HOSPITAL;
			PLAYER_TEMP[playerid][pt_PLAYER_FINISH_HOSPITAL] = false;
			KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][16]);
			SetSpawnInfo(playerid, NO_TEAM, PI[playerid][pi_SKIN], PI[playerid][pi_POS_X], PI[playerid][pi_POS_Y], PI[playerid][pi_POS_Z], PI[playerid][pi_ANGLE], 0, 0, 0, 0, 0, 0);
		}
		else
		{
		    PLAYER_AC_INFO[playerid][CHEAT_HIGH_POS][p_ac_info_IMMUNITY] = gettime() + 3;
			PLAYER_AC_INFO[playerid][CHEAT_POS][p_ac_info_IMMUNITY] = gettime() + 3;

			GetPlayerPos(playerid, PLAYER_TEMP[playerid][pt_INJURED_POS][0], PLAYER_TEMP[playerid][pt_INJURED_POS][1], PLAYER_TEMP[playerid][pt_INJURED_POS][2]);
			GetPlayerFacingAngle(playerid, PLAYER_TEMP[playerid][pt_INJURED_POS][3]);
			SetPlayerPosEx(playerid, PLAYER_TEMP[playerid][pt_INJURED_POS][0], PLAYER_TEMP[playerid][pt_INJURED_POS][1], PLAYER_TEMP[playerid][pt_INJURED_POS][2], PLAYER_TEMP[playerid][pt_INJURED_POS][3], GetPlayerInterior(playerid), GetPlayerVirtualWorld(playerid), false);
			
			SetPlayerHealthEx(playerid, 100.0);
			PLAYER_TEMP[playerid][pt_DEATH_HEALTH] = 100.0;

			PI[playerid][pi_STATE] = ROLEPLAY_STATE_CRACK;
			SetSpawnInfo(playerid, NO_TEAM, PI[playerid][pi_SKIN], PLAYER_TEMP[playerid][pt_INJURED_POS][0], PLAYER_TEMP[playerid][pt_INJURED_POS][1], PLAYER_TEMP[playerid][pt_INJURED_POS][2], PLAYER_TEMP[playerid][pt_INJURED_POS][3], 0, 0, 0, 0, 0, 0);
		}
	}
	
	PLAYER_TEMP[playerid][pt_GAME_STATE] = GAME_STATE_DEAD;
	return 1;
}

Dialog:NoMedicsDeath(playerid, response, listitem, inputtext[]) {
	if (response) {
		Auto_SendPlayerAction(playerid, "ha elegido la salida rápida.");
		PLAYER_TEMP[playerid][pt_DEATH_HEALTH] = 0;
	    PLAYER_TEMP[playerid][pt_GAME_STATE] = GAME_STATE_DEAD;
    PI[playerid][pi_STATE] = ROLEPLAY_STATE_HOSPITAL;
    PLAYER_TEMP[playerid][pt_HOSPITAL] = GetNearestHospitalForPlayer(playerid);
    PLAYER_TEMP[playerid][pt_PLAYER_FINISH_HOSPITAL] = false;
    SetPlayerHealthEx(playerid, 100.0);
    clearInjuredVars(playerid);
    ClearAnimations(playerid);
    SpawnPlayer(playerid);
	}
	return 1;
}

// Debes crear esta función fuera de cualquier hook:
forward ForzarRespawnDM(playerid);
public ForzarRespawnDM(playerid)
{
    if(IsPlayerConnected(playerid)) SpawnPlayer(playerid);
    return 1;
}

forward OnSecureLoginRequestCode(index, response_code, data[]);
public OnSecureLoginRequestCode(index, response_code, data[]) {
	if(response_code == 200) {
		GameTextForPlayer(index, "_", 500, 3);
		PLAYER_TEMP[index][pt_BAD_LOGIN_ATTEMP] = 0;
		ShowDialog(index, DIALOG_SECURE_LOGIN_INSERT_CODE);
	}
	else Kick(index);
}


forward OnSecureLoginCheckCode(index, response_code, data[]);
public OnSecureLoginCheckCode(index, response_code, data[]) {
	if(response_code == 200) {
		PLAYER_TEMP[index][pt_BAD_LOGIN_ATTEMP] = 0;

		mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "INSERT INTO player_secure_login (ip, id_player) VALUES ('%e', %d);", PLAYER_TEMP[index][pt_IP], PI[index][pi_ID]);
		mysql_tquery(srp_db, QUERY_BUFFER);

		ShowPlayerMessage(index, "Se ha confirmado el inicio de sesión.", 2);
		LoginPlayer(index);
	}
	else {
		PLAYER_TEMP[index][pt_BAD_LOGIN_ATTEMP] ++;
		if(PLAYER_TEMP[index][pt_BAD_LOGIN_ATTEMP] > MAX_BAD_LOGIN_ATTEMPS) return Kick(index);
		ShowDialog(index, DIALOG_SECURE_LOGIN_INSERT_CODE);
	}
	return 1;
}

public OnPlayerRequestSpawn(playerid)
{
    // Si el jugador está en el login, bloqueamos cualquier spawn automático
    if(PLAYER_TEMP[playerid][pt_GAME_STATE] == GAME_STATE_CONNECTED) 
    {
        return 0; // No hace nada, se queda esperando al Login
    }
    return 1;
}


forward minconnecttime();
public minconnecttime()
{
	SendRconCommand("minconnectiontime 0"); //3000");
	return 1;
}

public OnPlayerConnect(playerid)
{
    EnEventoDM[playerid] = false;
    TogglePlayerControllableEx(playerid, true);
    CreatePlayerTextDraws(playerid);
    ClearPlayerChat(playerid);
    Streamer_ToggleItemUpdate(playerid, STREAMER_TYPE_OBJECT, 0);
    Streamer_ToggleItemUpdate(playerid, STREAMER_TYPE_PICKUP, 0);
    Streamer_ToggleItemUpdate(playerid, STREAMER_TYPE_3D_TEXT_LABEL, 0);
    
    PLAYERS_IN_GAME++;
    PLAYER_TEMP[playerid][pt_GAME_STATE] = GAME_STATE_CONNECTED;
    PLAYER_TEMP[playerid][pt_EN_INTRO] = true;
	
	ResetTodo(playerid);
	ClearPlayerParkingVehicles(playerid);
	//Bolsillos Pecho y Accesorios 
	B_Pecho[playerid] = 1;
	B_Accesorios[playerid] = 1;
	Robandot[playerid] = 0;
	
	new nombre_entrante[MAX_PLAYER_NAME];
    GetPlayerName(playerid, nombre_entrante, MAX_PLAYER_NAME);

    for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
{
    // 1. Saltamos si no está conectado o si soy yo mismo
    if(!IsPlayerConnected(i) || i == playerid) continue;

    // 2. ¡CLAVE!: Solo comparamos si el otro jugador YA se logueó
    // Si no está logueado, su pt_NOMBRE_ORIGINAL aún no es válido.
    if(PLAYER_TEMP[i][pt_USER_LOGGED] == false) continue; 

    // 3. Verificamos que el nombre original no esté vacío
    if(PLAYER_TEMP[i][pt_NOMBRE_ORIGINAL][0] == '\0') continue;

    // 4. Ahora sí comparamos
    if(strcmp(nombre_entrante, PLAYER_TEMP[i][pt_NOMBRE_ORIGINAL], true) == 0)
    {
        SendClientMessage(playerid, -1, "{FF0000}»{FFFFFF} Tu cuenta ya está conectada (posiblemente usando máscara).");
        // Usamos un pequeño timer para el Kick, para que alcance a leer el mensaje
        Kick(playerid);
        return 1;
    }
}
	
	for(new i = 0; i < 10; i++)
	{
		Vehicles_SAPD[playerid][i] = INVALID_VEHICLE_ID;
	}
	for(new i = 0; i != MAX_OBJECTS_PER_ROUTE; i ++) TRASH_PLAYER_OBJECTS[playerid][i] = INVALID_STREAMER_ID;
	ApplyAnimation(playerid, "BOMBER", "null", 0.0, false, false, false, false, 0, false); // I used these lines to prevent animation bugs.
	ApplyAnimation(playerid, "ROB_BANK", "null", 0.0, false, false, false, false, 0, false);
	
	GetPlayerName(playerid, PLAYER_TEMP[playerid][pt_NAME], 24);
	GetPlayerIp(playerid, PLAYER_TEMP[playerid][pt_IP], 16);
	EnablePlayerCameraTarget(playerid, true);
	SetPlayerSpecialAction(playerid, SPECIAL_ACTION_NONE);
	HidePlayerDialog(playerid);
	ResetPlayerMoney(playerid);
	SetPlayerScore(playerid, 0);
	ResetPlayerWeapons(playerid);
	LimpiarVariables(PI_CAR_WORK_ID[playerid]);
	CancelEdit(playerid);

	PLAYER_TEMP[playerid][pt_USER_VALID_NAME] = true;
	SetRolePlayNames(playerid);

	if(GetNumberOfPlayersOnThisIP(PLAYER_TEMP[playerid][pt_IP]) > 3)
	{
		printf("MUCHA IP");
		ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Aviso", "Ha sido expulsado por exceder el máximo de conexiones desde una IP.", "Entiendo", "");
		KickEx(playerid, 500);
	}
	else
	{
		SetPiDefaultValues(playerid);

		online++;
		new h, m, s;
		new day, month, year;
		gettime(h, m, s);
		getdate(year,month,day);
	    new DCC_Channel:g_Discord_Chat;
    	new name[MAX_PLAYER_NAME];
		GetPlayerName(playerid, name, sizeof name);

		if (_:g_Discord_Chat == 0)
		g_Discord_Chat = DCC_FindChannelById("1440971373072744662"); // Discord channel ID

        new string[128];
		format(string, sizeof string, "Jugador ID %d",playerid);
		new DCC_Embed:apalah;
		new str[526],stro[526];
		format(str,sizeof(str),"%s",name);
		format(stro,sizeof(stro),"%d/%d",online,GetMaxPlayers());
		apalah = DCC_CreateEmbed("Spain+ RolePlay","Jugador Conectado","","",0x00ff00,"Join us @Spain+rp","","https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png","");
		DCC_AddEmbedField(apalah, str, string, true);
		DCC_AddEmbedField(apalah, "Actuales jugadores", stro, true);
		DCC_SendChannelEmbedMessage(g_Discord_Chat,apalah);

    }
	return 1;
}

public OnPlayerRequestClass(playerid, classid)
{
    TogglePlayerSpectatingEx(playerid, true);
    PlayAudioStreamForPlayer(playerid, Intro_Audios[random(sizeof Intro_Audios)]);
    SetPlayerCameraPos(playerid, 1481.0, -1750.0, 50.0);
    SetPlayerCameraLookAt(playerid, 1481.0, -1745.0, 40.0);
    ClearPlayerChat(playerid);
    ShowPreLogin(playerid);
    return 1;
}

public OnGameModeInit()
{
	SetGameModeText(SERVER_GAMEMODE);
    SendRconCommand("hostname "SERVER_HOSTNAME"");
    SendRconCommand("language "SERVER_LANGUAGE"");
	SendRconCommand("weburl "SERVER_WEBSITE"");
	SendRconCommand("minconnectiontime 0");
    SendRconCommand("ackslimit 3000");
    SendRconCommand("messageslimit 5000");
    SendRconCommand("conncookies 0");
	SendRconCommand("cookielogging 0");
	SendRconCommand("chatlogging 0");
	//SendRconCommand("sleep 1");
	SetTimer("minconnecttime", 60000, 0);
	
	SetTimer("ControlCompradores", 60000, 1); 
	
	RotarDialogosMercados();
	SetTimer("TemporizadorBasureros", 3600000, true);
	SetTimer("TimerRotarMercados", 1800000, true); // 14,400,000 ms = 4 Horas
	
	CarregarRadares();
	CargarPuntosAlquiler();
    CargarEmpresas();
    CargarLaboratorios();
    CargarNegocios();
    ShowNameTags(0);
	
    AntiAmx();
	ConnectDatabase();
    SetTimer("CheckApartamentos", 60000, true);
	SetTimer("CheckLotteryTimer", 1000, true);
    LotteryTimeLeft = LOTTERY_DURATION; // El primer sorteo comenzará en 30 minutos
    printf("[SORTEO] Timer iniciado. Primer sorteo en 30 minutos.");
	SetTimer("TimerMejoraMotor", 200, true);
	
	SetTimer("SincronizarMundoReal", 60000, true);
    // Llamamos a la función una vez al encender para que inicie con la hora real
    SincronizarMundoReal();
    
    return 1;
}

public SincronizarMundoReal()
{
    new horas, minutos, segundos;
    gettime(horas, minutos, segundos); // Hora real del PC/Host
    
    // Sincronizar la hora del mundo para todos
    SetWorldTime(horas); 

    // --- LÓGICA DE CLIMA ALEATORIO REALISTA ---
    // Solo intentará cambiar el clima cuando empiece una hora nueva (ej: 14:00, 15:00)
    // O si el clima actual es 0 (por reinicio)
    if(minutos == 0 || ClimaActual == 0)
    {
        new probabilidad = random(100); 

        if(probabilidad < 15) // 15% de probabilidad de LLUVIA
        {
            new climas_lluvia[] = {8, 16}; // Tormenta o Lluvia ligera
            ClimaActual = climas_lluvia[random(sizeof(climas_lluvia))];
        }
        else if(probabilidad < 40) // 25% de probabilidad de NUBLADO
        {
            new climas_nubes[] = {4, 7, 9, 12, 15}; 
            ClimaActual = climas_nubes[random(sizeof(climas_nubes))];
        }
        else // 60% de probabilidad de DESPEJADO / SOLEADO
        {
            new climas_sol[] = {1, 10, 11, 17, 18};
            ClimaActual = climas_sol[random(sizeof(climas_sol))];
        }
        
        SetWeather(ClimaActual);
        printf("[SERVER]: El clima ha cambiado a ID: %d", ClimaActual);
    }
    
    // Forzamos el tiempo a los jugadores por si acaso
    for(new i = 0; i < MAX_PLAYERS; i++)
    {
        if(IsPlayerConnected(i)) SetPlayerTime(i, horas, minutos);
    }
    return 1;
}


FormatDialogStrings()
{
	new Dialog_Lines_String[256];

		/* PIZZA FOOD */
	format(DIALOG_FOOD_PIZZA_String, sizeof DIALOG_FOOD_PIZZA_String, ""WHITE"Producto\t"WHITE"Precio\n");
	for(new i; i != sizeof PIZZA_FOOD; i ++)
	{
		format(Dialog_Lines_String, sizeof Dialog_Lines_String, ""WHITE" %s\t%d {00FF00}$\n", PIZZA_FOOD[i][food_NAME], PIZZA_FOOD[i][food_PRICE]);
		strcat(DIALOG_FOOD_PIZZA_String, Dialog_Lines_String);
	}

			/* TACO FOOD */
	format(DIALOG_FOOD_TACO_String, sizeof DIALOG_FOOD_TACO_String, ""WHITE"Producto\t"WHITE"Precio\n");
	for(new i; i != sizeof TACO_FOOD; i ++)
	{
		format(Dialog_Lines_String, sizeof Dialog_Lines_String, ""WHITE" %s\t%d{00FF00}$\n", TACO_FOOD[i][food_NAME], TACO_FOOD[i][food_PRICE]);
		strcat(DIALOG_FOOD_TACO_String, Dialog_Lines_String);
	}

			/* STEAK FOOD */
	format(DIALOG_FOOD_STEAK_String, sizeof DIALOG_FOOD_STEAK_String, ""WHITE"Producto\t"WHITE"Precio\n");
	for(new i; i != sizeof STEAK_FOOD; i ++)
	{
		format(Dialog_Lines_String, sizeof Dialog_Lines_String, ""WHITE"  %s\t%d{00FF00}$\n", STEAK_FOOD[i][food_NAME], STEAK_FOOD[i][food_PRICE]);
		strcat(DIALOG_FOOD_STEAK_String, Dialog_Lines_String);
	}

		/* CLUCKIN FOOD */
	format(DIALOG_FOOD_CLUCKIN_String, sizeof DIALOG_FOOD_CLUCKIN_String, ""WHITE"Producto\t"WHITE"Precio\n");
	for(new i; i != sizeof CLUCKIN_BELL_FOOD; i ++)
	{
		format(Dialog_Lines_String, sizeof Dialog_Lines_String, ""WHITE" %s\t"WHITE"%d{00FF00}$\n", CLUCKIN_BELL_FOOD[i][food_NAME], CLUCKIN_BELL_FOOD[i][food_PRICE]);
		strcat(DIALOG_FOOD_CLUCKIN_String, Dialog_Lines_String);
	}

		/* BURGER_SHOT FOOD */
	format(DIALOG_FOOD_BURGER_String, sizeof DIALOG_FOOD_BURGER_String, ""WHITE"Producto\t"WHITE"Precio\n");
	for(new i; i != sizeof BURGER_SHOT_FOOD; i ++)
	{
		format(Dialog_Lines_String, sizeof Dialog_Lines_String, ""WHITE" %s\t"WHITE"%d{00FF00}$\n", BURGER_SHOT_FOOD[i][food_NAME], BURGER_SHOT_FOOD[i][food_PRICE]);
		strcat(DIALOG_FOOD_BURGER_String, Dialog_Lines_String);
	}

		/* 24/7 LIST */
	for (new i = 0; i != sizeof Supermarket_Product_List; i ++)
	{
		format(Dialog_Lines_String, sizeof(Dialog_Lines_String), "{"#PRIMARY_COLOR"}%d.{F5F5F5} %s\t{F5F5F5}%d{"#GREEN_COLOR"}$\n", i + 1, Supermarket_Product_List[i][product_NAME], Supermarket_Product_List[i][product_PRICE]);
		strcat(DIALOG_247_LIST_String, Dialog_Lines_String);
	}

	//Colores bandas
	format(DIALOG_CREATE_CREW_COLOR_String, sizeof DIALOG_CREATE_CREW_COLOR_String, "");
	for(new i = 0; i != sizeof(RandomColors); i++)
	{
		format(Dialog_Lines_String, sizeof(Dialog_Lines_String), "{%06x}color %d\n", RandomColors[i] >>> 8, i + 1);
		strcat(DIALOG_CREATE_CREW_COLOR_String, Dialog_Lines_String);
	}

	format(DIALOG_CREDIT_String, sizeof DIALOG_CREDIT_String,
		"\
			"WHITE"Servidor: "WHITE""SERVER_NAME"\n\
			"WHITE"Web/foro: "WHITE""SERVER_WEBSITE"\n\
			"WHITE"Versión: "WHITE""SERVER_VERSION"\n\
			"WHITE"Fecha versión: "WHITE""VERSION_DATE"\n\
			\n\
			"WHITE""SERVER_NAME" "WHITE"es un servidor Roleplay nuevo por lo que actualmente\n\
			se encuentra desarrollo, puedes dejar tus sugerencias en el foro.\n\
			Actualmente al ser una versión inicial puede contener fallos.\n\
			\n\
			Programación:\n\
			"WHITE"Antrax\n\
			\n\
			"WHITE"Gamemode RGRP"WHITE"Antrax\
		"
	);

	//Animaciones
	format(DIALOG_ANIMS_String, sizeof DIALOG_ANIMS_String, "");
	strcat(DIALOG_ANIMS_String, ""YELLOW">> /rendirse\n");
	strcat(DIALOG_ANIMS_String, ""YELLOW">> /blowjob\n");
	strcat(DIALOG_ANIMS_String, ""YELLOW">> /rodar\n");
	strcat(DIALOG_ANIMS_String, ""YELLOW">> /borracho\n");
	strcat(DIALOG_ANIMS_String, ""YELLOW">> /bomba\n");
	strcat(DIALOG_ANIMS_String, ""YELLOW">> /apuntar\n");
	strcat(DIALOG_ANIMS_String, ""YELLOW">> /reir\n");
	strcat(DIALOG_ANIMS_String, ""YELLOW">> /amenazar\n");
	strcat(DIALOG_ANIMS_String, ""YELLOW">> /paja\n");
	strcat(DIALOG_ANIMS_String, ""YELLOW">> /herido\n");
	strcat(DIALOG_ANIMS_String, ""YELLOW">> /cruzarbrazos\n");
	strcat(DIALOG_ANIMS_String, ""YELLOW">> /recostarse\n");
	strcat(DIALOG_ANIMS_String, ""YELLOW">> /cubrirse\n");
	strcat(DIALOG_ANIMS_String, ""YELLOW">> /vomitar\n");
	strcat(DIALOG_ANIMS_String, ""YELLOW">> /comer\n");
	strcat(DIALOG_ANIMS_String, ""YELLOW">> /despedir\n");
	strcat(DIALOG_ANIMS_String, ""YELLOW">> /nalgada\n");
	strcat(DIALOG_ANIMS_String, ""YELLOW">> /agonizar\n");
	strcat(DIALOG_ANIMS_String, ""YELLOW">> /besar\n");
	strcat(DIALOG_ANIMS_String, ""YELLOW">> /crack\n");
	strcat(DIALOG_ANIMS_String, ""YELLOW">> /mear\n");
	strcat(DIALOG_ANIMS_String, ""YELLOW">> /sentarse\n");
	strcat(DIALOG_ANIMS_String, ""YELLOW">> /fucku\n");
	strcat(DIALOG_ANIMS_String, ""YELLOW">> /llamar\n");
	strcat(DIALOG_ANIMS_String, ""YELLOW">> /taichi\n");
	strcat(DIALOG_ANIMS_String, ""YELLOW">> /beber\n");
	strcat(DIALOG_ANIMS_String, ""YELLOW">> /boxear\n");
	strcat(DIALOG_ANIMS_String, ""YELLOW">> /saludar\n");
	strcat(DIALOG_ANIMS_String, ""YELLOW">> /llorar\n");
	strcat(DIALOG_ANIMS_String, ""YELLOW">> /dormir\n");
	strcat(DIALOG_ANIMS_String, ""YELLOW">> /rapear\n");
	strcat(DIALOG_ANIMS_String, ""YELLOW">> /astrip\n");
	strcat(DIALOG_ANIMS_String, ""YELLOW">> /bailar\n");
	strcat(DIALOG_ANIMS_String, ""YELLOW">> /alentar\n");
	strcat(DIALOG_ANIMS_String, ""YELLOW">> /hablar\n");
	strcat(DIALOG_ANIMS_String, ""YELLOW">> /asiento\n");

	return 1;
}

new
	Club_Strippers_Actor[2],
	Club_Bar_Actor,
	Club_Actors[7];

new RandomStripAnimations[][] =
{
	"STR_A2B",
	"strip_G",
	"STR_B2C",
	"STR_C1",
	"STR_C2"
};

new RandomPayStripAnimations[][] =
{
	"PLY_CASH",
	"PUN_CASH",
	"PUN_HOLLER",
	"PUN_LOOP"
};

#define		segundos(%0) 		(1000 * %0)
SanAndreas()
{
	CreateTextDraws();
	LastMerchantDate = gettime() + 120; //5 minutos principalmente
	
    CreateMerchant(1583.5831, -2151.8782, 13.5797, 90.0);
    CreateMerchant(1355.7432, -1720.2435, 8.6164, 309.1716);
    CreateMerchant(-2216.3796, 636.5046, 49.4546, 313.7441);
    CreateMerchant(2535.3855, -1667.6687, 15.1655, 269.9821);
    CreateMerchant(-2538.6221, 29.9737, 8.6172, 274.3687);
    CreateMerchant(-1977.3982, -592.8734, 25.7132, 92.5290);
    CreateMerchant(1799.1598, -2151.4534, 13.5469, 176.1433);
    CreateMerchant(-1724.0530, 1243.1226, 7.5469, 87.9949);
    CreateMerchant(1967.3169, -1159.1505, 20.9409, 358.2760);
    CreateMerchant(-1626.9917, -49.8470, 3.5724, 218.0060);
    CreateMerchant(1966.0814, 2176.1809, 10.8203, 128.7862);
    CreateMerchant(1524.2681, 995.4222, 10.8203, 88.9457);

    CreateMerchantSales(0, SALE_TYPE_DYNAMITE, 5000, 0, 1);
    CreateMerchantSales(1, SALE_TYPE_DYNAMITE, 10000, 0, 1);

    CreateMerchantSales(2, SALE_TYPE_ARMOUR, 10000, 0, 100);
    CreateMerchantSales(3, SALE_TYPE_ARMOUR, 7000, 0, 75);
    CreateMerchantSales(4, SALE_TYPE_ARMOUR, 8000, 0, 75);
    CreateMerchantSales(5, SALE_TYPE_ARMOUR, 5000, 0, 50);
    CreateMerchantSales(6, SALE_TYPE_ARMOUR, 4000, 0, 50);
    CreateMerchantSales(7, SALE_TYPE_ARMOUR, 4600, 0, 50);
    CreateMerchantSales(8, SALE_TYPE_ARMOUR, 3400, 0, 50);
    CreateMerchantSales(9, SALE_TYPE_ARMOUR, 5000, 0, 25);
    CreateMerchantSales(10, SALE_TYPE_ARMOUR, 5000, 0, 25);
    CreateMerchantSales(11, SALE_TYPE_ARMOUR, 2300, 0, 25);

    CreateMerchantSales(11, SALE_TYPE_BLACK_CASH_BUY, 1, 0, 1);
    CreateMerchantSales(12, SALE_TYPE_BLACK_CASH_BUY, 2, 0, 1);
    CreateMerchantSales(14, SALE_TYPE_BLACK_CASH_SELL, 1, 0, 1);
    CreateMerchantSales(15, SALE_TYPE_BLACK_CASH_SELL, 2, 0, 1);
    CreateMerchantSales(16, SALE_TYPE_BLACK_CASH_SELL, 3, 0, 1);

    for (new i = 0; i != MAX_MERCHANTS; i ++) {
        new Random_mData[] = {5, 12, 0, 0, 7, 15, 6, 6, 17, 1, 10, 3, 8, 14, 9, 17, 13, 16, 4, 5, 6, 8, 9, 7, 16, 0, 10, 15, 1, 13, 14, 2};
        MerchantsInfo[i][mData] = Random_mData[ random(sizeof(Random_mData)) ];
    }
	
	DCC_SetBotActivity("Spain + Plus RolePlay!"); 
	
	for (new i = 0; i != MAX_VEHICLES; i ++) {
        GLOBAL_VEHICLES[i][gb_vehicle_RENT_DRIVER] = INVALID_PLAYER_ID;
    }

    for (new i = 0; i < sizeof(Rent_Vehicles_Point); i++) 
{
    new Float:rvx, Float:rvy, Float:rvz, Float:rva;
    rvx = Rent_Vehicles_Point[i][0];
    rvy = Rent_Vehicles_Point[i][1];
    rvz = Rent_Vehicles_Point[i][2];
    rva = Rent_Vehicles_Point[i][3];

    // Calculamos la posición final una sola vez
    rvx += (1.5 * floatsin(-rva, degrees));
    rvy += (1.5 * floatcos(-rva, degrees));

    // Creamos los elementos (No necesitamos guardar el ID del Pickup si no lo vamos a usar después)
    new pickup_id = CreateDynamicPickup(19135, 1, rvx, rvy, rvz, -1, -1); 
    CreateDynamicMapIcon(rvx, rvy, rvz, 8, -1, 0, 0); 
    CreateDynamic3DTextLabel("{66c4e4}{ffffff}Pedir {FED137}bici\n{ffffff}Acercate para pedir una {3885F8}bici", 0xFFFFFFFF, rvx, rvy, rvz, 10.0, .testlos = true);

    // Seteamos los datos para que el sistema de pickups funcione
    new infop[3];
    infop[0] = PICKUP_TYPE_RENT;
    infop[1] = i; 
    infop[2] = 0; 
    Streamer_SetArrayData(STREAMER_TYPE_PICKUP, pickup_id, E_STREAMER_EXTRA_ID, infop);
}

    
    for (new i = 0; i != sizeof(HealthUp_Pickups); i ++) {
		new infohp[3], Pickup_Info = CreateDynamicPickup(1240, 1, HealthUp_Pickups[i][0], HealthUp_Pickups[i][1], HealthUp_Pickups[i][2]);
		infohp[0] = PICKUP_TYPE_HEALTH_UP;
		infohp[1] = i; // Index
		infohp[2] = 0; // Nada
		Streamer_SetArrayData(STREAMER_TYPE_PICKUP, Pickup_Info, E_STREAMER_EXTRA_ID, infohp);
    }
    
    for (new i = 0; i != sizeof TruckLoadPoint; i ++)
	{
		new infotk[3], Pickup_Info = CreateDynamicPickup(2912, 14, TruckLoadPoint[i][0], TruckLoadPoint[i][1], TruckLoadPoint[i][2], -1, -1);
		infotk[0] = PICKUP_TYPE_TRUCK_LOAD;
		infotk[1] = i; // Index
		infotk[2] = 0; // Nada
		Streamer_SetArrayData(STREAMER_TYPE_PICKUP, Pickup_Info, E_STREAMER_EXTRA_ID, infotk);
	}

	//SetWorldMinutesForDay(180); // 3 horas reales = 24 horas en juego
	DisableInteriorEnterExits();
	ShowPlayerMarkers(PLAYER_MARKERS_MODE_GLOBAL);
	EnableStuntBonusForAll(false);
	ManualVehicleEngineAndLights();
	FormatDialogStrings();
	UsePlayerPedAnims();
	SetTimer("TimerQuince",120000,true); //Inicia timer de medio segundo
	SetTimer("TimerMedioSegundo_Global",500,true); //Inicia timer de medio segundo
	
    //Acercarse
	new Actor1;
    Actor1= CreateActor(70, 1679.759033, -1177.852539, 23.862537, 270.718200);
	ApplyActorAnimation(Actor1, "DEALER", "shop_pay", 4.1, 0, 0, 0, 0, 0);
	CreateActor(70,  1679.759033, -1183.989990, 23.862537, 271.885528);
	ApplyActorAnimation(Actor1, "DEALER", "shop_pay", 4.1, 0, 0, 0, 0, 0);
	CreateActor(142,  -2203.518310, -2335.805419, 30.625000, 133.744369);
	pick123[0] = CreatePickup(1314, 23, 1763.124023, -1893.625488, 13.561008, -1);
    pick123[1] = CreatePickup(2384, 1, 253.305541, 76.869255, 1003.640625, -1); //ropapd
    pick123[2] = CreatePickup(11723, 1 ,2350.5906,-1112.9050,1030.6010, -1);
	pick123[3] = CreatePickup(19627, 1 , 1396.346435, 1320.558471, 1501.090698, -1);
	pick123[4] = CreatePickup(19811, 1, 2404.8811, -1110.1249, 1030.6010, -1); 
	pick123[5] = CreatePickup(19592, 1, -27.964675, -89.948631, 1003.54687, -1); //24-7
    pick123[6] = CreatePickup(1582, 1, 2097.355712, -1818.040771, 13.382812, -1);//pizzero
	pick123[7] = CreatePickup(19793, 1, -527.670349, -97.338562, 63.176174, -1);//leñador
	pick123[8] = CreatePickup(1275, 1,  2039.018432, -1391.569946, 942.964233, -1);//medico
    pick123[9] = CreatePickup(19904, 1, -1906.577514, -1756.457519, 22.079319, -1);//basurero
	pick123[10] = CreatePickup(19904, 1, 1583.3824, -2145.0291, 13.5579, -1);//mecanico
    pick123[11] = CreatePickup(19638, 1, 1566.425659, 31.368597, 24.164062, -1);//agricultor
    pick123[12] = CreatePickup(19580, 1, 375.104553, -119.713500, 1001.499511, -1); 
    pick123[13] = CreatePickup(2769, 1, 368.757904, -6.018908, 1001.851562, -1); 
    pick123[14] = CreatePickup(19094, 1, 375.913238, -67.435272, 1001.507812, -1);
    pick123[15] = CreatePickup(19352, 1, 619.833618, -3.471272, 1000.990295, -1); 
    pick123[16] = CreatePickup(1274, 1,  1407.356201, 1320.171142, 1501.083984, -1); 
    pick123[17] = CreatePickup(19627, 1, 1599.1108, -2175.4253, 13.5779, -1); 
    pick123[18] = CreatePickup(19627, 1 , 2682.239013, -615.287658, -71.658203, -1);
    pick123[19] = CreatePickup(1274, 1,  2689.935302, -610.843261, -71.658203, -1); 
    pick123[20] = CreatePickup(1274, 1,  1104.930664, 1528.892578, 1452.480957, -1);  
    pick123[21] = CreatePickup(11738, 1,  -30.573265, -28.120218, 1003.557250, -1);  
    pick123[22] = CreatePickup(1254, 1,  1257.330566, 626.047302, -41.868579, -1);  
    pick123[23] = CreatePickup(1242, 1,  219.715866, 69.860252, 1005.039062, -1);  
    pick123[24] = CreatePickup(1241, 1,  1546.132202, 14.311807, 24.138372 , -1); 
    pick123[25] = CreatePickup(2061, 1,  2574.0151,-1304.6128,1044.1250 , -1);   
   // pick123[26] = CreatePickup(19607, 1,  246.373245, 87.147315, 1003.640625, -1);  
    pick123[27] = CreatePickup(1575, 1,  1414.296752, -28.214118, 1000.961547, -1);  
	ApplyActorAnimation(Actor1, "DEALER", "shop_pay", 4.1, 0, 0, 0, 0, 0);

	CreateDealerVehicle(DEALER_WANG, 400);
	CreateDealerVehicle(DEALER_WANG, 489);
	CreateDealerVehicle(DEALER_WANG, 500);
	CreateDealerVehicle(DEALER_WANG, 516);
	CreateDealerVehicle(DEALER_WANG, 517);
	CreateDealerVehicle(DEALER_WANG, 518);
	CreateDealerVehicle(DEALER_WANG, 526);
	CreateDealerVehicle(DEALER_WANG, 529);
	CreateDealerVehicle(DEALER_WANG, 533);
	CreateDealerVehicle(DEALER_WANG, 534);
	CreateDealerVehicle(DEALER_WANG, 535);
	CreateDealerVehicle(DEALER_WANG, 536);
	CreateDealerVehicle(DEALER_WANG, 540);
	CreateDealerVehicle(DEALER_WANG, 543);
	CreateDealerVehicle(DEALER_WANG, 546);
	CreateDealerVehicle(DEALER_WANG, 547);
	CreateDealerVehicle(DEALER_WANG, 549);
	CreateDealerVehicle(DEALER_WANG, 551);
	CreateDealerVehicle(DEALER_WANG, 554);
	CreateDealerVehicle(DEALER_WANG, 555);
	CreateDealerVehicle(DEALER_WANG, 558);
	CreateDealerVehicle(DEALER_WANG, 559);
	CreateDealerVehicle(DEALER_WANG, 560);
	CreateDealerVehicle(DEALER_WANG, 561);
	CreateDealerVehicle(DEALER_WANG, 562);

	CreateDealerVehicle(DEALER_GROTTI, 565);
	CreateDealerVehicle(DEALER_GROTTI, 566);
	CreateDealerVehicle(DEALER_GROTTI, 567);
	CreateDealerVehicle(DEALER_GROTTI, 576);
	CreateDealerVehicle(DEALER_GROTTI, 579);
	CreateDealerVehicle(DEALER_GROTTI, 580);
	CreateDealerVehicle(DEALER_GROTTI, 585);
	CreateDealerVehicle(DEALER_GROTTI, 589);
	CreateDealerVehicle(DEALER_GROTTI, 600);
	CreateDealerVehicle(DEALER_GROTTI, 602);
	CreateDealerVehicle(DEALER_GROTTI, 603);
	CreateDealerVehicle(DEALER_GROTTI, 402);
	CreateDealerVehicle(DEALER_GROTTI, 405);

	CreateDealerVehicle(DEALER_COUTT_AND_SCHUTZ, 466);
	CreateDealerVehicle(DEALER_COUTT_AND_SCHUTZ, 605);
	CreateDealerVehicle(DEALER_COUTT_AND_SCHUTZ, 542);
	CreateDealerVehicle(DEALER_COUTT_AND_SCHUTZ, 462);
	CreateDealerVehicle(DEALER_COUTT_AND_SCHUTZ, 543);
	CreateDealerVehicle(DEALER_COUTT_AND_SCHUTZ, 529);

	CreateDealerVehicle(DEALER_OTTOS_AUTOS, 401);
	CreateDealerVehicle(DEALER_OTTOS_AUTOS, 411);
	CreateDealerVehicle(DEALER_OTTOS_AUTOS, 415);
	CreateDealerVehicle(DEALER_OTTOS_AUTOS, 429);
	CreateDealerVehicle(DEALER_OTTOS_AUTOS, 434);
	CreateDealerVehicle(DEALER_OTTOS_AUTOS, 451);
	CreateDealerVehicle(DEALER_OTTOS_AUTOS, 506);
	CreateDealerVehicle(DEALER_OTTOS_AUTOS, 541);
	CreateDealerVehicle(DEALER_OTTOS_AUTOS, 545);

	CreateDealerVehicle(DEALER_SHODY, 401);
	CreateDealerVehicle(DEALER_SHODY, 404);
	CreateDealerVehicle(DEALER_SHODY, 405);
	CreateDealerVehicle(DEALER_SHODY, 410);
	CreateDealerVehicle(DEALER_SHODY, 412);
	CreateDealerVehicle(DEALER_SHODY, 413);
	CreateDealerVehicle(DEALER_SHODY, 418);
	CreateDealerVehicle(DEALER_SHODY, 419);
	CreateDealerVehicle(DEALER_SHODY, 421);
	CreateDealerVehicle(DEALER_SHODY, 422);
	CreateDealerVehicle(DEALER_SHODY, 426);
	CreateDealerVehicle(DEALER_SHODY, 426);
	CreateDealerVehicle(DEALER_SHODY, 439);
	CreateDealerVehicle(DEALER_SHODY, 445);
	CreateDealerVehicle(DEALER_SHODY, 458);
	CreateDealerVehicle(DEALER_SHODY, 459);
	CreateDealerVehicle(DEALER_SHODY, 466);
	CreateDealerVehicle(DEALER_SHODY, 467);
	CreateDealerVehicle(DEALER_SHODY, 474);
	CreateDealerVehicle(DEALER_SHODY, 475);
	CreateDealerVehicle(DEALER_SHODY, 477);
	CreateDealerVehicle(DEALER_SHODY, 478);
	CreateDealerVehicle(DEALER_SHODY, 479);
	CreateDealerVehicle(DEALER_SHODY, 480);
	CreateDealerVehicle(DEALER_SHODY, 482);
	CreateDealerVehicle(DEALER_SHODY, 483);
	CreateDealerVehicle(DEALER_SHODY, 489);
	CreateDealerVehicle(DEALER_SHODY, 491);
	CreateDealerVehicle(DEALER_SHODY, 492);
	CreateDealerVehicle(DEALER_SHODY, 496);
	CreateDealerVehicle(DEALER_SHODY, 500);
	CreateDealerVehicle(DEALER_SHODY, 507);
	CreateDealerVehicle(DEALER_SHODY, 461);
	CreateDealerVehicle(DEALER_SHODY, 462);
	CreateDealerVehicle(DEALER_SHODY, 463);
	CreateDealerVehicle(DEALER_SHODY, 468);
	CreateDealerVehicle(DEALER_SHODY, 471);
	CreateDealerVehicle(DEALER_SHODY, 521);
	CreateDealerVehicle(DEALER_SHODY, 522);
	CreateDealerVehicle(DEALER_SHODY, 581);
	CreateDealerVehicle(DEALER_SHODY, 586);
	CreateDealerVehicle(DEALER_SHODY, 470);
	CreateDealerVehicle(DEALER_SHODY, 444);
	CreateDealerVehicle(DEALER_SHODY, 556);
	CreateDealerVehicle(DEALER_SHODY, 568);
	CreateDealerVehicle(DEALER_SHODY, 571);
	CreateDealerVehicle(DEALER_SHODY, 531);
	CreateDealerVehicle(DEALER_SHODY, 409);
	CreateDealerVehicle(DEALER_SHODY, 573);


	CreateDealerVehicle(DEALER_BOAT, 446);
	CreateDealerVehicle(DEALER_BOAT, 452);
	CreateDealerVehicle(DEALER_BOAT, 453);
	CreateDealerVehicle(DEALER_BOAT, 454);
	CreateDealerVehicle(DEALER_BOAT, 472);
	CreateDealerVehicle(DEALER_BOAT, 484);
	CreateDealerVehicle(DEALER_BOAT, 473);
	CreateDealerVehicle(DEALER_BOAT, 493);
	CreateDealerVehicle(DEALER_BOAT, 595);

	//db
	LoadProperties();
	
	CargarFaccionVehicles();
	
	SetTimer("TimerPlayer", segundos(1), true);
	
	
    	//HABITACION INTRO PARA REGISTRARSE
	CreateDynamicObject(19624, 446.51517, 514.81940, 1001.63550,   0.00000, 0.00000, 29.44436); //MALETA ROCKSTAR DE LA HABITACION DE LA INTRO
	SetDynamicObjectMaterial(CreateDynamicObject(19893, 444.1881, 514.5712, 1001.3964,   0.0000, 0.0000, 0.0), 1, 18646, "matcolours", "grey-50-percent", 0xFFFFFFFF); //LAPTOP DE LA HABITACION DE LA INTRO
	SetDynamicObjectMaterial(CreateDynamicObject(18981, 444.61780, 510.80801, 1004.14160,   0.00000, 90.00000, 0.00000), 0, 18646, "matcolours", "black", 0xFFFFFFFF); //TECHO NEGRO PRIMERA HABITACION DE LA INTRO
	CreateDynamicObject(2102, 443.90033, 514.92853, 1001.66467,   0.00000, 0.00000, 38.35522); //RADIO DE LA HABITACION DE LA INTRO
	//LoadIntroData();
	
	// Pickup Posición 1
    CreateDynamicPickup(19197, 1, 1595.7025, -2166.4650, 13.6590, 0); 
    CreateDynamicPickup(19197, 1, 1582.3721, -2166.6723, 13.6590, 0); 

    // Creamos las ÁREAS (estas sí detectan el auto)
    // El '3.5' es el radio de detección
    Area_TallerMotor[0] = CreateDynamicCircle(1595.7025, -2166.4650, 3.5, 0, 0);
    Area_TallerMotor[1] = CreateDynamicCircle(1582.3721, -2166.6723, 3.5, 0, 0);
    CreateDynamic3DTextLabel("{66c4e4}{ffffff}Acércate para mejorar tu vehiculo", -1, 1595.7025, -2166.4650, 13.6590, 10.0);
    CreateDynamic3DTextLabel("{66c4e4}{ffffff}Acércate para mejorar tu vehiculo", -1, 1582.3721, -2166.6723, 13.6590, 10.0);
	
	//Bienvenida
	CreateActor(93, 1763.502197, -1893.689086, 13.561132, 83.216438);
	CreateDynamic3DTextLabel("{66c4e4}{ffffff}Bienvenido a {66c4e4}Spain+\n{66c4e4}{ffffff}Acercate para mostrarte algo.", -1 , 1763.502197, -1893.689086, 13.561132, 5.0, .testlos = true , .interiorid = 0);	
	
	//autoescuela
	CreateDynamic3DTextLabel("Usa "YELLOW"/examen "WHITE"para realizar el examen por 500$.", 0xFFFFFFFF, 1063.718994, -343.093566, 2797.699951, 5.0, .testlos = true, .worldid = -1, .interiorid = -1);

	// Map Icons Hospitales
	//for(new i = 0; i < sizeof Hospital_Spawn_Positions; i++) CreateDynamicMapIcon(Hospital_Spawn_Positions[i][hspi_X], Hospital_Spawn_Positions[i][hspi_Y], Hospital_Spawn_Positions[i][hspi_Z], 22, -1, 0, 0);
    
	//Tuning
	CreateDynamicMapIcon(263.592102, 22.960014, 2.170951, 63, -1, 0, 0);
	CreateDynamic3DTextLabel("{66c4e4}{ffffff}Usa "YELLOW"/tuning "WHITE"para tunear tu vehiculo", 0xFFFFFFFF, 263.592102, 22.960014, 2.170951, 10.0, .testlos = true, .worldid = 0, .interiorid = 0); 
	
	//Carreras 
	CreateDynamicPickup(1314, 1, 2555.633789, -1851.066528, 3.853566, 0, 0);
	CreateDynamicMapIcon(2555.633789, -1851.066528, 3.853566, 53, -1, 0, 0);
	CreateDynamic3DTextLabel("{66c4e4}{ffffff}Carrera callejeras {66c4e4}/retar", 0xFFFFFFFF, 2555.633789, -1851.066528, 3.853566, 10.0, .testlos = true, .interiorid = 0);
	
	//Bebederos
	BebederoPickup[0] = CreateDynamicPickup(1543, 1, 1674.2561, -1472.2843, 3002.8413, -1);
    CreateDynamic3DTextLabel(" {66c4e4}{ffffff}Acércate para beber agua", -1, 1674.2561, -1472.2843, 3002.8413, 5.0);

    // Coordenada 2
    BebederoPickup[1] = CreateDynamicPickup(1543, 1, 1696.4534, -1458.8581, 3002.8413, -1);
    CreateDynamic3DTextLabel(" {66c4e4}{ffffff}Acércate para beber agua", -1, 1696.4534, -1458.8581, 3002.8413, 5.0);
    
	//3d texts armarios
	for(new i = 0; i < sizeof PROPERTY_CLOSET_POS; i++)
	{
		CreateDynamic3DTextLabel("{66c4e4}{ffffff}Armario\n\n{66c4e4}{ffffff}Escribe {66c4e4}/armario "WHITE"para verlo.", 0xFFFFFFFF, PROPERTY_CLOSET_POS[i][property_closet_X], PROPERTY_CLOSET_POS[i][property_closet_Y], PROPERTY_CLOSET_POS[i][property_closet_Z] + 0.25, 10.0, .testlos = true, .interiorid = PROPERTY_INTERIORS[i][property_INT_INTERIOR]);
		if(PROPERTY_INTERIORS[i][property_EMPTY_INTERIOR]) CreateDynamic3DTextLabel(""WHITE"Armario\n\n"WHITE"Escribe "YELLOW"/armario "WHITE"para verlo", 0xFFFFFFFF, PROPERTY_CLOSET_POS[i][property_closet_X], PROPERTY_CLOSET_POS[i][property_closet_Y], PROPERTY_CLOSET_POS[i][property_closet_Z] + 0.25 + PROPERTY_EMPTY_INTERIOR_Z_OFFSET, 10.0, .testlos = true, .interiorid = PROPERTY_INTERIORS[i][property_INT_INTERIOR]);
	}
	
	//Trailero
	
	for(new i = 0; i < sizeof(Puntos_Carga_Trailer); i++)
	{
		// Creamos el Label (Estilo el de gasolinera que pasaste)
		CargaLabel[i] = CreateDynamic3DTextLabel(""WHITE"Punto de Carga\n\n"WHITE"Estado: "GREEN"Disponible\n"WHITE"Acércate con tu "YELLOW"Camión "WHITE"para cargar o usa /tcargar", 0xFFFFFFFF, Puntos_Carga_Trailer[i][pc_X], Puntos_Carga_Trailer[i][pc_Y], Puntos_Carga_Trailer[i][pc_Z] + 0.5, 10.0, .testlos = true);

		// Creamos el Pickup debajo del label
		CargaPickup[i] = CreateDynamicPickup(2912, 14, Puntos_Carga_Trailer[i][pc_X], Puntos_Carga_Trailer[i][pc_Y], Puntos_Carga_Trailer[i][pc_Z], 0);
	}

	// 3D Texts Ropas
	for(new i = 0; i < sizeof Clothing_Shop_Positions; i++)
	{
		new label_str[256];
		format(label_str, sizeof label_str, "{66c4e4}{ffffff}%s\n{66c4e4}{ffffff}Acercate y presiona {66c4e4}[H] {ffffff}para ver el catalogo.", Clothing_Shop_Positions[i][clothing_shop_NAME]);
		CreateDynamic3DTextLabel(label_str, 0xFFFFFFFF, Clothing_Shop_Positions[i][clothing_shop_X], Clothing_Shop_Positions[i][clothing_shop_Y], Clothing_Shop_Positions[i][clothing_shop_Z] + 0.25, 10.0, .testlos = true, .interiorid = Clothing_Shop_Positions[i][clothing_shop_INTERIOR]);
	}	


	// 3D Texts Pedir comida
	for(new i = 0; i < sizeof Fast_Food_Positions; i++)
	{
		new label_str[128];
		format(label_str, sizeof label_str, "{66c4e4}{ffffff}Acercate para ver el menu del local.", Fast_Food_Positions[i][fast_food_NAME]);
		CreateDynamic3DTextLabel(label_str, 0xFFFFFFFF, Fast_Food_Positions[i][fast_food_X], Fast_Food_Positions[i][fast_food_Y], Fast_Food_Positions[i][fast_food_Z] + 0.25, 10.0, .testlos = true, .interiorid = Fast_Food_Positions[i][fast_food_INTERIOR]);
	}
	
	for(new i = 0; i < 3; i++) 
    {
    // Extraemos el valor del skin de la columna 6 (la séptima)
    new Float:fSkin = InfoActoresQ[i][6]; 
    new iSkin = floatround(fSkin); // Lo convertimos a entero limpiamente

    // Si por alguna razón sigue dando 0, le asignamos uno por defecto para que no sea CJ
    if(iSkin <= 0) iSkin = 28; 

    CreateDynamicActor(iSkin, InfoActoresQ[i][0], InfoActoresQ[i][1], InfoActoresQ[i][2], InfoActoresQ[i][3]);
    
    PickupProveedorQ[i] = CreateDynamicPickup(1212, 1, InfoActoresQ[i][0], InfoActoresQ[i][1], InfoActoresQ[i][2], -1, -1, -1, 5.0);
    
    CreateDynamic3DTextLabel("{66c4e4}{F1C40F}Proveedor de Químicos\n{66c4e4}{ffffff}Acércate para interactuar", -1, InfoActoresQ[i][0], InfoActoresQ[i][1], InfoActoresQ[i][2]+1.0, 10.0);
    }
    
    CreateDynamic3DTextLabel("{66c4e4}{F1C40F}Panel fabrica\n{66c4e4}{ffffff}Acércate para interactuar", -1, 1414.296752, -28.214118, 1000.961547, 7.0);



	// 3D Texts Bank
	for(new i = 0; i < sizeof Bank_Interior_Positions; i++) CreateDynamic3DTextLabel("Banco\n{66c4e4}{ffffff}Acercate o usa  /banco para realizar una operación o crear una cuenta.", 0xFFFFFFFF, Bank_Interior_Positions[i][bank_X], Bank_Interior_Positions[i][bank_Y], Bank_Interior_Positions[i][bank_Z] + 0.25, 10.0, .testlos = true, .worldid = Bank_Interior_Positions[i][bank_WORLD], .interiorid = Bank_Interior_Positions[i][bank_INTERIOR]);
	for(new i = 0; i < sizeof BUY_PROPERTIES_SITES; i++) CreateDynamic3DTextLabel("Banco\n{66c4e4}{ffffff}Acercate para comprar una propiedad/negocio.", 0xFFFFFFFF, BUY_PROPERTIES_SITES[i][site_X], BUY_PROPERTIES_SITES[i][site_Y], BUY_PROPERTIES_SITES[i][site_Z] + 0.25, 10.0, .testlos = true, .worldid = BUY_PROPERTIES_SITES[i][site_WORLD], .interiorid = BUY_PROPERTIES_SITES[i][site_INTERIOR]);

	//Cajeros
	for(new i = 0; i < sizeof ATM_BANK; i ++)
	{
		CreateDynamicObject(ATM_BANK[i][atm_modelid], ATM_BANK[i][atm_X], ATM_BANK[i][atm_Y], ATM_BANK[i][atm_Z], ATM_BANK[i][atm_RX], ATM_BANK[i][atm_RY], ATM_BANK[i][atm_RZ], 0, 0);

		ATM_BANK[i][atm_X] += (-0.5 * floatsin(-(ATM_BANK[i][atm_RZ] - 90.0), degrees));
		ATM_BANK[i][atm_Y] += (-0.5 * floatcos(-(ATM_BANK[i][atm_RZ] - 90.0), degrees));
		CreateDynamicMapIcon(ATM_BANK[i][atm_X], ATM_BANK[i][atm_Y], ATM_BANK[i][atm_Z], 52, -1, 0, 0);
	//	CreateDynamic3DTextLabel("{66c4e4}{ffffff}Cajero automático\n{66c4e4}{ffffff}Acercate O Presiona {66c4e4}[ H ] "WHITE"para realizar operaciones", 0xFFFFFFFF, ATM_BANK[i][atm_X], ATM_BANK[i][atm_Y], ATM_BANK[i][atm_Z] + 0.25, 10.0, .testlos = true, .worldid = 0, .interiorid = 0);

		new atm_pickup_id = CreateDynamicPickup(0, 1, ATM_BANK[i][atm_X], ATM_BANK[i][atm_Y], ATM_BANK[i][atm_Z] + 0.10, 0, 0), info[3];
		info[0] = PICKUP_TYPE_ATM;
		info[1] = i; // Index
		info[2] = 0; // Nada
		Streamer_SetArrayData(STREAMER_TYPE_PICKUP, atm_pickup_id, E_STREAMER_EXTRA_ID, info); 
		CreateAtmRobberyInfo(i);
	}
	
	for (new i = 1; i < E_WORKS; i ++)
	{
		if (!obtain_work_coords[i][obtain_work_AVAILABLE]) continue;
		switch(work_info[i][work_info_TYPE])
		{
			case WORK_TYPE_NORMAL:
			{
				if (obtain_work_coords[i][obtain_work_PICKUP])
				{
				    new info[3], Pickup_Info;
					Pickup_Info = CreateDynamicPickup(1314, 1, obtain_work_coords[i][obtain_work_X], obtain_work_coords[i][obtain_work_Y], obtain_work_coords[i][obtain_work_Z], -1, obtain_work_coords[i][obtain_work_INTERIOR]);
					info[0] = PICKUP_TYPE_WORK;
					info[1] = i; // Index
					info[2] = 0; // Nada
					Streamer_SetArrayData(STREAMER_TYPE_PICKUP, Pickup_Info, E_STREAMER_EXTRA_ID, info);
				}
				if (obtain_work_coords[i][obtain_work_MAP_ICON] != -1) CreateDynamicMapIcon(obtain_work_coords[i][obtain_work_MAP_ICON_X], obtain_work_coords[i][obtain_work_MAP_ICON_Y], obtain_work_coords[i][obtain_work_MAP_ICON_Z], obtain_work_coords[i][obtain_work_MAP_ICON_ID], -1, 0, 0);
			}
		}
	}

	// 3D Texts Gasolinera
	for(new i = 0; i < sizeof Fuel_Stations; i++)
	{
		CreateDynamic3DTextLabel(""WHITE"Gasolinera\n\n"WHITE"Precio: "WHITE"9$/Litro\n"WHITE"Escribe "YELLOW"/gasolina [litros / lleno] "WHITE"para repostar\n\nCompra "YELLOW"/bidon "WHITE"de 20 litros por 250$", 0xFFFFFFFF, Fuel_Stations[i][fs_X], Fuel_Stations[i][fs_Y], Fuel_Stations[i][fs_Z] + 0.25, 10.0, .testlos = true, .worldid = 0, .interiorid = 0);
	}

		// Minero

	CreateDynamic3DTextLabel("Punto de extración de {FF7373}carbon\n\n{ffffff}Presiona {FF7373}[ H ] {ffffff}para comenzar a picar", 1 ,270.839691, 2949.375732, 12.447422, 10, .testlos = true , .interiorid = 0);
	CreateDynamic3DTextLabel("Punto de extración de {FF7373}cobre\n\n{ffffff}Presiona {FF7373}[ H ] {ffffff}para comenzar a picar", -1 ,256.480010, 2958.872558, 12.863934, 10, .testlos = true , .interiorid = 0);
	CreateDynamic3DTextLabel("Punto de extración de {FF7373}granito\n\n{ffffff}Presiona {FF7373}[ H ] {ffffff}para comenzar a picar", 1 ,257.849578, 2985.280029, 11.319037, 10, .testlos = true , .interiorid = 0);
	CreateDynamic3DTextLabel("{ffffff}Presiona {FF7373}[ H ] {ffffff}para comenzar a trabajar", 1 ,-2203.586914, -2335.715820, 30.625000, 10, .testlos = true , .interiorid = 0);
	CreateActor(260, -2203.586914, -2335.715820, 30.625000, 10);
	CreateDynamic3DTextLabel("Presiona {FF7373}[ H ] {ffffff}para comenzar / terminar de minar", 0xFFFFFFFF, 260.001434, 2914.073242, 10.488270, 10, .testlos = true , .interiorid = 0);
	CreateDynamicPickup(1239, 260.001434, 2914.073242, 10.488270, 99.139328, -1, -1);
	
	// Sotano
	CreateDynamic3DTextLabel("{YELLOW}/sotano salir", -1, 2218.5437,728.5158,647.1651, 10, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, .testlos = true, .worldid = -1, .interiorid = -1);
	
	//24/7 Int
	CreateDynamic3DTextLabel("{66c4e4}{ffffff}Acertate para ver los productos {66c4e4}disponibles", 0xFFFFFFFF, -27.964675, -89.948631, 1003.546875 + 0.25, 10.0, .testlos = true, .interiorid = 18);

	//psino
	CreateDynamic3DTextLabel("{00ee33}{FFFFFF}Carcerl\n {00ee33}{FFFFFF}Usar /entregar[ID] para ingresarlo ala prisión.", 0xFFFFFFFF,  1564.971923, -1694.916381, 5.617697, 10.0, .testlos = true, .interiorid = 0, .worldid = 0);	
	CreateDynamic3DTextLabel("{00ee33}{FFFFFF}Carcerl\n {00ee33}{FFFFFF}Usar /entregar[ID] para ingresarlo ala prisión.", 0xFFFFFFFF,  -1589.333496, 716.759521, -5.515106, 10.0, .testlos = true, .interiorid = 0, .worldid = 0);	
	CreateDynamic3DTextLabel("{00ee33}{FFFFFF}Carcerl\n {00ee33}{FFFFFF}Usar /entregar[ID] para ingresarlo ala prisión.", 0xFFFFFFFF, 2282.200439, 2431.598632, 3.000518, 10.0, .testlos = true, .interiorid = 0, .worldid = 0);
	CreateDynamic3DTextLabel("{00ee33}{FFFFFF}Carcerl\n {00ee33}{FFFFFF}Usar /entregar[ID] para ingresarlo ala prisión.", 0xFFFFFFFF, 343.297515, 2537.837158, 16.772514, 10.0, .testlos = true, .interiorid = 0, .worldid = 0);
	CreateDynamic3DTextLabel("{00ee33}{FFFFFF}Carcerl\n {00ee33}{FFFFFF}Usar /entregar[ID] para ingresarlo ala prisión.", 0xFFFFFFFF, 294.1199, -1546.6669, 24.5938, 10.0, .testlos = true, .interiorid = 0, .worldid = 0);
	CreateDynamic3DTextLabel("{00ee33}{FFFFFF}Carcerl\n {00ee33}{FFFFFF}Usar /entregar[ID] para ingresarlo ala prisión.", 0xFFFFFFFF, 294.1199, -1546.6669, 24.5938, 10.0, .testlos = true, .interiorid = 0, .worldid = 0);
	CreateDynamic3DTextLabel("{00ee33}{FFFFFF}Carcerl\n {00ee33}{FFFFFF}Usar /entregar[ID] para ingresarlo ala prisión.", 0xFFFFFFFF,  1824.5709, -1538.0658, 13.5469, 10.0, .testlos = true, .interiorid = 0, .worldid = 0);	
   
	//Notario
	CreateDynamic3DTextLabel("{66c4e4}{ffffff}Acercate para vender\nalguna propiedad o vehiculo", 0xFFFFFFFF, 619.687866, -3.583216, 1000.990295, 10.0, .testlos = true, .interiorid = 0);
	//Grua
	CreateDynamic3DTextLabel("{66c4e4}{ffffff}Acercate para solicitar\nel servicio de grúa a un vehiculo", 0xFFFFFFFF, 615.939758, -3.462686, 1000.990295, 10.0, .testlos = true, .interiorid = 0);
	
	//Random taximeters
	for (new i = 0; i != MAX_VEHICLES; i ++) {
		GLOBAL_VEHICLES[i][gb_vehicle_RESPAWN_TIME] = gettime() + 600;
	}
	
	//San Andreas Vehicles
	for(new i = 0; i < sizeof San_Andreas_Vehicles; i ++)
	{
		San_Andreas_Vehicles[i][san_andreas_vehicle_Text3D] = CreateDynamic3DTextLabel(
			GetTextSpawnVehicle(i, 0),
			0xFFFFFFFF,
			San_Andreas_Vehicles[i][san_andreas_vehicle_SPAWN_X],
			San_Andreas_Vehicles[i][san_andreas_vehicle_SPAWN_Y],
			San_Andreas_Vehicles[i][san_andreas_vehicle_SPAWN_Z],
			2.0,
			.testlos = true,
			.worldid = San_Andreas_Vehicles[i][san_andreas_vehicle_WORLD]
		);

		new p_work = CreateDynamicPickup(
			2485,
			1,
			San_Andreas_Vehicles[i][san_andreas_vehicle_SPAWN_X],
			San_Andreas_Vehicles[i][san_andreas_vehicle_SPAWN_Y],
			San_Andreas_Vehicles[i][san_andreas_vehicle_SPAWN_Z],
			.worldid = San_Andreas_Vehicles[i][san_andreas_vehicle_WORLD]
		);

		new info[2];

		info[0] = PICKUP_V_SPAWN_WORK;
		info[1] = i;

		Streamer_SetArrayData(STREAMER_TYPE_PICKUP, p_work, E_STREAMER_EXTRA_ID, info);


	//San Andreas Vehicles
	/*for(new i = 0; i != sizeof San_Andreas_Vehicles; i ++)
	{

		if(San_Andreas_Vehicles[i][san_andreas_vehicle_COLOR_1] == -1) San_Andreas_Vehicles[i][san_andreas_vehicle_COLOR_1] = valid_work_vehicle_colors[random(sizeof(valid_work_vehicle_colors))];
		if(San_Andreas_Vehicles[i][san_andreas_vehicle_COLOR_2] == -1) San_Andreas_Vehicles[i][san_andreas_vehicle_COLOR_2] = valid_work_vehicle_colors[random(sizeof(valid_work_vehicle_colors))];

		new vehicle_id = INVALID_VEHICLE_ID, respawn_time = 300;

		if(San_Andreas_Vehicles[i][san_andreas_vehicle_TYPE] == VEHICLE_TYPE_WORK)
		{
			if(work_info[ San_Andreas_Vehicles[i][san_andreas_vehicle_TYPE_IN] ][work_info_TYPE] == WORK_TYPE_FAMILY)
			{
				respawn_time = 2700;
			}
		}

		vehicle_id = CreateVehicle(San_Andreas_Vehicles[i][san_andreas_vehicle_MODELID], San_Andreas_Vehicles[i][san_andreas_vehicle_SPAWN_X], San_Andreas_Vehicles[i][san_andreas_vehicle_SPAWN_Y], San_Andreas_Vehicles[i][san_andreas_vehicle_SPAWN_Z], San_Andreas_Vehicles[i][san_andreas_vehicle_SPAWN_ANGLE], San_Andreas_Vehicles[i][san_andreas_vehicle_COLOR_1], San_Andreas_Vehicles[i][san_andreas_vehicle_COLOR_2], respawn_time, false);
		if(vehicle_id == INVALID_VEHICLE_ID) continue;

		GLOBAL_VEHICLES[vehicle_id][gb_vehicle_VALID] = true;
		GLOBAL_VEHICLES[vehicle_id][gb_vehicle_TYPE] = San_Andreas_Vehicles[i][san_andreas_vehicle_TYPE];
		GLOBAL_VEHICLES[vehicle_id][gb_vehicle_MODELID] = San_Andreas_Vehicles[i][san_andreas_vehicle_MODELID];
		format(GLOBAL_VEHICLES[vehicle_id][gb_vehicle_NUMBER_PLATE], 32, "%c%c%c-%04d", getRandomLetter(), getRandomLetter(), getRandomLetter(), random(9999));
		GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_X] = San_Andreas_Vehicles[i][san_andreas_vehicle_SPAWN_X];
		GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_Y] = San_Andreas_Vehicles[i][san_andreas_vehicle_SPAWN_Y];
		GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_Z] = San_Andreas_Vehicles[i][san_andreas_vehicle_SPAWN_Z];
		GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_ANGLE] = San_Andreas_Vehicles[i][san_andreas_vehicle_SPAWN_ANGLE];

		GLOBAL_VEHICLES[vehicle_id][gb_vehicle_POS][0] = GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_X];
		GLOBAL_VEHICLES[vehicle_id][gb_vehicle_POS][1] = GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_Y];
		GLOBAL_VEHICLES[vehicle_id][gb_vehicle_POS][2] = GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_Z];

		GLOBAL_VEHICLES[vehicle_id][gb_vehicle_HEALTH] = 1000.0;
		GLOBAL_VEHICLES[vehicle_id][gb_vehicle_DAMAGE_PANELS] = 0;
		GLOBAL_VEHICLES[vehicle_id][gb_vehicle_DAMAGE_DOORS] = 0;
		GLOBAL_VEHICLES[vehicle_id][gb_vehicle_DAMAGE_LIGHTS] = 0;
		GLOBAL_VEHICLES[vehicle_id][gb_vehicle_DAMAGE_TIRES] = 0;
		GLOBAL_VEHICLES[vehicle_id][gb_vehicle_COLOR_1] = San_Andreas_Vehicles[i][san_andreas_vehicle_COLOR_1];
		GLOBAL_VEHICLES[vehicle_id][gb_vehicle_COLOR_2] = San_Andreas_Vehicles[i][san_andreas_vehicle_COLOR_2];
		GLOBAL_VEHICLES[vehicle_id][gb_vehicle_PAINTJOB] = 3; // No paintjob
		GLOBAL_VEHICLES[vehicle_id][gb_vehicle_MAX_GAS] = VEHICLE_INFO[ GLOBAL_VEHICLES[vehicle_id][gb_vehicle_MODELID] - 400][vehicle_info_MAX_GAS];
		GLOBAL_VEHICLES[vehicle_id][gb_vehicle_GAS] = frandom(GLOBAL_VEHICLES[vehicle_id][gb_vehicle_MAX_GAS], GLOBAL_VEHICLES[vehicle_id][gb_vehicle_MAX_GAS] / 3, 2);
		GLOBAL_VEHICLES[vehicle_id][gb_vehicle_STATE] = VEHICLE_STATE_NORMAL;
		GLOBAL_VEHICLES[vehicle_id][gb_vehicle_VIP] = San_Andreas_Vehicles[i][san_andreas_vehicle_vip];
		GLOBAL_VEHICLES[vehicle_id][gb_vehicle_WORLD] = San_Andreas_Vehicles[i][san_andreas_vehicle_WORLD];

		if(GLOBAL_VEHICLES[vehicle_id][gb_vehicle_TYPE] == VEHICLE_TYPE_WORK)
		{
			WORK_VEHICLES[vehicle_id][work_vehicle_VALID] = true;
			WORK_VEHICLES[vehicle_id][work_vehicle_WORK] = San_Andreas_Vehicles[i][san_andreas_vehicle_TYPE_IN];
			WORK_VEHICLES[vehicle_id][work_vehicle_EXP] = San_Andreas_Vehicles[i][san_andreas_vehicle_TYPE_IN_EXP];
			WORK_VEHICLES[vehicle_id][work_vehicle_NEED_DUTY] = work_info[ WORK_VEHICLES[vehicle_id][work_vehicle_WORK] ][work_info_NEED_DUTY];
		}

		SetVehicleToRespawnEx(vehicle_id);
		CallLocalFunction("OnSanAndreasVehicleLoad", "i", vehicle_id);
		CallLocalFunction("OnTrashVehicleObject", "i", vehicle_id);*/
	}
	CallLocalFunction("OnSanAndreasVehiclesLoad", "");


	for(new i = 0; i != sizeof San_Andreas_Barriers; i ++)
	{
		new tmpobjid = CreateDynamicObject(966, San_Andreas_Barriers[i][barrier_X], San_Andreas_Barriers[i][barrier_Y], San_Andreas_Barriers[i][barrier_Z], 0.0, 0.0, San_Andreas_Barriers[i][barrier_ROTATION], San_Andreas_Barriers[i][barrier_WORLD], San_Andreas_Barriers[i][barrier_INTERIOR], .streamdistance = 600.0, .drawdistance = 600.0);
		SetDynamicObjectMaterial(tmpobjid, 0, 9514, "711_sfw", "ws_carpark2", 0xFFFFFFFF);
		SetDynamicObjectMaterial(tmpobjid, 1, 9514, "711_sfw", "ws_carpark2", 0x00000000);
		tmpobjid = CreateDynamicObject(968, San_Andreas_Barriers[i][barrier_X], San_Andreas_Barriers[i][barrier_Y], San_Andreas_Barriers[i][barrier_Z] + 0.72967, 0.0, -90.0, San_Andreas_Barriers[i][barrier_ROTATION], San_Andreas_Barriers[i][barrier_WORLD], San_Andreas_Barriers[i][barrier_INTERIOR], .streamdistance = 600.0, .drawdistance = 600.0);
		SetDynamicObjectMaterial(tmpobjid, 0, 16640, "a51", "ws_carparkwall2", 0xFFFFFFFF);
		SetDynamicObjectMaterial(tmpobjid, 1, 16640, "a51", "ws_carparkwall2", 0x00000000);
		San_Andreas_Barriers[i][barrier_OBJECT_ID] = tmpobjid;

		new label_str[256];

		if(San_Andreas_Barriers[i][barrier_PRICE] > 0) format(label_str, sizeof label_str, "{66c4e4}Peaje\n\n"WHITE"Toca el {66c4e4}claxón "WHITE"para pagar %s{"#GREEN_COLOR"}$", number_format_thousand(San_Andreas_Barriers[i][barrier_PRICE]));
		else {
			if(San_Andreas_Barriers[i][barrier_VEHICLE_TYPE]) format(label_str, sizeof label_str, "{66c4e4}%c%s\n\n"WHITE"Toca el {66c4e4}claxón "WHITE"para que te abran", toupper(work_info[ San_Andreas_Barriers[i][barrier_VEHICLE_TYPE_IN] ][work_info_NAME][0]), work_info[ San_Andreas_Barriers[i][barrier_VEHICLE_TYPE_IN] ][work_info_NAME][1]);
			else format(label_str, sizeof label_str, ""WHITE"Toca el {66c4e4}claxón "WHITE"para que te abran");
		}

		CreateDynamic3DTextLabel(label_str, 0xFFFFFFFF, San_Andreas_Barriers[i][barrier_X], San_Andreas_Barriers[i][barrier_Y], San_Andreas_Barriers[i][barrier_Z] + 1.5, 15.0, .worldid = San_Andreas_Barriers[i][barrier_WORLD], .interiorid = San_Andreas_Barriers[i][barrier_INTERIOR], .testlos = true);

		San_Andreas_Barriers[i][barrier_PLAYER_X] = San_Andreas_Barriers[i][barrier_X] + (3.4 * floatsin(-(San_Andreas_Barriers[i][barrier_ROTATION] + 90.0), degrees));
		San_Andreas_Barriers[i][barrier_PLAYER_Y] = San_Andreas_Barriers[i][barrier_Y] + (3.4 * floatcos(-(San_Andreas_Barriers[i][barrier_ROTATION] + 90.0), degrees));
		San_Andreas_Barriers[i][barrier_PLAYER_Z] = San_Andreas_Barriers[i][barrier_Z];
	}


	for(new i = 0; i != sizeof POLICE_GARAGE_DOORS; i ++)
	{
		POLICE_GARAGE_DOORS[i][police_gdoor_OBJECT_ID] = CreateDynamicObject(POLICE_GARAGE_DOORS[i][police_gdoor_MODELID], POLICE_GARAGE_DOORS[i][police_gdoor_CLOSED_X], POLICE_GARAGE_DOORS[i][police_gdoor_CLOSED_Y], POLICE_GARAGE_DOORS[i][police_gdoor_CLOSED_Z], POLICE_GARAGE_DOORS[i][police_gdoor_CLOSED_RX], POLICE_GARAGE_DOORS[i][police_gdoor_CLOSED_RY], POLICE_GARAGE_DOORS[i][police_gdoor_CLOSED_RZ], 0, 0);
	}
	for(new i = 0; i != sizeof POLICE_DOORS; i ++)
	{
		POLICE_DOORS[i][police_door_OBJECT_ID] = CreateDynamicObject(POLICE_DOORS[i][police_door_MODELID], POLICE_DOORS[i][police_door_X], POLICE_DOORS[i][police_door_Y], POLICE_DOORS[i][police_door_Z], 0.0, 0.0, POLICE_DOORS[i][police_door_RZ], POLICE_DOORS[i][police_door_WORLD], POLICE_DOORS[i][police_door_INTERIOR]);
		CreateDynamic3DTextLabel("{00fff4}{ffffff}Personal Oficial.\n{00fff4}{ffffff}Pulsa la letra {005295}[ F ] {ffffff}para abrir la puerta.", 0xFFFFFFFF, POLICE_DOORS[i][police_door_X], POLICE_DOORS[i][police_door_Y], POLICE_DOORS[i][police_door_Z] + 1.25, 5.0, .testlos = false, .interiorid = POLICE_DOORS[i][police_door_INTERIOR], .worldid = POLICE_DOORS[i][police_door_WORLD]);
	}
	
	Jail_Areas[0] = CreateDynamicRectangle(42.354259, -300.753021, 2105.428466, 182.283370, -1, 0);
	Jail_Areas[1] = CreateDynamicRectangle(42.354259, -300.753021, 2105.428466, 182.283370, -1, 10);
	Jail_Areas[2] = CreateDynamicRectangle(42.354259, -300.753021, 2105.428466, 182.283370, -1, 3);
	Jail_Areas[3] = CreateDynamicRectangle(42.354259, -300.753021, 2105.428466, 182.283370, -1, 13);

	//Safe Zones
	for(new i = 0; i != sizeof SAFE_ZONES; i ++)
	{
		SAFE_ZONES[i][safe_zone_AREA_ID] = CreateDynamicRectangle(SAFE_ZONES[i][safe_zone_MIN_X], SAFE_ZONES[i][safe_zone_MIN_Y], SAFE_ZONES[i][safe_zone_MAX_X], SAFE_ZONES[i][safe_zone_MAX_Y], SAFE_ZONES[i][safe_zone_WORLD], SAFE_ZONES[i][safe_zone_INTERIOR]);
		new info[2];
		info[0] = AREA_TYPE_SAFEZONE;
		info[1] = i;
		Streamer_SetArrayData(STREAMER_TYPE_AREA, SAFE_ZONES[i][safe_zone_AREA_ID], E_STREAMER_EXTRA_ID, info);
		
		SAFE_ZONES[i][safe_zone_AREA_ID] = GangZoneCreate(SAFE_ZONES[i][safe_zone_MIN_X], SAFE_ZONES[i][safe_zone_MIN_Y], SAFE_ZONES[i][safe_zone_MAX_X], SAFE_ZONES[i][safe_zone_MAX_Y]);
	}

	//Random taximeters
	for(new i = 0, j = GetVehiclePoolSize(); i <= j; i ++) TAXI_METER_VEHICLE[i][veh_taxi_meter_PRICE] = minrand(2, 8);

	//Carga camioneros
	for(new i = 0; i != sizeof LoadTrucksPoints; i ++)
	{
		CreateDynamic3DTextLabel("Acercate{"#PRIMARY_COLOR"} para {FFFFFF}cargar el camión", 0xFFFFFFFF, LoadTrucksPoints[i][0], LoadTrucksPoints[i][1], LoadTrucksPoints[i][2], 10.0, .testlos = true, .interiorid = 0);
	}

	for(new i; i != sizeof MechanicStartWorkingCoords; i++)
		CreateDynamic3DTextLabel("{66c4e4}{ffffff}Acercate para empezar a trabajar\no para dejar de trabajar", 0xFFFFFFFF, MechanicStartWorkingCoords[i][0], MechanicStartWorkingCoords[i][1], MechanicStartWorkingCoords[i][2], 5.0, .testlos = true, .interiorid = 0);

	for(new i; i != sizeof MechanicBuyPiecesCoords; i++)
		CreateDynamic3DTextLabel("{66c4e4}{ffffff}Piezas de mecánico\n{66c4e4}{ffffff}Acercate para comprar pizeas.\n{66c4e4}{ffffff}Precio de pieza: 1000$", 0xFFFFFFFF, MechanicBuyPiecesCoords[i][0], MechanicBuyPiecesCoords[i][1], MechanicBuyPiecesCoords[i][2], 5.0, .testlos = true, .interiorid = 0);

	for(new i; i != sizeof MechanicBuyKitsCoords; i++)
		CreateDynamic3DTextLabel("Kits de reparación\n\nPresiona "YELLOW"[H] "WHITE"para comprar un kit de reparación\nPrecio del kit: "WHITE"1.000$", 0xFFFFFFFF, MechanicBuyKitsCoords[i][0], MechanicBuyKitsCoords[i][1], MechanicBuyKitsCoords[i][2], 5.0, .testlos = true, .interiorid = 0);

	//Leñador
	CreateDynamicPickup(19793, 1, -527.670349, -97.338562, 63.176174, 0, 0);
	CreateDynamic3DTextLabel("{66c4e4}{ffffff}Acercate para empezar a trabajar\no para dejar de trabajar", 0xFFFFFFFF, -527.670349, -97.338562, 63.176174, 5.0, .testlos = true, .worldid = 0, .interiorid = 0);
	
	//Pizzero
	CreateDynamicPickup(1582, 1, 2097.355712, -1818.040771, 13.382812, 0, 0);
	CreateDynamic3DTextLabel("{66c4e4}{ffffff}Acercate para empezar a trabajar\no para dejar de trabajar", 0xFFFFFFFF, 2097.355712, -1818.040771, 13.382812, 5.0, .testlos = true, .worldid = 0, .interiorid = 0);
	
	//rutas
	CreateDynamic3DTextLabel("{00FF00}ESTACIÓN #1 IDLEWOOD\n\n{FFFFFF}Destino: Estación #2 {00FF00}Camioneros\n{FFFFFF}Presiona {00CCFF}G{FFFFFF} para subir al autobús, es gratis", 0xFFFFFFAA, 2270.7173, -1756.0719, 13.5469, 8.0, .testlos = true, .worldid = 0, .interiorid = 0);
	CreateDynamic3DTextLabel("{00FF00}ESTACIÓN #2 CAMIONEROS PDVSA\n\n{FFFFFF}Destino: Estación #3 {00FF00}Basurero\n{FFFFFF}Presiona {00CCFF}G{FFFFFF} para subir al autobús, es gratis", 0xFFFFFFAA, 2726.4551, -2413.7476, 13.6328, 8.0, .testlos = true, .worldid = 0, .interiorid = 0);
	CreateDynamic3DTextLabel("{00FF00}ESTACIÓN #3 BASURERO\n\n{FFFFFF}Destino: Estación #4 {00FF00}Unity (taxistas)\n{FFFFFF}Presiona {00CCFF}G{FFFFFF} para subir al autobús, es gratis", 0xFFFFFFAA, 2441.7756, -2655.9236, 13.6641, 8.0, .testlos = true, .worldid = 0, .interiorid = 0);
	CreateDynamic3DTextLabel("{00FF00}ESTACIÓN #4 UNITY STATION\n\n{FFFFFF}Destino: Estación #5 {00FF00}Gobierno Los Santos\n{FFFFFF}Presiona {00CCFF}G{FFFFFF} para subir al autobús, es gratis", 0xFFFFFFAA, 1829.2877, -1891.3835, 13.4709, 8.0, .testlos = true, .worldid = 0, .interiorid = 0);
	CreateDynamic3DTextLabel("{00FF00}ESTACIÓN #5 GOBIERNO LOS SANTOS\n\n{FFFFFF}Destino: Estación #6 {00FF00}Banco Spain+\n{FFFFFF}Presiona {00CCFF}G{FFFFFF} para subir al autobús, es gratis", 0xFFFFFFAA, 1537.3290, -1657.3992, 13.5469, 8.0, .testlos = true, .worldid = 0, .interiorid = 0);
	CreateDynamic3DTextLabel("{00FF00}ESTACIÓN #6 BANCO Spain+\n\n{FFFFFF}Destino: Estación #7 {00FF00}Leñador\n{FFFFFF}Presiona {00CCFF}G{FFFFFF} para subir al autobús, es gratis", 0xFFFFFFAA, 1489.0958, -1050.5033, 23.8270, 8.0, .testlos = true, .worldid = 0, .interiorid = 0);
	CreateDynamic3DTextLabel("{00FF00}ESTACIÓN #7 LEÑADOR\n\n{FFFFFF}Destino: Estación #8 {00FF00}Mecánicos Gas Monkey\n{FFFFFF}Presiona {00CCFF}G{FFFFFF} para subir al autobús, es gratis", 0xFFFFFFAA, 2599.0212, -1055.5106, 69.5704, 8.0, .testlos = true, .worldid = 0, .interiorid = 0);
	CreateDynamic3DTextLabel("{00FF00}ESTACIÓN #8 MECÁNICOS\n\n{FFFFFF}Destino: Base de choferes de ruta\n{FFFFFF}Presiona {00CCFF}G{FFFFFF} para subir al autobús, es gratis", 0xFFFFFFAA, 2524.2576, -1496.9513, 24.0000, 8.0, .testlos = true, .worldid = 0, .interiorid = 0);

	//Medico
	CreateDynamicPickup(1275, 1, 1700.781005, -1758.998168, 2005.073974, -1, 3);
	CreateDynamic3DTextLabel("{66c4e4}{ffffff}Acercate para empezar a trabajar\no para dejar de trabajar", 0xFFFFFFFF, 1700.781005, -1758.998168, 2005.073974, 5.0, .testlos = true, .interiorid = 3);

	for(new i; i != sizeof MedicalBuyKitsCoords; i++)
		CreateDynamic3DTextLabel("Botiquines\n\nPulsa "YELLOW"[H] "WHITE"para comprar un botiquín medicamentos\nAcercate para interactuar", 0xFFFFFFFF, MedicalBuyKitsCoords[i][0], MedicalBuyKitsCoords[i][1], MedicalBuyKitsCoords[i][2], 5.0, .testlos = true);

    //Trash
	CreateDynamic3DTextLabel("{66c4e4}{ffffff}Acertace para empezar a trabajar\no para dejar de trabajar", 0xFFFFFFFF, -1906.577514, -1756.457519, 22.079319, 5.0, .testlos = true, .worldid = 0, .interiorid = 0);

	//Ruta 0
	CreateTrashCheckpoint(0, 1440, -1812.46228, -558.37744, 15.73948,   0.00000, 0.00000, 274.24359);
	CreateTrashCheckpoint(0, 1440, -1793.84106, -312.50452, 24.46057,   0.00000, 0.00000, 268.49271);
	CreateTrashCheckpoint(0, 1440, -1801.20825, 115.39587, 14.55550,   0.00000, 0.00000, 280.09882);
	CreateTrashCheckpoint(0, 1440, -1750.40051, 323.11810, 6.61720,   0.00000, 0.00000, 319.06424);
	CreateTrashCheckpoint(0, 1440, -1814.43311, 511.15622, 28.66113,   0.00000, 9.00000, 304.31201);
	CreateTrashCheckpoint(0, 1440, -1982.79871, 614.85687, 34.61121,   0.00000, 0.00000, 0.00000);
	CreateTrashCheckpoint(0, 1440, -2229.42896, 575.27448, 34.58952,   0.00000, 0.00000, 0.00000);
	CreateTrashCheckpoint(0, 1440, -2385.20020, 513.64594, 28.11606,   0.00000, 0.00000, 282.48959);
	CreateTrashCheckpoint(0, 1440, -2258.51782, 221.79150, 34.74878,   0.00000, 0.00000, 90.00000);
	CreateTrashCheckpoint(0, 1440, -2266.30273, -206.86926, 34.86986,   0.00000, 0.00000, 90.00000);
	CreateTrashCheckpoint(0, 1440, -1995.48499, -771.90076, 31.56746,   0.00000, 0.00000, 90.00000);
		//Ruta 1
	CreateTrashCheckpoint(1, 1440, -2211.24414, -964.98248, 38.68247,   0.00000, 2.50000, 286.39740);
	CreateTrashCheckpoint(1, 1440, -2424.54443, -595.71997, 131.88649,   0.00000, -4.50000, 303.65921);
	CreateTrashCheckpoint(1, 1440, -2602.82544, -478.18484, 68.15035,   0.00000, 0.00000, 21.71607);
	CreateTrashCheckpoint(1, 1440, -2353.62256, -396.48764, 78.42006,   0.00000, -3.50000, 305.07410);
	CreateTrashCheckpoint(1, 1440, -2756.29199, -500.66721, 6.77589,   0.00000, 0.00000, 316.44635);
	CreateTrashCheckpoint(1, 1440, -2811.07056, -346.85269, 6.66456,   0.00000, 0.00000, 259.86459);
	CreateTrashCheckpoint(1, 1440, -2415.51563, -128.34013, 34.82273,   0.00000, 0.00000, 250.60507);
	CreateTrashCheckpoint(1, 1440, -2028.09985, -76.42242, 34.70956,   0.00000, 0.00000, 0.00000);
		//Ruta 2
	CreateTrashCheckpoint(2, 1440, -2193.88306, -2156.55347, 46.46848,   0.00000, -10.00000, 46.48320);
	CreateTrashCheckpoint(2, 1440, -2208.01904, -2280.10645, 30.12751,   0.00000, 0.00000, 331.91882);
	CreateTrashCheckpoint(2, 1440, -2125.33594, -2256.24902, 30.10599,   0.00000, 0.00000, 326.47290);
	CreateTrashCheckpoint(2, 1440, -2101.86353, -2313.20093, 30.14946,   0.00000, 0.00000, 42.68287);
	CreateTrashCheckpoint(2, 1440, -2183.69775, -2449.03003, 30.01783,   0.00000, 0.00000, 51.16318);
	CreateTrashCheckpoint(2, 1440, -2328.98047, -2704.17358, 44.41791,   6.17998, 5.88000, 340.20822);
	CreateTrashCheckpoint(2, 1440, -2601.78345, -2334.39746, 10.50614,   0.00000, 0.00000, 41.64481);

	//Leñador arboles
	Lumberjack_Area = CreateDynamicRectangle(-613.953796, -209.777252, -381.961181, -6.355076, 0, 0);
	for(new i = 0; i != sizeof LUMBER_TREES; i ++)
	{
		LUMBER_TREES[i][lumber_tree_OBJECT_ID] = CreateDynamicObject(LUMBER_TREES[i][lumber_tree_MODELID], LUMBER_TREES[i][lumber_tree_X], LUMBER_TREES[i][lumber_tree_Y], LUMBER_TREES[i][lumber_tree_Z], LUMBER_TREES[i][lumber_tree_RX], LUMBER_TREES[i][lumber_tree_RY], LUMBER_TREES[i][lumber_tree_RZ], 0, 0);
		
		new label_str[256];
		format(label_str, sizeof label_str, "{f46530}Árbol (%d)\n\n{FFFFFF}Pulsa {f9d834}~k~~CONVERSATION_YES~ {FFFFFF}para talar el árbol.", i);
		LUMBER_TREES[i][lumber_tree_LABEL] = CreateDynamic3DTextLabel(label_str, 0xFFFFFFFF, LUMBER_TREES[i][lumber_tree_X], LUMBER_TREES[i][lumber_tree_Y], LUMBER_TREES[i][lumber_tree_Z] + 1.5, 5.0, .testlos = false, .worldid = 0, .interiorid = 0);
	}


	//Agricultor
	Farmer_Area = CreateDynamicCircle(1461.8894, -83.2621, 65.0, 0, 0);
	CreateDynamicMapIcon(1461.8894, -83.2621, 65.0, 53, -1, 0, 0);
	CreateDynamic3DTextLabel("{ffe599}{FFFFFF}Acercate para ver el menu de semillas a comprar.", 0xFFFFFFFF, 1566.521606, 31.370532, 24.16406, 5.0, .testlos = true, .worldid = 0, .interiorid = 0);

	//Cosechador
	Harvest_Area = CreateDynamicRectangle(-428.336059, -1667.658569, -116.565414, -1220.122070, 0, 0);
	return 1;
}

forward CheckApartamentos();
public CheckApartamentos()
{
    new currentTime = gettime();
    for(new i = 0; i < MAX_PLAYERS; i++)
    {
        if(IsPlayerConnected(i))
        {
            // Solo comprobamos si tiene un ID válido Y si tiene un tiempo de renta asignado
            if(APA[i][pi_AptoID] != -1 && APA[i][pi_AptoTiempo] > 0)
            {
                if(currentTime >= APA[i][pi_AptoTiempo])
                {
                    SendFormatNotification(i, "~w~Tu contrato de alquiler ha vencido. Tus cosas han sido ~r~desalojadas.", 5000, 1);
                    ResetearDatosApartamento(i);
                }
            }
        }
    }
    return 1;
}


public CheckLotteryTimer()
{
    // Asegúrate de que string[256] esté declarada aquí o globalmente.
    
    if(GetPlayerPoolSize() == -1) return 1;
    
    if (LotteryTimeLeft > 0)
    {
        new string[256]; 
        LotteryTimeLeft--;

        // --- ALERTA: 10 Minutos Restantes (600 segundos) ---
        if (LotteryTimeLeft == 10 * 60) 
        {
            // Mensaje optimizado para 1 sola línea de chat:
            format(string, sizeof(string), 
                "{66c4e4}@{FFFFFF}Spain+{66c4e4}Plus{FFFFFF}: {66c4e4}¡Atención! Falta {ffffff}10 min {66c4e4}para el sorteo. {ffffff}¡Adivina con /t!"
            );
            SendClientMessageToAll(CHAT_COLOR, string);
        }
        
        // --- ALERTA: 5 Minutos Restantes (300 segundos) ---
        else if (LotteryTimeLeft == 5 * 60)
        {
            // Mensaje optimizado para 1 sola línea de chat:
            format(string, sizeof(string), 
                "{66c4e4}@{FFFFFF}Spain+{66c4e4}Plus{FFFFFF}: {66c4e4}¡Atención! Falta {ffffff}5 min {66c4e4}para el sorteo. {ffffff}¡Adivina con /t!"
            );
            SendClientMessageToAll(CHAT_COLOR, string);
        }
        
        // --- ALERTA: 30 Segundos Restantes ---
        else if (LotteryTimeLeft == 30) 
        {
            // Mensaje optimizado para 1 sola línea de chat:
            format(string, sizeof(string), 
                "{66c4e4}@{FFFFFF}Spain+{66c4e4}Plus{FFFFFF}: {66c4e4}¡ÚLTIMO AVISO! Faltan {ffffff}30 seg {66c4e4}para el sorteo. {ffffff}¡Adivina con /t!"
            );
            SendClientMessageToAll(CHAT_COLOR, string);
        }
        
        // --- INICIO DEL SORTEO (Temporizador a 0) ---
        if (LotteryTimeLeft == 0)
        {
            StartLottery();
        }
    }
    return 1;
}

stock ChatBubbleAjustable(playerid, const texto[], color)
{
    // --- PASO A: Reemplazo instantáneo ---
    
    // Si ya hay un timer corriendo de un mensaje anterior, lo matamos
    if(ChatBubbleTimer[playerid] != -1)
    {
        KillTimer(ChatBubbleTimer[playerid]);
        ChatBubbleTimer[playerid] = -1;
    }

    // Si el label anterior todavía existe, lo borramos de inmediato
    if(ChatBubbleID[playerid] != Text3D:INVALID_3DTEXT_ID)
    {
        DestroyDynamic3DTextLabel(ChatBubbleID[playerid]);
        ChatBubbleID[playerid] = Text3D:INVALID_3DTEXT_ID;
    }
    
    // --- PASO B: Ejecutar el nuevo ---

    // Creamos el nuevo label (Altura 0.7 para que esté sobre el TimerPlayer)
    ChatBubbleID[playerid] = CreateDynamic3DTextLabel(texto, color, 0.0, 0.0, 0.7, 10.0, playerid, INVALID_VEHICLE_ID, 1, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid));
    
    // Iniciamos el cronómetro para que se borre normalmente si no se escribe otro
    ChatBubbleTimer[playerid] = SetTimerEx("BorrarMensajeTemporal", 7000, false, "i", playerid);
    
    return 1;
}

forward BorrarMensajeTemporal(playerid);
public BorrarMensajeTemporal(playerid)
{
    if(ChatBubbleID[playerid] != Text3D:INVALID_3DTEXT_ID)
    {
        DestroyDynamic3DTextLabel(ChatBubbleID[playerid]);
        ChatBubbleID[playerid] = Text3D:INVALID_3DTEXT_ID;
    }
    ChatBubbleTimer[playerid] = -1; // Marcamos que ya no hay un timer activo
    return 1;
}


stock StartLottery()
{
    new
        string[256];

    // 1. Genera un número aleatorio entre 0 y 100.
    // random(101) genera números de 0 a 100.
    WinningNumber = random(51); 
    
    // 2. Activa la ronda de adivinanza.
    LotteryActive = 1;
    
    // 3. Reinicia el contador para el siguiente SORTEO (30 minutos a partir de ahora).
    LotteryTimeLeft = LOTTERY_DURATION; 
    
    // 4. Anuncia el inicio del sorteo.
    
    format(string, sizeof(string), 
    "{66c4e4}@{FFFFFF}Spain+{66c4e4}Plus{FFFFFF}: {66c4e4}¡SORTEO! Adivina {ffffff}0-50 {66c4e4}y gana {00FF00}3 Gemas{ffffff}. ¡Usa /t [numero]!");
    SendClientMessageToAll(CHAT_COLOR, string);
    //ShowPlayerMessage(playerid, "Para participar, envia tu numero con el comando ~b~/t.");
    
    SetTimer("sorteoterminado",300000,false); //Inicia timer de medio segundo 
    printf("[SORTEO] Sorteo iniciado. Numero ganador: %d. Fin de ronda en 30 minutos.", WinningNumber);
}

stock ParseTwitterGuess(playerid, text[])
{
    // Solo verifica si el sorteo está activo y si ya hay un número ganador elegido
    if (!LotteryActive || WinningNumber == -1)
        return 0;

    new
        guess = strval(text); // Extrae el número al inicio del string
    
    // 1. Valida que el número sea entre 0 y 100
    if (guess < 0 || guess > 100)
    {
        // No es un número de adivinanza válido, el tweet se envía normalmente.
        return 0; 
    }

    // 2. ¡Comprueba si ha ganado!
    if (guess == WinningNumber)
    {
        new
            winner_name[MAX_PLAYER_NAME],
            string[256];

        GetPlayerName(playerid, winner_name, sizeof(winner_name));
        
        // Announce Winner
        format(string, sizeof(string), 
    "{66c4e4}@{FFFFFF}Spain+{66c4e4}Plus{FFFFFF}: {66c4e4}Felicidades {ffffff}%s, adivinó el numero {66c4e4}(%d) {ffffff}gano {00FF00}5 Gemas." , winner_name, WinningNumber);
        SendClientMessageToAll(WINNER_COLOR, string); 
        
        // Da el premio (asegúrate de que tu función GivePlayerMoney exista y funcione)
        PI[playerid][pi_COINS] += 3;
	    SendFormatNotification(playerid, "Ahora tienes ~b~3G~w~+");
    	PlayerPlaySoundEx(playerid, 1058, 0.0, 0.0, 0.0);

    	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET coins = %d WHERE id = %d;", PI[playerid][pi_COINS], PI[playerid][pi_ID]);
	    mysql_tquery(srp_db, QUERY_BUFFER);
        
        // Finaliza la ronda
        LotteryActive = 0;
        WinningNumber = -1; // Reset winning number

        // Anuncio de final de ronda
        SendClientMessageToAll(CHAT_COLOR, "[SORTEO] El sorteo ha terminado. "WHITE"El proximo iniciara en 30 minutos.");
        
        // Retorna 1 para que el comando /Twitter sepa que ha habido un ganador.
        return 1;
    }
    else
    {
        // Adivinó incorrectamente
        SendClientMessage(playerid, CHAT_COLOR, "{cccccc}[SORTEO] Numero incorrecto. "WHITE"Sigue intentando.");
        return 0; // El tweet se envía
    }
}



forward UpdateSafeZone(playerid);
public UpdateSafeZone(playerid)
{

	return 1;
}

forward sorteoterminado(playerid);
public sorteoterminado(playerid)
{
    if (LotteryActive)
    {
     new string[256]; 
     format(string, sizeof(string), 
    "{66c4e4}@{FFFFFF}Spain+{66c4e4}Plus{FFFFFF}: {66c4e4}¡SORTEO! TERMINADO {FFFFFF}Nadie adivino el numero %d", WinningNumber);
    SendClientMessageToAll(CHAT_COLOR, string);
    LotteryActive = 0;
    return 1;
    }
	return 1;
}

//Acercarse
public OnPlayerPickUpPickup(playerid, pickupid)
{

	if(pickupid == pick123[0])
	{
		if(gettime() < DialogTime[playerid][0] + 10) return (playerid, DialogTime[playerid][0] - gettime());
		ShowDialog(playerid, DIALOG_HELP);
		DialogTime[playerid][0] = gettime();
	}

	if(pickupid == pick123[1])
	{
		if(gettime() < DialogTime[playerid][0] + 10) return (playerid, DialogTime[playerid][0] - gettime());
		if(!PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET]) return ShowPlayerMessage(playerid, "No eres policía.", 2);
		if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_NONE && PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_POLICE)
		{
		SendFormatNotification(playerid, "Tienes que dejar de estar de servicio como %s primero.", work_info[ PLAYER_TEMP[playerid][pt_WORKING_IN] ][work_info_NAME]);
		return 1;
		}
		if(!PLAYER_TEMP[playerid][pt_WORKING_IN]) ShowDialog(playerid, DIALOG_SELECT_POLICE_SKIN);
		else CallLocalFunction("EndPlayerJob", "iib", playerid, PLAYER_TEMP[playerid][pt_WORKING_IN], true);
		DialogTime[playerid][0] = gettime();
	 }

	if(pickupid == pick123[2])
	{
		if(gettime() < DialogTime[playerid][0] + 10) return (playerid, DialogTime[playerid][0] - gettime());
		ShowDialog(playerid, DIALOG_FOOD_TACO);
		DialogTime[playerid][0] = gettime();
	}

	if(pickupid == pick123[3])
	{
		if(gettime() < DialogTime[playerid][0] + 10) return (playerid, DialogTime[playerid][0] - gettime());
		ShowDialog(playerid, DIALOG_BANCO);
		DialogTime[playerid][0] = gettime();
	}

	if(pickupid == pick123[4])
	{
		if(gettime() < DialogTime[playerid][0] + 10) return (playerid, DialogTime[playerid][0] - gettime());
		ShowDialog(playerid, DIALOG_FOOD_STEAK);
		DialogTime[playerid][0] = gettime();
	}

	if(pickupid == pick123[5])
	{
		if(gettime() < DialogTime[playerid][0] + 6) return (playerid, DialogTime[playerid][0] - gettime());
		new ManoDer = PI[playerid][pi_MANO_DER];
		if(Robandot[playerid] == 1) return 1;

        if(ObjetoInfo[ManoDer][IDArma] > 0) //Es un arma
		{
		PC_EmulateCommand(playerid, "/robart");
		DialogTime[playerid][0] = gettime();
		return 1;
		}
		ShowDialog(playerid, DIALOG_247_LIST);
		DialogTime[playerid][0] = gettime();
	}


	if(pickupid == pick123[6])
	{
		if(gettime() < DialogTime[playerid][0] + 10) return (playerid, DialogTime[playerid][0] - gettime());
		if(!PLAYER_WORKS[playerid][WORK_PIZZA][pwork_SET]) return (playerid);
		if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_NONE && PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_PIZZA)
		{
			SendFormatNotification(playerid, "Tienes que dejar de estar de servicio como %s primero.", work_info[ PLAYER_TEMP[playerid][pt_WORKING_IN] ][work_info_NAME]);
			return 1;
		}

		if(GetPlayerState(playerid) != PLAYER_STATE_ONFOOT) return ShowPlayerMessage(playerid, "No estás depie.", 2);
		if(!PLAYER_TEMP[playerid][pt_WORKING_IN]) CallLocalFunction("StartPlayerJob", "iii", playerid, WORK_PIZZA, INVALID_VEHICLE_ID);
		else CallLocalFunction("EndPlayerJob", "iib", playerid, PLAYER_TEMP[playerid][pt_WORKING_IN], true);
		DialogTime[playerid][0] = gettime();
	}

	if(pickupid == pick123[7])
	{
		if(gettime() < DialogTime[playerid][0] + 10) return (playerid, DialogTime[playerid][0] - gettime());
		if(!PLAYER_WORKS[playerid][WORK_LUMBERJACK][pwork_SET])return(playerid);
		if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_NONE && PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_LUMBERJACK)
		{
			SendFormatNotification(playerid, "Tienes que dejar de estar de servicio como %s primero.", work_info[ PLAYER_TEMP[playerid][pt_WORKING_IN] ][work_info_NAME]);
			return 1;
		}

		if(GetPlayerVirtualWorld(playerid) != 0) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);
		if(GetPlayerState(playerid) != PLAYER_STATE_ONFOOT) return ShowPlayerMessage(playerid, "No estás depie.", 2);
		if(!IsPlayerInRangeOfPoint(playerid, 1.0, -527.670349, -97.338562, 63.176174))

		if(!PLAYER_TEMP[playerid][pt_WORKING_IN]) CallLocalFunction("StartPlayerJob", "iii", playerid, WORK_LUMBERJACK, INVALID_VEHICLE_ID);
		else CallLocalFunction("EndPlayerJob", "iib", playerid, PLAYER_TEMP[playerid][pt_WORKING_IN], true);
		DialogTime[playerid][0] = gettime();
	}

	if(pickupid == pick123[8])
	{
		if(gettime() < DialogTime[playerid][0] + 10) return (playerid, DialogTime[playerid][0] - gettime());
		if(!PLAYER_WORKS[playerid][WORK_MEDIC][pwork_SET]) return (playerid);
		if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_NONE && PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_MEDIC)
		{
			SendFormatNotification(playerid, "Tienes que dejar de estar de servicio como %s primero.", work_info[ PLAYER_TEMP[playerid][pt_WORKING_IN] ][work_info_NAME]);
			return 1;
		}
		if(GetPlayerState(playerid) != PLAYER_STATE_ONFOOT) return ShowPlayerMessage(playerid, "No estás depie.", 2);

		if(!PLAYER_TEMP[playerid][pt_WORKING_IN]) CallLocalFunction("StartPlayerJob", "iii", playerid, WORK_MEDIC, INVALID_VEHICLE_ID);
		else CallLocalFunction("EndPlayerJob", "iib", playerid, PLAYER_TEMP[playerid][pt_WORKING_IN], true);
		DialogTime[playerid][0] = gettime();
	}

	if(pickupid == pick123[9])
	{
		if(gettime() < DialogTime[playerid][0] + 10) return (playerid, DialogTime[playerid][0] - gettime());
		if(!PLAYER_WORKS[playerid][WORK_TRASH][pwork_SET]) return (playerid);
		if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_NONE && PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_TRASH)
		{
			SendFormatNotification(playerid, "Tienes que dejar de estar de servicio como %s primero.", work_info[ PLAYER_TEMP[playerid][pt_WORKING_IN] ][work_info_NAME]);
			return 1;
		}

		if(GetPlayerVirtualWorld(playerid) != 0) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);
		if(GetPlayerInterior(playerid) != 0) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);
		if(GetPlayerState(playerid) != PLAYER_STATE_ONFOOT) return ShowPlayerMessage(playerid, "No estás depie.", 2);
		if(!IsPlayerInRangeOfPoint(playerid, 1.0, -1906.577514, -1756.457519, 22.079319))
		if(!PLAYER_TEMP[playerid][pt_WORKING_IN]) CallLocalFunction("StartPlayerJob", "iii", playerid, WORK_TRASH, INVALID_VEHICLE_ID);
		else CallLocalFunction("EndPlayerJob", "iib", playerid, PLAYER_TEMP[playerid][pt_WORKING_IN], true);
		DialogTime[playerid][0] = gettime();

	}

	if(pickupid == pick123[10])
	{
		if(gettime() < DialogTime[playerid][0] + 10) return (playerid, DialogTime[playerid][0] - gettime());
		if(!PLAYER_WORKS[playerid][WORK_MECHANIC][pwork_SET]) return (playerid);
		if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_NONE && PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_MECHANIC)
		{
			SendFormatNotification(playerid, "Tienes que dejar de estar de servicio como %s primero.", work_info[ PLAYER_TEMP[playerid][pt_WORKING_IN] ][work_info_NAME]);
			return 1;
		}

		if(GetPlayerInterior(playerid) != 0) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);
		if(GetPlayerState(playerid) != PLAYER_STATE_ONFOOT) return ShowPlayerMessage(playerid, "No estás depie.", 2);

		for(new i; i != sizeof MechanicStartWorkingCoords; i++)
			if(IsPlayerInRangeOfPoint(playerid, 1.0, MechanicStartWorkingCoords[i][0], MechanicStartWorkingCoords[i][1], MechanicStartWorkingCoords[i][2]))
			{
				if(!PLAYER_TEMP[playerid][pt_WORKING_IN]) CallLocalFunction("StartPlayerJob", "iii", playerid, WORK_MECHANIC, INVALID_VEHICLE_ID);
				else CallLocalFunction("EndPlayerJob", "iib", playerid, PLAYER_TEMP[playerid][pt_WORKING_IN], true);
				DialogTime[playerid][0] = gettime();
			}
	}

	if(pickupid == pick123[11])
	{
		if(gettime() < DialogTime[playerid][0] + 10) return (playerid, DialogTime[playerid][0] - gettime());
		if(!PLAYER_WORKS[playerid][WORK_FARMER][pwork_SET]) return(playerid);
		ShowDialog(playerid, DIALOG_SEED_LIST);
		DialogTime[playerid][0] = gettime();
	}

	if(pickupid == pick123[12])
	{
		if(gettime() < DialogTime[playerid][0] + 10) return (playerid, DialogTime[playerid][0] - gettime());
		ShowDialog(playerid, DIALOG_FOOD_PIZZA);
		DialogTime[playerid][0] = gettime();
	}

	if(pickupid == pick123[13])
	{
		if(gettime() < DialogTime[playerid][0] + 10) return (playerid, DialogTime[playerid][0] - gettime());
		ShowDialog(playerid, DIALOG_FOOD_CLUCKIN);
		DialogTime[playerid][0] = gettime();
	}

	if(pickupid == pick123[14])
	{
		if(gettime() < DialogTime[playerid][0] + 10) return (playerid, DialogTime[playerid][0] - gettime());
		ShowDialog(playerid, DIALOG_FOOD_BURGER);
		DialogTime[playerid][0] = gettime();
	}

	if(pickupid == pick123[15])
	{
		if(gettime() < DialogTime[playerid][0] + 15) return (playerid, DialogTime[playerid][0] - gettime());
		ShowDialog(playerid, DIALOG_NOTARY);
		DialogTime[playerid][0] = gettime();
	}

	if(pickupid == pick123[16])
	{
		if(gettime() < DialogTime[playerid][0] + 15) return (playerid, DialogTime[playerid][0] - gettime());
		if(PI[playerid][pi_BANK_ACCOUNT] == 0) // no tiene cuenta bancaria
		{
			ShowDialog(playerid, DIALOG_CREATE_BANK_ACCOUNT);
			return 1;
		}
		ShowDialog(playerid, DIALOG_BANK);
		DialogTime[playerid][0] = gettime();
	}


	if(pickupid == pick123[17])
	{
		if(gettime() < DialogTime[playerid][0] + 10) return (playerid, DialogTime[playerid][0] - gettime());
		if(!PLAYER_WORKS[playerid][WORK_MECHANIC][pwork_SET]) return ShowPlayerMessage(playerid, "No eres Mecanico.", 2);
		ShowDialog(playerid, DIALOG_PIEZAS);
		DialogTime[playerid][0] = gettime();
	}
	
	if(pickupid == pick123[18])
	{
		if(gettime() < DialogTime[playerid][0] + 10) return (playerid, DialogTime[playerid][0] - gettime());
		ShowDialog(playerid, DIALOG_BANCO);
		DialogTime[playerid][0] = gettime();
	}
	
    if(pickupid == pick123[19])
	{
		if(gettime() < DialogTime[playerid][0] + 15) return (playerid, DialogTime[playerid][0] - gettime());
		if(PI[playerid][pi_BANK_ACCOUNT] == 0) // no tiene cuenta bancaria
		{
			ShowDialog(playerid, DIALOG_CREATE_BANK_ACCOUNT);
			return 1;
		}
		ShowDialog(playerid, DIALOG_BANK);
		DialogTime[playerid][0] = gettime();
	}
	
	if(pickupid == pick123[20])
	{
		if(gettime() < DialogTime[playerid][0] + 15) return (playerid, DialogTime[playerid][0] - gettime());
		if(PI[playerid][pi_BANK_ACCOUNT] == 0) // no tiene cuenta bancaria
		{
			ShowDialog(playerid, DIALOG_CREATE_BANK_ACCOUNT);
			return 1;
		}
		ShowDialog(playerid, DIALOG_BANK);
		DialogTime[playerid][0] = gettime();
	}
	
	if(pickupid == pick123[21])
	{
		if(gettime() < DialogTime[playerid][0] + 10) return (playerid, DialogTime[playerid][0] - gettime());
		ShowDialog(playerid, DIALOG_FARMACY);
		DialogTime[playerid][0] = gettime();
	}
	
	if(pickupid == pick123[22])
{
    // Cooldown para evitar spam
    if(gettime() < DialogTime[playerid][0] + 10) return 1; 

    // Obtenemos el mundo virtual del jugador
    new vw = GetPlayerVirtualWorld(playerid);
    
    // Verificamos que esté en un rango válido de mundos (1 al 15)
    if(vw >= 1 && vw <= 15)
    {
        // Según el stock asignado a este mundo, abrimos un diálogo diferente
        switch(TipoDialogoMercado[vw])
        {
            case 1: ShowDialog(playerid, DIALOG_B1);
            case 2: ShowDialog(playerid, DIALOG_B2);
            case 3: ShowDialog(playerid, DIALOG_B3);
            case 4: ShowDialog(playerid, DIALOG_B4);
        }
        DialogTime[playerid][0] = gettime(); 
    }
    else {
        SendClientMessage(playerid, -1, "Este mercado no tiene mercancía disponible.");
    }
    return 1;
}
	
	if(pickupid == pick123[23])
	{
		if(gettime() < DialogTime[playerid][0] + 10) return (playerid, DialogTime[playerid][0] - gettime());
		if(!PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET]) return ShowPlayerMessage(playerid, "No eres policía.", 2);
		ShowDialog(playerid, DIALOG_WPD);
		DialogTime[playerid][0] = gettime();
	 }
	
	if(pickupid == pick123[25])
	{
		if(gettime() < DialogTime[playerid][0] + 10) return (playerid, DialogTime[playerid][0] - gettime());
		if(!PLAYER_WORKS[playerid][WORK_ARMERO][pwork_SET]) return ShowPlayerMessage(playerid, "No eres armero.", 2);
		PC_EmulateCommand(playerid, "/armero");
		DialogTime[playerid][0] = gettime();
	 }
	
	if(pickupid == pick123[27])
	{
		if(gettime() < DialogTime[playerid][0] + 10) return (playerid, DialogTime[playerid][0] - gettime());
		PC_EmulateCommand(playerid, "/fabrica");
		DialogTime[playerid][0] = gettime();
	 }
	
	return 1;
}

forward UpdateThePutis();
public UpdateThePutis()
{
	ApplyDynamicActorAnimation(Club_Bar_Actor, "BAR", "BARman_idle", 4.1, 1, 0, 0, 0, 0);

	new strip_anim = random(sizeof(RandomStripAnimations)),
	stripper = random(sizeof(Club_Strippers_Actor));
    ApplyDynamicActorAnimation(Club_Strippers_Actor[stripper], "STRIP", RandomStripAnimations[strip_anim], 4.1, 1, 0, 0, 0, 0);

	for(new i = 0; i != sizeof(Club_Actors); i ++)
	{
		ApplyDynamicActorAnimation(Club_Actors[i], "STRIP", RandomPayStripAnimations[random(sizeof(RandomPayStripAnimations))], 4.1, 1, 0, 0, 0, 0);
	}
    return 1;
}


MensajeSpam(playerid,params[])
{
    new stringo[570];
	new stringg[200], SkinID[99];
    format(stringo, sizeof(stringo), "{ffffff}[ADV - SPAM] | {FFFFFF}|{ff4a00}[LAN-BOT] | {ffffff}%s [ID: %d]{FFFFFF} Texto: {828282}[%s]",PI[playerid][pi_NAME],playerid,params);
    format(stringg, sizeof(stringg), "[ADV - SPAM - BOT] | [LAN-BOT] | %s [ID: %d] Texto: [%s]",PI[playerid][pi_NAME],playerid,params);
    spam= DCC_FindChannelById("1440968034142392450");
    new DCC_Embed:embed = DCC_CreateEmbed();
    DCC_SetEmbedColour(embed, 0x00ff00);
    DCC_SetEmbedTitle(embed, ":palm_tree: - Spain+ RolePlay");
    DCC_SetEmbedDescription(embed, stringg);
    DCC_SetEmbedFooter(embed, ""SERVER_NAME"");
    format(SkinID, sizeof(SkinID), "https://assets.open.mp/assets/images/skins/%d.png", PI[playerid][pi_SKIN]);
    DCC_SetEmbedThumbnail(embed, SkinID);
    DCC_SendChannelEmbedMessage(spam, embed);
	for(new i, j = GetPlayerPoolSize(); i <= j; i++)
	{
	    if(PI[i][pi_ADMIN_LEVEL] > 2)
		SendClientMessage(i,0xFFC200FF,stringo);
		spam= DCC_FindChannelById("1113213154286121030");
        DCC_SendChannelEmbedMessage(spam, embed, "");
	    }
}

SendTwitterLogToAdmins(playerid, params[])
{
	new stringo[570];
 	format(stringo, sizeof(stringo), "{339ff0}((ADMIN)) {ffffff}%s [ID: %d] ha enviado este Twitter Anónimo.", PI[playerid][pi_NAME], playerid, params);
	for(new i, j = GetPlayerPoolSize(); i <= j; i++)
	{
	    if(PI[i][pi_ADMIN_LEVEL] > 3)
		SendClientMessage(i,0xFFC200FF,stringo);
	}

}

stock ActualizarEmpresaVisual(id)
{
    // 1. Limpiamos lo que ya existe para no duplicar iconos ni textos
    if(IsValidDynamicPickup(EmpresaData[id][ePickup])) DestroyDynamicPickup(EmpresaData[id][ePickup]);
    if(IsValidDynamic3DTextLabel(EmpresaData[id][eText])) DestroyDynamic3DTextLabel(EmpresaData[id][eText]);
    if(IsValidDynamicPickup(EmpresaData[id][eGPickup])) DestroyDynamicPickup(EmpresaData[id][eGPickup]);
    // Limpiamos el label del garaje también
    if(IsValidDynamic3DTextLabel(EmpresaData[id][eGText])) DestroyDynamic3DTextLabel(EmpresaData[id][eGText]);

    new str[256], tipo[32];
    
    // Definimos el nombre del tipo de empresa
    if(EmpresaData[id][eTipo] == 1) tipo = "Mercancía (24/7)";
    else if(EmpresaData[id][eTipo] == 2) tipo = "Mineria (Piedras)"; 
    else if(EmpresaData[id][eTipo] == 3) tipo = "Incendios (Bombero)";

    // 2. Si la empresa NO tiene dueño (está a la venta)
    if(strcmp(EmpresaData[id][eDuenio], "Nadie") == 0)
    {
        format(str, sizeof(str), "{00FF00}[ EMPRESA EN VENTA ]\n{FFFFFF}ID: {FFFF00}%d\n{FFFFFF}Tipo: {FFFF00}%s\n{FFFFFF}Precio: {00FF00}$%d\n{FFFFFF}Mercancía: {FFFF00}%d\n{FFFFFF}Ganancias : {00ff00}$%d\n{FFFFFF}Usa {33CCFF}/empresa {FFFFFF}para comprar", 
            id, tipo, EmpresaData[id][ePrecio], EmpresaData[id][eMercancia], EmpresaData[id][eGanancias]);
        
        EmpresaData[id][ePickup] = CreateDynamicPickup(1277, 1, EmpresaData[id][eX], EmpresaData[id][eY], EmpresaData[id][eZ]);
    }
    // 3. Si la empresa YA tiene dueño
    else
    {
        format(str, sizeof(str), "{33CCFF}[ %s ]\n{FFFFFF}ID: {FFFF00}%d\n{FFFFFF}Dueño: {FFFF00}%s\n{FFFFFF}Mercancía: {FFFF00}%d\n{FFFFFF}Ganancias : {00ff00}$%d", 
            tipo, id, EmpresaData[id][eDuenio], EmpresaData[id][eMercancia], EmpresaData[id][eGanancias]);
        
        EmpresaData[id][ePickup] = CreateDynamicPickup(19134, 1, EmpresaData[id][eX], EmpresaData[id][eY], EmpresaData[id][eZ]);
    }

    // Texto 3D principal
    EmpresaData[id][eText] = CreateDynamic3DTextLabel(str, -1, EmpresaData[id][eX], EmpresaData[id][eY], EmpresaData[id][eZ] + 0.5, 15.0);

    // 4. Crear el pickup del Garaje y su Label
    if(EmpresaData[id][eGX] != 0.0) // Solo si se ha seteado una posición de garaje
    {
        // Pickup del garaje
        EmpresaData[id][eGPickup] = CreateDynamicPickup(19131, 1, EmpresaData[id][eGX], EmpresaData[id][eGY], EmpresaData[id][eGZ]);
        
        // --- AQUÍ EL NUEVO LABEL DEL GARAJE ---
        format(str, sizeof(str), "{FFFF00}[ GARAJE ]\n{FFFFFF}Acércate para ver las rutas de la empresa\n{FFFFFF}ID: {FFFF00}%d\n{FFFFFF}Tipo: {FFFF00}%s", id, tipo);
        EmpresaData[id][eGText] = CreateDynamic3DTextLabel(str, -1, EmpresaData[id][eGX], EmpresaData[id][eGY], EmpresaData[id][eGZ] + 0.5, 10.0);
    }
    
    if(EmpresaData[id][eTipo] == 1)
    {
    CreateDynamicMapIcon(EmpresaData[id][eX], EmpresaData[id][eY], EmpresaData[id][eZ], 12, -1, 0, 0);
    }
    
    else if(EmpresaData[id][eTipo] == 2)
    {
    CreateDynamicMapIcon(EmpresaData[id][eX], EmpresaData[id][eY], EmpresaData[id][eZ], 11, -1, 0, 0);
    }
    else if(EmpresaData[id][eTipo] == 3)
    {
    CreateDynamicMapIcon(EmpresaData[id][eX], EmpresaData[id][eY], EmpresaData[id][eZ], 36, -1, 0, 0);
    }
    return 1;
}




stock NombreJugador(playerid)
{
	new nombre[MAX_PLAYER_NAME];
	GetPlayerName(playerid, nombre, sizeof(nombre));
	return nombre;
}

stock GetSpam(string[])
{
    new SPAM;
    new CUENTAP,CUENTAN,CUENTADP,NUMEROS;
	for(SPAM = 0; SPAM < strlen(string); SPAM ++)
	{
	    if(string[SPAM] == '.') CUENTAP ++;
	    if(string[SPAM] == '0' || string[SPAM] == '1' || string[SPAM] == '2' || string[SPAM] == '3' || string[SPAM] == '4' || string[SPAM] == '5' || string[SPAM] == '6' || string[SPAM] == '7' || string[SPAM] == '8' || string[SPAM] == '9') CUENTAN ++;
	    if(string[SPAM] == ':') CUENTADP ++; //Cuenta los ":"
		if(string[SPAM] > '9' || string[SPAM] < '0') NUMEROS ++;
	}
 	if(CUENTAP >= 3 && CUENTAN >= 4 && CUENTADP >= 1 && NUMEROS >= 3) return 1; // Por si la ip es común
	if(CUENTAP >= 2 && CUENTADP >= 1) return 1;//Por si la ip es samp.servidor.com:7777
    for(new i; i < sizeof(palabras); i++)
	{
	    if(strfind(string,palabras[i],true) != -1) return 1;
	    if(strcmp(string,palabras[i],true) == 0) return 1;
	}
    return 0;
}

stock Float:GetSpeed(Float:vx, Float:vy, Float:vz)
{
	new Float:vel = floatmul(floatsqroot(floatadd(floatadd(floatpower(vx, 2), floatpower(vy, 2)),  floatpower(vz, 2))), 181.5);
	return vel;
}

new dudaColor[264];

stock dudacolor(playerid)
{	new count;
    for(new i; i < sizeof(dudaColor) - 16; i++) //by renzolini pa
    {
       if(dudaColor[i] == '@' || dudaColor[i] == '#' || dudaColor[i] == '/')
       {
           if(dudaColor[i] == '@' || dudaColor[i] == '#')
            strins(dudaColor, "{00AAFF}", i);
           else if(dudaColor[i] == '/')  strins(dudaColor, "{ec4134}", i);
           i += 8;
           for(new e = i; e < sizeof(dudaColor); e ++)
           {
               if(dudaColor[e] == ' ' || dudaColor[e] == ',')
               {
                    strins(dudaColor, "{FFFFFF}", e);
                    i += 8;
                    count++;
                    break;
               }
           }
       }
    }
	
	return 1;
}

stock GetTextSpawnVehicle(index, statea)
{
	new string_result[150];
	if(index > 0 && index < sizeof(San_Andreas_Vehicles))
	{
		switch(San_Andreas_Vehicles[index][san_andreas_vehicle_TYPE])
		{
			case VEHICLE_TYPE_DRIVING_SCHOOL:
			{
				if(statea)	format(string_result, sizeof(string_result), "Acercate {FFFFFF}para solicitar\n un {ebaf24}vehiculo.", 2);
				else		format(string_result, sizeof(string_result), "Acercate {FFFFFF}para solicitar\n un {ebaf24}vehiculo.", 2);
			}

			case VEHICLE_TYPE_NONE:
			{
				if(statea)	format(string_result, sizeof(string_result), "Acercate {FFFFFF}para solicitar\n un {ebaf24}vehiculo.", 2);
				else		format(string_result, sizeof(string_result), "Acercate {FFFFFF}para solicitar\n un {ebaf24}vehiculo.", 2);
			}

			case VEHICLE_TYPE_WORK:
			{
				if(statea)	format(string_result, sizeof(string_result), "Acercate {FFFFFF}para solicitar\n un {ebaf24}vehiculo.", 2);
				else		format(string_result, sizeof(string_result), "Acercate {FFFFFF}para solicitar\n un {ebaf24}vehiculo.", 2);
			}
		}
	}

	return string_result;
}


//By Kar
stock IsVehicleDrivingForward(vehicleid)
{
    new Float:Float[3];
    if(GetVehicleVelocity(vehicleid, Float[1], Float[2], Float[0]))
    {
        GetVehicleZAngle(vehicleid, Float[0]);
        if(Float[0] < 90)
        {
            if(Float[1] < 0 && Float[2] > 0) return true;
        }
        else if(Float[0] < 180)
        {
            if(Float[1] < 0 && Float[2] < 0) return true;
        }
        else if(Float[0] < 270)
        {
            if(Float[1] > 0 && Float[2] < 0) return true;
        }
        else if(Float[1] > 0 && Float[2] > 0) return true;
    }
    return false;
}

CreateTrashCheckpoint(route, modelid, Float:x, Float:y, Float:z, Float:rx, Float:ry, Float:rz)
{
	if(route >= MAX_ROUTES) return print("---> Límite superado en array 'TRASH_OBJECTS, route' en la función 'CreateTrashCheckpoint'." );
	if(!TRASH_OBJECTS[route][trash_route_VALID]) TRASH_OBJECTS[route][trash_route_VALID] = true;
	if(TRASH_OBJECTS[route][trash_route_OBJECTS] >= MAX_OBJECTS_PER_ROUTE) return print("---> Límite superado en array 'TRASH_OBJECTS, objects' en la función 'CreateTrashCheckpoint'.");

	if(TRASH_OBJECTS[route][trash_route_OBJECTS] == 0) TRASH_OBJECTS[route][trash_route_DISTANCE] = GetDistanceBetweenPoints3D(x, y, z, obtain_work_coords[WORK_TRASH][obtain_work_X], obtain_work_coords[WORK_TRASH][obtain_work_Y], obtain_work_coords[WORK_TRASH][obtain_work_Z]);
	else
	{
		TRASH_OBJECTS[route][trash_route_DISTANCE] -= GetDistanceBetweenPoints3D(TRASH_OBJECTS[route][trash_object_X][ TRASH_OBJECTS[route][trash_route_OBJECTS] - 1], TRASH_OBJECTS[route][trash_object_Y][ TRASH_OBJECTS[route][trash_route_OBJECTS] - 1 ], TRASH_OBJECTS[route][trash_object_Z][ TRASH_OBJECTS[route][trash_route_OBJECTS] - 1 ], obtain_work_coords[WORK_TRASH][obtain_work_X], obtain_work_coords[WORK_TRASH][obtain_work_Y], obtain_work_coords[WORK_TRASH][obtain_work_Z]);
		TRASH_OBJECTS[route][trash_route_DISTANCE] += GetDistanceBetweenPoints3D(x, y, z, TRASH_OBJECTS[route][trash_object_X][ TRASH_OBJECTS[route][trash_route_OBJECTS] - 1], TRASH_OBJECTS[route][trash_object_Y][ TRASH_OBJECTS[route][trash_route_OBJECTS] - 1 ], TRASH_OBJECTS[route][trash_object_Z][ TRASH_OBJECTS[route][trash_route_OBJECTS] - 1 ]);
	}

	TRASH_OBJECTS[route][trash_object_MODELID][ TRASH_OBJECTS[route][trash_route_OBJECTS] ] = modelid;
	TRASH_OBJECTS[route][trash_object_X][ TRASH_OBJECTS[route][trash_route_OBJECTS] ] = x;
	TRASH_OBJECTS[route][trash_object_Y][ TRASH_OBJECTS[route][trash_route_OBJECTS] ] = y;
	TRASH_OBJECTS[route][trash_object_Z][ TRASH_OBJECTS[route][trash_route_OBJECTS] ] = z;
	TRASH_OBJECTS[route][trash_object_RX][ TRASH_OBJECTS[route][trash_route_OBJECTS] ] = rx;
	TRASH_OBJECTS[route][trash_object_RY][ TRASH_OBJECTS[route][trash_route_OBJECTS] ] = ry;
	TRASH_OBJECTS[route][trash_object_RZ][ TRASH_OBJECTS[route][trash_route_OBJECTS] ] = rz;
  //CreateDynamicObject(modelid, x, y, z, rx, ry, rz, 0, 0);

	TRASH_OBJECTS[route][trash_route_DISTANCE] += GetDistanceBetweenPoints3D(x, y, z, obtain_work_coords[WORK_TRASH][obtain_work_X], obtain_work_coords[WORK_TRASH][obtain_work_Y], obtain_work_coords[WORK_TRASH][obtain_work_Z]);
	TRASH_OBJECTS[route][trash_route_MONEY] = floatround(0.3 * TRASH_OBJECTS[route][trash_route_DISTANCE]);

	TRASH_OBJECTS[route][trash_route_OBJECTS] ++;
	return 1;
}

stock Float:GetDistanceBetweenPoints3D(Float:x1, Float:y1, Float:z1, Float:x2, Float:y2, Float:z2)
{
    return VectorSize(x1-x2,y1-y2,z1-z2);
}

CreateTextDraws()
{

	Flash = TextDrawCreate(635.000000, 432.000000, "__");
 	TextDrawBackgroundColor(Flash, 255);
  	TextDrawFont(Flash, 1);
   	TextDrawLetterSize(Flash, 0.500000, -45.900001);
	TextDrawColor(Flash, -256);
 	TextDrawSetOutline(Flash, 0);
  	TextDrawSetProportional(Flash, 1);
   	TextDrawSetShadow(Flash, 1);
   	TextDrawUseBox(Flash, 1);
    TextDrawBoxColor(Flash, -86);
    TextDrawTextSize(Flash, 6.000000, 35.000000);
    
    BoxMisiones = TextDrawCreate(-34.000000, 120.000000, "_");
    TextDrawBackgroundColor(BoxMisiones, 104);
    TextDrawFont(BoxMisiones, 1);
    TextDrawLetterSize(BoxMisiones, 0.440000, 12.399997);
    TextDrawColor(BoxMisiones, -1);
    TextDrawSetOutline(BoxMisiones, 0);
    TextDrawSetProportional(BoxMisiones, 1);
    TextDrawSetShadow(BoxMisiones, 1);
    TextDrawUseBox(BoxMisiones, 1);
    TextDrawBoxColor(BoxMisiones, 104);
    TextDrawTextSize(BoxMisiones, 661.000000, 0.000000);
    TextDrawSetSelectable(BoxMisiones, 0);

    MisionCo = TextDrawCreate(170.000000, 155.000000, "~y~MISION COMPLETADA");
    TextDrawBackgroundColor(MisionCo, 255);
    TextDrawFont(MisionCo, 3);
    TextDrawLetterSize(MisionCo, 1.040000, 3.900000);
    TextDrawColor(MisionCo, -1);
    TextDrawSetOutline(MisionCo, 0);
    TextDrawSetProportional(MisionCo, 1);
    TextDrawSetShadow(MisionCo, 1);
    TextDrawSetSelectable(MisionCo, 0);

    MisionRe = TextDrawCreate(260.000000, 192.000000, "");
    TextDrawBackgroundColor(MisionRe, 255);
    TextDrawFont(MisionRe, 2);
    TextDrawLetterSize(MisionRe, 0.290000, 1.300000);
    TextDrawColor(MisionRe, -1);
    TextDrawSetOutline(MisionRe, 0);
    TextDrawSetProportional(MisionRe, 1);
    TextDrawSetShadow(MisionRe, 1);
    TextDrawSetSelectable(MisionRe, 0);
    
    BoxLogros = TextDrawCreate(-34.000000, 120.000000, "_");
    TextDrawBackgroundColor(BoxLogros, 104);
    TextDrawFont(BoxLogros, 1);
    TextDrawLetterSize(BoxLogros, 0.440000, 12.399997);
    TextDrawColor(BoxLogros, -1);
    TextDrawSetOutline(BoxLogros, 0);
    TextDrawSetProportional(BoxLogros, 1);
    TextDrawSetShadow(BoxLogros, 1);
    TextDrawUseBox(BoxLogros, 1);
    TextDrawBoxColor(BoxLogros, 104);
    TextDrawTextSize(BoxLogros, 661.000000, 0.000000);
    TextDrawSetSelectable(BoxLogros, 0);

    LogroCo = TextDrawCreate(170.000000, 155.000000, "~y~LOGRO COMPLETADA");
    TextDrawBackgroundColor(LogroCo, 255);
    TextDrawFont(LogroCo, 3);
    TextDrawLetterSize(LogroCo, 1.040000, 3.900000);
    TextDrawColor(LogroCo, -1);
    TextDrawSetOutline(LogroCo, 0);
    TextDrawSetProportional(LogroCo, 1);
    TextDrawSetShadow(LogroCo, 1);
    TextDrawSetSelectable(LogroCo, 0);

    LogroRe = TextDrawCreate(260.000000, 192.000000, "");
    TextDrawBackgroundColor(LogroRe, 255);
    TextDrawFont(LogroRe, 2);
    TextDrawLetterSize(LogroRe, 0.290000, 1.300000);
    TextDrawColor(LogroRe, -1);
    TextDrawSetOutline(LogroRe, 0);
    TextDrawSetProportional(LogroRe, 1);
    TextDrawSetShadow(LogroRe, 1);
    TextDrawSetSelectable(LogroRe, 0);
    
	TextDrawx[0] = TextDrawCreate(20.625000, 240.833374, "~g~Anuncio:~w~ Se vende un pito de goma a gran precio ~g~(Movil: 3250)");
	TextDrawLetterSize(TextDrawx[0], 0.152500, 1.232499);
	TextDrawAlignment(TextDrawx[0], 1);
	TextDrawColor(TextDrawx[0], -1);
	TextDrawSetShadow(TextDrawx[0], 0);
	TextDrawSetOutline(TextDrawx[0], 1);
	TextDrawBackgroundColor(TextDrawx[0], 255);
	TextDrawFont(TextDrawx[0], 1);
	TextDrawSetProportional(TextDrawx[0], 1);
	TextDrawSetShadow(TextDrawx[0], 0);

	TextDrawx[1] = TextDrawCreate(20.625000, 250.666503, "~g~Anuncio:~w~ Se vende un pito de goma a gran precio ~g~(Movil: 3250)");
	TextDrawLetterSize(TextDrawx[1], 0.152500, 1.232499);
	TextDrawAlignment(TextDrawx[1], 1);
	TextDrawColor(TextDrawx[1], -1);
	TextDrawSetShadow(TextDrawx[1], 0);
	TextDrawSetOutline(TextDrawx[1], 1);
	TextDrawBackgroundColor(TextDrawx[1], 255);
	TextDrawFont(TextDrawx[1], 1);
	TextDrawSetProportional(TextDrawx[1], 1);
	TextDrawSetShadow(TextDrawx[1], 0);

	TextDrawx[2] = TextDrawCreate(20.000000, 260.249847, "~g~Anuncio:~w~ Se vende un pito de goma a gran precio ~g~(Movil: 3250)");
	TextDrawLetterSize(TextDrawx[2], 0.152500, 1.232499);
	TextDrawAlignment(TextDrawx[2], 1);
	TextDrawColor(TextDrawx[2], -1);
	TextDrawSetShadow(TextDrawx[2], 0);
	TextDrawSetOutline(TextDrawx[2], 1);
	TextDrawBackgroundColor(TextDrawx[2], 255);
	TextDrawFont(TextDrawx[2], 1);
	TextDrawSetProportional(TextDrawx[2], 1);
	TextDrawSetShadow(TextDrawx[2], 0);

	TextDrawx[3] = TextDrawCreate(20.625000, 270.250000, "~g~Anuncio:~w~ Se vende un pito de goma a gran precio ~g~(Movil: 3250)");
	TextDrawLetterSize(TextDrawx[3], 0.152500, 1.232499);
	TextDrawAlignment(TextDrawx[3], 1);
	TextDrawColor(TextDrawx[3], -1);
	TextDrawSetShadow(TextDrawx[3], 0);
	TextDrawSetOutline(TextDrawx[3], 1);
	TextDrawBackgroundColor(TextDrawx[3], 255);
	TextDrawFont(TextDrawx[3], 1);
	TextDrawSetProportional(TextDrawx[3], 1);
	TextDrawSetShadow(TextDrawx[3], 0);
	
	TextDrawx[4] = TextDrawCreate(20.625000, 280.250000, "~g~Anuncio:~w~ Se vende un pito de goma a gran precio ~g~(Movil: 3250)");
	TextDrawLetterSize(TextDrawx[4], 0.152500, 1.232499);
	TextDrawAlignment(TextDrawx[4], 1);
	TextDrawColor(TextDrawx[4], -1);
	TextDrawSetShadow(TextDrawx[4], 0);
	TextDrawSetOutline(TextDrawx[4], 1);
	TextDrawBackgroundColor(TextDrawx[4], 255);
	TextDrawFont(TextDrawx[4], 1);
	TextDrawSetProportional(TextDrawx[4], 1);
	TextDrawSetShadow(TextDrawx[4], 0);
	
    //SISTEMA DE ANUNCIO
	for(new u = 0; u < MAX_ANUNCIOS; u++)
    {
        format(_InfoAnuncio[u][Anuncio], 158, "");
    }
 	_InfoAnuncio[0][TDAnuncio] = TextDrawCreate(150.054473, 380.000000, "~w~[Anuncio] Ejemplo1 [Tel: 1]");
    TextDrawBackgroundColor(_InfoAnuncio[0][TDAnuncio], 300);
    TextDrawFont(_InfoAnuncio[0][TDAnuncio], 1);
    TextDrawLetterSize(_InfoAnuncio[0][TDAnuncio], 0.358596, 1.011198);
    TextDrawColor(_InfoAnuncio[0][TDAnuncio], -1);
    TextDrawSetOutline(_InfoAnuncio[0][TDAnuncio], 0);
    TextDrawSetProportional(_InfoAnuncio[0][TDAnuncio], 1);
    TextDrawSetShadow(_InfoAnuncio[0][TDAnuncio], 1);

    _InfoAnuncio[1][TDAnuncio] = TextDrawCreate(150.054412, 390.000000, "~w~[Anuncio] Ejemplo2 [Tel: 2]");
    TextDrawBackgroundColor(_InfoAnuncio[1][TDAnuncio], 255);
    TextDrawFont(_InfoAnuncio[1][TDAnuncio], 1);
    TextDrawLetterSize(_InfoAnuncio[1][TDAnuncio], 0.358596, 1.011198);
    TextDrawColor(_InfoAnuncio[1][TDAnuncio], -1);
    TextDrawSetOutline(_InfoAnuncio[1][TDAnuncio], 0);
    TextDrawSetProportional(_InfoAnuncio[1][TDAnuncio], 1);
    TextDrawSetShadow(_InfoAnuncio[1][TDAnuncio], 1);

    _InfoAnuncio[2][TDAnuncio] = TextDrawCreate(150.054473, 400.000000, "~w~[Anuncio] Ejemplo3 [Tel: 3]");
    TextDrawBackgroundColor(_InfoAnuncio[2][TDAnuncio], 255);
    TextDrawFont(_InfoAnuncio[2][TDAnuncio], 1);
    TextDrawLetterSize(_InfoAnuncio[2][TDAnuncio], 0.358596, 1.011198);
    TextDrawColor(_InfoAnuncio[2][TDAnuncio], -1);
    TextDrawSetOutline(_InfoAnuncio[2][TDAnuncio], 0);
    TextDrawSetProportional(_InfoAnuncio[2][TDAnuncio], 1);
    TextDrawSetShadow(_InfoAnuncio[2][TDAnuncio], 1);

    _InfoAnuncio[3][TDAnuncio] = TextDrawCreate(150.054443, 410.000000, "~w~[Anuncio] Ejemplo3 [Tel: 4]");
    TextDrawBackgroundColor(_InfoAnuncio[3][TDAnuncio], 255);
    TextDrawFont(_InfoAnuncio[3][TDAnuncio], 1);
    TextDrawLetterSize(_InfoAnuncio[3][TDAnuncio], 0.358596, 1.011198);
    TextDrawColor(_InfoAnuncio[3][TDAnuncio], -1);
    TextDrawSetOutline(_InfoAnuncio[3][TDAnuncio], 0);
    TextDrawSetProportional(_InfoAnuncio[3][TDAnuncio], 1);
    TextDrawSetShadow(_InfoAnuncio[3][TDAnuncio], 1);

    _InfoAnuncio[4][TDAnuncio] = TextDrawCreate(150.054504, 420.000000, "~w~[Anuncio] Ejemplo3 [Tel: 5]");
    TextDrawBackgroundColor(_InfoAnuncio[4][TDAnuncio], 255);
    TextDrawFont(_InfoAnuncio[4][TDAnuncio], 1);
    TextDrawLetterSize(_InfoAnuncio[4][TDAnuncio], 0.358596, 1.011198);
    TextDrawColor(_InfoAnuncio[4][TDAnuncio], -1);
    TextDrawSetOutline(_InfoAnuncio[4][TDAnuncio], 0);
    TextDrawSetProportional(_InfoAnuncio[4][TDAnuncio], 1);
    TextDrawSetShadow(_InfoAnuncio[4][TDAnuncio], 1);

	for(new i; i < sizeof(Textdraws); i++) Textdraws[Textdraws_Enum:i] = INVALID_TEXT_DRAW;
	
	Textdraws[textdraw_GPS_MAP][0] = TextDrawCreate(-5.000000, 132.000000, "box");
	TextDrawLetterSize(Textdraws[textdraw_GPS_MAP][0], 0.000000, 22.498472);
	TextDrawTextSize(Textdraws[textdraw_GPS_MAP][0], 180.130477, 0.000000);
	TextDrawAlignment(Textdraws[textdraw_GPS_MAP][0], 1);
	TextDrawColor(Textdraws[textdraw_GPS_MAP][0], -1);
	TextDrawUseBox(Textdraws[textdraw_GPS_MAP][0], 1);
	TextDrawBoxColor(Textdraws[textdraw_GPS_MAP][0], 120);
	TextDrawSetShadow(Textdraws[textdraw_GPS_MAP][0], 0);
	TextDrawSetOutline(Textdraws[textdraw_GPS_MAP][0], 0);
	TextDrawBackgroundColor(Textdraws[textdraw_GPS_MAP][0], 255);
	TextDrawFont(Textdraws[textdraw_GPS_MAP][0], 1);
	TextDrawSetProportional(Textdraws[textdraw_GPS_MAP][0], 1);
	TextDrawSetShadow(Textdraws[textdraw_GPS_MAP][0], 0);

	Textdraws[textdraw_GPS_MAP][1] = TextDrawCreate(map_td_X, map_td_Y, "samaps:map");
	TextDrawLetterSize(Textdraws[textdraw_GPS_MAP][1], 0.000000, 0.000000);
	TextDrawTextSize(Textdraws[textdraw_GPS_MAP][1], map_td_SIZE_X, map_td_SIZE_Y);
	TextDrawAlignment(Textdraws[textdraw_GPS_MAP][1], 1);
	TextDrawColor(Textdraws[textdraw_GPS_MAP][1], -1);
	TextDrawSetShadow(Textdraws[textdraw_GPS_MAP][1], 0);
	TextDrawSetOutline(Textdraws[textdraw_GPS_MAP][1], 0);
	TextDrawBackgroundColor(Textdraws[textdraw_GPS_MAP][1], 255);
	TextDrawFont(Textdraws[textdraw_GPS_MAP][1], 4);
	TextDrawSetProportional(Textdraws[textdraw_GPS_MAP][1], 0);
	TextDrawSetShadow(Textdraws[textdraw_GPS_MAP][1], 0);

	Textdraws[textdraw_GPS_MAP][2] = TextDrawCreate(90.000000, 324.000000, "GPS_-_/mapa");
	TextDrawLetterSize(Textdraws[textdraw_GPS_MAP][2], 0.197330, 1.027553);
	TextDrawAlignment(Textdraws[textdraw_GPS_MAP][2], 2);
	TextDrawColor(Textdraws[textdraw_GPS_MAP][2], -186);
	TextDrawSetShadow(Textdraws[textdraw_GPS_MAP][2], 0);
	TextDrawSetOutline(Textdraws[textdraw_GPS_MAP][2], 0);
	TextDrawBackgroundColor(Textdraws[textdraw_GPS_MAP][2], 255);
	TextDrawFont(Textdraws[textdraw_GPS_MAP][2], 1);
	TextDrawSetProportional(Textdraws[textdraw_GPS_MAP][2], 1);
	TextDrawSetShadow(Textdraws[textdraw_GPS_MAP][2], 0);

	Textdraws[textdraw_GPS_MAP][3] = TextDrawCreate(map_td_X, map_td_Y, "mdl-1000:lc_map");
	TextDrawLetterSize(Textdraws[textdraw_GPS_MAP][3], 0.000000, 0.000000);
	TextDrawTextSize(Textdraws[textdraw_GPS_MAP][3], map_td_SIZE_X, map_td_SIZE_Y);
	TextDrawAlignment(Textdraws[textdraw_GPS_MAP][3], 1);
	TextDrawColor(Textdraws[textdraw_GPS_MAP][3], -1);
	TextDrawSetShadow(Textdraws[textdraw_GPS_MAP][3], 0);
	TextDrawSetOutline(Textdraws[textdraw_GPS_MAP][3], 0);
	TextDrawBackgroundColor(Textdraws[textdraw_GPS_MAP][3], 255);
	TextDrawFont(Textdraws[textdraw_GPS_MAP][3], 4);
	TextDrawSetProportional(Textdraws[textdraw_GPS_MAP][3], 0);
	TextDrawSetShadow(Textdraws[textdraw_GPS_MAP][3], 0);

	Textdraws[textdraw_LOAD_SCREEN][2] = TextDrawCreate(420.273956, 216.302917, "SPAIN~w~PLUS");
	TextDrawLetterSize(Textdraws[textdraw_LOAD_SCREEN][2], 0.837374, 4.182501);
	TextDrawTextSize(Textdraws[textdraw_LOAD_SCREEN][2], 18.000000, 0.000000);
	TextDrawAlignment(Textdraws[textdraw_LOAD_SCREEN][2], 3);
	TextDrawColor(Textdraws[textdraw_LOAD_SCREEN][2], 0x6597F7FF);
	TextDrawSetShadow(Textdraws[textdraw_LOAD_SCREEN][2], -1);
	TextDrawSetOutline(Textdraws[textdraw_LOAD_SCREEN][2], 2);
	TextDrawBackgroundColor(Textdraws[textdraw_LOAD_SCREEN][2], 255);
	TextDrawFont(Textdraws[textdraw_LOAD_SCREEN][2], 2);
	TextDrawSetProportional(Textdraws[textdraw_LOAD_SCREEN][2], 1);

	Textdraws[textdraw_LOAD_SCREEN][3] = TextDrawCreate(319.917144, 262.185455, "JUGAR");
	TextDrawLetterSize(Textdraws[textdraw_LOAD_SCREEN][3], 0.379096, 1.909166);
	TextDrawAlignment(Textdraws[textdraw_LOAD_SCREEN][3], 2);
	TextDrawColor(Textdraws[textdraw_LOAD_SCREEN][3], 0x6597F7FF);
	TextDrawSetShadow(Textdraws[textdraw_LOAD_SCREEN][3], 0);
	TextDrawSetOutline(Textdraws[textdraw_LOAD_SCREEN][3], 2);
	TextDrawBackgroundColor(Textdraws[textdraw_LOAD_SCREEN][3], 255);
	TextDrawFont(Textdraws[textdraw_LOAD_SCREEN][3], 2);
	TextDrawSetProportional(Textdraws[textdraw_LOAD_SCREEN][3], 1);
	TextDrawSetSelectable(Textdraws[textdraw_LOAD_SCREEN][3], true);

	//Telefono Movil
	Textdraws[textdraw_PHONE_PLAYER][0] = TextDrawCreate(441.200012, 194.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_PLAYER][0], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PLAYER][0], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PLAYER][0], 20.000000, 25.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PLAYER][0], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PLAYER][0], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PLAYER][0], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_PLAYER][0], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PLAYER][0], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PLAYER][0], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PLAYER][0], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PLAYER][0], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PLAYER][0], 0);

	Textdraws[textdraw_PHONE_PLAYER][1] = TextDrawCreate(500.000000, 200.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_PLAYER][1], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PLAYER][1], 0.000000, 24.950000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PLAYER][1], 0.000000, 90.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PLAYER][1], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PLAYER][1], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PLAYER][1], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_PLAYER][1], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PLAYER][1], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PLAYER][1], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PLAYER][1], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PLAYER][1], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PLAYER][1], 0);

	Textdraws[textdraw_PHONE_PLAYER][2] = TextDrawCreate(500.000000, 219.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_PLAYER][2], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PLAYER][2], 0.000000, 21.049991);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PLAYER][2], 0.000000, 105.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PLAYER][2], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PLAYER][2], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PLAYER][2], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_PLAYER][2], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PLAYER][2], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PLAYER][2], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PLAYER][2], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PLAYER][2], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PLAYER][2], 0);

	Textdraws[textdraw_PHONE_PLAYER][3] = TextDrawCreate(538.000000, 194.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_PLAYER][3], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PLAYER][3], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PLAYER][3], 20.000000, 25.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PLAYER][3], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PLAYER][3], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PLAYER][3], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_PLAYER][3], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PLAYER][3], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PLAYER][3], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PLAYER][3], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PLAYER][3], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PLAYER][3], 0);

	Textdraws[textdraw_PHONE_PLAYER][4] = TextDrawCreate(440.000000, 387.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_PLAYER][4], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PLAYER][4], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PLAYER][4], 28.500000, 47.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PLAYER][4], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PLAYER][4], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PLAYER][4], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_PLAYER][4], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PLAYER][4], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PLAYER][4], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PLAYER][4], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PLAYER][4], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PLAYER][4], 0);

	Textdraws[textdraw_PHONE_PLAYER][5] = TextDrawCreate(531.000000, 391.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_PLAYER][5], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PLAYER][5], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PLAYER][5], 28.500000, 41.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PLAYER][5], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PLAYER][5], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PLAYER][5], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_PLAYER][5], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PLAYER][5], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PLAYER][5], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PLAYER][5], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PLAYER][5], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PLAYER][5], 0);

	Textdraws[textdraw_PHONE_PLAYER][6] = TextDrawCreate(445.000000, 205.000000, "ld_dual:backgnd");
	TextDrawFont(Textdraws[textdraw_PHONE_PLAYER][6], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PLAYER][6], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PLAYER][6], 110.000000, 204.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PLAYER][6], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PLAYER][6], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PLAYER][6], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_PLAYER][6], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PLAYER][6], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PLAYER][6], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PLAYER][6], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PLAYER][6], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PLAYER][6], 0);

	Textdraws[textdraw_PHONE_PLAYER][7] = TextDrawCreate(445.000000, 205.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_PLAYER][7], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PLAYER][7], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PLAYER][7], 18.000000, 60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PLAYER][7], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PLAYER][7], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PLAYER][7], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_PLAYER][7], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PLAYER][7], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PLAYER][7], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PLAYER][7], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PLAYER][7], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PLAYER][7], 0);

	Textdraws[textdraw_PHONE_PLAYER][8] = TextDrawCreate(554.000000, 205.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_PLAYER][8], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PLAYER][8], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PLAYER][8], -18.500000, 60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PLAYER][8], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PLAYER][8], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PLAYER][8], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_PLAYER][8], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PLAYER][8], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PLAYER][8], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PLAYER][8], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PLAYER][8], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PLAYER][8], 0);

	Textdraws[textdraw_PHONE_PLAYER][9] = TextDrawCreate(498.000000, 205.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_PLAYER][9], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PLAYER][9], 0.600000, 0.200001);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PLAYER][9], 0.000000, 75.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PLAYER][9], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PLAYER][9], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PLAYER][9], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_PLAYER][9], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PLAYER][9], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PLAYER][9], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PLAYER][9], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PLAYER][9], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PLAYER][9], 0);

	Textdraws[textdraw_PHONE_PLAYER][10] = TextDrawCreate(445.799987, 261.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_PLAYER][10], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PLAYER][10], 0.600000, 16.600004);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PLAYER][10], 0.000000, -2.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PLAYER][10], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PLAYER][10], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PLAYER][10], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_PLAYER][10], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PLAYER][10], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PLAYER][10], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PLAYER][10], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PLAYER][10], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PLAYER][10], 0);

	Textdraws[textdraw_PHONE_PLAYER][11] = TextDrawCreate(445.000000, 413.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_PLAYER][11], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PLAYER][11], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PLAYER][11], 12.500000, -60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PLAYER][11], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PLAYER][11], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PLAYER][11], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_PLAYER][11], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PLAYER][11], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PLAYER][11], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PLAYER][11], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PLAYER][11], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PLAYER][11], 0);

	Textdraws[textdraw_PHONE_PLAYER][12] = TextDrawCreate(555.000000, 413.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_PLAYER][12], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PLAYER][12], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PLAYER][12], -20.000000, -60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PLAYER][12], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PLAYER][12], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PLAYER][12], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_PLAYER][12], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PLAYER][12], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PLAYER][12], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PLAYER][12], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PLAYER][12], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PLAYER][12], 0);

	Textdraws[textdraw_PHONE_PLAYER][13] = TextDrawCreate(500.000000, 234.000000, "12:00");
	TextDrawFont(Textdraws[textdraw_PHONE_PLAYER][13], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PLAYER][13], 0.516664, 3.299993);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PLAYER][13], 0.000000, 0.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PLAYER][13], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PLAYER][13], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PLAYER][13], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_PLAYER][13], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PLAYER][13], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PLAYER][13], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PLAYER][13], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PLAYER][13], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PLAYER][13], 0);

	Textdraws[textdraw_PHONE_PLAYER][14] = TextDrawCreate(483.000000, 273.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_PLAYER][14], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PLAYER][14], 0.000000, 0.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PLAYER][14], 0.000000, -3.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PLAYER][14], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PLAYER][14], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PLAYER][14], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_PLAYER][14], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PLAYER][14], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PLAYER][14], -1);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PLAYER][14], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PLAYER][14], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PLAYER][14], 0);

	Textdraws[textdraw_PHONE_PLAYER][15] = TextDrawCreate(532.000000, 220.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_PLAYER][15], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PLAYER][15], 0.000000, 0.050000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PLAYER][15], 1.500000, 8.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PLAYER][15], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PLAYER][15], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PLAYER][15], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_PLAYER][15], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PLAYER][15], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PLAYER][15], -1);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PLAYER][15], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PLAYER][15], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PLAYER][15], 0);

	Textdraws[textdraw_PHONE_PLAYER][16] = TextDrawCreate(530.500000, 220.899993, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_PLAYER][16], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PLAYER][16], 0.000000, -0.149994);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PLAYER][16], 1.500000, 8.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PLAYER][16], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PLAYER][16], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PLAYER][16], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_PLAYER][16], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PLAYER][16], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PLAYER][16], -1);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PLAYER][16], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PLAYER][16], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PLAYER][16], 0);

	Textdraws[textdraw_PHONE_PLAYER][17] = TextDrawCreate(471.000000, 213.000000, "Spain+");
	TextDrawFont(Textdraws[textdraw_PHONE_PLAYER][17], 0);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PLAYER][17], 0.337498, 1.049998);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PLAYER][17], 0.000000, 0.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PLAYER][17], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PLAYER][17], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PLAYER][17], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_PLAYER][17], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PLAYER][17], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PLAYER][17], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PLAYER][17], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PLAYER][17], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PLAYER][17], 0);

	Textdraws[textdraw_PHONE_PLAYER][18] = TextDrawCreate(554.000000, 261.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_PLAYER][18], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PLAYER][18], 0.600000, 16.700025);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PLAYER][18], 0.000000, -2.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PLAYER][18], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PLAYER][18], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PLAYER][18], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_PLAYER][18], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PLAYER][18], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PLAYER][18], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PLAYER][18], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PLAYER][18], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PLAYER][18], 0);

	Textdraws[textdraw_PHONE_PLAYER][19] = TextDrawCreate(485.000000, 196.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_PLAYER][19], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PLAYER][19], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PLAYER][19], 26.000000, 30.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PLAYER][19], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PLAYER][19], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PLAYER][19], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_PLAYER][19], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PLAYER][19], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PLAYER][19], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PLAYER][19], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PLAYER][19], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PLAYER][19], 0);

	Textdraws[textdraw_PHONE_PLAYER][20] = TextDrawCreate(494.000000, 207.000000, "ld_beat:circle");
	TextDrawFont(Textdraws[textdraw_PHONE_PLAYER][20], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PLAYER][20], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PLAYER][20], 8.000000, 8.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PLAYER][20], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PLAYER][20], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PLAYER][20], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_PLAYER][20], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PLAYER][20], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PLAYER][20], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PLAYER][20], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PLAYER][20], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PLAYER][20], 0);

	Textdraws[textdraw_PHONE_PLAYER][21] = TextDrawCreate(486.500000, 271.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_PLAYER][21], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PLAYER][21], 0.000000, 0.250000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PLAYER][21], 0.000000, -3.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PLAYER][21], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PLAYER][21], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PLAYER][21], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_PLAYER][21], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PLAYER][21], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PLAYER][21], -1);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PLAYER][21], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PLAYER][21], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PLAYER][21], 0);

	Textdraws[textdraw_PHONE_PLAYER][22] = TextDrawCreate(489.500000, 268.500000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_PLAYER][22], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PLAYER][22], 0.000000, 0.500000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PLAYER][22], 0.000000, -3.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PLAYER][22], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PLAYER][22], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PLAYER][22], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_PLAYER][22], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PLAYER][22], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PLAYER][22], -1);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PLAYER][22], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PLAYER][22], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PLAYER][22], 0);

	Textdraws[textdraw_PHONE_PLAYER][23] = TextDrawCreate(513.000000, 263.000000, "Julio");
	TextDrawFont(Textdraws[textdraw_PHONE_PLAYER][23], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PLAYER][23], 0.220825, 1.599992);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PLAYER][23], 0.000000, 0.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PLAYER][23], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PLAYER][23], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PLAYER][23], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_PLAYER][23], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PLAYER][23], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PLAYER][23], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PLAYER][23], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PLAYER][23], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PLAYER][23], 0);

	Textdraws[textdraw_PHONE_PLAYER][24] = TextDrawCreate(500.000000, 370.000000, "O");
	TextDrawFont(Textdraws[textdraw_PHONE_PLAYER][24], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PLAYER][24], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PLAYER][24], 400.000000, 17.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PLAYER][24], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PLAYER][24], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PLAYER][24], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_PLAYER][24], -168436481);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PLAYER][24], -1724723969);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PLAYER][24], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PLAYER][24], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PLAYER][24], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PLAYER][24], 1);

	//Menu Phone
	Textdraws[textdraw_PHONE_MENU][0] = TextDrawCreate(441.200012, 194.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_MENU][0], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_MENU][0], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_MENU][0], 20.000000, 25.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_MENU][0], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_MENU][0], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_MENU][0], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_MENU][0], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_MENU][0], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_MENU][0], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_MENU][0], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_MENU][0], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_MENU][0], 0);

	Textdraws[textdraw_PHONE_MENU][1] = TextDrawCreate(500.000000, 200.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_MENU][1], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_MENU][1], 0.000000, 24.950000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_MENU][1], 0.000000, 90.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_MENU][1], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_MENU][1], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_MENU][1], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_MENU][1], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_MENU][1], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_MENU][1], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_MENU][1], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_MENU][1], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_MENU][1], 0);

	Textdraws[textdraw_PHONE_MENU][2] = TextDrawCreate(500.000000, 219.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_MENU][2], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_MENU][2], 0.000000, 21.049991);
	TextDrawTextSize(Textdraws[textdraw_PHONE_MENU][2], 0.000000, 105.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_MENU][2], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_MENU][2], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_MENU][2], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_MENU][2], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_MENU][2], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_MENU][2], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_MENU][2], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_MENU][2], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_MENU][2], 0);

	Textdraws[textdraw_PHONE_MENU][3] = TextDrawCreate(538.000000, 194.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_MENU][3], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_MENU][3], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_MENU][3], 20.000000, 25.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_MENU][3], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_MENU][3], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_MENU][3], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_MENU][3], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_MENU][3], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_MENU][3], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_MENU][3], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_MENU][3], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_MENU][3], 0);

	Textdraws[textdraw_PHONE_MENU][4] = TextDrawCreate(440.000000, 387.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_MENU][4], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_MENU][4], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_MENU][4], 28.500000, 47.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_MENU][4], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_MENU][4], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_MENU][4], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_MENU][4], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_MENU][4], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_MENU][4], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_MENU][4], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_MENU][4], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_MENU][4], 0);

	Textdraws[textdraw_PHONE_MENU][5] = TextDrawCreate(531.000000, 391.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_MENU][5], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_MENU][5], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_MENU][5], 28.500000, 41.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_MENU][5], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_MENU][5], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_MENU][5], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_MENU][5], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_MENU][5], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_MENU][5], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_MENU][5], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_MENU][5], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_MENU][5], 0);

	Textdraws[textdraw_PHONE_MENU][6] = TextDrawCreate(445.000000, 205.000000, "ld_dual:backgnd");
	TextDrawFont(Textdraws[textdraw_PHONE_MENU][6], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_MENU][6], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_MENU][6], 110.000000, 204.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_MENU][6], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_MENU][6], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_MENU][6], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_MENU][6], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_MENU][6], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_MENU][6], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_MENU][6], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_MENU][6], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_MENU][6], 0);

	Textdraws[textdraw_PHONE_MENU][7] = TextDrawCreate(500.000000, 210.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_MENU][7], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_MENU][7], 0.000000, 23.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_MENU][7], 0.000000, 100.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_MENU][7], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_MENU][7], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_MENU][7], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_MENU][7], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_MENU][7], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_MENU][7], 135);
	TextDrawUseBox(Textdraws[textdraw_PHONE_MENU][7], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_MENU][7], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_MENU][7], 0);

	Textdraws[textdraw_PHONE_MENU][8] = TextDrawCreate(445.000000, 205.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_MENU][8], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_MENU][8], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_MENU][8], 18.000000, 60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_MENU][8], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_MENU][8], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_MENU][8], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_MENU][8], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_MENU][8], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_MENU][8], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_MENU][8], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_MENU][8], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_MENU][8], 0);

	Textdraws[textdraw_PHONE_MENU][9] = TextDrawCreate(554.000000, 205.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_MENU][9], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_MENU][9], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_MENU][9], -18.500000, 60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_MENU][9], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_MENU][9], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_MENU][9], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_MENU][9], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_MENU][9], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_MENU][9], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_MENU][9], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_MENU][9], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_MENU][9], 0);

	Textdraws[textdraw_PHONE_MENU][10] = TextDrawCreate(498.000000, 205.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_MENU][10], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_MENU][10], 0.600000, 0.200001);
	TextDrawTextSize(Textdraws[textdraw_PHONE_MENU][10], 0.000000, 75.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_MENU][10], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_MENU][10], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_MENU][10], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_MENU][10], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_MENU][10], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_MENU][10], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_MENU][10], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_MENU][10], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_MENU][10], 0);

	Textdraws[textdraw_PHONE_MENU][11] = TextDrawCreate(445.799987, 261.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_MENU][11], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_MENU][11], 0.600000, 16.600004);
	TextDrawTextSize(Textdraws[textdraw_PHONE_MENU][11], 0.000000, -2.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_MENU][11], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_MENU][11], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_MENU][11], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_MENU][11], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_MENU][11], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_MENU][11], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_MENU][11], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_MENU][11], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_MENU][11], 0);

	Textdraws[textdraw_PHONE_MENU][12] = TextDrawCreate(445.000000, 413.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_MENU][12], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_MENU][12], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_MENU][12], 12.500000, -60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_MENU][12], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_MENU][12], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_MENU][12], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_MENU][12], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_MENU][12], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_MENU][12], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_MENU][12], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_MENU][12], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_MENU][12], 0);

	Textdraws[textdraw_PHONE_MENU][13] = TextDrawCreate(555.000000, 413.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_MENU][13], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_MENU][13], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_MENU][13], -20.000000, -60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_MENU][13], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_MENU][13], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_MENU][13], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_MENU][13], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_MENU][13], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_MENU][13], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_MENU][13], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_MENU][13], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_MENU][13], 0);

	Textdraws[textdraw_PHONE_MENU][14] = TextDrawCreate(532.000000, 220.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_MENU][14], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_MENU][14], 0.000000, 0.050000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_MENU][14], 1.500000, 8.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_MENU][14], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_MENU][14], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_MENU][14], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_MENU][14], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_MENU][14], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_MENU][14], -1);
	TextDrawUseBox(Textdraws[textdraw_PHONE_MENU][14], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_MENU][14], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_MENU][14], 0);

	Textdraws[textdraw_PHONE_MENU][15] = TextDrawCreate(530.500000, 220.899993, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_MENU][15], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_MENU][15], 0.000000, -0.149994);
	TextDrawTextSize(Textdraws[textdraw_PHONE_MENU][15], 1.500000, 8.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_MENU][15], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_MENU][15], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_MENU][15], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_MENU][15], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_MENU][15], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_MENU][15], -1);
	TextDrawUseBox(Textdraws[textdraw_PHONE_MENU][15], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_MENU][15], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_MENU][15], 0);

	Textdraws[textdraw_PHONE_MENU][16] = TextDrawCreate(471.000000, 213.000000, "Spain+");
	TextDrawFont(Textdraws[textdraw_PHONE_MENU][16], 0);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_MENU][16], 0.337498, 1.049998);
	TextDrawTextSize(Textdraws[textdraw_PHONE_MENU][16], 0.000000, 0.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_MENU][16], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_MENU][16], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_MENU][16], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_MENU][16], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_MENU][16], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_MENU][16], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_MENU][16], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_MENU][16], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_MENU][16], 0);

	Textdraws[textdraw_PHONE_MENU][17] = TextDrawCreate(554.000000, 261.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_MENU][17], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_MENU][17], 0.600000, 16.700025);
	TextDrawTextSize(Textdraws[textdraw_PHONE_MENU][17], 0.000000, -2.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_MENU][17], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_MENU][17], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_MENU][17], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_MENU][17], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_MENU][17], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_MENU][17], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_MENU][17], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_MENU][17], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_MENU][17], 0);

	Textdraws[textdraw_PHONE_MENU][18] = TextDrawCreate(485.000000, 196.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_MENU][18], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_MENU][18], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_MENU][18], 26.000000, 30.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_MENU][18], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_MENU][18], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_MENU][18], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_MENU][18], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_MENU][18], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_MENU][18], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_MENU][18], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_MENU][18], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_MENU][18], 0);

	Textdraws[textdraw_PHONE_MENU][19] = TextDrawCreate(494.000000, 207.000000, "ld_beat:circle");
	TextDrawFont(Textdraws[textdraw_PHONE_MENU][19], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_MENU][19], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_MENU][19], 8.000000, 8.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_MENU][19], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_MENU][19], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_MENU][19], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_MENU][19], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_MENU][19], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_MENU][19], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_MENU][19], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_MENU][19], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_MENU][19], 0);

	Textdraws[textdraw_PHONE_MENU][20] = TextDrawCreate(465.000000, 235.000000, "PP");
	TextDrawFont(Textdraws[textdraw_PHONE_MENU][20], 3);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_MENU][20], 0.500000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_MENU][20], 20.000000, 15.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_MENU][20], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_MENU][20], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_MENU][20], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_MENU][20], 3049215);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_MENU][20], -1);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_MENU][20], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_MENU][20], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_MENU][20], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_MENU][20], 1);

	Textdraws[textdraw_PHONE_MENU][21] = TextDrawCreate(500.000000, 235.000000, "SP");
	TextDrawFont(Textdraws[textdraw_PHONE_MENU][21], 3);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_MENU][21], 0.500000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_MENU][21], 20.000000, 15.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_MENU][21], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_MENU][21], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_MENU][21], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_MENU][21], 852308735);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_MENU][21], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_MENU][21], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_MENU][21], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_MENU][21], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_MENU][21], 1);

	Textdraws[textdraw_PHONE_MENU][22] = TextDrawCreate(535.000000, 235.000000, "DC");
	TextDrawFont(Textdraws[textdraw_PHONE_MENU][22], 3);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_MENU][22], 0.500000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_MENU][22], 20.000000, 15.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_MENU][22], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_MENU][22], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_MENU][22], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_MENU][22], 1449326335);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_MENU][22], -1);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_MENU][22], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_MENU][22], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_MENU][22], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_MENU][22], 1);

	Textdraws[textdraw_PHONE_MENU][23] = TextDrawCreate(465.000000, 275.000000, "Ws");
	TextDrawFont(Textdraws[textdraw_PHONE_MENU][23], 3);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_MENU][23], 0.500000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_MENU][23], 20.000000, 15.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_MENU][23], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_MENU][23], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_MENU][23], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_MENU][23], 1473340159);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_MENU][23], -1);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_MENU][23], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_MENU][23], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_MENU][23], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_MENU][23], 1);

	Textdraws[textdraw_PHONE_MENU][24] = TextDrawCreate(500.000000, 275.000000, "Mp");
	TextDrawFont(Textdraws[textdraw_PHONE_MENU][24], 3);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_MENU][24], 0.500000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_MENU][24], 20.000000, 15.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_MENU][24], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_MENU][24], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_MENU][24], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_MENU][24], -8099329);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_MENU][24], -2686721);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_MENU][24], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_MENU][24], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_MENU][24], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_MENU][24], 1);

	Textdraws[textdraw_PHONE_MENU][25] = TextDrawCreate(535.000000, 275.000000, "Cm");
	TextDrawFont(Textdraws[textdraw_PHONE_MENU][25], 3);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_MENU][25], 0.500000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_MENU][25], 20.000000, 15.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_MENU][25], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_MENU][25], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_MENU][25], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_MENU][25], 1296911871);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_MENU][25], -16776961);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_MENU][25], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_MENU][25], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_MENU][25], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_MENU][25], 1);

	Textdraws[textdraw_PHONE_MENU][26] = TextDrawCreate(465.000000, 315.000000, "Bc");
	TextDrawFont(Textdraws[textdraw_PHONE_MENU][26], 3);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_MENU][26], 0.500000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_MENU][26], 20.000000, 15.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_MENU][26], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_MENU][26], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_MENU][26], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_MENU][26], -373805825);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_MENU][26], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_MENU][26], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_MENU][26], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_MENU][26], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_MENU][26], 1);

	Textdraws[textdraw_PHONE_MENU][27] = TextDrawCreate(465.000000, 255.000000, "PayPal");
	TextDrawFont(Textdraws[textdraw_PHONE_MENU][27], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_MENU][27], 0.150000, 0.750000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_MENU][27], 0.000000, 15.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_MENU][27], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_MENU][27], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_MENU][27], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_MENU][27], -741092353);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_MENU][27], -1);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_MENU][27], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_MENU][27], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_MENU][27], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_MENU][27], 0);

	Textdraws[textdraw_PHONE_MENU][28] = TextDrawCreate(500.000000, 255.000000, "spotify");
	TextDrawFont(Textdraws[textdraw_PHONE_MENU][28], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_MENU][28], 0.150000, 0.750000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_MENU][28], 0.000000, 15.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_MENU][28], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_MENU][28], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_MENU][28], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_MENU][28], -741092353);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_MENU][28], -1);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_MENU][28], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_MENU][28], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_MENU][28], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_MENU][28], 0);

	Textdraws[textdraw_PHONE_MENU][29] = TextDrawCreate(535.000000, 255.000000, "discord");
	TextDrawFont(Textdraws[textdraw_PHONE_MENU][29], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_MENU][29], 0.150000, 0.750000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_MENU][29], 0.000000, 15.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_MENU][29], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_MENU][29], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_MENU][29], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_MENU][29], -741092353);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_MENU][29], -1);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_MENU][29], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_MENU][29], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_MENU][29], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_MENU][29], 0);

	Textdraws[textdraw_PHONE_MENU][30] = TextDrawCreate(465.000000, 295.000000, "whatsapp");
	TextDrawFont(Textdraws[textdraw_PHONE_MENU][30], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_MENU][30], 0.150000, 0.750000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_MENU][30], 0.000000, 15.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_MENU][30], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_MENU][30], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_MENU][30], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_MENU][30], -741092353);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_MENU][30], -1);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_MENU][30], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_MENU][30], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_MENU][30], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_MENU][30], 0);

	Textdraws[textdraw_PHONE_MENU][31] = TextDrawCreate(500.000000, 295.000000, "Maps");
	TextDrawFont(Textdraws[textdraw_PHONE_MENU][31], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_MENU][31], 0.150000, 0.750000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_MENU][31], 0.000000, 15.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_MENU][31], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_MENU][31], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_MENU][31], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_MENU][31], -741092353);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_MENU][31], -1);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_MENU][31], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_MENU][31], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_MENU][31], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_MENU][31], 0);

	Textdraws[textdraw_PHONE_MENU][32] = TextDrawCreate(535.000000, 295.000000, "Camera");
	TextDrawFont(Textdraws[textdraw_PHONE_MENU][32], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_MENU][32], 0.150000, 0.750000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_MENU][32], 0.000000, 15.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_MENU][32], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_MENU][32], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_MENU][32], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_MENU][32], -741092353);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_MENU][32], -1);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_MENU][32], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_MENU][32], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_MENU][32], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_MENU][32], 0);

	Textdraws[textdraw_PHONE_MENU][33] = TextDrawCreate(490.000000, 315.000000, "ld_beat:right");
	TextDrawFont(Textdraws[textdraw_PHONE_MENU][33], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_MENU][33], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_MENU][33], 17.000000, 17.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_MENU][33], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_MENU][33], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_MENU][33], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_MENU][33], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_MENU][33], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_MENU][33], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_MENU][33], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_MENU][33], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_MENU][33], 1);

	Textdraws[textdraw_PHONE_MENU][34] = TextDrawCreate(465.000000, 335.000000, "binance");
	TextDrawFont(Textdraws[textdraw_PHONE_MENU][34], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_MENU][34], 0.150000, 0.750000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_MENU][34], 0.000000, 15.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_MENU][34], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_MENU][34], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_MENU][34], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_MENU][34], -741092353);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_MENU][34], -1);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_MENU][34], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_MENU][34], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_MENU][34], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_MENU][34], 0);

	//Discord
	Textdraws[textdraw_PHONE_DISCORD][0] = TextDrawCreate(441.200012, 194.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_DISCORD][0], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_DISCORD][0], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_DISCORD][0], 20.000000, 25.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_DISCORD][0], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_DISCORD][0], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_DISCORD][0], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_DISCORD][0], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_DISCORD][0], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_DISCORD][0], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_DISCORD][0], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_DISCORD][0], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_DISCORD][0], 0);

	Textdraws[textdraw_PHONE_DISCORD][1] = TextDrawCreate(500.000000, 200.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_DISCORD][1], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_DISCORD][1], 0.000000, 24.950000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_DISCORD][1], 0.000000, 90.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_DISCORD][1], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_DISCORD][1], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_DISCORD][1], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_DISCORD][1], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_DISCORD][1], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_DISCORD][1], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_DISCORD][1], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_DISCORD][1], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_DISCORD][1], 0);

	Textdraws[textdraw_PHONE_DISCORD][2] = TextDrawCreate(500.000000, 219.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_DISCORD][2], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_DISCORD][2], 0.000000, 21.049991);
	TextDrawTextSize(Textdraws[textdraw_PHONE_DISCORD][2], 0.000000, 105.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_DISCORD][2], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_DISCORD][2], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_DISCORD][2], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_DISCORD][2], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_DISCORD][2], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_DISCORD][2], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_DISCORD][2], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_DISCORD][2], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_DISCORD][2], 0);

	Textdraws[textdraw_PHONE_DISCORD][3] = TextDrawCreate(538.000000, 194.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_DISCORD][3], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_DISCORD][3], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_DISCORD][3], 20.000000, 25.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_DISCORD][3], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_DISCORD][3], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_DISCORD][3], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_DISCORD][3], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_DISCORD][3], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_DISCORD][3], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_DISCORD][3], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_DISCORD][3], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_DISCORD][3], 0);

	Textdraws[textdraw_PHONE_DISCORD][4] = TextDrawCreate(440.000000, 387.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_DISCORD][4], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_DISCORD][4], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_DISCORD][4], 28.500000, 47.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_DISCORD][4], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_DISCORD][4], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_DISCORD][4], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_DISCORD][4], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_DISCORD][4], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_DISCORD][4], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_DISCORD][4], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_DISCORD][4], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_DISCORD][4], 0);

	Textdraws[textdraw_PHONE_DISCORD][5] = TextDrawCreate(531.000000, 391.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_DISCORD][5], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_DISCORD][5], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_DISCORD][5], 28.500000, 41.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_DISCORD][5], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_DISCORD][5], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_DISCORD][5], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_DISCORD][5], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_DISCORD][5], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_DISCORD][5], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_DISCORD][5], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_DISCORD][5], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_DISCORD][5], 0);

	Textdraws[textdraw_PHONE_DISCORD][6] = TextDrawCreate(498.000000, 211.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_DISCORD][6], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_DISCORD][6], 0.600000, 21.599998);
	TextDrawTextSize(Textdraws[textdraw_PHONE_DISCORD][6], 0.000000, 100.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_DISCORD][6], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_DISCORD][6], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_DISCORD][6], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_DISCORD][6], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_DISCORD][6], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_DISCORD][6], 909721599);
	TextDrawUseBox(Textdraws[textdraw_PHONE_DISCORD][6], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_DISCORD][6], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_DISCORD][6], 0);

	Textdraws[textdraw_PHONE_DISCORD][7] = TextDrawCreate(498.000000, 220.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_DISCORD][7], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_DISCORD][7], 0.600000, 2.500000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_DISCORD][7], 0.000000, 100.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_DISCORD][7], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_DISCORD][7], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_DISCORD][7], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_DISCORD][7], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_DISCORD][7], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_DISCORD][7], 539108863);
	TextDrawUseBox(Textdraws[textdraw_PHONE_DISCORD][7], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_DISCORD][7], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_DISCORD][7], 0);

	Textdraws[textdraw_PHONE_DISCORD][8] = TextDrawCreate(453.000000, 211.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_DISCORD][8], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_DISCORD][8], 0.600000, 21.599998);
	TextDrawTextSize(Textdraws[textdraw_PHONE_DISCORD][8], 0.000000, 10.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_DISCORD][8], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_DISCORD][8], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_DISCORD][8], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_DISCORD][8], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_DISCORD][8], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_DISCORD][8], 539108863);
	TextDrawUseBox(Textdraws[textdraw_PHONE_DISCORD][8], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_DISCORD][8], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_DISCORD][8], 0);

	Textdraws[textdraw_PHONE_DISCORD][9] = TextDrawCreate(498.000000, 211.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_DISCORD][9], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_DISCORD][9], 0.600000, 0.749993);
	TextDrawTextSize(Textdraws[textdraw_PHONE_DISCORD][9], 0.000000, 100.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_DISCORD][9], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_DISCORD][9], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_DISCORD][9], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_DISCORD][9], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_DISCORD][9], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_DISCORD][9], 1449326335);
	TextDrawUseBox(Textdraws[textdraw_PHONE_DISCORD][9], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_DISCORD][9], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_DISCORD][9], 0);

	Textdraws[textdraw_PHONE_DISCORD][10] = TextDrawCreate(445.000000, 205.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_DISCORD][10], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_DISCORD][10], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_DISCORD][10], 18.000000, 60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_DISCORD][10], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_DISCORD][10], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_DISCORD][10], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_DISCORD][10], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_DISCORD][10], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_DISCORD][10], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_DISCORD][10], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_DISCORD][10], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_DISCORD][10], 0);

	Textdraws[textdraw_PHONE_DISCORD][11] = TextDrawCreate(554.000000, 205.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_DISCORD][11], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_DISCORD][11], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_DISCORD][11], -18.500000, 60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_DISCORD][11], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_DISCORD][11], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_DISCORD][11], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_DISCORD][11], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_DISCORD][11], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_DISCORD][11], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_DISCORD][11], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_DISCORD][11], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_DISCORD][11], 0);

	Textdraws[textdraw_PHONE_DISCORD][12] = TextDrawCreate(498.000000, 205.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_DISCORD][12], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_DISCORD][12], 0.600000, 0.200001);
	TextDrawTextSize(Textdraws[textdraw_PHONE_DISCORD][12], 0.000000, 75.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_DISCORD][12], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_DISCORD][12], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_DISCORD][12], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_DISCORD][12], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_DISCORD][12], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_DISCORD][12], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_DISCORD][12], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_DISCORD][12], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_DISCORD][12], 0);

	Textdraws[textdraw_PHONE_DISCORD][13] = TextDrawCreate(445.799987, 261.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_DISCORD][13], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_DISCORD][13], 0.600000, 16.600004);
	TextDrawTextSize(Textdraws[textdraw_PHONE_DISCORD][13], 0.000000, -2.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_DISCORD][13], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_DISCORD][13], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_DISCORD][13], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_DISCORD][13], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_DISCORD][13], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_DISCORD][13], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_DISCORD][13], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_DISCORD][13], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_DISCORD][13], 0);

	Textdraws[textdraw_PHONE_DISCORD][14] = TextDrawCreate(445.000000, 413.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_DISCORD][14], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_DISCORD][14], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_DISCORD][14], 12.500000, -60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_DISCORD][14], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_DISCORD][14], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_DISCORD][14], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_DISCORD][14], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_DISCORD][14], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_DISCORD][14], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_DISCORD][14], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_DISCORD][14], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_DISCORD][14], 0);

	Textdraws[textdraw_PHONE_DISCORD][15] = TextDrawCreate(555.000000, 413.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_DISCORD][15], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_DISCORD][15], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_DISCORD][15], -20.000000, -60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_DISCORD][15], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_DISCORD][15], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_DISCORD][15], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_DISCORD][15], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_DISCORD][15], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_DISCORD][15], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_DISCORD][15], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_DISCORD][15], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_DISCORD][15], 0);

	Textdraws[textdraw_PHONE_DISCORD][16] = TextDrawCreate(522.000000, 209.000000, "12:00");
	TextDrawFont(Textdraws[textdraw_PHONE_DISCORD][16], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_DISCORD][16], 0.229164, 1.049998);
	TextDrawTextSize(Textdraws[textdraw_PHONE_DISCORD][16], 0.000000, 0.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_DISCORD][16], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_DISCORD][16], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_DISCORD][16], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_DISCORD][16], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_DISCORD][16], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_DISCORD][16], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_DISCORD][16], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_DISCORD][16], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_DISCORD][16], 0);

	Textdraws[textdraw_PHONE_DISCORD][17] = TextDrawCreate(471.000000, 209.000000, "Spain+");
	TextDrawFont(Textdraws[textdraw_PHONE_DISCORD][17], 0);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_DISCORD][17], 0.337498, 1.049998);
	TextDrawTextSize(Textdraws[textdraw_PHONE_DISCORD][17], 0.000000, 0.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_DISCORD][17], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_DISCORD][17], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_DISCORD][17], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_DISCORD][17], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_DISCORD][17], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_DISCORD][17], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_DISCORD][17], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_DISCORD][17], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_DISCORD][17], 0);

	Textdraws[textdraw_PHONE_DISCORD][18] = TextDrawCreate(554.000000, 261.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_DISCORD][18], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_DISCORD][18], 0.600000, 16.700025);
	TextDrawTextSize(Textdraws[textdraw_PHONE_DISCORD][18], 0.000000, -2.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_DISCORD][18], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_DISCORD][18], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_DISCORD][18], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_DISCORD][18], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_DISCORD][18], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_DISCORD][18], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_DISCORD][18], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_DISCORD][18], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_DISCORD][18], 0);

	Textdraws[textdraw_PHONE_DISCORD][19] = TextDrawCreate(485.000000, 196.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_DISCORD][19], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_DISCORD][19], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_DISCORD][19], 26.000000, 30.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_DISCORD][19], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_DISCORD][19], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_DISCORD][19], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_DISCORD][19], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_DISCORD][19], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_DISCORD][19], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_DISCORD][19], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_DISCORD][19], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_DISCORD][19], 0);

	Textdraws[textdraw_PHONE_DISCORD][20] = TextDrawCreate(408.000000, 212.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_DISCORD][20], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_DISCORD][20], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_DISCORD][20], 35.000000, 35.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_DISCORD][20], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_DISCORD][20], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_DISCORD][20], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_DISCORD][20], 1449326335);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_DISCORD][20], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_DISCORD][20], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_DISCORD][20], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_DISCORD][20], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_DISCORD][20], 0);

	Textdraws[textdraw_PHONE_DISCORD][21] = TextDrawCreate(494.000000, 207.000000, "ld_beat:circle");
	TextDrawFont(Textdraws[textdraw_PHONE_DISCORD][21], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_DISCORD][21], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_DISCORD][21], 8.000000, 8.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_DISCORD][21], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_DISCORD][21], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_DISCORD][21], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_DISCORD][21], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_DISCORD][21], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_DISCORD][21], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_DISCORD][21], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_DISCORD][21], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_DISCORD][21], 0);

	Textdraws[textdraw_PHONE_DISCORD][22] = TextDrawCreate(415.000000, 220.000000, "ld_beat:left");
	TextDrawFont(Textdraws[textdraw_PHONE_DISCORD][22], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_DISCORD][22], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_DISCORD][22], 19.000000, 19.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_DISCORD][22], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_DISCORD][22], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_DISCORD][22], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_DISCORD][22], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_DISCORD][22], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_DISCORD][22], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_DISCORD][22], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_DISCORD][22], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_DISCORD][22], 1);

	Textdraws[textdraw_PHONE_DISCORD][23] = TextDrawCreate(445.000000, 251.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_DISCORD][23], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_DISCORD][23], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_DISCORD][23], 17.000000, 20.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_DISCORD][23], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_DISCORD][23], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_DISCORD][23], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_DISCORD][23], 852308735);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_DISCORD][23], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_DISCORD][23], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_DISCORD][23], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_DISCORD][23], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_DISCORD][23], 0);

	Textdraws[textdraw_PHONE_DISCORD][24] = TextDrawCreate(445.000000, 270.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_DISCORD][24], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_DISCORD][24], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_DISCORD][24], 17.000000, 20.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_DISCORD][24], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_DISCORD][24], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_DISCORD][24], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_DISCORD][24], -65281);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_DISCORD][24], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_DISCORD][24], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_DISCORD][24], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_DISCORD][24], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_DISCORD][24], 0);

	Textdraws[textdraw_PHONE_DISCORD][25] = TextDrawCreate(445.000000, 290.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_DISCORD][25], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_DISCORD][25], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_DISCORD][25], 17.000000, 20.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_DISCORD][25], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_DISCORD][25], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_DISCORD][25], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_DISCORD][25], -8388353);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_DISCORD][25], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_DISCORD][25], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_DISCORD][25], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_DISCORD][25], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_DISCORD][25], 0);

	Textdraws[textdraw_PHONE_DISCORD][26] = TextDrawCreate(445.000000, 310.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_DISCORD][26], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_DISCORD][26], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_DISCORD][26], 17.000000, 20.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_DISCORD][26], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_DISCORD][26], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_DISCORD][26], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_DISCORD][26], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_DISCORD][26], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_DISCORD][26], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_DISCORD][26], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_DISCORD][26], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_DISCORD][26], 0);

	Textdraws[textdraw_PHONE_DISCORD][27] = TextDrawCreate(505.000000, 225.000000, "Spain+ Comunity");
	TextDrawFont(Textdraws[textdraw_PHONE_DISCORD][27], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_DISCORD][27], 0.200000, 1.500000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_DISCORD][27], 0.000000, 100.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_DISCORD][27], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_DISCORD][27], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_DISCORD][27], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_DISCORD][27], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_DISCORD][27], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_DISCORD][27], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_DISCORD][27], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_DISCORD][27], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_DISCORD][27], 0);

	Textdraws[textdraw_PHONE_DISCORD][28] = TextDrawCreate(445.000000, 225.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_DISCORD][28], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_DISCORD][28], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_DISCORD][28], 17.000000, 20.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_DISCORD][28], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_DISCORD][28], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_DISCORD][28], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_DISCORD][28], -1895796481);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_DISCORD][28], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_DISCORD][28], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_DISCORD][28], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_DISCORD][28], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_DISCORD][28], 0);

	Textdraws[textdraw_PHONE_DISCORD][29] = TextDrawCreate(505.000000, 248.000000, "Name_Name~n~Hi how are you");
	TextDrawFont(Textdraws[textdraw_PHONE_DISCORD][29], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_DISCORD][29], 0.150000, 0.699999);
	TextDrawTextSize(Textdraws[textdraw_PHONE_DISCORD][29], 0.000000, 95.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_DISCORD][29], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_DISCORD][29], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_DISCORD][29], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_DISCORD][29], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_DISCORD][29], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_DISCORD][29], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_DISCORD][29], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_DISCORD][29], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_DISCORD][29], 0);

	Textdraws[textdraw_PHONE_DISCORD][30] = TextDrawCreate(505.000000, 275.000000, "Name_Name~n~Hi how are you");
	TextDrawFont(Textdraws[textdraw_PHONE_DISCORD][30], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_DISCORD][30], 0.150000, 0.699999);
	TextDrawTextSize(Textdraws[textdraw_PHONE_DISCORD][30], 0.000000, 95.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_DISCORD][30], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_DISCORD][30], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_DISCORD][30], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_DISCORD][30], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_DISCORD][30], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_DISCORD][30], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_DISCORD][30], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_DISCORD][30], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_DISCORD][30], 0);

	Textdraws[textdraw_PHONE_DISCORD][31] = TextDrawCreate(505.000000, 300.000000, "Name_Name~n~Hi how are you");
	TextDrawFont(Textdraws[textdraw_PHONE_DISCORD][31], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_DISCORD][31], 0.150000, 0.699999);
	TextDrawTextSize(Textdraws[textdraw_PHONE_DISCORD][31], 0.000000, 95.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_DISCORD][31], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_DISCORD][31], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_DISCORD][31], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_DISCORD][31], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_DISCORD][31], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_DISCORD][31], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_DISCORD][31], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_DISCORD][31], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_DISCORD][31], 0);

	Textdraws[textdraw_PHONE_DISCORD][32] = TextDrawCreate(505.000000, 330.000000, "Name_Name~n~Hi how are you");
	TextDrawFont(Textdraws[textdraw_PHONE_DISCORD][32], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_DISCORD][32], 0.150000, 0.699999);
	TextDrawTextSize(Textdraws[textdraw_PHONE_DISCORD][32], 0.000000, 95.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_DISCORD][32], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_DISCORD][32], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_DISCORD][32], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_DISCORD][32], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_DISCORD][32], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_DISCORD][32], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_DISCORD][32], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_DISCORD][32], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_DISCORD][32], 0);

	Textdraws[textdraw_PHONE_DISCORD][33] = TextDrawCreate(505.000000, 355.000000, "Name_Name~n~Hi how are you");
	TextDrawFont(Textdraws[textdraw_PHONE_DISCORD][33], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_DISCORD][33], 0.150000, 0.699999);
	TextDrawTextSize(Textdraws[textdraw_PHONE_DISCORD][33], 0.000000, 95.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_DISCORD][33], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_DISCORD][33], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_DISCORD][33], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_DISCORD][33], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_DISCORD][33], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_DISCORD][33], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_DISCORD][33], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_DISCORD][33], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_DISCORD][33], 0);

	Textdraws[textdraw_PHONE_DISCORD][34] = TextDrawCreate(505.000000, 380.000000, "Name_Name~n~Hi how are you");
	TextDrawFont(Textdraws[textdraw_PHONE_DISCORD][34], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_DISCORD][34], 0.150000, 0.699999);
	TextDrawTextSize(Textdraws[textdraw_PHONE_DISCORD][34], 0.000000, 95.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_DISCORD][34], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_DISCORD][34], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_DISCORD][34], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_DISCORD][34], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_DISCORD][34], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_DISCORD][34], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_DISCORD][34], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_DISCORD][34], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_DISCORD][34], 0);

	//Spotify Genders
	Textdraws[textdraw_PHONE_SPOTFY_GENDERS][0] = TextDrawCreate(441.200012, 194.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][0], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][0], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][0], 20.000000, 25.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][0], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][0], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][0], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][0], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][0], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][0], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][0], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][0], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][0], 0);

	Textdraws[textdraw_PHONE_SPOTFY_GENDERS][1] = TextDrawCreate(500.000000, 200.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][1], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][1], 0.000000, 24.950000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][1], 0.000000, 90.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][1], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][1], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][1], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][1], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][1], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][1], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][1], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][1], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][1], 0);

	Textdraws[textdraw_PHONE_SPOTFY_GENDERS][2] = TextDrawCreate(500.000000, 219.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][2], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][2], 0.000000, 21.049991);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][2], 0.000000, 105.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][2], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][2], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][2], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][2], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][2], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][2], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][2], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][2], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][2], 0);

	Textdraws[textdraw_PHONE_SPOTFY_GENDERS][3] = TextDrawCreate(538.000000, 194.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][3], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][3], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][3], 20.000000, 25.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][3], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][3], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][3], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][3], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][3], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][3], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][3], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][3], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][3], 0);

	Textdraws[textdraw_PHONE_SPOTFY_GENDERS][4] = TextDrawCreate(440.000000, 387.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][4], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][4], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][4], 28.500000, 47.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][4], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][4], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][4], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][4], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][4], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][4], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][4], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][4], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][4], 0);

	Textdraws[textdraw_PHONE_SPOTFY_GENDERS][5] = TextDrawCreate(531.000000, 391.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][5], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][5], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][5], 28.500000, 41.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][5], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][5], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][5], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][5], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][5], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][5], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][5], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][5], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][5], 0);

	Textdraws[textdraw_PHONE_SPOTFY_GENDERS][6] = TextDrawCreate(498.000000, 211.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][6], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][6], 0.600000, 21.599998);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][6], 0.000000, 100.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][6], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][6], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][6], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][6], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][6], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][6], 471604223);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][6], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][6], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][6], 0);

	Textdraws[textdraw_PHONE_SPOTFY_GENDERS][7] = TextDrawCreate(445.000000, 217.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][7], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][7], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][7], 50.000000, 50.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][7], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][7], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][7], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][7], 500588543);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][7], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][7], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][7], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][7], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][7], 0);

	Textdraws[textdraw_PHONE_SPOTFY_GENDERS][8] = TextDrawCreate(498.000000, 211.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][8], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][8], 0.600000, 0.749993);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][8], 0.000000, 100.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][8], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][8], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][8], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][8], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][8], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][8], 515659519);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][8], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][8], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][8], 0);

	Textdraws[textdraw_PHONE_SPOTFY_GENDERS][9] = TextDrawCreate(445.000000, 205.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][9], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][9], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][9], 18.000000, 60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][9], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][9], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][9], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][9], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][9], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][9], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][9], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][9], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][9], 0);

	Textdraws[textdraw_PHONE_SPOTFY_GENDERS][10] = TextDrawCreate(554.000000, 205.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][10], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][10], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][10], -18.500000, 60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][10], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][10], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][10], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][10], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][10], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][10], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][10], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][10], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][10], 0);

	Textdraws[textdraw_PHONE_SPOTFY_GENDERS][11] = TextDrawCreate(498.000000, 205.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][11], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][11], 0.600000, 0.200001);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][11], 0.000000, 75.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][11], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][11], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][11], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][11], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][11], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][11], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][11], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][11], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][11], 0);

	Textdraws[textdraw_PHONE_SPOTFY_GENDERS][12] = TextDrawCreate(445.799987, 261.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][12], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][12], 0.600000, 16.600004);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][12], 0.000000, -2.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][12], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][12], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][12], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][12], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][12], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][12], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][12], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][12], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][12], 0);

	Textdraws[textdraw_PHONE_SPOTFY_GENDERS][13] = TextDrawCreate(445.000000, 413.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][13], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][13], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][13], 12.500000, -60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][13], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][13], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][13], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][13], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][13], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][13], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][13], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][13], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][13], 0);

	Textdraws[textdraw_PHONE_SPOTFY_GENDERS][14] = TextDrawCreate(555.000000, 413.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][14], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][14], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][14], -20.000000, -60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][14], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][14], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][14], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][14], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][14], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][14], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][14], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][14], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][14], 0);

	Textdraws[textdraw_PHONE_SPOTFY_GENDERS][15] = TextDrawCreate(522.000000, 209.000000, "12:00");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][15], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][15], 0.229164, 1.049998);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][15], 0.000000, 0.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][15], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][15], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][15], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][15], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][15], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][15], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][15], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][15], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][15], 0);

	Textdraws[textdraw_PHONE_SPOTFY_GENDERS][16] = TextDrawCreate(471.000000, 209.000000, "Spain+");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][16], 0);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][16], 0.337498, 1.049998);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][16], 0.000000, 0.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][16], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][16], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][16], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][16], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][16], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][16], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][16], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][16], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][16], 0);

	Textdraws[textdraw_PHONE_SPOTFY_GENDERS][17] = TextDrawCreate(554.000000, 261.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][17], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][17], 0.600000, 16.700025);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][17], 0.000000, -2.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][17], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][17], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][17], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][17], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][17], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][17], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][17], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][17], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][17], 0);

	Textdraws[textdraw_PHONE_SPOTFY_GENDERS][18] = TextDrawCreate(485.000000, 196.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][18], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][18], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][18], 26.000000, 30.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][18], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][18], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][18], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][18], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][18], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][18], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][18], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][18], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][18], 0);

	Textdraws[textdraw_PHONE_SPOTFY_GENDERS][19] = TextDrawCreate(494.000000, 207.000000, "ld_beat:circle");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][19], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][19], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][19], 8.000000, 8.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][19], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][19], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][19], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][19], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][19], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][19], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][19], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][19], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][19], 0);
	
	Textdraws[textdraw_PHONE_SPOTFY_GENDERS][20] = TextDrawCreate(455.000000, 225.000000, "ld_beat:cring");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][20], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][20], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][20], 30.000000, 30.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][20], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][20], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][20], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][20], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][20], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][20], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][20], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][20], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][20], 0);

	Textdraws[textdraw_PHONE_SPOTFY_GENDERS][21] = TextDrawCreate(452.500000, 228.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][21], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][21], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][21], 33.000000, 29.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][21], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][21], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][21], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][21], 500588543);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][21], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][21], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][21], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][21], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][21], 0);

	Textdraws[textdraw_PHONE_SPOTFY_GENDERS][22] = TextDrawCreate(454.000000, 231.000000, "ld_beat:cring");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][22], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][22], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][22], 30.000000, 30.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][22], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][22], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][22], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][22], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][22], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][22], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][22], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][22], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][22], 0);

	Textdraws[textdraw_PHONE_SPOTFY_GENDERS][23] = TextDrawCreate(450.000000, 233.300003, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][23], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][23], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][23], 35.500000, 30.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][23], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][23], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][23], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][23], 500588543);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][23], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][23], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][23], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][23], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][23], 0);

	Textdraws[textdraw_PHONE_SPOTFY_GENDERS][24] = TextDrawCreate(456.000000, 236.000000, "ld_beat:cring");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][24], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][24], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][24], 25.500000, 27.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][24], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][24], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][24], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][24], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][24], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][24], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][24], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][24], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][24], 0);

	Textdraws[textdraw_PHONE_SPOTFY_GENDERS][25] = TextDrawCreate(454.200012, 239.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][25], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][25], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][25], 28.000000, 24.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][25], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][25], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][25], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][25], 500588543);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][25], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][25], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][25], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][25], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][25], 0);

	Textdraws[textdraw_PHONE_SPOTFY_GENDERS][26] = TextDrawCreate(518.000000, 230.000000, "spotify");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][26], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][26], 0.250000, 1.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][26], 0.000000, 100.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][26], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][26], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][26], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][26], 500588543);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][26], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][26], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][26], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][26], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][26], 0);

	Textdraws[textdraw_PHONE_SPOTFY_GENDERS][27] = TextDrawCreate(474.000000, 273.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][27], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][27], 0.000000, 2.500000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][27], 0.000000, 42.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][27], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][27], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][27], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][27], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][27], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][27], 135);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][27], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][27], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][27], 0);

	Textdraws[textdraw_PHONE_SPOTFY_GENDERS][28] = TextDrawCreate(524.000000, 273.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][28], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][28], 0.000000, 2.500000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][28], 0.000000, 42.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][28], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][28], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][28], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][28], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][28], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][28], 135);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][28], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][28], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][28], 0);

	Textdraws[textdraw_PHONE_SPOTFY_GENDERS][29] = TextDrawCreate(518.000000, 241.000000, "Spain+RP");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][29], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][29], 0.250000, 1.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][29], 0.000000, 100.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][29], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][29], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][29], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][29], 500588543);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][29], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][29], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][29], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][29], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][29], 0);

	Textdraws[textdraw_PHONE_SPOTFY_GENDERS][30] = TextDrawCreate(474.000000, 375.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][30], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][30], 0.000000, 2.500000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][30], 0.000000, 42.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][30], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][30], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][30], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][30], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][30], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][30], 135);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][30], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][30], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][30], 0);

	Textdraws[textdraw_PHONE_SPOTFY_GENDERS][31] = TextDrawCreate(474.000000, 340.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][31], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][31], 0.000000, 2.500000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][31], 0.000000, 42.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][31], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][31], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][31], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][31], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][31], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][31], 135);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][31], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][31], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][31], 0);

	Textdraws[textdraw_PHONE_SPOTFY_GENDERS][32] = TextDrawCreate(474.000000, 307.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][32], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][32], 0.000000, 2.500000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][32], 0.000000, 42.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][32], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][32], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][32], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][32], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][32], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][32], 135);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][32], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][32], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][32], 0);

	Textdraws[textdraw_PHONE_SPOTFY_GENDERS][33] = TextDrawCreate(524.000000, 307.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][33], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][33], 0.000000, 2.500000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][33], 0.000000, 42.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][33], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][33], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][33], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][33], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][33], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][33], 135);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][33], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][33], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][33], 0);

	Textdraws[textdraw_PHONE_SPOTFY_GENDERS][34] = TextDrawCreate(524.000000, 340.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][34], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][34], 0.000000, 2.500000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][34], 0.000000, 42.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][34], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][34], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][34], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][34], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][34], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][34], 135);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][34], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][34], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][34], 0);

	Textdraws[textdraw_PHONE_SPOTFY_GENDERS][35] = TextDrawCreate(506.000000, 369.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][35], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][35], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][35], 35.000000, 35.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][35], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][35], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][35], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][35], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][35], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][35], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][35], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][35], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][35], 0);

	Textdraws[textdraw_PHONE_SPOTFY_GENDERS][36] = TextDrawCreate(515.000000, 378.000000, "ld_beat:down");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][36], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][36], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][36], 17.000000, 17.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][36], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][36], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][36], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][36], 500588543);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][36], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][36], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][36], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][36], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][36], 1);

	Textdraws[textdraw_PHONE_SPOTFY_GENDERS][37] = TextDrawCreate(411.000000, 204.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][37], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][37], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][37], 35.000000, 35.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][37], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][37], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][37], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][37], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][37], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][37], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][37], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][37], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][37], 0);

	Textdraws[textdraw_PHONE_SPOTFY_GENDERS][38] = TextDrawCreate(420.000000, 213.000000, "ld_beat:left");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][38], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][38], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][38], 17.000000, 17.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][38], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][38], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][38], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][38], 500588543);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][38], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][38], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][38], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][38], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][38], 1);

	Textdraws[textdraw_PHONE_SPOTFY_GENDERS][39] = TextDrawCreate(474.000000, 280.000000, "trap");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][39], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][39], 0.250000, 1.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][39], 15.000000, 38.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][39], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][39], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][39], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][39], 500588543);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][39], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][39], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][39], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][39], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][39], 1);

	Textdraws[textdraw_PHONE_SPOTFY_GENDERS][40] = TextDrawCreate(524.000000, 280.000000, "Rock");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][40], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][40], 0.250000, 1.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][40], 15.000000, 38.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][40], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][40], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][40], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][40], 500588543);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][40], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][40], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][40], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][40], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][40], 1);

	Textdraws[textdraw_PHONE_SPOTFY_GENDERS][41] = TextDrawCreate(474.000000, 314.000000, "reggaeton");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][41], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][41], 0.174999, 1.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][41], 15.000000, 38.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][41], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][41], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][41], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][41], 500588543);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][41], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][41], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][41], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][41], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][41], 1);

	Textdraws[textdraw_PHONE_SPOTFY_GENDERS][42] = TextDrawCreate(524.000000, 314.000000, "electro");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][42], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][42], 0.174999, 1.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][42], 15.000000, 38.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][42], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][42], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][42], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][42], 500588543);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][42], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][42], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][42], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][42], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][42], 1);

	Textdraws[textdraw_PHONE_SPOTFY_GENDERS][43] = TextDrawCreate(474.000000, 347.000000, "Clasica");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][43], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][43], 0.200000, 1.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][43], 15.000000, 38.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][43], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][43], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][43], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][43], 500588543);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][43], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][43], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][43], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][43], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][43], 1);

	Textdraws[textdraw_PHONE_SPOTFY_GENDERS][44] = TextDrawCreate(524.000000, 347.000000, "Pop");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][44], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][44], 0.200000, 1.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][44], 15.000000, 38.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][44], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][44], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][44], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][44], 500588543);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][44], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][44], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][44], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][44], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][44], 1);

	Textdraws[textdraw_PHONE_SPOTFY_GENDERS][45] = TextDrawCreate(474.000000, 383.000000, "Indie");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][45], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][45], 0.254166, 1.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][45], 15.000000, 38.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][45], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][45], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][45], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][45], 500588543);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][45], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][45], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][45], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][45], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_GENDERS][45], 1);

	//Spotify Musics
	Textdraws[textdraw_PHONE_SPOTFY_MUSICS][0] = TextDrawCreate(441.200012, 194.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][0], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][0], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][0], 20.000000, 25.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][0], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][0], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][0], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][0], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][0], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][0], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][0], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][0], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][0], 0);

	Textdraws[textdraw_PHONE_SPOTFY_MUSICS][1] = TextDrawCreate(500.000000, 200.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][1], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][1], 0.000000, 24.950000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][1], 0.000000, 90.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][1], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][1], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][1], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][1], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][1], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][1], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][1], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][1], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][1], 0);

	Textdraws[textdraw_PHONE_SPOTFY_MUSICS][2] = TextDrawCreate(500.000000, 219.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][2], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][2], 0.000000, 21.049991);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][2], 0.000000, 105.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][2], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][2], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][2], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][2], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][2], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][2], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][2], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][2], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][2], 0);

	Textdraws[textdraw_PHONE_SPOTFY_MUSICS][3] = TextDrawCreate(538.000000, 194.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][3], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][3], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][3], 20.000000, 25.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][3], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][3], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][3], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][3], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][3], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][3], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][3], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][3], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][3], 0);

	Textdraws[textdraw_PHONE_SPOTFY_MUSICS][4] = TextDrawCreate(440.000000, 387.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][4], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][4], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][4], 28.500000, 47.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][4], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][4], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][4], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][4], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][4], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][4], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][4], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][4], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][4], 0);

	Textdraws[textdraw_PHONE_SPOTFY_MUSICS][5] = TextDrawCreate(531.000000, 391.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][5], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][5], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][5], 28.500000, 41.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][5], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][5], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][5], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][5], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][5], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][5], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][5], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][5], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][5], 0);

	Textdraws[textdraw_PHONE_SPOTFY_MUSICS][6] = TextDrawCreate(498.000000, 211.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][6], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][6], 0.600000, 21.599998);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][6], 0.000000, 100.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][6], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][6], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][6], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][6], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][6], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][6], 471604223);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][6], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][6], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][6], 0);

	Textdraws[textdraw_PHONE_SPOTFY_MUSICS][7] = TextDrawCreate(500.000000, 214.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][7], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][7], 0.000000, 5.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][7], 0.000000, 100.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][7], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][7], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][7], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][7], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][7], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][7], 135);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][7], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][7], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][7], 0);

	Textdraws[textdraw_PHONE_SPOTFY_MUSICS][8] = TextDrawCreate(445.000000, 217.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][8], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][8], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][8], 50.000000, 50.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][8], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][8], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][8], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][8], 500588543);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][8], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][8], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][8], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][8], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][8], 0);

	Textdraws[textdraw_PHONE_SPOTFY_MUSICS][9] = TextDrawCreate(498.000000, 211.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][9], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][9], 0.600000, 0.749993);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][9], 0.000000, 100.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][9], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][9], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][9], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][9], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][9], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][9], 515659519);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][9], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][9], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][9], 0);

	Textdraws[textdraw_PHONE_SPOTFY_MUSICS][10] = TextDrawCreate(445.000000, 205.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][10], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][10], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][10], 18.000000, 60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][10], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][10], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][10], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][10], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][10], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][10], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][10], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][10], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][10], 0);

	Textdraws[textdraw_PHONE_SPOTFY_MUSICS][11] = TextDrawCreate(554.000000, 205.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][11], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][11], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][11], -18.500000, 60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][11], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][11], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][11], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][11], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][11], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][11], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][11], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][11], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][11], 0);

	Textdraws[textdraw_PHONE_SPOTFY_MUSICS][12] = TextDrawCreate(498.000000, 205.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][12], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][12], 0.600000, 0.200001);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][12], 0.000000, 75.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][12], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][12], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][12], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][12], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][12], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][12], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][12], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][12], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][12], 0);

	Textdraws[textdraw_PHONE_SPOTFY_MUSICS][13] = TextDrawCreate(445.799987, 261.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][13], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][13], 0.600000, 16.600004);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][13], 0.000000, -2.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][13], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][13], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][13], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][13], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][13], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][13], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][13], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][13], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][13], 0);

	Textdraws[textdraw_PHONE_SPOTFY_MUSICS][14] = TextDrawCreate(445.000000, 413.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][14], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][14], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][14], 12.500000, -60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][14], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][14], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][14], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][14], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][14], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][14], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][14], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][14], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][14], 0);

	Textdraws[textdraw_PHONE_SPOTFY_MUSICS][15] = TextDrawCreate(555.000000, 413.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][15], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][15], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][15], -20.000000, -60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][15], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][15], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][15], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][15], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][15], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][15], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][15], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][15], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][15], 0);

	Textdraws[textdraw_PHONE_SPOTFY_MUSICS][16] = TextDrawCreate(522.000000, 209.000000, "12:00");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][16], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][16], 0.229164, 1.049998);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][16], 0.000000, 0.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][16], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][16], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][16], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][16], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][16], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][16], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][16], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][16], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][16], 0);

	Textdraws[textdraw_PHONE_SPOTFY_MUSICS][17] = TextDrawCreate(471.000000, 209.000000, "Spain+");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][17], 0);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][17], 0.337498, 1.049998);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][17], 0.000000, 0.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][17], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][17], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][17], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][17], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][17], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][17], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][17], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][17], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][17], 0);

	Textdraws[textdraw_PHONE_SPOTFY_MUSICS][18] = TextDrawCreate(554.000000, 261.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][18], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][18], 0.600000, 16.700025);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][18], 0.000000, -2.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][18], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][18], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][18], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][18], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][18], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][18], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][18], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][18], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][18], 0);

	Textdraws[textdraw_PHONE_SPOTFY_MUSICS][19] = TextDrawCreate(485.000000, 196.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][19], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][19], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][19], 26.000000, 30.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][19], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][19], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][19], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][19], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][19], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][19], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][19], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][19], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][19], 0);

	Textdraws[textdraw_PHONE_SPOTFY_MUSICS][20] = TextDrawCreate(494.000000, 207.000000, "ld_beat:circle");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][20], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][20], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][20], 8.000000, 8.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][20], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][20], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][20], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][20], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][20], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][20], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][20], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][20], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][20], 0);

	Textdraws[textdraw_PHONE_SPOTFY_MUSICS][21] = TextDrawCreate(455.000000, 225.000000, "ld_beat:cring");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][21], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][21], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][21], 30.000000, 30.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][21], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][21], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][21], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][21], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][21], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][21], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][21], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][21], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][21], 0);

	Textdraws[textdraw_PHONE_SPOTFY_MUSICS][22] = TextDrawCreate(452.500000, 228.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][22], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][22], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][22], 33.000000, 29.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][22], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][22], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][22], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][22], 500588543);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][22], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][22], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][22], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][22], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][22], 0);

	Textdraws[textdraw_PHONE_SPOTFY_MUSICS][23] = TextDrawCreate(454.000000, 231.000000, "ld_beat:cring");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][23], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][23], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][23], 30.000000, 30.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][23], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][23], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][23], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][23], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][23], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][23], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][23], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][23], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][23], 0);

	Textdraws[textdraw_PHONE_SPOTFY_MUSICS][24] = TextDrawCreate(450.000000, 233.300003, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][24], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][24], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][24], 35.500000, 30.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][24], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][24], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][24], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][24], 500588543);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][24], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][24], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][24], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][24], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][24], 0);

	Textdraws[textdraw_PHONE_SPOTFY_MUSICS][25] = TextDrawCreate(456.000000, 236.000000, "ld_beat:cring");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][25], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][25], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][25], 25.500000, 27.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][25], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][25], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][25], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][25], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][25], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][25], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][25], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][25], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][25], 0);

	Textdraws[textdraw_PHONE_SPOTFY_MUSICS][26] = TextDrawCreate(454.200012, 239.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][26], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][26], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][26], 28.000000, 24.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][26], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][26], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][26], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][26], 500588543);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][26], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][26], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][26], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][26], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][26], 0);

	Textdraws[textdraw_PHONE_SPOTFY_MUSICS][27] = TextDrawCreate(518.000000, 230.000000, "spotify");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][27], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][27], 0.250000, 1.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][27], 0.000000, 100.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][27], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][27], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][27], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][27], 500588543);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][27], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][27], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][27], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][27], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][27], 0);

	Textdraws[textdraw_PHONE_SPOTFY_MUSICS][28] = TextDrawCreate(518.000000, 241.000000, "Spain+RP");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][28], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][28], 0.250000, 1.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][28], 0.000000, 100.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][28], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][28], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][28], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][28], 500588543);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][28], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][28], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][28], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][28], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][28], 0);

	Textdraws[textdraw_PHONE_SPOTFY_MUSICS][29] = TextDrawCreate(411.000000, 204.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][29], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][29], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][29], 35.000000, 35.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][29], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][29], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][29], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][29], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][29], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][29], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][29], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][29], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][29], 0);

	Textdraws[textdraw_PHONE_SPOTFY_MUSICS][30] = TextDrawCreate(420.000000, 213.000000, "ld_beat:left");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][30], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][30], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][30], 17.000000, 17.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][30], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][30], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][30], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][30], 500588543);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][30], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][30], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][30], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][30], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_MUSICS][30], 1);

	//Spotify Listen
	Textdraws[textdraw_PHONE_SPOTFY_SONG][0] = TextDrawCreate(441.200012, 194.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_SONG][0], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][0], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][0], 20.000000, 25.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_SONG][0], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_SONG][0], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_SONG][0], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][0], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][0], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][0], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_SONG][0], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_SONG][0], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_SONG][0], 0);

	Textdraws[textdraw_PHONE_SPOTFY_SONG][1] = TextDrawCreate(500.000000, 200.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_SONG][1], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][1], 0.000000, 24.950000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][1], 0.000000, 90.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_SONG][1], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_SONG][1], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_SONG][1], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][1], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][1], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][1], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_SONG][1], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_SONG][1], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_SONG][1], 0);

	Textdraws[textdraw_PHONE_SPOTFY_SONG][2] = TextDrawCreate(500.000000, 219.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_SONG][2], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][2], 0.000000, 21.049991);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][2], 0.000000, 105.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_SONG][2], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_SONG][2], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_SONG][2], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][2], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][2], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][2], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_SONG][2], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_SONG][2], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_SONG][2], 0);

	Textdraws[textdraw_PHONE_SPOTFY_SONG][3] = TextDrawCreate(538.000000, 194.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_SONG][3], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][3], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][3], 20.000000, 25.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_SONG][3], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_SONG][3], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_SONG][3], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][3], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][3], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][3], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_SONG][3], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_SONG][3], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_SONG][3], 0);

	Textdraws[textdraw_PHONE_SPOTFY_SONG][4] = TextDrawCreate(440.000000, 387.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_SONG][4], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][4], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][4], 28.500000, 47.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_SONG][4], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_SONG][4], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_SONG][4], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][4], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][4], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][4], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_SONG][4], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_SONG][4], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_SONG][4], 0);

	Textdraws[textdraw_PHONE_SPOTFY_SONG][5] = TextDrawCreate(531.000000, 391.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_SONG][5], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][5], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][5], 28.500000, 41.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_SONG][5], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_SONG][5], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_SONG][5], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][5], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][5], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][5], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_SONG][5], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_SONG][5], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_SONG][5], 0);

	Textdraws[textdraw_PHONE_SPOTFY_SONG][6] = TextDrawCreate(498.000000, 211.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_SONG][6], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][6], 0.600000, 21.599998);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][6], 0.000000, 100.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_SONG][6], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_SONG][6], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_SONG][6], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][6], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][6], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][6], 471604223);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_SONG][6], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_SONG][6], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_SONG][6], 0);

	Textdraws[textdraw_PHONE_SPOTFY_SONG][7] = TextDrawCreate(500.000000, 214.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_SONG][7], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][7], 0.000000, 5.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][7], 0.000000, 100.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_SONG][7], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_SONG][7], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_SONG][7], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][7], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][7], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][7], 135);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_SONG][7], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_SONG][7], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_SONG][7], 0);

	Textdraws[textdraw_PHONE_SPOTFY_SONG][8] = TextDrawCreate(498.000000, 211.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_SONG][8], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][8], 0.600000, 0.749993);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][8], 0.000000, 100.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_SONG][8], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_SONG][8], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_SONG][8], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][8], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][8], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][8], 515659519);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_SONG][8], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_SONG][8], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_SONG][8], 0);

	Textdraws[textdraw_PHONE_SPOTFY_SONG][9] = TextDrawCreate(445.000000, 205.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_SONG][9], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][9], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][9], 18.000000, 60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_SONG][9], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_SONG][9], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_SONG][9], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][9], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][9], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][9], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_SONG][9], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_SONG][9], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_SONG][9], 0);

	Textdraws[textdraw_PHONE_SPOTFY_SONG][10] = TextDrawCreate(554.000000, 205.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_SONG][10], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][10], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][10], -18.500000, 60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_SONG][10], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_SONG][10], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_SONG][10], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][10], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][10], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][10], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_SONG][10], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_SONG][10], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_SONG][10], 0);

	Textdraws[textdraw_PHONE_SPOTFY_SONG][11] = TextDrawCreate(498.000000, 205.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_SONG][11], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][11], 0.600000, 0.200001);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][11], 0.000000, 75.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_SONG][11], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_SONG][11], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_SONG][11], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][11], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][11], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][11], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_SONG][11], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_SONG][11], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_SONG][11], 0);

	Textdraws[textdraw_PHONE_SPOTFY_SONG][12] = TextDrawCreate(445.799987, 261.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_SONG][12], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][12], 0.600000, 16.600004);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][12], 0.000000, -2.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_SONG][12], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_SONG][12], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_SONG][12], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][12], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][12], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][12], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_SONG][12], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_SONG][12], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_SONG][12], 0);

	Textdraws[textdraw_PHONE_SPOTFY_SONG][13] = TextDrawCreate(445.000000, 413.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_SONG][13], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][13], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][13], 12.500000, -60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_SONG][13], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_SONG][13], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_SONG][13], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][13], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][13], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][13], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_SONG][13], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_SONG][13], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_SONG][13], 0);

	Textdraws[textdraw_PHONE_SPOTFY_SONG][14] = TextDrawCreate(555.000000, 413.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_SONG][14], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][14], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][14], -20.000000, -60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_SONG][14], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_SONG][14], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_SONG][14], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][14], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][14], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][14], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_SONG][14], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_SONG][14], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_SONG][14], 0);

	Textdraws[textdraw_PHONE_SPOTFY_SONG][15] = TextDrawCreate(522.000000, 209.000000, "12:00");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_SONG][15], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][15], 0.229164, 1.049998);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][15], 0.000000, 0.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_SONG][15], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_SONG][15], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_SONG][15], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][15], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][15], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][15], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_SONG][15], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_SONG][15], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_SONG][15], 0);

	Textdraws[textdraw_PHONE_SPOTFY_SONG][16] = TextDrawCreate(471.000000, 209.000000, "Spain+");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_SONG][16], 0);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][16], 0.337498, 1.049998);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][16], 0.000000, 0.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_SONG][16], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_SONG][16], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_SONG][16], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][16], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][16], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][16], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_SONG][16], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_SONG][16], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_SONG][16], 0);

	Textdraws[textdraw_PHONE_SPOTFY_SONG][17] = TextDrawCreate(554.000000, 261.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_SONG][17], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][17], 0.600000, 16.700025);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][17], 0.000000, -2.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_SONG][17], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_SONG][17], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_SONG][17], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][17], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][17], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][17], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_SONG][17], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_SONG][17], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_SONG][17], 0);

	Textdraws[textdraw_PHONE_SPOTFY_SONG][18] = TextDrawCreate(485.000000, 196.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_SONG][18], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][18], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][18], 26.000000, 30.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_SONG][18], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_SONG][18], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_SONG][18], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][18], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][18], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][18], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_SONG][18], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_SONG][18], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_SONG][18], 0);

	Textdraws[textdraw_PHONE_SPOTFY_SONG][19] = TextDrawCreate(494.000000, 207.000000, "ld_beat:circle");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_SONG][19], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][19], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][19], 8.000000, 8.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_SONG][19], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_SONG][19], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_SONG][19], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][19], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][19], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][19], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_SONG][19], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_SONG][19], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_SONG][19], 0);

	Textdraws[textdraw_PHONE_SPOTFY_SONG][20] = TextDrawCreate(411.000000, 204.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_SONG][20], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][20], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][20], 35.000000, 35.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_SONG][20], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_SONG][20], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_SONG][20], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][20], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][20], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][20], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_SONG][20], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_SONG][20], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_SONG][20], 0);

	Textdraws[textdraw_PHONE_SPOTFY_SONG][21] = TextDrawCreate(525.000000, 235.000000, "ld_beat:right");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_SONG][21], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][21], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][21], 17.000000, 17.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_SONG][21], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_SONG][21], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_SONG][21], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][21], 500588543);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][21], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][21], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_SONG][21], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_SONG][21], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_SONG][21], 1);

	Textdraws[textdraw_PHONE_SPOTFY_SONG][22] = TextDrawCreate(420.000000, 213.000000, "ld_beat:left");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_SONG][22], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][22], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][22], 17.000000, 17.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_SONG][22], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_SONG][22], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_SONG][22], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][22], 500588543);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][22], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][22], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_SONG][22], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_SONG][22], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_SONG][22], 1);

	Textdraws[textdraw_PHONE_SPOTFY_SONG][23] = TextDrawCreate(480.000000, 225.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_SONG][23], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][23], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][23], 35.000000, 35.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_SONG][23], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_SONG][23], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_SONG][23], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][23], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][23], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][23], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_SONG][23], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_SONG][23], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_SONG][23], 0);

	Textdraws[textdraw_PHONE_SPOTFY_SONG][24] = TextDrawCreate(455.000000, 235.000000, "ld_beat:left");
	TextDrawFont(Textdraws[textdraw_PHONE_SPOTFY_SONG][24], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][24], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_SPOTFY_SONG][24], 17.000000, 17.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_SPOTFY_SONG][24], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_SPOTFY_SONG][24], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_SPOTFY_SONG][24], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][24], 500588543);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][24], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_SPOTFY_SONG][24], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_SPOTFY_SONG][24], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_SPOTFY_SONG][24], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_SPOTFY_SONG][24], 1);

	//WhatsApp
	Textdraws[textdraw_PHONE_WHATSAPP][0] = TextDrawCreate(441.200012, 194.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_WHATSAPP][0], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_WHATSAPP][0], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_WHATSAPP][0], 20.000000, 25.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_WHATSAPP][0], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_WHATSAPP][0], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_WHATSAPP][0], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_WHATSAPP][0], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_WHATSAPP][0], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_WHATSAPP][0], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_WHATSAPP][0], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_WHATSAPP][0], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_WHATSAPP][0], 0);

	Textdraws[textdraw_PHONE_WHATSAPP][1] = TextDrawCreate(500.000000, 200.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_WHATSAPP][1], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_WHATSAPP][1], 0.000000, 24.950000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_WHATSAPP][1], 0.000000, 90.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_WHATSAPP][1], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_WHATSAPP][1], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_WHATSAPP][1], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_WHATSAPP][1], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_WHATSAPP][1], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_WHATSAPP][1], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_WHATSAPP][1], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_WHATSAPP][1], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_WHATSAPP][1], 0);

	Textdraws[textdraw_PHONE_WHATSAPP][2] = TextDrawCreate(500.000000, 219.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_WHATSAPP][2], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_WHATSAPP][2], 0.000000, 21.049991);
	TextDrawTextSize(Textdraws[textdraw_PHONE_WHATSAPP][2], 0.000000, 105.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_WHATSAPP][2], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_WHATSAPP][2], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_WHATSAPP][2], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_WHATSAPP][2], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_WHATSAPP][2], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_WHATSAPP][2], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_WHATSAPP][2], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_WHATSAPP][2], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_WHATSAPP][2], 0);

	Textdraws[textdraw_PHONE_WHATSAPP][3] = TextDrawCreate(538.000000, 194.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_WHATSAPP][3], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_WHATSAPP][3], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_WHATSAPP][3], 20.000000, 25.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_WHATSAPP][3], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_WHATSAPP][3], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_WHATSAPP][3], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_WHATSAPP][3], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_WHATSAPP][3], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_WHATSAPP][3], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_WHATSAPP][3], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_WHATSAPP][3], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_WHATSAPP][3], 0);

	Textdraws[textdraw_PHONE_WHATSAPP][4] = TextDrawCreate(440.000000, 387.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_WHATSAPP][4], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_WHATSAPP][4], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_WHATSAPP][4], 28.500000, 47.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_WHATSAPP][4], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_WHATSAPP][4], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_WHATSAPP][4], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_WHATSAPP][4], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_WHATSAPP][4], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_WHATSAPP][4], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_WHATSAPP][4], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_WHATSAPP][4], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_WHATSAPP][4], 0);

	Textdraws[textdraw_PHONE_WHATSAPP][5] = TextDrawCreate(531.000000, 391.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_WHATSAPP][5], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_WHATSAPP][5], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_WHATSAPP][5], 28.500000, 41.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_WHATSAPP][5], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_WHATSAPP][5], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_WHATSAPP][5], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_WHATSAPP][5], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_WHATSAPP][5], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_WHATSAPP][5], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_WHATSAPP][5], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_WHATSAPP][5], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_WHATSAPP][5], 0);

	Textdraws[textdraw_PHONE_WHATSAPP][6] = TextDrawCreate(500.000000, 208.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_WHATSAPP][6], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_WHATSAPP][6], 0.600000, 21.900026);
	TextDrawTextSize(Textdraws[textdraw_PHONE_WHATSAPP][6], 298.500000, 100.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_WHATSAPP][6], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_WHATSAPP][6], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_WHATSAPP][6], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_WHATSAPP][6], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_WHATSAPP][6], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_WHATSAPP][6], -1);
	TextDrawUseBox(Textdraws[textdraw_PHONE_WHATSAPP][6], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_WHATSAPP][6], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_WHATSAPP][6], 0);

	Textdraws[textdraw_PHONE_WHATSAPP][7] = TextDrawCreate(445.799987, 214.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_WHATSAPP][7], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_WHATSAPP][7], 0.600000, 21.199956);
	TextDrawTextSize(Textdraws[textdraw_PHONE_WHATSAPP][7], 0.000000, -2.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_WHATSAPP][7], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_WHATSAPP][7], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_WHATSAPP][7], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_WHATSAPP][7], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_WHATSAPP][7], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_WHATSAPP][7], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_WHATSAPP][7], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_WHATSAPP][7], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_WHATSAPP][7], 0);

	Textdraws[textdraw_PHONE_WHATSAPP][8] = TextDrawCreate(445.000000, 413.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_WHATSAPP][8], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_WHATSAPP][8], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_WHATSAPP][8], 12.500000, -60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_WHATSAPP][8], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_WHATSAPP][8], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_WHATSAPP][8], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_WHATSAPP][8], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_WHATSAPP][8], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_WHATSAPP][8], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_WHATSAPP][8], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_WHATSAPP][8], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_WHATSAPP][8], 0);

	Textdraws[textdraw_PHONE_WHATSAPP][9] = TextDrawCreate(555.000000, 413.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_WHATSAPP][9], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_WHATSAPP][9], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_WHATSAPP][9], -20.000000, -60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_WHATSAPP][9], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_WHATSAPP][9], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_WHATSAPP][9], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_WHATSAPP][9], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_WHATSAPP][9], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_WHATSAPP][9], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_WHATSAPP][9], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_WHATSAPP][9], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_WHATSAPP][9], 0);

	Textdraws[textdraw_PHONE_WHATSAPP][10] = TextDrawCreate(500.000000, 208.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_WHATSAPP][10], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_WHATSAPP][10], 0.600000, 4.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_WHATSAPP][10], 298.500000, 100.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_WHATSAPP][10], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_WHATSAPP][10], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_WHATSAPP][10], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_WHATSAPP][10], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_WHATSAPP][10], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_WHATSAPP][10], 123622655);
	TextDrawUseBox(Textdraws[textdraw_PHONE_WHATSAPP][10], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_WHATSAPP][10], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_WHATSAPP][10], 0);

	Textdraws[textdraw_PHONE_WHATSAPP][11] = TextDrawCreate(500.000000, 212.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_WHATSAPP][11], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_WHATSAPP][11], 0.600000, 0.750025);
	TextDrawTextSize(Textdraws[textdraw_PHONE_WHATSAPP][11], 298.500000, 100.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_WHATSAPP][11], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_WHATSAPP][11], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_WHATSAPP][11], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_WHATSAPP][11], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_WHATSAPP][11], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_WHATSAPP][11], 70660351);
	TextDrawUseBox(Textdraws[textdraw_PHONE_WHATSAPP][11], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_WHATSAPP][11], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_WHATSAPP][11], 0);

	Textdraws[textdraw_PHONE_WHATSAPP][12] = TextDrawCreate(544.000000, 215.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_WHATSAPP][12], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_WHATSAPP][12], 0.000000, 0.050000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_WHATSAPP][12], 1.500000, 8.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_WHATSAPP][12], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_WHATSAPP][12], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_WHATSAPP][12], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_WHATSAPP][12], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_WHATSAPP][12], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_WHATSAPP][12], -1);
	TextDrawUseBox(Textdraws[textdraw_PHONE_WHATSAPP][12], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_WHATSAPP][12], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_WHATSAPP][12], 0);

	Textdraws[textdraw_PHONE_WHATSAPP][13] = TextDrawCreate(542.000000, 215.899993, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_WHATSAPP][13], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_WHATSAPP][13], 0.000000, -0.149994);
	TextDrawTextSize(Textdraws[textdraw_PHONE_WHATSAPP][13], 1.500000, 8.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_WHATSAPP][13], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_WHATSAPP][13], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_WHATSAPP][13], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_WHATSAPP][13], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_WHATSAPP][13], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_WHATSAPP][13], -1);
	TextDrawUseBox(Textdraws[textdraw_PHONE_WHATSAPP][13], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_WHATSAPP][13], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_WHATSAPP][13], 0);

	Textdraws[textdraw_PHONE_WHATSAPP][14] = TextDrawCreate(471.000000, 210.000000, "Spain+");
	TextDrawFont(Textdraws[textdraw_PHONE_WHATSAPP][14], 0);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_WHATSAPP][14], 0.337498, 1.049998);
	TextDrawTextSize(Textdraws[textdraw_PHONE_WHATSAPP][14], 0.000000, 0.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_WHATSAPP][14], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_WHATSAPP][14], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_WHATSAPP][14], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_WHATSAPP][14], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_WHATSAPP][14], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_WHATSAPP][14], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_WHATSAPP][14], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_WHATSAPP][14], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_WHATSAPP][14], 0);

	Textdraws[textdraw_PHONE_WHATSAPP][15] = TextDrawCreate(500.000000, 301.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_WHATSAPP][15], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_WHATSAPP][15], 0.000000, -0.500000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_WHATSAPP][15], 298.500000, 100.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_WHATSAPP][15], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_WHATSAPP][15], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_WHATSAPP][15], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_WHATSAPP][15], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_WHATSAPP][15], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_WHATSAPP][15], -741092353);
	TextDrawUseBox(Textdraws[textdraw_PHONE_WHATSAPP][15], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_WHATSAPP][15], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_WHATSAPP][15], 0);

	Textdraws[textdraw_PHONE_WHATSAPP][16] = TextDrawCreate(500.000000, 274.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_WHATSAPP][16], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_WHATSAPP][16], 0.000000, -0.500000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_WHATSAPP][16], 298.500000, 100.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_WHATSAPP][16], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_WHATSAPP][16], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_WHATSAPP][16], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_WHATSAPP][16], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_WHATSAPP][16], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_WHATSAPP][16], -741092353);
	TextDrawUseBox(Textdraws[textdraw_PHONE_WHATSAPP][16], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_WHATSAPP][16], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_WHATSAPP][16], 0);

	Textdraws[textdraw_PHONE_WHATSAPP][17] = TextDrawCreate(498.000000, 204.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_WHATSAPP][17], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_WHATSAPP][17], 0.600000, 0.200001);
	TextDrawTextSize(Textdraws[textdraw_PHONE_WHATSAPP][17], 0.000000, 75.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_WHATSAPP][17], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_WHATSAPP][17], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_WHATSAPP][17], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_WHATSAPP][17], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_WHATSAPP][17], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_WHATSAPP][17], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_WHATSAPP][17], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_WHATSAPP][17], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_WHATSAPP][17], 0);

	Textdraws[textdraw_PHONE_WHATSAPP][18] = TextDrawCreate(500.000000, 329.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_WHATSAPP][18], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_WHATSAPP][18], 0.000000, -0.500000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_WHATSAPP][18], 298.500000, 100.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_WHATSAPP][18], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_WHATSAPP][18], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_WHATSAPP][18], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_WHATSAPP][18], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_WHATSAPP][18], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_WHATSAPP][18], -741092353);
	TextDrawUseBox(Textdraws[textdraw_PHONE_WHATSAPP][18], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_WHATSAPP][18], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_WHATSAPP][18], 0);

	Textdraws[textdraw_PHONE_WHATSAPP][19] = TextDrawCreate(500.000000, 357.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_WHATSAPP][19], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_WHATSAPP][19], 0.000000, -0.500000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_WHATSAPP][19], 298.500000, 100.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_WHATSAPP][19], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_WHATSAPP][19], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_WHATSAPP][19], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_WHATSAPP][19], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_WHATSAPP][19], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_WHATSAPP][19], -741092353);
	TextDrawUseBox(Textdraws[textdraw_PHONE_WHATSAPP][19], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_WHATSAPP][19], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_WHATSAPP][19], 0);

	Textdraws[textdraw_PHONE_WHATSAPP][20] = TextDrawCreate(500.000000, 385.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_WHATSAPP][20], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_WHATSAPP][20], 0.000000, -0.500000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_WHATSAPP][20], 298.500000, 100.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_WHATSAPP][20], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_WHATSAPP][20], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_WHATSAPP][20], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_WHATSAPP][20], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_WHATSAPP][20], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_WHATSAPP][20], -741092353);
	TextDrawUseBox(Textdraws[textdraw_PHONE_WHATSAPP][20], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_WHATSAPP][20], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_WHATSAPP][20], 0);

	Textdraws[textdraw_PHONE_WHATSAPP][21] = TextDrawCreate(554.000000, 208.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_WHATSAPP][21], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_WHATSAPP][21], 0.600000, 22.249979);
	TextDrawTextSize(Textdraws[textdraw_PHONE_WHATSAPP][21], 0.000000, -2.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_WHATSAPP][21], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_WHATSAPP][21], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_WHATSAPP][21], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_WHATSAPP][21], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_WHATSAPP][21], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_WHATSAPP][21], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_WHATSAPP][21], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_WHATSAPP][21], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_WHATSAPP][21], 0);

	Textdraws[textdraw_PHONE_WHATSAPP][22] = TextDrawCreate(485.000000, 196.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_WHATSAPP][22], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_WHATSAPP][22], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_WHATSAPP][22], 26.000000, 30.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_WHATSAPP][22], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_WHATSAPP][22], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_WHATSAPP][22], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_WHATSAPP][22], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_WHATSAPP][22], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_WHATSAPP][22], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_WHATSAPP][22], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_WHATSAPP][22], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_WHATSAPP][22], 0);

	Textdraws[textdraw_PHONE_WHATSAPP][23] = TextDrawCreate(494.000000, 207.000000, "ld_beat:circle");
	TextDrawFont(Textdraws[textdraw_PHONE_WHATSAPP][23], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_WHATSAPP][23], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_WHATSAPP][23], 8.000000, 8.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_WHATSAPP][23], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_WHATSAPP][23], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_WHATSAPP][23], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_WHATSAPP][23], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_WHATSAPP][23], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_WHATSAPP][23], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_WHATSAPP][23], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_WHATSAPP][23], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_WHATSAPP][23], 0);

	Textdraws[textdraw_PHONE_WHATSAPP][24] = TextDrawCreate(554.000000, 205.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_WHATSAPP][24], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_WHATSAPP][24], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_WHATSAPP][24], -18.500000, 60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_WHATSAPP][24], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_WHATSAPP][24], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_WHATSAPP][24], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_WHATSAPP][24], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_WHATSAPP][24], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_WHATSAPP][24], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_WHATSAPP][24], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_WHATSAPP][24], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_WHATSAPP][24], 0);

	Textdraws[textdraw_PHONE_WHATSAPP][25] = TextDrawCreate(445.000000, 205.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_WHATSAPP][25], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_WHATSAPP][25], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_WHATSAPP][25], 18.000000, 60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_WHATSAPP][25], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_WHATSAPP][25], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_WHATSAPP][25], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_WHATSAPP][25], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_WHATSAPP][25], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_WHATSAPP][25], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_WHATSAPP][25], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_WHATSAPP][25], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_WHATSAPP][25], 0);

	Textdraws[textdraw_PHONE_WHATSAPP][26] = TextDrawCreate(519.000000, 210.000000, "12:00");
	TextDrawFont(Textdraws[textdraw_PHONE_WHATSAPP][26], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_WHATSAPP][26], 0.195831, 1.049998);
	TextDrawTextSize(Textdraws[textdraw_PHONE_WHATSAPP][26], 0.000000, 0.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_WHATSAPP][26], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_WHATSAPP][26], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_WHATSAPP][26], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_WHATSAPP][26], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_WHATSAPP][26], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_WHATSAPP][26], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_WHATSAPP][26], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_WHATSAPP][26], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_WHATSAPP][26], 0);

	Textdraws[textdraw_PHONE_WHATSAPP][27] = TextDrawCreate(473.000000, 227.000000, "WhatsApp");
	TextDrawFont(Textdraws[textdraw_PHONE_WHATSAPP][27], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_WHATSAPP][27], 0.199998, 1.349997);
	TextDrawTextSize(Textdraws[textdraw_PHONE_WHATSAPP][27], 0.000000, 0.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_WHATSAPP][27], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_WHATSAPP][27], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_WHATSAPP][27], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_WHATSAPP][27], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_WHATSAPP][27], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_WHATSAPP][27], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_WHATSAPP][27], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_WHATSAPP][27], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_WHATSAPP][27], 0);

	Textdraws[textdraw_PHONE_WHATSAPP][28] = TextDrawCreate(546.000000, 227.000000, ":");
	TextDrawFont(Textdraws[textdraw_PHONE_WHATSAPP][28], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_WHATSAPP][28], 0.199998, 1.349997);
	TextDrawTextSize(Textdraws[textdraw_PHONE_WHATSAPP][28], 0.000000, 0.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_WHATSAPP][28], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_WHATSAPP][28], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_WHATSAPP][28], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_WHATSAPP][28], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_WHATSAPP][28], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_WHATSAPP][28], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_WHATSAPP][28], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_WHATSAPP][28], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_WHATSAPP][28], 0);

	Textdraws[textdraw_PHONE_WHATSAPP][29] = TextDrawCreate(468.000000, 252.000000, "Agenda");
	TextDrawFont(Textdraws[textdraw_PHONE_WHATSAPP][29], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_WHATSAPP][29], 0.283331, 1.349997);
	TextDrawTextSize(Textdraws[textdraw_PHONE_WHATSAPP][29], 10.000000, 40.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_WHATSAPP][29], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_WHATSAPP][29], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_WHATSAPP][29], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_WHATSAPP][29], 1296911871);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_WHATSAPP][29], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_WHATSAPP][29], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_WHATSAPP][29], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_WHATSAPP][29], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_WHATSAPP][29], 1);

	Textdraws[textdraw_PHONE_WHATSAPP][30] = TextDrawCreate(468.000000, 278.000000, "Llamar");
	TextDrawFont(Textdraws[textdraw_PHONE_WHATSAPP][30], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_WHATSAPP][30], 0.283331, 1.349997);
	TextDrawTextSize(Textdraws[textdraw_PHONE_WHATSAPP][30], 10.000000, 40.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_WHATSAPP][30], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_WHATSAPP][30], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_WHATSAPP][30], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_WHATSAPP][30], 1296911871);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_WHATSAPP][30], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_WHATSAPP][30], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_WHATSAPP][30], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_WHATSAPP][30], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_WHATSAPP][30], 1);

	Textdraws[textdraw_PHONE_WHATSAPP][31] = TextDrawCreate(486.000000, 305.000000, "Enviar mensaje");
	TextDrawFont(Textdraws[textdraw_PHONE_WHATSAPP][31], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_WHATSAPP][31], 0.283331, 1.349997);
	TextDrawTextSize(Textdraws[textdraw_PHONE_WHATSAPP][31], 10.000000, 70.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_WHATSAPP][31], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_WHATSAPP][31], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_WHATSAPP][31], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_WHATSAPP][31], 1296911871);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_WHATSAPP][31], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_WHATSAPP][31], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_WHATSAPP][31], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_WHATSAPP][31], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_WHATSAPP][31], 1);

	Textdraws[textdraw_PHONE_WHATSAPP][32] = TextDrawCreate(497.000000, 333.000000, "Ver mensajes recibidos");
	TextDrawFont(Textdraws[textdraw_PHONE_WHATSAPP][32], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_WHATSAPP][32], 0.241664, 1.349997);
	TextDrawTextSize(Textdraws[textdraw_PHONE_WHATSAPP][32], 10.000000, 90.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_WHATSAPP][32], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_WHATSAPP][32], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_WHATSAPP][32], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_WHATSAPP][32], 1296911871);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_WHATSAPP][32], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_WHATSAPP][32], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_WHATSAPP][32], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_WHATSAPP][32], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_WHATSAPP][32], 1);

	Textdraws[textdraw_PHONE_WHATSAPP][33] = TextDrawCreate(497.000000, 362.000000, "Ver mensajes enviados");
	TextDrawFont(Textdraws[textdraw_PHONE_WHATSAPP][33], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_WHATSAPP][33], 0.241664, 1.349997);
	TextDrawTextSize(Textdraws[textdraw_PHONE_WHATSAPP][33], 10.000000, 90.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_WHATSAPP][33], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_WHATSAPP][33], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_WHATSAPP][33], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_WHATSAPP][33], 1296911871);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_WHATSAPP][33], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_WHATSAPP][33], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_WHATSAPP][33], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_WHATSAPP][33], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_WHATSAPP][33], 1);

	Textdraws[textdraw_PHONE_WHATSAPP][34] = TextDrawCreate(497.000000, 388.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_WHATSAPP][34], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_WHATSAPP][34], 0.241664, 1.349997);
	TextDrawTextSize(Textdraws[textdraw_PHONE_WHATSAPP][34], 10.000000, 90.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_WHATSAPP][34], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_WHATSAPP][34], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_WHATSAPP][34], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_WHATSAPP][34], 1296911871);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_WHATSAPP][34], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_WHATSAPP][34], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_WHATSAPP][34], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_WHATSAPP][34], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_WHATSAPP][34], 1);

	Textdraws[textdraw_PHONE_WHATSAPP][35] = TextDrawCreate(512.000000, 225.000000, "ld_beat:right");
	TextDrawFont(Textdraws[textdraw_PHONE_WHATSAPP][35], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_WHATSAPP][35], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_WHATSAPP][35], 18.000000, 18.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_WHATSAPP][35], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_WHATSAPP][35], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_WHATSAPP][35], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_WHATSAPP][35], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_WHATSAPP][35], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_WHATSAPP][35], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_WHATSAPP][35], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_WHATSAPP][35], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_WHATSAPP][35], 1);

	Textdraws[textdraw_PHONE_WHATSAPP][36] = TextDrawCreate(540.000000, 227.000000, "Q");
	TextDrawFont(Textdraws[textdraw_PHONE_WHATSAPP][36], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_WHATSAPP][36], 0.199998, 1.349997);
	TextDrawTextSize(Textdraws[textdraw_PHONE_WHATSAPP][36], 0.000000, 0.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_WHATSAPP][36], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_WHATSAPP][36], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_WHATSAPP][36], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_WHATSAPP][36], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_WHATSAPP][36], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_WHATSAPP][36], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_WHATSAPP][36], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_WHATSAPP][36], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_WHATSAPP][36], 0);


	//Llamando...
	Textdraws[textdraw_PHONE_CALLING][0] = TextDrawCreate(441.200012, 194.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_CALLING][0], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_CALLING][0], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_CALLING][0], 20.000000, 25.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_CALLING][0], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_CALLING][0], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_CALLING][0], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_CALLING][0], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_CALLING][0], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_CALLING][0], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_CALLING][0], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_CALLING][0], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_CALLING][0], 0);

	Textdraws[textdraw_PHONE_CALLING][1] = TextDrawCreate(500.000000, 200.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_CALLING][1], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_CALLING][1], 0.000000, 24.950000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_CALLING][1], 0.000000, 90.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_CALLING][1], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_CALLING][1], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_CALLING][1], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_CALLING][1], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_CALLING][1], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_CALLING][1], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_CALLING][1], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_CALLING][1], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_CALLING][1], 0);

	Textdraws[textdraw_PHONE_CALLING][2] = TextDrawCreate(500.000000, 219.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_CALLING][2], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_CALLING][2], 0.000000, 21.049991);
	TextDrawTextSize(Textdraws[textdraw_PHONE_CALLING][2], 0.000000, 105.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_CALLING][2], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_CALLING][2], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_CALLING][2], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_CALLING][2], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_CALLING][2], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_CALLING][2], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_CALLING][2], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_CALLING][2], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_CALLING][2], 0);

	Textdraws[textdraw_PHONE_CALLING][3] = TextDrawCreate(538.000000, 194.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_CALLING][3], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_CALLING][3], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_CALLING][3], 20.000000, 25.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_CALLING][3], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_CALLING][3], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_CALLING][3], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_CALLING][3], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_CALLING][3], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_CALLING][3], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_CALLING][3], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_CALLING][3], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_CALLING][3], 0);

	Textdraws[textdraw_PHONE_CALLING][4] = TextDrawCreate(440.000000, 387.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_CALLING][4], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_CALLING][4], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_CALLING][4], 28.500000, 47.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_CALLING][4], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_CALLING][4], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_CALLING][4], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_CALLING][4], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_CALLING][4], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_CALLING][4], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_CALLING][4], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_CALLING][4], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_CALLING][4], 0);

	Textdraws[textdraw_PHONE_CALLING][5] = TextDrawCreate(531.000000, 391.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_CALLING][5], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_CALLING][5], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_CALLING][5], 28.500000, 41.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_CALLING][5], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_CALLING][5], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_CALLING][5], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_CALLING][5], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_CALLING][5], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_CALLING][5], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_CALLING][5], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_CALLING][5], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_CALLING][5], 0);

	Textdraws[textdraw_PHONE_CALLING][6] = TextDrawCreate(500.000000, 208.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_CALLING][6], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_CALLING][6], 0.600000, 21.900026);
	TextDrawTextSize(Textdraws[textdraw_PHONE_CALLING][6], 298.500000, 100.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_CALLING][6], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_CALLING][6], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_CALLING][6], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_CALLING][6], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_CALLING][6], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_CALLING][6], 1296911871);
	TextDrawUseBox(Textdraws[textdraw_PHONE_CALLING][6], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_CALLING][6], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_CALLING][6], 0);

	Textdraws[textdraw_PHONE_CALLING][7] = TextDrawCreate(445.799987, 214.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_CALLING][7], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_CALLING][7], 0.600000, 21.199956);
	TextDrawTextSize(Textdraws[textdraw_PHONE_CALLING][7], 0.000000, -2.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_CALLING][7], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_CALLING][7], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_CALLING][7], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_CALLING][7], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_CALLING][7], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_CALLING][7], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_CALLING][7], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_CALLING][7], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_CALLING][7], 0);

	Textdraws[textdraw_PHONE_CALLING][8] = TextDrawCreate(445.000000, 413.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_CALLING][8], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_CALLING][8], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_CALLING][8], 12.500000, -60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_CALLING][8], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_CALLING][8], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_CALLING][8], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_CALLING][8], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_CALLING][8], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_CALLING][8], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_CALLING][8], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_CALLING][8], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_CALLING][8], 0);

	Textdraws[textdraw_PHONE_CALLING][9] = TextDrawCreate(555.000000, 413.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_CALLING][9], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_CALLING][9], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_CALLING][9], -20.000000, -60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_CALLING][9], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_CALLING][9], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_CALLING][9], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_CALLING][9], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_CALLING][9], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_CALLING][9], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_CALLING][9], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_CALLING][9], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_CALLING][9], 0);

	Textdraws[textdraw_PHONE_CALLING][10] = TextDrawCreate(500.000000, 212.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_CALLING][10], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_CALLING][10], 0.600000, 0.750024);
	TextDrawTextSize(Textdraws[textdraw_PHONE_CALLING][10], 298.500000, 100.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_CALLING][10], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_CALLING][10], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_CALLING][10], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_CALLING][10], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_CALLING][10], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_CALLING][10], 858993663);
	TextDrawUseBox(Textdraws[textdraw_PHONE_CALLING][10], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_CALLING][10], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_CALLING][10], 0);

	Textdraws[textdraw_PHONE_CALLING][11] = TextDrawCreate(544.000000, 215.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_CALLING][11], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_CALLING][11], 0.000000, 0.050000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_CALLING][11], 1.500000, 8.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_CALLING][11], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_CALLING][11], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_CALLING][11], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_CALLING][11], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_CALLING][11], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_CALLING][11], -1);
	TextDrawUseBox(Textdraws[textdraw_PHONE_CALLING][11], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_CALLING][11], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_CALLING][11], 0);

	Textdraws[textdraw_PHONE_CALLING][12] = TextDrawCreate(542.000000, 215.899993, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_CALLING][12], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_CALLING][12], 0.000000, -0.149994);
	TextDrawTextSize(Textdraws[textdraw_PHONE_CALLING][12], 1.500000, 8.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_CALLING][12], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_CALLING][12], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_CALLING][12], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_CALLING][12], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_CALLING][12], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_CALLING][12], -1);
	TextDrawUseBox(Textdraws[textdraw_PHONE_CALLING][12], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_CALLING][12], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_CALLING][12], 0);

	Textdraws[textdraw_PHONE_CALLING][13] = TextDrawCreate(471.000000, 210.000000, "Spain+");
	TextDrawFont(Textdraws[textdraw_PHONE_CALLING][13], 0);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_CALLING][13], 0.337498, 1.049998);
	TextDrawTextSize(Textdraws[textdraw_PHONE_CALLING][13], 0.000000, 0.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_CALLING][13], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_CALLING][13], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_CALLING][13], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_CALLING][13], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_CALLING][13], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_CALLING][13], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_CALLING][13], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_CALLING][13], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_CALLING][13], 0);

	Textdraws[textdraw_PHONE_CALLING][14] = TextDrawCreate(499.000000, 236.000000, "LLAMANDO...");
	TextDrawFont(Textdraws[textdraw_PHONE_CALLING][14], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_CALLING][14], 0.337498, 1.049998);
	TextDrawTextSize(Textdraws[textdraw_PHONE_CALLING][14], 0.000000, 68.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_CALLING][14], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_CALLING][14], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_CALLING][14], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_CALLING][14], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_CALLING][14], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_CALLING][14], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_CALLING][14], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_CALLING][14], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_CALLING][14], 0);

	Textdraws[textdraw_PHONE_CALLING][15] = TextDrawCreate(498.000000, 204.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_CALLING][15], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_CALLING][15], 0.600000, 0.200001);
	TextDrawTextSize(Textdraws[textdraw_PHONE_CALLING][15], 0.000000, 75.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_CALLING][15], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_CALLING][15], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_CALLING][15], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_CALLING][15], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_CALLING][15], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_CALLING][15], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_CALLING][15], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_CALLING][15], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_CALLING][15], 0);

	Textdraws[textdraw_PHONE_CALLING][16] = TextDrawCreate(554.000000, 208.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_CALLING][16], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_CALLING][16], 0.600000, 22.249979);
	TextDrawTextSize(Textdraws[textdraw_PHONE_CALLING][16], 0.000000, -2.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_CALLING][16], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_CALLING][16], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_CALLING][16], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_CALLING][16], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_CALLING][16], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_CALLING][16], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_CALLING][16], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_CALLING][16], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_CALLING][16], 0);

	Textdraws[textdraw_PHONE_CALLING][18] = TextDrawCreate(485.000000, 196.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_CALLING][18], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_CALLING][18], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_CALLING][18], 26.000000, 30.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_CALLING][18], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_CALLING][18], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_CALLING][18], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_CALLING][18], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_CALLING][18], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_CALLING][18], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_CALLING][18], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_CALLING][18], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_CALLING][18], 0);

	Textdraws[textdraw_PHONE_CALLING][19] = TextDrawCreate(494.000000, 207.000000, "ld_beat:circle");
	TextDrawFont(Textdraws[textdraw_PHONE_CALLING][19], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_CALLING][19], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_CALLING][19], 8.000000, 8.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_CALLING][19], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_CALLING][19], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_CALLING][19], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_CALLING][19], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_CALLING][19], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_CALLING][19], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_CALLING][19], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_CALLING][19], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_CALLING][19], 0);

	Textdraws[textdraw_PHONE_CALLING][20] = TextDrawCreate(554.000000, 205.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_CALLING][20], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_CALLING][20], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_CALLING][20], -18.500000, 60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_CALLING][20], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_CALLING][20], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_CALLING][20], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_CALLING][20], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_CALLING][20], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_CALLING][20], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_CALLING][20], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_CALLING][20], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_CALLING][20], 0);

	Textdraws[textdraw_PHONE_CALLING][21] = TextDrawCreate(445.000000, 205.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_CALLING][21], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_CALLING][21], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_CALLING][21], 18.000000, 60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_CALLING][21], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_CALLING][21], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_CALLING][21], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_CALLING][21], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_CALLING][21], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_CALLING][21], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_CALLING][21], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_CALLING][21], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_CALLING][21], 0);

	Textdraws[textdraw_PHONE_CALLING][22] = TextDrawCreate(519.000000, 210.000000, "12:00");
	TextDrawFont(Textdraws[textdraw_PHONE_CALLING][22], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_CALLING][22], 0.195831, 1.049998);
	TextDrawTextSize(Textdraws[textdraw_PHONE_CALLING][22], 0.000000, 0.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_CALLING][22], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_CALLING][22], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_CALLING][22], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_CALLING][22], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_CALLING][22], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_CALLING][22], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_CALLING][22], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_CALLING][22], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_CALLING][22], 0);

	Textdraws[textdraw_PHONE_CALLING][23] = TextDrawCreate(480.000000, 366.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_CALLING][23], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_CALLING][23], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_CALLING][23], 33.000000, 41.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_CALLING][23], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_CALLING][23], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_CALLING][23], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_CALLING][23], -16776961);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_CALLING][23], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_CALLING][23], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_CALLING][23], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_CALLING][23], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_CALLING][23], 1);
	
	//Google Maps
	Textdraws[textdraw_PHONE_GOOGLEMAPS][0] = TextDrawCreate(441.200012, 194.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_GOOGLEMAPS][0], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][0], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][0], 20.000000, 25.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_GOOGLEMAPS][0], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_GOOGLEMAPS][0], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_GOOGLEMAPS][0], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][0], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][0], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][0], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_GOOGLEMAPS][0], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_GOOGLEMAPS][0], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_GOOGLEMAPS][0], 0);

	Textdraws[textdraw_PHONE_GOOGLEMAPS][1] = TextDrawCreate(500.000000, 200.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_GOOGLEMAPS][1], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][1], 0.000000, 24.950000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][1], 0.000000, 90.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_GOOGLEMAPS][1], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_GOOGLEMAPS][1], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_GOOGLEMAPS][1], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][1], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][1], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][1], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_GOOGLEMAPS][1], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_GOOGLEMAPS][1], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_GOOGLEMAPS][1], 0);

	Textdraws[textdraw_PHONE_GOOGLEMAPS][2] = TextDrawCreate(500.000000, 219.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_GOOGLEMAPS][2], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][2], 0.000000, 21.049991);
	TextDrawTextSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][2], 0.000000, 105.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_GOOGLEMAPS][2], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_GOOGLEMAPS][2], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_GOOGLEMAPS][2], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][2], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][2], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][2], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_GOOGLEMAPS][2], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_GOOGLEMAPS][2], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_GOOGLEMAPS][2], 0);

	Textdraws[textdraw_PHONE_GOOGLEMAPS][3] = TextDrawCreate(538.000000, 194.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_GOOGLEMAPS][3], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][3], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][3], 20.000000, 25.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_GOOGLEMAPS][3], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_GOOGLEMAPS][3], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_GOOGLEMAPS][3], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][3], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][3], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][3], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_GOOGLEMAPS][3], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_GOOGLEMAPS][3], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_GOOGLEMAPS][3], 0);

	Textdraws[textdraw_PHONE_GOOGLEMAPS][4] = TextDrawCreate(440.000000, 387.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_GOOGLEMAPS][4], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][4], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][4], 28.500000, 47.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_GOOGLEMAPS][4], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_GOOGLEMAPS][4], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_GOOGLEMAPS][4], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][4], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][4], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][4], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_GOOGLEMAPS][4], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_GOOGLEMAPS][4], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_GOOGLEMAPS][4], 0);

	Textdraws[textdraw_PHONE_GOOGLEMAPS][5] = TextDrawCreate(531.000000, 391.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_GOOGLEMAPS][5], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][5], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][5], 28.500000, 41.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_GOOGLEMAPS][5], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_GOOGLEMAPS][5], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_GOOGLEMAPS][5], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][5], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][5], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][5], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_GOOGLEMAPS][5], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_GOOGLEMAPS][5], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_GOOGLEMAPS][5], 0);

	Textdraws[textdraw_PHONE_GOOGLEMAPS][6] = TextDrawCreate(445.000000, 219.000000, "samaps:map");
	TextDrawFont(Textdraws[textdraw_PHONE_GOOGLEMAPS][6], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][6], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][6], 108.000000, 189.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_GOOGLEMAPS][6], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_GOOGLEMAPS][6], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_GOOGLEMAPS][6], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][6], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][6], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][6], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_GOOGLEMAPS][6], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_GOOGLEMAPS][6], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_GOOGLEMAPS][6], 0);

	Textdraws[textdraw_PHONE_GOOGLEMAPS][7] = TextDrawCreate(445.799987, 214.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_GOOGLEMAPS][7], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][7], 0.600000, 21.199956);
	TextDrawTextSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][7], 0.000000, -2.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_GOOGLEMAPS][7], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_GOOGLEMAPS][7], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_GOOGLEMAPS][7], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][7], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][7], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][7], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_GOOGLEMAPS][7], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_GOOGLEMAPS][7], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_GOOGLEMAPS][7], 0);

	Textdraws[textdraw_PHONE_GOOGLEMAPS][8] = TextDrawCreate(445.000000, 413.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_GOOGLEMAPS][8], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][8], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][8], 12.500000, -60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_GOOGLEMAPS][8], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_GOOGLEMAPS][8], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_GOOGLEMAPS][8], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][8], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][8], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][8], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_GOOGLEMAPS][8], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_GOOGLEMAPS][8], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_GOOGLEMAPS][8], 0);

	Textdraws[textdraw_PHONE_GOOGLEMAPS][9] = TextDrawCreate(555.000000, 413.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_GOOGLEMAPS][9], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][9], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][9], -20.000000, -60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_GOOGLEMAPS][9], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_GOOGLEMAPS][9], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_GOOGLEMAPS][9], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][9], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][9], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][9], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_GOOGLEMAPS][9], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_GOOGLEMAPS][9], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_GOOGLEMAPS][9], 0);

	Textdraws[textdraw_PHONE_GOOGLEMAPS][10] = TextDrawCreate(521.000000, 374.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_GOOGLEMAPS][10], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][10], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][10], 29.500000, 33.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_GOOGLEMAPS][10], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_GOOGLEMAPS][10], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_GOOGLEMAPS][10], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][10], -294256385);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][10], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][10], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_GOOGLEMAPS][10], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_GOOGLEMAPS][10], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_GOOGLEMAPS][10], 0);

	Textdraws[textdraw_PHONE_GOOGLEMAPS][11] = TextDrawCreate(500.000000, 212.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_GOOGLEMAPS][11], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][11], 0.600000, 0.750024);
	TextDrawTextSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][11], 298.500000, 100.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_GOOGLEMAPS][11], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_GOOGLEMAPS][11], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_GOOGLEMAPS][11], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][11], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][11], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][11], -764862721);
	TextDrawUseBox(Textdraws[textdraw_PHONE_GOOGLEMAPS][11], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_GOOGLEMAPS][11], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_GOOGLEMAPS][11], 0);

	Textdraws[textdraw_PHONE_GOOGLEMAPS][12] = TextDrawCreate(544.000000, 215.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_GOOGLEMAPS][12], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][12], 0.000000, 0.050000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][12], 1.500000, 8.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_GOOGLEMAPS][12], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_GOOGLEMAPS][12], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_GOOGLEMAPS][12], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][12], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][12], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][12], -1);
	TextDrawUseBox(Textdraws[textdraw_PHONE_GOOGLEMAPS][12], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_GOOGLEMAPS][12], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_GOOGLEMAPS][12], 0);

	Textdraws[textdraw_PHONE_GOOGLEMAPS][13] = TextDrawCreate(542.000000, 215.899993, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_GOOGLEMAPS][13], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][13], 0.000000, -0.149994);
	TextDrawTextSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][13], 1.500000, 8.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_GOOGLEMAPS][13], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_GOOGLEMAPS][13], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_GOOGLEMAPS][13], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][13], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][13], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][13], -1);
	TextDrawUseBox(Textdraws[textdraw_PHONE_GOOGLEMAPS][13], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_GOOGLEMAPS][13], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_GOOGLEMAPS][13], 0);

	Textdraws[textdraw_PHONE_GOOGLEMAPS][14] = TextDrawCreate(471.000000, 210.000000, "Spain+");
	TextDrawFont(Textdraws[textdraw_PHONE_GOOGLEMAPS][14], 0);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][14], 0.337498, 1.049998);
	TextDrawTextSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][14], 0.000000, 0.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_GOOGLEMAPS][14], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_GOOGLEMAPS][14], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_GOOGLEMAPS][14], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][14], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][14], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][14], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_GOOGLEMAPS][14], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_GOOGLEMAPS][14], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_GOOGLEMAPS][14], 0);

	Textdraws[textdraw_PHONE_GOOGLEMAPS][15] = TextDrawCreate(521.000000, 345.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_GOOGLEMAPS][15], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][15], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][15], 29.500000, 33.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_GOOGLEMAPS][15], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_GOOGLEMAPS][15], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_GOOGLEMAPS][15], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][15], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][15], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][15], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_GOOGLEMAPS][15], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_GOOGLEMAPS][15], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_GOOGLEMAPS][15], 0);

	Textdraws[textdraw_PHONE_GOOGLEMAPS][16] = TextDrawCreate(498.000000, 204.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_GOOGLEMAPS][16], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][16], 0.600000, 0.200001);
	TextDrawTextSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][16], 0.000000, 75.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_GOOGLEMAPS][16], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_GOOGLEMAPS][16], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_GOOGLEMAPS][16], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][16], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][16], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][16], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_GOOGLEMAPS][16], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_GOOGLEMAPS][16], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_GOOGLEMAPS][16], 0);

	Textdraws[textdraw_PHONE_GOOGLEMAPS][17] = TextDrawCreate(554.000000, 208.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_GOOGLEMAPS][17], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][17], 0.600000, 22.249979);
	TextDrawTextSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][17], 0.000000, -2.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_GOOGLEMAPS][17], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_GOOGLEMAPS][17], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_GOOGLEMAPS][17], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][17], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][17], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][17], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_GOOGLEMAPS][17], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_GOOGLEMAPS][17], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_GOOGLEMAPS][17], 0);

	Textdraws[textdraw_PHONE_GOOGLEMAPS][18] = TextDrawCreate(485.000000, 196.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_GOOGLEMAPS][18], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][18], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][18], 26.000000, 30.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_GOOGLEMAPS][18], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_GOOGLEMAPS][18], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_GOOGLEMAPS][18], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][18], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][18], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][18], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_GOOGLEMAPS][18], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_GOOGLEMAPS][18], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_GOOGLEMAPS][18], 0);

	Textdraws[textdraw_PHONE_GOOGLEMAPS][19] = TextDrawCreate(494.000000, 207.000000, "ld_beat:circle");
	TextDrawFont(Textdraws[textdraw_PHONE_GOOGLEMAPS][19], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][19], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][19], 8.000000, 8.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_GOOGLEMAPS][19], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_GOOGLEMAPS][19], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_GOOGLEMAPS][19], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][19], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][19], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][19], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_GOOGLEMAPS][19], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_GOOGLEMAPS][19], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_GOOGLEMAPS][19], 0);

	Textdraws[textdraw_PHONE_GOOGLEMAPS][20] = TextDrawCreate(554.000000, 205.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_GOOGLEMAPS][20], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][20], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][20], -18.500000, 60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_GOOGLEMAPS][20], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_GOOGLEMAPS][20], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_GOOGLEMAPS][20], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][20], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][20], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][20], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_GOOGLEMAPS][20], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_GOOGLEMAPS][20], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_GOOGLEMAPS][20], 0);

	Textdraws[textdraw_PHONE_GOOGLEMAPS][21] = TextDrawCreate(445.000000, 205.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_GOOGLEMAPS][21], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][21], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][21], 18.000000, 60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_GOOGLEMAPS][21], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_GOOGLEMAPS][21], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_GOOGLEMAPS][21], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][21], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][21], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][21], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_GOOGLEMAPS][21], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_GOOGLEMAPS][21], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_GOOGLEMAPS][21], 0);

	Textdraws[textdraw_PHONE_GOOGLEMAPS][22] = TextDrawCreate(519.000000, 210.000000, "12:00");
	TextDrawFont(Textdraws[textdraw_PHONE_GOOGLEMAPS][22], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][22], 0.195831, 1.049998);
	TextDrawTextSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][22], 0.000000, 0.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_GOOGLEMAPS][22], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_GOOGLEMAPS][22], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_GOOGLEMAPS][22], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][22], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][22], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][22], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_GOOGLEMAPS][22], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_GOOGLEMAPS][22], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_GOOGLEMAPS][22], 0);

	Textdraws[textdraw_PHONE_GOOGLEMAPS][23] = TextDrawCreate(500.000000, 234.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_GOOGLEMAPS][23], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][23], 0.600000, 1.250023);
	TextDrawTextSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][23], 298.500000, 80.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_GOOGLEMAPS][23], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_GOOGLEMAPS][23], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_GOOGLEMAPS][23], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][23], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][23], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][23], -1);
	TextDrawUseBox(Textdraws[textdraw_PHONE_GOOGLEMAPS][23], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_GOOGLEMAPS][23], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_GOOGLEMAPS][23], 0);

	Textdraws[textdraw_PHONE_GOOGLEMAPS][24] = TextDrawCreate(447.000000, 227.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_GOOGLEMAPS][24], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][24], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][24], 22.500000, 26.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_GOOGLEMAPS][24], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_GOOGLEMAPS][24], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_GOOGLEMAPS][24], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][24], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][24], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][24], 84);
	TextDrawUseBox(Textdraws[textdraw_PHONE_GOOGLEMAPS][24], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_GOOGLEMAPS][24], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_GOOGLEMAPS][24], 0);

	Textdraws[textdraw_PHONE_GOOGLEMAPS][25] = TextDrawCreate(529.000000, 227.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_GOOGLEMAPS][25], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][25], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][25], 22.500000, 26.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_GOOGLEMAPS][25], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_GOOGLEMAPS][25], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_GOOGLEMAPS][25], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][25], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][25], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][25], 3);
	TextDrawUseBox(Textdraws[textdraw_PHONE_GOOGLEMAPS][25], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_GOOGLEMAPS][25], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_GOOGLEMAPS][25], 0);

	Textdraws[textdraw_PHONE_GOOGLEMAPS][26] = TextDrawCreate(529.000000, 230.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_GOOGLEMAPS][26], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][26], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][26], 18.000000, 20.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_GOOGLEMAPS][26], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_GOOGLEMAPS][26], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_GOOGLEMAPS][26], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][26], 9109759);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][26], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][26], 9109507);
	TextDrawUseBox(Textdraws[textdraw_PHONE_GOOGLEMAPS][26], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_GOOGLEMAPS][26], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_GOOGLEMAPS][26], 0);

	Textdraws[textdraw_PHONE_GOOGLEMAPS][27] = TextDrawCreate(494.000000, 246.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_GOOGLEMAPS][27], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][27], 0.000000, -0.549974);
	TextDrawTextSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][27], 0.000000, 64.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_GOOGLEMAPS][27], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_GOOGLEMAPS][27], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_GOOGLEMAPS][27], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][27], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][27], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][27], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_GOOGLEMAPS][27], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_GOOGLEMAPS][27], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_GOOGLEMAPS][27], 0);

	Textdraws[textdraw_PHONE_GOOGLEMAPS][28] = TextDrawCreate(528.000000, 352.000000, "ld_beat:circle");
	TextDrawFont(Textdraws[textdraw_PHONE_GOOGLEMAPS][28], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][28], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][28], 15.500000, 18.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_GOOGLEMAPS][28], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_GOOGLEMAPS][28], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_GOOGLEMAPS][28], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][28], -16777016);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][28], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][28], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_GOOGLEMAPS][28], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_GOOGLEMAPS][28], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_GOOGLEMAPS][28], 1);

	Textdraws[textdraw_PHONE_GOOGLEMAPS][29] = TextDrawCreate(527.000000, 380.000000, "ld_beat:right");
	TextDrawFont(Textdraws[textdraw_PHONE_GOOGLEMAPS][29], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][29], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_GOOGLEMAPS][29], 18.500000, 22.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_GOOGLEMAPS][29], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_GOOGLEMAPS][29], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_GOOGLEMAPS][29], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][29], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][29], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_GOOGLEMAPS][29], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_GOOGLEMAPS][29], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_GOOGLEMAPS][29], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_GOOGLEMAPS][29], 1);


	Textdraws[textdraw_PHONE_PAYPAL][0] = TextDrawCreate(441.200012, 194.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_PAYPAL][0], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PAYPAL][0], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PAYPAL][0], 20.000000, 25.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PAYPAL][0], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PAYPAL][0], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PAYPAL][0], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_PAYPAL][0], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PAYPAL][0], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PAYPAL][0], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PAYPAL][0], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PAYPAL][0], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PAYPAL][0], 0);

	Textdraws[textdraw_PHONE_PAYPAL][1] = TextDrawCreate(500.000000, 200.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_PAYPAL][1], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PAYPAL][1], 0.000000, 24.950000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PAYPAL][1], 0.000000, 90.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PAYPAL][1], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PAYPAL][1], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PAYPAL][1], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_PAYPAL][1], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PAYPAL][1], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PAYPAL][1], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PAYPAL][1], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PAYPAL][1], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PAYPAL][1], 0);

	Textdraws[textdraw_PHONE_PAYPAL][2] = TextDrawCreate(500.000000, 219.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_PAYPAL][2], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PAYPAL][2], 0.000000, 21.049991);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PAYPAL][2], 0.000000, 105.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PAYPAL][2], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PAYPAL][2], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PAYPAL][2], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_PAYPAL][2], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PAYPAL][2], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PAYPAL][2], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PAYPAL][2], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PAYPAL][2], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PAYPAL][2], 0);

	Textdraws[textdraw_PHONE_PAYPAL][3] = TextDrawCreate(538.000000, 194.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_PAYPAL][3], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PAYPAL][3], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PAYPAL][3], 20.000000, 25.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PAYPAL][3], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PAYPAL][3], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PAYPAL][3], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_PAYPAL][3], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PAYPAL][3], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PAYPAL][3], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PAYPAL][3], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PAYPAL][3], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PAYPAL][3], 0);

	Textdraws[textdraw_PHONE_PAYPAL][4] = TextDrawCreate(440.000000, 387.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_PAYPAL][4], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PAYPAL][4], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PAYPAL][4], 28.500000, 47.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PAYPAL][4], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PAYPAL][4], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PAYPAL][4], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_PAYPAL][4], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PAYPAL][4], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PAYPAL][4], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PAYPAL][4], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PAYPAL][4], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PAYPAL][4], 0);

	Textdraws[textdraw_PHONE_PAYPAL][5] = TextDrawCreate(531.000000, 391.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_PAYPAL][5], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PAYPAL][5], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PAYPAL][5], 28.500000, 41.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PAYPAL][5], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PAYPAL][5], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PAYPAL][5], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_PAYPAL][5], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PAYPAL][5], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PAYPAL][5], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PAYPAL][5], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PAYPAL][5], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PAYPAL][5], 0);

	Textdraws[textdraw_PHONE_PAYPAL][6] = TextDrawCreate(498.000000, 211.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_PAYPAL][6], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PAYPAL][6], 0.600000, 21.599998);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PAYPAL][6], 0.000000, 100.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PAYPAL][6], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PAYPAL][6], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PAYPAL][6], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_PAYPAL][6], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PAYPAL][6], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PAYPAL][6], -1);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PAYPAL][6], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PAYPAL][6], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PAYPAL][6], 0);

	Textdraws[textdraw_PHONE_PAYPAL][7] = TextDrawCreate(498.000000, 211.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_PAYPAL][7], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PAYPAL][7], 0.600000, 5.049997);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PAYPAL][7], 0.000000, 100.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PAYPAL][7], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PAYPAL][7], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PAYPAL][7], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_PAYPAL][7], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PAYPAL][7], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PAYPAL][7], 3180799);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PAYPAL][7], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PAYPAL][7], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PAYPAL][7], 0);

	Textdraws[textdraw_PHONE_PAYPAL][8] = TextDrawCreate(498.000000, 211.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_PAYPAL][8], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PAYPAL][8], 0.600000, 0.749995);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PAYPAL][8], 0.000000, 100.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PAYPAL][8], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PAYPAL][8], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PAYPAL][8], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_PAYPAL][8], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PAYPAL][8], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PAYPAL][8], 2120959);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PAYPAL][8], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PAYPAL][8], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PAYPAL][8], 0);

	Textdraws[textdraw_PHONE_PAYPAL][9] = TextDrawCreate(445.000000, 205.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_PAYPAL][9], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PAYPAL][9], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PAYPAL][9], 18.000000, 60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PAYPAL][9], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PAYPAL][9], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PAYPAL][9], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_PAYPAL][9], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PAYPAL][9], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PAYPAL][9], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PAYPAL][9], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PAYPAL][9], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PAYPAL][9], 0);

	Textdraws[textdraw_PHONE_PAYPAL][10] = TextDrawCreate(554.000000, 205.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_PAYPAL][10], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PAYPAL][10], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PAYPAL][10], -18.500000, 60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PAYPAL][10], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PAYPAL][10], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PAYPAL][10], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_PAYPAL][10], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PAYPAL][10], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PAYPAL][10], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PAYPAL][10], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PAYPAL][10], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PAYPAL][10], 0);

	Textdraws[textdraw_PHONE_PAYPAL][11] = TextDrawCreate(498.000000, 205.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_PAYPAL][11], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PAYPAL][11], 0.600000, 0.200001);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PAYPAL][11], 0.000000, 75.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PAYPAL][11], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PAYPAL][11], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PAYPAL][11], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_PAYPAL][11], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PAYPAL][11], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PAYPAL][11], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PAYPAL][11], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PAYPAL][11], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PAYPAL][11], 0);

	Textdraws[textdraw_PHONE_PAYPAL][12] = TextDrawCreate(445.799987, 261.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_PAYPAL][12], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PAYPAL][12], 0.600000, 16.600004);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PAYPAL][12], 0.000000, -2.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PAYPAL][12], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PAYPAL][12], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PAYPAL][12], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_PAYPAL][12], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PAYPAL][12], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PAYPAL][12], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PAYPAL][12], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PAYPAL][12], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PAYPAL][12], 0);

	Textdraws[textdraw_PHONE_PAYPAL][13] = TextDrawCreate(445.000000, 413.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_PAYPAL][13], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PAYPAL][13], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PAYPAL][13], 12.500000, -60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PAYPAL][13], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PAYPAL][13], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PAYPAL][13], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_PAYPAL][13], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PAYPAL][13], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PAYPAL][13], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PAYPAL][13], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PAYPAL][13], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PAYPAL][13], 0);

	Textdraws[textdraw_PHONE_PAYPAL][14] = TextDrawCreate(555.000000, 413.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_PAYPAL][14], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PAYPAL][14], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PAYPAL][14], -20.000000, -60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PAYPAL][14], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PAYPAL][14], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PAYPAL][14], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_PAYPAL][14], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PAYPAL][14], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PAYPAL][14], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PAYPAL][14], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PAYPAL][14], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PAYPAL][14], 0);

	Textdraws[textdraw_PHONE_PAYPAL][15] = TextDrawCreate(522.000000, 209.000000, "12:00");
	TextDrawFont(Textdraws[textdraw_PHONE_PAYPAL][15], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PAYPAL][15], 0.229164, 1.049998);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PAYPAL][15], 0.000000, 0.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PAYPAL][15], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PAYPAL][15], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PAYPAL][15], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_PAYPAL][15], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PAYPAL][15], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PAYPAL][15], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PAYPAL][15], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PAYPAL][15], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PAYPAL][15], 0);

	Textdraws[textdraw_PHONE_PAYPAL][16] = TextDrawCreate(471.000000, 209.000000, "Spain+");
	TextDrawFont(Textdraws[textdraw_PHONE_PAYPAL][16], 0);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PAYPAL][16], 0.337498, 1.049998);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PAYPAL][16], 0.000000, 0.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PAYPAL][16], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PAYPAL][16], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PAYPAL][16], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_PAYPAL][16], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PAYPAL][16], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PAYPAL][16], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PAYPAL][16], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PAYPAL][16], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PAYPAL][16], 0);

	Textdraws[textdraw_PHONE_PAYPAL][17] = TextDrawCreate(554.000000, 261.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_PAYPAL][17], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PAYPAL][17], 0.600000, 16.700025);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PAYPAL][17], 0.000000, -2.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PAYPAL][17], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PAYPAL][17], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PAYPAL][17], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_PAYPAL][17], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PAYPAL][17], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PAYPAL][17], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PAYPAL][17], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PAYPAL][17], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PAYPAL][17], 0);

	Textdraws[textdraw_PHONE_PAYPAL][18] = TextDrawCreate(485.000000, 196.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_PAYPAL][18], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PAYPAL][18], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PAYPAL][18], 26.000000, 30.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PAYPAL][18], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PAYPAL][18], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PAYPAL][18], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_PAYPAL][18], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PAYPAL][18], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PAYPAL][18], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PAYPAL][18], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PAYPAL][18], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PAYPAL][18], 0);

	Textdraws[textdraw_PHONE_PAYPAL][19] = TextDrawCreate(494.000000, 207.000000, "ld_beat:circle");
	TextDrawFont(Textdraws[textdraw_PHONE_PAYPAL][19], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PAYPAL][19], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PAYPAL][19], 8.000000, 8.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PAYPAL][19], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PAYPAL][19], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PAYPAL][19], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_PAYPAL][19], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PAYPAL][19], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PAYPAL][19], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PAYPAL][19], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PAYPAL][19], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PAYPAL][19], 0);

	Textdraws[textdraw_PHONE_PAYPAL][20] = TextDrawCreate(522.000000, 260.000000, "ay");
	TextDrawFont(Textdraws[textdraw_PHONE_PAYPAL][20], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PAYPAL][20], 0.333331, 2.099997);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PAYPAL][20], 0.000000, 100.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PAYPAL][20], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PAYPAL][20], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PAYPAL][20], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_PAYPAL][20], 35839);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PAYPAL][20], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PAYPAL][20], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PAYPAL][20], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PAYPAL][20], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PAYPAL][20], 0);

	Textdraws[textdraw_PHONE_PAYPAL][21] = TextDrawCreate(512.000000, 257.000000, "P");
	TextDrawFont(Textdraws[textdraw_PHONE_PAYPAL][21], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PAYPAL][21], 0.433331, 2.549996);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PAYPAL][21], 0.000000, 100.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PAYPAL][21], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PAYPAL][21], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PAYPAL][21], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_PAYPAL][21], 35839);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PAYPAL][21], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PAYPAL][21], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PAYPAL][21], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PAYPAL][21], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PAYPAL][21], 0);

	Textdraws[textdraw_PHONE_PAYPAL][22] = TextDrawCreate(534.000000, 257.000000, "P");
	TextDrawFont(Textdraws[textdraw_PHONE_PAYPAL][22], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PAYPAL][22], 0.433331, 2.549996);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PAYPAL][22], 0.000000, 100.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PAYPAL][22], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PAYPAL][22], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PAYPAL][22], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_PAYPAL][22], 60482559);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PAYPAL][22], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PAYPAL][22], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PAYPAL][22], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PAYPAL][22], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PAYPAL][22], 0);

	Textdraws[textdraw_PHONE_PAYPAL][23] = TextDrawCreate(542.000000, 260.000000, "al");
	TextDrawFont(Textdraws[textdraw_PHONE_PAYPAL][23], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PAYPAL][23], 0.349998, 2.149996);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PAYPAL][23], 0.000000, 100.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PAYPAL][23], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PAYPAL][23], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PAYPAL][23], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_PAYPAL][23], 60482559);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PAYPAL][23], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PAYPAL][23], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PAYPAL][23], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PAYPAL][23], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PAYPAL][23], 0);

	Textdraws[textdraw_PHONE_PAYPAL][24] = TextDrawCreate(498.000000, 288.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_PAYPAL][24], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PAYPAL][24], 0.000000, -0.500000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PAYPAL][24], 0.000000, 75.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PAYPAL][24], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PAYPAL][24], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PAYPAL][24], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_PAYPAL][24], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PAYPAL][24], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PAYPAL][24], -1094795521);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PAYPAL][24], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PAYPAL][24], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PAYPAL][24], 0);

	Textdraws[textdraw_PHONE_PAYPAL][25] = TextDrawCreate(498.000000, 313.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_PAYPAL][25], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PAYPAL][25], 0.000000, -0.500000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PAYPAL][25], 0.000000, 75.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PAYPAL][25], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PAYPAL][25], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PAYPAL][25], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_PAYPAL][25], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PAYPAL][25], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PAYPAL][25], -1094795521);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PAYPAL][25], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PAYPAL][25], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PAYPAL][25], 0);

	Textdraws[textdraw_PHONE_PAYPAL][26] = TextDrawCreate(498.000000, 340.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_PAYPAL][26], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PAYPAL][26], 0.000000, -0.500000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PAYPAL][26], 0.000000, 75.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PAYPAL][26], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PAYPAL][26], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PAYPAL][26], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_PAYPAL][26], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PAYPAL][26], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PAYPAL][26], -1094795521);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PAYPAL][26], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PAYPAL][26], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PAYPAL][26], 0);

	Textdraws[textdraw_PHONE_PAYPAL][27] = TextDrawCreate(498.000000, 367.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_PAYPAL][27], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PAYPAL][27], 0.000000, -0.500000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PAYPAL][27], 0.000000, 75.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PAYPAL][27], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PAYPAL][27], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PAYPAL][27], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_PAYPAL][27], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PAYPAL][27], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PAYPAL][27], -1094795521);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PAYPAL][27], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PAYPAL][27], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PAYPAL][27], 0);

	Textdraws[textdraw_PHONE_PAYPAL][28] = TextDrawCreate(498.000000, 392.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_PAYPAL][28], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PAYPAL][28], 0.000000, -0.500000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PAYPAL][28], 0.000000, 75.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PAYPAL][28], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PAYPAL][28], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PAYPAL][28], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_PAYPAL][28], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PAYPAL][28], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PAYPAL][28], -1094795521);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PAYPAL][28], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PAYPAL][28], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PAYPAL][28], 0);

	Textdraws[textdraw_PHONE_PAYPAL][29] = TextDrawCreate(498.000000, 290.500000, "Transferir dinero");
	TextDrawFont(Textdraws[textdraw_PHONE_PAYPAL][29], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PAYPAL][29], 0.195831, 1.499997);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PAYPAL][29], 10.000000, 100.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PAYPAL][29], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PAYPAL][29], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PAYPAL][29], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_PAYPAL][29], 1296911871);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PAYPAL][29], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PAYPAL][29], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PAYPAL][29], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PAYPAL][29], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PAYPAL][29], 1);

	Textdraws[textdraw_PHONE_PAYPAL][30] = TextDrawCreate(498.000000, 315.500000, "Historial de transferencias");
	TextDrawFont(Textdraws[textdraw_PHONE_PAYPAL][30], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PAYPAL][30], 0.145831, 1.649998);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PAYPAL][30], 10.000000, 100.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PAYPAL][30], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PAYPAL][30], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PAYPAL][30], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_PAYPAL][30], 1296911871);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PAYPAL][30], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PAYPAL][30], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PAYPAL][30], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PAYPAL][30], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PAYPAL][30], 1);

	Textdraws[textdraw_PHONE_PAYPAL][31] = TextDrawCreate(498.000000, 342.500000, "Pedir prestamo");
	TextDrawFont(Textdraws[textdraw_PHONE_PAYPAL][31], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PAYPAL][31], 0.220831, 1.649998);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PAYPAL][31], 10.000000, 100.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PAYPAL][31], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PAYPAL][31], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PAYPAL][31], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_PAYPAL][31], 1296911871);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PAYPAL][31], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PAYPAL][31], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PAYPAL][31], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PAYPAL][31], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PAYPAL][31], 1);

	Textdraws[textdraw_PHONE_PAYPAL][32] = TextDrawCreate(498.000000, 368.500000, "Invertir");
	TextDrawFont(Textdraws[textdraw_PHONE_PAYPAL][32], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PAYPAL][32], 0.220831, 1.649998);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PAYPAL][32], 10.000000, 100.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PAYPAL][32], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PAYPAL][32], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PAYPAL][32], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_PAYPAL][32], 1296911871);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PAYPAL][32], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PAYPAL][32], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PAYPAL][32], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PAYPAL][32], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PAYPAL][32], 1);

	Textdraws[textdraw_PHONE_PAYPAL][33] = TextDrawCreate(452.000000, 262.000000, "ld_beat:left");
	TextDrawFont(Textdraws[textdraw_PHONE_PAYPAL][33], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_PAYPAL][33], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_PAYPAL][33], 19.000000, 19.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_PAYPAL][33], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_PAYPAL][33], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_PAYPAL][33], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_PAYPAL][33], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_PAYPAL][33], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_PAYPAL][33], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_PAYPAL][33], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_PAYPAL][33], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_PAYPAL][33], 1);

	Textdraws[textdraw_PHONE_QUIT][0] = TextDrawCreate(560.000000, 195.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_QUIT][0], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_QUIT][0], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_QUIT][0], 30.000000, 35.000000);
	TextDrawAlignment(Textdraws[textdraw_PHONE_QUIT][0], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_QUIT][0], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_QUIT][0], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_QUIT][0], 50);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_QUIT][0], 1);

	Textdraws[textdraw_PHONE_QUIT][1] = TextDrawCreate(575.000000, 202.000000, "X");
	TextDrawFont(Textdraws[textdraw_PHONE_QUIT][1], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_QUIT][1], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_QUIT][1], 15.000000, 17.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_QUIT][1], 1);
	TextDrawAlignment(Textdraws[textdraw_PHONE_QUIT][1], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_QUIT][1], 1097458175);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_QUIT][1], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_QUIT][1], 50);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_QUIT][1], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_QUIT][1], 1);

	//Binance TextDraws
	Textdraws[textdraw_PHONE_BINANCE_MENU][0] = TextDrawCreate(441.200012, 194.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_MENU][0], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_MENU][0], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_MENU][0], 20.000000, 25.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_MENU][0], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_MENU][0], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_MENU][0], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_MENU][0], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_MENU][0], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_MENU][0], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_MENU][0], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_MENU][0], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_MENU][0], 0);

	Textdraws[textdraw_PHONE_BINANCE_MENU][1] = TextDrawCreate(500.000000, 200.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_MENU][1], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_MENU][1], 0.000000, 24.950000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_MENU][1], 0.000000, 90.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_MENU][1], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_MENU][1], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_MENU][1], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_MENU][1], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_MENU][1], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_MENU][1], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_MENU][1], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_MENU][1], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_MENU][1], 0);

	Textdraws[textdraw_PHONE_BINANCE_MENU][2] = TextDrawCreate(500.000000, 219.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_MENU][2], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_MENU][2], 0.000000, 21.049991);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_MENU][2], 0.000000, 105.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_MENU][2], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_MENU][2], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_MENU][2], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_MENU][2], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_MENU][2], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_MENU][2], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_MENU][2], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_MENU][2], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_MENU][2], 0);

	Textdraws[textdraw_PHONE_BINANCE_MENU][3] = TextDrawCreate(538.000000, 194.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_MENU][3], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_MENU][3], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_MENU][3], 20.000000, 25.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_MENU][3], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_MENU][3], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_MENU][3], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_MENU][3], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_MENU][3], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_MENU][3], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_MENU][3], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_MENU][3], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_MENU][3], 0);

	Textdraws[textdraw_PHONE_BINANCE_MENU][4] = TextDrawCreate(440.000000, 387.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_MENU][4], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_MENU][4], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_MENU][4], 28.500000, 47.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_MENU][4], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_MENU][4], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_MENU][4], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_MENU][4], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_MENU][4], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_MENU][4], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_MENU][4], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_MENU][4], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_MENU][4], 0);

	Textdraws[textdraw_PHONE_BINANCE_MENU][5] = TextDrawCreate(531.000000, 391.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_MENU][5], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_MENU][5], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_MENU][5], 28.500000, 41.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_MENU][5], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_MENU][5], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_MENU][5], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_MENU][5], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_MENU][5], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_MENU][5], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_MENU][5], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_MENU][5], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_MENU][5], 0);

	Textdraws[textdraw_PHONE_BINANCE_MENU][6] = TextDrawCreate(498.000000, 211.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_MENU][6], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_MENU][6], 0.600000, 21.599998);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_MENU][6], 0.000000, 100.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_MENU][6], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_MENU][6], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_MENU][6], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_MENU][6], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_MENU][6], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_MENU][6], 471604223);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_MENU][6], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_MENU][6], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_MENU][6], 0);

	Textdraws[textdraw_PHONE_BINANCE_MENU][7] = TextDrawCreate(500.000000, 214.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_MENU][7], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_MENU][7], 0.000000, 5.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_MENU][7], 0.000000, 100.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_MENU][7], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_MENU][7], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_MENU][7], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_MENU][7], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_MENU][7], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_MENU][7], 135);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_MENU][7], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_MENU][7], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_MENU][7], 0);

	Textdraws[textdraw_PHONE_BINANCE_MENU][8] = TextDrawCreate(498.000000, 211.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_MENU][8], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_MENU][8], 0.600000, 0.749993);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_MENU][8], 0.000000, 100.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_MENU][8], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_MENU][8], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_MENU][8], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_MENU][8], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_MENU][8], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_MENU][8], -2686721);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_MENU][8], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_MENU][8], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_MENU][8], 0);

	Textdraws[textdraw_PHONE_BINANCE_MENU][9] = TextDrawCreate(445.000000, 205.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_MENU][9], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_MENU][9], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_MENU][9], 18.000000, 60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_MENU][9], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_MENU][9], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_MENU][9], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_MENU][9], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_MENU][9], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_MENU][9], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_MENU][9], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_MENU][9], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_MENU][9], 0);

	Textdraws[textdraw_PHONE_BINANCE_MENU][10] = TextDrawCreate(554.000000, 205.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_MENU][10], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_MENU][10], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_MENU][10], -18.500000, 60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_MENU][10], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_MENU][10], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_MENU][10], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_MENU][10], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_MENU][10], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_MENU][10], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_MENU][10], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_MENU][10], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_MENU][10], 0);

	Textdraws[textdraw_PHONE_BINANCE_MENU][11] = TextDrawCreate(498.000000, 205.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_MENU][11], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_MENU][11], 0.600000, 0.200001);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_MENU][11], 0.000000, 75.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_MENU][11], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_MENU][11], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_MENU][11], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_MENU][11], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_MENU][11], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_MENU][11], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_MENU][11], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_MENU][11], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_MENU][11], 0);

	Textdraws[textdraw_PHONE_BINANCE_MENU][12] = TextDrawCreate(445.799987, 261.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_MENU][12], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_MENU][12], 0.600000, 16.600004);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_MENU][12], 0.000000, -2.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_MENU][12], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_MENU][12], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_MENU][12], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_MENU][12], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_MENU][12], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_MENU][12], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_MENU][12], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_MENU][12], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_MENU][12], 0);

	Textdraws[textdraw_PHONE_BINANCE_MENU][13] = TextDrawCreate(445.000000, 413.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_MENU][13], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_MENU][13], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_MENU][13], 12.500000, -60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_MENU][13], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_MENU][13], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_MENU][13], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_MENU][13], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_MENU][13], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_MENU][13], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_MENU][13], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_MENU][13], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_MENU][13], 0);

	Textdraws[textdraw_PHONE_BINANCE_MENU][14] = TextDrawCreate(555.000000, 413.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_MENU][14], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_MENU][14], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_MENU][14], -20.000000, -60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_MENU][14], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_MENU][14], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_MENU][14], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_MENU][14], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_MENU][14], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_MENU][14], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_MENU][14], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_MENU][14], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_MENU][14], 0);

	Textdraws[textdraw_PHONE_BINANCE_MENU][15] = TextDrawCreate(522.000000, 209.000000, "12:00");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_MENU][15], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_MENU][15], 0.229164, 1.049998);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_MENU][15], 0.000000, 0.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_MENU][15], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_MENU][15], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_MENU][15], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_MENU][15], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_MENU][15], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_MENU][15], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_MENU][15], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_MENU][15], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_MENU][15], 0);

	Textdraws[textdraw_PHONE_BINANCE_MENU][16] = TextDrawCreate(471.000000, 209.000000, "Spain+");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_MENU][16], 0);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_MENU][16], 0.337498, 1.049998);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_MENU][16], 0.000000, 0.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_MENU][16], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_MENU][16], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_MENU][16], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_MENU][16], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_MENU][16], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_MENU][16], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_MENU][16], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_MENU][16], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_MENU][16], 0);

	Textdraws[textdraw_PHONE_BINANCE_MENU][17] = TextDrawCreate(554.000000, 261.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_MENU][17], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_MENU][17], 0.600000, 16.700025);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_MENU][17], 0.000000, -2.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_MENU][17], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_MENU][17], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_MENU][17], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_MENU][17], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_MENU][17], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_MENU][17], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_MENU][17], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_MENU][17], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_MENU][17], 0);

	Textdraws[textdraw_PHONE_BINANCE_MENU][18] = TextDrawCreate(485.000000, 196.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_MENU][18], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_MENU][18], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_MENU][18], 26.000000, 30.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_MENU][18], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_MENU][18], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_MENU][18], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_MENU][18], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_MENU][18], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_MENU][18], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_MENU][18], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_MENU][18], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_MENU][18], 0);

	Textdraws[textdraw_PHONE_BINANCE_MENU][19] = TextDrawCreate(494.000000, 207.000000, "ld_beat:circle");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_MENU][19], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_MENU][19], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_MENU][19], 8.000000, 8.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_MENU][19], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_MENU][19], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_MENU][19], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_MENU][19], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_MENU][19], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_MENU][19], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_MENU][19], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_MENU][19], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_MENU][19], 0);

	Textdraws[textdraw_PHONE_BINANCE_MENU][20] = TextDrawCreate(411.000000, 204.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_MENU][20], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_MENU][20], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_MENU][20], 35.000000, 35.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_MENU][20], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_MENU][20], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_MENU][20], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_MENU][20], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_MENU][20], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_MENU][20], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_MENU][20], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_MENU][20], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_MENU][20], 0);

	Textdraws[textdraw_PHONE_BINANCE_MENU][21] = TextDrawCreate(420.000000, 213.000000, "ld_beat:left");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_MENU][21], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_MENU][21], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_MENU][21], 17.000000, 17.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_MENU][21], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_MENU][21], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_MENU][21], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_MENU][21], -65281);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_MENU][21], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_MENU][21], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_MENU][21], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_MENU][21], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_MENU][21], 1);

	Textdraws[textdraw_PHONE_BINANCE_MENU][22] = TextDrawCreate(500.000000, 225.000000, "binance");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_MENU][22], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_MENU][22], 0.500000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_MENU][22], 0.000000, 100.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_MENU][22], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_MENU][22], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_MENU][22], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_MENU][22], -2686721);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_MENU][22], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_MENU][22], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_MENU][22], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_MENU][22], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_MENU][22], 0);

	Textdraws[textdraw_PHONE_BINANCE_MENU][23] = TextDrawCreate(499.000000, 275.000000, "Mi billetera");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_MENU][23], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_MENU][23], 0.170000, 1.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_MENU][23], 10.000000, 97.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_MENU][23], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_MENU][23], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_MENU][23], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_MENU][23], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_MENU][23], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_MENU][23], -304725249);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_MENU][23], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_MENU][23], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_MENU][23], 1);

	Textdraws[textdraw_PHONE_BINANCE_MENU][24] = TextDrawCreate(499.000000, 305.000000, "Comprar criptomonedas");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_MENU][24], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_MENU][24], 0.170000, 1.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_MENU][24], 10.000000, 97.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_MENU][24], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_MENU][24], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_MENU][24], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_MENU][24], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_MENU][24], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_MENU][24], -304725249);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_MENU][24], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_MENU][24], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_MENU][24], 1);

	Textdraws[textdraw_PHONE_BINANCE_MENU][25] = TextDrawCreate(499.000000, 335.000000, "vender criptomonedas");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_MENU][25], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_MENU][25], 0.170000, 1.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_MENU][25], 10.000000, 97.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_MENU][25], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_MENU][25], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_MENU][25], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_MENU][25], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_MENU][25], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_MENU][25], -304725249);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_MENU][25], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_MENU][25], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_MENU][25], 1);

	Textdraws[textdraw_PHONE_BINANCE_MENU][26] = TextDrawCreate(499.000000, 365.000000, "transferir criptomonedas");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_MENU][26], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_MENU][26], 0.170000, 1.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_MENU][26], 10.000000, 97.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_MENU][26], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_MENU][26], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_MENU][26], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_MENU][26], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_MENU][26], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_MENU][26], -304725249);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_MENU][26], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_MENU][26], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_MENU][26], 1);

	//Binance Wallet - Textdraw
	Textdraws[textdraw_PHONE_BINANCE_WALLET][0] = TextDrawCreate(441.200012, 194.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_WALLET][0], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][0], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][0], 20.000000, 25.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_WALLET][0], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_WALLET][0], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_WALLET][0], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][0], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][0], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][0], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_WALLET][0], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_WALLET][0], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_WALLET][0], 0);

	Textdraws[textdraw_PHONE_BINANCE_WALLET][1] = TextDrawCreate(500.000000, 200.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_WALLET][1], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][1], 0.000000, 24.950000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][1], 0.000000, 90.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_WALLET][1], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_WALLET][1], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_WALLET][1], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][1], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][1], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][1], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_WALLET][1], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_WALLET][1], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_WALLET][1], 0);

	Textdraws[textdraw_PHONE_BINANCE_WALLET][2] = TextDrawCreate(500.000000, 219.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_WALLET][2], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][2], 0.000000, 21.049991);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][2], 0.000000, 105.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_WALLET][2], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_WALLET][2], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_WALLET][2], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][2], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][2], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][2], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_WALLET][2], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_WALLET][2], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_WALLET][2], 0);

	Textdraws[textdraw_PHONE_BINANCE_WALLET][3] = TextDrawCreate(538.000000, 194.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_WALLET][3], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][3], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][3], 20.000000, 25.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_WALLET][3], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_WALLET][3], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_WALLET][3], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][3], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][3], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][3], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_WALLET][3], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_WALLET][3], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_WALLET][3], 0);

	Textdraws[textdraw_PHONE_BINANCE_WALLET][4] = TextDrawCreate(440.000000, 387.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_WALLET][4], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][4], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][4], 28.500000, 47.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_WALLET][4], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_WALLET][4], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_WALLET][4], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][4], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][4], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][4], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_WALLET][4], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_WALLET][4], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_WALLET][4], 0);

	Textdraws[textdraw_PHONE_BINANCE_WALLET][5] = TextDrawCreate(531.000000, 391.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_WALLET][5], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][5], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][5], 28.500000, 41.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_WALLET][5], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_WALLET][5], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_WALLET][5], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][5], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][5], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][5], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_WALLET][5], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_WALLET][5], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_WALLET][5], 0);

	Textdraws[textdraw_PHONE_BINANCE_WALLET][6] = TextDrawCreate(498.000000, 211.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_WALLET][6], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][6], 0.600000, 21.599998);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][6], 0.000000, 100.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_WALLET][6], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_WALLET][6], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_WALLET][6], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][6], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][6], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][6], 471604223);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_WALLET][6], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_WALLET][6], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_WALLET][6], 0);

	Textdraws[textdraw_PHONE_BINANCE_WALLET][7] = TextDrawCreate(500.000000, 214.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_WALLET][7], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][7], 0.000000, 5.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][7], 0.000000, 100.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_WALLET][7], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_WALLET][7], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_WALLET][7], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][7], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][7], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][7], 135);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_WALLET][7], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_WALLET][7], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_WALLET][7], 0);

	Textdraws[textdraw_PHONE_BINANCE_WALLET][8] = TextDrawCreate(498.000000, 211.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_WALLET][8], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][8], 0.600000, 0.749993);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][8], 0.000000, 100.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_WALLET][8], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_WALLET][8], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_WALLET][8], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][8], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][8], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][8], -2686721);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_WALLET][8], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_WALLET][8], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_WALLET][8], 0);

	Textdraws[textdraw_PHONE_BINANCE_WALLET][9] = TextDrawCreate(445.000000, 205.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_WALLET][9], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][9], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][9], 18.000000, 60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_WALLET][9], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_WALLET][9], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_WALLET][9], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][9], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][9], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][9], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_WALLET][9], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_WALLET][9], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_WALLET][9], 0);

	Textdraws[textdraw_PHONE_BINANCE_WALLET][10] = TextDrawCreate(554.000000, 205.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_WALLET][10], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][10], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][10], -18.500000, 60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_WALLET][10], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_WALLET][10], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_WALLET][10], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][10], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][10], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][10], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_WALLET][10], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_WALLET][10], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_WALLET][10], 0);

	Textdraws[textdraw_PHONE_BINANCE_WALLET][11] = TextDrawCreate(498.000000, 205.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_WALLET][11], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][11], 0.600000, 0.200001);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][11], 0.000000, 75.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_WALLET][11], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_WALLET][11], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_WALLET][11], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][11], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][11], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][11], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_WALLET][11], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_WALLET][11], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_WALLET][11], 0);

	Textdraws[textdraw_PHONE_BINANCE_WALLET][12] = TextDrawCreate(445.799987, 261.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_WALLET][12], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][12], 0.600000, 16.600004);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][12], 0.000000, -2.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_WALLET][12], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_WALLET][12], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_WALLET][12], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][12], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][12], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][12], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_WALLET][12], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_WALLET][12], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_WALLET][12], 0);

	Textdraws[textdraw_PHONE_BINANCE_WALLET][13] = TextDrawCreate(445.000000, 413.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_WALLET][13], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][13], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][13], 12.500000, -60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_WALLET][13], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_WALLET][13], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_WALLET][13], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][13], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][13], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][13], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_WALLET][13], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_WALLET][13], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_WALLET][13], 0);

	Textdraws[textdraw_PHONE_BINANCE_WALLET][14] = TextDrawCreate(555.000000, 413.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_WALLET][14], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][14], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][14], -20.000000, -60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_WALLET][14], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_WALLET][14], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_WALLET][14], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][14], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][14], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][14], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_WALLET][14], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_WALLET][14], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_WALLET][14], 0);

	Textdraws[textdraw_PHONE_BINANCE_WALLET][15] = TextDrawCreate(522.000000, 209.000000, "12:00");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_WALLET][15], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][15], 0.229164, 1.049998);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][15], 0.000000, 0.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_WALLET][15], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_WALLET][15], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_WALLET][15], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][15], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][15], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][15], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_WALLET][15], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_WALLET][15], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_WALLET][15], 0);

	Textdraws[textdraw_PHONE_BINANCE_WALLET][16] = TextDrawCreate(471.000000, 209.000000, "Spain+");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_WALLET][16], 0);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][16], 0.337498, 1.049998);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][16], 0.000000, 0.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_WALLET][16], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_WALLET][16], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_WALLET][16], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][16], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][16], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][16], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_WALLET][16], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_WALLET][16], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_WALLET][16], 0);

	Textdraws[textdraw_PHONE_BINANCE_WALLET][17] = TextDrawCreate(554.000000, 261.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_WALLET][17], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][17], 0.600000, 16.700025);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][17], 0.000000, -2.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_WALLET][17], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_WALLET][17], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_WALLET][17], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][17], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][17], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][17], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_WALLET][17], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_WALLET][17], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_WALLET][17], 0);

	Textdraws[textdraw_PHONE_BINANCE_WALLET][18] = TextDrawCreate(485.000000, 196.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_WALLET][18], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][18], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][18], 26.000000, 30.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_WALLET][18], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_WALLET][18], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_WALLET][18], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][18], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][18], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][18], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_WALLET][18], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_WALLET][18], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_WALLET][18], 0);

	Textdraws[textdraw_PHONE_BINANCE_WALLET][19] = TextDrawCreate(494.000000, 207.000000, "ld_beat:circle");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_WALLET][19], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][19], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][19], 8.000000, 8.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_WALLET][19], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_WALLET][19], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_WALLET][19], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][19], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][19], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][19], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_WALLET][19], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_WALLET][19], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_WALLET][19], 0);

	Textdraws[textdraw_PHONE_BINANCE_WALLET][20] = TextDrawCreate(411.000000, 204.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_WALLET][20], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][20], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][20], 35.000000, 35.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_WALLET][20], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_WALLET][20], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_WALLET][20], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][20], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][20], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][20], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_WALLET][20], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_WALLET][20], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_WALLET][20], 0);

	Textdraws[textdraw_PHONE_BINANCE_WALLET][21] = TextDrawCreate(420.000000, 213.000000, "ld_beat:left");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_WALLET][21], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][21], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][21], 17.000000, 17.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_WALLET][21], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_WALLET][21], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_WALLET][21], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][21], -65281);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][21], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][21], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_WALLET][21], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_WALLET][21], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_WALLET][21], 1);

	Textdraws[textdraw_PHONE_BINANCE_WALLET][22] = TextDrawCreate(500.000000, 225.000000, "binance");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_WALLET][22], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][22], 0.500000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][22], 0.000000, 100.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_WALLET][22], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_WALLET][22], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_WALLET][22], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][22], -2686721);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][22], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][22], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_WALLET][22], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_WALLET][22], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_WALLET][22], 0);

	Textdraws[textdraw_PHONE_BINANCE_WALLET][23] = TextDrawCreate(455.000000, 267.000000, "B");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_WALLET][23], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][23], 0.400000, 2.500000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][23], 0.000000, 10.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_WALLET][23], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_WALLET][23], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_WALLET][23], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][23], -294256385);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][23], -741092353);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][23], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_WALLET][23], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_WALLET][23], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_WALLET][23], 1);

	Textdraws[textdraw_PHONE_BINANCE_WALLET][24] = TextDrawCreate(475.000000, 270.000000, "BTC");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_WALLET][24], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][24], 0.200000, 1.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][24], 0.000000, 10.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_WALLET][24], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_WALLET][24], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_WALLET][24], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][24], -1094795521);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][24], -741092353);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][24], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_WALLET][24], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_WALLET][24], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_WALLET][24], 1);

	Textdraws[textdraw_PHONE_BINANCE_WALLET][25] = TextDrawCreate(475.000000, 278.000000, "Bitcoin");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_WALLET][25], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][25], 0.150000, 1.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][25], 0.000000, 10.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_WALLET][25], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_WALLET][25], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_WALLET][25], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][25], -1094795521);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][25], -741092353);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][25], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_WALLET][25], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_WALLET][25], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_WALLET][25], 1);

	Textdraws[textdraw_PHONE_BINANCE_WALLET][26] = TextDrawCreate(455.000000, 300.000000, "E");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_WALLET][26], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][26], 0.400000, 2.500000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][26], 0.000000, 10.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_WALLET][26], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_WALLET][26], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_WALLET][26], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][26], 9109759);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][26], -741092353);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][26], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_WALLET][26], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_WALLET][26], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_WALLET][26], 1);

	Textdraws[textdraw_PHONE_BINANCE_WALLET][27] = TextDrawCreate(475.000000, 310.000000, "Ethereum");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_WALLET][27], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][27], 0.129997, 1.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][27], 0.000000, 10.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_WALLET][27], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_WALLET][27], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_WALLET][27], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][27], -1094795521);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][27], -741092353);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][27], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_WALLET][27], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_WALLET][27], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_WALLET][27], 1);

	Textdraws[textdraw_PHONE_BINANCE_WALLET][28] = TextDrawCreate(475.000000, 302.000000, "ETH");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_WALLET][28], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][28], 0.200000, 1.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][28], 0.000000, 10.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_WALLET][28], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_WALLET][28], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_WALLET][28], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][28], -1094795521);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][28], -741092353);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][28], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_WALLET][28], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_WALLET][28], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_WALLET][28], 1);

	Textdraws[textdraw_PHONE_BINANCE_WALLET][29] = TextDrawCreate(455.000000, 335.000000, "D");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_WALLET][29], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][29], 0.400000, 2.500000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][29], 0.000000, 10.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_WALLET][29], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_WALLET][29], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_WALLET][29], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][29], -8433409);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][29], -741092353);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][29], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_WALLET][29], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_WALLET][29], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_WALLET][29], 1);

	Textdraws[textdraw_PHONE_BINANCE_WALLET][30] = TextDrawCreate(475.000000, 345.000000, "dogecoin");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_WALLET][30], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][30], 0.129997, 1.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][30], 0.000000, 10.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_WALLET][30], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_WALLET][30], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_WALLET][30], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][30], -1094795521);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][30], -741092353);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][30], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_WALLET][30], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_WALLET][30], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_WALLET][30], 1);

	Textdraws[textdraw_PHONE_BINANCE_WALLET][31] = TextDrawCreate(475.000000, 338.000000, "doge");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_WALLET][31], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][31], 0.200000, 1.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][31], 0.000000, 10.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_WALLET][31], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_WALLET][31], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_WALLET][31], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][31], -1094795521);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][31], -741092353);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][31], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_WALLET][31], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_WALLET][31], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_WALLET][31], 1);

	Textdraws[textdraw_PHONE_BINANCE_WALLET][32] = TextDrawCreate(455.000000, 370.000000, "K");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_WALLET][32], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][32], 0.400000, 2.500000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][32], 0.000000, 10.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_WALLET][32], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_WALLET][32], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_WALLET][32], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][32], -16776961);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][32], -741092353);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][32], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_WALLET][32], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_WALLET][32], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_WALLET][32], 1);

	Textdraws[textdraw_PHONE_BINANCE_WALLET][33] = TextDrawCreate(475.000000, 380.000000, "dkillcoin");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_WALLET][33], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][33], 0.129997, 1.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][33], 0.000000, 10.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_WALLET][33], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_WALLET][33], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_WALLET][33], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][33], -1094795521);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][33], -741092353);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][33], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_WALLET][33], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_WALLET][33], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_WALLET][33], 1);

	Textdraws[textdraw_PHONE_BINANCE_WALLET][34] = TextDrawCreate(475.000000, 372.000000, "dkc");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_WALLET][34], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][34], 0.200000, 1.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_WALLET][34], 0.000000, 10.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_WALLET][34], 0);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_WALLET][34], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_WALLET][34], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][34], -1094795521);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][34], -741092353);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_WALLET][34], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_WALLET][34], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_WALLET][34], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_WALLET][34], 1);

	//Binance - Buy - Sell
	Textdraws[textdraw_PHONE_BINANCE_OPT][0] = TextDrawCreate(441.200012, 194.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_OPT][0], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_OPT][0], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_OPT][0], 20.000000, 25.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_OPT][0], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_OPT][0], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_OPT][0], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_OPT][0], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_OPT][0], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_OPT][0], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_OPT][0], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_OPT][0], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_OPT][0], 0);

	Textdraws[textdraw_PHONE_BINANCE_OPT][1] = TextDrawCreate(500.000000, 200.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_OPT][1], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_OPT][1], 0.000000, 24.950000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_OPT][1], 0.000000, 90.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_OPT][1], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_OPT][1], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_OPT][1], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_OPT][1], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_OPT][1], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_OPT][1], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_OPT][1], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_OPT][1], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_OPT][1], 0);

	Textdraws[textdraw_PHONE_BINANCE_OPT][2] = TextDrawCreate(500.000000, 219.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_OPT][2], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_OPT][2], 0.000000, 21.049991);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_OPT][2], 0.000000, 105.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_OPT][2], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_OPT][2], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_OPT][2], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_OPT][2], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_OPT][2], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_OPT][2], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_OPT][2], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_OPT][2], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_OPT][2], 0);

	Textdraws[textdraw_PHONE_BINANCE_OPT][3] = TextDrawCreate(538.000000, 194.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_OPT][3], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_OPT][3], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_OPT][3], 20.000000, 25.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_OPT][3], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_OPT][3], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_OPT][3], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_OPT][3], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_OPT][3], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_OPT][3], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_OPT][3], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_OPT][3], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_OPT][3], 0);

	Textdraws[textdraw_PHONE_BINANCE_OPT][4] = TextDrawCreate(440.000000, 387.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_OPT][4], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_OPT][4], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_OPT][4], 28.500000, 47.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_OPT][4], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_OPT][4], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_OPT][4], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_OPT][4], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_OPT][4], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_OPT][4], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_OPT][4], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_OPT][4], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_OPT][4], 0);

	Textdraws[textdraw_PHONE_BINANCE_OPT][5] = TextDrawCreate(531.000000, 391.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_OPT][5], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_OPT][5], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_OPT][5], 28.500000, 41.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_OPT][5], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_OPT][5], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_OPT][5], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_OPT][5], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_OPT][5], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_OPT][5], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_OPT][5], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_OPT][5], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_OPT][5], 0);

	Textdraws[textdraw_PHONE_BINANCE_OPT][6] = TextDrawCreate(498.000000, 211.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_OPT][6], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_OPT][6], 0.600000, 21.599998);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_OPT][6], 0.000000, 100.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_OPT][6], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_OPT][6], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_OPT][6], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_OPT][6], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_OPT][6], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_OPT][6], 471604223);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_OPT][6], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_OPT][6], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_OPT][6], 0);

	Textdraws[textdraw_PHONE_BINANCE_OPT][7] = TextDrawCreate(500.000000, 214.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_OPT][7], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_OPT][7], 0.000000, 5.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_OPT][7], 0.000000, 100.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_OPT][7], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_OPT][7], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_OPT][7], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_OPT][7], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_OPT][7], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_OPT][7], 135);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_OPT][7], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_OPT][7], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_OPT][7], 0);

	Textdraws[textdraw_PHONE_BINANCE_OPT][8] = TextDrawCreate(498.000000, 211.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_OPT][8], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_OPT][8], 0.600000, 0.749993);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_OPT][8], 0.000000, 100.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_OPT][8], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_OPT][8], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_OPT][8], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_OPT][8], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_OPT][8], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_OPT][8], -2686721);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_OPT][8], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_OPT][8], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_OPT][8], 0);

	Textdraws[textdraw_PHONE_BINANCE_OPT][9] = TextDrawCreate(445.000000, 205.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_OPT][9], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_OPT][9], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_OPT][9], 18.000000, 60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_OPT][9], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_OPT][9], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_OPT][9], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_OPT][9], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_OPT][9], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_OPT][9], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_OPT][9], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_OPT][9], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_OPT][9], 0);
	
	Textdraws[textdraw_PHONE_BINANCE_OPT][10] = TextDrawCreate(554.000000, 205.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_OPT][10], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_OPT][10], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_OPT][10], -18.500000, 60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_OPT][10], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_OPT][10], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_OPT][10], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_OPT][10], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_OPT][10], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_OPT][10], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_OPT][10], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_OPT][10], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_OPT][10], 0);

	Textdraws[textdraw_PHONE_BINANCE_OPT][11] = TextDrawCreate(498.000000, 205.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_OPT][11], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_OPT][11], 0.600000, 0.200001);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_OPT][11], 0.000000, 75.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_OPT][11], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_OPT][11], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_OPT][11], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_OPT][11], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_OPT][11], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_OPT][11], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_OPT][11], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_OPT][11], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_OPT][11], 0);

	Textdraws[textdraw_PHONE_BINANCE_OPT][12] = TextDrawCreate(445.799987, 261.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_OPT][12], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_OPT][12], 0.600000, 16.600004);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_OPT][12], 0.000000, -2.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_OPT][12], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_OPT][12], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_OPT][12], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_OPT][12], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_OPT][12], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_OPT][12], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_OPT][12], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_OPT][12], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_OPT][12], 0);

	Textdraws[textdraw_PHONE_BINANCE_OPT][13] = TextDrawCreate(445.000000, 413.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_OPT][13], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_OPT][13], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_OPT][13], 12.500000, -60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_OPT][13], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_OPT][13], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_OPT][13], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_OPT][13], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_OPT][13], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_OPT][13], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_OPT][13], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_OPT][13], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_OPT][13], 0);

	Textdraws[textdraw_PHONE_BINANCE_OPT][14] = TextDrawCreate(555.000000, 413.000000, "ld_drv:tvcorn");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_OPT][14], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_OPT][14], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_OPT][14], -20.000000, -60.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_OPT][14], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_OPT][14], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_OPT][14], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_OPT][14], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_OPT][14], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_OPT][14], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_OPT][14], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_OPT][14], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_OPT][14], 0);

	Textdraws[textdraw_PHONE_BINANCE_OPT][15] = TextDrawCreate(522.000000, 209.000000, "12:00");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_OPT][15], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_OPT][15], 0.229164, 1.049998);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_OPT][15], 0.000000, 0.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_OPT][15], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_OPT][15], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_OPT][15], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_OPT][15], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_OPT][15], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_OPT][15], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_OPT][15], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_OPT][15], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_OPT][15], 0);

	Textdraws[textdraw_PHONE_BINANCE_OPT][16] = TextDrawCreate(471.000000, 209.000000, "Spain+");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_OPT][16], 0);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_OPT][16], 0.337498, 1.049998);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_OPT][16], 0.000000, 0.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_OPT][16], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_OPT][16], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_OPT][16], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_OPT][16], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_OPT][16], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_OPT][16], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_OPT][16], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_OPT][16], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_OPT][16], 0);

	Textdraws[textdraw_PHONE_BINANCE_OPT][17] = TextDrawCreate(554.000000, 261.000000, "_");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_OPT][17], 1);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_OPT][17], 0.600000, 16.700025);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_OPT][17], 0.000000, -2.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_OPT][17], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_OPT][17], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_OPT][17], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_OPT][17], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_OPT][17], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_OPT][17], 255);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_OPT][17], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_OPT][17], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_OPT][17], 0);

	Textdraws[textdraw_PHONE_BINANCE_OPT][18] = TextDrawCreate(485.000000, 196.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_OPT][18], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_OPT][18], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_OPT][18], 26.000000, 30.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_OPT][18], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_OPT][18], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_OPT][18], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_OPT][18], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_OPT][18], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_OPT][18], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_OPT][18], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_OPT][18], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_OPT][18], 0);

	Textdraws[textdraw_PHONE_BINANCE_OPT][19] = TextDrawCreate(494.000000, 207.000000, "ld_beat:circle");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_OPT][19], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_OPT][19], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_OPT][19], 8.000000, 8.500000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_OPT][19], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_OPT][19], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_OPT][19], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_OPT][19], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_OPT][19], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_OPT][19], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_OPT][19], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_OPT][19], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_OPT][19], 0);

	Textdraws[textdraw_PHONE_BINANCE_OPT][20] = TextDrawCreate(411.000000, 204.000000, "ld_beat:chit");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_OPT][20], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_OPT][20], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_OPT][20], 35.000000, 35.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_OPT][20], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_OPT][20], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_OPT][20], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_OPT][20], 255);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_OPT][20], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_OPT][20], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_OPT][20], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_OPT][20], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_OPT][20], 0);

	Textdraws[textdraw_PHONE_BINANCE_OPT][21] = TextDrawCreate(420.000000, 213.000000, "ld_beat:left");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_OPT][21], 4);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_OPT][21], 0.600000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_OPT][21], 17.000000, 17.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_OPT][21], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_OPT][21], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_OPT][21], 1);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_OPT][21], -65281);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_OPT][21], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_OPT][21], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_OPT][21], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_OPT][21], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_OPT][21], 1);

	Textdraws[textdraw_PHONE_BINANCE_OPT][22] = TextDrawCreate(500.000000, 225.000000, "binance");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_OPT][22], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_OPT][22], 0.500000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_OPT][22], 0.000000, 100.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_OPT][22], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_OPT][22], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_OPT][22], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_OPT][22], -2686721);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_OPT][22], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_OPT][22], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_OPT][22], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_OPT][22], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_OPT][22], 0);

	Textdraws[textdraw_PHONE_BINANCE_OPT][23] = TextDrawCreate(468.000000, 345.000000, "<");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_OPT][23], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_OPT][23], 0.500000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_OPT][23], 15.000000, 20.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_OPT][23], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_OPT][23], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_OPT][23], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_OPT][23], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_OPT][23], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_OPT][23], 100);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_OPT][23], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_OPT][23], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_OPT][23], 1);

	Textdraws[textdraw_PHONE_BINANCE_OPT][24] = TextDrawCreate(532.000000, 345.000000, ">");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_OPT][24], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_OPT][24], 0.500000, 2.000000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_OPT][24], 15.000000, 20.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_OPT][24], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_OPT][24], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_OPT][24], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_OPT][24], -1);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_OPT][24], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_OPT][24], 100);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_OPT][24], 1);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_OPT][24], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_OPT][24], 1);

	Textdraws[textdraw_PHONE_BINANCE_OPT][25] = TextDrawCreate(500.000000, 340.000000, "cantidad");
	TextDrawFont(Textdraws[textdraw_PHONE_BINANCE_OPT][25], 2);
	TextDrawLetterSize(Textdraws[textdraw_PHONE_BINANCE_OPT][25], 0.150000, 0.800000);
	TextDrawTextSize(Textdraws[textdraw_PHONE_BINANCE_OPT][25], 0.000000, 100.000000);
	TextDrawSetOutline(Textdraws[textdraw_PHONE_BINANCE_OPT][25], 1);
	TextDrawSetShadow(Textdraws[textdraw_PHONE_BINANCE_OPT][25], 0);
	TextDrawAlignment(Textdraws[textdraw_PHONE_BINANCE_OPT][25], 2);
	TextDrawColor(Textdraws[textdraw_PHONE_BINANCE_OPT][25], 1296911871);
	TextDrawBackgroundColor(Textdraws[textdraw_PHONE_BINANCE_OPT][25], 255);
	TextDrawBoxColor(Textdraws[textdraw_PHONE_BINANCE_OPT][25], 50);
	TextDrawUseBox(Textdraws[textdraw_PHONE_BINANCE_OPT][25], 0);
	TextDrawSetProportional(Textdraws[textdraw_PHONE_BINANCE_OPT][25], 1);
	TextDrawSetSelectable(Textdraws[textdraw_PHONE_BINANCE_OPT][25], 0);

	Textdraws[textdraw_TERRITORY_BOX] = TextDrawCreate(320.000000, 355.000000, "-");
	TextDrawLetterSize(Textdraws[textdraw_TERRITORY_BOX], 12.321674, 9.937778);
	TextDrawAlignment(Textdraws[textdraw_TERRITORY_BOX], 2);
	TextDrawColor(Textdraws[textdraw_TERRITORY_BOX], 167);
	TextDrawSetShadow(Textdraws[textdraw_TERRITORY_BOX], 0);
	TextDrawSetOutline(Textdraws[textdraw_TERRITORY_BOX], 0);
	TextDrawBackgroundColor(Textdraws[textdraw_TERRITORY_BOX], 255);
	TextDrawFont(Textdraws[textdraw_TERRITORY_BOX], 1);
	TextDrawSetProportional(Textdraws[textdraw_TERRITORY_BOX], 1);
	TextDrawSetShadow(Textdraws[textdraw_TERRITORY_BOX], 0);

	Textdraws[textdraw_SHOP_TUNING][0] = TextDrawCreate(320.000000, 330.000000, "box");
	TextDrawLetterSize(Textdraws[textdraw_SHOP_TUNING][0], 0.000000, 6.966667);
	TextDrawTextSize(Textdraws[textdraw_SHOP_TUNING][0], 0.000000, 152.000000);
	TextDrawAlignment(Textdraws[textdraw_SHOP_TUNING][0], 2);
	TextDrawColor(Textdraws[textdraw_SHOP_TUNING][0], -1);
	TextDrawUseBox(Textdraws[textdraw_SHOP_TUNING][0], 1);
	TextDrawBoxColor(Textdraws[textdraw_SHOP_TUNING][0], 95);
	TextDrawSetShadow(Textdraws[textdraw_SHOP_TUNING][0], 0);
	TextDrawSetOutline(Textdraws[textdraw_SHOP_TUNING][0], 0);
	TextDrawBackgroundColor(Textdraws[textdraw_SHOP_TUNING][0], 255);
	TextDrawFont(Textdraws[textdraw_SHOP_TUNING][0], 1);
	TextDrawSetProportional(Textdraws[textdraw_SHOP_TUNING][0], 1);
	TextDrawSetShadow(Textdraws[textdraw_SHOP_TUNING][0], 0);

	Textdraws[textdraw_SHOP_TUNING][1] = TextDrawCreate(320.000000, 330.000000, ""SERVER_SHORT_NAME"_Tuning_Club");
	TextDrawLetterSize(Textdraws[textdraw_SHOP_TUNING][1], 0.354000, 1.533629);
	TextDrawTextSize(Textdraws[textdraw_SHOP_TUNING][1], 0.000000, 152.000000);
	TextDrawAlignment(Textdraws[textdraw_SHOP_TUNING][1], 2);
	TextDrawColor(Textdraws[textdraw_SHOP_TUNING][1], -1);
	TextDrawUseBox(Textdraws[textdraw_SHOP_TUNING][1], 1);
	TextDrawBoxColor(Textdraws[textdraw_SHOP_TUNING][1], 10205093);
	TextDrawSetShadow(Textdraws[textdraw_SHOP_TUNING][1], 0);
	TextDrawSetOutline(Textdraws[textdraw_SHOP_TUNING][1], 0);
	TextDrawBackgroundColor(Textdraws[textdraw_SHOP_TUNING][1], 255);
	TextDrawFont(Textdraws[textdraw_SHOP_TUNING][1], 0);
	TextDrawSetProportional(Textdraws[textdraw_SHOP_TUNING][1], 1);
	TextDrawSetShadow(Textdraws[textdraw_SHOP_TUNING][1], 0);

	Textdraws[textdraw_SHOP_TUNING][2] = TextDrawCreate(320.000000, 376.000000, "Comprar");
	TextDrawLetterSize(Textdraws[textdraw_SHOP_TUNING][2], 0.219666, 1.031703);
	TextDrawTextSize(Textdraws[textdraw_SHOP_TUNING][2], 10.000000, 43.000000);
	TextDrawAlignment(Textdraws[textdraw_SHOP_TUNING][2], 2);
	TextDrawColor(Textdraws[textdraw_SHOP_TUNING][2], -1);
	TextDrawUseBox(Textdraws[textdraw_SHOP_TUNING][2], 1);
	TextDrawBoxColor(Textdraws[textdraw_SHOP_TUNING][2], -1936945921);
	TextDrawSetShadow(Textdraws[textdraw_SHOP_TUNING][2], 0);
	TextDrawSetOutline(Textdraws[textdraw_SHOP_TUNING][2], 0);
	TextDrawBackgroundColor(Textdraws[textdraw_SHOP_TUNING][2], 255);
	TextDrawFont(Textdraws[textdraw_SHOP_TUNING][2], 1);
	TextDrawSetProportional(Textdraws[textdraw_SHOP_TUNING][2], 1);
	TextDrawSetShadow(Textdraws[textdraw_SHOP_TUNING][2], 0);
	TextDrawSetSelectable(Textdraws[textdraw_SHOP_TUNING][2], true);

	Textdraws[textdraw_SHOP_TUNING][3] = TextDrawCreate(370.000000, 376.000000, "Siguiente");
	TextDrawLetterSize(Textdraws[textdraw_SHOP_TUNING][3], 0.219666, 1.031703);
	TextDrawTextSize(Textdraws[textdraw_SHOP_TUNING][3], 10.000000, 43.000000);
	TextDrawAlignment(Textdraws[textdraw_SHOP_TUNING][3], 2);
	TextDrawColor(Textdraws[textdraw_SHOP_TUNING][3], -1);
	TextDrawUseBox(Textdraws[textdraw_SHOP_TUNING][3], 1);
	TextDrawBoxColor(Textdraws[textdraw_SHOP_TUNING][3], -1936945921);
	TextDrawSetShadow(Textdraws[textdraw_SHOP_TUNING][3], 0);
	TextDrawSetOutline(Textdraws[textdraw_SHOP_TUNING][3], 0);
	TextDrawBackgroundColor(Textdraws[textdraw_SHOP_TUNING][3], 255);
	TextDrawFont(Textdraws[textdraw_SHOP_TUNING][3], 1);
	TextDrawSetProportional(Textdraws[textdraw_SHOP_TUNING][3], 1);
	TextDrawSetShadow(Textdraws[textdraw_SHOP_TUNING][3], 0);
	TextDrawSetSelectable(Textdraws[textdraw_SHOP_TUNING][3], true);

	Textdraws[textdraw_SHOP_TUNING][4] = TextDrawCreate(270.000000, 376.000000, "ANTERIOR");
	TextDrawLetterSize(Textdraws[textdraw_SHOP_TUNING][4], 0.219666, 1.031703);
	TextDrawTextSize(Textdraws[textdraw_SHOP_TUNING][4], 10.000000, 43.000000);
	TextDrawAlignment(Textdraws[textdraw_SHOP_TUNING][4], 2);
	TextDrawColor(Textdraws[textdraw_SHOP_TUNING][4], -1);
	TextDrawUseBox(Textdraws[textdraw_SHOP_TUNING][4], 1);
	TextDrawBoxColor(Textdraws[textdraw_SHOP_TUNING][4], -1936945921);
	TextDrawSetShadow(Textdraws[textdraw_SHOP_TUNING][4], 0);
	TextDrawSetOutline(Textdraws[textdraw_SHOP_TUNING][4], 0);
	TextDrawBackgroundColor(Textdraws[textdraw_SHOP_TUNING][4], 255);
	TextDrawFont(Textdraws[textdraw_SHOP_TUNING][4], 1);
	TextDrawSetProportional(Textdraws[textdraw_SHOP_TUNING][4], 1);
	TextDrawSetShadow(Textdraws[textdraw_SHOP_TUNING][4], 0);
	TextDrawSetSelectable(Textdraws[textdraw_SHOP_TUNING][4], true);
	
	PopUp = TextDrawCreate(83.991813, 328.083465, "Pop Up 1");
	TextDrawLetterSize(PopUp, 0.166544, 0.771664);
	TextDrawTextSize(PopUp, 1256.105102, 141.749984);
	TextDrawAlignment(PopUp, 2);
	TextDrawColor(PopUp, -1);
	TextDrawUseBox(PopUp, true);
	TextDrawBoxColor(PopUp, 70);
	TextDrawSetShadow(PopUp, 0);
	TextDrawSetOutline(PopUp, 1);
	TextDrawBackgroundColor(PopUp, 35);
	TextDrawFont(PopUp, 1);
	TextDrawSetProportional(PopUp, 1);

	PopUp1 = TextDrawCreate(83.928855, 315.416625, "Pop Up 2");
	TextDrawLetterSize(PopUp1, 0.166544, 0.771664);
	TextDrawTextSize(PopUp1, 1256.105102, 141.749984);
	TextDrawAlignment(PopUp1, 2);
	TextDrawColor(PopUp1, -1);
	TextDrawUseBox(PopUp1, true);
	TextDrawBoxColor(PopUp1, 70);
	TextDrawSetShadow(PopUp1, 0);
	TextDrawSetOutline(PopUp1, 1);
	TextDrawBackgroundColor(PopUp1, 35);
	TextDrawFont(PopUp1, 1);
	TextDrawSetProportional(PopUp1, 1);

	PopUp2 = TextDrawCreate(83.991973, 302.416625, "Pop Up 3");
	TextDrawLetterSize(PopUp2, 0.166544, 0.771664);
	TextDrawTextSize(PopUp2, 1256.105102, 141.749984);
	TextDrawAlignment(PopUp2, 2);
	TextDrawColor(PopUp2, -1);
	TextDrawUseBox(PopUp2, true);
	TextDrawBoxColor(PopUp2, 70);
	TextDrawSetShadow(PopUp2, 0);
	TextDrawSetOutline(PopUp2, 1);
	TextDrawBackgroundColor(PopUp2, 35);
	TextDrawFont(PopUp2, 1);
	TextDrawSetProportional(PopUp2, 1);

	return 1;
}

stock DestroyTextDraws()
{
	for(new i; i < sizeof(Textdraws); i++)
	{
		if(Textdraws[Textdraws_Enum:i] == INVALID_TEXT_DRAW) continue;
		TextDrawDestroy(Text:Textdraws[Textdraws_Enum:i]);
		Textdraws[Textdraws_Enum:i] = INVALID_TEXT_DRAW;
	}

	for(new i=0; i < sizeof(VehicleSellList); ++i)
	{
		TextDrawDestroy(VehicleSellList[i]);
		VehicleSellList[i] = INVALID_TEXT_DRAW;
	}
	return 1;
}


public OnGameModeExit()
{
    
	print("\n\n\n----> Cerrando...\n\n");
	
	SalvarRadares();

	new date[24];
	getDateTime(date);
	for(new i, j = GetPlayerPoolSize(); i <= j; i++)
	{
		if(IsPlayerConnected(i) && PLAYER_TEMP[i][pt_USER_LOGGED])
		{
			format(PI[i][pi_LAST_CONNECTION], 24, "%s", date);
			SavePlayerData(i);
			SavePlayerVehicles(i, false);
			SavePlayerToys(i);
			SavePlayerWeaponsData(i);
			SavePlayerWorkLevels(i);
			PLAYER_TEMP[i][pt_SAVE_ACCOUNT_TIME] = gettime();
		}
	}
	//AntiAmx();
	

	for(new i = 0; i<MAX_PLAYERS; i++)
	{
	    TextDrawHideForAll(Velocimetro[i]);
	    TextDrawDestroy(Velocimetro[i]);
	}

	mysql_close(srp_db);
	
	for(new i, j = GetPlayerPoolSize(); i <= j; i++) // Cerrar conexión a todos al cerrar el server
	{
		if(IsPlayerConnected(i))
		{
				new BitStream:bs = BS_New();

				BS_WriteValue(
					bs,
					PR_UINT8, 33
				);

				BS_Send(bs, i);
				BS_Delete(bs);
		}
	}
	
	return 1;
}

CMD:rotarmetales(playerid, params[])
{
    RotarDialogosMercados();
    SendClientMessageToAll(-1, "{FF0000}[MERCADO NEGRO]: {FFFFFF}Los suministros de armas han cambiado de ubicación.");
    return 1;
}

CMD:armero(playerid)
{
	if(!PLAYER_WORKS[playerid][WORK_ARMERO][pwork_SET]) return SendNotification(playerid, "No eres armero.");

	if(PI[playerid][pi_PROGRESO_TRABAJO])
	{
		CheckpointArmero[playerid] = 0;
		SendNotification(playerid, "Has dejado de trabajar como armero.");

		PI[playerid][pi_PROGRESO_TRABAJO]		= 0;
		PI[playerid][pi_ESTADO_TRABAJO] = 0;
		TogglePlayerControllable(playerid, true);
		return 1;
	}
	CheckpointArmero[playerid] = 1;
	SendNotification(playerid, "Entra a la armeria y dirigete cualquier pickup de una mesa para iniciar.");
	return 1;
}

CMD:comisaria(playerid, params[])
{
	if(isnull(params)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /comisaria <texto>", 2);
	if(!PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET]) return ShowPlayerMessage(playerid, "No eres policía.", 2);
	if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_POLICE) return ShowPlayerMessage(playerid, "No estás de servicio como policía.", 2);
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return ShowPlayerMessage(playerid, "~r~Ahora no puedes usar este comando.", 2);
	if(PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET])
	{
	new str[144 + 1];
	format(str, sizeof str, "{2e5eff}[Comisario-Anuncio]: {ffffff}%s", params);
	SendClientMessageToAll(-1, str);
	}
	return 1;
}


DCMD:cuenta(user, channel, params[])
{
    new string2[2000];
	new findname[24];
    
    new DCC_Embed:apalah3 = DCC_CreateEmbed();
    DCC_SetEmbedTitle(apalah3, ":blue_heart: Spain+ + RolePlay");
    DCC_SetEmbedDescription(apalah3, "USO: $cuenta [Nombre_Apellido] :necktie:");
    DCC_SetEmbedColor(apalah3, 0x00ff00);
    DCC_SetEmbedFooter(apalah3, "@Spain+ + Roleplay", "https://cdn.discordapp.com/attachments/1051911430934364260/1270950253599784971/1723088529837.png");
    DCC_SetEmbedThumbnail(apalah3, "https://cdn.discordapp.com/attachments/1051911430934364260/1270950253599784971/1723088529837.png");
     if(sscanf(params, "s[24]", findname)) return DCC_SendChannelEmbedMessage(channel,apalah3);
 
	inline OnInfoQueryLoad()
	{
		new rows;
		if(cache_get_row_count(rows))
		{
				new name[24], level, skin, health, armour, cash, bank, gz, vip, SkinID[99];
				cache_get_value_name(0, "name", name);
				cache_get_value_name_int(0, "level", level);
				cache_get_value_name_int(0, "skin", skin);
				cache_get_value_name_int(0, "health", health);
				cache_get_value_name_int(0, "armour", armour);
				cache_get_value_name_int(0, "cash", cash);
				cache_get_value_name_int(0, "bank_money", bank);
				cache_get_value_name_int(0, "coins", gz);
			    cache_get_value_name_int(0, "vip", vip);
				format(string2, sizeof(string2), "\
                **:bust_in_silhouette:Usuario: %s**\n\
                **:desktop:Nivel: %d**\n\
                **:shirt:Prenda: %d**\n\
                **:heart:Vida: %d**\n\
                **:safety_vest:Chaleco: %d**\n\
                **:dollar:Dinero: %d$**\n\
                **:moneybag:Banco: %d$**\n\
                **:coin:GG: %d**\n\
                **:gem:VIP: %d**\n\
                ", name, level, skin, health, armour, cash, bank, gz, vip);
                format(SkinID, sizeof(SkinID), "https://assets.open.mp/assets/images/skins/%d.png", skin);
               	new DCC_Embed:apalah2 = DCC_CreateEmbed();
                DCC_SetEmbedTitle(apalah2, ":blue_heart: Spain+ RolePlay");
                DCC_SetEmbedDescription(apalah2, "");
                DCC_AddEmbedField(apalah2, string2, ":wrench: **ESTADISTICAS**", true);
                DCC_SetEmbedColor(apalah2, 0x00ff00);
                DCC_SetEmbedFooter(apalah2, "@Spain+ Roleplay", "https://cdn.discordapp.com/attachments/1051911430934364260/1270950253599784971/1723088529837.png");
                DCC_SetEmbedThumbnail(apalah2, SkinID);
			    DCC_SendChannelEmbedMessage(channel,apalah2);
		}
	}
	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT name, level, skin, health, armour, cash, bank_money, coins, vip FROM player WHERE name LIKE '%%%e%%' LIMIT 20;", findname);
	//mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT id FROM works WHERE name = %s;", findname);
	mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnInfoQueryLoad);
	//mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnInfoQueryLoad);
    new DCC_Message:koman;
	koman = DCMD_GetCommandMessageId();
    DCC_DeleteMessage(koman);
	return 1;
}

DCMD:bolsillos(user, channel, params[])
{
    new string2[1000]; 
    new findname[24];
    
    new DCC_Embed:apalah3 = DCC_CreateEmbed();
    DCC_SetEmbedTitle(apalah3, ":blue_heart: Spain + RolePlay");
    DCC_SetEmbedDescription(apalah3, "USO: $bolsillos [Nombre_Apellido] :necktie:");
    DCC_SetEmbedColor(apalah3, 0x00ff00);
    DCC_SetEmbedFooter(apalah3, "@Spain + Roleplay", "https://cdn.discordapp.com/attachments/1051911430934364260/1270950253599784971/1723088529837.png");
    DCC_SetEmbedThumbnail(apalah3, "https://cdn.discordapp.com/attachments/1051911430934364260/1270950253599784971/1723088529837.png");
    
    if(sscanf(params, "s[24]", findname)) return DCC_SendChannelEmbedMessage(channel, apalah3);
  
    inline OnInfoQueryLoad()
    {
        new rows;
        cache_get_row_count(rows);
        if(rows > 0)
        {
            new name[24], skin, bol[10], SkinID[100], nObj[10][32];
            
            cache_get_value_name(0, "name", name);
            cache_get_value_name_int(0, "skin", skin);
            
            for(new i = 0; i < 10; i++) 
            {
                new col[10];
                format(col, sizeof(col), "bol%d", i);
                cache_get_value_name_int(0, col, bol[i]);

                // Si el ID del objeto es 0, mostramos "Vacío", si no, el nombre
                if(bol[i] == 0) format(nObj[i], 32, "*Vacío*");
                else format(nObj[i], 32, "%s", ObjetoInfo[bol[i]][NombreObjeto]);
            }

            format(string2, sizeof(string2), "\
                **:shirt: 0:** %s  **:shirt: 5:** %s\n\
                **:shirt: 1:** %s  **:shirt: 6:** %s\n\
                **:shirt: 2:** %s  **:shirt: 7:** %s\n\
                **:shirt: 3:** %s  **:shirt: 8:** %s\n\
                **:shirt: 4:** %s  **:shirt: 9:** %s",
                nObj[0], nObj[5], nObj[1], nObj[6], nObj[2], nObj[7], nObj[3], nObj[8], nObj[4], nObj[9]
            );

            format(SkinID, sizeof(SkinID), "https://assets.open.mp/assets/images/skins/%d.png", skin);
            
            new DCC_Embed:apalah2 = DCC_CreateEmbed();
            DCC_SetEmbedTitle(apalah2, ":blue_heart: Spain + RolePlay");
            DCC_SetEmbedDescription(apalah2, name); 
            DCC_AddEmbedField(apalah2, ":wrench: **CONTENIDO DE BOLSILLOS**", string2, false);
            DCC_SetEmbedColor(apalah2, 0x00ff00);
            DCC_SetEmbedFooter(apalah2, "@Spain + Roleplay", "https://cdn.discordapp.com/attachments/1051911430934364260/1270950253599784971/1723088529837.png");
            DCC_SetEmbedThumbnail(apalah2, SkinID);
            
            DCC_SendChannelEmbedMessage(channel, apalah2);
        }
        else 
        {
            DCC_SendChannelMessage(channel, "Error: No se encontró al jugador en la base de datos.");
        }
    }
    mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT name, skin, bol0, bol1, bol2, bol3, bol4, bol5, bol6, bol7, bol8, bol9 FROM player WHERE name LIKE '%%%e%%' LIMIT 1;", findname);
    mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnInfoQueryLoad);

    DCC_DeleteMessage(DCMD_GetCommandMessageId());
    return 1;
}

DCMD:verify(user, channel, params[])
{
	if (channel != W_L)
	{
		 new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :gear:","Upss, No estas en el canal de verificación. :shield:","","",0x00ff00,"Spain+ RolePlay","","","");
		 DCC_SendChannelEmbedMessage(channel, embed, "");
		 return 1;
	}
	new str[150];
	new DCC_Embed:wls = DCC_CreateEmbed("Spain+ RolePlay Verificación :gear:","Upss, Modo de uso $verify : Nombre_Apellido :x:","","",0x00ff00,"Spain+ RolePlay","","","");
	if(isnull(params)) return DCC_SendChannelEmbedMessage(channel, wls);
	//new DCC_Embed:embeds = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","Nombre existente en la base de datos :x:","","",0x00ff00,"Spain+ RolePlay","","","");
	format(str, sizeof(str),">**Spain+ : Nombre** **%s** **Acaba de ser verificado en el Servidor, Bienvenido a esta gran trayectoria. :white_check_mark:**", params);
	DCC_SendChannelMessage(channel, str);
	format(str,sizeof(str),"DCC_SetGuildMemberNickname(discordGuild, user, %s);", params);
	DCC_AddGuildMemberRole(discordGuild, user, discordRoleUsuario);
	DCC_SetGuildMemberNickname(discordGuild, user, params);
 	return 1;
} // disini adalah cmd buat whitelisnya (di discord ya)

DCMD:anuncio(user, channel, params[])
{
    new string2[125];
    new username[33];
    DCC_GetUserName(user, username, sizeof(username));
    
	new
	bool: hasPermission;

	DCC_HasGuildMemberRole(discordGuild, user, discordRoleDueno, hasPermission);

	if ( hasPermission )
	{
	
	if(isnull(params)) return DCC_SendChannelMessage(channel, "Modo de uso: /anuncio <mensaje>");
    
    new string[128];
	format(string, sizeof string, "{66c4e4}@Lan-Bot{8BFE53}·{66c4e4}#{FFFfFF}: %s", params);
    SendClientMessageToAll(-1, string);
		
    format(string2, sizeof(string2),":palm_tree: [Lan-Bot] El mensaje fue enviado exitosamente :beginner:");
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","","","",0x00ff00,"Spain+ RolePlay","","","");
    DCC_AddEmbedField(embed, ":beginner:  Anuncio:", string2, true);
    DCC_SendChannelEmbedMessage(channel,embed);
    new DCC_Message:koman;
    koman = DCMD_GetCommandMessageId();
    DCC_DeleteMessage(koman);
  	return 1;
  }
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :gear:","Upss, permisos insuficientes. :shield:","","",0x00ff00,"Spain+ RolePlay","","","");
    DCC_SendChannelEmbedMessage(channel, embed, "");
    return 1;
}

DCMD:dc(user, channel, params[])
{
    new username[33];
    DCC_GetUserName(user, username, sizeof(username));
    
	new
	bool: hasPermission;

	DCC_HasGuildMemberRole(discordGuild, user, discordRoleDueno, hasPermission);

	if ( hasPermission )
	{
	
	if(isnull(params)) return DCC_SendChannelMessage(channel, "Modo de uso: /anuncio <mensaje>");
    
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","","","",0x00ff00,"Spain+ RolePlay","","","");
    DCC_AddEmbedField(embed, ":beginner:  Anuncio:", params, true);
    DCC_SendChannelEmbedMessage(channel,embed);
		
    new DCC_Message:koman;
    koman = DCMD_GetCommandMessageId();
    DCC_DeleteMessage(koman);
  	return 1;
  }
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :gear:","Upss, permisos insuficientes. :shield:","","",0x00ff00,"Spain+ RolePlay","","","");
    DCC_SendChannelEmbedMessage(channel, embed, "");
    return 1;
}

DCMD:ms(user, channel, params[])
{
    new username[33];
    DCC_GetUserName(user, username, sizeof(username));
    
	new
	bool: hasPermission;

	DCC_HasGuildMemberRole(discordGuild, user, discordRoleDueno, hasPermission);

	if ( hasPermission )
	{
	
	if(isnull(params)) return DCC_SendChannelMessage(channel, "Modo de uso: /anuncio <mensaje>");
    
    DCC_SendChannelMessage(channel,params);
		
    new DCC_Message:koman;
    koman = DCMD_GetCommandMessageId();
    DCC_DeleteMessage(koman);
  	return 1;
  }
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :gear:","Upss, permisos insuficientes. :shield:","","",0x00ff00,"Spain+ RolePlay","","","");
    DCC_SendChannelEmbedMessage(channel, embed, "");
    return 1;
}

DCMD:sf(user, channel , params[])
{
    new player1;
    new playerid;
    new to_player;
    new str[150],SkinID[99];
    new gname[MAX_PLAYER_NAME],string2[150];
    GetPlayerName(playerid,gname,sizeof(gname));

    new
	bool: hasPermission;

	DCC_HasGuildMemberRole(discordGuild, user, discordRoleModerador, hasPermission);

	if ( hasPermission )
	{
	    new DCC_Embed:embeds = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","Modo de uso $sf [ID]","","",0x00ff00,"Spain+ RolePlay","","","");
	    if(sscanf(params,"d", playerid)) return DCC_SendChannelEmbedMessage(channel,embeds);
	    new DCC_Embed:off = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","Usuario Desconectado","","",0x00ff00,"Spain+ RolePlay","","","");
	    if(!IsPlayerConnected(to_player)) return DCC_SendChannelEmbedMessage(channel,off);

	    SetPlayerPosEx(playerid, -2016.4399,-79.7714,35.3203, 0, 0, 0, true);
	    DCC_SendChannelMessage(channel, str);
	    format(string2, sizeof(string2), ":palm_tree: [Lan-Bot] Usuario [%s], :necktie: Enviado a San Fierro :bullettrain_front:", PI[to_player][pi_NAME]);
	    new DCC_Embed:embed = DCC_CreateEmbed();
        DCC_SetEmbedColour(embed, 0x00ff00);
        DCC_SetEmbedTitle(embed, ":palm_tree: - Spain+ RolePlay +");
        DCC_SetEmbedDescription(embed, string2);
        DCC_SetEmbedFooter(embed, ""SERVER_NAME"");
        format(SkinID, sizeof(SkinID), "https://assets.open.mp/assets/images/skins/%d.png", PI[to_player][pi_SKIN]);
        DCC_SetEmbedThumbnail(embed, SkinID);
        DCC_SendChannelEmbedMessage(channel, embed);
	    logs= DCC_FindChannelById("1005591526027575316");
	    new DCC_Embed:embedd = DCC_CreateEmbed("Logs Spain+ RolePlay","","","",0x00ff00,"Spain+ RolePlay","","","");
	    DCC_AddEmbedField(embedd, "Logs", "Un administrador uso el comando $sf", true);
	    DCC_SendChannelEmbedMessage(logs,embedd);
	    SendFormatNotification(player1, "Fuiste enviado a SF por ~r~Administrador del discord.", 2);
	    new DCC_Message:koman;
	    koman = DCMD_GetCommandMessageId();
	    DCC_DeleteMessage(koman);
	}
	else {
	    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :gear:","Upss, permisos insuficientes. :shield:","","",0x00ff00,"Spain+ RolePlay","","","");
	    DCC_SendChannelEmbedMessage(channel, embed, "");
	}
    return 1;
}

DCMD:getstats(user, channel, params[])
{
	new targetid;
	if(IsPlayerConnected(targetid))
	{
		new msg[600], SkinID[99], name[MAX_PLAYER_NAME], pIP[128], Float:health, Float:armour;

	    new bool: hasPermission;

	    DCC_HasGuildMemberRole(discordGuild, user, discordRoleDueno, hasPermission);

	    if ( hasPermission )
	    {
			new DCC_Embed:embeds = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","Modo de uso $getstats [ID]","","",0x00ff00,"Spain+ RolePlay","","","");
			if(sscanf(params, "u", targetid)) return DCC_SendChannelEmbedMessage(channel,embeds);
			if(targetid == INVALID_PLAYER_ID || !IsPlayerConnected(targetid)) return DCC_SendChannelMessage(channel," [ERROR]: No hay usuarios conectados.");
			GetPlayerName(targetid, name, sizeof(name));
			GetPlayerIp(targetid, pIP, 128);
			GetPlayerHealth(targetid, health);
			GetPlayerArmour(targetid, armour);
			new ping = GetPlayerPing(targetid);
			format(msg, sizeof(msg), "``%s``'s info: PLAYER-IP: ``%s`` | **PLAYER-Health: ``%d`` | PLAYER-Armour: ``%d`` | PLAYER-Ping: ``%i``", name, pIP, floatround(health), floatround(armour), ping);
			logs= DCC_FindChannelById("1005591526027575316");
			new DCC_Embed:embed = DCC_CreateEmbed("Logs Spain+ RolePlay","","","",0x00ff00,"Spain+ RolePlay","","","");
			DCC_AddEmbedField(embed, "Logs", "Un administrador uso el comando $getstats", true);
			DCC_SendChannelEmbedMessage(logs,embed);
			DCC_SendChannelMessage(channel, msg);
			format(SkinID, sizeof(SkinID), "https://assets.open.mp/assets/images/skins/%d.png", PI[targetid][pi_SKIN]);
            DCC_SetEmbedThumbnail(embed, SkinID);
			new DCC_Message:koman;
			koman = DCMD_GetCommandMessageId();
			DCC_DeleteMessage(koman);
		}
		else {
		    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :gear:","Upss, permisos insuficientes. :shield:","","",0x00ff00,"Spain+ RolePlay","","","");
		    DCC_SendChannelEmbedMessage(channel, embed, "");
		}
	}
    return 1;
}

DCMD:setskin(user, channel, params[])
{
    new to_player, skin;
    new pesan[526],pesan_a[526],SkinID[99]; 
    new username[33];
    DCC_GetUserName(user, username, sizeof(username));

    new
    bool: hasPermission;

    DCC_HasGuildMemberRole(discordGuild, user, discordRoleModerador, hasPermission);

    if ( hasPermission )
    {
	    new DCC_Embed:embeds = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","Modo de uso $setskin [ID] [SKiN]","","",0x00ff00,"Spain+ RolePlay","","","");
	    if(sscanf(params, "ud", to_player, skin)) return DCC_SendChannelEmbedMessage(channel,embeds);
	    if(!IsPlayerConnected(to_player)) return DCC_SendChannelMessage(channel, "Jugador desconectado");

		PI[to_player][pi_SKIN] = skin;
	    SetPlayerSkin(to_player, PI[to_player][pi_SKIN]);
		format(pesan_a,sizeof(pesan_a),"Comando usado por %s",username);
		format(pesan,sizeof(pesan),"Skin %s (%d)* cambiado a %d.", PI[to_player][pi_NAME], to_player, skin);
		new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","","","",0x00ff00,"Spain+ RolePlay","","","");
	    DCC_AddEmbedField(embed, " :singer:  Ropa", pesan, true);
	    DCC_SendChannelEmbedMessage(channel,embed);
	    format(SkinID, sizeof(SkinID), "https://assets.open.mp/assets/images/skins/%d.png", PI[to_player][pi_SKIN]);
        DCC_SetEmbedThumbnail(embed, SkinID);
		//new DCC_Embed:apalah = DCC_CreateEmbed("Log - Registro","","","",0xD87737ff,"Logo de registro, by Issac","","https://i.postimg.cc/85XN8Y7w/Pics-Art-07-18-03-05-00.jpg","");
		SendFormatNotification(to_player, "El administrador [%s] te cambio la skin a [%d]", username, skin);
		TogglePlayerControllableEx(to_player, true);
	    new DCC_Message:koman;
	    koman = DCMD_GetCommandMessageId();
	    DCC_DeleteMessage(koman);
	}
	else {
	    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :gear:","Upss, permisos insuficientes. :shield:","","",0x00ff00,"Spain+ RolePlay","","","");
	    DCC_SendChannelEmbedMessage(channel, embed, "");
    }
    return 1;
}

DCMD:ban(user,channel ,params[])
{
new to_player, reason[128], SkinID[99];
new username[33];
new string[250];
new msg2[400],name1[MAX_PLAYER_NAME];
DCC_GetUserName(user, username, sizeof(username));
new DCC_Embed:apalah6 = DCC_CreateEmbed();
DCC_SetEmbedTitle(apalah6, ":blue_heart: Spain+ RolePlay");
DCC_SetEmbedDescription(apalah6, ":x: [ERROR]: La identificacion que ha ingresado no es valida. :x:");
DCC_SetEmbedColor(apalah6, 0xff0000);
DCC_SetEmbedFooter(apalah6, "@Spain + Roleplay", "https://cdn.discordapp.com/attachments/1051911430934364260/1270950253599784971/1723088529837.png");
DCC_SetEmbedThumbnail(apalah6, "https://cdn.discordapp.com/attachments/1051911430934364260/1270950253599784971/1723088529837.png");

new DCC_Embed:apalah5 = DCC_CreateEmbed();
DCC_SetEmbedTitle(apalah5, ":blue_heart: Spain+ RolePlay");
DCC_SetEmbedDescription(apalah5, ":x: [ERROR]: No hay usuarios conectados. :x:");
DCC_SetEmbedColor(apalah5, 0xff0000);
DCC_SetEmbedFooter(apalah5, "@Spain + Roleplay", "https://cdn.discordapp.com/attachments/1051911430934364260/1270950253599784971/1723088529837.png");
DCC_SetEmbedThumbnail(apalah5, "https://cdn.discordapp.com/attachments/1051911430934364260/1270950253599784971/1723088529837.png");
new DCC_Embed:apalah9 = DCC_CreateEmbed();
DCC_SetEmbedTitle(apalah9, ":blue_heart: Spain+ RolePlay");
DCC_SetEmbedDescription(apalah9, "No tienes el rol requerido para usar este comando. :grin:");
DCC_SetEmbedColor(apalah9, 0x00ff00);
DCC_SetEmbedFooter(apalah9, "@Spain + Roleplay", "https://cdn.discordapp.com/attachments/1051911430934364260/1270950253599784971/1723088529837.png");
DCC_SetEmbedThumbnail(apalah9, "https://cdn.discordapp.com/attachments/1051911430934364260/1270950253599784971/1723088529837.png");

new
bool: hasPermission;

DCC_HasGuildMemberRole( discordGuild, user, discordRoleModeradorG, hasPermission );

if ( hasPermission )
{
if(IsPlayerConnected(to_player))
{
new DCC_Embed:apalah3 = DCC_CreateEmbed();
DCC_SetEmbedTitle(apalah3, ":blue_heart: Spain+ RolePlay");
DCC_SetEmbedDescription(apalah3, "USO: $ban [ID] [Razon] :x:");
DCC_SetEmbedColor(apalah3, 0xff0000);
DCC_SetEmbedFooter(apalah3, "@Spain + Roleplay", "https://cdn.discordapp.com/attachments/1051911430934364260/1270950253599784971/1723088529837.png");
DCC_SetEmbedThumbnail(apalah3, "https://cdn.discordapp.com/attachments/1051911430934364260/1270950253599784971/1723088529837.png");
if(sscanf(params, "us[128]", to_player, reason)) return DCC_SendChannelEmbedMessage(channel,apalah3);
if(to_player == INVALID_PLAYER_ID || !IsPlayerConnected(to_player)) return DCC_SendChannelEmbedMessage(channel,apalah6);
GetPlayerName(to_player, name1, sizeof(name1));
new dialog[250];
format(string, sizeof(string), "[BAN DISCORD] {FF0000}%s [%d] {FFFFFF}| baneado por {39ff00}%s {FFFFFF}| {39ff00}Razon: {FFFFFF}%s |", name1, to_player, username, reason);
SendClientMessageToAll(0x9a8080ff,string);
format(dialog, sizeof dialog, "{FFFFFF}Has sido baneado por el bot {247A46}[Lan-Bot] {FFFFFF}razon:\n {828282}%s\n", reason);
ShowPlayerDialog(to_player, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{D50000}[BAN] {ffffff}  Aviso", dialog, "Entiendo", "");
KickEx(to_player, 750);
AddPlayerBan(PI[to_player][pi_ID], PI[to_player][pi_NAME], PI[to_player][pi_IP], PI[to_player][pi_ID], TYPE_BAN, reason);
format(SkinID, sizeof(SkinID), "https://assets.open.mp/assets/images/skins/%d.png", PI[to_player][pi_SKIN]);
format(msg2, sizeof(msg2), ":x: Usuario [ON] [%s] ha sido baneado con exito por el Administrador [%s].\n:video_game:Razon: %s :no_entry_sign:", name1, username, reason);
new DCC_Embed:apalah2 = DCC_CreateEmbed();
DCC_SetEmbedTitle(apalah2, ":blue_heart: Spain+ RolePlay");
DCC_SetEmbedDescription(apalah2, ":video_game: [Lan-Bot]");
DCC_AddEmbedField(apalah2, msg2, ":wrench: BAN", true);
DCC_SetEmbedColor(apalah2, 0x00ff00);
DCC_SetEmbedFooter(apalah2, "@Spain + Roleplay", "https://cdn.discordapp.com/attachments/1051911430934364260/1270950253599784971/1723088529837.png");
DCC_SetEmbedThumbnail(apalah2, SkinID);
DCC_SendChannelEmbedMessage(channel,apalah2);
new DCC_Message:koman;
koman = DCMD_GetCommandMessageId();
DCC_DeleteMessage(koman);
return 1;
}
else return DCC_SendChannelEmbedMessage(channel,apalah5);
}
else DCC_SendChannelEmbedMessage(channel,apalah9);
return 1;
}

DCMD:dban(user, channel, params[])
{
    new reason[128], to_account, SkinID[99];
    new playerid;
    new username[33], string3[400];
    
   	new DCC_Embed:apalah9 = DCC_CreateEmbed();
    DCC_SetEmbedTitle(apalah9, ":blue_heart: Spain + RolePlay");
    DCC_SetEmbedDescription(apalah9, "No tienes el rol requerido para usar este comando");
    DCC_SetEmbedColor(apalah9, 0x00ff00);
    DCC_SetEmbedFooter(apalah9, "@Spain+ RolePlay", "https://cdn.discordapp.com/attachments/1051911430934364260/1270950253599784971/1723088529837.png");
    DCC_SetEmbedThumbnail(apalah9, "https://cdn.discordapp.com/attachments/1051911430934364260/1270950253599784971/1723088529837.png");

	new
	bool: hasPermission;

	DCC_HasGuildMemberRole( discordGuild, user, discordRoleModeradorG, hasPermission );

	if ( hasPermission )
	{
	
    new DCC_Embed:apalah3 = DCC_CreateEmbed();
    DCC_SetEmbedTitle(apalah3, ":blue_heart: Spain+ RolePlay");
    DCC_SetEmbedDescription(apalah3, "USO: $dban [DB-ID] [Razon] :x:");
    DCC_SetEmbedColor(apalah3, 0xff0000);
    DCC_SetEmbedFooter(apalah3, "@Spain + Roleplay", "https://cdn.discordapp.com/attachments/1051911430934364260/1270950253599784971/1723088529837.png");
    DCC_SetEmbedThumbnail(apalah3, "https://cdn.discordapp.com/attachments/1051911430934364260/1270950253599784971/1723088529837.png");
	if(sscanf(params, "ds[128]", to_account, reason)) return DCC_SendChannelEmbedMessage(channel,apalah3);
	DCC_GetUserName(user, username, sizeof(username));

	inline OnInfoQueryLoad()
	{
		new rows;
		if(cache_get_row_count(rows))
		{
            new DCC_Embed:apalah5 = DCC_CreateEmbed();
            DCC_SetEmbedTitle(apalah5, ":blue_heart: Spain+ RolePlay");
            DCC_SetEmbedDescription(apalah5, ":x: [ERROR]: No se encontro la DB-ID. :x:");
            DCC_SetEmbedColor(apalah5, 0xff0000);
            DCC_SetEmbedFooter(apalah5, "@Spain + Roleplay", "https://cdn.discordapp.com/attachments/1051911430934364260/1270950253599784971/1723088529837.png");
            DCC_SetEmbedThumbnail(apalah5, "https://cdn.discordapp.com/attachments/1051911430934364260/1270950253599784971/1723088529837.png");
			if(rows)
			{
				new id, ip[16], name[24], connected, pid, admin_level, skin;
				new str[500];
				cache_get_value_name_int(0, "id", id);
				cache_get_value_name(0, "ip", ip);
				cache_get_value_name(0, "name", name);
				cache_get_value_name_int(0, "connected", connected);
				cache_get_value_name_int(0, "playerid", pid);
				cache_get_value_name_int(0, "admin_level", admin_level);
				cache_get_value_name_int(0, "skin", skin);

				if(PI[playerid][pi_ADMIN_LEVEL] >= admin_level)
				{
                    new DCC_Embed:apalah6 = DCC_CreateEmbed();
                    DCC_SetEmbedTitle(apalah6, ":blue_heart: Spain + RolePlay");
                    DCC_SetEmbedDescription(apalah6, ":x: [ERROR]: El jugador se encuentra conectado, utilice /ban [ID] [RAZON] :x:");
                    DCC_SetEmbedColor(apalah6, 0xff0000);
                    DCC_SetEmbedFooter(apalah6, "@Spain + Roleplay", "https://cdn.discordapp.com/attachments/1051911430934364260/1270950253599784971/1723088529837.png");
                    DCC_SetEmbedThumbnail(apalah6, "https://cdn.discordapp.com/attachments/1051911430934364260/1270950253599784971/1723088529837.png");
					if(connected) DCC_SendChannelEmbedMessage(channel,apalah6);
					else
					{
						inline OnCountQueryLoad()
						{
							new crows;
							if(cache_get_row_count(crows))
							{
								if(crows)
								{
									new expire_date[24];
									cache_get_value_name(0, "expire_date", expire_date);

									if(isnull(expire_date)) DCC_SendChannelMessage(channel,":x: [ERROR]: El jugador ya esta baneado (permanentemente). :x:");
									else DCC_SendChannelMessage(channel,":x: [ERROR]: El jugador ya esta baneado (temporalmente) :x:");
								}
								else
								{
									 AddPlayerBan(id, name, ip, PI[playerid][pi_ID], TYPE_BAN, reason);
								}
							}
						}
					    format(str, 500, "{9a8080}[BAN DISCORD] | {8fce00}[Lan-Bot] {FFFFFF}| ha sido baneado {FF0000}%s (offline, DB-ID: %d)", name, id);
                        SendClientMessageToAll(-1, str);
                        format(SkinID, sizeof(SkinID), "https://assets.open.mp/assets/images/skins/%d.png", skin);
                        format(string3, sizeof(string3), ":x: Usuario [OFF] [%s] ha sido baneado con exito por el Administrador [%s].:no_entry_sign:\n**:memo:Razon: %s**", name, username, reason);
                        new DCC_Embed:apalah2 = DCC_CreateEmbed();
                        DCC_SetEmbedTitle(apalah2, ":blue_heart: Spain+ RolePlay");
                        DCC_SetEmbedDescription(apalah2, ":video_game: [Lan-Bot]");
                        DCC_AddEmbedField(apalah2, string3, ":wrench: D-BAN", true);
                        DCC_SetEmbedColor(apalah2, 0x00ff00);
                        DCC_SetEmbedFooter(apalah2, "@Spain + Roleplay", "https://cdn.discordapp.com/attachments/1051911430934364260/1270950253599784971/1723088529837.png");
                        DCC_SetEmbedThumbnail(apalah2, SkinID);
                        DCC_SendChannelEmbedMessage(channel,apalah2);
						mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT * FROM bans WHERE name = '%e' OR ip = '%e';", name, ip);
						mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnCountQueryLoad);
					}
				}
				else DCC_SendChannelMessage(channel,":x: [ERROR]: El rango administrativo de este jugador es superior al tuyo. :x:");
			}
			else DCC_SendChannelEmbedMessage(channel,apalah5);
		}
	}

	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT id, ip, name, connected, playerid, admin_level, skin FROM player WHERE id = %d;", to_account);
	mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnInfoQueryLoad);
    new DCC_Message:koman;
    koman = DCMD_GetCommandMessageId();
    DCC_DeleteMessage(koman);
	return 1;
}
    else DCC_SendChannelEmbedMessage(channel,apalah9);
    return 1;
}

DCMD:sv(user, channel, params[])
{
 	new string[300];
 	//new total_player = GetPlayerPoolSize();
    format(string, sizeof string, ":bust_in_silhouette:**Jugadores: %d**\n:beginner:**Slots: %d**",CountPlayersOnConnected(), GetMaxPlayers());
    new DCC_Embed:apalah = DCC_CreateEmbed();
	//apalah = DCC_CreateEmbed(":blue_heart: Guayaquil RolePlay",":green_circle: **Estado: ON**","","",0x00ff00,"@Guayaquil Roleplay","","https://cdn.discordapp.com/attachments/1051911430934364260/1270950253599784971/1723088529837.png","");
	DCC_SetEmbedTitle(apalah, ":blue_heart: Spain Plus RolePlay");
	DCC_SetEmbedDescription(apalah, ":green_circle: **Estado: ON**");
	DCC_AddEmbedField(apalah, string, ":grin: **Entra y diviertete!**", true);
	DCC_SetEmbedColor(apalah, 0x00ff00);
    DCC_SetEmbedFooter(apalah, "@Spain + Roleplay", "https://cdn.discordapp.com/attachments/1051911430934364260/1270950253599784971/1723088529837.png");
    DCC_SetEmbedThumbnail(apalah, "https://cdn.discordapp.com/attachments/1051911430934364260/1270950253599784971/1723088529837.png");
	DCC_SendChannelEmbedMessage(channel,apalah);
 	new DCC_Message:koman;
	koman = DCMD_GetCommandMessageId();
	DCC_DeleteMessage(koman);
 	return 1;
}

DCMD:antrax(user, channel, params[])
{
	new strl[65];
    format(strl,sizeof(strl),"Alto dios sin corona, ||Culo||");
	DCC_SendChannelMessage(channel,strl);
    new DCC_Message:koman;
	koman = DCMD_GetCommandMessageId();
	DCC_DeleteMessage(koman);
	return 1;
}

DCMD:reinicio(user, channel, params[])
{
    new gname[MAX_PLAYER_NAME],string2[125];
    new to_player;
    GetPlayerName(to_player,gname,sizeof(gname));
    
	new
	bool: hasPermission;

	DCC_HasGuildMemberRole(discordGuild, user, discordRoleDueno, hasPermission);

	if ( hasPermission )
	{
    
    if(to_player == INVALID_PLAYER_ID)
	{
		format(string2, sizeof(string2), "Jugador no conectado");
        DCC_SendChannelMessage(channel, string2);

	}
	SendClientMessageToAll(-1,"{ff4a00} @Lan-Bot D-X {FFFFFF} El Servidor Se Reinicia en 1 Minuto usar /csave.");
    format(string2, sizeof(string2),":palm_tree: [Lan-Bot] El servidor entro en [RESET]  exitosamente ya volvemos :beginner:", gname);
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","","","",0x00ff00,"Spain+ RolePlay","","","");
    DCC_AddEmbedField(embed, ":beginner:  Reset:", string2, true);
    DCC_SendChannelEmbedMessage(channel,embed);
    new DCC_Message:koman;
    koman = DCMD_GetCommandMessageId();
    DCC_DeleteMessage(koman);
  	return 1;
  }
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :gear:","Upss, permisos insuficientes. :shield:","","",0x00ff00,"Spain+ RolePlay","","","");
    DCC_SendChannelEmbedMessage(channel, embed, "");
    return 1;
}

DCMD:avisorac(user, channel, params[])
{
    new gname[MAX_PLAYER_NAME],string2[125];
    new to_player;
    GetPlayerName(to_player,gname,sizeof(gname));
    
	new
	bool: hasPermission;

	DCC_HasGuildMemberRole(discordGuild, user, discordRoleDueno, hasPermission);

	if ( hasPermission )
	{
    
    if(to_player == INVALID_PLAYER_ID)
	{
		format(string2, sizeof(string2), "Jugador no conectado");
        DCC_SendChannelMessage(channel, string2);

	}
	SendClientMessageToAll(-1,"{ff4a00} @Lan-Bot L-X {FFFFFF} El Servidor Respawneara Los Autos De Trabajos Sin Usarse En 5 Minutos.");
    format(string2, sizeof(string2),":palm_tree: [Lan-Bot] El mensaje fue enviado [RESPAWN]  Exitosamente Respawn De Autos :beginner:", gname);
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","","","",0x00ff00,"Spain+ RolePlay","","","");
    DCC_AddEmbedField(embed, ":beginner:  Respawn:", string2, true);
    DCC_SendChannelEmbedMessage(channel,embed);
    new DCC_Message:koman;
    koman = DCMD_GetCommandMessageId();
    DCC_DeleteMessage(koman);
  	return 1;
  }
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :gear:","Upss, permisos insuficientes. :shield:","","",0x00ff00,"Spain+ RolePlay","","","");
    DCC_SendChannelEmbedMessage(channel, embed, "");
    return 1;
}

DCMD:apagar(user, channel, params[])
{
    new gname[MAX_PLAYER_NAME],string2[125];
    new to_player;
    GetPlayerName(to_player,gname,sizeof(gname));
    
	new
	bool: hasPermission;

	DCC_HasGuildMemberRole(discordGuild, user, discordRoleDueno, hasPermission);

	if ( hasPermission )
	{
    
    if(to_player == INVALID_PLAYER_ID)
	{
		format(string2, sizeof(string2), "Jugador no conectado");
        DCC_SendChannelMessage(channel, string2);

	}
	SendRconCommand("exit");
    format(string2, sizeof(string2),":palm_tree: [Lan-Bot] El servidor se apagó [OFF]  Exitosamente :beginner:", gname);
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","","","",0x00ff00,"Spain+ RolePlay","","","");
    DCC_AddEmbedField(embed, ":beginner:  OFF:", string2, true);
    DCC_SendChannelEmbedMessage(channel,embed);
    new DCC_Message:koman;
    koman = DCMD_GetCommandMessageId();
    DCC_DeleteMessage(koman);
  	return 1;
  }
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :gear:","Upss, permisos insuficientes. :shield:","","",0x00ff00,"Spain+ RolePlay","","","");
    DCC_SendChannelEmbedMessage(channel, embed, "");
    return 1;
}

DCMD:reiniciar(user, channel, params[])
{
    new gname[MAX_PLAYER_NAME],string2[125];
    new to_player;
    GetPlayerName(to_player,gname,sizeof(gname));
    
	new
	bool: hasPermission;

	DCC_HasGuildMemberRole(discordGuild, user, discordRoleDueno, hasPermission);

	if ( hasPermission )
	{
    
    if(to_player == INVALID_PLAYER_ID)
	{
		format(string2, sizeof(string2), "Jugador no conectado");
        DCC_SendChannelMessage(channel, string2);

	}
	mysql_tquery(srp_db, "UPDATE player SET connected = 0, playerid = 0;");
	SendRconCommand("gmx");
    format(string2, sizeof(string2),":palm_tree: [Lan-Bot] El servidor se Reinicio [OFF]  Exitosamente :beginner:", gname);
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","","","",0x00ff00,"Spain+ RolePlay","","","");
    DCC_AddEmbedField(embed, ":beginner:  Reinicio:", string2, true);
    DCC_SendChannelEmbedMessage(channel,embed);
    new DCC_Message:koman;
    koman = DCMD_GetCommandMessageId();
    DCC_DeleteMessage(koman);
  	return 1;
  }
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :gear:","Upss, permisos insuficientes. :shield:","","",0x00ff00,"Spain+ RolePlay","","","");
    DCC_SendChannelEmbedMessage(channel, embed, "");
    return 1;
}

DCMD:rac(user, channel, params[])
{
    new gname[MAX_PLAYER_NAME],string2[125];
    new to_player;
    GetPlayerName(to_player,gname,sizeof(gname));
    
	new
	bool: hasPermission;

	DCC_HasGuildMemberRole(discordGuild, user, discordRoleDueno, hasPermission);

	if ( hasPermission )
	{
    
    if(to_player == INVALID_PLAYER_ID)
	{
		format(string2, sizeof(string2), "Jugador no conectado");
        DCC_SendChannelMessage(channel, string2);

	}
	RespawnGlobalUnoccupiedVehicles();
	SendClientMessageToAll(-1,"{ff4a00} @Lan-Bot L-X {FFFFFF} Todos Los Autos De Trabajo Fueron Respawneados.");
    format(string2, sizeof(string2),":palm_tree: [Lan-Bot] El mensaje fue enviado [RESPAWN]  Exitosamente Respawn De Autos :beginner:", gname);
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","","","",0x00ff00,"Spain+ RolePlay","","","");
    DCC_AddEmbedField(embed, ":beginner:  Respawn:", string2, true);
    DCC_SendChannelEmbedMessage(channel,embed);
    new DCC_Message:koman;
    koman = DCMD_GetCommandMessageId();
    DCC_DeleteMessage(koman);
  	return 1;
  }
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :gear:","Upss, permisos insuficientes. :shield:","","",0x00ff00,"Spain+ RolePlay","","","");
    DCC_SendChannelEmbedMessage(channel, embed, "");
    return 1;
}

DCMD:aceptado(user, channel, params[])
{
    new gname[MAX_PLAYER_NAME],string2[200];
    new to_player;
    new username[33];
    DCC_GetUserName(user, username, sizeof(username));
    GetPlayerName(to_player,gname,sizeof(gname));
    
    new
    bool: hasPermission;

    DCC_HasGuildMemberRole(discordGuild, user, discordRoleModerador, hasPermission);

    if ( hasPermission )
    {
	    if(to_player == INVALID_PLAYER_ID)
		{
			format(string2, sizeof(string2), "Jugador no conectado");
	        DCC_SendChannelMessage(channel, string2);

		}
	    format(string2, sizeof(string2),":palm_tree: [Lan-Bot] Tu reporte fue revisado por [%s] el administrador [:open_file_folder:], Y fue aceptado, El usuario sera sancionado lo mas antes posible, Gracias por reportar", username);
	    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","","","",0x00ff00,"Spain+ RolePlay","","","");
	    DCC_AddEmbedField(embed, "Reportes", string2, true);
	    DCC_SendChannelEmbedMessage(channel,embed);
	    new DCC_Message:koman;
	    koman = DCMD_GetCommandMessageId();
	    DCC_DeleteMessage(koman);
  	}
  	else {
	    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :gear:","Upss, permisos insuficientes. :shield:","","",0x00ff00,"Spain+ RolePlay","","","");
	    DCC_SendChannelEmbedMessage(channel, embed, "");
	}
    return 1;
}

DCMD:revisar(user, channel, params[])
{
    new gname[MAX_PLAYER_NAME],string2[200];
    new to_player;
    new username[33];
    DCC_GetUserName(user, username, sizeof(username));
    GetPlayerName(to_player,gname,sizeof(gname));
    
    new bool: hasPermission;

	DCC_HasGuildMemberRole(discordGuild, user, discordRoleModerador, hasPermission);

    if ( hasPermission )
    {
	    if(to_player == INVALID_PLAYER_ID)
		{
			format(string2, sizeof(string2), "Jugador no conectado");
	        DCC_SendChannelMessage(channel, string2);

		}
	    format(string2, sizeof(string2),":palm_tree: [Lan-Bot] Tu reporte esta siendo revisado por el administrador [%s] [:open_file_folder:], Se paciente, Gracias por reportar [:bookmark_tabs:]", username);
	    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","","","",0x00ff00,"Spain+ RolePlay","","","");
	    DCC_AddEmbedField(embed, "Reportes", string2, true);
	    DCC_SendChannelEmbedMessage(channel,embed);
	    new DCC_Message:koman;
	    koman = DCMD_GetCommandMessageId();
	    DCC_DeleteMessage(koman);
  	}
  	else {
	    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :gear:","Upss, permisos insuficientes. :shield:","","",0x00ff00,"Spain+ RolePlay","","","");
	    DCC_SendChannelEmbedMessage(channel, embed, "");
	}
    return 1;
}

DCMD:rechazado(user, channel, params[])
{
    new gname[MAX_PLAYER_NAME],string2[200];
    new to_player;
    new username[33];
    DCC_GetUserName(user, username, sizeof(username));
    GetPlayerName(to_player,gname,sizeof(gname));
    
	new
	bool: hasPermission;

	DCC_HasGuildMemberRole(discordGuild, user, discordRoleModerador, hasPermission);

	if ( hasPermission )
	{
    
    if(to_player == INVALID_PLAYER_ID)
	{
		format(string2, sizeof(string2), "Jugador no conectado");
        DCC_SendChannelMessage(channel, string2);

	}
    format(string2, sizeof(string2),":palm_tree: [Lan-Bot] Tu reporte fue revisado por [%s] Por administrador [:open_file_folder:], Y fue rechazado, Gracias por reportar [:bookmark_tabs:]", username);
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","","","",0x00ff00,"Spain+ RolePlay","","","");
    DCC_AddEmbedField(embed, "Reportes", string2, true);
    DCC_SendChannelEmbedMessage(channel,embed);
    new DCC_Message:koman;
    koman = DCMD_GetCommandMessageId();
    DCC_DeleteMessage(koman);
  	return 1;
  }
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :gear:","Upss, permisos insuficientes. :shield:","","",0x00ff00,"Spain+ RolePlay","","","");
    DCC_SendChannelEmbedMessage(channel, embed, "");
    return 1;
}

DCMD:logo(user, channel, params[])
{
	new strl[150];
    format(strl,sizeof(strl),"https://cdn.discordapp.com/attachments/1051911430934364260/1270950253599784971/1723088529837.png");
	DCC_SendChannelMessage(channel,strl);
    new DCC_Message:koman;
	koman = DCMD_GetCommandMessageId();
	DCC_DeleteMessage(koman);
	return 1;
}

DCMD:pd(user, channel, params[])
{
	new strl[150];
    format(strl,sizeof(strl),"https://discord.gg/NUXd8Rtb3m");
	DCC_SendChannelMessage(channel,strl);
    new DCC_Message:koman;
	koman = DCMD_GetCommandMessageId();
	DCC_DeleteMessage(koman);
	return 1;
}

DCMD:admins(user, channel, params[])
{
    new strl[200];
    format(strl,sizeof(strl),"Comandos administrativos :bust_in_silhouette: $ls $lsdb $sf $dinero $qdinero $dargemas $setslin $setmedis $setcrack $setmari $ban ( No usar ) $jail $revivir $unjail $kick $id $getstats $yts $logo");
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay Administración :cyclone:","","","",0x00ff00,"Spain+ RolePlay","","","");
    DCC_AddEmbedField(embed, ":necktie: Administración", strl, true);
    DCC_SendChannelEmbedMessage(channel,embed);
    DCC_SendChannelMessage(channel,strl);
	return 1;
}

CMD:a(playerid, params[])
{
   if(isnull(params)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /a <texto>", 2);
   new str[250];
   switch(PI[playerid][pi_ADMIN_LEVEL])
	 {
			case 1: format(str, 145, "{5EFEA0} Admin Chat {FFFFFF}%s{f88888}[%s]: {FFFFFF}%s", PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], params);
			case 2: format(str, 145, "{5EFEA0} Admin Chat {FFFFFF}%s{f15151}[%s]: {FFFFFF}%s", PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], params);
			case 3: format(str, 145, "{5EFEA0} Admin Chat {FFFFFF}%s{f22222}[%s]: {FFFFFF}%s", PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], params);
			case 4: format(str, 145, "{5EFEA0} Admin Chat {FFFFFF}%s{ff0000}[%s]: {FFFFFF}%s", PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], params);
			case 5: format(str, 145, "{5EFEA0}[Admin Chat]{FFFFFF}%s{ff4a00}[%s]: {FFFFFF}%s", PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], params);
			case 6: format(str, 145, "{5EFEA0}[Admin Chat]{FFFFFF}%s{ff4a00}[%s]: {FFFFFF}%s", PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], params);
			case 7: format(str, 145, "{5EFEA0}[Admin Chat]{FFFFFF}%s{ff4a00}[%s]: {FFFFFF}%s", PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], params);
			case 8: format(str, 145, "{5EFEA0}[Admin Chat]{FFFFFF}%s{ff4a00}[%s]: {FFFFFF}%s", PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], params);
			case 9: format(str, 145, "{5EFEA0}[Admin Chat]{FFFFFF}%s{ff4a00}[%s]: {FFFFFF}%s", PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], params);
			case 10: format(str, 145, "{5EFEA0}[Admin Chat]{FFFFFF}%s{ff4a00}[%s]: {FFFFFF}%s", PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], params);

	}
   SendChatMessageToAdmins(playerid, str);
   chats= DCC_FindChannelById("1009703525326012486");
   new DCC_Embed:embed = DCC_CreateEmbed("Chat Admin Spain+ RolePlay","","","",0x00ff00,"Spain+ RolePlay","","https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png","");
   DCC_AddEmbedField(embed, "Chat", str, true);
   DCC_SendChannelEmbedMessage(chats,embed);
   
   return 1;
}

DCMD:ls(user, channel , params[])
{
    new player1;
    new playerid;
    new str[150];
    new to_player;
    new username[33];
    new SkinID[99];
    DCC_GetUserName(user, username, sizeof(username));
    new gname[MAX_PLAYER_NAME],string2[125];
    GetPlayerName(playerid,gname,sizeof(gname));

    new
	bool: hasPermission;

	DCC_HasGuildMemberRole(discordGuild, user, discordRoleModerador, hasPermission);

	if ( hasPermission )
	{

new DCC_Embed:embeds = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","Modo de uso $ls [ID]","","",0x00ff00,"Spain+ RolePlay","","","");
if(sscanf(params,"d", playerid)) return DCC_SendChannelEmbedMessage(channel,embeds);
if(IsPlayerConnected(playerid))
{
SetPlayerPosEx(playerid, 1555.400390,-1675.611694,16.195312, 0.0, 0, 0, true);
DCC_SendChannelMessage(channel, str);
format(string2, sizeof(string2), ":palm_tree: Usuario [ON] [%s], enviado con exito a Los Santos :bullettrain_front: Por el administrador [%s]", PI[to_player][pi_NAME], username);
new DCC_Embed:embed = DCC_CreateEmbed();
DCC_SetEmbedColour(embed, 0x00ff00);
DCC_SetEmbedTitle(embed, ":palm_tree: - Spain+ RolePlay +");
DCC_SetEmbedDescription(embed, string2);
DCC_SetEmbedFooter(embed, ""SERVER_NAME"");
format(SkinID, sizeof(SkinID), "https://assets.open.mp/assets/images/skins/%d.png", PI[to_player][pi_SKIN]);
DCC_SetEmbedThumbnail(embed, SkinID);
DCC_SendChannelEmbedMessage(channel, embed);
SendFormatNotification(player1, "Fuiste enviado a ls por ~r~administrador del discord.", 2);
new DCC_Message:koman;
koman = DCMD_GetCommandMessageId();
DCC_DeleteMessage(koman);
return 1;
}
else return DCC_SendChannelMessage(channel, "**No hay usuarios conectados**");
}
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :gear:","Upss, permisos insuficientes. :shield:","","",0x00ff00,"Spain+ RolePlay","","","");
    DCC_SendChannelEmbedMessage(channel, embed, "");
    return 1;
}

DCMD:anjdiakfkwkcjckaof(user, channel, params[])
{
  new pesan[526],namadc[33],pesan_a[526];
  if(sscanf(params, "s[526]", params[0])) return DCC_SendChannelMessage(channel,"USO: /anuncio [TEXTO]");
  DCC_GetUserName(user, namadc, sizeof(namadc));
  format(pesan,sizeof(pesan),"%s",params[0]);
  format(pesan_a,sizeof(pesan_a),"Anuncio de **%s**",namadc);
  new DCC_Embed:apalah;
  apalah = DCC_CreateEmbed("Spain+ RolePlay ¡Que pro!","","https://pa1.narvii.com/6912/43c110b843aaa4d84f33ed90f4947f74eaf3e3e9r1-256-256_hq.gif","",0xa80cf6FF,"Enviado desdé la cúpula administrativa.","https://c.tenor.com/bkuC7KDxqUcAAAAC/discord-nsfw.gif","https://tiermaker.com/images/templates/1236551590430441.png","");
  DCC_AddEmbedField(apalah, pesan_a, pesan, true);
  DCC_SendChannelEmbedMessage(channel,apalah);
  DCC_SendChannelMessage(channel,"@everyone");
  new DCC_Message:koman;
  koman = DCMD_GetCommandMessageId();
  DCC_DeleteMessage(koman);
  return 1;
}

#define MIN_SECONDS_BETWEEN_TALKS 100 // Deben pasar al menos 1 segundos para volver a hablar.
hook OnPlayerText(playerid, text[])
{
	if(PLAYER_TEMP[playerid][pt_KICKED]) return 0;

	if(GetSpam(text)) MensajeSpam(playerid,text);

	if(PLAYER_TEMP[playerid][pt_GAME_STATE] != GAME_STATE_NORMAL || PLAYER_TEMP[playerid][pt_SELECT_TEXTDRAW] || PI[playerid][pi_STATE] == ROLEPLAY_STATE_HOSPITAL /*|| IsPlayerInWorkTutorial(playerid)*/) { ShowPlayerMessage(playerid, "Ahora no puedes hablar.", 2); return 0; }

	new interval = GetTickDiff(GetTickCount(), PLAYER_TEMP[playerid][pt_ANTIFLOOD_TALK]);
	if (interval < MIN_SECONDS_BETWEEN_TALKS)
	{
		if (ac_Info[CHEAT_TEXT_SPAMMER][ac_Enabled])
		{
			if (gettime() > PLAYER_AC_INFO[playerid][CHEAT_TEXT_SPAMMER][p_ac_info_IMMUNITY])
			{
				if (interval < 50)
				{
					if (!ac_Info[CHEAT_TEXT_SPAMMER][ac_Interval]) OnPlayerCheatDetected(playerid, CHEAT_TEXT_SPAMMER, float(interval));
					else
					{
						if (gettime() - PLAYER_AC_INFO[playerid][CHEAT_TEXT_SPAMMER][p_ac_info_LAST_DETECTION] > ac_Info[CHEAT_TEXT_SPAMMER][ac_Interval]) PLAYER_AC_INFO[playerid][CHEAT_TEXT_SPAMMER][p_ac_info_DETECTIONS] = 0;
						else PLAYER_AC_INFO[playerid][CHEAT_TEXT_SPAMMER][p_ac_info_DETECTIONS] ++;
						
						PLAYER_AC_INFO[playerid][CHEAT_TEXT_SPAMMER][p_ac_info_LAST_DETECTION] = gettime();
						if (PLAYER_AC_INFO[playerid][CHEAT_TEXT_SPAMMER][p_ac_info_DETECTIONS] >= ac_Info[CHEAT_TEXT_SPAMMER][ac_Detections]) OnPlayerCheatDetected(playerid, CHEAT_TEXT_SPAMMER, float(interval));
					}
				}
			}
		}
		ShowPlayerMessage(playerid, "Calmate."); 
		return 0; 
	}
	PLAYER_TEMP[playerid][pt_ANTIFLOOD_TALK] = GetTickCount();

	PLAYER_TEMP[playerid][pt_ANTIFLOOD_TALK] = GetTickCount();

	if(PLAYER_TEMP[playerid][pt_POLICE_CALL_NAME])
	{
		format(PLAYER_TEMP[playerid][pt_POLICE_CALL_NAME_STR], 24, "%s", text);
		ShowPlayerMessage(playerid, "Operadora: de acuerdo, describe brevemente lo que sucede para enviar una patrulla.", 2);
		PLAYER_TEMP[playerid][pt_POLICE_CALL_NAME] = false;
		PLAYER_TEMP[playerid][pt_POLICE_CALL_DESCRIPTION] = true;
		return 0;
	}
	if(PLAYER_TEMP[playerid][pt_POLICE_CALL_DESCRIPTION])
	{
		PLAYER_TEMP[playerid][pt_PLAYER_IN_CALL] = false;
		PLAYER_TEMP[playerid][pt_POLICE_CALL_NAME] = false;
		PLAYER_TEMP[playerid][pt_POLICE_CALL_DESCRIPTION] = false;


		new city[45], zone[45];
		GetPlayerZones(playerid, city, zone);

		new message[145];
		format(message, sizeof message, ""BLUE_COLOR"[Central policía] "WHITE"Reporte [%s (%d), gps: {1dff67}%s, %s]: "WHITE"%s", PLAYER_TEMP[playerid][pt_POLICE_CALL_NAME_STR], playerid, city, zone, text);
		SendPoliceRadioMessage(-1, -1, message);

		ShowPlayerMessage(playerid, "Operadora: su petición fue enviada, en breve una patrulla acudirá.", 2);
		ShowPlayerMessage(playerid, ""WHITE"Llamada finalizada.", 2);
		return 0;
	}

	new str2_text[190];
	if(text[0] == '&')
	{
		if(PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET] && PLAYER_TEMP[playerid][pt_WORKING_IN] == WORK_POLICE)
		{
			if(text[1] == '&') format(str2_text, sizeof str2_text, "{FF7373}[DISPATCH - OOC]{ffffff}(%s: %s)", PLAYER_TEMP[playerid][pt_RP_NAME], text[2]);
			else format(str2_text, sizeof str2_text, "{FF7373}** [DISPATCH - ALL] %s %s: %s ",POLICE_RANKS[ PLAYER_WORKS[playerid][WORK_POLICE][pwork_LEVEL] ], PLAYER_TEMP[playerid][pt_RP_NAME], text[1]);
			SendPoliceRadioMessage(PLAYER_TEMP[playerid][pt_POLICE_RADIO], 0x0087ffFF, str2_text);
            Auto_SendPlayerAction(playerid, "habla por la radio.");
		}
		return 0;
		}

	new str_text[190];
	new CrewColorChat = getPlayerCrewColor(playerid);
	if(text[0] == '!')
	{
		if(PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET] && PLAYER_TEMP[playerid][pt_WORKING_IN] == WORK_POLICE)
		{
			if(text[1] == '!') format(str_text, sizeof str_text, "{FCBC2D}[DISPATCH - OOC] {ffffff}(%s: %s) ", PLAYER_TEMP[playerid][pt_RP_NAME], text[2]);
			else format(str_text, sizeof str_text, "{FCBC2D}[DISPATCH - 01] %s %s: %s", POLICE_RANKS[ PLAYER_WORKS[playerid][WORK_POLICE][pwork_LEVEL] ], PLAYER_TEMP[playerid][pt_RP_NAME], text[1]);


			SendPoliceRadioMessage(PLAYER_TEMP[playerid][pt_POLICE_RADIO], 0xFCBC2DFF, str_text);
			Auto_SendPlayerAction(playerid, "habla por la radio.");
			return 0;
		}


		if(PLAYER_WORKS[playerid][WORK_TAXI][pwork_SET] && PLAYER_TEMP[playerid][pt_WORKING_IN] == WORK_TAXI)
		{
			if(text[1] == '!') format(str_text, sizeof str_text, "[Radio] (( %s: %s ))", PLAYER_TEMP[playerid][pt_RP_NAME], text[2]);
			else format(str_text, sizeof str_text, "{e7b222}[Central Empleo] {FFFFFF}%s: %s", PLAYER_TEMP[playerid][pt_RP_NAME], text[1]);
			SendTaxiRadioMessage(PLAYER_TEMP[playerid][pt_TAXI_RADIO], 0xe7b222FF, str_text);
			Auto_SendPlayerAction(playerid, "habla por la radio.");
			return 0;
		}

		if(PLAYER_WORKS[playerid][WORK_MECHANIC][pwork_SET] && PLAYER_TEMP[playerid][pt_WORKING_IN] == WORK_MECHANIC)
		{
			if(text[1] == '!') format(str_text, sizeof str_text, "** [Radio] (( %s: %s ))", PLAYER_TEMP[playerid][pt_RP_NAME], text[2]);
			else format(str_text, sizeof str_text, "{e7aa66}** [Central Empleo] {FFFFFF}%s: %s", PLAYER_TEMP[playerid][pt_RP_NAME], text[1]);

			SendMecaRadioMessage(PLAYER_TEMP[playerid][pt_MECHANIC_RADIO], 0xe7aa66FF, str_text);
			Auto_SendPlayerAction(playerid, "habla por la radio.");
			return 0;
		}


		if(PLAYER_WORKS[playerid][WORK_MEDIC][pwork_SET] && PLAYER_TEMP[playerid][pt_WORKING_IN] == WORK_MEDIC)
		{
			if(text[1] == '!') format(str_text, sizeof str_text, "** [Radio] (( %s: %s ))", PLAYER_TEMP[playerid][pt_RP_NAME], text[2]);
			else format(str_text, sizeof str_text, "{df6868}** [Central Empleo] {FFFFFF}%s: %s",  PLAYER_TEMP[playerid][pt_RP_NAME], text[1]);


			SendMediRadioMessage(PLAYER_TEMP[playerid][pt_MEDIC_RADIO], 0xdf6868FF, str_text);
			Auto_SendPlayerAction(playerid, "habla por la radio.");
			return 0;
		}

		if(PI[playerid][pi_CREW])
		{
			if(text[1] == '!') format(str_text, sizeof str_text, "[RADIO] {FFFFFF}(( %s: %s ))", PLAYER_TEMP[playerid][pt_RP_NAME], text[2]);
			else format(str_text, sizeof str_text, "[RADIO] {FFFFFF}%s %s: %s", PLAYER_TEMP[playerid][pt_RP_NAME], CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_NAME], text[1]);
			bd= DCC_FindChannelById("1440967577298931733");
	        new DCC_Embed:embed = DCC_CreateEmbed("Chat Bandas","","","",0x00ff00,"Spain+ RolePlay","","https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png","");
            DCC_AddEmbedField(embed, "Dice:", str_text, true);
		    DCC_SendChannelEmbedMessage(bd,embed);

			SendMessageToCrewMembers(PI[playerid][pi_CREW], CrewColorChat, str_text);
			Auto_SendPlayerAction(playerid, "habla por la radio.");
			return 0;
		}
	}

	if(PLAYER_TEMP[playerid][pt_PLAYER_PHONE_CALL_STATE] == CALL_STATE_ESTABLISHED)
	{
		format(str_text, 145, "%s dice (por teléfono): %s", PLAYER_TEMP[playerid][pt_RP_NAME], text);
		SendClientMessageEx(PLAYER_TEMP[playerid][pt_PLAYER_PHONE_CALL_PLAYERID], -1, "Teléfono: %s: %s", convertPhoneNumber(PLAYER_TEMP[playerid][pt_PLAYER_PHONE_CALL_PLAYERID], PI[playerid][pi_PHONE_NUMBER]), text);
	}
	else
	{
		new SkinID[99];
	    if(GetPlayerDrunkLevel(playerid) > 2000) format(str_text, 145, "%s dice (ebrio): %s", PLAYER_TEMP[playerid][pt_RP_NAME], text);
		if(haveMask[playerid]) format(str_text, 145, "Desconocido (%d) dice: %s", playerid, text);
		else if(Acento[playerid] != INVALID_ACENTO_ID) format(str_text, 145, "%s (%s) dice: %s", PLAYER_TEMP[playerid][pt_RP_NAME], Acentos[Acento[playerid]], text);
		else format(str_text, 145, "%s dice: %s", PLAYER_TEMP[playerid][pt_RP_NAME], text);
		ChatBubbleAjustable(playerid, text, -1, 10.0, 10000);
		ch= DCC_FindChannelById("1440967577298931733");
	    new DCC_Embed:embed = DCC_CreateEmbed();
        DCC_SetEmbedColour(embed, 0x00ff00);
        DCC_SetEmbedTitle(embed, ":palm_tree: - Spain+ RolePlay +");
        DCC_SetEmbedDescription(embed, str_text);
        DCC_SetEmbedFooter(embed, ""SERVER_NAME"");
        format(SkinID, sizeof(SkinID), "https://assets.open.mp/assets/images/skins/%d.png", PI[playerid][pi_SKIN]);
        DCC_SetEmbedThumbnail(embed, SkinID);
        DCC_SendChannelEmbedMessage(ch, embed);
	}
	// El primer color (-1) es Blanco Puro
    ProxDetector(playerid, 15.0, str_text, -1, 0xCCCCCCFF, 0xAAAAAAAA, 0x888888FF, 0x666666FF, 85);
	VerifyMask(playerid);

	return 0;
}

CMD:examen(playerid, params[])
{
	if(PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] != -1)
	{
		if(ENTER_EXIT[ PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] ][ee_INTERIOR_TYPE] == INTERIOR_DRIVING_SCHOOL)
		{
			if(IsPlayerInRangeOfPoint(playerid, 1.5, 1063.718994, -343.093566, 2797.699951))
			{
				if(PLAYER_TEMP[playerid][pt_DL_EXAM]) ShowPlayerMessage(playerid, "Ya estás en el examen, sal afuera y toma un vehiculo para empezar con el examen.", 2);
				else
				{
					if(PI[playerid][pi_DRIVE_LICENSE_POINTS] > 6) ShowPlayerMessage(playerid, "Tienes más de 6 puntos del carnet, no te hace falta hacer el examen.", 2);
					else
					{
						if(GivePlayerCash(playerid, -500, false, true)) {
							PLAYER_TEMP[playerid][pt_DL_EXAM] = true;
							PLAYER_TEMP[playerid][pt_DL_EXAM_PROCCESS] = 0;
							ShowPlayerMessage(playerid, "Para comenzar con el examen súbete a un vehiculo de la autoescuela, están en el aparcamiento.", 2);
						}
						else ShowPlayerMessage(playerid, "No tienes suficiente dinero.", 2);
					}
				}
				return 1;
			}
		}
	}

	ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);
	return 1;
}

#define MIN_TIME_BETWEEN_DOUBT	30
#define MIN_TIME_BETWEEN_TWITTER	15
#define IP_SPAM_MUTE_TIME		5 //minutos

CMD:duda(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL) return SendNotification(playerid, "Error:~r~ estas en la cárcel");
	if(!PI[playerid][pi_DOUBT_CHANNEL]) return SendNotification(playerid, "Para enviar una duda primero debes activar el canal de dudas con ~g~/dudas");
	if(isnull(params)) return SendNotification(playerid, "~r~Modo de uso: ~w~/duda [DUDA]");
	if(PI[playerid][pi_MUTE] > gettime())
	{
		new seconds = PI[playerid][pi_MUTE] - gettime();
		SendFormatNotification(playerid, "Estás silenciado en el canal de dudas por %s minutos.", TimeConvert(seconds));
		return 1;
	}
	if(!PI[playerid][pi_ADMIN_LEVEL])
	{
		if(gettime() < PLAYER_TEMP[playerid][pt_DOUBT_CHANNEL_TIME] + MIN_TIME_BETWEEN_DOUBT)
		{
			new time = (MIN_TIME_BETWEEN_DOUBT-(gettime()-PLAYER_TEMP[playerid][pt_DOUBT_CHANNEL_TIME]));
			SendFormatNotification(playerid, "Tienes que esperar %s minutos para volver a realizar otra consulta.", TimeConvert(time));
			return 1;
		}
	}
	
	SendMessageToDoubtChannel(playerid, params, 100);
	return 1;
}

CMD:te(playerid, params[])
{
	if(PI[playerid][pi_TWITTER_CHANNEL])
	{
		PI[playerid][pi_TWITTER_CHANNEL] = false;
		ShowPlayerMessage(playerid, "Canal Twitter ~r~deshabilitado~w~.", 2);
	}
	else
	{
		PI[playerid][pi_TWITTER_CHANNEL] = true;
		ShowPlayerMessage(playerid, "Canal Twitter ~r~habilitado~w~.", 2);
	}
	return 1;
}

CMD:dudas(playerid, params[])
{
	if(PI[playerid][pi_DOUBT_CHANNEL])
	{
		PI[playerid][pi_DOUBT_CHANNEL] = false;
		ShowPlayerMessage(playerid, "Canal de dudas ~r~deshabilitado~w~.", 2);
	}
	else
	{
		PI[playerid][pi_DOUBT_CHANNEL] = true;
		ShowPlayerMessage(playerid, "Canal de dudas ~r~habilitado~w~.", 2);
	}
	return 1;
}

CMD:g(playerid, params[])
{
	if(isnull(params)) return ShowPlayerMessage(playerid, "~r~Modo de uso: ~w~/gritar [TEXTO]", 2);

	new str_text[190];
	format(str_text, 190, "%s grita: ¡%s!", PLAYER_TEMP[playerid][pt_RP_NAME], params);
	ProxDetector(playerid, 25.0, str_text, COLOR_FADE1, COLOR_FADE2, COLOR_FADE3, COLOR_FADE4, COLOR_FADE5, 85);
	return 1;
}
alias:g("gritar");

CMD:s(playerid, params[])
{
	if(isnull(params)) return ShowPlayerMessage(playerid, "~r~Modo de uso: ~w~/susurrar [TEXTO]", 2);

	new str_text[190];
	format(str_text, sizeof(str_text), "%s susurra: %s", PLAYER_TEMP[playerid][pt_RP_NAME], params);
	ProxDetector(playerid, 5.0, str_text, COLOR_FADE1, COLOR_FADE2, COLOR_FADE3, COLOR_FADE4, COLOR_FADE5, 85);
	return 1;
}
alias:s("susurrar");

CMD:decir(playerid, params[])
{
	if(isnull(params)) return ShowPlayerMessage(playerid, "~r~Modo de uso: ~w~/decir [TEXTO]", 2);

    new str_text[190];

	format(str_text, 145, "%s dice: %s", PLAYER_TEMP[playerid][pt_RP_NAME], params);
	ProxDetector(playerid, 15.0, str_text, COLOR_FADE1, COLOR_FADE2, COLOR_FADE3, COLOR_FADE4, COLOR_FADE5, 85);
	return 1;
}


CMD:b(playerid, params[])
{
	if(isnull(params)) return ShowPlayerMessage(playerid, "~r~Modo de uso: ~w~/b [TEXTO]", 2);
    new str_text[265];
    
   	format(str_text, sizeof(str_text), "{ffffff}[{cc0000}%d{ffffff}] | %s: (( %s ))", playerid, PLAYER_TEMP[playerid][pt_RP_NAME], params);
	ProxDetector(playerid, 15.0, str_text, COLOR_FADE1, COLOR_FADE2, COLOR_FADE3, COLOR_FADE4, COLOR_FADE5, 85);
	return 1;
}

CMD:do(playerid, params[])
{
	if(isnull(params)) return ShowPlayerMessage(playerid, "~r~Modo de uso: ~w~/do [TEXTO]", 2);
    new str_text[190];
    if(!haveMask[playerid])format(str_text, sizeof(str_text), "* %s (( %s ))", PLAYER_TEMP[playerid][pt_RP_NAME], params);
	else format(str_text, sizeof(str_text), "* Desconocido (%d) (( %s ))", playerid, params);
	ProxDetector(playerid, 15.0, str_text, 0xADFF2FAA, 0xADFF2FAA, 0xADFF2FAA, 0xADFF2FAA, 0xADFF2FAA, 85);
	ChatBubbleAjustable(playerid, str_text, 0xADFF2FAA, 15.0, 15000);
	PLAYER_TEMP[playerid][pt_DO] = 1;
	PLAYER_TEMP[playerid][pt_ROL] = 1;
	return 1;
}

CMD:me(playerid, params[])
{
	if(isnull(params)) return ShowPlayerMessage(playerid, "~r~Modo de uso: ~w~/me [TEXTO]", 2);
	PLAYER_TEMP[playerid][pt_DO] = 1;
	PLAYER_TEMP[playerid][pt_ROL] = 1;
	SendPlayerAction(playerid, params);
	ChatBubbleAjustable(playerid, params, 0xADFF2FAA, 10.0, 15000);
	return 1;
}
alias:me("y");


CMD:experiencia(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return ShowPlayerMessage(playerid, "Ahora no puedes usar este comando.", 2);
	ShowPlayerSkills(playerid, playerid);
	return 1;
}
alias:experiencia("exp", "skills");

CMD:quitgps(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return ShowPlayerMessage(playerid, "Ahora no puedes usar este comando.", 2);
	//CancelTracing(playerid);
	return 1;
}

CMD:est(playerid, params[])
{
	ShowPlayerStats(playerid, playerid);
	return 1;
}
alias:est("estadisticas", "cuenta");

CMD:inv(playerid, params[])
{
	Auto_SendPlayerAction(playerid, "mira el interior de sus bolsillos");
	ShowPlayerInventory(playerid, playerid);
	return 1;
}
alias:inv("inventario", "i");

CMD:web(playerid, params[])
{
	SendClientMessage(playerid, -1, "Web: "WHITE""SERVER_WEBSITE"");
	return 1;
}

CMD:csave(playerid, params[])
{
	if(gettime() < PLAYER_TEMP[playerid][pt_SAVE_ACCOUNT_TIME] + 30)
	{
		new time = (30-(gettime()-PLAYER_TEMP[playerid][pt_SAVE_ACCOUNT_TIME]));
		SendFormatNotification(playerid, "Tienes que esperar %s minutos para volver a guardar tus datos.", TimeConvert(time));
		return 1;
	}

	SavePlayerData(playerid);
	SavePlayerVehicles(playerid, false);
	SavePlayerToys(playerid);
	SavePlayerWeaponsData(playerid);
	SavePlayerWorkLevels(playerid);
	PLAYER_TEMP[playerid][pt_SAVE_ACCOUNT_TIME] = gettime();

	ShowPlayerMessage(playerid, "~g~~h~Datos de la cuenta guardados.", 2);
	return 1;
}

CMD:saveall(playerid,params[])
{
	for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
	{
		if(IsPlayerConnected(i))
		{
			SavePlayerData(i);
			SavePlayerVehicles(i, false);
			SavePlayerToys(i);
			SavePlayerWeaponsData(i);
			SavePlayerWorkLevels(i);
			ShowPlayerMessage(i,"Datos de tu cuenta actualizados y guardados");
		}
	}
	return 1;
}

CMD:ayuda(playerid, params[])
{
	ShowDialog(playerid, DIALOG_HELP);
	return 1;
}

CMD:xxdaxx(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return ShowPlayerMessage(playerid, "Ahora no puedes usar este comando.", 2);
	ShowDialog(playerid, DIALOG_PLAYER_TOYS);
	return 1;
}

CMD:armas(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return ShowPlayerMessage(playerid, "Ahora no puedes usar este comando.", 2);
	//ShowDialog(playerid, DIALOG_PLAYER_WEAPONS);
	return 1;
}

CMD:ropa(playerid, params[])
{
	if(PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] == -1) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);
	if(ENTER_EXIT[ PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] ][ee_INTERIOR_TYPE] == INTERIOR_NO_INFO) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);
	
	PLAYER_TEMP[playerid][pt_CLOTHING_SHOP] = GetClothingShopIndexByIntType(ENTER_EXIT[ PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] ][ee_INTERIOR_TYPE]);
	if(PLAYER_TEMP[playerid][pt_CLOTHING_SHOP] == -1) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);

	if(!IsPlayerInRangeOfPoint(playerid, 1.0, Clothing_Shop_Positions[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP]][clothing_shop_X], Clothing_Shop_Positions[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP]][clothing_shop_Y], Clothing_Shop_Positions[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP]][clothing_shop_Z])) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);
	
	PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] = 0;
	SetPlayerPosEx(playerid, 257.251373, -40.797775, 1002.023437, 135.0, 14, playerid + MAX_PLAYERS, false); // World = Playerid + Max_players
	TogglePlayerControllableEx(playerid, false);
	
	SetPlayerCameraPos(playerid, 254.988632, -43.060516, 1002.9131);
	SetPlayerCameraLookAt(playerid, 257.251373, -40.797775, 1002.023437);
	
	UpdateClothingShop(playerid);
	ShowClothingShopTextdraws(playerid);
	
	ShowPlayerMessage(playerid, "Pulsa ~b~~h~'ESCAPE' ~w~para dejar de probarte ropa.", 2);
	SelectTextDrawEx(playerid, 0xe8d08fFF);
	return 1;
}

CMD:toys(playerid, params[])
{
	if(PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] == -1) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);
	if(ENTER_EXIT[ PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] ][ee_INTERIOR_TYPE] == INTERIOR_NO_INFO) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);
	
	new shop = GetClothingShopIndexByIntType(ENTER_EXIT[ PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] ][ee_INTERIOR_TYPE]);
	if(shop == -1) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);

	if(!IsPlayerInRangeOfPoint(playerid, 1.0, Clothing_Shop_Positions[shop][clothing_shop_X], Clothing_Shop_Positions[shop][clothing_shop_Y], Clothing_Shop_Positions[shop][clothing_shop_Z])) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);
	
	PLAYER_TEMP[playerid][pt_TOYS_SHOP] = true;
	
	SetPlayerVirtualWorld(playerid, playerid + MAX_PLAYERS);
	TogglePlayerControllableEx(playerid, false);
	
	UpdateToysShop(playerid);
	ShowToysShopTextdraws(playerid);
	
	ShowPlayerMessage(playerid, "Pulsa ~b~~h~'ESCAPE' ~w~para salir del menú.", 2);
	SelectTextDrawEx(playerid, 0xe8d08fFF);
	return 1;
}

CMD:pedir(playerid, params[])
{
	new index = GetPlayerFastFoodIndex(playerid);
	if(index == -10) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);

	switch(Fast_Food_Positions[index][fast_food_INTERIOR_TYPE])
	{
		case INTERIOR_BURGER_SHOT: ShowDialog(playerid, DIALOG_FOOD_BURGER);
		case INTERIOR_PIZZA: ShowDialog(playerid, DIALOG_FOOD_PIZZA);
		case INTERIOR_CLUCKIN_BELL: ShowDialog(playerid, DIALOG_FOOD_CLUCKIN);
		case -1: ShowDialog(playerid, DIALOG_FOOD_BURGER);
	}
	return 1;
}

CMD:productos(playerid, params[])
{
	if(PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] == -1) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);
	if(ENTER_EXIT[ PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] ][ee_INTERIOR_TYPE] != INTERIOR_247) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);

	if(!IsPlayerInRangeOfPoint(playerid, 1.0, -27.964675, -89.948631, 1003.546875)) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);

	ShowDialog(playerid, DIALOG_247_LIST);
	return 1;
}

CMD:gps(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return ShowPlayerMessage(playerid, "Ahora no puedes usar este comando.", 2);
	if(!PI[playerid][pi_GPS])
	{
		ShowPlayerMessage(playerid, "No tienes ningún GPS, puedes ir a cualquier 24/7 para comprar uno.", 2);
		return 1;
	}

	Auto_SendPlayerAction(playerid, "mira su GPS.");
	ShowDialog(playerid, DIALOG_PLAYER_GPS);
	return 1;
}

CMD:casco(playerid, params[])
{
    if(!IsPlayerInAnyVehicle(playerid)) return SendFormatNotification(playerid, "No estás en una moto.");
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return ShowPlayerMessage(playerid, "Ahora no puedes usar este comando.", 2);
    RemovePlayerAttachedObject(playerid, 8);
    SetPlayerAttachedObject(playerid, 8, 18645,2,0.068999,0.008000,0.000000,90.599990,81.399986,-0.900000,1.053000,1.025000,1.039999); //casco
	Auto_SendPlayerAction(playerid, "se coloca su casco de seguridad.");
    return 1;
}

CMD:quitarcasco(playerid, params[])
{
    RemovePlayerAttachedObject(playerid, 8);
	Auto_SendPlayerAction(playerid, "se quita su casco de seguridad.");
    return 1;
}

CMD:tiempo(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL)
	{
		new time = PI[playerid][pi_POLICE_JAIL_TIME] - (gettime() - PLAYER_TEMP[playerid][pt_ENTER_JAIL_TIME]);
		if(time <= 0)
		{
			UnjailPlayer(playerid);
			return 1;
		}
		SendFormatNotification(playerid, "Te quedan %s minutos de condena.", TimeConvert(time));
	}
	else ShowPlayerMessage(playerid, "No estás en la cárcel.", 2);
	return 1;
}

CMD:mapa(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return ShowPlayerMessage(playerid, "Ahora no puedes usar este comando.", 2);
	if(!PI[playerid][pi_GPS])
	{
		ShowPlayerMessage(playerid, "No tienes ningún GPS, puedes ir a cualquier 24/7 para comprar uno.", 2);
		return 1;
	}

	if(PLAYER_TEMP[playerid][pt_GPS_MAP]) HidePlayerGpsMap(playerid);
	else ShowPlayerGpsMap(playerid);
	return 1;
}

CMD:stop(playerid, params[])
{
	StopAudioStreamForPlayer(playerid);
	return 1;
}

CMD:pass(playerid, params[])
{
	ShowDialog(playerid, DIALOG_CHANGE_PASSWORD);
	return 1;
}
alias:pass("contra", "cpass");

CMD:gcp(playerid, params[])
{
	if(IsValidDynamicCP(PLAYER_TEMP[playerid][pt_GPS_CHECKPOINT]))
	{
		DestroyDynamicCP(PLAYER_TEMP[playerid][pt_GPS_CHECKPOINT]);
		PLAYER_TEMP[playerid][pt_GPS_CHECKPOINT] = INVALID_STREAMER_ID;

		ShowPlayerMessage(playerid, "Has cancelado la ruta antigua de tu GPS.", 2);
	}
	else ShowPlayerMessage(playerid, "No tienes ningún punto marcado en tu GPS.", 2);
	return 1;
}

//Aqui xd
CMD:guia(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return ShowPlayerMessage(playerid, "Ahora no puedes usar este comando.", 2);
	if(!PI[playerid][pi_PHONE_RESOLVER])
	{
		ShowPlayerMessage(playerid, "No tienes una guía telefónica, puedes ir a cualquier 24/7 para comprar una.", 2);
		return 1;
	}

	if(sscanf(params, "u", params[0])) return ShowPlayerMessage(playerid, "~r~Modo de uso: ~w~/guia [PlayerID/Nombre]", 2);
	if(!IsPlayerConnected(params[0])) return ShowPlayerMessage(playerid, "Jugador desconectado.", 2);

	if(!PI[params[0]][pi_PHONE_NUMBER]) return ShowPlayerMessage(playerid, "Este jugador no tiene teléfono.", 2);
	if(!PI[params[0]][pi_PHONE_VISIBLE_NUMBER]) return ShowPlayerMessage(playerid, "Este jugador ha decidido no mostrar su número en la guía.", 2);

	SendFormatNotification(playerid, "Persona encontrada:~n~~n~~b~Nombre: ~w~%s~n~~b~Teléfono: ~w~%d.", PLAYER_TEMP[params[0]][pt_RP_NAME], PI[params[0]][pi_PHONE_NUMBER]);
	return 1;
}

CMD:sguia(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return ShowPlayerMessage(playerid, "Ahora no puedes usar este comando.", 2);
	if(!PI[playerid][pi_PHONE_NUMBER])
	{
		ShowPlayerMessage(playerid, "No tienes ningún teléfono, puedes ir a cualquier 24/7 para comprar uno.", 2);
		return 1;
	}

	if(PI[playerid][pi_PHONE_VISIBLE_NUMBER])
	{
		PI[playerid][pi_PHONE_VISIBLE_NUMBER] = false;
		ShowPlayerMessage(playerid, "Tu número no aparecerá ahora en la guía telefónica.", 2);
	}
	else
	{
		PI[playerid][pi_PHONE_VISIBLE_NUMBER] = true;
		ShowPlayerMessage(playerid, "Tu número aparecerá en la guía telefónica.", 2);
	}
	return 1;
}

CMD:sms(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return ShowPlayerMessage(playerid, "Ahora no puedes usar este comando.", 2);
	if(!PI[playerid][pi_PHONE_NUMBER])
	{
		ShowPlayerMessage(playerid, "No tienes ningún teléfono, puedes ir a cualquier 24/7 para comprar uno.", 2);
		return 1;
	}
	if(PI[playerid][pi_PHONE_STATE] == PHONE_STATE_OFF) return SendFormatNotification(playerid, "Tu teléfono está apagado, para encenderlo usa /movil.", 2);
	if(PLAYER_TEMP[playerid][pt_PLAYER_IN_CALL]) return SendFormatNotification(playerid, "Estás en una llamada.", 2);

	new params_message[64], params_number, params_contact[24];
	if(!sscanf(params, "ds[64]", params_number, params_message))
	{
		if(params_number <= 0) ShowPlayerMessage(playerid, "El número destino no es válido.", 2);
		else
		{
			inline OnPhoneChecked()
			{
				new rows;
				if(cache_get_row_count(rows))
				{
					if(rows)
					{
						new id, connected, pid;
						cache_get_value_name_int(0, "id", id);
						cache_get_value_name_int(0, "connected", connected);
						cache_get_value_name_int(0, "playerid", pid);

						if(connected) RegisterPhoneMessage(PI[playerid][pi_ID], id, params_message, 0);
						else RegisterPhoneMessage(PI[playerid][pi_ID], id, params_message, 1);
						if(connected)
						{
							if(PI[pid][pi_PHONE_STATE] == PHONE_STATE_ON)
							{
								SendClientMessageEx(pid, -1, "{f6b900}[Correo electrónico] "YELLOW"Remitente: "WHITE"%s "YELLOW"Mensaje: "WHITE"%s", convertPhoneNumber(pid, PI[playerid][pi_PHONE_NUMBER]), params_message);
							}
						}
						SendFormatNotification(playerid, "Mensaje enviado a ~b~%s~w~.", convertPhoneNumber(playerid, params_number));
					}
					else ShowPlayerMessage(playerid, "El número destino no es válido.", 2);
				}
			}
			mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT id, connected, playerid FROM player WHERE phone_number = %d;", params_number);
			mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnPhoneChecked);
		}
	}
	else if(!sscanf(params, "s[24]s[64]", params_contact, params_message))
	{
		inline OnPhoneChecked()
		{
			new rows;
			if(cache_get_row_count(rows))
			{
				if(rows)
				{
					new number, id, connected, pid, bool:isnull_id;
					cache_is_value_name_null(0, "id", isnull_id);
					if(!isnull_id) {
						cache_get_value_name_int(0, "number", number);
						cache_get_value_name_int(0, "id", id);
						cache_get_value_name_int(0, "connected", connected);
						cache_get_value_name_int(0, "playerid", pid);

						if(connected) RegisterPhoneMessage(PI[playerid][pi_ID], id, params_message, 0);
						else RegisterPhoneMessage(PI[playerid][pi_ID], id, params_message, 1);

						if(connected)
						{
							if(PI[pid][pi_PHONE_STATE] == PHONE_STATE_ON)
							{
								SendClientMessageEx(pid, -1, "{f6b900}[SMS] "YELLOW"Remitente: "WHITE"%s "YELLOW"Mensaje: "WHITE"%s", convertPhoneNumber(pid, PI[playerid][pi_PHONE_NUMBER]), params_message);
							}
						}
						SendFormatNotification(playerid, "Mensaje enviado a ~b~%s~w~.", convertPhoneNumber(playerid, number));
					}
					else ShowPlayerMessage(playerid, "El número destino no es válido.", 2);
				}
				else ShowPlayerMessage(playerid, "El número destino no es válido.", 2);
			}
		}
		mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT pbook.number, player.id, player.connected, player.playerid FROM pbook LEFT JOIN player ON pbook.number = player.phone_number WHERE pbook.id_player = %d AND pbook.name LIKE '%%%e%%' LIMIT 1;", PI[playerid][pi_ID], params_contact);
		mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnPhoneChecked);
	}
	else ShowPlayerMessage(playerid, "Usa /sms [numero o contacto]", 2);
	return 1;
}

CMD:agenda(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return ShowPlayerMessage(playerid, "Ahora no puedes usar este comando.", 2);
	if(!PI[playerid][pi_PHONE_NUMBER])
	{
		ShowPlayerMessage(playerid, "No tienes ningún teléfono, puedes ir a cualquier 24/7 para comprar uno.", 2);
		return 1;
	}
	if(PI[playerid][pi_PHONE_STATE] == PHONE_STATE_OFF) return SendFormatNotification(playerid, "Tu teléfono está apagado, para encenderlo usa /movil.", 2);
	if(PLAYER_TEMP[playerid][pt_PLAYER_IN_CALL]) return SendFormatNotification(playerid, "Estás en una llamada.", 2);

	ShowDialog(playerid, DIALOG_PHONE_BOOK);
	return 1;
}

HandleStaticPhoneNumbers(playerid, call_number)
{
	switch(call_number)
	{
		case 911:
		{
			if(PI[playerid][pi_LEVEL] < 2) return ShowPlayerMessage(playerid, "Debes ser al menos nivel 2 para llamar a la policía.", 2);
			PLAYER_TEMP[playerid][pt_PLAYER_IN_CALL] = true;
			PLAYER_TEMP[playerid][pt_POLICE_CALL_NAME] = true;
			PLAYER_TEMP[playerid][pt_POLICE_CALL_DESCRIPTION] = false;

			ShowPlayerMessage(playerid, "Operadora: ha llamado a la central de policía, indícanos su nombre por favor.", 2);
			return 1;
		}
		case 450: //Taxi
		{
			if(PLAYER_TEMP[playerid][pt_WANT_TAXI])
			{
				PLAYER_TEMP[playerid][pt_WANT_TAXI] = false;
				DisablePlayerTaxiMark(playerid);
				ShowPlayerMessage(playerid,"Has cancelado el taxi.", 2);
			}
			else
			{
				PLAYER_TEMP[playerid][pt_WANT_TAXI] = true;
				ShowPlayerMessage(playerid,"Tu llamada se ha enviado a los taxistas disponibles, espera a que llegue un taxi.", 2);
				ShowPlayerMessage(playerid, "Vuelve a llamar a este número si ya no necesitas un taxi.", 2);
				SendAlertToTaxiDrivers(playerid);
			}
			return 1;
		}


		case 570: //Mecanico
		{
			if(PLAYER_TEMP[playerid][pt_WANT_MECHANIC])
			{
				PLAYER_TEMP[playerid][pt_WANT_MECHANIC] = false;
				DisablePlayerMechanicMark(playerid);
			    ShowPlayerMessage(playerid, "Has cancelado el mecánico.", 2);
			}
			else
			{
				if(!IsPlayerInAnyVehicle(playerid)) return SendFormatNotification(playerid, "Tienes que estar dentro de un vehiculo averiado para llamar al mecánico.", 2);
				PLAYER_TEMP[playerid][pt_WANT_MECHANIC] = true;
				ShowPlayerMessage(playerid, "Tu llamada se ha enviado a los mecánicos disponibles, espera a que llegue un mecánico.", 2);
				SendAlertToMechanic(playerid);
			}
			return 1;
		}
		case 6740:
		{
			ShowPlayerMessage(playerid, "No vuelvas a llamar al banco, cuidado.", 2);
			return 1;
		}
		case 38350:
		{
			ShowPlayerMessage(playerid, "Aseguradora que asegura tus vehiculos de mierda.", 2);
			return 1;
		}
		case 580: {
			if (GetPlayerState(playerid) != PLAYER_STATE_ONFOOT) return ShowPlayerMessage(playerid, "No estas de pie.");

			CraneDialogx(playerid);
			return 1;
		}
		case 666:
		{
			ShowPlayerMessage(playerid, "Mirar a las estrellas es mirar al pasado, no mires.", 2);
			return 1;
		}
	}
	return 0;
}

CMD:llamar(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return ShowPlayerMessage(playerid, "Ahora no puedes usar este comando.", 2);
	if(!PI[playerid][pi_PHONE_NUMBER])
	{
		ShowPlayerMessage(playerid, "No tienes ningún teléfono, puedes ir a cualquier 24/7 para comprar uno.", 2);
		return 1;
	}
	if(PI[playerid][pi_PHONE_STATE] == PHONE_STATE_OFF) return SendFormatNotification(playerid, "Tu teléfono está apagado, para encenderlo usa /movil.", 2);
	if(PLAYER_TEMP[playerid][pt_PLAYER_IN_CALL]) return SendFormatNotification(playerid, "Estás en una llamada.", 2);

	new params_number, params_contact[24];
	if(!sscanf(params, "d", params_number))
	{
		if(params_number <= 0) ShowPlayerMessage(playerid, "El número destino no es válido.", 2);
		else
		{
			if(!HandleStaticPhoneNumbers(playerid, params_number))
			{
				inline OnPhoneChecked()
				{
					new rows;
					if(cache_get_row_count(rows))
					{
						if(rows)
						{
							new id, connected, pid;
							cache_get_value_name_int(0, "id", id);
							cache_get_value_name_int(0, "connected", connected);
							cache_get_value_name_int(0, "playerid", pid);

							if(!connected) ShowPlayerMessage(playerid, "El número al que intentas llamar está fuera de cobertura (desconectado).", 2);
							else
							{
								if(pid == playerid) return ShowPlayerMessage(playerid, "El número al que intentas llamar es el tuyo.", 2);
								if(PI[pid][pi_PHONE_STATE] == PHONE_STATE_OFF) return ShowPlayerMessage(playerid, "El número al que intentas llamar está apagado o fuera de cobertura.", 2);
								if(PLAYER_TEMP[pid][pt_PLAYER_IN_CALL]) return ShowPlayerMessage(playerid, "El número al que intentas llamar está en otra llamada.", 2);

								SendFormatNotification(pid, "~b~[Llamada entrante] ~w~%s te está llamando, para responser usa ~b~/responder ~w~o ~b~/colgar~w~.", convertPhoneNumber(pid, PI[playerid][pi_PHONE_NUMBER]));
								PLAYER_TEMP[pid][pt_PLAYER_IN_CALL] = true;
								PLAYER_TEMP[pid][pt_PLAYER_PHONE_CALL_STATE] = CALL_STATE_INCOMING_CALL;
								PLAYER_TEMP[pid][pt_PLAYER_PHONE_CALL_PLAYERID] = playerid;

								SendFormatNotification(playerid, "Llamando a ~b~%s~w~...", convertPhoneNumber(playerid, params_number));
								PLAYER_TEMP[playerid][pt_TIMERS][6] = SetTimerEx("NoCallResponse", 15000, false, "i", playerid);
								PLAYER_TEMP[playerid][pt_PLAYER_IN_CALL] = true;
								PLAYER_TEMP[playerid][pt_PLAYER_PHONE_CALL_STATE] = CALL_STATE_WAITING_RESPONSE;
								PLAYER_TEMP[playerid][pt_PLAYER_PHONE_CALL_PLAYERID] = pid;
								PlayerPlaySoundEx(playerid, 3600, 0.0, 0.0, 0.0);
							}
						}
						else ShowPlayerMessage(playerid, "El número destino no es válido.", 2);
					}
				}
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT id, connected, playerid FROM player WHERE phone_number = %d;", params_number);
				mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnPhoneChecked);
			}
		}
	}
	else if(!sscanf(params, "s[24]", params_contact))
	{
		if(!strcmp(params_contact, "policia", true)) HandleStaticPhoneNumbers(playerid, 911);
		else if(!strcmp(params_contact, "taxi", true)) HandleStaticPhoneNumbers(playerid, 450);
		else if(!strcmp(params_contact, "mecanico", true)) HandleStaticPhoneNumbers(playerid, 570);
		else if (!strcmp(params_contact, "grua", true)) HandleStaticPhoneNumbers(playerid, 580);
		else
		{
			inline OnPhoneChecked()
			{
				new rows;
				if(cache_get_row_count(rows))
				{
					if(rows)
					{
						new number, id, connected, pid, bool:isnull_id;
						cache_is_value_name_null(0, "id", isnull_id);
						if(!isnull_id) {
							cache_get_value_name_int(0, "number", number);
							cache_get_value_name_int(0, "id", id);
							cache_get_value_name_int(0, "connected", connected);
							cache_get_value_name_int(0, "playerid", pid);

							if(!connected) ShowPlayerMessage(playerid, "El número al que intentas llamar está fuera de cobertura (desconectado).", 2);
							else
							{
								if(pid == playerid) return ShowPlayerMessage(playerid, "El número al que intentas llamar es el tuyo.", 2);
								if(PI[pid][pi_PHONE_STATE] == PHONE_STATE_OFF) return ShowPlayerMessage(playerid, "El número al que intentas llamar está apagado o fuera de cobertura.", 2);
								if(PLAYER_TEMP[pid][pt_PLAYER_IN_CALL]) return ShowPlayerMessage(playerid, "El número al que intentas llamar está en otra llamada.", 2);

								SendFormatNotification(pid, "~b~[Llamada entrante] ~w~%s te está llamando, para responser usa ~b~/responder ~w~o ~b~/colgar~w~.", convertPhoneNumber(pid, PI[playerid][pi_PHONE_NUMBER]));
								PLAYER_TEMP[pid][pt_PLAYER_IN_CALL] = true;
								PLAYER_TEMP[pid][pt_PLAYER_PHONE_CALL_STATE] = CALL_STATE_INCOMING_CALL;
								PLAYER_TEMP[pid][pt_PLAYER_PHONE_CALL_PLAYERID] = playerid;

								SendFormatNotification(playerid, "Llamando a ~b~%s~w~...", convertPhoneNumber(playerid, number));
								PLAYER_TEMP[playerid][pt_TIMERS][6] = SetTimerEx("NoCallResponse", 15000, false, "i", playerid);
								PLAYER_TEMP[playerid][pt_PLAYER_IN_CALL] = true;
								PLAYER_TEMP[playerid][pt_PLAYER_PHONE_CALL_STATE] = CALL_STATE_WAITING_RESPONSE;
								PLAYER_TEMP[playerid][pt_PLAYER_PHONE_CALL_PLAYERID] = pid;
								PlayerPlaySoundEx(playerid, 3600, 0.0, 0.0, 0.0);
							}
						}
						else ShowPlayerMessage(playerid, "El número destino no es válido.", 2);
					}
					else ShowPlayerMessage(playerid, "El número destino no es válido.", 2);
				}
			}
			mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT pbook.number, player.id, player.connected, player.playerid FROM pbook LEFT JOIN player ON pbook.number = player.phone_number WHERE pbook.id_player = %d AND pbook.name LIKE '%%%e%%' LIMIT 1;", PI[playerid][pi_ID], params_contact);
			mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnPhoneChecked);
		}
	}
	else ShowPlayerMessage(playerid, "Usa /llamar [numero o contacto]", 2);
	return 1;
}

CMD:responder(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return ShowPlayerMessage(playerid, "Ahora no puedes usar este comando.", 2);
	if(!PI[playerid][pi_PHONE_NUMBER])
	{
		ShowPlayerMessage(playerid, "No tienes ningún teléfono, puedes ir a cualquier 24/7 para comprar uno.", 2);
		return 1;
	}
	if(PI[playerid][pi_PHONE_STATE] == PHONE_STATE_OFF) return SendFormatNotification(playerid, "Tu teléfono está apagado, para encenderlo usa /movil.", 2);

	if(!PLAYER_TEMP[playerid][pt_PLAYER_IN_CALL]) return SendFormatNotification(playerid, "No hay ninguna llamada entrante.", 2);
	if(PLAYER_TEMP[playerid][pt_PLAYER_PHONE_CALL_PLAYERID] == INVALID_PLAYER_ID) return SendFormatNotification(playerid, "No hay ninguna llamada entrante.", 2);
	if(PLAYER_TEMP[playerid][pt_PLAYER_PHONE_CALL_STATE] != CALL_STATE_INCOMING_CALL) return SendFormatNotification(playerid, "No hay ninguna llamada entrante.", 2);

	new to_playerid = PLAYER_TEMP[playerid][pt_PLAYER_PHONE_CALL_PLAYERID];

	PLAYER_TEMP[playerid][pt_PLAYER_IN_CALL] = true;
	PLAYER_TEMP[playerid][pt_PLAYER_PHONE_CALL_STATE] = CALL_STATE_ESTABLISHED;
	PLAYER_TEMP[playerid][pt_PLAYER_PHONE_CALL_PLAYERID] = to_playerid;
	SetPlayerSpecialAction(playerid, SPECIAL_ACTION_USECELLPHONE);

	KillTimer(PLAYER_TEMP[to_playerid][pt_TIMERS][6]);
	PLAYER_TEMP[to_playerid][pt_PLAYER_IN_CALL] = true;
	PLAYER_TEMP[to_playerid][pt_PLAYER_PHONE_CALL_STATE] = CALL_STATE_ESTABLISHED;
	PLAYER_TEMP[to_playerid][pt_PLAYER_PHONE_CALL_PLAYERID] = playerid;
	SetPlayerSpecialAction(to_playerid, SPECIAL_ACTION_USECELLPHONE);

	ShowPlayerMessage(playerid, "Llamada establecida, usa ~r~/colgar ~w~para terminarla.", 2);
	ShowPlayerMessage(to_playerid, "Llamada establecida, usa ~r~/colgar ~w~para terminarla.", 2);
	return 1;
}

CMD:colgar(playerid, params[])
{
	if(!PI[playerid][pi_PHONE_NUMBER])
	{
		ShowPlayerMessage(playerid, "No tienes ningún teléfono, puedes ir a cualquier 24/7 para comprar uno.", 2);
		return 1;
	}
	if(PI[playerid][pi_PHONE_STATE] == PHONE_STATE_OFF) return SendFormatNotification(playerid, "Tu teléfono está apagado, para encenderlo usa /movil.", 2);

	if(!PLAYER_TEMP[playerid][pt_PLAYER_IN_CALL]) return SendFormatNotification(playerid, "No hay ninguna llamada entrante.", 2);

	if(PLAYER_TEMP[playerid][pt_POLICE_CALL_NAME] || PLAYER_TEMP[playerid][pt_POLICE_CALL_DESCRIPTION])
	{
		PLAYER_TEMP[playerid][pt_PLAYER_IN_CALL] = false;
		PLAYER_TEMP[playerid][pt_POLICE_CALL_NAME] = false;
		PLAYER_TEMP[playerid][pt_POLICE_CALL_DESCRIPTION] = false;
		ShowPlayerMessage(playerid, "~r~Llamada finalizada~w~.", 2);
		return 1;
	}

	if(PLAYER_TEMP[playerid][pt_PLAYER_PHONE_CALL_PLAYERID] == INVALID_PLAYER_ID) return SendFormatNotification(playerid, "No hay ninguna llamada entrante.", 2);

	switch(PLAYER_TEMP[playerid][pt_PLAYER_PHONE_CALL_STATE])
	{
		case CALL_STATE_WAITING_RESPONSE:
		{
			EndPhoneCall(playerid);
			ShowPlayerMessage(playerid, "Colgaste.", 2);
		}
		case CALL_STATE_INCOMING_CALL:
		{
			EndPhoneCall(playerid);
			ShowPlayerMessage(playerid, "No has respondido la llamada.", 2);
		}
		case CALL_STATE_ESTABLISHED:
		{
			EndPhoneCall(playerid);
			ShowPlayerMessage(playerid, "~r~Llamada finalizada~w~.", 2);
		}
		default: SendFormatNotification(playerid, "No estás en ninguna llamada.", 2);
	}
	return 1;
}

CMD:comprar(playerid, params[])
{
	if(PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] == -1) return SendNotification(playerid, "No estás en el lugar adecuado.");
	if(ENTER_EXIT[ PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] ][ee_INTERIOR_TYPE] == INTERIOR_NO_INFO) return SendNotification(playerid, "No estÃ¡s en el lugar adecuado.");
	new option[24];
	new site_index = GetBuyPropertySiteIndexByIntTyp(ENTER_EXIT[ PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] ][ee_INTERIOR_TYPE]);
	if(site_index == -1) return SendNotification(playerid, "No estás en el lugar adecuado.");

	if(!IsPlayerInRangeOfPoint(playerid, 1.0, BUY_PROPERTIES_SITES[site_index][site_X], BUY_PROPERTIES_SITES[site_index][site_Y], BUY_PROPERTIES_SITES[site_index][site_Z])) return SendNotification(playerid, "No estÃ¡s en el lugar adecuado.");
	
	if(PI[playerid][pi_BANK_ACCOUNT] == 0) return SendNotification(playerid, "No puedes comprar una casa sin tener cuenta bancaria.");

	if(sscanf(params, "d", params[0])) return SendNotification(playerid, "~r~Modo de uso: ~w~/comprar casa/negocio [ID]");
	if(params[0] <= 0) return SendNotification(playerid, "Error: ID no es válida.");
	switch(YHash(option, false))
	{
	
	case _I<casa>:	
	{
	new player_properties = CountPlayerProperties(playerid);
	if(PI[playerid][pi_VIP])
	{
		if(player_properties >= MAX_SU_PROPERTIES) return SendNotification(playerid, "No puedes comprar más propiedades.");
	}
	else
	{
		if(player_properties >= MAX_NU_PROPERTIES)
		{
			SendFormatNotification(playerid, "¡Los jugadores ~y~VIP ~w~pueden tener hasta %d propiedades! Usa ~y~/ayuda ~w~si quieres ser ~w~VIP.", MAX_SU_PROPERTIES);
			SendNotification(playerid, "No puedes comprar más propiedades.");
			return 1;
		}
	}

	new index = GetPropertyIndexByID(params[0]);
	if(index == -1) return SendNotification(playerid, "Error: ID no es válida.");
	
	if(PROPERTY_INFO[index][property_SOLD]) return SendNotification(playerid, "EstÃ¡ propiedad ya estÃ¡ vendida.");
	if(PROPERTY_INFO[index][property_LEVEL] > PI[playerid][pi_LEVEL]) return SendFormatNotification(playerid, "Necesitas ser como mÃ­nimo nivel %d para comprar esta propiedad.", PROPERTY_INFO[index][property_LEVEL]);
	if(PROPERTY_INFO[index][property_VIP_LEVEL] > PI[playerid][pi_VIP]) return SendFormatNotification(playerid, "Necesitas membresÃ­a VIP (%d) para comprar esta propiedad.", PROPERTY_INFO[index][property_VIP_LEVEL]);
	if(PROPERTY_INFO[index][property_EXTRA] > PI[playerid][pi_COINS]) return SendFormatNotification(playerid, "Necesitas %d "SERVER_COIN" para comprar esta propiedad.", PROPERTY_INFO[index][property_EXTRA]);
	if(PI[playerid][pi_BANK_MONEY] >= PROPERTY_INFO[index][property_PRICE])
	{
		PLAYER_TEMP[playerid][pt_BUY_HOUSE_INDEX] = index;
		ShowDialog(playerid, DIALOG_CONFIRM_BUY_PROPERTY);
	}
		else SendFormatNotification(playerid, "No tienes fondos suficientes en tu cuenta, te faltan ~r~%s dÃ³lares ~w~para poder comprar esta propiedad.", number_format_thousand(PROPERTY_INFO[index][property_PRICE] - PI[playerid][pi_BANK_MONEY]));
		}
	}
	return 1;
}

CMD:panel(playerid, params[])
{
	ShowDialog(playerid, DIALOG_PLAYER_CONFIG);
	return 1;
}
alias:panel("config", "configuracion", "ajustes");

GetPropertyIndexByID(id)
{
	for(new i = 0; i != MAX_PROPERTIES; i ++)
	{
		if(!PROPERTY_INFO[i][property_VALID]) continue;
		if(PROPERTY_INFO[i][property_ID] == id) return i;
	}
	return -1;
}

CMD:banco(playerid, params[])
{
	if(PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] == -1) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);
	if(ENTER_EXIT[ PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] ][ee_INTERIOR_TYPE] == INTERIOR_NO_INFO) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);


	new index = GetBankLocalIndexByIntType(ENTER_EXIT[ PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] ][ee_INTERIOR_TYPE]);
	if(index == -1) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);

	if(!IsPlayerInRangeOfPoint(playerid, 1.0, Bank_Interior_Positions[index][bank_X], Bank_Interior_Positions[index][bank_Y], Bank_Interior_Positions[index][bank_Z])) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);

	if(PI[playerid][pi_BANK_ACCOUNT] == 0) // no tiene cuenta bancaria
	{
		ShowDialog(playerid, DIALOG_CREATE_BANK_ACCOUNT);
		return 1;
	}
	ShowDialog(playerid, DIALOG_BANK);
	return 1;
}

CMD:cajero(playerid, params[])
{
	if(PLAYER_TEMP[playerid][pt_LAST_PICKUP_ID] == 0) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);

	new info[3];
	new Float:pos[3];
	Streamer_GetArrayData(STREAMER_TYPE_PICKUP, PLAYER_TEMP[playerid][pt_LAST_PICKUP_ID], E_STREAMER_EXTRA_ID, info);
	if(info[0] != PICKUP_TYPE_ATM) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);

	Streamer_GetFloatData(STREAMER_TYPE_PICKUP, PLAYER_TEMP[playerid][pt_LAST_PICKUP_ID], E_STREAMER_X, pos[0]);
	Streamer_GetFloatData(STREAMER_TYPE_PICKUP, PLAYER_TEMP[playerid][pt_LAST_PICKUP_ID], E_STREAMER_Y, pos[1]);
	Streamer_GetFloatData(STREAMER_TYPE_PICKUP, PLAYER_TEMP[playerid][pt_LAST_PICKUP_ID], E_STREAMER_Z, pos[2]);

	if(!IsPlayerInRangeOfPoint(playerid, 1.0, pos[0], pos[1], pos[2])) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);

	if(PI[playerid][pi_BANK_ACCOUNT] == 0)
	{
		ShowPlayerMessage(playerid, "No tienes cuenta bancaria, puedes crearla en cualquier Banco.", 2);
		return 1;
	}

	PLAYER_TEMP[playerid][pt_PLAYER_IN_ATM] = true;
	ShowDialog(playerid, DIALOG_BANK);
	return 1;
}

#define TIME_BETWEEN_GIVE_CASH	30 // segundos
CMD:dar(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return ShowPlayerMessage(playerid, "Ahora no puedes usar este comando.", 2);
	if(PI[playerid][pi_LEVEL] < 3) return ShowPlayerMessage(playerid, "Debes ser al menos nivel 6 ara usar este comando.", 2);

	new option[24], to_playerid, extra;
	if(sscanf(params, "s[24]ud", option, to_playerid, extra)) return ShowPlayerMessage(playerid, "Error en los parámetros, utilice ~y~/man dar.", 2);

	if(!IsPlayerConnected(to_playerid)) return ShowPlayerMessage(playerid, "El jugador no está conectado.", 2);
	new Float:pos[3]; GetPlayerPos(to_playerid, pos[0], pos[1], pos[2]);
	if(!IsPlayerInRangeOfPoint(playerid, NEARS_PLAYERS_DISTANCE, pos[0], pos[1], pos[2])) return ShowPlayerMessage(playerid, "Este jugador no está cerca tuya.", 2);
	if(PLAYER_TEMP[to_playerid][pt_GAME_STATE] != GAME_STATE_NORMAL) return ShowPlayerMessage(playerid, "No puedes darle nada a este jugador ahora.", 2);

	switch(YHash(option, false))
	{
		case _I<dinero>:
		{
			if(gettime() < PLAYER_TEMP[playerid][pt_LAST_GIVE_MONEY_TIME] + TIME_BETWEEN_GIVE_CASH)
			{
				new time = TIME_BETWEEN_GIVE_CASH - (gettime() - PLAYER_TEMP[playerid][pt_LAST_GIVE_MONEY_TIME]);
				SendFormatNotification(playerid, "Debes de esperar ~y~%s ~w~minutos para volver a dar dinero.", TimeConvert(time));
				return 1;
			}

			if(extra < 0 || extra > PI[playerid][pi_CASH]) return ShowPlayerMessage(playerid, "Cantidad de dinero incorrecta.", 2);
			if(extra > 50000) return ShowPlayerMessage(playerid, "Para dar tanto dinero tienes que hacerlo a través de transferencias bancarias.", 2);

			if(GivePlayerCash(playerid, -extra, true, true) && GivePlayerCash(to_playerid, extra, true, false)) {
				SendFormatNotification(playerid, "Le has dado ~g~%s dólares~w~ a %s.", number_format_thousand(extra), PLAYER_TEMP[to_playerid][pt_RP_NAME]);
				SendFormatNotification(to_playerid, "%s te ha dado ~g~%s dólares~w~.", PLAYER_TEMP[playerid][pt_RP_NAME], number_format_thousand(extra));

				new action[64];
				format(action, sizeof action, "le da dinero a %s.", PLAYER_TEMP[to_playerid][pt_RP_NAME]);
				Auto_SendPlayerAction(playerid, action);
				PLAYER_TEMP[playerid][pt_LAST_GIVE_MONEY_TIME] = gettime();
			}
		}
		case _I<medicamentos>:
		{
			if(extra <= 0 || extra > 10000000) return ShowPlayerMessage(playerid, "Cantidad incorrecta.", 2);
			if(extra > PI[playerid][pi_MEDICINE]) return ShowPlayerMessage(playerid, "No tienes esa cantidad.", 2);

			PI[playerid][pi_MEDICINE] -= extra;
			PI[to_playerid][pi_MEDICINE] += extra;

			SendFormatNotification(playerid, "Le has dado ~g~%d gramos~w~ de medicamentos a %s.", extra, PLAYER_TEMP[to_playerid][pt_RP_NAME]);
			SendFormatNotification(to_playerid, "%s te ha dado ~g~%d gramos~w~ de medicamentos.", PLAYER_TEMP[playerid][pt_RP_NAME], extra);

			new action[64];
			format(action, sizeof action, "le da algo a %s.", PLAYER_TEMP[to_playerid][pt_RP_NAME]);
			Auto_SendPlayerAction(playerid, action);
		}
		case _I<marihuana>:
		{
			if(extra <= 0 || extra > 10000000) return ShowPlayerMessage(playerid, "Cantidad incorrecta.", 2);
			if(extra > PI[playerid][pi_CANNABIS]) return ShowPlayerMessage(playerid, "No tienes esa cantidad.", 2);

			PI[playerid][pi_CANNABIS] -= extra;
			PI[to_playerid][pi_CANNABIS] += extra;

			SendFormatNotification(playerid, "Le has dado %dg de marihuana a %s.", extra, PLAYER_TEMP[to_playerid][pt_RP_NAME]);
			SendFormatNotification(to_playerid, "%s te ha dado %dg de marihuana.", PLAYER_TEMP[playerid][pt_RP_NAME], extra);

			new action[64];
			format(action, sizeof action, "le da algo a %s.", PLAYER_TEMP[to_playerid][pt_RP_NAME]);
			Auto_SendPlayerAction(playerid, action);
		}
		case _I<crack>:
		{
			if(extra <= 0 || extra > 10000000) return ShowPlayerMessage(playerid, "Cantidad incorrecta.", 2);
			if(extra > PI[playerid][pi_CRACK]) return ShowPlayerMessage(playerid, "No tienes esa cantidad.", 2);

			PI[playerid][pi_CRACK] -= extra;
			PI[to_playerid][pi_CRACK] += extra;

			SendFormatNotification(playerid, "Le has dado ~g~%d gramos~w~ de crack a %s.", extra, PLAYER_TEMP[to_playerid][pt_RP_NAME]);
			SendFormatNotification(to_playerid, "%s te ha dado ~g~%d gramos~w~ de crack.", PLAYER_TEMP[playerid][pt_RP_NAME], extra);

			new action[64];
			format(action, sizeof action, "le da algo a %s.", PLAYER_TEMP[to_playerid][pt_RP_NAME]);
			Auto_SendPlayerAction(playerid, action);
		}
		default: ShowPlayerMessage(playerid, "Error en los parámetros, utilice ~r~/man dar~w~.", 2);
	}
	return 1;
}

CMD:vender(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return ShowPlayerMessage(playerid, "Ahora no puedes usar este comando.", 2);
	if(PI[playerid][pi_LEVEL] < 2) return ShowPlayerMessage(playerid, "Debes ser al menos nivel 2 para usar este comando.", 2);

	new option[24], to_playerid, extra, price;
	if(sscanf(params, "s[24]udd", option, to_playerid, extra, price)) return ShowPlayerMessage(playerid, "Error en los parámetros, utilice ~r~/man vender~w~.", 2);

	if(price <= 0 || price > 10000000) return ShowPlayerMessage(playerid, "El precio no es válido.", 2);
	if(!IsPlayerConnected(to_playerid)) return ShowPlayerMessage(playerid, "El jugador no está conectado.", 2);
	new Float:pos[3]; GetPlayerPos(to_playerid, pos[0], pos[1], pos[2]);
	if(!IsPlayerInRangeOfPoint(playerid, NEARS_PLAYERS_DISTANCE, pos[0], pos[1], pos[2])) return ShowPlayerMessage(playerid, "Este jugador no está cerca tuya.", 2);
	if(PLAYER_TEMP[to_playerid][pt_GAME_STATE] != GAME_STATE_NORMAL) return ShowPlayerMessage(playerid, "No puedes venderle nada a este jugador ahora.", 2);

	if(price > PI[to_playerid][pi_CASH])
	{
		ShowPlayerMessage(playerid, "Esta persona no tiene el dinero que pides.", 2);
		return 1;
	}

	PLAYER_TEMP[to_playerid][pt_TRICK_SELLER_PID] = playerid;
	PLAYER_TEMP[to_playerid][pt_TRICK_SELLER_AID] = PI[playerid][pi_ID];
	PLAYER_TEMP[to_playerid][pt_TRICK_PRICE] = price;
	PLAYER_TEMP[to_playerid][pt_TRICK_SELLER_EXTRA] = extra;
	PLAYER_TEMP[to_playerid][pt_TRICK_TIME] = gettime();

	switch(YHash(option, false))
	{
		case _I<medicamentos>:
		{
			if(PLAYER_TEMP[to_playerid][pt_TRICK_SELLER_EXTRA] <= 0 || PLAYER_TEMP[to_playerid][pt_TRICK_SELLER_EXTRA] > 10000000) return ShowPlayerMessage(playerid, "Cantidad incorrecta.", 2);
			if(PLAYER_TEMP[to_playerid][pt_TRICK_SELLER_EXTRA] > PI[playerid][pi_MEDICINE]) return ShowPlayerMessage(playerid, "No tienes esa cantidad.", 2);
			if((gettime() - LimiteVenda[playerid]) < 220 * 1) return ShowPlayerMessage(playerid, "~r~Tienes que esperar 3 minutos para volver a usar el comando.", 3);

			SendFormatNotification(playerid, "Le has ofrecido una venta a ~g~%s~w~, espera a ver si la acepta.", PLAYER_TEMP[to_playerid][pt_RP_NAME]);
			ShowDialog(to_playerid, DIALOG_TRICKS_MEDICINE);
			LimiteVenda[playerid] = gettime();
		}
		case _I<marihuana>:
		{
			if(PLAYER_TEMP[to_playerid][pt_TRICK_SELLER_EXTRA] <= 0 || PLAYER_TEMP[to_playerid][pt_TRICK_SELLER_EXTRA] > 10000000) return ShowPlayerMessage(playerid, "Cantidad incorrecta.", 2);
			if(PLAYER_TEMP[to_playerid][pt_TRICK_SELLER_EXTRA] > PI[playerid][pi_CANNABIS]) return ShowPlayerMessage(playerid, "No tienes esa cantidad.", 2);
			if((gettime() - LimiteVenda[playerid]) < 220 * 1) return ShowPlayerMessage(playerid, "~r~Tienes que esperar 3 minutos para volver a usar el comando.", 3);

			SendFormatNotification(playerid, "Le has ofrecido una venta a ~g~%s~w~, espera a ver si la acepta.", PLAYER_TEMP[to_playerid][pt_RP_NAME]);
			ShowDialog(to_playerid, DIALOG_TRICKS_CANNABIS);
			LimiteVenda[playerid] = gettime();
		}
		case _I<crack>:
		{
			if(PLAYER_TEMP[to_playerid][pt_TRICK_SELLER_EXTRA] <= 0 || PLAYER_TEMP[to_playerid][pt_TRICK_SELLER_EXTRA] > 10000000) return ShowPlayerMessage(playerid, "Cantidad incorrecta.", 2);
			if(PLAYER_TEMP[to_playerid][pt_TRICK_SELLER_EXTRA] > PI[playerid][pi_CRACK]) return ShowPlayerMessage(playerid, "No tienes esa cantidad.", 2);
			if((gettime() - LimiteVenda[playerid]) < 220 * 1) return ShowPlayerMessage(playerid, "~r~Tienes que esperar 3 minutos para volver a usar el comando.", 3);

			SendFormatNotification(playerid, "Le has ofrecido una venta a ~g~%s~w~, espera a ver si la acepta.", PLAYER_TEMP[to_playerid][pt_RP_NAME]);
			ShowDialog(to_playerid, DIALOG_TRICKS_CRACK);
			LimiteVenda[playerid] = gettime();
		}
		case _I<gemas>:
		{
			if(PI[playerid][pi_LEVEL] < 3) return ShowPlayerMessage(playerid, "Debes ser al menos nivel 4 para Vender gemas.", 2);
			if(PLAYER_TEMP[to_playerid][pt_TRICK_SELLER_EXTRA] <= 0 || PLAYER_TEMP[to_playerid][pt_TRICK_SELLER_EXTRA] > 10000000) return ShowPlayerMessage(playerid, "Cantidad incorrecta.", 2);
			if(PLAYER_TEMP[to_playerid][pt_TRICK_SELLER_EXTRA] > PI[playerid][pi_COINS]) return ShowPlayerMessage(playerid, "No tienes esa cantidad de "SERVER_COIN".", 2);
			if((gettime() - LimiteVenda[playerid]) < 220 * 1) return ShowPlayerMessage(playerid, "~r~Tienes que esperar 3 minutos para volver a usar el comando.", 3);

			SendFormatNotification(playerid, "Le has ofrecido una venta a ~g~%s~w~, espera a ver si la acepta.", PLAYER_TEMP[to_playerid][pt_RP_NAME]);
			ShowDialog(to_playerid, DIALOG_TRICKS_SU);
			LimiteVenda[playerid] = gettime();
		}
		default: ShowPlayerMessage(playerid, "Error en los parámetros, utilice ~r~/man vender~w~.", 2);
	}
	return 1;
}

CMD:consumir(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return ShowPlayerMessage(playerid, "Ahora no puedes usar este comando.", 2);
	new option[24];
    if(!sscanf(params, "s[24]", option))
	{
		switch(YHash(option, false))
		{
			case _I<medicamento>:
			{
				if(PLAYER_TEMP[playerid][pt_COOLDOWN_MEDICINE] > gettime()) return SendFormatNotification(playerid, "Debes esperar %d segundos para volver a poder consumir medicamentos", PLAYER_TEMP[playerid][pt_COOLDOWN_MEDICINE] - gettime());

				if(PI[playerid][pi_MEDICINE] <= 0) return ShowPlayerMessage(playerid, "No tienes medicamentos.", 2);
			    if((gettime() - LimiteRemedio[playerid]) < 60 * 3) return ShowPlayerMessage(playerid, "~r~Tienes que esperar 1 minuto para volver a consumir medicamentos.", 3);

				PLAYER_TEMP[playerid][pt_COOLDOWN_MEDICINE] = gettime() + 20;
				PI[playerid][pi_MEDICINE] --;
				GivePlayerHealthEx(playerid, 20.0);
				Auto_SendPlayerAction(playerid, "se toma un medicamento.");
				ApplyAnimation(playerid, "FOOD", "EAT_Burger", 0, 0, 0, 0, 0, 0);
		        ApplyAnimation(playerid, "FOOD", "EAT_Burger", 4.1, false, true, true, false, 1000, 1);
			}
			case _I<marihuana>:
			{
				if(PLAYER_TEMP[playerid][pt_COOLDOWN_WEED] > gettime()) return SendFormatNotification(playerid, "Debes esperar %d segundos para volver a poder consumir marihuana", PLAYER_TEMP[playerid][pt_COOLDOWN_WEED] - gettime());

				if(PI[playerid][pi_CANNABIS] <= 0) return ShowPlayerMessage(playerid, "No tienes marihuana.", 2);
		    	if((gettime() - LimiteMaria[playerid]) < 60 * 4) return ShowPlayerMessage(playerid, "~r~Tienes que esperar 1 minuto para volver a consumir marihuana.", 3);

				PLAYER_TEMP[playerid][pt_COOLDOWN_WEED] = gettime() + 30;

				PI[playerid][pi_CANNABIS] --;
				GivePlayerHealthEx(playerid, 20.0);
				Auto_SendPlayerAction(playerid, "consume marihuana.");
				GivePlayerDrunkLevel(playerid, 1000);
				ApplyAnimation(playerid, "FOOD", "EAT_Burger", 0, 0, 0, 0, 0, 0);
		        ApplyAnimation(playerid, "FOOD", "EAT_Burger", 4.1, false, true, true, false, 1000, 1);
			}
			case _I<crack>:
			{
				if(PLAYER_TEMP[playerid][pt_COOLDOWN_CRACK] > gettime()) return SendFormatNotification(playerid, "Debes esperar %d segundos para volver a poder consumir crack", PLAYER_TEMP[playerid][pt_COOLDOWN_CRACK] - gettime());

				if(PI[playerid][pi_CRACK] <= 0) return ShowPlayerMessage(playerid, "No tienes crack.", 2);
 			    if((gettime() - LimiteCrack[playerid]) < 60 * 3) return ShowPlayerMessage(playerid, "~r~Tienes que esperar 1 minuto para volver a consumir crack.", 3);

    			PLAYER_TEMP[playerid][pt_COOLDOWN_CRACK] = gettime() + 40;
				PI[playerid][pi_CRACK] --;
				GivePlayerArmourEx(playerid, 20.0);
				Auto_SendPlayerAction(playerid, "consume crack.");
				GivePlayerDrunkLevel(playerid, 2000);
				ApplyAnimation(playerid, "FOOD", "EAT_Burger", 0, 0, 0, 0, 0, 0);
		        ApplyAnimation(playerid, "FOOD", "EAT_Burger", 4.1, false, true, true, false, 1000, 1);
			}
			default: ShowPlayerMessage(playerid, "~r~Modo de uso: ~w~/consumir [medicamento - marihuana - crack - alimento]", 2);
		}
	}
	else ShowPlayerMessage(playerid, "~r~Modo de uso: ~w~/consumir [medicamento - marihuana - crack - alimento]", 2);
	return 1;
}

CMD:man(playerid, params[])
{
	switch(YHash(params, false))
	{
		case _I<dar>:
		{
			ShowPlayerDialog
			(
				playerid,
				DIALOG_INFO,
				DIALOG_STYLE_MSGBOX,

					"Manual",
						"\
							Comando: dar\n\
							Sintaxis: dar <opcion> <playerid o nombre> <extra>\n\
							\n\
							Este comando sirve para dar algo a otro jugador cercano.\n\
							Para comprobar que tiene el objeto y la cantidad utilice /inv.\n\
							\n\
							Esta es la lista de opciones:\n\
							    - arma <playerid o nombre> <slot de /armas>\n\
							    - dinero <playerid o nombre> <cantidad>\n\
							    - alimento <playerid o nombre> <slot de /alimentos>\n\
							    - medicamentos <playerid o nombre> <cantidad>\n\
							    - marihuana <playerid o nombre> <cantidad>\n\
							    - crack <playerid o nombre> <cantidad>\n\
							    - kit <playerid o nombre> <cantidad>\n\
							\n\
							Para obtener ayuda diferente use /ayuda.\
						",
					"xCerrar", ""

			);
			return 1;
		}
		case _I<tirar>:
		{
			ShowPlayerDialog
			(
				playerid,
				DIALOG_INFO,
				DIALOG_STYLE_MSGBOX,

					"Manual",
						"\
							Comando: tirar\n\
							Sintaxis: tirar <opcion> <extra>\n\
							\n\
							Este comando sirve para deshacerte de algún objeto.\n\
							\n\
							Esta es la lista de opciones:\n\
							    - arma <slot de /armas>\n\
							    - dinero <cantidad>\n\
							    - alimento <slot de /alimentos>\n\
							    - medicamentos <cantidad>\n\
							    - marihuana <cantidad>\n\
							    - crack <cantidad>\n\
							    - kit <cantidad>\n\
							\n\
							Para obtener ayuda diferente use /ayuda.\
						",
					"xCerrar", ""

			);
			return 1;
		}
		case _I<vender>:
		{
			ShowPlayerDialog
			(
				playerid,
				DIALOG_INFO,
				DIALOG_STYLE_MSGBOX,

					"Manual",
						"\
							Comando: vender\n\
							Sintaxis: vender <opcion> <playerid o nombre> <extra> <precio>\n\
							\n\
							Este comando sirve para vender algo a otro jugador cercano.\n\
							Para comprobar que tiene el objeto y la cantidad utilice /inv.\n\
							\n\
							Esta es la lista de opciones:\n\
							    - arma <playerid o nombre> <slot de /armas> <precio>\n\
							    - alimento <playerid o nombre> <slot de /alimentos> <precio>\n\
							    - medicamentos <playerid o nombre> <cantidad> <precio>\n\
							    - marihuana <playerid o nombre> <cantidad> <precio>\n\
							    - crack <playerid o nombre> <cantidad> <precio>\n\
								- paquete <playerid o nombre> <cantidad> <precio>\n\
							    - coins <playerid o nombre> <cantidad> <precio>\n\
							\n\
							Para obtener ayuda diferente use /ayuda.\
						",
					"xCerrar", ""

			);
			return 1;
		}
		case _I<guardar>:
		{
			ShowPlayerDialog
			(
				playerid,
				DIALOG_INFO,
				DIALOG_STYLE_MSGBOX,

					"Manual",
						"\
							Comando: guardar\n\
							Sintaxis: dar <opcion> <extra>\n\
							Mochilas: mochilag <opcion> <extra>\n\
							\n\
							Este comando sirve para dar algo a otro jugador cercano.\n\
							Para comprobar que tiene el objeto y la cantidad utilice /inv.\n\
							\n\
							Esta es la lista de opciones:\n\
							    - arma <slot de /armas>\n\
							    - medicamentos <cantidad>\n\
							    - marihuana <cantidad>\n\
							    - crack <cantidad>\n\
							\n\
							Para obtener ayuda diferente use /ayuda.\
						",
					"xCerrar", ""

			);
			return 1;
		}
		default: ShowPlayerMessage(playerid, "~r~Modo de uso: ~w~/man [dar-tirar-vender-guardar]", 2);
	}
	return 1;
}

CMD:tirar(playerid, params[])
{
    SetPlayerToys(playerid);
    if(EnEventoDM[playerid]) return ShowPlayerMessage(playerid, "No puedes abrir tus ~y~bolsillos ~w~dentro del evento DM.");
    PLAYER_AC_INFO[playerid][CHEAT_WEAPON][p_ac_info_IMMUNITY] = gettime() + 3;
	PLAYER_AC_INFO[playerid][CHEAT_AMMO][p_ac_info_IMMUNITY] = gettime() + 3;
    ActualizarManos(playerid);
	if(PI[playerid][pi_MANO_DER] == 0){SendClientMessage(playerid, -1, "¡Tu mano derecha esta vacia!"); PlayerPlaySound(playerid,1085,0.0,0.0,0.0); return 1;}
	new ManoDer = PI[playerid][pi_MANO_DER];
	new ManoDerCant = PI[playerid][pi_DER_CANT];
	new string[128], string2[128]; format(string2, 128, "tira un/a %s al suelo.", ObjetoInfo[ManoDer][NombreObjeto]);
	Auto_SendPlayerAction(playerid, string2);
	format(string, sizeof(string), "tiraste tu %s al suelo", ObjetoInfo[ManoDer][NombreObjeto]);
	SendNotification(playerid, string);
    PlayerPlaySound(playerid,1084,0.0,0.0,0.0);
    ApplyAnimation(playerid, "CARRY", "putdwn05", 4.1, 0, 1, 1, 0, 0, 1);
	if(PI[playerid][pi_MANO_DER] == 174) {PI[playerid][pi_MANO_DER] = 0; PI[playerid][pi_DER_CANT] = 0; return 1;}
	ResetPlayerWeapons(playerid);
	PI[playerid][pi_MANO_DER] = 0;
	PI[playerid][pi_DER_CANT] = 0;
	SetPlayerSpecialAction(playerid, 0);
	new Float:X, Float:Y, Float:Z;
	GetPlayerPos(playerid, X, Y, Z);
	new World = GetPlayerVirtualWorld(playerid);
	new Int = GetPlayerInterior(playerid);
	DropObjeto(playerid, ManoDer, ManoDerCant, X, Y, Z, World, Int);
	Streamer_Update(playerid);
	PLAYER_AC_INFO[playerid][CHEAT_WEAPON][p_ac_info_IMMUNITY] = gettime() + 3;
	//BalasActual[playerid] = 0;
	RemovePlayerAttachedObject(playerid, 7);
	SetPlayerToys(playerid);
    return 1;
}

CMD:entrar(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return ShowPlayerMessage(playerid, "Ahora no puedes usar este comando.", 2);
	if(PLAYER_TEMP[playerid][pt_LAST_PICKUP_ID] == 0) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);
		
	new info[3];
	
	new Float:pos[3];
	Streamer_GetArrayData(STREAMER_TYPE_PICKUP, PLAYER_TEMP[playerid][pt_LAST_PICKUP_ID], E_STREAMER_EXTRA_ID, info);
	if(info[0] == PICKUP_TYPE_NONE) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);

	Streamer_GetFloatData(STREAMER_TYPE_PICKUP, PLAYER_TEMP[playerid][pt_LAST_PICKUP_ID], E_STREAMER_X, pos[0]);
	Streamer_GetFloatData(STREAMER_TYPE_PICKUP, PLAYER_TEMP[playerid][pt_LAST_PICKUP_ID], E_STREAMER_Y, pos[1]);
	Streamer_GetFloatData(STREAMER_TYPE_PICKUP, PLAYER_TEMP[playerid][pt_LAST_PICKUP_ID], E_STREAMER_Z, pos[2]);

	switch(info[0])
	{
		case PICKUP_TYPE_ENTER_EXIT:
		{
			PLAYER_TEMP[playerid][pt_HOSPITAL] = GetNearestHospitalForPlayer(playerid);

			if(info[2] == 2) // Está en el Pickup Exterior y quiere ir al interior
			{
				if(ENTER_EXIT[info[1]][ee_TIME_OPEN] == 0 && ENTER_EXIT[info[1]][ee_TIME_CLOSE] == 0) // 24 horas
				{
					PI[playerid][pi_STATE] = ROLEPLAY_STATE_INTERIOR;
					PI[playerid][pi_LOCAL_INTERIOR] = ENTER_EXIT[info[1]][ee_ID];
					PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] = info[1];
					SetPlayerPosEx(playerid, ENTER_EXIT[info[1]][ee_INT_X], ENTER_EXIT[info[1]][ee_INT_Y], ENTER_EXIT[info[1]][ee_INT_Z], ENTER_EXIT[info[1]][ee_INT_ANGLE], ENTER_EXIT[info[1]][ee_INT_INTERIOR], ENTER_EXIT[info[1]][ee_INT_WORLD], false /*ENTER_EXIT[info[1]][ee_INT_FREEZE]*/, true);
					FreezePlayer(playerid);
					CallLocalFunction("OnPlayerEnterInterior", "ii", playerid, info[1]);
				}
			}
		}
		case PICKUP_TYPE_PROPERTY:
		{
		   PLAYER_TEMP[playerid][pt_HOSPITAL] = GetNearestHospitalForPlayer(playerid);

           if(info[2] == 1) // Está en el Pickup Interior y quiere ir al exterior
           {
            	PI[playerid][pi_STATE] = ROLEPLAY_STATE_NORMAL;
                PI[playerid][pi_LOCAL_INTERIOR] = 0;
                PLAYER_TEMP[playerid][pt_PROPERTY_INDEX] = -1;
				SetPlayerPosEx(playerid, PROPERTY_INFO[info[1]][property_EXT_X], PROPERTY_INFO[info[1]][property_EXT_Y], PROPERTY_INFO[info[1]][property_EXT_Z], PROPERTY_INFO[info[1]][property_EXT_ANGLE], PROPERTY_INFO[info[1]][property_EXT_INTERIOR], 0, false /*PROPERTY_INFO[info[1]][property_EXT_FREEZE]*/, false);
				SetPlayerSpecialAction(playerid, SPECIAL_ACTION_NONE);
				StopAudioStreamForPlayer(playerid);
                FreezePlayer(playerid);
            }
			else if(info[2] == 2) // Está en el Pickup Exterior y quiere ir al interior
			{
				if(PROPERTY_INFO[info[1]][property_POLICE_FORCED] && (PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET] && PLAYER_TEMP[playerid][pt_WORKING_IN] == WORK_POLICE)) {
					new Float:z_pos = PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_Z];
					if(PROPERTY_INFO[info[1]][property_DIS_DEFAULT_INTERIOR]) z_pos += PROPERTY_EMPTY_INTERIOR_Z_OFFSET;
					SetPlayerPosEx(playerid, PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_X], PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_Y], z_pos, PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_ANGLE], PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_INTERIOR], PROPERTY_INFO[info[1]][property_ID], false /*PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_FREEZE]*/, true);
					FreezePlayer(playerid);
					return 1;
				}
				if(!PROPERTY_INFO[info[1]][property_SOLD]) return ShowPlayerMessage(playerid, "Esta propiedad está en venta.", 2);
				
				if(PROPERTY_INFO[info[1]][property_EXTRA1] == 0)
				{
				if(PROPERTY_INFO[info[1]][property_CREW])
				{
					if(!PI[playerid][pi_CREW]) return SendFormatNotification(playerid, "Solo miembros de la banda pueden entrar.", 2);
					if(PI[playerid][pi_CREW] != PROPERTY_INFO[info[1]][property_CREW_ID]) return SendFormatNotification(playerid, "Solo miembros de la banda pueden entrar.", 2);
					
					PI[playerid][pi_STATE] = ROLEPLAY_STATE_GUEST_PROPERTY;
					PI[playerid][pi_LOCAL_INTERIOR] = PROPERTY_INFO[info[1]][property_ID];
					PLAYER_TEMP[playerid][pt_PROPERTY_INDEX] = info[1];

					new Float:z_pos = PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_Z];
					if(PROPERTY_INFO[info[1]][property_DIS_DEFAULT_INTERIOR]) z_pos += PROPERTY_EMPTY_INTERIOR_Z_OFFSET;
					SetPlayerPosEx(playerid, PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_X], PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_Y], z_pos, PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_ANGLE], PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_INTERIOR], PROPERTY_INFO[info[1]][property_ID], false /*PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_FREEZE]*/, true);
					FreezePlayer(playerid);
				}
					else
					{
						if(PROPERTY_INFO[info[1]][property_OWNER_ID] == PI[playerid][pi_ID])
						{
							PI[playerid][pi_STATE] = ROLEPLAY_STATE_GUEST_PROPERTY;
							PI[playerid][pi_LOCAL_INTERIOR] = PROPERTY_INFO[info[1]][property_ID];
							PLAYER_TEMP[playerid][pt_PROPERTY_INDEX] = info[1];
							SetPlayerPosEx(playerid, PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_X], PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_Y], PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_Z], PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_ANGLE], PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_INTERIOR], PROPERTY_INFO[info[1]][property_ID], PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_FREEZE], true);
						}
						else
						{
							if(gettime() < PLAYER_TEMP[playerid][pt_ANTIFLOOD_KNOCK_PROPERTY] + 10) return SendClientMessage(playerid, 0xFFFFFFFF, "Espera para volver a tocar, si no te quieren abrir vete.");

							new owner_playerid = GetOwnerIntProperty(PROPERTY_INFO[info[1]][property_ID]);
							if(owner_playerid == -1) return SendClientMessage(playerid, -1, "{FFFFFF}Esta no es tu propiedad y el dueño no está dentro para dejarte entrar.");

							PLAYER_TEMP[playerid][pt_ANTIFLOOD_KNOCK_PROPERTY] = gettime();
							PLAYER_TEMP[owner_playerid][pt_KNOCK_PLAYER_ID] = playerid;
							SendClientMessageEx(owner_playerid, -1, "{00FF00}%s {FFFFFF}está tocando la puerta, para dejarle entrar ve a la puerta y usa {FFFF00}/puerta.", PLAYER_TEMP[playerid][pt_RP_NAME]);
							SendClientMessage(playerid, -1, "{FFFFFF}Has tocado en la puerta, espera para que te abran o vete.");
						}
					}
				}
			 	if(PROPERTY_INFO[info[1]][property_EXTRA1] == 4)
				{
					if(PROPERTY_INFO[info[1]][property_OWNER_ID] == PI[playerid][pi_ID])
					{
						PI[playerid][pi_STATE] = ROLEPLAY_STATE_OWN_PROPERTY;
						PI[playerid][pi_LOCAL_INTERIOR] = PROPERTY_INFO[info[1]][property_ID];
						PLAYER_TEMP[playerid][pt_PROPERTY_INDEX] = info[1];
						SetPlayerPosEx(playerid, PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_X], PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_Y], PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_Z], PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_ANGLE], PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_INTERIOR], PROPERTY_INFO[info[1]][property_ID], PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_FREEZE], true);
					}
					else
					{
						PI[playerid][pi_LOCAL_INTERIOR] = PROPERTY_INFO[info[1]][property_ID];
						PLAYER_TEMP[playerid][pt_PROPERTY_INDEX] = info[1];
						SetPlayerPosEx(playerid, PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_X], PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_Y], PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_Z], PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_ANGLE], PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_INTERIOR], PROPERTY_INFO[info[1]][property_ID], PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_FREEZE], true);
					}
				}
			}
			else ShowPlayerMessage(playerid, "No estás en el lugar adecuado", 2);
		}
		default: ShowPlayerMessage(playerid, "No estás en el lugar adecuado", 3);
	}
	return 1;
}

CMD:sotano(playerid, params[])
{
	new item[22];
	if(sscanf(params, "s[22]", item)) return SendNotification(playerid, "Uso: /sotano [entrar - salir]");
	if(strcmp(item, "entrar", true) == 0)
	{
		    new index = GetPropertyIndexByID(PI[playerid][pi_LOCAL_INTERIOR]);
		    if(index == -1) return SendNotification(playerid, "No estas en el lugar adecuado.");
	    	new info[3];
		    Streamer_GetArrayData(STREAMER_TYPE_PICKUP, PLAYER_TEMP[playerid][pt_LAST_PICKUP_ID], E_STREAMER_EXTRA_ID, info);
		    
			SetPlayerPosEx(playerid, 2218.5437,728.5158,647.1651, 0, 0, true);
			SetPlayerFacingAngle(playerid, 180.00);
			FreezePlayer(playerid);
			SetPlayerVirtualWorld(playerid, PROPERTY_INFO[info[1]][property_ID]);
			SendNotification(playerid, "Entraste al sotano de tu casa");
		    return true;
	}
	if(strcmp(item, "salir", true) == 0)
	{
		new index = GetPropertyIndexByID(PI[playerid][pi_LOCAL_INTERIOR]);
		new Float:z_pos = PROPERTY_INTERIORS[ PROPERTY_INFO[index][property_ID_INTERIOR] ][property_INT_Z];
		SetPlayerPosEx(playerid, PROPERTY_INTERIORS[ PROPERTY_INFO[index][property_ID_INTERIOR] ][property_INT_X], PROPERTY_INTERIORS[ PROPERTY_INFO[index][property_ID_INTERIOR] ][property_INT_Y], z_pos, PROPERTY_INTERIORS[ PROPERTY_INFO[index][property_ID_INTERIOR] ][property_INT_ANGLE], PROPERTY_INTERIORS[ PROPERTY_INFO[index][property_ID_INTERIOR] ][property_INT_INTERIOR], PROPERTY_INFO[index][property_ID], false /*PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_FREEZE]*/, true);
		FreezePlayer(playerid);
		return true;
	}
	return true;
}

CMD:puerta(playerid, params[])
{
	if(PI[playerid][pi_STATE] != ROLEPLAY_STATE_OWN_PROPERTY) return SendNotification(playerid, "No estas en un lugar adecuado.");

    new index = GetPropertyIndexByID(PI[playerid][pi_LOCAL_INTERIOR]);
    if(index == -1) return SendNotification(playerid, "No estas en el lugar adecuado.");
   	new info[3];
    Streamer_GetArrayData(STREAMER_TYPE_PICKUP, PLAYER_TEMP[playerid][pt_LAST_PICKUP_ID], E_STREAMER_EXTRA_ID, info);

    if(PROPERTY_INFO[info[1]][property_OWNER_ID] == PI[playerid][pi_ID])
    {
			if(PLAYER_TEMP[playerid][pt_KNOCK_PLAYER_ID] == INVALID_PLAYER_ID) return SendNotification(playerid, "Nadie ha tocado en la puerta.");
			if(!IsPlayerConnected(PLAYER_TEMP[playerid][pt_KNOCK_PLAYER_ID])) return SendNotification(playerid, "Nadie ha tocado en la puerta o ya se ha ido.");
			if(!IsPlayerInRangeOfPoint(PLAYER_TEMP[playerid][pt_KNOCK_PLAYER_ID], 3.0, PROPERTY_INFO[info[1]][property_EXT_X], PROPERTY_INFO[info[1]][property_EXT_Y], PROPERTY_INFO[info[1]][property_EXT_Z])) return SendNotification(playerid, "Nadie ha tocado en la puerta o ya se ha ido.");
			if(PLAYER_TEMP[playerid][pt_GAME_STATE] != GAME_STATE_NORMAL) return SendNotification(playerid, "Este jugador no puede entrar ahora.");

			PLAYER_TEMP[PLAYER_TEMP[playerid][pt_KNOCK_PLAYER_ID]][pt_HOSPITAL] = GetNearestHospitalForPlayer(PLAYER_TEMP[playerid][pt_KNOCK_PLAYER_ID]);

			PI[PLAYER_TEMP[playerid][pt_KNOCK_PLAYER_ID]][pi_STATE] = ROLEPLAY_STATE_GUEST_PROPERTY;
			PI[PLAYER_TEMP[playerid][pt_KNOCK_PLAYER_ID]][pi_LOCAL_INTERIOR] = PROPERTY_INFO[info[1]][property_ID];
			PLAYER_TEMP[PLAYER_TEMP[playerid][pt_KNOCK_PLAYER_ID]][pt_PROPERTY_INDEX] = info[1];

			new Float:z_pos = PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_Z];
			if(PROPERTY_INFO[info[1]][property_DIS_DEFAULT_INTERIOR]) z_pos += PROPERTY_EMPTY_INTERIOR_Z_OFFSET;
			SetPlayerPosEx(PLAYER_TEMP[playerid][pt_KNOCK_PLAYER_ID], PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_X], PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_Y], z_pos, PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_ANGLE], PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_INTERIOR], PROPERTY_INFO[info[1]][property_ID], false /*PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_FREEZE]*/, true);
			FreezePlayer(PLAYER_TEMP[playerid][pt_KNOCK_PLAYER_ID]);
    }
    else SendNotification(playerid, "No estas en el lugar adecuado.");
	return 1;
}

CMD:pvender(playerid, params[])
{
	if(PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] == -1 || ENTER_EXIT[ PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] ][ee_INTERIOR_TYPE] != INTERIOR_CITY_HALL_LS) return 1;
	if(!IsPlayerInRangeOfPoint(playerid, 1.0, 615.939758, -3.462686, 1000.990295)) return 1;
	if(PI[playerid][pi_LEVEL] < 2) return ShowPlayerMessage(playerid, "Debes ser al menos nivel 2 para usar este comando.", 2);
	if(PI[playerid][pi_BANK_ACCOUNT] == 0) return ShowPlayerMessage(playerid, "Necesitas tener una cuenta bancaria para poder realizar estas operaciones.", 2);

	ShowDialog(playerid, DIALOG_NOTARY);
	return 1;
}

CMD:propiedades(playerid, params[])
{
	if(PLAYER_TEMP[playerid][pt_LAST_PICKUP_ID] == 0) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);

	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_OWN_PROPERTY || PI[playerid][pi_STATE] == ROLEPLAY_STATE_GUEST_PROPERTY) {
		new index = GetPropertyIndexByID(PI[playerid][pi_LOCAL_INTERIOR]);
		if(index == -1) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);

		if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_OWN_PROPERTY)
		{
			if(PROPERTY_INFO[index][property_OWNER_ID] == PI[playerid][pi_ID])
			{
				PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] = index;
				ShowDialog(playerid, DIALOG_PROPERTY_OPTIONS);
			}
			else ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);
		}
		else if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_GUEST_PROPERTY)
		{
			if(PROPERTY_INFO[index][property_CREW])
			{
				if(PROPERTY_INFO[index][property_CREW_ID] != PI[playerid][pi_CREW]) return ShowPlayerMessage(playerid, "Esta no es una propiedad de tu banda.", 2);
				if(!CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_PERMISSION][CREW_RANK_DELETE_PROPERTIES]) return ShowPlayerMessage(playerid, "No tienes permiso.", 2);
				if(CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_FIGHTING]) return ShowPlayerMessage(playerid, "No puedes liberar una propiedad cuando tu banda está en combate.", 2);

				PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] = index;
				ShowDialog(playerid, DIALOG_CREW_LEAVE_PROPERTY);
			}
			else ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);
		}
	}
	else ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);
	return 1;
}

CMD:armario(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_OWN_PROPERTY)
	{
		new index = GetPropertyIndexByID(PI[playerid][pi_LOCAL_INTERIOR]);
		if(index == -1) return ShowPlayerMessage(playerid, "BUG: CMD /armario, Tome captura y contacte con administrador.", 2);
		if(PROPERTY_INFO[index][property_OWNER_ID] != PI[playerid][pi_ID]) return ShowPlayerMessage(playerid, "Esta no es tu casa");

		new Float:z_pos = PROPERTY_CLOSET_POS[ PROPERTY_INFO[index][property_ID_INTERIOR] ][property_closet_Z];
		if(PROPERTY_INFO[index][property_DIS_DEFAULT_INTERIOR]) z_pos += PROPERTY_EMPTY_INTERIOR_Z_OFFSET;
		if(IsPlayerInRangeOfPoint(playerid, 1.0, PROPERTY_CLOSET_POS[ PROPERTY_INFO[index][property_ID_INTERIOR] ][property_closet_X], PROPERTY_CLOSET_POS[ PROPERTY_INFO[index][property_ID_INTERIOR] ][property_closet_Y], z_pos))
		{
			PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY] = index;
			ShowDialog(playerid, DIALOG_PROPERTY_CLOSET);
		}
		else ShowPlayerMessage(playerid, "No estás cerca del armario.", 2);
	}
	else ShowPlayerMessage(playerid, "No estás en tu casa.", 2);
	return 1;
}

CMD:garmas(playerid, params[])
{
	new weaponid, ammo;
	if(PI[playerid][pi_ADMIN_LEVEL] < 4) return SendClientMessageEx(playerid, -1, "{D50000}» {FFFFFF}Comando introducido incorrecto usa el comando {66c4e4}/ayuda.");
	if(sscanf(params, "dd", weaponid, ammo)) return SendNotification(playerid, "Uso: /garmas [weaponid] [balas]");
	if(!WEAPON_INFO[weaponid][weapon_info_AMMO]) ammo = 1;
	new msg[128];
	format(msg, sizeof msg, "El administrador {2e5eff}%s {FFFFFF}ha regalado un arma a todo el servidor: {2e5eff}%s", PLAYER_TEMP[playerid][pt_RP_NAME], WEAPON_INFO[weaponid][weapon_info_NAME]);
	SendClientMessageToAll(-1, msg);
	for(new i, j = GetPlayerPoolSize()+1; i<j; i++)
	{
		if(!IsPlayerConnected(i)) continue;
	    new ManoDer = PI[i][pi_MANO_DER];
	    if(ManoDer == 0)
		{
			new checki = GetWeaponCheckID(weaponid);
			if(ObjetoInfo[checki][IDArma] > 0) //Es un arma
			{
				PonerObjeto(playerid, 1, checki);
				GivePlayerWeaponEx(i, ObjetoInfo[checki][IDArma], ObjetoInfo[checki][Capacidad]); //Le da el arma
				PI[i][pi_MANO_DER] = checki;
				PI[i][pi_DER_CANT] = ObjetoInfo[checki][Capacidad];
			}
		}
	}
	return 1;
}

CMD:echar(playerid, params[])
{
	if(sscanf(params, "u", params[0])) return ShowPlayerMessage(playerid, "~r~Modo de uso: ~w~/echar [PlayerID/Nombre]", 2);
	if(!IsPlayerConnected(params[0])) return ShowPlayerMessage(playerid, "El jugador no está conectado.", 2);
	if(playerid == params[0]) return ShowPlayerMessage(playerid, "No te eches a ti mismo.", 2);


	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_OWN_PROPERTY)
	{
		if( PI[params[0]][pi_STATE] == ROLEPLAY_STATE_GUEST_PROPERTY && PI[params[0]][pi_LOCAL_INTERIOR] == PI[playerid][pi_LOCAL_INTERIOR])
		{
			new index = GetPropertyIndexByID(PI[playerid][pi_LOCAL_INTERIOR]);
			if(index == -1) return ShowPlayerMessage(playerid, "BUG: CMD /ECHAR, Tome captura y contacte con administrador.", 2);

			PI[params[0]][pi_STATE] = ROLEPLAY_STATE_NORMAL;
			PI[params[0]][pi_LOCAL_INTERIOR] = 0;
			PLAYER_TEMP[params[0]][pt_PROPERTY_INDEX] = -1;
			SetPlayerPosEx(params[0], PROPERTY_INFO[ index ][property_EXT_X], PROPERTY_INFO[ index ][property_EXT_Y], PROPERTY_INFO[ index ][property_EXT_Z], PROPERTY_INFO[ index ][property_EXT_ANGLE], PROPERTY_INFO[ index ][property_EXT_INTERIOR], 0, false /*PROPERTY_INFO[ index ][property_EXT_FREEZE]*/, false);
			StopAudioStreamForPlayer(params[0]);
			FreezePlayer(params[0]);

			SendFormatNotification(params[0], "~r~%s ~w~te ha echado de su propiedad.", PLAYER_TEMP[playerid][pt_RP_NAME]);
			SendFormatNotification(playerid, "Has echado a ~r~%s ~w~de tu propiedad.", PLAYER_TEMP[params[0]][pt_RP_NAME]);
		}
		else ShowPlayerMessage(playerid, "Este jugador no está en tu propiedad.", 2);
		return 1;
	}

	if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER)
	{
		new vehicleid = GetPlayerVehicleID(playerid);

		if(!PLAYER_VEHICLES[vehicleid][player_vehicle_VALID]) return ShowPlayerMessage(playerid, "Este no es tú vehiculo.", 2);
		if(PLAYER_VEHICLES[vehicleid][player_vehicle_OWNER_ID] != PI[playerid][pi_ID]) return ShowPlayerMessage(playerid, "Este no es tú vehiculo.", 2);
		if(GetPlayerVehicleID(params[0]) != vehicleid) return ShowPlayerMessage(playerid, "Este jugador no está en tu vehiculo.", 2);

		RemovePlayerFromVehicle(params[0]);

		new action[64];
		format(action, sizeof action, "ha echado a %s de su vehiculo.", PLAYER_TEMP[ params[0] ][pt_RP_NAME]);
		Auto_SendPlayerAction(playerid, action);
		return 1;
	}

	ShowPlayerMessage(playerid, "No estás en tu propiedad o en tu vehiculo.", 2);
	return 1;
}

CMD:taximetro(playerid, params[])
{
	if(GetPlayerState(playerid) != PLAYER_STATE_DRIVER) return ShowPlayerMessage(playerid, "No estás conduciendo.", 2);
	if(!PLAYER_WORKS[playerid][WORK_TAXI][pwork_SET]) return ShowPlayerMessage(playerid, "No eres taxista.", 2);

	new vehicleid = GetPlayerVehicleID(playerid);
	if(TAXI_METER_VEHICLE[vehicleid][veh_taxi_meter_ENABLED]) return ShowPlayerMessage(playerid, "Solo puedes cambiar la tarifa cuando no haya ningún pasajero.", 2);
	ShowDialog(playerid, DIALOG_TARIFA_GPS);
	StartPlayerJob(playerid, WORK_TAXI, vehicleid);
	return 1;
}

CMD:tcargar(playerid, params[])
{
    // 1. Verificamos si el jugador tiene el trabajo de trailero
    if(!PLAYER_WORKS[playerid][WORK_TRAILERO][pwork_SET]) 
        return SendNotification(playerid, "No eres trailero.");

    // 2. Verificamos si ya tiene una carga para no acumular
    if(PLAYER_TEMP[playerid][pt_CARGADO]) 
        return SendNotification(playerid, "Ya llevas una carga activa.");

    // 3. Verificamos si está en el vehículo correcto
    new vehid = GetPlayerVehicleID(playerid);
    new model = GetVehicleModel(vehid);
    
    if(model != 403 && model != 514 && model != 515)
        return SendNotification(playerid, "Debes estar en un camion (Linerunner, Tanker o Roadtrain).");

    // 4. Bucle para verificar si está en alguna de las posiciones de carga
    new bool:en_punto = false;
    for(new i = 0; i < sizeof(Puntos_Carga_Trailer); i++)
    {
        // Usamos un radio de 5.0 metros para que no tenga que estar "pixel perfect"
        if(IsPlayerInRangeOfPoint(playerid, 5.0, Puntos_Carga_Trailer[i][pc_X], Puntos_Carga_Trailer[i][pc_Y], Puntos_Carga_Trailer[i][pc_Z]))
        {
            en_punto = true;
            break;
        }
    }

    if(en_punto)
    {
        // Si está en el rango, abrimos el menú
        AbrirMenuRutasTrailero(playerid);
    }
    else 
    {
        SendNotification(playerid, "No estás en un punto de carga de trailers.");
    }
    
    return 1;
}


CMD:cargar(playerid, params[])
{
	if(GetPlayerState(playerid) != PLAYER_STATE_DRIVER) return ShowPlayerMessage(playerid, "No estás conduciendo.", 2);

	new vehicleid = GetPlayerVehicleID(playerid);
	if(!WORK_VEHICLES[vehicleid][work_vehicle_VALID]) return ShowPlayerMessage(playerid, "No estás en un vehiculo de carga.", 2);
	if(WORK_VEHICLES[vehicleid][work_vehicle_WORK] != WORK_TRUCK && WORK_VEHICLES[vehicleid][work_vehicle_WORK]) return ShowPlayerMessage(playerid, "No estás en un vehiculo de carga.", 2);

	if(PLAYER_WORKS[playerid][WORK_TRUCK][pwork_SET] && PLAYER_TEMP[playerid][pt_WORKING_IN] == WORK_TRUCK) {
		for(new i = 0; i != sizeof LoadTrucksPoints; i ++)
		{
			if(IsPlayerInRangeOfPoint(playerid, 3.0, LoadTrucksPoints[i][0], LoadTrucksPoints[i][1], LoadTrucksPoints[i][2]))
			{
				new Float:angle;
				GetVehicleZAngle(vehicleid, angle);
				if(angle > 180.0) angle -= 360.0;

				if(angle > (LoadTrucksPoints[i][3] - 15.0) && angle < (LoadTrucksPoints[i][3] + 15.0))
				{
					if(TRUCK_VEHICLE[vehicleid][truck_vehicle_LOADED]) return ShowPlayerMessage(playerid, "El camión ya está cargado.", 2);
					if(TRUCK_VEHICLE[vehicleid][truck_vehicle_LOADING]) return ShowPlayerMessage(playerid, "El camión ya se está cargando.", 2);

					TRUCK_VEHICLE[vehicleid][truck_vehicle_LOADING] = true;
					TRUCK_VEHICLE[vehicleid][truck_vehicle_DRIVER_USER_ID] = PI[playerid][pi_ID];

					SetVehicleVelocity(vehicleid, 0.0, 0.0, 0.0);

					GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_ENGINE] = 0;
					UpdateVehicleParams(vehicleid);

					ShowDialog(playerid, DIALOG_SELECT_TRUCK_TYPE);
				}
				else ShowPlayerMessage(playerid, "El camión no está correctamente colocado para cargarlo.", 2);
				return 1;
			}
		}
		ShowPlayerMessage(playerid, "Para cargar el camión colocate en cualquier punto de carga.", 2);
	}
	else ShowPlayerMessage(playerid, "No estás trabajando en camionero o repartidor.", 2);
	return 1;
}


CMD:salir(playerid, params[])
{	
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return ShowPlayerMessage(playerid, "Ahora no puedes usar este comando.", 2);
	if(PLAYER_TEMP[playerid][pt_LAST_PICKUP_ID] == 0) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);
		
	new info[3];
	
	new Float:pos[3];
	Streamer_GetArrayData(STREAMER_TYPE_PICKUP, PLAYER_TEMP[playerid][pt_LAST_PICKUP_ID], E_STREAMER_EXTRA_ID, info);
	if(info[0] == PICKUP_TYPE_NONE) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);

	Streamer_GetFloatData(STREAMER_TYPE_PICKUP, PLAYER_TEMP[playerid][pt_LAST_PICKUP_ID], E_STREAMER_X, pos[0]);
	Streamer_GetFloatData(STREAMER_TYPE_PICKUP, PLAYER_TEMP[playerid][pt_LAST_PICKUP_ID], E_STREAMER_Y, pos[1]);
	Streamer_GetFloatData(STREAMER_TYPE_PICKUP, PLAYER_TEMP[playerid][pt_LAST_PICKUP_ID], E_STREAMER_Z, pos[2]);

	if(!IsPlayerInRangeOfPoint(playerid, 1.5, pos[0], pos[1], pos[2])) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);

	switch(info[0])
	{
		case PICKUP_TYPE_ENTER_EXIT:
		{
			if(info[2] == 1) // Está en el Pickup Interior y quiere ir al exterior
			{
				PI[playerid][pi_STATE] = ROLEPLAY_STATE_NORMAL;
				PI[playerid][pi_LOCAL_INTERIOR] = 0;
				PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] = -1;
				SetPlayerPosEx(playerid, ENTER_EXIT[info[1]][ee_EXT_X], ENTER_EXIT[info[1]][ee_EXT_Y], ENTER_EXIT[info[1]][ee_EXT_Z], ENTER_EXIT[info[1]][ee_EXT_ANGLE], ENTER_EXIT[info[1]][ee_EXT_INTERIOR], ENTER_EXIT[info[1]][ee_EXT_WORLD], false /*ENTER_EXIT[info[1]][ee_EXT_FREEZE]*/);
				SetPlayerSpecialAction(playerid, SPECIAL_ACTION_NONE);
				StopAudioStreamForPlayer(playerid);
				FreezePlayer(playerid);
				CallLocalFunction("OnPlayerExitInterior", "ii", playerid, info[1]);
			}
			else ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);
		}
		case PICKUP_TYPE_PROPERTY:
		{
			if(info[2] == 1) // Está en el Pickup Interior y quiere ir al exterior
			{
				PI[playerid][pi_STATE] = ROLEPLAY_STATE_NORMAL;
				PI[playerid][pi_LOCAL_INTERIOR] = 0;
				PLAYER_TEMP[playerid][pt_PROPERTY_INDEX] = -1;
				SetPlayerPosEx(playerid, PROPERTY_INFO[info[1]][property_EXT_X], PROPERTY_INFO[info[1]][property_EXT_Y], PROPERTY_INFO[info[1]][property_EXT_Z], PROPERTY_INFO[info[1]][property_EXT_ANGLE], PROPERTY_INFO[info[1]][property_EXT_INTERIOR], 0, false /*PROPERTY_INFO[info[1]][property_EXT_FREEZE]*/, false);
				SetPlayerSpecialAction(playerid, SPECIAL_ACTION_NONE);
				StopAudioStreamForPlayer(playerid);
				FreezePlayer(playerid);
			}
			else ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);
		}
		default: ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);
	}
	return 1;
}

CMD:gasolina(playerid, params[])
{
	if(GetPlayerInterior(playerid) != 0) return SendNotification(playerid, "No estás en el lugar adecuado.");
	if(GetPlayerState(playerid) != PLAYER_STATE_DRIVER) return SendNotification(playerid, "No estás en nigún vehiculo.");
	
	new vehicleid = GetPlayerVehicleID(playerid), modelid = GetVehicleModel(vehicleid);
	if(!VEHICLE_INFO[modelid - 400][vehicle_info_NORMAL_SPEEDO]) return SendNotification(playerid, "No puedes repostar este vehiculo.");
	
	new fuel_station = -1;
	for(new i = 0; i < sizeof Fuel_Stations; i++)
	{
		if(IsPlayerInRangeOfPoint(playerid, 5.0, Fuel_Stations[i][fs_X], Fuel_Stations[i][fs_Y], Fuel_Stations[i][fs_Z]))
		{
			fuel_station = i;
			break;
		}
	}
	if(fuel_station == -1) return SendNotification(playerid, "No estás en el lugar adecuado.");
	
	if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_MAX_GAS] <= 0.0) return SendNotification(playerid, "Este vehiculo no tiene depósito de gasolina.");
	if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_ENGINE])
	{
		SendNotification(playerid, "Por favor, para primero el motor del vehiculo.");
		return 1;
	}
	
	if(!sscanf(params, "d", params[0]))
	{
		new Float:amount = float(params[0]);
		if(amount < 0.0) return SendNotification(playerid, "~r~Modo de uso: ~w~/gasolina [litros / lleno]");
		if(amount + GLOBAL_VEHICLES[vehicleid][gb_vehicle_GAS] > GLOBAL_VEHICLES[vehicleid][gb_vehicle_MAX_GAS]) amount = GLOBAL_VEHICLES[vehicleid][gb_vehicle_MAX_GAS] - GLOBAL_VEHICLES[vehicleid][gb_vehicle_GAS];
		
		new price = floatround( floatmul(amount, 9.0) );
		
		if(PI[playerid][pi_CASH] >= price)
		{
			if(GivePlayerCash(playerid, -price, true, true)) {
				GLOBAL_VEHICLES[vehicleid][gb_vehicle_GAS] += amount;
				
				PlayerPlaySoundEx(playerid, 1058, 0.0, 0.0, 0.0);
				SendFormatNotification(playerid, "Cantidad: ~b~%.1f litros~n~~w~Precio: ~g~%s dólares~w~", amount, number_format_thousand(price));
				Auto_SendPlayerAction(playerid, "ha repostado el vehiculo.");
			}
		}
		else
		{
			PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
			SendFormatNotification(playerid, "No tienes dinero suficiente, te faltan ~r~%s$~w~ para poder repostar {588dc9}%.1f.", number_format_thousand(price - PI[playerid][pi_CASH]), amount);
		}
		return 1;
	}
	
	new text[24];
	if(!sscanf(params, "s[24]", text))
	{
		if(!strcmp(text, "lleno", true))
		{
			new Float:amount = floatsub(GLOBAL_VEHICLES[vehicleid][gb_vehicle_MAX_GAS], GLOBAL_VEHICLES[vehicleid][gb_vehicle_GAS]);

			new price = floatround( floatmul(amount, 9.0) );
			if(PI[playerid][pi_CASH] >= price)
			{
				if(GivePlayerCash(playerid, -price, true, true)) {
					GLOBAL_VEHICLES[vehicleid][gb_vehicle_GAS] = GLOBAL_VEHICLES[vehicleid][gb_vehicle_MAX_GAS];
					
					PlayerPlaySoundEx(playerid, 1058, 0.0, 0.0, 0.0);
					SendFormatNotification(playerid, "Cantidad: ~b~%.1f litros~n~~w~Precio: ~g~%s dólares~w~.", amount, number_format_thousand(price));
					Auto_SendPlayerAction(playerid, "ha repostado el vehiculo.");
				}
			}
			else
			{
				PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
				SendFormatNotification(playerid, "No tienes dinero suficiente, te faltan ~r~%s$~w~ para poder repostar {588dc9}%.1f.", number_format_thousand(price - PI[playerid][pi_CASH]), amount);
			}
		}
		else SendNotification(playerid, "~r~Modo de uso: ~w~/gasolina [litros / lleno]");
		return 1;
	}
	
	SendNotification(playerid, "~r~Modo de uso: ~w~/gasolina [litros / lleno]");
	return 1;
}

CMD:bidon(playerid, params[])
{
    new player_slot = GetEmptyInvSlot(playerid);
    if(250 > PI[playerid][pi_CASH]) return SendNotification(playerid, "Dinero Insuficiente.");
    if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
	if(GetPlayerInterior(playerid) != 0) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);

	new fuel_station = -1;
	for(new i = 0; i < sizeof Fuel_Stations; i++)
	{
		if(IsPlayerInRangeOfPoint(playerid, 5.0, Fuel_Stations[i][fs_X], Fuel_Stations[i][fs_Y], Fuel_Stations[i][fs_Z]))
		{
			fuel_station = i;
			break;
		}
	}
	if(fuel_station == -1) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);

    new checki = 112;
	PI[playerid][pi_BOL][player_slot] = checki;
    PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
	if(GivePlayerCash(playerid, -250, true, true))
	ShowPlayerMessage(playerid, "Has comprado un bidón de gasolina de 20 litros por 250$, usa ~g~/vertir o Y~w~para repostar un vehiculo.", 2);
	return 1;
}


CMD:vertil(playerid, params[])
{
	if(GetPlayerState(playerid) != PLAYER_STATE_ONFOOT) return ShowPlayerMessage(playerid, "Tienes que estar fuera del vehiculo para vertir el bidón.", 2);

	new vehicleid = VehMasCercano(playerid, 5.0);
	if(vehicleid == INVALID_VEHICLE_ID) return ShowPlayerMessage(playerid, "No estás cerca de ningún vehiculo.", 2);
	
	if(PLAYER_TEMP[playerid][pt_ROL] == 0)
	                {
	                ShowPlayerMessage(playerid, "~y~-~w~Rolea ~y~Entorno.", 2);
	                return 1;
	                 }

	if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_ENGINE])
	{
		ShowPlayerMessage(playerid, "Por favor, para primero el motor del vehiculo.", 2);
		return 1;
	}
	if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_MAX_GAS] <= 0.0) return ShowPlayerMessage(playerid, "Este vehiculo no tiene depósito de gasolina.", 2);

	ShowDialog(playerid, DIALOG_BIDON);
	return 1;
}

CMD:vertilx(playerid, params[])
{
	if(GetPlayerState(playerid) != PLAYER_STATE_ONFOOT) return ShowPlayerMessage(playerid, "Tienes que estar fuera del vehiculo para vertir el bidón.", 2);

	new vehicleid = VehMasCercano(playerid, 5.0);
	if(vehicleid == INVALID_VEHICLE_ID) return ShowPlayerMessage(playerid, "No estás cerca de ningún vehiculo.", 2);

	if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_ENGINE])
	{
		ShowPlayerMessage(playerid, "Por favor, para primero el motor del vehiculo.", 2);
		return 1;
	}
	if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_MAX_GAS] <= 0.0) return ShowPlayerMessage(playerid, "Este vehiculo no tiene depósito de gasolina.", 2);

	ShowDialog(playerid, DIALOG_BIDONX);
	return 1;
}

CMD:setfdrum(playerid, params[])
{
	new to_player, amount;
	if(sscanf(params, "ud", to_player, amount)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /setfdrum <player_id> <valor>", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);

	PI[to_player][pi_FUEL_DRUM] = amount;

	SendCmdLogToAdmins(playerid, "setfdrum", params);
	return 1;
}

SendPlayerAction(playerid, action[])
{
	new str_text[190];
	if(!haveMask[playerid]) format(str_text, 145, "* %s %s", PLAYER_TEMP[playerid][pt_RP_NAME], action);
	else format(str_text, 145, "* Desconocido (%d) %s", playerid, action);
	ProxDetector(playerid, 15.0, str_text, 0xe4a513FF, 0xe4a513FF, 0xe4a513FF, 0xe4a513FF, 0xe4a513FF, 85);
	return 1;
}

Auto_SendPlayerAction(playerid, action[])
{
	new str_text[145];
	if(!haveMask[playerid]) format(str_text, 145, "* %s %s", PLAYER_TEMP[playerid][pt_RP_NAME], action);
	else format(str_text, 145, "* Desconocido (%d) %s", playerid, action);
	ProxDetector(playerid, 15.0, str_text, 0xD696FFFF, 0xD696FFFF, 0xD696FFFF, 0xD696FFFF, 0xD696FFFF);
	
	ChatBubbleAjustable(playerid, str_text, 0xD696FFFF, 10.0, 4000);
	return 1;
}

ShowDialog(playerid, dialogid)
{
	PLAYER_TEMP[playerid][pt_DIALOG_RESPONDED] = false;
	PLAYER_TEMP[playerid][pt_DIALOG_SHOW] = true;
	PLAYER_TEMP[playerid][pt_DIALOG_ID] = dialogid;

    switch(dialogid)
	{
	    case DIALOG_PLAYER_RENUNCIO:
		{
			new player_jobs = CountPlayerJobs(playerid);
			if(!player_jobs) return SendNotification(playerid, "No tienes ningún trabajo.");

			if(GetPlayerState(playerid) != PLAYER_STATE_ONFOOT) return SendNotification(playerid, "No estás depie.");

			for(new i = 0; i != MAX_LISTITEMS; i++) PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][i] = -1;

			new works[32 * sizeof(work_info)], line_str[32], count, dialog[32];
			for(new i = 1; i != sizeof(work_info); i ++)
			{
				if(PLAYER_WORKS[playerid][i][pwork_SET])
				{
					if(count > 0) strcat(works, "\n");

					format(line_str, sizeof line_str, " %s (%d)", work_info[i][work_info_NAME], i);
					strcat(works, line_str);

					//count ++;
					PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][count++] = i;
				}
			}
			format(dialog, sizeof dialog, "%s", works);
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST, "{D50000}[Renunciar] {ffffff}  Trabajo", dialog, "» Continuar", "Cerrar");
			return 1;
		}
		case DIALOG_ACTIVIDADES:
		{
			new dialog[5000];

			format(dialog, sizeof dialog,

				"\
					"WHITE"Actividad\t"WHITE"Estado\n\
					"WHITE"  Comprar GPS En 24/7 500{00ff00}$\t%s\n\
					"WHITE"  Comprar Guia Teléfonica En 24/7 500{00ff00}$\t%s\n\ 
					"WHITE"  Comprar Vehiculo 1000{00ff00}$\t%s\n\ 
					"WHITE"  Conseguir Trabajo 1000{00ff00}$\t%s\n\ 
					"WHITE"  Comprar Ropa 500{00ff00}$\t%s\n\ 
					"WHITE"  Comprar Prenda 500{00ff00}$\t%s\n\ 
					"WHITE"  Sacar Licencia De Conducir 500{00ff00}$\t%s\n\ 
					"WHITE"  Conseguir VIP 5000{00ff00}$\t%s\n\ 
					"WHITE"  Comprar Tu Casa 5000{00ff00}$\t%s\n\ 
					"WHITE"  Entrar A Una Banda 5000{00ff00}$\t%s\
				",
					(PI[playerid][pi_A1] ? "{00FF00}Completa" : "{D50000}Incompleta"),
					(PI[playerid][pi_A2] ? "{00FF00}Completa" : "{D50000}Incompleta"), 
					(PI[playerid][pi_A3] ? "{00FF00}Completa" : "{D50000}Incompleta"), 
					(PI[playerid][pi_A4] ? "{00FF00}Completa" : "{D50000}Incompleta"), 
					(PI[playerid][pi_A5] ? "{00FF00}Completa" : "{D50000}Incompleta"),
					(PI[playerid][pi_A6] ? "{00FF00}Completa" : "{D50000}Incompleta"),
					(PI[playerid][pi_A7] ? "{00FF00}Completa" : "{D50000}Incompleta"),
					(PI[playerid][pi_A8] ? "{00FF00}Completa" : "{D50000}Incompleta"),
					(PI[playerid][pi_A9] ? "{00FF00}Completa" : "{D50000}Incompleta"), 
					(PI[playerid][pi_A10] ? "{00FF00}Completa" : "{D50000}Incompleta")
				);

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST_HEADERS, "{828282}[Actividades] {ffffff}  Disponibles", dialog, "»Continuar", "xCerrar");
			return 1;
		}
		case DIALOG_FARMACY:
		{
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST, "{D50000}[Farmacia]{F5F5F5}  Productos", " Medicamentos\t2400{"#GREEN_COLOR"}${F5F5F5}\n Botiquin\t10000{"#GREEN_COLOR"}${F5F5F5}\n Vendas\t9000{"#GREEN_COLOR"}${F5F5F5}", "Comprar", "xSalir");
			return 1;
		}
		case DIALOG_UTILITY:
{
    // Cambiamos 5000 por 1024 (sigue siendo de sobra, pero seguro)
    // Usamos 'static' para que la memoria se reserve una sola vez y no sature el stack
    static string[1024]; 
    
    format(string, sizeof string, 
        " Teléfono (%d)\n\
         Dinero %s{00ff00}$\n\
         DNI\n Licencia Conducir (%d Puntos)\n\
         GPS\n Dar\n Vender\n {45D974}Medicamentos "WHITE" (%dg}\n\
         {45D974}Marihuana "WHITE" (%dg}\n\
         {DBE2EC}Crack "WHITE" (%dg}\n\
        » Banda\n» Ver Estadisticas\n\
        » Ver Experiencia\n\
        » Ver Actividades\n\
        » Ver Logros\n\
        » Ver Bolsillos", 
        PI[playerid][pi_PHONE_NUMBER], 
        number_format_thousand(PI[playerid][pi_CASH]), 
        PI[playerid][pi_DRIVE_LICENSE_POINTS], 
        PI[playerid][pi_MEDICINE], 
        PI[playerid][pi_CANNABIS], 
        PI[playerid][pi_CRACK]
    );

    ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST, "{00FF00}[Utilidades]{ffffff} » Personaje", string, "Aceptar", "xSalir");
    return 1;
}

		case DIALOG_COCA:
		{
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST, "{828282}[Cocaina]{F5F5F5}  Opciones", " Guardar\t Cocaina\n Sacar\t Cocaina", "Aceptar", "xSalir");
			return 1;
		}
		case DIALOG_MARI:
		{
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST, "{55B17C}[Marihuana]{F5F5F5}  Opciones", " Guardar\t Marihuana\n Sacar\t Marihuana", "Aceptar", "xSalir");
			return 1;
		}
		case DIALOG_MEDI:
		{
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST, "{00ff00}[Medicamentos]{F5F5F5}  Opciones", " Guardar\t Medicamentos\n Sacar\t Medicamentos", "Aceptar", "xSalir");
			return 1;
		}
		case DIALOG_WPD:
		{
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST, "{3747DE}[SAPD]{F5F5F5}  EQUIPO", " Desert Eagle\t4000{"#GREEN_COLOR"}${F5F5F5}\n Escopeta\t5000{"#GREEN_COLOR"}${F5F5F5}\n Escopeta Combate\t5000{"#GREEN_COLOR"}${F5F5F5}\n MP5\t5000{"#GREEN_COLOR"}${F5F5F5}\n AK47\t8000{"#GREEN_COLOR"}${F5F5F5}\n M4\t10000{"#GREEN_COLOR"}${F5F5F5}\n Chaleco\t5000{"#GREEN_COLOR"}${F5F5F5}\n Cargador Deagle\t500{"#GREEN_COLOR"}${F5F5F5}\n Cargador MP5\t500{"#GREEN_COLOR"}${F5F5F5}\n Cargador AK47\t500{"#GREEN_COLOR"}${F5F5F5}\n Cargador M4\t500{"#GREEN_COLOR"}${F5F5F5}\n Cargador Escopeta\t500{"#GREEN_COLOR"}${F5F5F5}", "Comprar", "xSalir");
			return 1;
		}
		case DIALOG_B1:
{
    ShowPlayerDialog(playerid, DIALOG_B1, DIALOG_STYLE_TABLIST, "{828282}[Comprar]{FFFFFF}  Mercado Negro", " "WHITE"9mm\t2000{666666}B$\n "WHITE"Escopeta\t5000{666666}B$\n "WHITE"Cargador Pistola\t2000{666666}B$\n"WHITE" Cargador Escopeta\t2000{666666}B$", "Comprar", "xSalir");
    return 1;
}
case DIALOG_B2:
{
    // Aquí faltaba la coma después de Negro"
    ShowPlayerDialog(playerid, DIALOG_B2, DIALOG_STYLE_TABLIST, "{828282}[Comprar]{FFFFFF}  Mercado Negro", " "WHITE"Desert\t12000{666666}B$\n "WHITE"Escopeta Combate\t15000{666666}B$\n "WHITE"Cargador Desert\t2000{666666}B$\n"WHITE" Cargador EDC\t2000{666666}B$", "Comprar", "xSalir");
    return 1;
}
case DIALOG_B3:
{
    ShowPlayerDialog(playerid, DIALOG_B3, DIALOG_STYLE_TABLIST, "{828282}[Comprar]{FFFFFF}  Mercado Negro", " "WHITE"MP5\t15000{666666}B$\n "WHITE"UZI\t15000{666666}B$\n "WHITE"Cargador MP5\t2000{666666}B$\n"WHITE" Cargador UZI\t2000{666666}B$\n"WHITE" Mascara Diablo UZI\t9000{666666}B$", "Comprar", "xSalir");
    return 1;
}
case DIALOG_B4:
{
    ShowPlayerDialog(playerid, DIALOG_B4, DIALOG_STYLE_TABLIST, "{828282}[Comprar]{FFFFFF}  Mercado Negro", " "WHITE"M4\t27000{666666}B$\n "WHITE"AK-47\t25000{666666}B$\n "WHITE"Cargador M4\t5000{666666}B$\n"WHITE" Cargador UZI\t5000{666666}B$", "Comprar", "xSalir");
    return 1;
}

		case DIALOG_REGISTER:
		{
			new dialog[175];
			format(dialog, sizeof dialog, "{FFFFFF}Esta cuenta no esta registrada.\n{FFFFFF}Ingrese su contraseña a {66c4e4}continuación.\n\n{FFFFFF}La contraseña debe contener entre {66c4e4}%d-%d caracteres.", MIN_PASS_LENGTH, MAX_PASS_LENGTH);
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_PASSWORD, "Registrarse {66c4e4}Spain {66c4e4}+", dialog, "»Continuar", "xCerrar");
			return 1;
		}
		case DIALOG_COCA_GUARDAR: return ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, "{828282}[Cocaina] {ffffff}  Guardar", ""WHITE"Introduce la cantida de cocaina que quieres guardar.", "Guardar", "xCancelar");
		case DIALOG_COCA_SACAR: return ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, "{828282}[Cocaina] {ffffff}  Sacar", ""WHITE"Introduce la cantida de cocaina que quieres sacar.", "Sacar", "xCancelar"); 
		
		case DIALOG_MARI_GUARDAR: return ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, "{55B17C}[Marihuana] {ffffff}  Guardar", ""WHITE"Introduce la cantida de marihuana que quieres guardar.", "Guardar", "xCancelar");
		case DIALOG_MARI_SACAR: return ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, "{55B17C}[Marihuana] {ffffff}  Sacar", ""WHITE"Introduce la cantida de marihuana que quieres sacar.", "Sacar", "xCancelar"); 
		
		case DIALOG_MEDI_GUARDAR: return ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, "{00ff00}[Medicamentos] {ffffff}  Guardar", ""WHITE"Introduce la cantida de medicamentos que quieres guardar.", "Guardar", "xCancelar");
		case DIALOG_MEDI_SACAR: return ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, "{00ff00}[Medicamentos] {ffffff}  Sacar", ""WHITE"Introduce la cantida de medicamentos que quieres sacar.", "Sacar", "xCancelar"); 
		
		case DIALOG_USER_NEW: return ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, "{ffffff} No  {D50000}[Agredir] {ffffff}", ""WHITE"", "Ok", "");
		case DIALOG_LOGINIP: return ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_PASSWORD, "» LOGIN - {66c4e4}Spain +", ""WHITE"Bienvenido de nuevo.\nIngrese su contraseña para acceder."," »Continuar", "xSalir");
		case DIALOG_LOGIN: return ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, "»LOGIN - {66c4e4}Spain +", "Bienvenido De Nuevo, Presiona Enter O Jugar Para Ingresar.", "Jugar", "");
		case DIALOG_SECURE_LOGIN_INSERT_CODE: return ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, "Verifica tu cuenta", "Se ha enviado un código verificación\nal correo asociado a esta cuenta.\n\nIntroduce el código para acceder:", "»Continuar", "xCerrar");
		case DIALOG_REGISTER_EMAIL: return ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, "{66c4e4} CORREO ELECTRÓNICO", ""WHITE"Ingresa una dirección de correo electrónico valida.\n\nEs importante que tengas acceso al correo ya que\nsera la única manera de recuperar tu {66c4e4}contraseña.\n\n{ffffff}Tranquilo, no recibiras ningún tipo de {66c4e4}SPAM ni suscripciones.", "Siguiente", "Cerrar");
		case DIALOG_GENDER: return ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, "{FFFFFF}Generos {66c4e4}+", "{"#SILVER_COLOR"}Selecciona tu  genero", "»Hombre", "Mujer");
		case DIALOG_CLOTHES: return ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST, "{00FF00}[Panel] {ffffff}  ¿QUÉ QUIERES COMPRAR?", ""WHITE"Ropa\nAccesorios\nMochila 200.000{00ff00}$", "»Siguiente", "xCerrar");
		case DIALOG_FOOD_PIZZA: return ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST_HEADERS, "{00FF00}[Comida] {ffffff}  Rapida", DIALOG_FOOD_PIZZA_String, "Pedir", "xCerrar");
		case DIALOG_FOOD_CLUCKIN: return ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST_HEADERS, "{00FF00}[Comida] {ffffff}  Rapida", DIALOG_FOOD_CLUCKIN_String, "Pedir", "xCerrar");
		case DIALOG_FOOD_BURGER: return ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST_HEADERS, "{00FF00}[Comida] {ffffff}  Rapida", DIALOG_FOOD_BURGER_String, "Pedir", "xCerrar");
		case DIALOG_FOOD_TACO: return ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST_HEADERS, "{00FF00}[Comida] {ffffff}  Rapida", DIALOG_FOOD_TACO_String, "Pedir", "Salir");
		case DIALOG_FOOD_STEAK: return ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST_HEADERS, "{00FF00}[Comida] {ffffff}  Rapida", DIALOG_FOOD_STEAK_String, "Pedir", "Salir");

		case DIALOG_TAXI_GPS:
		{	
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST,"»Taxista","»Pedidos Taxis.\n»Configurar Tarifa.","{ffffff}Elegir","{ffffff}Cancelar");
			return 1;
		}

		case DIALOG_PLAYER_TOYS:
		{
			new dialog[96 * (MAX_SU_TOYS + 2)], line_str[64];
			format(dialog, sizeof dialog, "{"#SILVER_COLOR"}Accesorio\t{"#BLUE_COLOR"}Colocado\n");
			for(new i; i != MAX_SU_TOYS; i ++)
			{
				if(PI[playerid][pi_VIP])
				{
					if(PLAYER_TOYS[playerid][i][player_toy_VALID])
					{
						if(PLAYER_TOYS[playerid][i][player_toy_ATTACHED]) format(line_str, sizeof line_str, "{"#SILVER_COLOR"}%d. %s\t{"#BLUE_COLOR"}Sí\n", i + 1, PLAYER_TOYS[playerid][i][player_toy_NAME]);
						else format(line_str, sizeof line_str, "{"#SILVER_COLOR"}%d. %s\t{"#BLUE_COLOR"}No\n", i + 1, PLAYER_TOYS[playerid][i][player_toy_NAME]);
					}
					else format(line_str, sizeof line_str, "{666666}%d. Slot vacío\n", i + 1);
				}
				else
				{
					if(i >= MAX_NU_TOYS)
					{
						if(PLAYER_TOYS[playerid][i][player_toy_VALID]) format(line_str, sizeof line_str, "{666666}%d. %s\t{"#BLUE_COLOR"}No\n", i + 1, PLAYER_TOYS[playerid][i][player_toy_NAME]);
						else format(line_str, sizeof line_str, "{666666}%d. Slot vacío\n", i + 1);
					}
					else
					{
						if(PLAYER_TOYS[playerid][i][player_toy_VALID])
						{
							if(PLAYER_TOYS[playerid][i][player_toy_ATTACHED]) format(line_str, sizeof line_str, "{"#SILVER_COLOR"}%d. %s\t{"#BLUE_COLOR"}Sí\n", i + 1, PLAYER_TOYS[playerid][i][player_toy_NAME]);
							else format(line_str, sizeof line_str, "{"#SILVER_COLOR"}%d. %s\t{"#BLUE_COLOR"}No\n", i + 1, PLAYER_TOYS[playerid][i][player_toy_NAME]);
						}
						else format(line_str, sizeof line_str, "{666666}%d. Slot vacío\n", i + 1);
					}
				}
				strcat(dialog, line_str);
			}
			strcat(dialog, "{c4290d}- Eliminar todo\n");

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST_HEADERS, "Mis accesorios", dialog, "»", "xCerrar");
			return 1;
		}
		case DIALOG_WORKS_ARMERO:
		{
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, "{00FF00}Spain+ RP- Armamento",

				"\
				    {00FF00}Nivel necesario: {FFFFFF}5\n\
				    {00FF00}Sueldo: {FFFFFF}No definido\n\
				    {00FF00}Banco: {FFFFFF}No necesita cuenta bancaria\n\
					{FFFFFF}- Al crear alguna arma, esta no tendrá ninguna bala.\n\n\
					{00FF00}- /crear cuchillo {FFFFFF} Por 500$\n\
					{00FF00}- /crear bate {FFFFFF} Por 400$\n\
					{00FF00}- /crear 9mm {FFFFFF} Por 1500$\n\
					{00FF00}- /crear 9mm-silenciada {FFFFFF} Por 1500$\n\
					{00FF00}- /crear desert {FFFFFF} Por 2500$\n\
					{00FF00}- /crear MP5 {FFFFFF} Por 4000$\n\
					{00FF00}- /crear escopeta {FFFFFF} Por 700$\n\
					{00FF00}- /crear escopeta-de-combate {FFFFFF} Por 900$\n\
					{00FF00}- /crear AK-47 {FFFFFF} Por 12.000$\n\
					{00FF00}- /crear M4 {FFFFFF} Por 15.000$\n\
					{00FF00}- /crear chaleco {FFFFFF} Por 10.000$\n\
				"
			, "Salir", "");
			return 1;
		}

		case DIALOG_PLAYER_TOY_MENU:
		{
			if(!PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_VALID])
			{
				ShowPlayerMessage(playerid, "Este slot esta vacío, puedes comprar accesorios en cualquier tienda de ropa.", 2);
				return 1;
			}

			new caption[48];
			format(caption, sizeof caption, "{"#SILVER_COLOR"}Accesorio '%s'", PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_NAME]);

			new dialog[256];
			if(PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_ATTACHED]) format(dialog, sizeof dialog, "{"#SILVER_COLOR"}Guardar este accesorio\n{"#SILVER_COLOR"}Cambiar el nombre del accesorio\n{"#SILVER_COLOR"}Configurar el accesorio\n{"#SILVER_COLOR"}Color primario\n{"#SILVER_COLOR"}Color secundario\n{"#SILVER_COLOR"}Eliminar este accesorio");
			else
			{
				if(PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_BONE] == -1)
				{
					ShowPlayerMessage(playerid, "Este accesorio es nuevo y aún no ha sido configurado, configuralo desde 'Configurar el accesorio'.", 2);
					format(dialog, sizeof dialog, "{"#SILVER_COLOR"}Colocarte el accesorio\n{"#SILVER_COLOR"}Cambiar el nombre del accesorio\n{"#SILVER_COLOR"}Configurar el accesorio\n{"#SILVER_COLOR"}Color primario\n{"#SILVER_COLOR"}Color secundario\n{"#SILVER_COLOR"}Eliminar este accesorio");
				}
				else format(dialog, sizeof dialog, "{"#SILVER_COLOR"}Colocarte el accesorio\n{"#SILVER_COLOR"}Cambiar el nombre del accesorio\n{"#SILVER_COLOR"}Configurar el accesorio\n{"#SILVER_COLOR"}Color primario\n{"#SILVER_COLOR"}Color secundario\n{"#SILVER_COLOR"}Eliminar este accesorio");
			}

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST, caption, dialog, "»Continuar", "xCerrar");
			return 1;
		}
		case DIALOG_PLAYER_TOY_EDIT_NAME:
		{
			new dialog[145];
			format(dialog, sizeof dialog, "Nombre actual: \"%s\"\nIndica el nuevo nombre:", PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_NAME]);
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, "{"#SILVER_COLOR"}Accesorio - Modificar nombre", dialog, "»Continuar", "xCerrar");
			return 1;
		}
		case DIALOG_PLAYER_TOY_CONFIRMDELETE:
		{
			new dialog[145];
			format(dialog, sizeof dialog, "¿Estas seguro que quieres borrar el siguiente accesorio?\n\t\"%s\"", PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_NAME]);
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, "{"#SILVER_COLOR"}Accesorio - Eliminar accesorio", dialog, "»Eliminar", "xCerrar");
			return 1;
		}
		case DIALOG_PLAYER_TOY_SELECT_BONE:
		{
			ShowPlayerMessage(playerid, "Selecciona en que parte del cuerpo quieres colocar este accesorio.", 2);

			new caption[48];
			format(caption, sizeof caption, "{"#SILVER_COLOR"}Accesorio '%s'", PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_NAME]);

			new dialog[45 * sizeof Toys_Bones], line_str[45];
			for(new i = 0; i != sizeof Toys_Bones; i ++)
			{
				format(line_str, sizeof(line_str), "{"#BLUE_COLOR"}%d. %s\n", i + 1, Toys_Bones[i]);
				strcat(dialog, line_str);
			}

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST, caption, dialog, "»Continuar", "xCerrar");
			return 1;
		}
		case DIALOG_PLAYER_TOY_EDIT_BONE:
		{
			new caption[48];
			format(caption, sizeof caption, "{"#SILVER_COLOR"}Accesorio '%s'", PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_NAME]);

			new dialog[145];
			format(dialog, sizeof(dialog), "¿Quieres cambiar la parte del cuerpo donde se coloca este accesorio?\nActualmente esta colocado en: %s", Toys_Bones[ PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_BONE] - 1 ]);

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, caption, dialog, "Sí", "No");
			return 1;
		}
		case DIALOG_PLAYER_TOY_COLOR_1:
		{
			ShowPlayerMessage(playerid, "Selecciona el color 0 para poner el color original del accesorio.", 2);
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST, "Selecciona color", DIALOG_CREATE_CREW_COLOR_String, "»Continuar", "xCerrar");
			return 1;
		}
		case DIALOG_PLAYER_TOY_COLOR_2:
		{
			ShowPlayerMessage(playerid, "Selecciona el color 0 para poner el color original del accesorio.", 2);
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST, "Selecciona color", DIALOG_CREATE_CREW_COLOR_String, "»Continuar", "xCerrar");
			return 1;
		}
		case DIALOG_PLAYER_TOY_DELETE_ALL: return ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, "Accesorios - Eliminar todo", "¿Estas seguro de que quiere eliminar todos sus accesorios?\nEsta opción no se puede deshacer.", "»Eliminar", "xCerrar");
		case DIALOG_BANK:
		{
			if(PI[playerid][pi_BANK_ACCOUNT] == 0) return ShowPlayerMessage(playerid, "No tienes cuenta bancaria.", 2);

			new caption[80];
			format(caption, sizeof caption, ""WHITE"MI CUENTA BANCARIA: "WHITE"%s "WHITE"- BALANCE ACTUAL: "WHITE"$%s", number_format_thousand(PI[playerid][pi_BANK_ACCOUNT]), number_format_thousand(PI[playerid][pi_BANK_MONEY]));

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST, caption,
				""WHITE"1. Retirar dinero\n"WHITE"2. Depositar dinero\n"WHITE"3. Transferir dinero\n"WHITE"4. ultimas transacciones",
			"»Siguiente", "xCerrar");
			return 1;
		}
		case DIALOG_CREATE_BANK_ACCOUNT:
		{
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, "{828282}[Banco] {ffffff}  Cuenta",
				""WHITE"Bienvenido, actualmente no tienes una cuenta bancaria.\n\nPara disfrutar de los beneficios de una cuenta bancaria\npuedes crearla ahora mismo con un depósito minimo de 500$.",
			"Crear", "xCerrar");
			return 1;
		}
		case DIALOG_BANK_WITHDRAW:
		{
			new dialog[100];
			format(dialog, sizeof dialog, ""WHITE"Balance actual: "WHITE"$%s\n"WHITE"¿Cuanto quiere retirar?", number_format_thousand(PI[playerid][pi_BANK_MONEY]));

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, "{00FF00}[Banco] {ffffff}  Retirar", dialog, "»Siguiente", "xCerrar");
			return 1;
		}
		case DIALOG_BANK_DEPOSIT:
		{
			new dialog[100];
			format(dialog, sizeof dialog, ""WHITE"Dinero actual: "WHITE"$%s\n"WHITE"¿Cuanto quiere depositar?", number_format_thousand(PI[playerid][pi_CASH]));

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, "{00FF00}[Banco] {ffffff}  Depositar", dialog, "»Siguiente", "xCerrar");
			return 1;
		}
		case DIALOG_BANK_TRANSFER: return ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, "{00FF00}[Banco] {ffffff}  Transferir", ""WHITE"Indica a que número de cuenta quiere transferir dinero.", "»Siguiente", "xCerrar");
		case DIALOG_BANK_TRANSFER_SEND:
		{
			new dialog[170];
			format(dialog, sizeof dialog, ""WHITE"Transferir a cuenta: "WHITE"%s\n"WHITE"Balance actual: "WHITE"$%s\n\n"WHITE"¿Cuanto quiere transferir?", number_format_thousand(PLAYER_TEMP[playerid][pt_SELECT_BANK_TRANSFER_ACCOUNT]), number_format_thousand(PI[playerid][pi_BANK_MONEY]));
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, ""WHITE"BANCO - TRANSFERIR", dialog, "»Siguiente", "xCerrar");
			return 1;
		}
		case DIALOG_BANK_TRANSACTIONS:
		{
			inline OnBankMovementsLoad()
			{
				new rows;
				if(cache_get_row_count(rows))
				{
					new dialog[2675], caption[40], line_str[128];
					format(caption, sizeof caption, ""WHITE"BANCO - ultimaS %D TRANSACCIONES", rows);
					format(dialog, sizeof dialog, ""WHITE"Fecha\t"WHITE"Concepto\t"WHITE"Importe\n");
					if(rows)
					{
						for(new i = 0; i != rows; i ++)
						{
							new date[24], type, from_id, to_id, amount, from_bankid, to_bankid, bool:insull_from_id, bool:isnull_to_id;
							cache_get_value_name(i, "date", date);
							cache_get_value_name_int(i, "type", type);
							cache_is_value_name_null(i, "from_id", insull_from_id);
							if(!insull_from_id) cache_get_value_name_int(i, "from_id", from_id);
							cache_is_value_name_null(i, "to_id", isnull_to_id);
							if(!isnull_to_id) cache_get_value_name_int(i, "to_id", to_id);
							cache_get_value_name_int(i, "amount", amount);
							cache_get_value_name_int(i, "from_bankid", from_bankid);
							cache_get_value_name_int(i, "to_bankid", to_bankid);

							switch(type)
							{
								case BANK_TRANSACTION_WITHDRAW:
								{
									format(line_str, sizeof line_str, ""WHITE"%s\t"WHITE"Retirada efectivo\t"RED"-$%s\n", date, number_format_thousand(amount));
									strcat(dialog, line_str);
								}
								case BANK_TRANSACTION_DEPOSIT:
								{
									format(line_str, sizeof line_str, ""WHITE"%s\t"WHITE"Ingreso efectivo\t"WHITE"$%s\n", date, number_format_thousand(amount));
									strcat(dialog, line_str);
								}
								case BANK_TRANSACTION_TRANSFER:
								{
									if(from_id == PI[playerid][pi_ID]) format(line_str, sizeof line_str, ""WHITE"%s\t"WHITE"Transferencia a %d\t"RED"-$%s\n", date, to_bankid, number_format_thousand(amount));
									else format(line_str, sizeof line_str, ""WHITE"%s\t"WHITE"Transferencia de %d\t"WHITE"$%s\n", date, from_bankid, number_format_thousand(amount));
									strcat(dialog, line_str);
								}
								case BANK_TRANSACTION_CREATE_ACCOUNT:
								{
									format(line_str, sizeof line_str, ""WHITE"%s\t"WHITE"Apertura cuenta\t"RED"-$%s\n", date, number_format_thousand(amount));
									strcat(dialog, line_str);
								}
								case BANK_TRANSACTION_BUY_PROPERTY:
								{
									format(line_str, sizeof line_str, ""WHITE"%s\t"WHITE"Compra de propiedad\t"RED"-$%s\n", date, number_format_thousand(amount));
									strcat(dialog, line_str);
								}
								case BANK_TRANSACTION_SOLD_PROPERTY:
								{
									format(line_str, sizeof line_str, ""WHITE"%s\t"WHITE"Venta de propiedad\t"WHITE"$%s\n", date, number_format_thousand(amount));
									strcat(dialog, line_str);
								}
								case BANK_TRANSACTION_SOLD_NEGOCIOS:
								{
									format(line_str, sizeof line_str, ""WHITE"%s\t"WHITE"Venta de Negocio\t"WHITE"$%s\n", date, number_format_thousand(amount));
									strcat(dialog, line_str);
								}
								case BANK_TRANSACTION_BUY_VEHICLE:
								{
									format(line_str, sizeof line_str, ""WHITE"%s\t"WHITE"Compra de vehiculo\t"RED"-$%s\n", date, number_format_thousand(amount));
									strcat(dialog, line_str);
								}
								case BANK_TRANSACTION_SOLD_VEHICLE:
								{
									format(line_str, sizeof line_str, ""WHITE"%s\t"WHITE"Venta de vehiculo\t"WHITE"$%s\n", date, number_format_thousand(amount));
									strcat(dialog, line_str);
								}
							}
						}
					}
					else strcat(dialog, "»No hay transacciones en tu cuenta.", 2);
					ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST_HEADERS, caption, dialog, "xCerrar", "xCerrar");
				}
			}
			mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT bank_movements.*, player.bank_account AS from_bankid, player2.bank_account AS to_bankid FROM bank_movements LEFT JOIN player ON bank_movements.from_id = player.id LEFT JOIN player AS player2 ON bank_movements.to_id = player2.id WHERE bank_movements.from_id = %d OR bank_movements.to_id = %d ORDER BY date DESC LIMIT %d;", PI[playerid][pi_ID], PI[playerid][pi_ID], MAX_BANK_TRANSACTIONS_DIALOG);
			mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnBankMovementsLoad);
			return 1;
		}
		case DIALOG_247_LIST: return ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST, "247  {"#PRIMARY_COLOR"}Spain +", DIALOG_247_LIST_String, "»Aceptar", "xSalir");
		case DIALOG_PHONE:
		{
			new caption[50];
			format(caption, sizeof caption, "{00FF00}[Movil] {ffffff}  %d", PI[playerid][pi_PHONE_NUMBER]);

			new dialog[255];
			if(PI[playerid][pi_PHONE_STATE] == PHONE_STATE_ON) format(dialog, sizeof dialog, ""WHITE" Agenda\n Llamar\n"WHITE" Enviar mensaje\n"WHITE" Ver mensajes recibidos\n"WHITE" Ver mensajes enviados\n"WHITE" Enviar ubicacion\n"WHITE" Apagar teléfono");
			else format(dialog, sizeof dialog, ""WHITE" Encender teléfono\n Agenda\n Llamar\n Enviar mensaje\n Ver mensajes recibidos\n Ver mensajes enviados");
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST, caption, dialog, "»Siguiente", "xCerrar");
			return 1;
		}
		case DIALOG_PHONE_BOOK:
		{
			for(new i = 0; i != MAX_LISTITEMS; i++ ) PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][i] = -1;

			new dialog[80 * (MAX_PHONE_CONTACTS + 3)];
			format(dialog, sizeof dialog, ""WHITE"Nombre\t"WHITE"Número\n");

			new line_str[80], contacts, listitem;
			for(new i = 0; i != MAX_PHONE_CONTACTS; i++ )
			{
				if(!PLAYER_PHONE_BOOK[playerid][i][phone_book_contact_VALID]) continue;

				format(line_str, sizeof line_str, ""WHITE"%d. %s\t"WHITE"%d\n", listitem + 1, PLAYER_PHONE_BOOK[playerid][i][phone_book_contact_NAME], PLAYER_PHONE_BOOK[playerid][i][phone_book_contact_PHONE_NUMBER]);
				strcat(dialog, line_str);
				PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] = i;

				contacts ++; listitem ++;
			}
			if(contacts < MAX_PHONE_CONTACTS)
			{
				PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] = MAX_PHONE_CONTACTS + 10;
				strcat(dialog, ""WHITE" Añadir contacto\n"); listitem ++;
			}
			if(contacts > 0)
			{
				PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] = MAX_PHONE_CONTACTS + 20;
				strcat(dialog, ""RED" Eliminar todo\n"); listitem ++;
			}

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST_HEADERS, "{00FF00}[Movil] {ffffff}  Agenda", dialog, "»Siguiente", "xCerrar");
			return 1;
		}
		case DIALOG_PHONE_BOOK_ADD_NUMBER: return ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, "{00FF00}[Agenda] {ffffff}  Contacto", ""WHITE"Esta añadiendo un nuevo contacto en su agenda.\n"WHITE"Indique el número de teléfono del nuevo contacto.", "»Siguiente", "xCerrar");
		case DIALOG_PHONE_BOOK_ADD_NAME: return ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, "{00FF00}[Agenda] {ffffff}  Contacto", ""WHITE"Esta añadiendo un nuevo contacto en su agenda.\n"WHITE"Indique el nombre del nuevo contacto.", "»Siguiente", "xCerrar");
		case DIALOG_PHONE_BOOK_OPTIONS:
		{
			new caption[40];
			format(caption, sizeof caption, "{00FF00}[Contacto] {ffffff}  %s", PLAYER_PHONE_BOOK[playerid][ PLAYER_TEMP[playerid][pt_PLAYER_PHONE_BOOK_SELECTED] ][phone_book_contact_NAME]);

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST, caption, ""WHITE" Llamar\n"WHITE" Enviar mensaje\n"WHITE" Cambiar nombre del contacto\n"WHITE" Eliminar este contacto", "»Siguiente", "xCerrar");
			return 1;
		}
		case DIALOG_PHONE_BOOK_CHANGE_NAME:
		{
			new caption[40];
			format(caption, sizeof caption, "{00FF00}[Contacto] {ffffff}  %s", PLAYER_PHONE_BOOK[playerid][ PLAYER_TEMP[playerid][pt_PLAYER_PHONE_BOOK_SELECTED] ][phone_book_contact_NAME]);

			new dialog[140];
			format(dialog, sizeof dialog, ""WHITE"Nombre actual: %s\n"WHITE"Teléfono: %d\n\n"WHITE"Indica el nuevo nombre de este contacto.", PLAYER_PHONE_BOOK[playerid][ PLAYER_TEMP[playerid][pt_PLAYER_PHONE_BOOK_SELECTED] ][phone_book_contact_NAME], PLAYER_PHONE_BOOK[playerid][ PLAYER_TEMP[playerid][pt_PLAYER_PHONE_BOOK_SELECTED] ][phone_book_contact_PHONE_NUMBER]);

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, caption, dialog, "»Cambiar", "xCerrar");
			return 1;
		}
		case DIALOG_PHONE_BOOK_CONFIRM_DELET:
		{
			new caption[40];
			format(caption, sizeof caption, "{00FF00}[Contacto] {ffffff}  %s", PLAYER_PHONE_BOOK[playerid][ PLAYER_TEMP[playerid][pt_PLAYER_PHONE_BOOK_SELECTED] ][phone_book_contact_NAME]);

			new dialog[140];
			format(dialog, sizeof dialog, ""WHITE"¿Estas seguro de que desea eliminar el siguiente contacto?\n\nNombre: %s\nTeléfono: %d", PLAYER_PHONE_BOOK[playerid][ PLAYER_TEMP[playerid][pt_PLAYER_PHONE_BOOK_SELECTED] ][phone_book_contact_NAME], PLAYER_PHONE_BOOK[playerid][ PLAYER_TEMP[playerid][pt_PLAYER_PHONE_BOOK_SELECTED] ][phone_book_contact_PHONE_NUMBER]);

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, caption, dialog, "»Eliminar", "xCerrar");
			return 1;
		}
		case DIALOG_PHONE_BOOK_DELETE_ALL: return ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, "{D50000}[Agenda] {ffffff}  Eliminar todo", ""WHITE"¿Estas seguro de que quiere eliminar todos sus contactos?\nEsta opción no se puede deshacer y perderas todos los contactos guardados.", "»Eliminar", "xCerrar");
		case DIALOG_PHONE_CALL_NUMBER: return ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, "{00FF00}[Movil] {ffffff}  Llamada", ""WHITE"¿A quién quieres llamar?\nIndique el número al que desea llamar.", "»Siguiente", "xCerrar");
		case DIALOG_PHONE_SMS_NUMBER: return ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, "{00FF00}[Movil] {ffffff}  Mensajr", ""WHITE"¿A quién quieres enviarle el mensaje?\nIndique el número al que desea enviar el mensaje.", "»Siguiente", "xCerrar");
		case DIALOG_PHONE_SMS_MESSAGE: return ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, "{00FF00}[Movil] {ffffff}  Mensaje", ""WHITE"Escribe el mensaje que quieres enviar\nCaracteres: 1-64.", "»Siguiente", "xCerrar");
		case DIALOG_PHONE_BOOK_SEND_MESSAGE: return ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, "{00FF00}[Movil] {ffffff}  Mensaje", ""WHITE"Escribe el mensaje que quieres enviar\nCaracteres: 1-64.", "»Siguiente", "xCerrar");
		case DIALOG_PHONE_SENT_MESSAGES:
		{
			inline OnSentMessagesLoad()
			{
				new rows;
				if(cache_get_row_count(rows))
				{
					new dialog[1600], caption[40], line_str[128];
					format(caption, sizeof caption, "{00FF00}[Mensajes] {ffffff}  %d Enviados", rows);
					format(dialog, sizeof dialog, ""WHITE"Fecha\t"WHITE"Enviado a\t"WHITE"Mensaje\n");
					if(rows)
					{
						for(new i = 0; i != rows; i ++)
						{
							new message[64], date[24], phone_number, bool:isnull_phone_number;
							cache_get_value_name(i, "message", message);
							cache_get_value_name(i, "date", date);
							cache_is_value_name_null(i, "phone_number", isnull_phone_number);
							if(!isnull_phone_number) cache_get_value_name_int(i, "phone_number", phone_number);

							if(!phone_number) format(line_str, sizeof line_str, ""WHITE"%s\t"WHITE"---\t"WHITE"%s\n", date, message);
							else format(line_str, sizeof line_str, ""WHITE"%s\t"WHITE"%s\t"WHITE"%s\n", date, convertPhoneNumber(playerid, phone_number), message);
							strcat(dialog, line_str);
						}
					}
					else strcat(dialog, " No hay mensajes.", 2);
					ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST_HEADERS, caption, dialog, "xCerrar", "xCerrar");
				}
			}
			mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT pmessages.*, player.phone_number FROM pmessages LEFT JOIN player ON pmessages.to_id = player.id WHERE pmessages.from_id = %d ORDER BY pmessages.date DESC LIMIT 10;", PI[playerid][pi_ID]);
			mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnSentMessagesLoad);
			return 1;
		}
		case DIALOG_PHONE_COORD:
		{
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, "{00FF00}[Movil] {ffffff}  Ubicacion", ""WHITE"Ingresa la ID de algun jugador para enviar tu ubicacion", "Enviar", "xCerrar");
		}
		case DIALOG_PHONE_RECEIVED_MESSAGES:
		{
			inline OnReceivedMessagesLoad()
			{
				new rows;
				if(cache_get_row_count(rows))
				{
					new dialog[1600], caption[120], line_str[128];
					format(caption, sizeof caption, "{00FF00}[Mensajes] {ffffff}  %d Recibidos", rows);
					format(dialog, sizeof dialog, ""WHITE"Fecha\t"WHITE"Remitente\t"WHITE"Mensaje\n");
					if(rows)
					{
						for(new i = 0; i != rows; i ++)
						{
							new message[64], date[24], phone_number, bool:isnull_phone_number;
							cache_get_value_name(i, "message", message);
							cache_get_value_name(i, "date", date);
							cache_is_value_name_null(i, "phone_number", isnull_phone_number);
							if(!isnull_phone_number) cache_get_value_name_int(i, "phone_number", phone_number);

							if(!phone_number) format(line_str, sizeof line_str, ""WHITE"%s\t"WHITE"---\t"WHITE"%s\n", date, message);
							else format(line_str, sizeof line_str, ""WHITE"%s\t"WHITE"%s\t"WHITE"%s\n", date, convertPhoneNumber(playerid, phone_number), message);
							strcat(dialog, line_str);
						}
					}
					else strcat(dialog, " No hay mensajes.", 2);
					ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST_HEADERS, caption, dialog, "xCerrar", "xCerrar");
				}
			}
			mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT pmessages.*, player.phone_number FROM pmessages LEFT JOIN player ON pmessages.from_id = player.id WHERE pmessages.to_id = %d ORDER BY pmessages.date DESC LIMIT 10;", PI[playerid][pi_ID]);
			mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnReceivedMessagesLoad);
			return 1;
		}
		case DIALOG_CONFIRM_BUY_PROPERTY:
		{
			new dialog[500];
			new type_house[24];
			if(PROPERTY_INFO[playerid][property_EXTRA1] == 0) type_house = "Casa en venta";
			if(PROPERTY_INFO[playerid][property_EXTRA1] == 2) type_house = "Garaje en venta";
			if(PROPERTY_INFO[playerid][property_EXTRA1] == 3) type_house = "Oficina en venta";
			if(PROPERTY_INFO[playerid][property_EXTRA1] == 4) type_house = "Negocio en venta";

			if(PROPERTY_INFO[PLAYER_TEMP[playerid][pt_BUY_HOUSE_INDEX]][property_EXTRA])
			{
				format(dialog, sizeof dialog, "{00FF00}{FFFFFF} Coste de la propiedad: %d "SERVER_COIN"\n{00FF00}{FFFFFF} Seguro: NO\n{00FF00}{FFFFFF} Tipo: %s\n{00FF00}{FFFFFF} Monedas "SERVER_COIN" actuales: %d "SERVER_COIN"\n{00FF00}{FFFFFF} Monedas "SERVER_COIN" tras la compra: %d "SERVER_COIN"\n\n{00FF00}{FFFFFF}¿De verdad desea comprar esta propiedad?", PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_BUY_HOUSE_INDEX] ][property_EXTRA], type_house, PI[playerid][pi_COINS], PI[playerid][pi_COINS] - PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_BUY_HOUSE_INDEX] ][property_EXTRA]);
			}
			else
			{
				format(dialog, sizeof dialog, "{00FF00}{FFFFFF} Precio de la propiedad: %s{00ff00}$\n{00FF00}{FFFFFF} Seguro: %s{d50000}$\n{00FF00}{FFFFFF} Tipo: %s\n{00FF00}{FFFFFF} Balance actual: %s{00ff00}$\n{00FF00}{FFFFFF} Balance tras la compra: %s{00ff00}$\n\n{00FF00}{FFFFFF} ¿De verdad desea comprar esta propiedad?", number_format_thousand(PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_BUY_HOUSE_INDEX] ][property_PRICE]), number_format_thousand(PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_BUY_HOUSE_INDEX] ][property_PRICE_BASE] / 200), type_house, number_format_thousand(PI[playerid][pi_BANK_MONEY]), number_format_thousand(PI[playerid][pi_BANK_MONEY] - PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_BUY_HOUSE_INDEX] ][property_PRICE]));
			}
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, "{828282}[Comprar] {ffffff}  Propiedad",  dialog, "»Comprar", "xCerrar");
			return 1;
		}

		case DIALOG_CONFIRM_BUY_NEGOCIOS:
		{
			new dialog[500];
			new type_house[24];
			if(PROPERTY_INFO[playerid][property_EXTRA1] == 0) type_house = "Casa en venta";
			if(PROPERTY_INFO[playerid][property_EXTRA1] == 2) type_house = "Garaje en venta";
			if(PROPERTY_INFO[playerid][property_EXTRA1] == 3) type_house = "Oficina en venta";
			if(PROPERTY_INFO[playerid][property_EXTRA1] == 4) type_house = "Negocio en venta";

			if(PROPERTY_INFO[PLAYER_TEMP[playerid][pt_BUY_HOUSE_INDEX]][property_EXTRA])
			{
				format(dialog, sizeof dialog, "{00FF00}{FFFFFF}Coste de la propiedad: %d "SERVER_COIN"\n{00FF00}{FFFFFF}Seguro: NO\n{00FF00}{FFFFFF}Tipo: %s\n{00FF00}{FFFFFF}Monedas "SERVER_COIN" actuales: %d "SERVER_COIN"\n{00FF00}{FFFFFF}Monedas "SERVER_COIN" tras la compra: %d "SERVER_COIN"\n\n{00FF00}{FFFFFF}¿De verdad desea comprar esta propiedad?", PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_BUY_HOUSE_INDEX] ][property_EXTRA], type_house, PI[playerid][pi_COINS], PI[playerid][pi_COINS] - PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_BUY_HOUSE_INDEX] ][property_EXTRA]);
			}
			else
			{
				format(dialog, sizeof dialog, "{00FF00}{FFFFFF}Precio de la propiedad: $%s\n{00FF00}{FFFFFF}Seguro: $%s\n{00FF00}{FFFFFF}Tipo: %s\n{00FF00}{FFFFFF}Balance actual: $%s\n{00FF00}{FFFFFF}Balance tras la compra: $%s\n\n{00FF00}{FFFFFF}¿De verdad desea comprar esta propiedad?", number_format_thousand(PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_BUY_HOUSE_INDEX] ][property_PRICE]), number_format_thousand(PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_BUY_HOUSE_INDEX] ][property_PRICE_BASE] / 200), type_house, number_format_thousand(PI[playerid][pi_BANK_MONEY]), number_format_thousand(PI[playerid][pi_BANK_MONEY] - PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_BUY_HOUSE_INDEX] ][property_PRICE]));
			}
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, ""WHITE"»Comprar PROPIEDAD",  dialog, "»Comprar", "xCerrar");
			return 1;
		}
		case DIALOG_PLAYER_GPS:
		{
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST, "{3BF1B3}[Movil] {ffffff}  GPS",  " Mis lugares\n Mis propiedades\n Mis vehiculos\n Mi Apartamento\n Lugares de interes\n Empresas\n Negocios\n Laboratorios\n Fabricas\n Apartamentos\n Trabajos", "»Siguiente", "xCerrar");
			return 1;
		}
		case DIALOG_PLAYER_GPS_PLAYER:
		{
			for(new i = 0; i != MAX_LISTITEMS; i++ ) PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][i] = -1;

			new dialog[90 * (MAX_PLAYER_GPS_SAVES + 2)];
			format(dialog, sizeof dialog, ""WHITE"Lugar\t"WHITE"Distancia\n");

			new line_str[90], sites, listitem;
			for(new i = 0; i != MAX_PLAYER_GPS_SAVES; i++ )
			{
				if(!PLAYER_GPS[playerid][i][player_gps_VALID]) continue;

				format(line_str, sizeof line_str, ""WHITE"%d. %s\t"WHITE"%.2f Km\n", listitem + 1, PLAYER_GPS[playerid][listitem][player_gps_NAME], (GetPlayerDistanceFromPoint(playerid, PLAYER_GPS[playerid][listitem][player_gps_X], PLAYER_GPS[playerid][listitem][player_gps_Y], PLAYER_GPS[playerid][listitem][player_gps_Z]) * 0.01));
				strcat(dialog, line_str);
				PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] = i;

				sites ++; listitem ++;
			}
			if(sites < MAX_PLAYER_GPS_SAVES)
			{
				PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] = MAX_PLAYER_GPS_SAVES + 10;
				strcat(dialog, ""WHITE" Añadir lugar actual\n"); listitem ++;
			}
			if(sites > 0)
			{
				PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] = MAX_PLAYER_GPS_SAVES + 20;
				strcat(dialog, ""RED" Eliminar todo\n"); listitem ++;
			}

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST_HEADERS, "{3BF1B3}[GPS] {ffffff}  Lugares", dialog, "»Siguiente", "xCerrar");
			return 1;
		}
		case DIALOG_PLAYER_GPS_PLAYER_ADD:
		{
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, "{3BF1B3}[GPS] {ffffff}  Añadir", ""WHITE"Tu posición actual sera guardada en este lugar para ir mas tarde.\nIndica el nombre de este lugar para guardarlo.", "»Siguiente", "xCerrar");
			return 1;
		}
		case DIALOG_PLAYER_GPS_DELETE_ALL: return ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, "{D50000}[GPS] {ffffff}  Eliminar todo", ""WHITE"¿Estas seguro de que quiere eliminar todos sus lugares?\nEsta opción no se puede deshacer y perderas todos los lugares guardados.", "»Eliminar", "xCerrar");
		case DIALOG_PLAYER_GPS_PLAYER_OPTION:
		{
			new caption[40];
			format(caption, sizeof caption, "{3BF1B3}[Lugar] {ffffff}  %s", PLAYER_GPS[playerid][ PLAYER_TEMP[playerid][pt_GPS_PLAYER_SELECTED] ][player_gps_NAME]);

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST, caption, ""WHITE" Marcar coordenadas en el GPS\n"WHITE" Cambiar nombre de este lugar\n"WHITE" Eliminar este lugar del GPS", "»Siguiente", "xCerrar");
			return 1;
		}
		case DIALOG_PLAYER_GPS_CHANGE_NAME:
		{
			new dialog[90];
			format(dialog, sizeof dialog, ""WHITE"Nombre del lugar: "WHITE"%s\n"WHITE"Indica el nuevo nombre para este lugar.", PLAYER_GPS[playerid][ PLAYER_TEMP[playerid][pt_GPS_PLAYER_SELECTED] ][player_gps_NAME]);
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, "{3BF1B3}[GPS] {ffffff}  Nombre", dialog, "»Siguiente", "xCerrar");
			return 1;
		}
		case DIALOG_PLAYER_GPS_CONFIRM_DELET:
		{
			new dialog[95];
			format(dialog, sizeof dialog, ""WHITE"Nombre del lugar: "WHITE"%s\n"WHITE"¿Estas seguro de que quiere borrarlo del GPS?", PLAYER_GPS[playerid][ PLAYER_TEMP[playerid][pt_GPS_PLAYER_SELECTED] ][player_gps_NAME]);
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, "{D50000}[GPS] {ffffff}  Eliminar lugar", dialog, "»Eliminar", "xCerrar");
			return 1;
		}
		case DIALOG_PLAYER_GPS_SITES:
		{
			new dialog[1024];
			format(dialog, sizeof dialog, "{66c4e4}{FFFFFF} Hospitales\n{66c4e4}{FFFFFF} Tiendas de Ropa\n{66c4e4}{FFFFFF} Tiendas 24/7\n{66c4e4}{FFFFFF} Restaurantes\n{66c4e4}{FFFFFF} Bancos\n{66c4e4}{FFFFFF} Cajeros\n{66c4e4}{FFFFFF} Concesionarios\n{66c4e4}{FFFFFF} Policías\n{66c4e4}{FFFFFF} Tuning avanzado\n{66c4e4}{FFFFFF} AutoEscuela\n{66c4e4}{FFFFFF} Farmacias");
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST, "{3BF1B3}[GPS] {ffffff}  Lugares", dialog, "»Siguiente", "xCerrar");
			return 1;
		}
		case DIALOG_PLAYER_GPS_WORKS:
		{
			for(new i = 0; i != MAX_LISTITEMS; i++ ) PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][i] = -1;

			new dialog[85 * (sizeof(work_info) + 1)], listitem;
			format(dialog, sizeof dialog, ""WHITE"Trabajo\t"WHITE"Nivel\t"WHITE"Distancia\n");

			for(new i = 1; i != sizeof work_info; i ++)
			{
				if(work_info[i][work_info_TYPE] == WORK_TYPE_FAMILY) continue;
				if(!obtain_work_coords[i][obtain_work_AVAILABLE]) continue;

				new line_str[85];
				if(i == WORK_MEDIC)
					format(line_str, sizeof line_str, " %c%s\t"WHITE"%d\t"WHITE"-\n", toupper(work_info[i][work_info_NAME][0]), work_info[i][work_info_NAME][1], work_info[i][work_info_LEVEL]);
				else
					format(line_str, sizeof line_str, " %c%s\t"WHITE"%d\t"WHITE"%.2f Km\n", toupper(work_info[i][work_info_NAME][0]), work_info[i][work_info_NAME][1], work_info[i][work_info_LEVEL], (GetPlayerDistanceFromPoint(playerid, obtain_work_coords[i][obtain_work_MAP_ICON_X], obtain_work_coords[i][obtain_work_MAP_ICON_Y], obtain_work_coords[i][obtain_work_MAP_ICON_Z]) * 0.01));
				strcat(dialog, line_str);

				PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] = i;
				listitem ++;
			}

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST_HEADERS, "{3BF1B3}[GPS] {ffffff}  Trabajos", dialog, "»Siguiente", "xCerrar");
			return 1;
		}
		case DIALOG_WORKS_TELEPORTS:
		{
			for(new i = 0; i != MAX_LISTITEMS; i++ ) PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][i] = -1;

			new dialog[85 * (sizeof(work_info) + 1)], listitem;
			format(dialog, sizeof dialog, ""WHITE"Trabajo\t"WHITE"Nivel\n");

			for(new i = 1; i != sizeof work_info; i ++)
			{
				new line_str[85];
				format(line_str, sizeof line_str, "{e00f0f} "WHITE"%c%s (id: %d)\t"WHITE"%d\n", toupper(work_info[i][work_info_NAME][0]), work_info[i][work_info_NAME][1], i, work_info[i][work_info_LEVEL]);
				strcat(dialog, line_str);

				PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] = i;
				listitem ++;
			}
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST_HEADERS, "{D50000}[ADM] {ffffff}  Jobs", dialog, "»Siguiente", "xCerrar");
			return 1;
		}
		case DIALOG_PLAYER_GPS_SITE_0: //Hospitales
		{
			new dialog[90 * (sizeof Hospital_Spawn_Positions)], listitem;

			format(dialog, sizeof dialog, ""WHITE"Lugar\t"WHITE"Zona");
			for (new i = 0; i != sizeof(Hospital_Spawn_Positions); i++ )
			{
				PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] = i;

				new city[45], zone[45];
				GetPointZone(Hospital_Spawn_Positions[i][hspi_X], Hospital_Spawn_Positions[i][hspi_Y], city, zone);
				format(dialog, sizeof dialog, "%s\n Hospital %d\t{66c4e4}%s, %s", dialog, listitem + 1, city, zone);

				listitem++;
			}
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST_HEADERS, "{3BF1B3}[GPS] {ffffff} Hospitales", dialog, "»Aceptar", "xSalir");	
			return 1;
		}

		case DIALOG_PLAYER_GPS_SITE_2: //Tiendas de ropa
		{
			for(new i = 0; i != MAX_LISTITEMS; i ++) PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][i] = -1;

			new dialog[90 * (MAX_LISTITEMS + 1)];
			format(dialog, sizeof dialog, ""WHITE"Lugar\t"WHITE"Distancia\n");

			new line_str[90], sites;
			for(new i = 0; i != sizeof(ENTER_EXIT); i++ )
			{
				if(sites >= MAX_LISTITEMS) break;
				if(ENTER_EXIT[i][ee_INTERIOR_TYPE] != INTERIOR_BINCO && ENTER_EXIT[i][ee_INTERIOR_TYPE] != INTERIOR_SUBURBAN && ENTER_EXIT[i][ee_INTERIOR_TYPE] != INTERIOR_PROLAPS && ENTER_EXIT[i][ee_INTERIOR_TYPE] != INTERIOR_DIDIER_SACHS && ENTER_EXIT[i][ee_INTERIOR_TYPE] != INTERIOR_VICTIM && ENTER_EXIT[i][ee_INTERIOR_TYPE] != INTERIOR_ZIP) continue;

				format(line_str, sizeof line_str, " %s\t{66c4e4}%.2f Km\n", ENTER_EXIT[i][ee_NAME], (GetPlayerDistanceFromPoint(playerid, ENTER_EXIT[i][ee_EXT_X], ENTER_EXIT[i][ee_EXT_Y], ENTER_EXIT[i][ee_EXT_Z]) * 0.01));
				strcat(dialog, line_str);

				PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][sites] = i;
				sites ++;
			}

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST_HEADERS, "{3BF1B3}[GPS] {ffffff}  Tiendas De Ropa", dialog, "»Siguiente", "xCerrar");
			return 1;
		}
		case DIALOG_PLAYER_GPS_SITE_3: //Tiendas 24 horas
		{
			for(new i = 0; i != MAX_LISTITEMS; i ++) PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][i] = -1;

			new dialog[90 * (MAX_LISTITEMS + 1)];
			format(dialog, sizeof dialog, ""WHITE"Lugar\t"WHITE"Distancia\n");

			new line_str[90], sites;
			for(new i = 0; i != sizeof(ENTER_EXIT); i++ )
			{
				if(sites >= MAX_LISTITEMS) break;
				if(ENTER_EXIT[i][ee_INTERIOR_TYPE] != INTERIOR_247) continue;

				format(line_str, sizeof line_str, " %s\t{66c4e4}%.2f Km\n", ENTER_EXIT[i][ee_NAME], (GetPlayerDistanceFromPoint(playerid, ENTER_EXIT[i][ee_EXT_X], ENTER_EXIT[i][ee_EXT_Y], ENTER_EXIT[i][ee_EXT_Z]) * 0.01));
				strcat(dialog, line_str);

				PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][sites] = i;
				sites ++;
			}

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST_HEADERS, "{3BF1B3}[GPS] {ffffff}  24/7", dialog, "»Siguiente", "xCerrar");
			return 1;
		}
		case DIALOG_PLAYER_GPS_SITE_4: //Comida rapida
		{
			for(new i = 0; i != MAX_LISTITEMS; i ++) PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][i] = -1;

			new dialog[90 * (MAX_LISTITEMS + 1)];
			format(dialog, sizeof dialog, ""WHITE"Lugar\t"WHITE"Distancia\n");

			new line_str[90], sites;
			for(new i = 0; i != sizeof(ENTER_EXIT); i++ )
			{
				if(sites >= MAX_LISTITEMS) break;
				if(ENTER_EXIT[i][ee_INTERIOR_TYPE] != INTERIOR_PIZZA && ENTER_EXIT[i][ee_INTERIOR_TYPE] != INTERIOR_CLUCKIN_BELL && ENTER_EXIT[i][ee_INTERIOR_TYPE] != INTERIOR_BURGER_SHOT) continue;

				format(line_str, sizeof line_str, " %s\t{66c4e4}%.2f Km\n", ENTER_EXIT[i][ee_NAME], (GetPlayerDistanceFromPoint(playerid, ENTER_EXIT[i][ee_EXT_X], ENTER_EXIT[i][ee_EXT_Y], ENTER_EXIT[i][ee_EXT_Z]) * 0.01));
				strcat(dialog, line_str);

				PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][sites] = i;
				sites ++;
			}

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST_HEADERS, "{3BF1B3}[GPS] {ffffff}  Comida Rapida", dialog, "»Siguiente", "xCerrar");
			return 1;
		}
		case DIALOG_PLAYER_GPS_SITE_5: //Bancos
		{
			for(new i = 0; i != MAX_LISTITEMS; i ++) PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][i] = -1;

			new dialog[90 * (MAX_LISTITEMS + 1)];
			format(dialog, sizeof dialog, ""WHITE"Lugar\t"WHITE"Distancia\n");

			new line_str[90], sites;
			for(new i = 0; i != sizeof(ENTER_EXIT); i++ )
			{
				if(sites >= MAX_LISTITEMS) break;
				if(ENTER_EXIT[i][ee_INTERIOR_TYPE] != INTERIOR_BANK_LS && ENTER_EXIT[i][ee_INTERIOR_TYPE] != INTERIOR_BANK_SF && ENTER_EXIT[i][ee_INTERIOR_TYPE] != INTERIOR_BANK_LV) continue;

				format(line_str, sizeof line_str, " %s\t{66c4e4}%.2f Km\n", ENTER_EXIT[i][ee_NAME], (GetPlayerDistanceFromPoint(playerid, ENTER_EXIT[i][ee_EXT_X], ENTER_EXIT[i][ee_EXT_Y], ENTER_EXIT[i][ee_EXT_Z]) * 0.01));
				strcat(dialog, line_str);

				PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][sites] = i;
				sites ++;
			}

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST_HEADERS, "{3BF1B3}[GPS] {ffffff}  Bancos", dialog, "»Siguiente", "xCerrar");
			return 1;
		}
		case DIALOG_PLAYER_GPS_SITE_6: //Cajeros
		{
			new dialog[90 * (sizeof(ATM_BANK) + 1)];
			format(dialog, sizeof dialog, ""WHITE"Lugar\t"WHITE"Distancia\n");

			new line_str[90], sites;
			for(new i = 0; i != sizeof(ATM_BANK); i++ )
			{

				format(line_str, sizeof line_str, " "WHITE"Cajero %d\t{66c4e4}%.2f Km\n", sites + 1, (GetPlayerDistanceFromPoint(playerid, ATM_BANK[i][atm_X], ATM_BANK[i][atm_Y], ATM_BANK[i][atm_Z]) * 0.01));
				strcat(dialog, line_str);

				sites ++;
			}

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST_HEADERS, "{3BF1B3}[GPS] {ffffff}  Cajeros", dialog, "»Siguiente", "xCerrar");
			return 1;
		}
		case DIALOG_PLAYER_GPS_SITE_7: //Concesionarios
		{
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST, "{3BF1B3}[GPS] {ffffff}  Concesionarios", DIALOG_PLAYER_GPS_SITE_7_String, "»Siguiente", "xCerrar");
			return 1;
		}
		case DIALOG_PLAYER_GPS_SITE_8: //Policias
		{
			for(new i = 0; i != MAX_LISTITEMS; i ++) PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][i] = -1;

			new dialog[90 * (MAX_LISTITEMS + 1)]; 
		 
			format(dialog, sizeof dialog, ""WHITE"Lugar\t"WHITE"Distancia\n");

			new line_str[90], sites;
			for(new i = 0; i != sizeof(ENTER_EXIT); i++ )
			{
				if(sites >= MAX_LISTITEMS) break;
				if(ENTER_EXIT[i][ee_INTERIOR_TYPE] != INTERIOR_POLICE_LS && ENTER_EXIT[i][ee_INTERIOR_TYPE] != INTERIOR_POLICE_SF && ENTER_EXIT[i][ee_INTERIOR_TYPE] != INTERIOR_POLICE_LV) continue;

				format(line_str, sizeof line_str, " %s\t%.2f Km\n", ENTER_EXIT[i][ee_NAME], (GetPlayerDistanceFromPoint(playerid, ENTER_EXIT[i][ee_EXT_X], ENTER_EXIT[i][ee_EXT_Y], ENTER_EXIT[i][ee_EXT_Z]) * 0.01));
				strcat(dialog, line_str);

				PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][sites] = i;
				sites ++;
			}

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST_HEADERS, "{3BF1B3}[GPS] {ffffff}  Policias", dialog, "»Siguiente", "xCerrar");
			return 1;
		}
		case DIALOG_FARMACIAS: {
			for (new i = 0; i != MAX_LISTITEMS; i ++) PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][i] = -1;

			new dialog[90 * (MAX_LISTITEMS + 1)], line_str[90], sites;
			for (new i = 0; i != sizeof(ENTER_EXIT); i++ )
			{
				if (sites >= MAX_LISTITEMS) break;
				if (ENTER_EXIT[i][ee_INTERIOR_TYPE] != INTERIOR_PHARMACY) continue;

				format(line_str, sizeof line_str, ""WHITE" %s\t%.2f Km\n", ENTER_EXIT[i][ee_NAME], (GetPlayerDistanceFromPoint(playerid, ENTER_EXIT[i][ee_EXT_X], ENTER_EXIT[i][ee_EXT_Y], ENTER_EXIT[i][ee_EXT_Z]) * 0.01));
				strcat(dialog, line_str);

				PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][sites] = i;
				sites ++;
			}
			
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST, "{3BF1B3}[GPS] {ffffff}  Farmacias", dialog, "»Siguiente", "xCerrat");	
			return 1;
		}
		case DIALOG_PLAYER_GPS_PROPERTIES:
		{
			inline OnDialogQueryLoad()
			{
				new rows;
				if(cache_get_row_count(rows))
				{
					new dialog[120 * (MAX_SU_PROPERTIES + 2)], line_str[90];
					format(dialog, sizeof dialog, ""WHITE"Propiedad\t"WHITE"Distancia\n");
					for(new i = 0; i != MAX_SU_PROPERTIES; i ++) PLAYER_TEMP[playerid][pt_PLAYER_GPS_SELECTED_PROPERTY][i] = -1;
					if(rows)
					{
						for(new i = 0; i != rows; i ++)
						{
							if(i >= MAX_SU_PROPERTIES) break;
							new property_name[24], Float:pos[3], bool:isnull_name;
							cache_get_value_name_int(i, "id", PLAYER_TEMP[playerid][pt_PLAYER_GPS_SELECTED_PROPERTY][i]);
							cache_is_value_name_null(i, "name", isnull_name);
							if(!isnull_name) cache_get_value_name(i, "name", property_name);
							cache_get_value_name_float(i, "ext_x", pos[0]);
							cache_get_value_name_float(i, "ext_y", pos[1]);
							cache_get_value_name_float(i, "ext_z", pos[2]);
							format(line_str, sizeof line_str, " %d. {FFFFFF}Propiedad {CCCCCC}%d\t{FF0000}%.2f Km\n", i + 1, PLAYER_TEMP[playerid][pt_PLAYER_GPS_SELECTED_PROPERTY][i], (GetPlayerDistanceFromPoint(playerid, pos[0], pos[1], pos[2]) * 0.01));
							strcat(dialog, line_str);
						}
					}
					else strcat(dialog, " No tienes propiedades");
					ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST_HEADERS, "{3BF1B3}[GPS] {ffffff}  Propiedades", dialog, "»Siguiente", "xCerrar");
				}
			}
			mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT * FROM properties WHERE id_player = %d;", PI[playerid][pi_ID]);
			mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnDialogQueryLoad);
			return 1;
		}
		case DIALOG_PLAYER_GPS_VEHICLES:
{
    // Limpiamos los arrays temporales
    for (new i = 0; i < MAX_LISTITEMS; i++) {
        PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][i] = -1;
        PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM_EX][i] = -1;
    }

    // Usamos static para que la memoria no se pida/borre cada vez (Evita Crashes)
    static dialog[2048], line_str[256], total_vehicles;
    dialog[0] = (EOS); // Limpiamos el string antes de usarlo
    total_vehicles = 0;

    format(dialog, sizeof dialog, ""WHITE"vehiculo\t"WHITE"Matrícula\t"WHITE"Distancia\n");

    // 1. vehiculos en el mundo
    for (new i = 0; i < MAX_VEHICLES; i++)
    {
        if (!GLOBAL_VEHICLES[i][gb_vehicle_VALID]) continue;
        if (!PLAYER_VEHICLES[i][player_vehicle_VALID]) continue;
        if (total_vehicles >= MAX_SU_VEHICLES) break;

        if (PLAYER_VEHICLES[i][player_vehicle_OWNER_ID] == PI[playerid][pi_ID])
        {
            PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][total_vehicles] = i;
            new Float:pos[3];
            GetVehiclePos(i, pos[0], pos[1], pos[2]);

            if (!PLAYER_VEHICLES[i][player_vehicle_ACCESSIBLE])
                format(line_str, sizeof line_str, "{666666}%d. %s (%d)\t{666666}%s\t{666666}-\n", total_vehicles + 1, VEHICLE_INFO[ GLOBAL_VEHICLES[i][gb_vehicle_MODELID] - 400 ][vehicle_info_NAME], i, GLOBAL_VEHICLES[i][gb_vehicle_NUMBER_PLATE]);
            else
                format(line_str, sizeof line_str, "{F5F5F5}%d. %s\t{F5F5F5}%s\t{f5f5f5}%.2f Km\n", total_vehicles + 1, VEHICLE_INFO[ GLOBAL_VEHICLES[i][gb_vehicle_MODELID] - 400 ][vehicle_info_NAME], GLOBAL_VEHICLES[i][gb_vehicle_NUMBER_PLATE], (GetPlayerDistanceFromPoint(playerid, pos[0], pos[1], pos[2]) * 0.01));

            strcat(dialog, line_str);
            total_vehicles ++;
        }
    }

    // 2. vehiculos en Parking (REPARADO: Sin el string[2000] adentro)
    for (new i = 0; i < MAX_SU_VEHICLES; i++) {
        if (!ParkingVehicles[playerid][i][pvValid]) continue;
        if (ParkingVehicles[playerid][i][pvOwnerId] != PI[playerid][pi_ID]) continue; 
        if (total_vehicles >= MAX_LISTITEMS) break;
        
        // Reutilizamos line_str en lugar de crear un string gigante cada vez
        format(line_str, sizeof line_str, "{F5F5F5}%d. %s\t{F5F5F5}%s\t{f5f5f5}{"#YELLOW_COLOR"}Parking{f5f5f5}(%d)\n", total_vehicles + 1, VEHICLE_INFO[ ParkingVehicles[playerid][i][pvModelid] - 400 ][vehicle_info_NAME], ParkingVehicles[playerid][i][pvVehiclePlate], ParkingVehicles[playerid][i][pvParkingIndex]);
        strcat(dialog, line_str);
        
        PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM_EX][total_vehicles] = i;
        total_vehicles ++;
    }

    if (total_vehicles == 0) strcat(dialog, "{f5f5f5}No tienes vehiculos");

    ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST_HEADERS, "{3BF1B3}[GPS] {ffffff}  Vehiculos", dialog, "»Aceptar", "xSalir");
    return 1;
}

		case DIALOG_PROPERTY_OPTIONS:
		{
			new caption[40];
			format(caption, sizeof caption, ""WHITE"PROPIEDAD - %S", PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_NAME]);

			new dialog[512];
			format(dialog, sizeof dialog, "1. Cambiar nombre de la propiedad\n2. Echar a todo del mundo de mi propiedad\n");

			if(PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_DIS_DEFAULT_INTERIOR]) strcat(dialog, "5. Crear muebles por defecto\n");
			else strcat(dialog, "5. Eliminar muebles por defecto\n");

			if(PI[playerid][pi_CREW])
			{
				if(CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_PERMISSION][CREW_RANK_ADD_PROPERTIES])
				{
					strcat(dialog, "6. Pasar a propiedad de banda\n");
				}
			}

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST, caption, dialog, "»Siguiente", "xCerrar");
			return 1;
		}
		case DIALOG_PROPERTY_NAME:
		{
			new dialog[85];
			format(dialog, sizeof dialog, ""WHITE"Nombre actual: "WHITE"%s\n"WHITE"Indica el nuevo nombre de la propiedad.", PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_NAME]);
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, ""WHITE"PROPIEDAD - CAMBIAR NOMBRE", dialog, "»Siguiente", "xCerrar");
			return 1;
		}
    	case DIALOG_NOTARY:
		{
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST, "{828282}[GOB] {ffffff}  Notaria", " Vender una propiedad al banco\n Vender un vehiculo al banco\n Vender una propiedad a una persona\n Vender un vehiculo a una persona", "Continuar", "xCerrar");
			return 1;
		}
		case DIALOG_NOTARY_SELECT_PROPERTY:
		{
			inline OnDialogQueryLoad()
			{
				new rows;
				if(cache_get_row_count(rows))
				{
					new dialog[45 * (MAX_SU_PROPERTIES + 2)], line_str[45];
					for(new i = 0; i != MAX_LISTITEMS; i++ ) PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][i] = -1;
					if(rows)
					{
						for(new i = 0; i != rows; i ++)
						{
							if(i >= MAX_SU_PROPERTIES) break;
							new property_name[24], bool:isnull_name;
							cache_get_value_name_int(i, "id", PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][i]);
							cache_is_value_name_null(i, "name", isnull_name);
							if(!isnull_name) cache_get_value_name(i, "name", property_name);
							format(line_str, sizeof line_str, ""WHITE" %d. %s\n", i + 1, property_name);
							strcat(dialog, line_str);
						}
					}
					else strcat(dialog, ""WHITE" No tienes propiedades");
					ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST, ""WHITE" Selecciona la propiedad que quieres vender", dialog, "Continuar", "Atrás");
				}
			}
			mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT id, name FROM properties WHERE id_player = %d;", PI[playerid][pi_ID]);
			mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnDialogQueryLoad);
			return 1;
		}
		case DIALOG_PROPERTY_BANK_SELL:
		{
			new caption[40];
			format(caption, sizeof caption, "{828282}[GOB] {ffffff}  Casa");
			
			new Float:price, payment;
			price = PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_PRICE_BASE];
			if(PI[playerid][pi_VIP]) payment = floatround( floatmul(price, 0.50) );
			else payment = floatround( floatmul(price, 0.25) );
			
			new dialog[160];
			format(dialog, sizeof dialog, "Precio en mercado: %s{00ff00}\nNosotros te pagaremos: %s{00ff00}$\n\n"WHITE"Estás seguro de que quiere venderla?", number_format_thousand(PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_PRICE]), number_format_thousand(payment));
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, caption, dialog, "Vender", "Atrás");
			return 1;
		}
		case DIALOG_PROPERTY_SELL_PRICE:
		{
			new caption[40];
			format(caption, sizeof caption, "{828282}[GOB] {ffffff}  Casa");
			
			new Float:price, min_price, max_price;
			price = PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_PRICE];
			min_price = floatround( floatmul(price, 0.15) );
			max_price = floatround( floatmul(price, 6.0) );
			
			new dialog[250];
			format(dialog, sizeof dialog, 
			""WHITE"Precio en mercado: %s{00FF00}$\n\n"WHITE"Precio mínimo de venta: %s{00ff00}$\nPrecio máximo de venta: %s{00ff00}$\n\n"WHITE"¿Por cuánto quieres vender esta propiedad?", 
			number_format_thousand(PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_PRICE]),
			number_format_thousand(min_price),
			number_format_thousand(max_price));
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, caption, dialog, "Continuar", "Atrás");
			return 1;
		}
		case DIALOG_PROPERTY_SELL_TO_PLAYER:
		{
			new caption[40];
			format(caption, sizeof caption, "{828282}[GOB] {ffffff}  Casa");
			
			new dialog[250];
			format(dialog, sizeof dialog, ""WHITE"De acuerdo, quieres vender esta propiedad por %{00FF00}$.\n\n"WHITE"Indica el nombre o playerid del comprador.\n"WHITE"El comprador debe estar en la sala y cumplir todos los requisitos.", number_format_thousand(PLAYER_TEMP[playerid][pt_NOTARY_PRICE]));
			
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, caption, dialog, "Continuar", "Atrás");
			return 1;
		}
		case DIALOG_SELL_CONFIRM_PROPERTY:
		{
			new dialog[240];
			format(dialog, sizeof dialog,
				""WHITE"%s te quiere vender una propiedad.\n\n\
				"WHITE"Propiedad: %d\n\
				"WHITE"Precio: %s{00ff00}$\n\n\
				"WHITE"Balance tras la compra: %s{00FF00}$\n\n\
				"WHITE"¿Quieres comprar esta propiedad?",
				PLAYER_TEMP[ PLAYER_TEMP[playerid][pt_NOTARY_TO_PLAYER] ][pt_RP_NAME],
				PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_ID],
				number_format_thousand(PLAYER_TEMP[playerid][pt_NOTARY_PRICE]),
				number_format_thousand( PI[playerid][pi_BANK_MONEY] - PLAYER_TEMP[playerid][pt_NOTARY_PRICE] )
			);
			
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, "{828282}[GOB] {ffffff}  Oferta", dialog, "Comprar", "Cerrar");
			return 1;
		}
		case DIALOG_NOTARY_SELECT_VEHICLE:
		{
			for(new i = 0; i != MAX_LISTITEMS; i ++) PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][i] = -1;

			new dialog[95 * (MAX_SU_VEHICLES + 2)], total_vehicles;
			for(new i = 0, j = GetVehiclePoolSize(); i <= j; i ++)
			{
				if(!GLOBAL_VEHICLES[i][gb_vehicle_VALID]) continue;
				if(!PLAYER_VEHICLES[i][player_vehicle_VALID]) continue;
				if(total_vehicles > MAX_SU_VEHICLES) break;

				if(PLAYER_VEHICLES[i][player_vehicle_OWNER_ID] == PI[playerid][pi_ID])
				{
					PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][total_vehicles] = i;

					new line_str[95];
					format(line_str, sizeof line_str, ""WHITE"%d. %s - "WHITE"%s\n", total_vehicles + 1, VEHICLE_INFO[ GLOBAL_VEHICLES[i][gb_vehicle_MODELID] - 400 ][vehicle_info_NAME], GLOBAL_VEHICLES[i][gb_vehicle_NUMBER_PLATE]);
					strcat(dialog, line_str);
					total_vehicles ++;
				}
			}
			if(total_vehicles == 0) strcat(dialog, "{"#SILVER_COLOR"} No tienes vehiculos");

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST, ""WHITE" Selecciona el vehiculo que quieres vender", dialog, "Continuar", "Atras");
			return 1;
		}
		case DIALOG_VEHICLE_BANK_SELL:
		{
			new caption[40];
			format(caption, sizeof caption, "{828282}[GOB] {ffffff}  Coche");

			new Float:price, payment;
			price = VEHICLE_INFO[ GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_PLAYER_VEHICLE_SELECTED] ][gb_vehicle_MODELID] - 400 ][vehicle_info_PRICE];
			if(PI[playerid][pi_VIP]) payment = floatround( floatmul(price, 0.50) );
			else payment = floatround( floatmul(price, 0.25) );

			new dialog[160];
			format(dialog, sizeof dialog, ""WHITE"Precio en mercado: %s{00FF00}$\n"WHITE"Nosotros te pagaremos: %s{00FF00}$\n\n"WHITE"¿Estás seguro de que quiere venderlo?", number_format_thousand( VEHICLE_INFO[ GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_PLAYER_VEHICLE_SELECTED] ][gb_vehicle_MODELID] - 400 ][vehicle_info_PRICE] ), number_format_thousand(payment));
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, caption, dialog, "Continuar", "Atrás");
			return 1;
		}
		case DIALOG_VEHICLE_SELL_PRICE:
		{
			new caption[40];
			format(caption, sizeof caption, "{828282}[GOB] {ffffff}  Coche");
			
			new Float:price, min_price, max_price;
			price = VEHICLE_INFO[ GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_PLAYER_VEHICLE_SELECTED] ][gb_vehicle_MODELID] - 400 ][vehicle_info_PRICE];
			min_price = floatround( floatmul(price, 0.15) );
			max_price = floatround( floatmul(price, 6.0) );
			
			new dialog[250];
			format(dialog, sizeof dialog, 
			""WHITE"Precio en mercado: %s{00FF00}$\n\n"WHITE"Precio mínimo de venta: %s{00FF00}$\n"WHITE"Precio máximo de venta: %s{00FF00}$\n\n"WHITE"¿Por cuánto quieres vender este vehiculo?", 
			number_format_thousand(VEHICLE_INFO[ GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_PLAYER_VEHICLE_SELECTED] ][gb_vehicle_MODELID] - 400 ][vehicle_info_PRICE]),
			number_format_thousand(min_price),
			number_format_thousand(max_price));
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, caption, dialog, "Continuar", "Atrás");
			return 1;
		}
		case DIALOG_VEHICLE_SELL_TO_PLAYER:
		{
			new caption[40];
			format(caption, sizeof caption, "{828282}[GOB] {ffffff}  Coche");
			
			new dialog[250];
			format(dialog, sizeof dialog, ""WHITE"De acuerdo, quieres vender este vehiculo por %s{00FF00}$.\n\n"WHITE"Indica el nombre o playerid del comprador.\n"WHITE"El comprador debe estar en la sala y cumplir todos los requisitos.", number_format_thousand(PLAYER_TEMP[playerid][pt_NOTARY_PRICE]));
			
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, caption, dialog, "Continuar", "Atrás");
			return 1;
		}
		case DIALOG_SELL_CONFIRM_VEHICLE:
		{
			new dialog[300];
			format(dialog, sizeof dialog,
				""WHITE"%s te quiere vender un vehiculo.\n\n\
				"WHITE"vehiculo: %s\n\
				"WHITE"Matrícula: %s\n\
				"WHITE"Precio: %s{00FF00}\n\n\
				"WHITE"Balance tras la compra: %s{00FF00$\n\n\
				"WHITE"¿Quieres comprar este vehiculo?",
				PLAYER_TEMP[ PLAYER_TEMP[playerid][pt_NOTARY_TO_PLAYER] ][pt_RP_NAME],
				VEHICLE_INFO[ GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_PLAYER_VEHICLE_SELECTED] ][gb_vehicle_MODELID] - 400 ][vehicle_info_NAME],
				GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_PLAYER_VEHICLE_SELECTED] ][gb_vehicle_NUMBER_PLATE],
				number_format_thousand(PLAYER_TEMP[playerid][pt_NOTARY_PRICE]),
				number_format_thousand( PI[playerid][pi_BANK_MONEY] - PLAYER_TEMP[playerid][pt_NOTARY_PRICE] )
			);
			
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, "Oferta recibida", dialog, "Comprar", "Cerrar");
			return 1;
		}
		case DIALOG_SELECT_TRUCK_TYPE:
		{
			new work_extra_payment;
			if(work_info[WORK_TRUCK][work_info_EXTRA_PAY] > 0 && work_info[WORK_TRUCK][work_info_EXTRA_PAY_EXP] > 0)
			{
				work_extra_payment = (work_info[WORK_TRUCK][work_info_EXTRA_PAY] * floatround(floatdiv(PLAYER_WORKS[playerid][WORK_TRUCK][pwork_LEVEL], work_info[WORK_TRUCK][work_info_EXTRA_PAY_EXP])));
				if(work_info[WORK_TRUCK][work_info_EXTRA_PAY_LIMIT] != 0) if(work_extra_payment > work_info[WORK_TRUCK][work_info_EXTRA_PAY_LIMIT]) work_extra_payment = work_info[WORK_TRUCK][work_info_EXTRA_PAY_LIMIT];
				
				if(PI[playerid][pi_VIP]) work_extra_payment += SU_WORK_EXTRA_PAY;
			}
			
			new dialog[105 * (sizeof(Truck_Contents) + 2)], listitem;
			format(dialog, sizeof dialog, ""WHITE"Producto\t"WHITE"Beneficios\t"WHITE"Distancia\n");
			for(new i = 0; i != sizeof Truck_Contents; i ++)
			{
				PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] = i;

				new line_str[105];
				if(Truck_Contents[i][truck_content_EXP] > PLAYER_WORKS[playerid][WORK_TRUCK][pwork_LEVEL])
				{
					format(line_str, sizeof line_str, ""WHITE"%s\t"WHITE"%s{00FF00}$\t"WHITE"%.2f Km\n", Truck_Contents[i][truck_content_NAME], number_format_thousand(Truck_Contents[i][truck_content_MONEY] + work_extra_payment), (GetPlayerDistanceFromPoint(playerid, Truck_Contents[i][truck_content_X], Truck_Contents[i][truck_content_Y], Truck_Contents[i][truck_content_Z]) * 0.01));
					strcat(dialog, line_str);
				}
				else
				{
					format(line_str, sizeof line_str, ""WHITE"%s\t"WHITE"%s{00FF00}$\t"WHITE"%.2f Km\n", Truck_Contents[i][truck_content_NAME], number_format_thousand(Truck_Contents[i][truck_content_MONEY] + work_extra_payment), (GetPlayerDistanceFromPoint(playerid, Truck_Contents[i][truck_content_X], Truck_Contents[i][truck_content_Y], Truck_Contents[i][truck_content_Z]) * 0.01));
					strcat(dialog, line_str);
				}

				listitem++;
			}
			
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST_HEADERS, ""WHITE" Selecciona la carga", dialog, "»Continuar", "xCancelar");
			return 1;
		}
		case DIALOG_TUNING_MENU_PART:
		{
			inline OnComponentsInfoLoad()
			{
				new rows;
				if(cache_get_row_count(rows))
				{
					new caption[45], dialog[80 * TOTAL_TUNING_PARTS], line_str[80];
					format(caption, sizeof caption, "[{"#MECHANIC_COLOR"}Mecanico{F5F5F5}]  Tuning %s", VEHICLE_INFO[ GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][gb_vehicle_MODELID] - 400 ][vehicle_info_NAME]);
					format(dialog, sizeof dialog, ""WHITE"Categoría\n");
					if(rows)
					{
						for(new i = 0; i != rows; i ++)
						{
							if(i >= TOTAL_TUNING_PARTS)
							{
								printf("---> Límite superado en array 'PLAYER_TUNING_MENU, dialog Parts' al intentar cargar de la base de datos.", 2);
								break;
							}

							cache_get_value_index(i, 0, PLAYER_TUNING_MENU[playerid][i][tuning_menu_NAME]);
							format(line_str, sizeof line_str, "»%s\n", PLAYER_TUNING_MENU[playerid][i][tuning_menu_NAME]);
							strcat(dialog, line_str);
						}
					}
					else strcat(dialog, " Este vehiculo no se puede tunear");
					ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST_HEADERS, caption, dialog, "»Siguiente", "xCerrar");
				}
			}
			mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT vcomponents_info.part FROM vcomponents_info INNER JOIN vcomponents ON vcomponents_info.id = vcomponents.componentid WHERE vcomponents.modelid = %d GROUP BY vcomponents_info.part;", GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][gb_vehicle_MODELID]);
			mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnComponentsInfoLoad);
			return 1;
		}
		case DIALOG_TUNING_MENU_COMPONENT:
		{
			inline OnComponentsInfoLoad()
			{
				new rows;
				if(cache_get_row_count(rows))
				{
					new caption[45], dialog[75 * MAX_TUNING_PARTS_COMPONENTS], line_str[75];
					format(caption, sizeof caption, "[{"#MECHANIC_COLOR"}Mecanico{F5F5F5}]  Tuning - %s > %s", VEHICLE_INFO[ GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][gb_vehicle_MODELID] - 400 ][vehicle_info_NAME], PLAYER_TEMP[playerid][pt_TUNING_SELECTED_PART]);
					format(dialog, sizeof dialog, ""WHITE"Categoría\t"WHITE"Piezas necesarias\t"WHITE"Estimación\n");
					if(rows)
					{
						for(new i = 0; i != rows; i ++)
						{
							if(i >= MAX_TUNING_PARTS_COMPONENTS)
							{
								printf("---> Límite superado en array 'PLAYER_TUNING_MENU, dialog Partsnames' al intentar cargar de la base de datos.", 2);
								break;
							}

							cache_get_value_name_int(i, "id", PLAYER_TUNING_MENU[playerid][i][tuning_menu_ID]);
							cache_get_value_name(i, "name", PLAYER_TUNING_MENU[playerid][i][tuning_menu_NAME]);
							cache_get_value_name_int(i, "pieces", PLAYER_TUNING_MENU[playerid][i][tuning_menu_PIECES]);
							format(line_str, sizeof line_str, "»%s\t"BLUE"%d\t»$%s\n", PLAYER_TUNING_MENU[playerid][i][tuning_menu_NAME], PLAYER_TUNING_MENU[playerid][i][tuning_menu_PIECES], number_format_thousand(PLAYER_TUNING_MENU[playerid][i][tuning_menu_PIECES] * 50));
							strcat(dialog, line_str);
						}
					}
					else strcat(dialog, " No se puede tunear");
					ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST_HEADERS, caption, dialog, "»Siguiente", "xCerrar");
				}
			}
			mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT vcomponents_info.id, vcomponents_info.name, vcomponents_info.pieces FROM vcomponents_info INNER JOIN vcomponents ON vcomponents_info.id = vcomponents.componentid WHERE vcomponents_info.part = '%e' AND vcomponents.modelid = %d;", PLAYER_TEMP[playerid][pt_TUNING_SELECTED_PART], GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][gb_vehicle_MODELID]);
			mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnComponentsInfoLoad);
			return 1;
		}
		case DIALOG_GRAFFITI_EDIT: {
			ShowPlayerDialog(playerid, DIALOG_GRAFFITI_EDIT, DIALOG_STYLE_LIST, ""WHITE"GRAFFITI", "1. Cambiar posición\n2. Editar texto\n3. Borrar", "»Siguiente", "xCerrar");
		}
		case DIALOG_MECHANIC_MENU:
{
    new caption[60];
    format(caption, sizeof caption, "[{"#MECHANIC_COLOR"}Mecanico{F5F5F5}]  %s {"#MECHANIC_COLOR"}piezas{F5F5F5} » %s", number_format_thousand(PI[playerid][pi_MECHANIC_PIECES]), VEHICLE_INFO[ GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][gb_vehicle_MODELID] - 400 ][vehicle_info_NAME]);

    new dialog[600]; // Aumentamos un poco el tamaño por la nueva línea
    format(dialog, sizeof dialog,
    "\
        "WHITE"Opción\t"WHITE"Piezas necesarias\t"WHITE"Estimación\n\
        {F5F5F5} Reparación completa\t{F5F5F5}10 {"#MECHANIC_COLOR"}Piezas 500{"#GREEN_COLOR"}$\n\
    ");

    new paintjobs = VehiclePaintjob( GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][gb_vehicle_MODELID] );
    strcat(dialog, "{F5F5F5} Pintar vehiculo\t{F5F5F5}5 {"#MECHANIC_COLOR"}Piezas 250{"#GREEN_COLOR"}$\n");
    strcat(dialog, "{F5F5F5} Eliminar componentes\n");
    strcat(dialog, "{F5F5F5} Tunear vehiculo\n");
    if (paintjobs > 0) strcat(dialog, "{F5F5F5} Paintjob\t{F5F5F5}15 {"#MECHANIC_COLOR"}Piezas 750{"#GREEN_COLOR"}$\n");
    
    // NUEVA OPCIÓN: Reforzar Maletero
    strcat(dialog, "{F5F5F5} Reforzar maletero (+7)\t{F5F5F5}90 {"#MECHANIC_COLOR"}Piezas 90.000{"#GREEN_COLOR"}$\n");

    ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST_HEADERS, caption, dialog, "Siguiente", "xAtras");
    return 1;
}

		case DIALOG_MECHANIC_TRUNK_PRICE:
		{
			new caption[60];
			format(caption, sizeof caption, ""WHITE"MEJORAR MALETERO %s", VEHICLE_INFO[ GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][gb_vehicle_MODELID] - 400 ][vehicle_info_NAME]);

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, caption, ""WHITE"Indica el precio de la reparación.\nRango de precio: 90.000$ - 120.000$", "»Siguiente", "xCerrar");
			return 1;
		}
		case DIALOG_MECHANIC_REPAIR_PRICE:
		{
			new caption[60];
			format(caption, sizeof caption, "[{"#MECHANIC_COLOR"}Mecanico{F5F5F5}]  Reparacion completa %s", VEHICLE_INFO[ GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][gb_vehicle_MODELID] - 400 ][vehicle_info_NAME]);
			
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, caption, "{F5F5F5} Rango de precio: 500{"#GREEN_COLOR"}$ {F5F5F5}- 5000{"#GREEN_COLOR"}$\n» {F5F5F5}Indica el precio de reparacion:", "»Aceptar", "«Volver");
			return 1;
		}
		case DIALOG_MECHANIC_COLOR_PRICE:
		{
			new caption[60];
			format(caption, sizeof caption, "[{"#MECHANIC_COLOR"}Mecanico{F5F5F5}]  Pintar %s", VEHICLE_INFO[ GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][gb_vehicle_MODELID] - 400 ][vehicle_info_NAME]);
			
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, caption, "Indica el precio para pintar el vehiculo.\nRango de precio: 0$ - 1.750$", "»Aceptar", "xSalir");
			return 1;
		}
		case DIALOG_MECHANIC_TUNING_PRICE:
		{
			new caption[60], dialog[145];
			format(caption, sizeof caption, "[{"#MECHANIC_COLOR"}Mecanico{F5F5F5}]  Tunear %s", VEHICLE_INFO[ GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][gb_vehicle_MODELID] - 400 ][vehicle_info_NAME]);
			
			format(dialog, sizeof dialog, "Indica el precio para tunear el vehiculo.\nRango de precio: 0$ - %s$", number_format_thousand((PLAYER_TEMP[playerid][pt_TUNING_SELECTED_PIECES] * 50) + 2000));
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, caption, dialog, "»Aceptar", "xSalir");
			return 1;
		}
		case DIALOG_MECHANIC_PAINTJOB_PRICE:
		{
			new caption[60];
			format(caption, sizeof caption, "[{"#MECHANIC_COLOR"}Mecanico{F5F5F5}]  Paintjob %s", VEHICLE_INFO[ GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][gb_vehicle_MODELID] - 400 ][vehicle_info_NAME]);
			
			if (PLAYER_TEMP[playerid][pt_PAINTJOB_SELECTED_ID] == 3)
				ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, caption, "Indica el precio para eliminar el paintjob del vehiculo.\nRango de precio: 0$ - 2.750$", "»Aceptar", "xSalir");
			else
				ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, caption, "Indica el precio para el paintjob del vehiculo.\nRango de precio: 0$ - 2.750$", "»Aceptar", "xSalir");
			return 1;
		}
		case DIALOG_MECHANIC_REM_COM_PRICE:
		{
			new caption[60];
			format(caption, sizeof caption, "[{"#MECHANIC_COLOR"}Mecanico{F5F5F5}]  Eliminar componente de %s", VEHICLE_INFO[ GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][gb_vehicle_MODELID] - 400 ][vehicle_info_NAME]);
			
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, caption, "Indica el precio para eliminar el componente del vehiculo.\nRango de precio: 0$ - 2.750$", "»Aceptar", "xSalir");
			return 1;
		}
		case DIALOG_MECHANIC_ACCEPT:
		{
			new dialog[300];
			format(dialog, sizeof dialog,
				
				"\
					{f5f5f5}El mecánico %s te ofrece:\n\
					{cccccc}%s\n\
					\n\
					{F5F5F5} "WHITE"Precio: %s{"#GREEN_COLOR"}$\n\
					{F5F5F5} "WHITE"Piezas: %dP{f5f5f5}\n\
					» ¿Quieres aceptarlo?\n\
				",
					PLAYER_TEMP[ PLAYER_TEMP[playerid][pt_MECHANIC_PID] ][pt_NAME],
					PLAYER_TEMP[playerid][pt_MECHANIC_TEXT],
					number_format_thousand(PLAYER_TEMP[playerid][pt_MECHANIC_PRICE]),
					PLAYER_TEMP[playerid][pt_MECHANIC_PIECES]
			);
			
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, "[{"#MECHANIC_COLOR"}Mecanico{F5F5F5}]  Oferta recibida", dialog, "»Aceptar", "xRechazar");
			return 1;
		}
		case DIALOG_MECHANIC_SELECT_COL_SLOT:
		{
			new caption[60];
			format(caption, sizeof caption, "[{"#MECHANIC_COLOR"}Mecanico{F5F5F5}]  Pintar %s", VEHICLE_INFO[ GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][gb_vehicle_MODELID] - 400 ][vehicle_info_NAME]);
			
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST, caption, "{F5F5F5} Pintar color primario\n{F5F5F5} Pintar color secundario", "»Aceptar", "xSalir");
			return 1;
		}
		case DIALOG_MECHANIC_SELECT_COLOR, DIALOG_PLANE_SELECT_COLOR, DIALOG_BOAT_SELECT_COLOR:
		{
			new caption[60];
			format(caption, sizeof caption, "[{"#MECHANIC_COLOR"}Mecanico{F5F5F5}]  Pintar %s", VEHICLE_INFO[ GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][gb_vehicle_MODELID] - 400 ][vehicle_info_NAME]);
			
			
			new dialog[15 * (sizeof(VEHICLE_COLORS) + 1) ];
			for (new i = 0; i != sizeof VEHICLE_COLORS; i++)
			{
				new line_str[15];
				format(line_str, sizeof(line_str), "{%06x}%d\n", VEHICLE_COLORS[i] >>> 8, i);
				strcat(dialog, line_str);
			}
			
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST, caption, dialog, "»Aceptar", "xSalir");
			return 1;
		}
		case DIALOG_MECHANIC_REMOVE_COMPONEN:
		{
			inline OnComponentsInfoLoad()
			{
				new rows;
				if (cache_get_row_count(rows))
				{
					new caption[60], dialog[80 * (MAX_VEHICLE_COMPONENTS + 2) ], count, line_str[80];
					format(caption, sizeof caption, "Componentes de %s", VEHICLE_INFO[ GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][gb_vehicle_MODELID] - 400 ][vehicle_info_NAME]);
					format(dialog, sizeof dialog, "{f5f5f5}Componente\t{"#BLUE_COLOR"}Piezas\n");
					if (rows)
					{
						for (new i = 0; i != rows; i ++)
						{
							new id, part[24], name[24];
							cache_get_value_name_int(i, "id", id);
							PLAYER_TUNING_MENU[playerid][count][tuning_menu_ID] = GetVehicleComponentIndexFromId(PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID], id);
							if (PLAYER_TUNING_MENU[playerid][count][tuning_menu_ID] != -1) {
								cache_get_value_name(i, "part", part);
								cache_get_value_name(i, "name", name);
								cache_get_value_name_int(i, "pieces", PLAYER_TUNING_MENU[playerid][count][tuning_menu_PIECES]);
								format(line_str, sizeof line_str, "{f5f5f5}%s > %s\t{"#BLUE_COLOR"}+ %d\n", part, name, PLAYER_TUNING_MENU[playerid][count][tuning_menu_PIECES]);
								strcat(dialog, line_str);
								count++;
							}
							else strcat(dialog, "{f5f5f5} Vehiculo sin tunear"); 
						}
					}
					else strcat(dialog, "{f5f5f5} Vehiculo sin tunear");
					ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST_HEADERS, caption, dialog, "Eliminar", "Atrás");
				}
			}

			new components_query[1024], count;
			format(components_query, sizeof components_query, "SELECT * FROM vcomponents_info WHERE");
			for (new i = 0; i != MAX_VEHICLE_COMPONENTS; i ++)
			{
				PLAYER_TUNING_MENU[playerid][i][tuning_menu_ID] = -1;
				if (!GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][gb_vehicle_COMPONENTS][i]) continue;
				if (count == 0) format(components_query, sizeof components_query, "%s id = %d", components_query, GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][gb_vehicle_COMPONENTS][i]);
				else format(components_query, sizeof components_query, "%s OR id = %d", components_query, GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][gb_vehicle_COMPONENTS][i]);
				count ++;
			}
			if (!count) SendClientMessageEx(playerid, -1, "vehiculo sin tunear.");
			else mysql_tquery_inline(srp_db, components_query, using inline OnComponentsInfoLoad);
			return 1;
		}
		case DIALOG_TUNING_PAINTJOB:
		{
			new caption[60], dialog[25 * 4];
			format(caption, sizeof caption, "Paintjob - %s", VEHICLE_INFO[ GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][gb_vehicle_MODELID] - 400 ][vehicle_info_NAME]);
			
			new paintjobs = VehiclePaintjob( GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][gb_vehicle_MODELID] );
			if (paintjobs == 0)
			{
				SendClientMessageEx(playerid, -1, "Este vehiculo no soporta paintjobs.");
				ShowDialog(playerid, DIALOG_MECHANIC_MENU);
				return 1;
			}
			
			strcat(dialog, "{f5f5f5}Eliminar paintjob (+ 15 piezas)\n");
			for (new i = 0; i != paintjobs; i ++)
			{
				new line_str[25];
				format(line_str, sizeof line_str, "{f5f5f5}Paintjob %d\n", i + 1);
				strcat(dialog, line_str);
			}
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST, caption, dialog, "»Aceptar", "xSalir");
			return 1;
		}
		case DIALOG_SEED_LIST:
		{
			new dialog[64 * (sizeof(seed_info) + 1)];
			format(dialog, sizeof dialog, ""WHITE"Nombre\t"WHITE"Precio por semilla\n");

			for(new i = 0; i != sizeof seed_info; i ++)
			{
				new line_str[64];
				if(PLAYER_WORKS[playerid][WORK_FARMER][pwork_LEVEL] >= seed_info[i][seed_info_EXP])
				{
					if(seed_info[i][seed_info_TYPE] == TYPE_LEGAL) format(line_str, sizeof line_str, "{0aa7f4}{FFFFFF}%s\t"WHITE"%d{00FF00}$\n", seed_info[i][seed_info_NAME], seed_info[i][seed_info_PRICE]);
					else format(line_str, sizeof line_str, "{0aa7f4}{FFFFFF} %s\t"WHITE"%d{00FF00}$\n", seed_info[i][seed_info_NAME], seed_info[i][seed_info_PRICE]);
				}
				else format(line_str, sizeof line_str, "{0aa7f4}{FFFFFF} %s\t"WHITE"%d{00FF00}$\n", seed_info[i][seed_info_NAME], seed_info[i][seed_info_PRICE]);

				strcat(dialog, line_str);
			}

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST_HEADERS, "{828282}[Semillas] {ffffff}  Comprar", dialog, "»Siguiente", "xCerrar");
			return 1;
		}
		
		case DIALOG_BOLM:
		{
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST, "{00ff00}[Bolsillos] {ffffff}  Opciones", " Guardar objeto\n Tirar objeto\n Guardar maletero/Armario\n", "Aceptar", "Cancelar");
			return true;
		}
		
		case DIALOG_ATUENDO:
		{
			new dialog[145];
			format(dialog, sizeof dialog, "{FFFFFF}Producto: {0aa7f4}Atuendo.\n{FFFFFF}Atuendo VIP: {41f48f}$Gratis\n{FFFFFF}Escribe ID Del atuendo.", 2);

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, "{0aa7f4}Atuendo VIP", dialog, "»Seleccionar", "xAtrás");
			return 1;
		}
		
		case DIALOG_BIDON:
		{
			new dialog[145];
			format(dialog, sizeof dialog, "{FFFFFF}Bidon: {0aa7f4}20L.\n{FFFFFF}Gasolina: {41f48f}$Gratis\n{FFFFFF}Escribe los litros, 20 MAX:", 2);

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, "{0aa7f4}Bidon", dialog, "»Seleccionar", "xAtrás");
			return 1;
		}
		
		case DIALOG_BIDONX:
		{
			new dialog[145];
			format(dialog, sizeof dialog, "{FFFFFF}Bidon: {0aa7f4}20L.\n{FFFFFF}Gasolina: {41f48f}$Gratis\n{FFFFFF}Escribe los litros, 20 MAX:", 2);

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, "{0aa7f4}Bidon", dialog, "»Seleccionar", "xAtrás");
			return 1;
		}

		case DIALOG_BANCO:
		{
			new dialog[145];
			format(dialog, sizeof dialog, ""WHITE" Comprar una Propiedad\n "WHITE"Escribe la id de la propiedad.");

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, "{828282}[Banco] {ffffff}  Casa", dialog, "»Comprar", "xAtrás");
			return 1;
		}


		case DIALOG_PIEZAS:
		{
			new dialog[145];
			format(dialog, sizeof dialog, "{FFFFFF}Precio por 1 de pizas: 1000{"#GREEN_COLOR"}$\n{FFFFFF}Escribe la cantidad de piezas que necesites.", 2);

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, "{828282}[Piezas] {ffffff}  Mecanicas", dialog, "»Comprar", "xAtrás");
			return 1;
		}

		case DIALOG_SEED_BUY:
		{
			new dialog[145];
			format(dialog, sizeof dialog, ""WHITE"Vale, quieres comprar semillas de "WHITE"%s"WHITE".\nEl precio por semilla es de: "WHITE"%d{828282}B$\n\n"WHITE"¿Cuantas semillas quieres comprar?", seed_info[ PLAYER_TEMP[playerid][pt_SELECTED_BUY_SEED_ID] ][seed_info_NAME], seed_info[ PLAYER_TEMP[playerid][pt_SELECTED_BUY_SEED_ID] ][seed_info_PRICE]);

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, "{828282}[Semillas] {ffffff}  Comprar", dialog, "»Siguiente", "xCerrar");
			return 1;
		}
		case DIALOG_PLANT_PLANTS:
		{
			new dialog[95 * (sizeof(seed_info) + 1)];
			format(dialog, sizeof dialog, ""WHITE"Planta\t"WHITE"Semilla requerida\t"WHITE"Semillas necesarias\n");

			for(new i = 0; i != sizeof plant_info; i ++)
			{
				new line_str[95];

				if(seed_info[i][seed_info_TYPE] == TYPE_LEGAL) format(line_str, sizeof line_str, ""WHITE"%s\t"WHITE"%s\t"WHITE"%d\n", plant_info[i][plant_info_NAME], seed_info[i][seed_info_NAME], plant_info[i][plant_info_SEEDS]);
				else format(line_str, sizeof line_str, ""WHITE"%s\t"WHITE"%s\t"WHITE"%d\n", plant_info[i][plant_info_NAME], seed_info[i][seed_info_NAME], plant_info[i][plant_info_SEEDS]);

				strcat(dialog, line_str);
			}

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST_HEADERS, "{828282}[Semillas] {ffffff}  Plantar", dialog, "»Siguiente", "xCerrar");
		}
		case DIALOG_TRICKS_MEDICINE:
		{
			new dialog[150];
			format(dialog, sizeof dialog, ""WHITE"%s "WHITE"te quiere vender algo.\n\nTipo: "WHITE"medicamento\n"WHITE"Cantidad: "WHITE"%dg\n"WHITE"Precio: "WHITE"%s{00FF00}$\n\n"WHITE"¿Quieres comprarselo?",
									PLAYER_TEMP[ PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID] ][pt_RP_NAME],
									PLAYER_TEMP[playerid][pt_TRICK_SELLER_EXTRA],
									number_format_thousand(PLAYER_TEMP[playerid][pt_TRICK_PRICE])
								);

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, "{00ee33}[Ventas] {ffffff}  Medicina", dialog, "»Aceptar", "»Cancelar");
			return 1;
		}
		case DIALOG_TRICKS_OBJETO:
		{
			new dialog[300];
			new bol = PLAYER_TEMP[playerid][pt_TRICK_SELLER_INT];
			new name = PLAYER_TEMP[playerid][pt_TRICK_SELLER_EXTRA];
			format(dialog, sizeof dialog, ""WHITE"Nombre: "WHITE"%s\n"WHITE"Objeto: "WHITE"%s\n"WHITE"Data: {828282}%d\n"WHITE"Precio: "WHITE"%s{ff00ff}{00ee33}$\n\n"WHITE"¿Quieres comprarselo?",
									PLAYER_TEMP[ PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID] ][pt_RP_NAME],  
									ObjetoInfo[name][NombreObjeto],
									PI[PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID]][pi_BOL_CANT][bol],
                                    number_format_thousand(PLAYER_TEMP[playerid][pt_TRICK_PRICE])
								);

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, "{00ee33}[Ventas] {ffffff}  Objetos", dialog, "»Aceptar", "»Cancelar");
			return 1;
		}
		case DIALOG_TRICKS_CANNABIS:
		{
			new dialog[150];
			format(dialog, sizeof dialog, ""WHITE"%s "WHITE"te quiere vender algo.\n\nTipo: "WHITE"marihuana\n"WHITE"Cantidad: "WHITE"%dg\n"WHITE"Precio: "WHITE"%s{00FF00}$\n\n"WHITE"¿Quieres comprarselo?",
									PLAYER_TEMP[ PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID] ][pt_RP_NAME],
									PLAYER_TEMP[playerid][pt_TRICK_SELLER_EXTRA],
									number_format_thousand(PLAYER_TEMP[playerid][pt_TRICK_PRICE])
								);

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, "{00ee33}[Ventas] {ffffff}  Marihuana", dialog, "»Aceptar", "»Cancelar");
			return 1;
		}
		case DIALOG_TRICKS_CRACK:
		{
			new dialog[150];
			format(dialog, sizeof dialog, ""WHITE"%s "WHITE"te quiere vender algo.\n\nTipo: "WHITE"crack\n"WHITE"Cantidad: "WHITE"%dg\n"WHITE"Precio: "WHITE"%s{00FF00}$\n\n"WHITE"¿Quieres comprarselo?",
									PLAYER_TEMP[ PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID] ][pt_RP_NAME],
									PLAYER_TEMP[playerid][pt_TRICK_SELLER_EXTRA],
									number_format_thousand(PLAYER_TEMP[playerid][pt_TRICK_PRICE])
								);

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, "{00ee33}[Ventas] {ffffff}  Crack", dialog, "»Aceptar", "»Cancelar");
			return 1;
		}
		case DIALOG_TRICKS_VENDAS:
		{
			new dialog[150];
			format(dialog, sizeof dialog, "%s te quiere vender algo.\n\nTipo: Vendas\nCantidad: %d\nPrecio: %s$\n\n¿Quieres comprárselo?",
									PLAYER_TEMP[ PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID] ][pt_RP_NAME],
									PLAYER_TEMP[playerid][pt_TRICK_SELLER_EXTRA],
									number_format_thousand(PLAYER_TEMP[playerid][pt_TRICK_PRICE])
								);

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, "Ventas", dialog, "Aceptar", "Cancelar");
			return 1;
		}
		case DIALOG_TRICKS_PACKET: return ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST, ""WHITE"VENTAS - PAQUETES", "Paquete de marihuana (50g)\nPaquete de marihuana (100g)\nPaquete de crack (50g)\nPaquete de crack (100g)\nPaquete de medicinas (50g)\nPaquete de medicinas (100g)", "Seleccionar", "»Cancelar");
		case DIALOG_TRICKS_UPACKET:
		{
			new dialog[150], type[80];
			switch(PLAYER_TEMP[ PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID] ][pt_TRICK_PACKET])
			{
				case 0: format(type, sizeof type, "Paquete de marihuana de (50g)");
				case 1: format(type, sizeof type, "Paquete de marihuana de (100g)");
				case 2: format(type, sizeof type, "Paquete de crack de (50g)");
				case 3: format(type, sizeof type, "Paquete de crack de (100g)");
				case 4: format(type, sizeof type, "Paquete de medicinas de (50g)");
				case 5: format(type, sizeof type, "Paquete de medicinas de (100g)");
			}
			format(dialog, sizeof dialog, ""CYAN"%s "WHITE"te quiere vender algo.\n\nTipo: "WHITE"%s\n"WHITE"Cantidad: "WHITE"%dg\n"WHITE"Precio: "WHITE"$%s\n\n"WHITE"¿Quieres comprarselo?",
									PLAYER_TEMP[ PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID] ][pt_RP_NAME], type,
									PLAYER_TEMP[playerid][pt_TRICK_SELLER_EXTRA],
									number_format_thousand(PLAYER_TEMP[playerid][pt_TRICK_PRICE])
								);

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, ""WHITE"VENTAS", dialog, "»Aceptar", "»Cancelar");
			return 1;
		}
		case DIALOG_TRICKS_SU:
		{
			new dialog[150];
			format(dialog, sizeof dialog, ""WHITE"%s "WHITE"te quiere vender %d "SERVER_COIN"\n"WHITE"Precio: %s{00ff00}$\n\n"WHITE"¿Quieres comprarselo?",
									PLAYER_TEMP[ PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID] ][pt_RP_NAME],
									PLAYER_TEMP[playerid][pt_TRICK_SELLER_EXTRA],
									number_format_thousand(PLAYER_TEMP[playerid][pt_TRICK_PRICE])
								);

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, "{00ee33}[Ventas] {ffffff}  Gemas", dialog, "»Aceptar", "»Cancelar");
			return 1;
		}
				case DIALOG_VEHICLE_BOOT:
{
    // Limpiamos los listitems seleccionables
    for(new i = 0; i != MAX_LISTITEMS; i++ ) PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][i] = -1;

    new vehicle_id = PLAYER_TEMP[playerid][pt_DIALOG_BOT_VEHICLE];
    
    // 1. Calculamos el límite: Base + Extra del mecánico
    new max_slots = VEHICLE_INFO[GLOBAL_VEHICLES[vehicle_id][gb_vehicle_MODELID] - 400][vehicle_info_BOOT_SLOTS];
    max_slots += PLAYER_VEHICLES[vehicle_id][player_vehicle_EXTRA_SLOTS];

    // 2. Seguridad: No superar el nuevo MAX_BOOT_SLOTS (100)
    if(max_slots > MAX_BOOT_SLOTS) max_slots = MAX_BOOT_SLOTS;

    // 3. Aumentamos el tamaño del string del diálogo para soportar muchos items
    // 100 items * ~80 caracteres por línea = 8000 celdas para estar seguros
    new dialog[8192], line_str[128], listitem = 0;

    for(new i = 0; i != max_slots; i ++)
    {
        if(VEHICLE_BOOT[vehicle_id][i][vehicle_boot_VALID])
        {
            new checkint = VEHICLE_BOOT[vehicle_id][i][vehicle_boot_INT]; 
            
            // Lógica de colores según el ID del objeto (Drogas/Especiales)
            if(checkint >= 226 && checkint <= 229) 
            {
                format(line_str, sizeof line_str, "{4876FF}[%d]\t{ffffff}%s\n", 
                    VEHICLE_BOOT[vehicle_id][i][vehicle_boot_INT_EXTRA], 
                    ObjetoInfo[checkint][NombreObjeto]);
            }
            else 
            {
                format(line_str, sizeof line_str, "{00ff00}[%d]\t{ffffff}%s\n", 
                    VEHICLE_BOOT[vehicle_id][i][vehicle_boot_INT_EXTRA], 
                    ObjetoInfo[checkint][NombreObjeto]);
            }
            strcat(dialog, line_str);

            // Guardamos qué índice del baúl corresponde a qué línea del diálogo
            PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] = i;
            listitem ++;
        }
    }

    // 4. Título dinámico
    new caption[64];
    format(caption, sizeof caption, "{828282}[Baul] {ffffff} %s  {828282}[%d/%d]", 
        VEHICLE_INFO[GLOBAL_VEHICLES[vehicle_id][gb_vehicle_MODELID] - 400][vehicle_info_NAME], 
        listitem, max_slots);

    // 5. Botón para abrir bolsillos al final de la lista
    PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] = MAX_BOOT_SLOTS + 20;
    strcat(dialog, "{F5DEB3} Abrir Bolsillos\n"); 

    ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST, caption, dialog, "Seleccionar", "Cerrar");
}

		case DIALOG_VEHICLE_BOOT_DELETE_ALL: return ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, ""WHITE"MALETERO - ELIMINAR TODO", ""WHITE"¿Estas seguro de que quiere eliminar todo de su maletero?\nEsta opción no se puede deshacer.", "»Eliminar", "»Cancelar");
		case DIALOG_VEHICLE_BOOT_OPTIONS:
		{
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST, ""WHITE"OPCIONES", ""WHITE"1. Sacar\n"WHITE"2. Eliminar", "»Siguiente", "xCerrar");
			return 1;
		}
		case DIALOG_VEHICLE_BOOT_DELETE:
		{
			new dialog[190];

			switch(VEHICLE_BOOT[ PLAYER_TEMP[playerid][pt_DIALOG_BOT_VEHICLE] ][ PLAYER_TEMP[playerid][pt_DIALOG_BOT_VEHICLE_BOOT_SLOT] ][vehicle_boot_TYPE])
			{
				case BOOT_TYPE_OBJECT: format(dialog, sizeof dialog, "Tipo: %s\nDescripcion: %s (%s balas)\n\n¿Estas seguro de que quiere eliminar esto de tu maletero?\nEsta opcin no se puede deshacer.", VEHICLE_BOOT[ PLAYER_TEMP[playerid][pt_DIALOG_BOT_VEHICLE] ][ PLAYER_TEMP[playerid][pt_DIALOG_BOT_VEHICLE_BOOT_SLOT] ][vehicle_boot_TYPE], WEAPON_INFO[ VEHICLE_BOOT[ PLAYER_TEMP[playerid][pt_DIALOG_BOT_VEHICLE] ][ PLAYER_TEMP[playerid][pt_DIALOG_BOT_VEHICLE_BOOT_SLOT] ][vehicle_boot_INT] ][weapon_info_NAME], number_format_thousand( VEHICLE_BOOT[ PLAYER_TEMP[playerid][pt_DIALOG_BOT_VEHICLE] ][ PLAYER_TEMP[playerid][pt_DIALOG_BOT_VEHICLE_BOOT_SLOT] ][vehicle_boot_INT_EXTRA] ));
			}
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, "Maletero - Eliminar", dialog, "Eliminar", "Atras");
			return 1;
		}

		case DIALOG_SELECT_POLICE_SKIN:
		{
			for(new i = 0; i != MAX_LISTITEMS; i++ ) PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][i] = -1;

			new dialog[60 * sizeof(POLICE_SKINS)], line_str[60], listitem;
			format(dialog, sizeof dialog, "{"#SILVER_COLOR"}Ropa\t{"#SILVER_COLOR"}Rango necesario\n");
			for(new i = 0; i != sizeof POLICE_SKINS; i ++)
			{
				if(POLICE_SKINS[i][police_skin_TYPE] != PI[playerid][pi_GENDER]) continue;

				if(POLICE_SKINS[i][police_skin_RANK] > PLAYER_WORKS[playerid][WORK_POLICE][pwork_LEVEL]) format(line_str, sizeof line_str, "{666666}%d\t{666666}%s\n", POLICE_SKINS[i][police_skin_SKIN], POLICE_RANKS[ POLICE_SKINS[i][police_skin_RANK] ]);
				else format(line_str, sizeof line_str, "{"#SILVER_COLOR"}%d\t{"#SILVER_COLOR"}%s\n", POLICE_SKINS[i][police_skin_SKIN], POLICE_RANKS[ POLICE_SKINS[i][police_skin_RANK] ]);
				strcat(dialog, line_str);

				PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] = i;
				listitem ++;
			}
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST_HEADERS, "Selecciona la ropa", dialog, "»Continuar", "xCerrar");
			return 1;
		}
					




		case DIALOG_POLICE_RADIOS:
		{
			new dialog[64 * 6];
			for(new i = 0; i != 6; i ++)
			{
				new players = CountPoliceRadioPlayers(i);

				if(PLAYER_TEMP[playerid][pt_POLICE_RADIO] == i) strcat(dialog, ""WHITE"");
				else strcat(dialog, ""WHITE"");
				format(dialog, sizeof dialog, "%sFrecuencia %d:\t%d personas\n", dialog, i, players);
			}

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST, ""WHITE"SELECCIONA LA FRECUENCIA", dialog, "»Siguiente", "xCerrar");
			return 1;
		}
		case DIALOG_POLICE_LIST:
		{
			inline OnDialogQueryLoad()
			{
				new rows;
				if(cache_get_row_count(rows))
				{
					new dialog[128 * 15], line_str[128], count, start_pos = PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] * PLAYER_TEMP[playerid][pt_DIALOG_DB_LIMIT] + 1;
					format(dialog, sizeof dialog, "{"#SILVER_COLOR"}Nombre\t{"#SILVER_COLOR"}Rango\t{"#SILVER_COLOR"}Últ. conexion\n");
					for(new i = 0; i != MAX_LISTITEMS; i++ ) PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][i] = -1;
					for(new i = 0; i != rows; i ++)
					{
						new level, id, name[24], last_connection[24], connected;
						cache_get_value_name_int(i, "level", level);
						cache_get_value_name_int(i, "id", id);
						cache_get_value_name(i, "name", name);
						cache_get_value_name(i, "last_connection", last_connection);
						cache_get_value_name_int(i, "connected", connected);
						if(level > sizeof POLICE_RANKS) level = sizeof POLICE_RANKS - 1;

						if(connected) format(line_str, sizeof line_str, "{"#SILVER_COLOR"}%d. %s\t{"#SILVER_COLOR"}%s\t"WHITE"Conectado\n", start_pos + i, name, POLICE_RANKS[level]);
						else format(line_str, sizeof line_str, "{"#SILVER_COLOR"}%d. %s\t{"#SILVER_COLOR"}%s\t{"#SILVER_COLOR"}%s\n", start_pos + i, name, POLICE_RANKS[level], last_connection);
						strcat(dialog, line_str);
						PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][count++] = id;
					}

					PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][count++] = -2;
					strcat(dialog, "{c9c9c9}- Siguiente\n");
					PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][count++] = -3;
					strcat(dialog, "{c9c9c9}- Anterior\n");
					ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST_HEADERS, "{4C9EFB}[SAPD] {ffffff}  PD", dialog, "»Continuar", "xCerrar");
				}
			}
			mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT pworks.level, player.id, player.name, player.last_connection, player.connected FROM pworks INNER JOIN player ON pworks.id_player = player.id WHERE pworks.id_work = %d AND pworks.`set` = 1 ORDER BY player.connected DESC, pworks.level DESC LIMIT %d, %d;", WORK_POLICE, PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] * PLAYER_TEMP[playerid][pt_DIALOG_DB_LIMIT], PLAYER_TEMP[playerid][pt_DIALOG_DB_LIMIT]);
			mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnDialogQueryLoad);
			return 1;
		}
		case DIALOG_POLICE_MODIFY:
		{
			inline OnDialogQueryLoad()
			{
				new rows;
				if(cache_get_row_count(rows))
				{
					if(rows)
					{
						new level, name[24];
						cache_get_value_name_int(0, "level", level);
						cache_get_value_name(0, "name", name);

						if(level > PLAYER_WORKS[playerid][WORK_POLICE][pwork_LEVEL]) ShowPlayerMessage(playerid, "No puedes modificar el rango de este policía porque es un rango superior al tuyo.", 2);
						else
						{
							new caption[45], dialog[45 * sizeof(POLICE_RANKS)], line_str[45];
							format(caption, sizeof caption, "{4C9EFB}[Panel] {ffffff}  PD  %s", name);
							format(dialog, sizeof dialog, ""WHITE"Civil (eliminar)\n");
							for(new i = 1; i != sizeof POLICE_RANKS; i ++)
							{
								if(i > PLAYER_WORKS[playerid][WORK_POLICE][pwork_LEVEL])
								{
									if(level == i) format(line_str, sizeof line_str, ""WHITE"%s (actual)\n", POLICE_RANKS[i]);
									else format(line_str, sizeof line_str, ""WHITE"%s\n", POLICE_RANKS[i]);
								}
								else
								{
									if(level == i) format(line_str, sizeof line_str, ""WHITE"%s (actual)\n", POLICE_RANKS[i]);
									else format(line_str, sizeof line_str, ""WHITE"%s\n", POLICE_RANKS[i]);
								}
								strcat(dialog, line_str);
							}
							ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST, caption, dialog, "»Siguiente", "xCerrar");
						}
					}
				}
			}
			mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT pworks.level, player.name FROM pworks INNER JOIN player ON pworks.id_player = player.id WHERE pworks.id_player = %d AND pworks.id_work = %d AND pworks.`set` = 1;", PLAYER_TEMP[playerid][pt_SELECTED_DB_AC_ID], WORK_POLICE);
			mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnDialogQueryLoad);
			return 1;
		}
	case DIALOG_HELP:
		{
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST, "{828282}[Panel] {ffffff}  De Ayuda",

				"\
					 General\n\
					 Personaje\n\
					 Propiedades\n\
					 Reportar\n\
					 Trabajos\n\
					 Vehiculos\n\
					 Bandas\n\
					 Membresia VIP\n\
					 Bolsillos\n\
				"

			, "»Continuar", "xCerrar");
			return 1;
		}


		case DIALOG_HELP_GENERAL:
		{
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, "{828282}[Panel] {ffffff}  General",

				"\
					{FFFFFF} En "SERVER_NAME" un día completo dura tres horas reales.\n\
					\n\
					Para subir de nivel necesitas rellenar la reputación, puedes verlo gráficamente\n\
					en la barra que aparece abajo que representa tu reputación.\n\
					La reputación se aumenta cada {"#PRIMARY_COLOR"}25 minutos,{FFFFFF}, cuando la reputación llegue\n\
					al límite podrás subir al siguiente nivel con el comando {"#PRIMARY_COLOR"}/comprarnivel.\n\
					El pago de juego (payday) se recibe cada tres {"#PRIMARY_COLOR"}reputaciones (75 minutos).\n\
					Puedes utilizar {"#PRIMARY_COLOR"}/csave para guardar los datos de tu cuenta.\n\
					\n\
					{FFFFFF}Utiliza {"#PRIMARY_COLOR"}/estadisticas {FFFFFF}para ver tus estadísticas, utiliza {"#PRIMARY_COLOR"}/exp {FFFFFF}para ver tus habilidades.\n\
					{FFFFFF}En el nivel uno no podrás agredir a otros jugadores, tampoco podrás tener armas\n\
					{FFFFFF}hasta el nivel tres.\n\
					{FFFFFF}Utiliza {"#PRIMARY_COLOR"}/pass {FFFFFF}para cambiar la contraseña de tu cuenta.\n\
					{FFFFFF}Para ver el tiempo que te queda en la cárcel utiliza {"#PRIMARY_COLOR"}/tiempo.\n\
					\n\
					{FFFFFF}Para utilizar el canal de dudas utiliza el comando {"#PRIMARY_COLOR"}/d seguido de tu duda.\n\
					{FFFFFF}Para deshabilitar o volver a habilitar el canal de dudas usa {"#PRIMARY_COLOR"}/dudas.\n\
					{FFFFFF}Un día del juego dura tres horas reales.\n\
					\n\
				"
			, "xCerrar", "");
			return 1;
		}
		case DIALOG_HELP_CHARACTER:
		{
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, "{828282}[Panel] {ffffff}  Personaje",

				"\
					{FFFFFF}Para poder localizar cualquier punto en San Andreas te recomandamos que compres\n\
					un GPS en cualquier tienda {FF846A}24/7.{FFFFFF} Desde el GPS podras localizarlo todo, tus vehiculos,\n\
					tus propiedades, trabajos, lugares de interés, etc.\n\
					\n\
					Utiliza tu teléfono para llamar a la policia, mecanico, taxi... o para hablar con\n\
					alguien, por defecto tendras varios contactos en la agenda pero puedes eliminarlos\n\
					o añadir mas, puedes tener hasta 20 contactos, todo esto se hace desde {"#SILVER_COLOR"}/movil{FFFFFF} o {"#SILVER_COLOR"}/celular.\n\
					\n\
					{FFFFFF}En las tiendas {FF846A}24/7{FFFFFF} puedes comprar guías para saber el número de cualquier jugador.\n\
					Para evitar aparecer en la guía utiliza {"#SILVER_COLOR"}/sguia.\n\
					\n\
					{FFFFFF}Las barras en la esquina superior derecha representan tu nivel de hidratacion y de alimentacion,\n\
					si los niveles llegan muy abajo tu personaje se empezara a sentir mal y empezaras a perder vida.\n\
					Los niveles bajaran segun tu actividad fisica, corriendo te dara sed mas pronto que caminando.\n\
					Para alimentarte ve a un restaurante de comida rapida o a un {FF846A}24/7{FFFFFF} donde podras comprar alimentos,\n\
					que podras consumir el cualquier momento con {"#SILVER_COLOR"}/alimentos{FFFFFF} o {"#SILVER_COLOR"}/consumir.\n\
					\n\
					{FFFFFF}Puedes dar objetos con el comando {"#SILVER_COLOR"}/dar,{FFFFFF} para mas informacion utiliza {"#SILVER_COLOR"}/dar (id jugador) (id slot) y (precio).\n\
					{FFFFFF}Puedes deshacerte de tus objetos con el comando {"#SILVER_COLOR"}/tirar,{FFFFFF} para mas informacion utiliza {"#SILVER_COLOR"}/man tirar.\n\
					{FFFFFF}Puedes vender objetos con el comando {"#SILVER_COLOR"}/vender, para mas informacion utiliza {"#SILVER_COLOR"}/vender (id jugador) y lo que quieras.\n\
					{FFFFFF}Para consumir consumibles que lleves contigo utiliza {"#SILVER_COLOR"}/consumir.\n\
					\n\
					{FFFFFF}Puedes cambiar la ropa de tu personaje en cualquier tienda de ropa, tambien\n\
					podras comprarte accesorios y ponertelos o quitartelos {"#SILVER_COLOR"}(/bolsillo).\n\
					\n\
					{FFFFFF}Si tienes nivel de búsqueda o estas arrestado y mueres iras a la carcel despues de recuperarte.\n\
					Cuando te arresten los policías te pueden requisar tus pertenencias ilegales {FF846A}(armas y drogas).\n\
					\n\
					{FFFFFF}Utiliza {"#SILVER_COLOR"}/inv{FFFFFF} o pulsa {"#SILVER_COLOR"}N {FFFFFF}para ver todo lo que llevas encima.\n\
					{FFFFFF}Utiliza {"#SILVER_COLOR"}/estilo{FFFFFF} para cambiar el estilo de tu personaje.\n\
					\n\
				"
			, "xCerrar", "");
			return 1;
		}
		case DIALOG_HELP_PROPERTIES:
		{
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, "{828282}[Panel] {ffffff}  De Propiedades",

				"\
					{FFFFFF}Puedes encontrar diferentes propiedades en todo {FF846A}San Andreas,{FFFFFF} para comprarla tendras que saber la\n\
					ID de la propiedad e ir a cualquier banco para comprarla, el dinero se descuenta de la cuenta bancaria.\n\
					\n\
					Puedes localizar tus propiedades con el GPS.\n\
					Puedes dejar pasar a cualquiera a tu propiedad, solo tiene que tocar el timbre\n\
					y tu elijes si quieres dejarlo pasar o no.\n\
					\n\
					Si quieres echar a alguien que esta dentro de tu propiedad utiliza el comando {"#SILVER_COLOR"}/echar.\n\
					{FFFFFF}Dentro de la propiedad sitúate en la puerta interior y pon {"#SILVER_COLOR"}/casa,{FFFFFF} desde ahí podras\n\
					cambiar el nombre de la propiedad para así localizarla mas facilmente en el GPS.\n\
					{FFFFFF}también podras echar a todos los huéspedes de tu propiedad.\n\
					Si tienes un MP3 podras poner música en él y hacer que se reproduzca para toda la gente\n\
					que haya dentro de la propiedad.\n\
					\n\
					Si quieres vender tu propiedad puedes hacerlo en {"#PRIMARY_COLOR"}\"Gobierno San Andreas\"{FFFFFF}, localizaló en el GPS.\n\
					Puedes vendersela al banco al instante, pero te daran solo el 25% de lo que te costó {FF846A}(50% VIP).\n\
					{FFFFFF}también se la puedes vender a otro jugador, dentro de un rango de precio pre-establecido.\n\
					Para vender tu propiedad a un jugador puedes ponerla en {"#SILVER_COLOR"}/tienda.\n\
					\n\
				"
			, "xCerrar", "");
			return 1;
		}
		case DIALOG_HELP_REPORT:
		{
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, "{828282}[Panel] {ffffff}  De Reportes",

				"\
					{FFFFFF}Para un reporte simple utiliza {"#SILVER_COLOR"}/reportar ID{FFFFFF} para reportar a un jugador.\n\
					\n\
					Para reportes mas detallado debes publicarlos en el foro aportando imagenes.\n\
					Los reportes de fallos o bugs también deberas hacerlo en el foro junto con imagenes.\n\
					\n\
				"
			, "xCerrar", "");
			return 1;
		}
		case DIALOG_HELP_VEHICLES:
		{
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, "{828282}[Panel] {ffffff}  De Vehiculos",

				"\
					{FF846A}GENERAL\n\
					{FFFFFF}Para arrancar o detener un vehiculo presiona {"#SILVER_COLOR"}~k~~CONVERSATION_YES~ {FFFFFF}o utiliza {"#SILVER_COLOR"}/motor.\n\
					{FFFFFF}Utiliza {"#SILVER_COLOR"}/luces{FFFFFF} para encender o apagar las luces del vehiculos.\n\
					Si tu vehiculo se daña tendras que llamar a un mecanico desde tu movil para que lo repare.\n\
					\n\
					Cada vehiculo tiene su cantidad maxima del depósito de gasolina.\n\
					Para repostar el vehiculo debes ir a cualquier gasolinera, puedes localizarlas con el GPS.\n\
					también puedes comprar un bidon de gasolina para {"#SILVER_COLOR"}/vertir{FFFFFF} gasolina en cualquier momento.\n\
					Si tienes un MP3 puedes poner una cancion en el vehiculo con el comando {"#SILVER_COLOR"}/vmp3.\n\
					\n\
					\n\
					{FF846A}VEHICULOS PERSONALES\n\
					{FFFFFF}Para comprarlos ve a cualquier concesionario.\n\
					El dinero para comprarlo es el de la cuenta bancaria.\n\
					Para localizar tus vehiculos utiliza el GPS.\n\
					\n\
					Utiliza {"#SILVER_COLOR"}/abrir{FFFFFF} para abrir las puertes de tu vehiculo, utiliza {"#SILVER_COLOR"}/cerrar{FFFFFF} para cerrarlas.\n\
					Puedes estacionar tu vehiculo con el comando {"#SILVER_COLOR"}/estacionar.\n\
					{FFFFFF}Cuando tu vehiculo sea destruido recibiras uno nuevo en tu último estacionamiento.\n\
					Para pintar, tunear o modificar tu vehiculo tendras que hacerlo en el mecanico.\n\
					\n\
					Puedes guardar cosas en el maletero del vehiculo con el comando {"#SILVER_COLOR"}.\n\
					{FFFFFF}Para sacar cosas del maletero puedes utilizar {"#SILVER_COLOR"}/maletero.\n\
					\n\
					{FFFFFF}Si quieres vender tu vehiculo puedes hacerlo en \"Gobierno San Andreas\", localizaló en el GPS.\n\
					Puedes venderselo al banco, pero te daran solo el 25% de lo que te costó (50% VIP).\n\
					también se la puedes vender a otro jugador, dentro de un rango de precio pre-establecido.\n\
					Para vender tu vehiculo a un jugador puedes ponerlo en {"#SILVER_COLOR"}/tienda.\n\
					{FFFFFF}Al vender tu vehiculo se vendera con todo lo que haya en el maletero.\n\
					\n\
				"
			, "xCerrar", "");
			return 1;
		}
		case DIALOG_HELP_WORKS:
		{
			new dialog[45 * sizeof work_info], line_str[45];
			for(new i = 1; i != sizeof work_info; i ++)
			{
				format(line_str, sizeof line_str, " %c%s\n", toupper(work_info[i][work_info_NAME][0]), work_info[i][work_info_NAME][1]);
				strcat(dialog, line_str);
			}

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST, "{828282}[Panel] {ffffff}  De Trabajos", dialog, "»Continuar", "xCerrar");
			return 1;
		}
		case DIALOG_HELP_CREWS:
		{
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, "{828282}[Panel] {ffffff}  De Bandas",

				"\
					{FFFFFF}Utiliza {"#SILVER_COLOR"}/banda{FFFFFF} para crear una banda o administrar la tuya.\n\
					{FFFFFF}Al entrar a una banda puedes conquistar territorios por todo San Andreas.\n\
					\n\
					{FFFFFF}Visita {FF846A}"SERVER_WEBSITE" {FFFFFF}para mas informacion.\n\
					\n\
				"

			, "xCerrar", "");
			return 1;
		}
		case DIALOG_HELP_SU:
		{
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, "{828282}[Panel] {ffffff}  VIP",

				"\
					{"#SILVER_COLOR"}Puedes comprar VIP por 30 días con el comando /vip.\n\
					{"#SILVER_COLOR"}Se compra con "SERVER_COIN", para ver como comprar esta moneda visita nuestra web.\n\
					\n\
					{"#PRIMARY_COLOR"}Ventajas\n\
					{"#SILVER_COLOR"}- Tener "#MAX_SU_WORKS" trabajos.\n\
					{"#SILVER_COLOR"}- Tener "#MAX_SU_VEHICLES" vehiculos.\n\
					{"#SILVER_COLOR"}- Tener "#MAX_SU_PROPERTIES" propiedades.\n\
					{"#SILVER_COLOR"}- No pagas seguro de propiedades ni vehiculos en el Payday.\n\
					{"#SILVER_COLOR"}- No pierdes sustancias al morir.\n\
					{"#SILVER_COLOR"}- Al vender un vehiculo o propiedad al banco recibes un 50%.\n\
					{"#SILVER_COLOR"}- Te recuperas el doble de rapido en el hospital.\n\
					{"#SILVER_COLOR"}- Al recuperarte tu vida es del 100%.\n\
					{"#SILVER_COLOR"}- Reduccion de la condena a la mitad.\n\
					{"#SILVER_COLOR"}- Cuando un médico te cura vida al 50%.\n\
					{"#SILVER_COLOR"}- Comprar armas en mercado negro sin pertenecer a banda.\n\
					{"#SILVER_COLOR"}- Comprar armas sin esperar 5 minutos por cada compra.\n\
					{"#SILVER_COLOR"}- Pagas extras de 300$ en algunos trabajos.\n\
					\n\
					{"#SILVER_COLOR"}Visita {"#PRIMARY_COLOR"}"SERVER_WEBSITE" {"#SILVER_COLOR"}para mas informacion.\n\
					\n\
				"

			, "xCerrar", "");
			return 1;
		}
		case DIALOG_HELP_BOL:
		{
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, "{828282}[Panel] {ffffff}  Bolsillos",

				"\
					{"#SILVER_COLOR"}Usa N Para interactuar con tu inventario.\n\
					\n\
					{"#PRIMARY_COLOR"}Comandos\n\
					{"#SILVER_COLOR"}- Usa H Para recojer un objeto del suelo.\n\
					{"#SILVER_COLOR"}- Usa Y Para usar el objeto, si es usable.\n\
					{"#SILVER_COLOR"}- Sistema de dar dandole click al objeto del bolsillo.\n\
					{"#SILVER_COLOR"}- Sistema de vender dandole click al objeto del bolsillo,\n\
					{"#SILVER_COLOR"}- Sistema de tirar dandole click al objeto del bolsillo\n\
					\n\
					{"#SILVER_COLOR"}Visita {"#PRIMARY_COLOR"}"SERVER_WEBSITE" {"#SILVER_COLOR"}para mas informacion.\n\
					\n\
				"

			, "xCerrar", "");
			return 1;
		}
		case DIALOG_ADMIN_LIST:
		{
			inline OnDialogQueryLoad()
			{
				new rows;
				if(cache_get_row_count(rows))
				{
					new dialog[128 * 15], line_str[128], count, start_pos = PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] * PLAYER_TEMP[playerid][pt_DIALOG_DB_LIMIT] + 1;
					format(dialog, sizeof dialog, ""WHITE"Nombre\t"WHITE"Rango\t"WHITE"ult. conexion\n");
					for(new i = 0; i != MAX_LISTITEMS; i++ ) PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][i] = -1;
					for(new i = 0; i != rows; i++)
					{
						new id, name[24], last_connection[24], connected, pid, admin_level;
						cache_get_value_name_int(i, "id", id);
						cache_get_value_name(i, "name", name);
						cache_get_value_name(i, "last_connection", last_connection);
						cache_get_value_name_int(i, "connected", connected);
						cache_get_value_name_int(i, "playerid", pid);
						cache_get_value_name_int(i, "admin_level", admin_level);

						if(connected)
						{
							if(PLAYER_TEMP[pid][pt_ADMIN_SERVICE]) format(line_str, sizeof line_str, ""WHITE"%d. %s\t"WHITE"%s\t{53ff00}{ffffff}Duty (%d)\n", start_pos + i, name, ADMIN_LEVELS[admin_level], pid);
							else format(line_str, sizeof line_str, ""WHITE"%d. %s\t"WHITE"%s\t{ff0000}{ffffff}Conectado (%d)\n", start_pos + i, name, ADMIN_LEVELS[admin_level], pid);
						}
						else format(line_str, sizeof line_str, ""WHITE"%d. %s\t"WHITE"%s\t{ff0000}{ffffff}%s\n", start_pos + i, name, ADMIN_LEVELS[admin_level], last_connection);
						strcat(dialog, line_str);
						PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][count++] = id;
					}

					PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][count++] = -2;
					strcat(dialog, ""WHITE" Siguiente\n");
					PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][count++] = -3;
					strcat(dialog, ""WHITE" Atas\n");
					ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST_HEADERS, "{3BF1B3}[Staff] {ffffff}  Equipo", dialog, "»Siguiente", "xCerrar");
				}
			}
			mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT id, name, last_connection, connected, playerid, admin_level FROM player WHERE admin_level > 0 ORDER BY connected DESC, admin_level DESC LIMIT %d, %d;", PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] * PLAYER_TEMP[playerid][pt_DIALOG_DB_LIMIT], PLAYER_TEMP[playerid][pt_DIALOG_DB_LIMIT]);
			mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnDialogQueryLoad);
			return 1;
		}
		case DIALOG_ADMIN_MODIFY:
		{
			inline OnDialogQueryLoad()
			{
				new rows;
				if(cache_get_row_count(rows))
				{
					if(rows)
					{
						new name[24], admin_level;
						cache_get_value_name(0, "name", name);
						cache_get_value_name_int(0, "admin_level", admin_level);

						if(admin_level > PI[playerid][pi_ADMIN_LEVEL]) ShowPlayerMessage(playerid, "No puedes modificar el rango de este admin porque es un rango superior al tuyo.", 2);
						else
						{
							new caption[45], dialog[45 * sizeof(ADMIN_LEVELS)], line_str[45];
							format(caption, sizeof caption, ""WHITE"ADMIN - %s", name);
							format(dialog, sizeof dialog, ""WHITE"Normal (eliminar)\n");

							for(new i = 1; i != sizeof ADMIN_LEVELS; i ++)
							{
								if(i > PI[playerid][pi_ADMIN_LEVEL])
								{
									if(admin_level == i) format(line_str, sizeof line_str, ""WHITE"%s (actual)\n", ADMIN_LEVELS[i]);
									else format(line_str, sizeof line_str, ""WHITE"%s\n", ADMIN_LEVELS[i]);
								}
								else
								{
									if(admin_level == i) format(line_str, sizeof line_str, ""WHITE"%s (actual)\n", ADMIN_LEVELS[i]);
									else format(line_str, sizeof line_str, ""WHITE"%s\n", ADMIN_LEVELS[i]);
								}
								strcat(dialog, line_str);
							}

							ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST, caption, dialog, "»Siguiente", "xCerrar");
						}
					}
				}
			}
			mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT name, admin_level FROM player WHERE id = %d;", PLAYER_TEMP[playerid][pt_SELECTED_DB_AC_ID]);
			mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnDialogQueryLoad);
			return 1;
		}
		case DIALOG_OFERTA_CARGAR:
		{
			new caption[65];
			format(caption, sizeof caption, "{FFFFFF}La persona {00ff00}%s {FFFFFF}quiere cargarte\n", PLAYER_TEMP[cargadoTmp[playerid][pOfertante]][pt_RP_NAME]);
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, "{828282}[Hombro] {ffffff}  Cargar", caption, "Aceptar", "xRechazar");
		}
		case DIALOG_CHANGE_PASSWORD:
		{
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_PASSWORD, ""WHITE"CAMBIAR CONTRASEÑA", ""WHITE"Introduce tu contraseña actual.", "»Siguiente", "xCerrar");
			return 1;
		}
		case DIALOG_CHANGE_PASSWORD_PASS:
		{
			new dialog[128];
			format(dialog, sizeof dialog, ""WHITE"Introduce tu nueva contraseña.\nLa contraseña debe contener entre %d-%d caracteres.", MIN_PASS_LENGTH, MAX_PASS_LENGTH);
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_PASSWORD, ""WHITE"CAMBIAR CONTRASEÑA", dialog, "»Siguiente", "xCerrar");
			return 1;
		}
		case DIALOG_ANTI_CHEAT:
		{
			if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 0;

			new dialog[115 * sizeof(ac_Info) + 1], line_str[115];
			dialog = ""WHITE"Tipo\t"WHITE"Estado\t"WHITE"Accionar\t"WHITE"Accion\n";

			for(new i = 0; i != sizeof(ac_Info); i ++)
			{
				format(line_str, sizeof line_str, "%02d %s\t%s\t%d:%d\t%s\n", i, ac_Info[i][ac_Name], ac_Info[i][ac_Enabled] ? "Activado" : "Desactivado", ac_Info[i][ac_Detections], ac_Info[i][ac_Interval], ac_Info[i][ac_Kick] ? "Kick" : ""WHITE"AVISO");
				strcat(dialog, line_str);
			}

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST_HEADERS, ""WHITE" ANTICHEAT", dialog, "»Siguiente", "xCerrar");
			return 1;
		}
		case DIALOG_ANTI_CHEAT_MODIFY:
		{
			if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 0;

			new caption[45], dialog[90];

			format(caption, sizeof caption, ""WHITE"ac %02d %s", PLAYER_TEMP[playerid][pt_SELECTED_AC_LISTITEM], ac_Info[ PLAYER_TEMP[playerid][pt_SELECTED_AC_LISTITEM] ][ac_Name]);
			format(dialog, sizeof dialog, ""WHITE"Estado\t%s\nAccionar\t(%d:%d)\nAccion\t%s", ac_Info[ PLAYER_TEMP[playerid][pt_SELECTED_AC_LISTITEM] ][ac_Enabled] ? "Activado" : "Desactivado", ac_Info[ PLAYER_TEMP[playerid][pt_SELECTED_AC_LISTITEM] ][ac_Detections], ac_Info[ PLAYER_TEMP[playerid][pt_SELECTED_AC_LISTITEM] ][ac_Interval], ac_Info[ PLAYER_TEMP[playerid][pt_SELECTED_AC_LISTITEM] ][ac_Kick] ? "Kick" : ""WHITE"AVISO");

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST, caption, dialog, "»Siguiente", "xCerrar");
			return 1;
		}
		case DIALOG_ANTI_CHEAT_MODIFY_DETECT:
		{
			new caption[45], dialog[200];

			format(caption, sizeof caption, ""WHITE"ac %02d %s", PLAYER_TEMP[playerid][pt_SELECTED_AC_LISTITEM], ac_Info[ PLAYER_TEMP[playerid][pt_SELECTED_AC_LISTITEM] ][ac_Name]);
			format(dialog, sizeof dialog, ""WHITE"Estado actual de accioner en: (%d:%d)\n\nSintaxis: <detecciones>:<segundos>\nDeja segundos en 0 para que sea instantaneo.\n\nEjemplo de 2 detecciones en 10 segundos: 2:10", ac_Info[ PLAYER_TEMP[playerid][pt_SELECTED_AC_LISTITEM] ][ac_Detections], ac_Info[ PLAYER_TEMP[playerid][pt_SELECTED_AC_LISTITEM] ][ac_Interval]);

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, caption, dialog, "»Siguiente", "xCerrar");
			return 1;
		}
		case DIALOG_CREATE_CREW:
		{
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, "{3BF1B3}[Bandas] {ffffff}  Crear", ""WHITE"No perteneces a ninguna banda.\n\n¿Quieres crear una?\nPara crear una banda necesitas ser nivel 3, ademas cuesta 200.000{00FF00}$", "Sí", "No");
			return 1;
		}
		case DIALOG_CREATE_CREW_NAME:
		{
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, "{3BF1B3}[Bandas] {ffffff}  Nombre", ""WHITE"Introduce el nombre de tu banda.\nHasta 32 caracteres.", "»Siguiente", "xCerrar");
			return 1;
		}
		case DIALOG_CREATE_CREW_COLOR:
		{
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST, "{3BF1B3}[Bandas] {ffffff}  Color", DIALOG_CREATE_CREW_COLOR_String, "»Siguiente", "xCerrar");
			return 1;
		}
		case DIALOG_CREATE_CREW_CONFIRM:
		{
			new dialog[360];
			format(dialog, sizeof dialog,

					"\
						"WHITE"Nombre de la banda: "WHITE"%s\n\
						"WHITE"Color de la banda: {%06x}color %d\n\
						"WHITE"Coste de creacion: 200,000{00ee33}$\n\
						\n\
						"WHITE"¿Quieres crear esta banda?\n\
						"WHITE"Una vez creada podras crear rangos, modificarlos y mucho mas.\n\
						\n\
					",
						PLAYER_TEMP[playerid][pt_CREATE_CREW_NAME],
						RandomColors[ PLAYER_TEMP[playerid][pt_CREATE_CREW_COLOR] ] >>> 8, PLAYER_TEMP[playerid][pt_CREATE_CREW_COLOR] + 1
			);

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, "{D50000}[Banda] {ffffff}  Creat", dialog, "Crear", "xCerrar");
			return 1;
		}
		case DIALOG_CREW_MENU:
		{
			for(new i = 0; i != MAX_LISTITEMS; i++ ) PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][i] = -1;

			new caption[64], dialog[360], listitem, territories = GetCrewTerritories(PI[playerid][pi_CREW]);
			format(caption, sizeof caption, "{FFFFFF}[Bandas]   {%06x}'%s {FFFFFF}T [%d]'", CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_COLOR] >>> 8, CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_NAME], territories);

			format(dialog, sizeof dialog, " Ver miembros\n");
			PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] = CREW_RANK_SIZE;
			listitem ++;

			if(CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_PERMISSION][CREW_RANK_CHANGE_NAME])
			{
				strcat(dialog, " Cambiar nombre de la banda\n");
				PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] = CREW_RANK_CHANGE_NAME;
				listitem ++;
			}
			if(CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_PERMISSION][CREW_RANK_CAST_MEMBERS])
			{
				strcat(dialog, " Echar a un miembro\n");
				PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] = CREW_RANK_CAST_MEMBERS;
				listitem ++;
			}
			if(CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_PERMISSION][CREW_RANK_MODIFY_MEMBERS])
			{
				strcat(dialog, " Cambiar rango de un miembro\n");
				PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] = CREW_RANK_MODIFY_MEMBERS;
				listitem ++;
			}
			if(CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_PERMISSION][CREW_RANK_MODIFY_RANKS])
			{
				strcat(dialog, " Crear rangos o modificarlos\n");
				PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] = CREW_RANK_MODIFY_RANKS;
				listitem ++;
			}
			if(CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_PERMISSION][CREW_RANK_CHANGE_COLOR])
			{
				strcat(dialog, " Cambiar color de la banda\n");
				PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] = CREW_RANK_CHANGE_COLOR;
				listitem ++;
			}
			if(CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_PERMISSION][CREW_RANK_DELETE])
			{
				strcat(dialog, " Eliminar la banda\n");
				PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] = CREW_RANK_DELETE;
				listitem ++;
			}

			strcat(dialog, " Abandonar banda\n");
			PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] = CREW_RANK_SIZE + 1;
			listitem ++;

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST, caption, dialog, "»Siguiente", "xCerrar");
			return 1;
		}
		case DIALOG_CREW_MEMBER_LIST:
		{
			inline OnDialogQueryLoad()
			{
				new rows;
				if(cache_get_row_count(rows))
				{
					new dialog[5000], caption[64], line_str[1024], count, start_pos = PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] * PLAYER_TEMP[playerid][pt_DIALOG_DB_LIMIT] + 1;
					format(caption, sizeof caption, "{3BF1B3}[Miembros] {ffffff} %s'", CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_NAME]);
					format(dialog, sizeof dialog, "{"#SILVER_COLOR"}Nombre\t{"#SILVER_COLOR"}Rango\t{"#SILVER_COLOR"}Últ. conexion\n");
					for(new i = 0; i < MAX_LISTITEMS; i++ ) PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][i] = -1;
					for(new i = 0; i < rows; i++)
					{

						new name[24], last_connection[24], connected, crew_rank;
						cache_get_value_name(i, "name", name);
						cache_get_value_name(i, "last_connection", last_connection);
						cache_get_value_name_int(i, "connected", connected);
						cache_get_value_name_int(i, "crew_rank", crew_rank);
						if(connected) format(line_str, sizeof line_str, "{"#SILVER_COLOR"}%d. %s\t{"#SILVER_COLOR"}%s\t{"#GREEN_COLOR"}Conectado\n", start_pos + i, name, CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ crew_rank ][crew_rank_NAME]);
						else format(line_str, sizeof line_str, "{"#SILVER_COLOR"}%d. %s\t{"#SILVER_COLOR"}%s\t{"#SILVER_COLOR"}%s\n", start_pos + i, name, CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ crew_rank ][crew_rank_NAME], last_connection);
						strcat(dialog, line_str);
						count++;
					}
					ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST_HEADERS, caption, dialog, "»Continuar", "xCerrar");
				}
			}
			mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT name, last_connection, connected, crew_rank FROM player WHERE crew = %d ORDER BY connected DESC ", PI[playerid][pi_CREW], PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] * PLAYER_TEMP[playerid][pt_DIALOG_DB_LIMIT], PLAYER_TEMP[playerid][pt_DIALOG_DB_LIMIT]);
			mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnDialogQueryLoad);
			return 1;
		}

		case DIALOG_CREW_CHANGE_NAME:
		{
			new dialog[128];
			format(dialog, sizeof dialog, ""WHITE"Nombre actual de la banda:\n\t\"%s\"\n\nIndica el nuevo nombre.\nMaximo 32 caracteres.", CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_NAME]);
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, "{3BF1B3}[Banda] {ffffff} Cambiar nombre de la banda", dialog, "»Cambiar", "xCerrar");
			return 1;
		}
		case DIALOG_CREW_MEMBER_LIST_DELETE:
		{
			inline OnDialogQueryLoad()
			{
				new rows;
				if(cache_get_row_count(rows))
				{
					new dialog[128 * 15], line_str[128], count, start_pos = PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] * PLAYER_TEMP[playerid][pt_DIALOG_DB_LIMIT] + 1;
					format(dialog, sizeof dialog, "{"#SILVER_COLOR"}Nombre\t{"#SILVER_COLOR"}Rango\t{"#SILVER_COLOR"}Últ. conexion\n");
					for(new i = 0; i != MAX_LISTITEMS; i++ ) PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][i] = -1;
					for(new i = 0; i != rows; i++)
					{
						new id, name[24], last_connection[24], connected, crew_rank;
						cache_get_value_name_int(i, "id", id);
						cache_get_value_name(i, "name", name);
						cache_get_value_name(i, "last_connection", last_connection);
						cache_get_value_name_int(i, "connected", connected);
						cache_get_value_name_int(i, "crew_rank", crew_rank);

						if(connected) format(line_str, sizeof line_str, "{"#SILVER_COLOR"}%d. %s\t{"#SILVER_COLOR"}%s\t{"#GREEN_COLOR"}Conectado\n", start_pos + i, name, CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ crew_rank ][crew_rank_NAME]);
						else format(line_str, sizeof line_str, "{"#SILVER_COLOR"}%d. %s\t{"#SILVER_COLOR"}%s\t{"#SILVER_COLOR"}%s\n", start_pos + i, name, CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ crew_rank ][crew_rank_NAME], last_connection);
						strcat(dialog, line_str);
						PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][count++] = id;
					}

					PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][count++] = -2;
					strcat(dialog, "{c9c9c9} Siguiente\n");
					PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][count++] = -3;
					strcat(dialog, "{c9c9c9} Anterior\n");
					ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST_HEADERS, "{3BF1B3}[Banda] {ffffff} Echar", dialog, "»Continuar", "xCerrar");
				}
			}
			mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT id, name, last_connection, connected, crew_rank FROM player WHERE crew = %d ORDER BY connected DESC, crew_rank ASC LIMIT %d, %d;", PI[playerid][pi_CREW], PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] * PLAYER_TEMP[playerid][pt_DIALOG_DB_LIMIT], PLAYER_TEMP[playerid][pt_DIALOG_DB_LIMIT]);
			mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnDialogQueryLoad);
			return 1;
		}
		case DIALOG_CREW_CAST_MEMBER_CONFIRM:
		{
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, "{D50000}[Banda] {ffffff}  Echar a un miembro", ""WHITE"Estas seguro de que quieres echar a este miembro de la banda?", "Echar", "»Cancelar");
			return 1;
		}
		case DIALOG_CREW_INVITE_RANK:
		{
			for(new i = 0; i != MAX_LISTITEMS; i++ ) PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][i] = -1;

			new dialog[64 * MAX_CREW_RANKS], line_str[64], listitem;
			for(new i = 0; i != MAX_CREW_RANKS; i ++)
			{
				if(!CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][i][crew_rank_VALID]) continue;

				PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] = i;
				if(i < PI[playerid][pi_CREW_RANK]) format(line_str, sizeof line_str, "{666666}%d. %s\n", listitem + 1, CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][i][crew_rank_NAME]);
				else format(line_str, sizeof line_str, "{"#SILVER_COLOR"}%d. %s\n", listitem + 1, CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][i][crew_rank_NAME]);
				strcat(dialog, line_str);

				listitem ++;
			}
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST, "{3BF1B3}[Bandas] {ffffff}  Invitar", dialog, "Invitar", "Cerrar");
			return 1;
		}
		case DIALOG_CREW_INVITE_ACCEPT:
		{
			new dialog[128];
			format(dialog, sizeof dialog, ""WHITE"Te han ofrecio unirte a una banda.\n\nBanda: %s\nRango: %s\n", CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INVITE_INFO][1] ][crew_NAME], CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INVITE_INFO][1] ][ PLAYER_TEMP[playerid][pt_CREW_INVITE_INFO][2] ][crew_rank_NAME]);
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, "{3BF1B3}[Bandas] {ffffff}  Invitacion", dialog, "Unirme", "Cerrar");
			return 1;
		}
		case DIALOG_CREW_RANKS:
		{
			new dialog[64 * MAX_CREW_RANKS], line_str[64];
			for(new i = 0; i != MAX_CREW_RANKS; i ++)
			{
				if(CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][i][crew_rank_VALID])
				{
					if(i < PI[playerid][pi_CREW_RANK]) format(line_str, sizeof line_str, "{666666}%d. %s\n", i + 1, CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][i][crew_rank_NAME]);
					else format(line_str, sizeof line_str, "{"#SILVER_COLOR"}%d. %s\n", i + 1, CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][i][crew_rank_NAME]);
				}
				else
				{
					if(i < PI[playerid][pi_CREW_RANK]) format(line_str, sizeof line_str, "{666666}%d. Slot vacío\n", i + 1, CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][i][crew_rank_NAME]);
					else format(line_str, sizeof line_str, "{FFFFFF}%d. Slot vacío\n", i + 1, CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][i][crew_rank_NAME]);
				}
				strcat(dialog, line_str);

			}
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST, "{3BF1B3}[Bandas] {ffffff}  Rangos", dialog, "»Continuar", "xCerrar");
			return 1;
		}
		case DIALOG_CREW_RANK_MODIFY:
		{
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST, "{3BF1B3}[Bandas] {ffffff}  Rangos", ""WHITE"Cambiar nombre del rango\n Modificar permisos\n Eliminar rango", "»Continuar", "xCerrar");
			return 1;
		}
		case DIALOG_CREW_RANK_MODIFY_NAME:
		{
			new dialog[145];
			format(dialog, sizeof dialog, ""WHITE"Nombre actual del rango:\n\t\"%s\"\n\nIndica el nuevo nombre del rango.\nMaximo 32 caracteres.", CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PLAYER_TEMP[playerid][pt_CREW_SELECTED_RANK] ][crew_rank_NAME]);
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, "{3BF1B3}[Bandas] {ffffff}  Rango", dialog, "»Continuar", "xCerrar");
			return 1;
		}
		case DIALOG_CREW_RANK_MODIFY_PERMISS:
		{
			new caption[70];
			format(caption, sizeof caption, "{3BF1B3}[Bandas] {ffffff}  Permisos %s", CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PLAYER_TEMP[playerid][pt_CREW_SELECTED_RANK] ][crew_rank_NAME]);

			new dialog[64 * (CREW_RANK_SIZE + 1)], line_str[64];
			format(dialog, sizeof dialog, ""WHITE"Permiso\t"WHITE"Activado\n");

			for(new i = 0; i != CREW_RANK_SIZE; i ++)
			{
				if(CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_PERMISSION][i]) format(line_str, sizeof line_str, "%s\t%s\n", CREW_RANKS_PERMISSIONS[i], CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PLAYER_TEMP[playerid][pt_CREW_SELECTED_RANK] ][crew_rank_PERMISSION][i] ? "Sí" : "No");
				else format(line_str, sizeof line_str, "{666666}%s\t{666666}%s\n", CREW_RANKS_PERMISSIONS[i], CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PLAYER_TEMP[playerid][pt_CREW_SELECTED_RANK] ][crew_rank_PERMISSION][i] ? "Sí" : "No");

				strcat(dialog, line_str);
			}

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST_HEADERS, caption, dialog, "»Cambiar", "xCerrar");
			return 1;
		}
		case DIALOG_CREW_RANK_CREATE:
		{
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, "{3BF1B3}[Bandas] {ffffff}  Rangos", ""WHITE"Indica el nombre del rango.\nMaximo 32 caracteres.", "Crear", "xCerrar");
			return 1;
		}
		case DIALOG_CREW_RANK_DELETE:
		{
			for(new i = 0; i != MAX_LISTITEMS; i++ ) PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][i] = -1;

			new dialog[64 * MAX_CREW_RANKS], line_str[64], listitem;
			for(new i = 0; i != MAX_CREW_RANKS; i ++)
			{
				if(!CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][i][crew_rank_VALID]) continue;
				if(i == PLAYER_TEMP[playerid][pt_CREW_SELECTED_RANK]) continue;

				PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] = i;
				if(i < PI[playerid][pi_CREW_RANK]) format(line_str, sizeof line_str, "{666666}%d. %s\n", listitem + 1, CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][i][crew_rank_NAME]);
				else format(line_str, sizeof line_str, "{"#SILVER_COLOR"}%d. %s\n", listitem + 1, CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][i][crew_rank_NAME]);
				strcat(dialog, line_str);

				listitem ++;
			}
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST, "{3BF1B3}[Bandas] {ffffff}  Nuevo Rango", dialog, "»Continuar", "xCerrar");
			return 1;
		}
		case DIALOG_CREW_RANK_DELETE_CONFIRM:
		{
			inline OnCrewInfoLoad()
			{
				new rows;
				if(cache_get_row_count(rows))
				{
					if(rows)
					{
						new affected_members;
						cache_get_value_index_int(0, 0, affected_members);

						new dialog[400];
						format(dialog, sizeof dialog,

							"\
								"WHITE"Rango que se eliminara:\n\
									\t'"WHITE"%s'\n\
								\n\
								"WHITE"Miembros afectados: %d\n\
								"WHITE"El nuevo rango de estos miembros sera:\n\
									\t"WHITE"'%s'\n\
								\n\
								"WHITE"¿Seguro que quieres eliminar el rango? Esta opción no se puede deshacer.\n\
								\n\
							",
								CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PLAYER_TEMP[playerid][pt_CREW_SELECTED_RANK] ][crew_rank_NAME],
								affected_members,
								CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PLAYER_TEMP[playerid][pt_CREW_SELECTED_NEW_RANK] ][crew_rank_NAME]
						);
						ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, "{D50000}[Bandas] {ffffff}  Eliminar Rango", dialog, "»Eliminar", "»Cancelar");

					}
				}
			}
			mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT COUNT(id) FROM player WHERE crew = %d AND crew_rank = %d;", CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_ID], PLAYER_TEMP[playerid][pt_CREW_SELECTED_RANK]);
			mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnCrewInfoLoad);
			return 1;
		}
		case DIALOG_CREW_MODIFY_COLOR:
		{
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST, "{3BF1B3}[Bandas] {ffffff}  Selecciona El Color", DIALOG_CREATE_CREW_COLOR_String, "»Cambiar", "xCerrar");
			return 1;
		}
		case DIALOG_CREW_DELETE:
		{
			inline OnCrewInfoLoad()
			{
				new rows;
				if(cache_get_row_count(rows))
				{
					if(rows)
					{
						new affected_members, crew_territories;
						cache_get_value_index_int(0, 0, affected_members);
						cache_get_value_index_int(0, 0, crew_territories);

						new dialog[450];
						format(dialog, sizeof dialog,

							"\
								"WHITE"Banda: %s\n\
								"WHITE"Miembros: %d\n\
								"WHITE"Territorios: %d\n\
								\n\
								"WHITE"¿De verdad quieres borrar la banda?\n\
								\n\
							",
								CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_NAME],
								affected_members,
								crew_territories
						);
						ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, "{D50000}[Banda] {ffffff}  Eliminar", dialog, "»Eliminar", "»Cancelar");
					}
				}
			}
			mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT COUNT(player.id), COUNT(territories.id) FROM player, territories WHERE player.crew = %d AND territories.id_crew = %d;", CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_ID], CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_ID]);
			mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnCrewInfoLoad);
			return 1;
		}
		case DIALOG_CREW_LEAVE:
		{
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, "{D50000}[Bandas] {ffffff}  Abandonar", ""WHITE"¿Quieres abandonar la banda?\nEsta opción no se puede deshacer.", "Abandonar", "»Cancelar");
			return 1;
		}
		case DIALOG_CREW_MODIFY_MEMBERS:
		{
			inline OnDialogQueryLoad()
			{
				new rows;
				if(cache_get_row_count(rows))
				{
					new dialog[128 * 15], line_str[128], count, start_pos = PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] * PLAYER_TEMP[playerid][pt_DIALOG_DB_LIMIT] + 1;
					format(dialog, sizeof dialog, "{"#SILVER_COLOR"}Nombre\t{"#SILVER_COLOR"}Rango\t{"#SILVER_COLOR"}Últ. conexion\n");
					for(new i = 0; i < MAX_LISTITEMS; i++ ) PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][i] = -1;
					for(new i = 0; i < rows; i++)
					{
						new id, name[24], last_connection[24], connected, crew_rank;
						cache_get_value_name_int(i, "id", id);
						cache_get_value_name(i, "name", name);
						cache_get_value_name(i, "last_connection", last_connection);
						cache_get_value_name_int(i, "connected", connected);
						cache_get_value_name_int(i, "crew_rank", crew_rank);

						if(connected) format(line_str, sizeof line_str, "{"#SILVER_COLOR"}%d. %s\t{"#SILVER_COLOR"}%s\t{"#GREEN_COLOR"}Conectado\n", start_pos + i, name, CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ crew_rank ][crew_rank_NAME]);
						else format(line_str, sizeof line_str, "{"#SILVER_COLOR"}%d. %s\t{"#SILVER_COLOR"}%s\t{"#SILVER_COLOR"}%s\n", start_pos + i, name, CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ crew_rank ][crew_rank_NAME], last_connection);
						strcat(dialog, line_str);
						PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][count++] = id;
					}

					PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][count++] = -2;
					strcat(dialog, "{c9c9c9} Siguiente\n");
					PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][count++] = -3;
					strcat(dialog, "{c9c9c9} Anterior\n");
					ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST_HEADERS, "{3BF1B3}[Bandas] {ffffff}  Rango", dialog, "»Continuar", "xCerrar");
				}
			}
			mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT id, name, last_connection, connected, crew_rank FROM player WHERE crew = %d ORDER BY connected DESC, crew_rank ASC LIMIT %d, %d;", PI[playerid][pi_CREW], PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] * PLAYER_TEMP[playerid][pt_DIALOG_DB_LIMIT], PLAYER_TEMP[playerid][pt_DIALOG_DB_LIMIT]);
			mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnDialogQueryLoad);
			return 1;
		}
		case DIALOG_CREW_MODIFY_MEMBER:
		{
			inline OnCrewInfoLoad()
			{
				new rows;
				if(cache_get_row_count(rows))
				{
					if(rows)
					{
						new name[24], crew_rank;
						cache_get_value_name(0, "name", name);
						cache_get_value_name_int(0, "crew_rank", crew_rank);

						if(crew_rank < PI[playerid][pi_CREW_RANK]) ShowPlayerMessage(playerid, "No puedes modificar el rango de este miembro porque es un rango superior al tuyo.", 2);
						else
						{
							if(crew_rank == 0)
							{
								inline OnCountQueryLoad()
								{
									if(cache_get_row_count(rows))
									{
										if(rows)
										{
											new total;
											cache_get_value_index_int(0, 0, total);
											if(total <= 1) ShowPlayerMessage(playerid, "No se puede modificar el rango de este miembro ya que es el único miembro con el rango fundador.", 2);
											else
											{
												new caption[45], dialog[45 * CREW_RANK_SIZE], line_str[45], count;
												format(caption, sizeof caption, " Miembro %s", name);
												for(new i = 0; i < MAX_LISTITEMS; i++ ) PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][i] = -1;
												for(new i = 0; i < CREW_RANK_SIZE - 1; i ++)
												{
													if(!CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][i][crew_rank_VALID]) continue;

													if(i < PI[playerid][pi_CREW_RANK])
													{
														if(crew_rank == i) format(line_str, sizeof line_str, "{666666}%s (actual)\n", CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][i][crew_rank_NAME]);
														else format(line_str, sizeof line_str, "{666666}%s\n", CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][i][crew_rank_NAME]);
													}
													else
													{
														if(crew_rank == i) format(line_str, sizeof line_str, "{"#SILVER_COLOR"}%s (actual)\n", CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][i][crew_rank_NAME]);
														else format(line_str, sizeof line_str, "{"#SILVER_COLOR"}%s\n", CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][i][crew_rank_NAME]);
													}
													strcat(dialog, line_str);
													PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][count++] = i;
												}
												ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST, caption, dialog, "»Continuar", "xCerrar");
											}
										}
									}
								}
								mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT COUNT(id) FROM player WHERE crew = %d AND crew_rank = 0;", PI[playerid][pi_CREW]);
								mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnCountQueryLoad);
							}
							else
							{
								new caption[45], dialog[45 * CREW_RANK_SIZE], line_str[45], count;
								format(caption, sizeof caption, "Miembro - %s", name);
								for(new i = 0; i < MAX_LISTITEMS; i++ ) PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][i] = -1;
								for(new i = 0; i < CREW_RANK_SIZE - 1; i ++)
								{
									if(!CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][i][crew_rank_VALID]) continue;

									if(i < PI[playerid][pi_CREW_RANK])
									{
										if(crew_rank == i) format(line_str, sizeof line_str, "{666666}%s (actual)\n", CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][i][crew_rank_NAME]);
										else format(line_str, sizeof line_str, "{666666}%s\n", CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][i][crew_rank_NAME]);
									}
									else
									{
										if(crew_rank == i) format(line_str, sizeof line_str, "{"#SILVER_COLOR"}%s (actual)\n", CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][i][crew_rank_NAME]);
										else format(line_str, sizeof line_str, "{"#SILVER_COLOR"}%s\n", CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][i][crew_rank_NAME]);
									}
									strcat(dialog, line_str);
									PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][count++] = i;
								}
								ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST, caption, dialog, "»Continuar", "xCerrar");
							}
						}
					}
				}
			}
			mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT name, crew_rank FROM player WHERE id = %d;",  PLAYER_TEMP[playerid][pt_SELECTED_DB_AC_ID]);
			mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnCrewInfoLoad);
			return 1;
		}
		case DIALOG_CREW_PROPERTY_CONFIRM:
		{
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, "{3BF1B3}[Bandas] {ffffff}  Propiedad", ""WHITE"¿Estas seguro que quieres pasar esta propiedad a banda?\nEsta opción no se puede deshacer.", "»Siguiente", "»Cancelar");
			return 1;
		}
		case DIALOG_ADMIN_CREW_MENU:
		{
			new dialogFormat[128], dialogConcat[5000];
			strcat(dialogConcat, ""WHITE"ID\t"WHITE"Nombre\t"WHITE"Miembros\n");
			for(new i = 0; i < MAX_CREWS; i++)
			{
				if(CREW_INFO[i][crew_VALID])
				{
					format(dialogFormat, sizeof(dialogFormat), "%d\t%s\t%d\n", i, CREW_INFO[i][crew_NAME], CREW_INFO[i][crew_MEMBERS]);
					strcat(dialogConcat, dialogFormat);
				}
				ListItemNoList[playerid][i] = i;
			}
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST_HEADERS, "{D50000}[Bandas] {ffffff}  Administracion", dialogConcat, "Acpetar", "xCancelar");
		}
		case DIALOG_ADMIN_CREW_DELETE:
		{
			new let_id = GetPVarInt(playerid, "Banda:Admin:Current");
			inline OnCrewInfoLoad()
			{
				
				new rows;
				if(cache_get_row_count(rows))
				{
					if(rows)
					{
						
						new affected_members, crew_territories;
						cache_get_value_index_int(0, 0, affected_members);
						cache_get_value_index_int(0, 0, crew_territories);

						new dialog[450];
						format(dialog, sizeof dialog, 
								
							"\
								"WHITE"Banda: %s\n\
								"WHITE"Miembros: %d\n\
								"WHITE"Territorios: %d\n\
								\n\
								"WHITE"¿De verdad quieres borrar la banda?\n\
								\n\
							",
								CREW_INFO[let_id][crew_NAME],
								affected_members,
								crew_territories
						);
						ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, "{D50000}[Bandas] {ffffff}  Eliminar", dialog, "Eliminar", "xCancelar");
					}
				}
			}
			mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT COUNT(player.id), COUNT(territories.id) FROM player, territories WHERE player.crew = %d AND territories.id_crew = %d;", CREW_INFO[ let_id ][crew_ID], CREW_INFO[ let_id ][crew_ID]);
			mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnCrewInfoLoad);
		}
		case DIALOG_ADMIN_CREW_SUBMENU:
		{
			new let_id = GetPVarInt(playerid, "Banda:Admin:Current");
			new title_dialog[40];
			format(title_dialog, sizeof(title_dialog), "{D50000}[Banda] {ffffff}  %s", CREW_INFO[let_id][crew_NAME]);
			if(CREW_INFO[let_id][crew_TYPE] == crew_TYPE_FACCION) ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST, title_dialog, "Ingresar a la banda\nEliminar privilegios de faccin\nEliminar banda", "Cancelar", "Aceptar");
			else ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST, title_dialog, ""WHITE"Ingresar a la banda\nConvertir a faccion\nEliminar banda", "Aceptar", "xCancelar");
		}
		case DIALOG_CREW_LEAVE_TERRITORY:
		{
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, ""WHITE"ABANDONAR TERRITORIO", ""WHITE"¿Estas seguro que quieres abandonar este territorio?\nEsta opción no se puede deshacer.", "»Siguiente", "»Cancelar");
			return 1;
		}
		case DIALOG_CREW_LEAVE_PROPERTY:
		{
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, ""WHITE"PROPIEDAD DE BANDA", ""WHITE"¿Estas seguro que quieres liberar esta propiedad?\nEsta opción no se puede deshacer.", "»Siguiente", "»Cancelar");
			return 1;
		}
		case DIALOG_POLICE_PENALTY:
		{
			new dialog[128];
			format(dialog, sizeof dialog, ""WHITE"El policía %s "WHITE"te ha puesto una multa.\nImporte: "WHITE"%d{00ff00}$\n", PLAYER_TEMP[ PLAYER_TEMP[playerid][pt_POLICE_PEN_PID] ][pt_RP_NAME], number_format_thousand(PLAYER_TEMP[playerid][pt_POLICE_PEN_IM]));
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, "{828282}[SAPD] {ffffff}  Multa", dialog, "Pagar", "xCerrar");
			return 1;
		}
		case DIALOG_SERVER_ECO:
		{
			new dialog[512];
			format(dialog, sizeof dialog,

				"\
					"WHITE"PROPIEDADES\t%.4f\n\
					"WHITE"VEHICULOS\t%.4f\n\
					"WHITE"TOYS\t%.4f\n\
					"WHITE"SKINS\t%.4f\n\
					"WHITE"ARMAS\t%.4f\n\
					"WHITE"VIP\t%d "SERVER_COIN"\n\
					"WHITE"VIP JOB EXTRA PAY\t%d\n\
					"WHITE"VIP2\t%d "SERVER_COIN"\n\
					"WHITE"CHANGE NAME\t%d "SERVER_COIN"\n\
				",
					MULTIPLIER_PROPERITES,
					MULTIPLIER_VEHICLES,
					MULTIPLIER_TOYS,
					MULTIPLIER_SKINS,
					MULTIPLIER_WEAPONS,
					SU_SD_PRICE,
					SU_WORK_EXTRA_PAY,
					SU_VIP_2,
					CHANGE_NAME_SD_PRICE
			);

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST, "{828282}[Multiplicadores]  Economia", dialog, "»Siguiente", "xCerrar");
			return 1;
		}
		case DIALOG_SERVER_ECO_MODIFY:
		{
			new dialog[32];
			switch(PLAYER_TEMP[playerid][pt_DIALOG_ECO_SELECTED])
			{
				case 0: format(dialog, sizeof dialog, "PROPIEDADES: %f", MULTIPLIER_PROPERITES);
				case 1: format(dialog, sizeof dialog, "VEHICULOS: %f", MULTIPLIER_VEHICLES);
				case 2: format(dialog, sizeof dialog, "TOYS: %f", MULTIPLIER_TOYS);
				case 3: format(dialog, sizeof dialog, "SKINS: %f", MULTIPLIER_SKINS);
				case 4: format(dialog, sizeof dialog, "ARMAS: %f", MULTIPLIER_WEAPONS);
				case 5: format(dialog, sizeof dialog, "Coste VIP: %d "SERVER_COIN"", SU_SD_PRICE);
				case 6: format(dialog, sizeof dialog, "VIP JOB EXTRA PAY: %d", SU_WORK_EXTRA_PAY);
				case 7: format(dialog, sizeof dialog, "VIP 2: %d "SERVER_COIN"", SU_VIP_2);
				case 8: format(dialog, sizeof dialog, "Coste cambiar nombre: %d "SERVER_COIN"", CHANGE_NAME_SD_PRICE);
			}
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, "Multiplicador", dialog, "»Siguiente", "xCerrar");
			return 1;
		}

		case DIALOG_SU_BUY:
		{
			new dialog[128];
			format(dialog, sizeof dialog, ""WHITE"El coste del VIP es de %d "SERVER_COIN"\n"WHITE"Duración: 30 días\n\n¿Comprar?", SU_SD_PRICE);

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, "{FFFB53}[VIP] {ffffff}  Comprar", dialog, "»Comprar", "Cerrar");
			return 1;
		}
		case DIALOG_UPGRADE_VIP:
		{
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST, "{8fce00}¿Qué deseas?", "»Renovar", "»Continuar", "Cancelar");
		}
		case DIALOG_VIP_2_MAIN:
		{
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST, "{8fce00}VIP - Store", "»VIP 1", "»Continuar", "»Cancelar");
		}
		case DIALOG_SU_BUY_2:
		{
			new dialog[128];
			format(dialog, sizeof dialog, ""WHITE"El coste del VIP PREMIUM es de %d "SERVER_COIN"\n"WHITE"Duración: 30 días\n\n"WHITE"¿Comprar?", SU_VIP_2);

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, "{FFFB53}[VIP] {ffffff}  Comprar", dialog, "»Comprar", "Cerrar");
			return 1;
		}
		case DIALOG_VIP2:
		{
			new dialog[256], current_date[24];
			getDateTime(current_date);
			format(dialog, sizeof dialog,

				"\
					{ffffff}Fecha actual: {8fce00}%s\n\
					{ffffff}Fecha caducidad: {8fce00}%s\n\
					\n\
					{ffffff}Renuevalo 30 días más por {8fce00}%d "SERVER_COIN".\n\
					\n\
				",
					current_date,
					PI[playerid][pi_VIP_EXPIRE_DATE],
					SU_VIP_2
			);

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, "VIP", dialog, "»Cerrar", "»Renovar");
		}
		case DIALOG_SU:
		{
			new dialog[256], current_date[24];
			getDateTime(current_date);
			format(dialog, sizeof dialog,

				"\
					{ffffff}Fecha actual: {8fce00}%s\n\
					{ffffff}Fecha caducidad: {8fce00}%s\n\
					\n\
					{ffffff}Renuevalo 30 días más por {8fce00}%d "SERVER_COIN".\n\
					\n\
				",
					current_date,
					PI[playerid][pi_VIP_EXPIRE_DATE],
					SU_SD_PRICE
			);

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, "VIP", dialog, "»Cerrar", "»Renovar");
			return 1;
		}

		case DIALOG_VOBJECT_MENU:
		{
			new caption[45];
			format(caption, sizeof caption, ""WHITE"STC - '%s'", VEHICLE_INFO[ GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][gb_vehicle_MODELID] - 400 ][vehicle_info_NAME]);

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST, caption, "1. Mis objetos\n2. Comprar objeto", "Continuar", "Cerrar");
			return 1;
		}
		case DIALOG_VOBJECT_OBJECTS:
		{
			new caption[45], dialog[145 * (MAX_SU_VOBJECTS + 2)], line_str[145];
			format(caption, sizeof caption, ""WHITE"STC - '%s'", VEHICLE_INFO[ GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][gb_vehicle_MODELID] - 400 ][vehicle_info_NAME]);

			format(dialog, sizeof dialog, ""WHITE"Objeto\t"WHITE"Colocado\n");
			for(new i = 0; i != MAX_SU_VOBJECTS; i ++)
			{
				if(VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][i][vobject_VALID])
				{
					if(VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][i][vobject_ATTACHED]) format(line_str, sizeof line_str, ""WHITE"%d. %s\t"WHITE"Sí\n", i + 1, VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][i][vobject_NAME]);
					else format(line_str, sizeof line_str, ""WHITE"%d. %s\t"RED"No\n", i + 1, VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][i][vobject_NAME]);
				}
				else format(line_str, sizeof line_str, ""WHITE"%d. Slot vacío\n", i + 1);
				strcat(dialog, line_str);
			}
			strcat(dialog, ""RED"- Eliminar todo\n");

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST_HEADERS, caption, dialog, "Siguiente", "Atrás");
			return 1;
		}
		case DIALOG_VOBJECT_OBJECT:
		{
			new caption[45], dialog[256];
			format(caption, sizeof caption, ""WHITE"OBJECTO '%s'", VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_NAME]);

			switch(VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_TYPE])
			{
				case VOBJECT_TYPE_OBJECT:
				{
					if(VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_ATTACHED]) format(dialog, sizeof dialog, ""WHITE"Guardar este objeto\n"WHITE"Cambiar el nombre del objeto\n"WHITE"Editar posición del objeto\n"WHITE"Colores\n"WHITE"Eliminar este objeto");
					else format(dialog, sizeof dialog, ""WHITE"Colocar este objeto\n"WHITE"Cambiar el nombre del objeto\n"WHITE"Editar posición del objeto\n"WHITE"Colores\n"WHITE"Eliminar este objeto");
				}
				case VOBJECT_TYPE_TEXT:
				{
					if(VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_ATTACHED]) format(dialog, sizeof dialog, ""WHITE"Guardar este objeto\n"WHITE"Cambiar el nombre del objeto\n"WHITE"Editar posición del objeto\n"WHITE"Texto\n"WHITE"Eliminar este objeto");
					else format(dialog, sizeof dialog, ""WHITE"Colocar este objeto\n"WHITE"Cambiar el nombre del objeto\n"WHITE"Editar posición del objeto\n"WHITE"Texto\n"WHITE"Eliminar este objeto");
				}
				case VOBJECT_TYPE_COUNTRY_FLAG, VOBJECT_TYPE_COUNTRY_PANEL:
				{
					if(VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_ATTACHED]) format(dialog, sizeof dialog, ""WHITE"Guardar este objeto\n"WHITE"Cambiar el nombre del objeto\n"WHITE"Editar posición del objeto\n"WHITE"Eliminar este objeto");
					else format(dialog, sizeof dialog, ""WHITE"Colocar este objeto\n"WHITE"Cambiar el nombre del objeto\n"WHITE"Editar posición del objeto\n"WHITE"Eliminar este objeto");
				}
			}

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST, caption, dialog, "Siguiente", "Atrás");
			return 1;
		}
		case DIALOG_VOBJECT_OBJECT_CNAME:
		{
			new dialog[145];
			format(dialog, sizeof dialog, ""WHITE"Nombre actual: \""WHITE"%s"WHITE"\"\nIndica el nuevo nombre:", VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_NAME]);
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, ""WHITE"OBJECTO - MODIFICAR NOMBRE", dialog, "Siguiente", "Atrás");
			return 1;
		}
		case DIALOG_VOBJECT_OBJECT_COLORS:
		{
			new caption[64];
			format(caption, sizeof caption, ""WHITE"COLORES DE '%s'", VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_NAME]);

			new dialog[45 * MAX_VEHICLE_OBJECTS_INDEXS], line_str[45];
			for(new i = 0; i != MAX_VEHICLE_OBJECTS_INDEXS; i ++)
			{
				if(!VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_COLORS][i]) format(line_str, sizeof line_str, ""WHITE"Color #%d (original)\n", i + 1);
				else format(line_str, sizeof line_str, "{%06x}COLOR #%d\n", ARGBToRGBA(VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_COLORS][i]) >>> 8, i + 1);

				strcat(dialog, line_str);
			}
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST, caption, dialog, "Siguiente", "Atrás");
			return 1;
		}
		case DIALOG_VOBJECT_OBJECT_COLOR:
		{
			new caption[64];
			format(caption, sizeof caption, ""WHITE"COLOR (%d) de '%s'", PLAYER_TEMP[playerid][pt_TUNING_EDIT_COLOR_SLOT], VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_NAME]);

			new dialog[145];
			format(dialog, sizeof dialog,

					"\
						Color original\n\
						{%06x}Veh Color 1\n\
						{%06x}Veh Color 2\n\
						"WHITE"Otro (ARGB)\n\
					",
					VEHICLE_COLORS[ GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][gb_vehicle_COLOR_1] ] >>> 8,
					VEHICLE_COLORS[ GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][gb_vehicle_COLOR_2] ] >>> 8
			);

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST, caption, dialog, "Siguiente", "Atrás");
			return 1;
		}
		case DIALOG_VOBJECT_OBJECT_COLOR_HEX:
		{
			new caption[64];
			format(caption, sizeof caption, ""WHITE"COLOR (%d) de '%s'", PLAYER_TEMP[playerid][pt_TUNING_EDIT_COLOR_SLOT], VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_NAME]);

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, caption, ""WHITE"Introduce el color en formato AARRGGBB\nPor ejemplo: FFCCCCCC", "Siguiente", "Atrás");
			return 1;
		}
		case DIALOG_VOBJECT_OBJECT_CDELETE:
		{
			new dialog[145];
			format(dialog, sizeof dialog, ""WHITE"¿Estás seguro que quieres borrar el siguiente objeto?\n\t\"%s\"", VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_NAME]);
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, ""WHITE"OBJECTO - ELIMINAR OBJETO", dialog, "Eliminar", "Atrás");
			return 1;
		}
		case DIALOG_VOBJECT_DELETE_ALL: return ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, "Objeto - Eliminar todo", "¿Estás seguro de que quiere eliminar todos los objetos de este vehiculo?\nEsta opción no se puede deshacer.", "Eliminar", "Atrás");
		case DIALOG_VOBJECT_TEXT_MENU:
		{
			new caption[64];
			format(caption, sizeof caption, "Texto '%s'", VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_NAME]);

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST, caption, "Editar texto\nCambiar fuente\nTamaño de letra\nNegrita\nColor de fuente", "Continuar", "Atras");
			return 1;
		}
		case DIALOG_VOBJECT_TEXT_TEXT:
		{
			new dialog[128];
			format(dialog, sizeof dialog, "Texto actual:\n\"%s\"\n\nIndica el nuevo texto (1-32 caracteres)\n", VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_text_TEXT]);
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, "Modificar texto", dialog, "Continuar", "Atras");
			return 1;
		}
		case DIALOG_VOBJECT_TEXT_FONT:
		{
			new dialog[128];
			format(dialog, sizeof dialog, "Fuente actual:\n\"%s\"\n\nIndica la nueva fuente (1-24 caracteres)\n", VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_text_FONT]);
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, "Modificar fuente", dialog, "Continuar", "Atras");
			return 1;
		}
		case DIALOG_VOBJECT_TEXT_FONT_SIZE:
		{
			new dialog[128];
			format(dialog, sizeof dialog, "Tamaño actual: %d\n\nIndica el nuevo tamaño\n", VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_text_FONT_SIZE]);
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, "Modificar tamaño de letra", dialog, "Continuar", "Atras");
			return 1;
		}
		case DIALOG_VOBJECT_TEXT_FONT_COLOR:
		{
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST, "Selecciona color", DIALOG_CREATE_CREW_COLOR_String, "Continuar", "Atras");
			return 1;
		}
		case DIALOG_VOBJECT_COUNTRY:
		{
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST, ""WHITE"SELECCIONA PAÍS",

				"\
					Alemania\n\
					Argentina\n\
					Austria\n\
					Belgica\n\
					Bolivia\n\
					Bulgaria\n\
					Chile\n\
					Colombia\n\
					El Salvador\n\
					España\n\
					Estonia\n\
					Francia\n\
					Guatemala\n\
					Holanda\n\
					Hungrúa\n\
					India\n\
					Indonesia\n\
					Irlanda\n\
					Italia\n\
					Lituania\n\
					Luxemburgo\n\
					Madagascar\n\
					Malta\n\
					Malí\n\
					México\n\
					Nigeria\n\
					Panamá\n\
					Paraguay\n\
					Perú\n\
					Polonia\n\
					Rumanía\n\
					Rusia\n\
					Ucrania\n\
					Venezuela\n\
				"

			, "Siguiente", "Atrás");
			return 1;
		}
		case DIALOG_PLAYER_CONFIG:
		{
			new dialog[800];
			format(dialog, sizeof dialog,
				"\
					{66c4e4} {FFFFFF}Audios del servidor\t%s\n\
					{66c4e4} {FFFFFF}Barras indicadoras (hud)\t%s\n\
					{66c4e4} {FFFFFF}Ver sanciones, kicks, baneos\t%s\n\
					{66c4e4} {FFFFFF}Número en guía telefónica\t%s\n\
					{66c4e4} {FFFFFF}Sonidos del servidor\t%s\n\
					{66c4e4} {FFFFFF}Mostrar hora del servidor\t%s\n\
					{66c4e4} {FFFFFF}Canal Twitter\t%s\n\
					{66c4e4} {FFFFFF}Canal de dudas\t%s\n\
					{D50000}» {FFFFFF}Escribir Estado\t\n\
				",
					(PI[playerid][pi_CONFIG_AUDIO] ? "Sí" : "No"),
					(PI[playerid][pi_CONFIG_HUD] ? "Sí" : "No"),
					(PI[playerid][pi_CONFIG_ADMIN] ? "Sí" : "No"),
					(PI[playerid][pi_PHONE_VISIBLE_NUMBER] ? "Sí" : "No"),
					(PI[playerid][pi_CONFIG_SOUNDS] ? "Sí" : "No"),
					(PI[playerid][pi_CONFIG_TIME] ? "Sí" : "No"),
				  (PI[playerid][pi_TWITTER_CHANNEL] ? "Sí" : "No"),
					(PI[playerid][pi_DOUBT_CHANNEL] ? "Sí" : "No")

			);

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST, "{828282}[Panel] {ffffff}  Ajustes.", dialog, "»Cambiar", "xCerrar");
			return 1;
		}
		case DIALOG_POLICE_BYC:
		{
			new caption[128];
			format(caption, sizeof caption, ""WHITE"PLACA Nº%d | %c. %s", PI[playerid][pi_PLACA_PD], PLAYER_TEMP[playerid][pt_FIRST_NAME][0], PLAYER_TEMP[playerid][pt_SUB_NAME]);
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST, caption, "Ver Últimos registros a BYC\nBuscar BYC de una persona", "»Siguiente", "xCerrar");
			return 1;
		}

		case DIALOG_POLICE_BYC_NAME_FIND:
		{
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, ""WHITE"BÚSQUEDA", ""WHITE"Introduce el nombre completo del sospechoso.\n\nUsa el guión bajo para separar nombre y apellido\nPor ejemplo: Nombre_Apellido.", "Buscar", "xCerrar");
			return 1;
		}
		case DIALOG_POLICE_BYC_LAST_ALL:
		{
			inline OnPoliceHistoryLoad()
			{
				new rows;
				if(cache_get_row_count(rows))
				{
					for(new i = 0; i != MAX_LISTITEMS; i++ ) PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][i] = -1;
					new dialog[256 * 15], line_str[256], count, start_pos = PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] * PLAYER_TEMP[playerid][pt_DIALOG_DB_LIMIT] + 1;
					format(dialog, sizeof dialog, ""WHITE"Sospechoso\t"WHITE"Añadido por\t"WHITE"Fecha\t"WHITE"Razón\n");
					for(new i = 0; i != rows; i ++)
					{
						new id, id_player, text[128], date[24], toname[24], fromname[24], bool:isnull_fromname;
						cache_get_value_name_int(i, "id_player", id);
						cache_get_value_name_int(i, "id_player", id_player);
						cache_get_value_name(i, "text", text);
						cache_get_value_name(i, "date", date);
						cache_get_value_name(i, "toname", toname);
						cache_is_value_name_null(i, "fromname", isnull_fromname);
						if(!isnull_fromname) cache_get_value_name(i, "fromname", fromname);

						format(line_str, sizeof line_str, ""WHITE"%d. %s\t"WHITE"%s\t"WHITE"%s\t"WHITE"%s\n", start_pos + i, toname, fromname, date, text);
						strcat(dialog, line_str);
						PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][count++] = id;
					}

					PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][count++] = -2;
					strcat(dialog, ""WHITE"- Siguiente\n");

					PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][count++] = -3;
					strcat(dialog, ""WHITE"- Anterior\n");
					ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST_HEADERS, ""WHITE"BYC", dialog, "»Siguiente", "xCerrar");
				}
			}
			mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT police_history.*, player.name AS toname, player2.name AS fromname FROM police_history INNER JOIN player ON police_history.id_player = player.id LEFT JOIN player AS player2 ON police_history.by_id = player2.id ORDER BY police_history.date DESC LIMIT %d, %d;", PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] * PLAYER_TEMP[playerid][pt_DIALOG_DB_LIMIT], PLAYER_TEMP[playerid][pt_DIALOG_DB_LIMIT]);
			mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnPoliceHistoryLoad);
			return 1;
		}
		case DIALOG_POLICE_BYC_LAST_PLAYER:
		{
			inline OnPoliceHistoryLoad()
			{
				new rows;
				if(cache_get_row_count(rows))
				{
					for(new i = 0; i != MAX_LISTITEMS; i++ ) PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][i] = -1;
					new dialog[256 * 15], line_str[256], count, start_pos = PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] * PLAYER_TEMP[playerid][pt_DIALOG_DB_LIMIT] + 1;
					format(dialog, sizeof dialog, "»Sospechoso\t»Añadido por\t»Fecha\t»Razón\n");
					for(new i = 0; i != rows; i ++)
					{
						new id, id_player, text[128], date[24], toname[24], fromname[24], bool:isnull_fromname;
						cache_get_value_name_int(i, "id", id);
						cache_get_value_name_int(i, "id_player", id_player);
						cache_get_value_name(i, "text", text);
						cache_get_value_name(i, "date", date);
						cache_get_value_name(i, "toname", toname);
						cache_is_value_name_null(i, "fromname", isnull_fromname);
						if(!isnull_fromname) cache_get_value_name(i, "fromname", fromname);

						format(line_str, sizeof line_str, "»%d. %s\t»%s\t»%s\t»%s\n", start_pos + i, toname, fromname, date, text);
						strcat(dialog, line_str);
						PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][count++] = id;
					}

					PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][count++] = -2;
					strcat(dialog, ""WHITE"- Siguiente\n");

					PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][count++] = -3;
					strcat(dialog, ""WHITE"- Anterior\n");
					ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST_HEADERS, ""WHITE"BYC", dialog, "»Siguiente", "xCerrar");
				}
			}
			mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT police_history.*, player.name AS toname, player2.name AS fromname FROM police_history INNER JOIN player ON police_history.id_player = player.id LEFT JOIN player AS player2 ON police_history.by_id = player2.id WHERE police_history.id_player = %d ORDER BY police_history.date LIMIT %d, %d;", PLAYER_TEMP[playerid][pt_SELECTED_BYC_USER_ID], PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] * PLAYER_TEMP[playerid][pt_DIALOG_DB_LIMIT], PLAYER_TEMP[playerid][pt_DIALOG_DB_LIMIT]);
			mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnPoliceHistoryLoad);
			return 1;
		}
		case DIALOG_POLICE_DELETE_BYC:
		{
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, ""WHITE"BYC", ""WHITE"¿Borrar esto del historial?", "Borrar", "xCerrar");
			return 1;
		}
		case DIALOG_CHANGE_NAME:
		{
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_PASSWORD, "{ffd966}CAMBIAR NOMBRE", ""WHITE"Introduce tu contraseña actual.", "»Siguiente", "xCerrar");
			return 1;
		}
		case DIALOG_CHANGE_NAME_NAME:
		{
			new dialog[150];
			format(dialog, sizeof dialog, ""WHITE"Introduce tu nuevo nombre.\nEl nombre debe respear el formato {ffd966}Nombre_Apellido.\n\n{FFFFFF}El coste por el cambio de nombre es de %d "SERVER_COIN"", CHANGE_NAME_SD_PRICE);
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, "{ffd966}CAMBIAR NOMBRE", dialog, "»Siguiente", "xCerrar");
			return 1;
		}
		case DIALOG_CHANGE_EMAIL:
		{
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_PASSWORD, "{ffd966}CAMBIAR CORREO ELECTRÓNICO", ""WHITE"Introduce tu contraseña actual.", "»Siguiente", "xCerrar");
			return 1;
		}
		case DIALOG_CHANGE_EMAIL_EMAIL:
		{
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_INPUT, "{ffd966}CAMBIAR CORREO ELECTRÓNICO", ""WHITE"Introduce tu nuevo correo electrónico.", "»Siguiente", "xCerrar");
			return 1;
		}

		case DIALOG_ANNOUNCES:
		{
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST, "{828282}[Movil] {ffffff}  Anuncio",

				"\
					{167bff} {ffffff}Vendo medicamentos\t{167bff}$30\n\
					{167bff} {ffffff}Vendo crack\t{167bff}$30\n\
					{167bff} {ffffff}Vendo banda\t{167bff}$50\n\
					{167bff} {ffffff}Vendo propiedad\t{167bff}$50\n\
					{167bff} {ffffff}Vendo armas\t{167bff}$100\n\
					{167bff} {ffffff}Vendo auto\t{167bff}$15\n\
					{167bff} {ffffff}Vendo moto\t{167bff}$15\n\
					{167bff} {ffffff}Compro arma\t{167bff}$80\n\
					{167bff} {ffffff}Compro vehiculo\t{167bff}$30\n\
					{167bff} {ffffff}Compro medicamento\t{167bff}$30\n\
					{167bff} {ffffff}Compro crack\t{167bff}$30\n\
					{167bff} {ffffff}Compro banda\t{167bff}$50\n\
					{167bff} {ffffff}Compro propiedad\t{167bff}$50\n\
					{167bff} {ffffff}Busco compañero basurero\t{167bff}$10\n\
					{167bff} {ffffff}Busco mecánico\t{167bff}$20\n\
					{167bff} {ffffff}Busco taxista\t{167bff}$20\n\
					{167bff} {ffffff}Busco médico\t{167bff}$20\n\
					{167bff} {ffffff}Busco banda\t{167bff}$20\n\
					{167bff} {ffffff}Busco miembros para banda\t{167bff}$50\n\
				"

			, "Anunciar", "Salir");
			return 1;
		}

		case DIALOG_PROPERTY_CLOSET:
		{
			for(new i = 0; i != MAX_LISTITEMS; i++ ) PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][i] = -1;

			new max_slots = MAX_CLOSET_SLOTS,
				dialog[128 * (MAX_CLOSET_SLOTS + 2)], line_str[128], listitem; 
				
	//		format(dialog, sizeof dialog, ""WHITE"Tipo\t"WHITE"Descripción\n");
			for(new i = 0; i != max_slots; i ++)
			{
				if(PROPERTY_CLOSET[ PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY] ][i][property_closet_VALID])
				{
					switch(PROPERTY_CLOSET[ PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY] ][i][property_closet_TYPE])
					{
						case BOOT_TYPE_OBJECT:
						{
						    new check = PROPERTY_CLOSET[ PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY] ][i][property_closet_INT]; 
						    if(check == 226) {format(line_str, sizeof line_str, "{4876FF}[%d]\t{ffffff}%s\n", PROPERTY_CLOSET[ PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY] ][i][property_closet_INT_EXTRA], ObjetoInfo[ PROPERTY_CLOSET[ PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY] ][i][property_closet_INT] ][NombreObjeto]); } 
						    else if(check == 227) {format(line_str, sizeof line_str, "{4876FF}[%d]\t{ffffff}%s\n", PROPERTY_CLOSET[ PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY] ][i][property_closet_INT_EXTRA], ObjetoInfo[ PROPERTY_CLOSET[ PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY] ][i][property_closet_INT] ][NombreObjeto]); } 
						    else if(check == 228) {format(line_str, sizeof line_str, "{4876FF}[%d]\t{ffffff}%s\n", PROPERTY_CLOSET[ PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY] ][i][property_closet_INT_EXTRA], ObjetoInfo[ PROPERTY_CLOSET[ PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY] ][i][property_closet_INT] ][NombreObjeto]); } 
						    else if(check == 229) {format(line_str, sizeof line_str, "{4876FF}[%d]\t{ffffff}%s\n", PROPERTY_CLOSET[ PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY] ][i][property_closet_INT_EXTRA], ObjetoInfo[ PROPERTY_CLOSET[ PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY] ][i][property_closet_INT] ][NombreObjeto]); }
							else format(line_str, sizeof line_str, "{00ff00}[%d]{ffffff}%s\n", PROPERTY_CLOSET[ PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY] ][i][property_closet_INT_EXTRA], ObjetoInfo[ PROPERTY_CLOSET[ PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY] ][i][property_closet_INT] ][NombreObjeto]);
							strcat(dialog, line_str); 
						}
					}

					PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] = i;
					listitem ++;
				}
			}

			new caption[64];
			format(caption, sizeof caption, "{828282}[Armario] {ffffff}E  {828282}[%d]", max_slots - listitem);

			PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] = MAX_CLOSET_SLOTS + 20;
			strcat(dialog, " Bolsillos\n"); listitem ++;

			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_TABLIST, caption, dialog, "»Siguiente", "xCerrar");
		}
		case DIALOG_PROPERTY_CLOSET_DLT_ALL: return ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, "Armario - Eliminar todo", "¿Estas seguro de que quiere eliminar todo de su armario?\nEsta opción no se puede deshacer.", "»Eliminar", "»Cancelar");
		case DIALOG_PROPERTY_CLOSET_OPTIONS:
		{
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST, ""WHITE"ARMARIO", "1. Sacar\n2. Eliminar", "»Siguiente", "xCerrar");
			return 1;
		}
		case DIALOG_PROPERTY_CLOSET_DELETE:
		{
			new dialog[190];
			switch(PROPERTY_CLOSET[ PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY] ][ PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY_SLOT] ][property_closet_TYPE])
			{
				case BOOT_TYPE_OBJECT: format(dialog, sizeof dialog, "{66c4e4}{ffffff}Objeto: "WHITE"%s\n (%s cant)\n\n"WHITE"¿Estas seguro de que quiere eliminar esto de tu armario?\nEsta opción no se puede deshacer.", ObjetoInfo[ PROPERTY_CLOSET[ PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY] ][ PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY_SLOT] ][property_closet_INT] ][NombreObjeto], number_format_thousand( PROPERTY_CLOSET[ PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY] ][ PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY_SLOT] ][property_closet_INT_EXTRA] ));
			}
			ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_MSGBOX, ""WHITE"ARMARIO - ELIMINAR", dialog, "»Eliminar", "xCerrar");
			return 1;
		}
		case DIALOG_PROPERTY_OBJECTS_MENU: return ShowPlayerDialog(playerid, dialogid, DIALOG_STYLE_LIST, ""WHITE"MUEBLES", "1. Editar mueble\n2. Ver muebles guardados\n3. Eliminar todos los muebles", "»Siguiente", "»Cancelar");
		default: return 0;
	}
	return 1;
}

Dialog:OnMerchantBuyResponse(playerid, response, listitem, inputtext[]) {
    if (response) {
        new const index = PLAYER_TEMP[playerid][pt_MERCHANT_INDEX];

        if (!MerchantsInfo[index][mSpawned]) return 0;

        switch(MerchantsSales[ MerchantsInfo[index][mData] ][sType]) {
            case SALE_TYPE_DYNAMITE: {
                       new precio = MerchantsSales[ MerchantsInfo[index][mData] ][sExtra];
                       
                       if(PI[playerid][pi_MANO_DER] != 177) return SendNotification(playerid, "No tienes dinero negro en tu mano."); 
                       if(PI[playerid][pi_DER_CANT] < precio) return SendNotification(playerid, "Dinero negro insuficiente."); 
                       
                       new string[220];
                       new checki = 101;
                       new player_slot = GetEmptyInvSlot(playerid);
                       if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
                       PI[playerid][pi_BOL][player_slot] = checki;
                       PI[playerid][pi_BOL_CANT][player_slot] = 1;
                       PI[playerid][pi_DER_CANT] -= precio; 
                       format(string, sizeof(string), "Has comprado ~b~Dinamita~w~ por %d~l~B$", MerchantsSales[ MerchantsInfo[index][mData] ][sExtra]);
                       ShowPlayerMessage(playerid, string);
                
            }
            case SALE_TYPE_ARMOUR: {
                       new precio = MerchantsSales[ MerchantsInfo[index][mData] ][sExtra];
                       
                       if(PI[playerid][pi_MANO_DER] != 177) return SendNotification(playerid, "No tienes dinero negro en tu mano."); 
                       if(PI[playerid][pi_DER_CANT] < precio) return SendNotification(playerid, "Dinero negro insuficiente."); 
                       
                       new string[220];
                       new checki = 73;
                       new player_slot = GetEmptyInvSlot(playerid);
                       if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
                       PI[playerid][pi_BOL][player_slot] = checki;
                       PI[playerid][pi_BOL_CANT][player_slot] = 1;
                       PI[playerid][pi_DER_CANT] -= precio; 
                       format(string, sizeof(string), "Has comprado ~b~Chaleco~w~ por %d~l~B$", MerchantsSales[ MerchantsInfo[index][mData] ][sExtra]);
                       ShowPlayerMessage(playerid, string);
                
            }
            case SALE_TYPE_BLACK_CASH_BUY: {
                if(sscanf(inputtext, "d", inputtext[0])) return ShowPlayerMessage(playerid, "Introduce la cantidad que quieres comprar.");
                if(inputtext[0] <= 0 || inputtext[0] > 100000)  return ShowPlayerMessage(playerid, "Introduce la cantidad que quieres comprar.");

                new price = inputtext[0] * MerchantsSales[ MerchantsInfo[index][mData] ][sExtra];
          //      if(PI[playerid][pi_MANO_DER] != 177) return SendNotification(playerid, "No tienes dinero negro en tu mano."); 
                if(PI[playerid][pi_CASH] < price) return SendNotification(playerid, "Dinero insuficiente.");  
                
                new string[220];
                new checki = 177;
                new player_slot = GetEmptyInvSlot(playerid);
                if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
                PI[playerid][pi_BOL][player_slot] = checki;
                PI[playerid][pi_BOL_CANT][player_slot] = inputtext[0];
               // PI[playerid][pi_DER_CANT] -= price; 
                format(string, sizeof(string), "Has comprado %s~b~$~w~ de dinero negro por %s~b~$~w~.", number_format_thousand(inputtext[0]), number_format_thousand(price));
                ShowPlayerMessage(playerid, string); 
                GivePlayerCash(playerid, -price, true, true);
                
            }
            case SALE_TYPE_BLACK_CASH_SELL: {
                if(sscanf(inputtext, "d", inputtext[0])) return ShowPlayerMessage(playerid, "Introduce la cantidad que quieres comprar.");
                if(inputtext[0] <= 0 || inputtext[0] > 100000)  return ShowPlayerMessage(playerid, "Introduce la cantidad que quieres comprar.");
                
                new price = inputtext[0] * MerchantsSales[ MerchantsInfo[index][mData] ][sExtra];
                if(PI[playerid][pi_MANO_DER] != 177) return SendNotification(playerid, "No tienes dinero negro en tu mano."); 
                if(PI[playerid][pi_DER_CANT] < price) return SendNotification(playerid, "Dinero negro insuficiente.");  
                
                new string[220];
                PI[playerid][pi_DER_CANT] -= inputtext[0]; 
                format(string, sizeof(string), "Has comprado %s~b~$~w~ de dinero por %s~l~B$~w~.", number_format_thousand(inputtext[0]), number_format_thousand(price));
                ShowPlayerMessage(playerid, string); 
                GivePlayerCash(playerid, inputtext[0], true, false);
        }
      }
    }
    return 1;
}

public OnDialogResponse(playerid, dialogid, response, listitem, inputtext[])
{
    if(dialogid == 1180)
    {
        if(!response) return 1; // Si cerró el diálogo

        switch(listitem)
        {
                    case 4: // Buscar Químicos
{
    new r = random(3);
    SetPVarInt(playerid, "PedidoTipo", r);
    
    // Extracción ultra-limpia
    new iCant = floatround(InfoActoresQ[r][4]);
    new iPrec = floatround(InfoActoresQ[r][5]);
    
    new msg[400];
    format(msg, sizeof(msg), 
        "{FFFFFF}¿Aceptar pedido de suministros?\n\n"\
        "{BBBBBB}Cantidad: {FFFFFF}%d {F1C40F}litros\n"\
        "{BBBBBB}Dinero negro: {FFFFFF}%d{bbbbbb}$\n\n"\
        "{FFFFFF}Ve al punto rojo para recolectar.", 
        iCant, iPrec);
    
    ShowPlayerDialog(playerid, 6653, DIALOG_STYLE_MSGBOX, "{3BF1B3}[Confirmar] {ffffff}  Pedido", msg, "Aceptar", "xCancelar");
}
        case 5: // Vender Mercancía (Pedidos Activos)
        {
            new str_pedidos[1024], count = 0;
            strcat(str_pedidos, "{FFFFFF}Comprador\t{FFFFFF}Estado\t{FFFFFF}Tiempo\n"); // Encabezado para TABLIST_HEADERS

            for(new i = 0; i < MAX_COMPRADORES; i++) {
                if(CompradoresInfo[i][cActivo]) {
                    format(str_pedidos, sizeof(str_pedidos), "%s{FFFFFF}%s\t{53FF00}Disponible\t{F1C40F}%d min\n", 
                        str_pedidos, CompradoresInfo[i][cNombre], CompradoresInfo[i][cTiempo]);
                    count++;
                }
            }

            if(count == 0) return ShowPlayerDialog(playerid, 0, DIALOG_STYLE_MSGBOX, "{FF0000}[Fabrica] {ffffff}  Pedidos", "{FFFFFF}No hay compradores activos en este momento.\nVuelve más tarde.", "xCerrar", "");
            
            ShowPlayerDialog(playerid, 1181, DIALOG_STYLE_TABLIST_HEADERS, "{3BF1B3}[Pedidos] {ffffff}  Droga", str_pedidos, "Seleccionar", "xVolver");
        }
        


        }
        return 1;
    }
    
    if(dialogid == 1181)
    {
    if(!response) return PC_EmulateCommand(playerid, "/fabrica"); 

    new seleccionado = -1, temp_count = 0;
    for(new i = 0; i < MAX_COMPRADORES; i++) {
        if(CompradoresInfo[i][cActivo]) {
            if(temp_count == listitem) { seleccionado = i; break; }
            temp_count++;
        }
    }

    if(seleccionado != -1) {
        // Obtenemos la ID de la fábrica donde está el jugador actualmente
        new f_id = PLAYER_TEMP[playerid][pt_FABRICA_ID];
        
        if(f_id == -1) return SendClientMessage(playerid, -1, "{FF0000}ERROR: {FFFFFF}Debes estar dentro de tu fábrica para iniciar la venta.");

        VentaActorSeleccionado[playerid] = seleccionado;
        CajasCargadas[playerid] = 0;
        CajasEntregadas[playerid] = 0;
        
        // GUARDAMOS LA ID PARA EL PAGO FINAL
        SetPVarInt(playerid, "FabricaVentaID", f_id); 
        
        SendClientMessage(playerid, -1, "{3BF1B3}» {FFFFFF}Has aceptado el trato. Carga {F1C40F}3 cajas {FFFFFF}en la camioneta y llévalas al punto.");
        
        // Opcional: Sonido de inicio de misión
        PlayerPlaySound(playerid, 1085, 0.0, 0.0, 0.0);
    }
    return 1;
    }



    if(dialogid == 6653) // DIALOG_ACEPTAR_PEDIDO
{
    if(response)
    {
        new r = GetPVarInt(playerid, "PedidoTipo");
        new f = PLAYER_TEMP[playerid][pt_FABRICA_ID]; // Obtenemos el ID mientras aún está adentro

        // Guardamos el ID de la fábrica en un PVar para que no se pierda al salir
        SetPVarInt(playerid, "ID_Fabrica_Pedido", f);

        SetPlayerCheckpoint(playerid, InfoActoresQ[r][0], InfoActoresQ[r][1], InfoActoresQ[r][2], 4.0);
        SetPVarInt(playerid, "EnRutaQuimicos", 1);
        SendFormatNotification(playerid, "Ruta iniciada, ve con el proveedor.");
    }
    return 1;
}

    
    if(dialogid == DIALOG_LISTA_OBJETOS)
    {
    if(!response) return 1;

    new inicio = PaginaObjetos[playerid] * 60;
    new fin = inicio + 60;
    if(fin > sizeof(ObjetoInfo)) fin = sizeof(ObjetoInfo);
    
    new cant_en_esta_pag = fin - inicio;

    // Lógica para el botón "Siguiente"
    if(listitem == cant_en_esta_pag && fin < sizeof(ObjetoInfo))
    {
        PaginaObjetos[playerid]++;
        MostrarMenuObjetos(playerid, PaginaObjetos[playerid]);
        return 1;
    } 
    // Lógica para el botón "Anterior"
    // (Si hay botón siguiente, anterior es el listitem cant_en_esta_pag + 1)
    // (Si NO hay botón siguiente, anterior es el listitem cant_en_esta_pag)
    if(PaginaObjetos[playerid] > 0)
    {
        new btn_anterior = (fin < sizeof(ObjetoInfo)) ? (cant_en_esta_pag + 1) : (cant_en_esta_pag);
        if(listitem == btn_anterior)
        {
            PaginaObjetos[playerid]--;
            MostrarMenuObjetos(playerid, PaginaObjetos[playerid]);
            return 1;
        }
    }

    // Si hizo clic en un objeto real
    new item_id = inicio + listitem;
    if(item_id >= sizeof(ObjetoInfo)) return 1;

    new player_slot = GetEmptyInvSlot(playerid);
    if(player_slot == -1) return SendNotification(playerid, "Inventario lleno.");

    PI[playerid][pi_BOL][player_slot] = item_id;
    PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[item_id][Capacidad];

    new msg[128];
    format(msg, sizeof(msg), "Obtenido: ~y~%s", ObjetoInfo[item_id][NombreObjeto]);
    SendNotification(playerid, msg);
    
    // Recargar menú en la misma página
    MostrarMenuObjetos(playerid, PaginaObjetos[playerid]);
    return 1;
    }

    if(dialogid == DIALOG_CONFIRM_BUY)
    {
    if(!response) return 1;

    new v_idx = PLAYER_TEMP[playerid][pt_VEHICLE_DEALER_INDEX];
    new d_idx = PLAYER_TEMP[playerid][pt_DEALER_INDEX];
    new modelid = DealerVehiclesInfo[v_idx][d_idx][dvModelId];
    new precio = DealerVehiclesInfo[v_idx][d_idx][dvPrice];
    new monedas = DealerVehiclesInfo[v_idx][d_idx][dvCoins];
    
    new pvehicles = CountPlayerVehicles(playerid);

    // Doble comprobación de seguridad
    if (monedas > PI[playerid][pi_COINS]) return ShowPlayerMessage(playerid, "~r~No tienes suficientes monedas.");
    if (precio > PI[playerid][pi_BANK_MONEY]) return ShowPlayerMessage(playerid, "~r~No tienes suficiente dinero en el banco.");

    HidePlayerDealerShipMenu(playerid);

    // Entrega del Vehículo
    new vid = AddPersonalVehicle(
        playerid, modelid,
        DealersInfo[d_idx][dVehReturnX], DealersInfo[d_idx][dVehReturnY],
        DealersInfo[d_idx][dVehReturnZ], DealersInfo[d_idx][dVehReturnAngle],
        DealerVehiclesInfo[v_idx][d_idx][dvColour1],
        DealerVehiclesInfo[v_idx][d_idx][dvColour2],
        VEHICLE_INFO[modelid - 400][vehicle_info_MAX_GAS]
    );

    if (vid == INVALID_VEHICLE_ID) return SendClientMessage(playerid, -1, "No se pueden añadir más vehículos.");

    // Procesar Pago
    if (monedas > 0) 
    {
        PI[playerid][pi_COINS] -= monedas;
        mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET coins = %d WHERE id = %d;", PI[playerid][pi_COINS], PI[playerid][pi_ID]);
        mysql_tquery(srp_db, QUERY_BUFFER);
        SendClientMessageEx(playerid, -1, "Has gastado {ff0000}%d "SERVER_COIN"{ffffff} en la compra.", monedas);
    } 
    else 
    {
        PI[playerid][pi_BANK_MONEY] -= precio;
        RegisterBankAccountTransaction(PI[playerid][pi_ID], PI[playerid][pi_ID], BANK_TRANSACTION_BUY_VEHICLE, precio);
        // Aquí deberías añadir tu query de guardado de bank_money si no es automática
    }

    // Notificaciones y Logs
    new message[64]; 
    format(message, sizeof message, "VEHICULO COMPRADO: -%s$", number_format_thousand(precio));
    RegisterPhoneMessage(0, PI[playerid][pi_ID], message);
    if (PI[playerid][pi_PHONE_STATE] == PHONE_STATE_ON) SendClientMessageEx(playerid, -1, "{"#PRIMARY_COLOR"}[Banco] {FFFFFF}%s", message);

    // --- MISIONES (A3) ---
    if(PI[playerid][pi_A3] == 0) 
    { 
        new Mision[128];
        GivePlayerCash(playerid, 1000, true, false); 
        SendFormatNotification(playerid, "Has completado una ~g~mision"); 
        PI[playerid][pi_A3] = 1; 
        TextDrawShowForPlayer(playerid,BoxMisiones);
        TextDrawShowForPlayer(playerid,MisionCo);
        TextDrawShowForPlayer(playerid,MisionRe);
        format(Mision,sizeof(Mision),"~w~Comprar Vehiculo 1000~g~$");
        TextDrawSetString(MisionRe, Mision); 
        SetTimerEx("ActualizarTextDraw",4500,false,"i",playerid);
    }
    OtorgarLogro(playerid, 6);

    ShowPlayerMessage(playerid, "~s~Vehiculo ~g~comprado.");
    PlayerPlaySoundEx(playerid, 1058, 0.0, 0.0, 0.0);
    PLAYER_VEHICLES[vid][player_vehicle_PARKING] = -1;
    SavePlayerVehicle(playerid, vid, false); 
    PutPlayerInVehicleEx(playerid, vid, 0);
    
    if (!PI[playerid][pi_VIP]) ReLockPlayerVehicles(playerid);
    return 1;
    }
    
    if(dialogid == DIALOG_TRAILERO_RUTAS)
    {
    if(!response) return 1;

    new r = listitem;
    new vehid = GetPlayerVehicleID(playerid);
    
    // 1. Verificación de seguridad extra
    if(!IsPlayerInAnyVehicle(playerid)) return SendNotification(playerid, "Debes estar en el camión para cargar.");

    new Float:x, Float:y, Float:z, Float:fa;
    GetVehiclePos(vehid, x, y, z);
    GetVehicleZAngle(vehid, fa);

    // 2. Cálculo de posición trasera (Offset)
    // Usamos el ángulo para spawnear el trailer a 8 metros detrás del camión
    // Esto evita que spawnee dentro del camión y salgan volando o exploten.
    new Float:tx = x - (8.0 * floatsin(-fa, degrees));
    new Float:ty = y - (8.0 * floatcos(-fa, degrees));

    // 3. Crear el remolque con la posición calculada
    new trailerid = CreateVehicle(InfoRutasTr[r][ruta_CARGA_MODELO], tx, ty, z, fa, -1, -1, -1);
    
    // 4. Enganche automático
    AttachTrailerToVehicle(trailerid, vehid);
    
    // Seteamos las variables de trabajo
    PLAYER_TEMP[playerid][pt_WORKING_IN] = WORK_TRAILERO;
    PLAYER_TEMP[playerid][pt_TRAILER_OBJ] = trailerid;
    PLAYER_TEMP[playerid][pt_RUTA_ACTIVA] = r;
    PLAYER_TEMP[playerid][pt_CARGADO] = true;
    PLAYER_TEMP[playerid][pt_ENTREGADO] = false; // IMPORTANTE: Resetear esto aquí

    // Ponemos el destino
    SetPlayerCheckpoint(playerid, InfoRutasTr[r][ruta_X], InfoRutasTr[r][ruta_Y], InfoRutasTr[r][ruta_Z], 6.0);
    
    SendNotification(playerid, "Carga enganchada. Sigue el checkpoint.");
    return 1;
    }
    if(dialogid == DIALOG_BASURERO_INV)
    {
    if(!response) return 1;
    new index = PLAYER_TEMP[playerid][pt_VIEWING_BASURERO];
    
    // VERIFICACIÓN DE SEGURIDAD: ¿El basurero sigue existiendo?
    if(index == -1 || BasureroData[index][ba_DB_ID] == -1) return 1;

    // VERIFICACIÓN DE DISTANCIA: ¿Sigue cerca del basurero?
    if(!IsPlayerInRangeOfPoint(playerid, 4.0, BasureroData[index][ba_X], BasureroData[index][ba_Y], BasureroData[index][ba_Z]))
    {
        SendNotification(playerid, "Te has alejado demasiado del basurero.");
        return 1;
    }

    new str_action[128];

    // --- OPCIÓN: TIRAR BASURA ---
    if(listitem == 10) 
    {
        if(PI[playerid][pi_MANO_DER] == 0) return SendNotification(playerid, "No tienes nada en tu mano derecha.");
        
        new slot_basurero = -1;
        for(new s = 0; s < 10; s++) {
            if(BasureroData[index][ba_INV_ID][s] == 0) { 
                slot_basurero = s;
                break;
            }
        }

        if(slot_basurero == -1) return SendNotification(playerid, "El basurero está lleno, no cabe nada más.");

        new item_tirado = PI[playerid][pi_MANO_DER];
        BasureroData[index][ba_INV_ID][slot_basurero] = item_tirado;
        BasureroData[index][ba_INV_CANT][slot_basurero] = PI[playerid][pi_DER_CANT];

        format(str_action, sizeof(str_action), "tira un(a) %s al basurero.", ObjetoInfo[item_tirado][NombreObjeto]);
        Auto_SendPlayerAction(playerid, str_action);

        PI[playerid][pi_MANO_DER] = 0;
        PI[playerid][pi_DER_CANT] = 0;
        ActualizarManos(playerid);
        
        ActualizarBasureroSlotDB(index, slot_basurero);
        AbrirInventarioBasurero(playerid, index);
        return 1;
    }

    // --- OPCIÓN: SACAR ITEM ---
    new itemid = BasureroData[index][ba_INV_ID][listitem];
    new cantidad = BasureroData[index][ba_INV_CANT][listitem];

    if(itemid == 0) return AbrirInventarioBasurero(playerid, index);

    new player_slot = GetEmptyInvSlot(playerid);
    if(player_slot == -1) return SendNotification(playerid, "No tienes espacio en tus bolsillos.");

    PI[playerid][pi_BOL][player_slot] = itemid;
    PI[playerid][pi_BOL_CANT][player_slot] = cantidad;

    format(str_action, sizeof(str_action), "saca %s del basurero.", ObjetoInfo[itemid][NombreObjeto]);
    Auto_SendPlayerAction(playerid, str_action);

    // Vaciamos el slot y actualizamos
    BasureroData[index][ba_INV_ID][listitem] = 0;
    BasureroData[index][ba_INV_CANT][listitem] = 0;

    ActualizarBasureroSlotDB(index, listitem);
    AbrirInventarioBasurero(playerid, index);
    return 1;
    }

    
    if(dialogid == DIALOG_JBL_MAIN)
    {
        if(!response) return 1;
        if(!JBLInfo[playerid][jbl_COLOCADA]) 
        {
            ShowPlayerDialog(playerid, DIALOG_JBL_URL, DIALOG_STYLE_INPUT, "{FF9900}[Parlante] {ffffff} URL", "{FFFFFF}Ingresa el enlace de la canción (.mp3 / stream):", "Colocar", "xAtrás");
        }
        else 
        {
            if(listitem == 0) {
                RecogerJBL(playerid);
                Auto_SendPlayerAction(playerid, "recoje su parlante");
                SendNotification(playerid, "Has recogido tu parlante JBL.");
            } else {
                ShowPlayerDialog(playerid, DIALOG_JBL_URL, DIALOG_STYLE_INPUT, "{FF9900}[Parlante] {ffffff} Musica", "{FFFFFF}Ingresa el nuevo enlace:", "Cambiar", "xAtrás");
            }
        }
        return 1;
    }
    
    if(dialogid == 334)
    {
    if(!response) return 1;

    switch(listitem)
    {
        case 0: // Slot 1 - SACAR
        {
            if(APA[playerid][pi_AptoSkin1] <= 0) return ShowPlayerMessage(playerid, "Este slot está vacío.");
            
            // 1. Le damos la skin al jugador
            PI[playerid][pi_SKIN] = APA[playerid][pi_AptoSkin1];
            SetPlayerSkin(playerid, PI[playerid][pi_SKIN]);
            
            // 2. Vaciamos el ropero (Para que no sea infinito)
            APA[playerid][pi_AptoSkin1] = 0; 
            
            // 3. Guardamos los cambios en el archivo .ini
            GuardarApartamento(playerid);
            
            ShowPlayerMessage(playerid, "Te has cambiado de ropa y el slot ahora está ~r~vacío.");
        }
        case 1: // Slot 2 - SACAR
        {
            if(APA[playerid][pi_AptoSkin2] <= 0) return ShowPlayerMessage(playerid, "Este slot está vacío.");
            
            // 1. Le damos la skin
            PI[playerid][pi_SKIN] = APA[playerid][pi_AptoSkin2];
            SetPlayerSkin(playerid, PI[playerid][pi_SKIN]);
            
            // 2. Vaciamos el ropero
            APA[playerid][pi_AptoSkin2] = 0;
            
            // 3. Guardamos cambios
            GuardarApartamento(playerid);
            
            ShowPlayerMessage(playerid, "Te has cambiado de ropa y el slot ahora está ~r~vacío.");
        }
        case 2: // GUARDAR SKIN ACTUAL
        {
            // Verificamos si ya tiene puesto el skin de civil (para que no guarde el skin 251/252)
            if(PI[playerid][pi_SKIN] == 251 || PI[playerid][pi_SKIN] == 252) {
                return ShowPlayerMessage(playerid, "No puedes guardar la ropa de ~r~civil.");
            }

            if(APA[playerid][pi_AptoSkin1] == 0)
            {
                APA[playerid][pi_AptoSkin1] = PI[playerid][pi_SKIN];
                
                // Al guardar, le ponemos skin de civil (Ropa interior)
                if(PI[playerid][pi_GENDER] == SEX_MALE) PI[playerid][pi_SKIN] = 252;
                else PI[playerid][pi_SKIN] = 251;
                
                SetPlayerSkin(playerid, PI[playerid][pi_SKIN]);
                ShowPlayerMessage(playerid, "Ropa ~g~guardada.");
            }
            else if(APA[playerid][pi_AptoSkin2] == 0)
            {
                APA[playerid][pi_AptoSkin2] = PI[playerid][pi_SKIN];

                if(PI[playerid][pi_GENDER] == SEX_MALE) PI[playerid][pi_SKIN] = 252;
                else PI[playerid][pi_SKIN] = 251;

                SetPlayerSkin(playerid, PI[playerid][pi_SKIN]);
                ShowPlayerMessage(playerid, "Ropa ~g~guardada.");
            }
            else
            {
                return ShowPlayerMessage(playerid, "No tienes más ~g~espacios.");
            }
            
            // Guardamos siempre al final para asegurar el .ini
            GuardarApartamento(playerid);
        }
    }
    return 1;
    }

    if(dialogid == DIALOG_JBL_URL)
    {
        if(!response) return PC_EmulateCommand(playerid, "/jbl");
        if(strlen(inputtext) < 5) return SendNotification(playerid, "URL demasiado corta.");

        if(!JBLInfo[playerid][jbl_COLOCADA])
        {
            new Float:x, Float:y, Float:z, Float:a, name[MAX_PLAYER_NAME], label_str[128];
            GetPlayerPos(playerid, x, y, z);
            GetPlayerFacingAngle(playerid, a);
            GetPlayerName(playerid, name, sizeof(name));

            // Guardar posición
            JBLInfo[playerid][jbl_X] = x;
            JBLInfo[playerid][jbl_Y] = y;
            JBLInfo[playerid][jbl_Z] = z;

            // Crear Objeto (Bocina)
            JBLInfo[playerid][jbl_OBJETO] = CreateDynamicObject(2226, x, y, z - 0.9, 0.0, 0.0, a, -1, -1);
            
            // --- AQUÍ ESTÁ EL LABEL DEL DUEÑO ---
            format(label_str, sizeof(label_str), "{FF9900}Parlante JBL\n{FFFFFF}Dueño: {00ACFF}%s", name);
            JBLInfo[playerid][jbl_LABEL] = CreateDynamic3DTextLabel(label_str, -1, x, y, z - 0.5, 10.0);
            
            JBLInfo[playerid][jbl_AREA] = CreateDynamicCircle(x, y, MAX_JBL_DISTANCE);
            Streamer_SetIntData(STREAMER_TYPE_AREA, JBLInfo[playerid][jbl_AREA], E_STREAMER_EXTRA_ID, playerid);
            
            JBLInfo[playerid][jbl_COLOCADA] = true;
            ApplyAnimation(playerid, "CARRY", "putdwn", 4.1, 0, 0, 0, 0, 0);
            Auto_SendPlayerAction(playerid, "coloca su parlante");
        }

        format(JBLInfo[playerid][jbl_URL], 128, "%s", inputtext);
        
        // Activar sonido 3D para todos los cercanos
        for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
        {
            if(IsPlayerConnected(i) && IsPlayerInRangeOfPoint(i, MAX_JBL_DISTANCE, JBLInfo[playerid][jbl_X], JBLInfo[playerid][jbl_Y], JBLInfo[playerid][jbl_Z]))
            {
                PlayAudioStreamForPlayer(i, JBLInfo[playerid][jbl_URL], JBLInfo[playerid][jbl_X], JBLInfo[playerid][jbl_Y], JBLInfo[playerid][jbl_Z], MAX_JBL_DISTANCE, 1);
            }
        }
        SendNotification(playerid, "Parlante JBL configurada con éxito.");
        return 1;
    }
    
    
    if(dialogid == DIALOG_ESTADO_TEXTO)
{
    if(!response) // El jugador presionó "xQuitar" (Botón derecho)
    {
        // 1. Destruimos el Label si es que existe
        if(PI[playerid][pi_LabelEstado] != Text3D:INVALID_3DTEXT_ID) 
        {
            DestroyDynamic3DTextLabel(PI[playerid][pi_LabelEstado]);
            PI[playerid][pi_LabelEstado] = Text3D:INVALID_3DTEXT_ID;
        }

        // 2. IMPORTANTE: Resetear la variable de texto siempre
        format(PI[playerid][pi_Estado], 64, "Ninguno");
        
        // 3. Guardar en Dini para que el cambio sea permanente [cite: 2025-12-21]
        GuardarEstado(playerid);
        
        SendFormatNotification(playerid, "Estado eliminado correctamente.");
        return 1;
    }

    // Si presionó "Siguiente" (Botón izquierdo)
    if(isnull(inputtext) || strlen(inputtext) > 60) 
        return SendFormatNotification(playerid, "Escribe un texto válido (Máximo 60 letras).");
    
    format(PI[playerid][pi_Estado], 64, inputtext);
    ShowPlayerDialog(playerid, DIALOG_ESTADO_COLOR, DIALOG_STYLE_LIST, "{828282}[Estado] {ffffff} Color", DIALOG_CREATE_CREW_COLOR_String, "»Continuar", "xCerrar");
    return 1;
}

    		if(dialogid == 543)
{
    if(!response) return 1;
    new vehid = GetPlayerVehicleID(playerid);
    if(vehid == 0) return SendClientMessage(playerid, -1, "{FF0000}ERROR: {FFFFFF}Ya no estás en el vehiculo.");

    new nivel_actual = PLAYER_VEHICLES[vehid][player_vehicle_MOTOR_NIVEL];
    new precio, nivel_nuevo;

    switch(listitem)
    {
        case 0: { precio = 100000; nivel_nuevo = 1; }
        case 1: { precio = 200000; nivel_nuevo = 2; }
        case 2: { precio = 350000; nivel_nuevo = 3; }
        case 3: // ELIMINAR
        {
            if(nivel_actual == 0) return ShowPlayerMessage(playerid, "Este auto no tiene mejoras.");
            PLAYER_VEHICLES[vehid][player_vehicle_MOTOR_NIVEL] = 0;
            GuardarMejoraMotor(vehid);
            ShowPlayerMessage(playerid, "Mejoras eliminadas correctamente", 1058);
            return 1;
        }
    }

    // BLOQUEO: Si ya tiene el mismo nivel
    if(nivel_actual == nivel_nuevo)
        return ShowPlayerMessage(playerid, "Este vehiculo ya tiene instalada esa mejora.");

    // OPCIONAL: Bloqueo si intenta comprar un nivel inferior (ej. tiene 3 y quiere poner el 1)
    if(nivel_actual > nivel_nuevo)
        return ShowPlayerMessage(playerid, "Tu vehiculo ya tiene una mejora superior instalada.");

    // Verificación de dinero
    if(PI[playerid][pi_CASH] < precio)
        return ShowPlayerMessage(playerid, "No tienes suficiente dinero en efectivo.");

    // Aplicar la mejora (Solo queda UNA, la nueva)
    SetPlayerCashX(playerid, -precio); 
    PLAYER_VEHICLES[vehid][player_vehicle_MOTOR_NIVEL] = nivel_nuevo;
    GuardarMejoraMotor(vehid);

    new msg[128];
    format(msg, sizeof(msg), "Motor mejorado al Nivel %d!", nivel_nuevo);
    ShowPlayerMessage(playerid, msg, 1133);
    
    PlayerPlaySound(playerid, 1133, 0.0, 0.0, 0.0);
    return 1;
}

    if(dialogid == DIALOG_ESTADO_COLOR && response)
{
    // 1. Asignamos el color automáticamente según la línea del diálogo
    PI[playerid][pi_ColorEstado] = RandomColors[listitem]; 
    
    // 2. Guardamos mediante Dini (asegurándote que el pi_ID sea mayor a 0)
    GuardarEstado(playerid); 
    
    // 3. Notificamos al jugador con el color que acaba de elegir
    new msg[128];
    format(msg, sizeof(msg), "{%06x}¡Has cambiado el color de tu estado correctamente!", RandomColors[listitem] >>> 8);
    SendClientMessage(playerid, -1, msg);
}

    
    if(dialogid == 977)
    {
    if(!response) return 1;

    new str_action[128]; // Variable para el string de la acción

    // --- GUARDAR EN LA CAJA (Desde la mano) ---
    if(listitem == 10) 
    {
        if(PI[playerid][pi_MANO_DER] == 0) return SendNotification(playerid, "No tienes nada en la mano para guardar.");
        
        new slot = -1;
        for(new i = 0; i < 10; i++) {
            if(APA[playerid][pi_CajaID][i] == 0) { slot = i; break; }
        }

        if(slot == -1) return SendNotification(playerid, "La caja fuerte está llena.");

        // Guardamos el ID antes de limpiar la mano para usarlo en los mensajes
        new itemid = PI[playerid][pi_MANO_DER];
        new cantidad = PI[playerid][pi_DER_CANT];

        // Transferencia
        APA[playerid][pi_CajaID][slot] = itemid;
        APA[playerid][pi_CajaCant][slot] = cantidad;

        // Notificación formateada
        SendFormatNotification(playerid, "~w~Has guardado ~g~%s ~w~en tu caja fuerte.", ObjetoInfo[itemid][NombreObjeto]);
        PlayerPlaySound(playerid, 1052, 0.0, 0.0, 0.0);
        
        // Acción física formateada
        format(str_action, sizeof(str_action), "guarda un(a) %s en su caja fuerte.", ObjetoInfo[itemid][NombreObjeto]);
        Auto_SendPlayerAction(playerid, str_action);

        // Limpiar mano
        PI[playerid][pi_MANO_DER] = 0;
        PI[playerid][pi_DER_CANT] = 0;
        ActualizarManos(playerid);
        
        GuardarApartamento(playerid);
    }
    // --- SACAR DE LA CAJA (A los bolsillos) ---
    else 
    {
        new itemid = APA[playerid][pi_CajaID][listitem];
        if(itemid == 0) return SendNotification(playerid, "Ese espacio está vacío.");

        new player_slot = GetEmptyInvSlot(playerid);
        if(player_slot == -1) return SendNotification(playerid, "No tienes espacio en tus bolsillos.");

        new cantidad = APA[playerid][pi_CajaCant][listitem];

        // Transferencia a bolsillos
        PI[playerid][pi_BOL][player_slot] = itemid;
        PI[playerid][pi_BOL_CANT][player_slot] = cantidad;

        // Notificación formateada
        SendFormatNotification(playerid, "~w~Has sacado ~g~%s ~w~de tu caja fuerte.", ObjetoInfo[itemid][NombreObjeto]);
        PlayerPlaySound(playerid, 1083, 0.0, 0.0, 0.0);
        // Acción física formateada
        format(str_action, sizeof(str_action), "saca un(a) %s de su caja fuerte.", ObjetoInfo[itemid][NombreObjeto]);
        Auto_SendPlayerAction(playerid, str_action);

        // Limpiar slot de caja
        APA[playerid][pi_CajaID][listitem] = 0;
        APA[playerid][pi_CajaCant][listitem] = 0;

        GuardarApartamento(playerid);
    }
    return 1;
    }



     if(dialogid == 9898)
    {
    if(response)
    {
        for(new i = 0; i < MAX_PUNTOS_ALQUILER; i++)
        {
            if(PuntosAlquiler[i][al_Creado] && IsPlayerInRangeOfPoint(playerid, 4.0, PuntosAlquiler[i][al_X], PuntosAlquiler[i][al_Y], PuntosAlquiler[i][al_Z]))
            {
                if(100000 > PI[playerid][pi_CASH]) return SendNotification(playerid, "Dinero Insuficiente.");
                APA[playerid][pi_AptoID] = i; 
                APA[playerid][pi_AptoTiempo] = gettime() + (7 * 24 * 3600);
                
                // ¡ESTO ES LO QUE TE FALTA! Guardar la posición en el enum APA
                APA[playerid][pi_AptoExX] = PuntosAlquiler[i][al_X];
                APA[playerid][pi_AptoExY] = PuntosAlquiler[i][al_Y];
                APA[playerid][pi_AptoExZ] = PuntosAlquiler[i][al_Z];
                APA[playerid][pi_AptoExA] = PuntosAlquiler[i][al_A];

                SendFormatNotification (playerid, "~w~Apartamento ~g~alquilado");
                SetPlayerCashX(playerid, -100000);
                GuardarApartamento(playerid); // Ahora el Dini escribirá las coordenadas reales, no 0.0
                return 1;
            }
        }
    }
    return 1;
    }
     if(dialogid == 16001)
{
    if(!response) return 1;

    new id_lab = PLD[playerid][pLabID];
    new i = listitem; 

    if(i < 0 || i > 4) return 1;

    // Validación de materiales en mano
    if(PI[playerid][pi_MANO_DER] != 256) 
        return SendNotification(playerid, "No tienes materiales en tu mano derecha."); 
    
    if(PI[playerid][pi_DER_CANT] < ProduccionLab[i][matCost]) 
    {
        new error_str[64];
        format(error_str, sizeof(error_str), "Materiales insuficientes, necesitas %d en la mano.", ProduccionLab[i][matCost]);
        return SendNotification(playerid, error_str);
    }

    // --- PROCESO INICIAL ---
    // Quitamos los materiales de la mano y los sumamos al stock del dueño DE UNA VEZ
    // (Porque el dueño ya recibió el beneficio del trabajo)
    PI[playerid][pi_DER_CANT] -= ProduccionLab[i][matCost]; 
    LI[id_lab][l_Materiales] += ProduccionLab[i][matCost]; 
    
    LI[id_lab][l_Mercancia] -= ProduccionLab[i][merCost];
    
    // GUARDAR ESTADO
    PTD[playerid][tTrabajando] = 1;
    PTD[playerid][tLabID] = id_lab;
    PTD[playerid][tRutaID] = i; 

    // Marcamos el checkpoint
    DisablePlayerCheckpoint(playerid);
    SetPlayerCheckpoint(playerid, ProduccionLab[i][posX1], ProduccionLab[i][posY1], ProduccionLab[i][posZ1], 6.0);
    
    GuardarLaboratorio(id_lab);
    CrearLabMundo(id_lab);

    new str[128];
    format(str, sizeof(str), "Entregaste %d materiales. Ve al punto para fabricar y cobrar tu %s.", 
        ProduccionLab[i][matCost], 
        ObjetoInfo[ProduccionLab[i][objID]][NombreObjeto]);
        
    SendNotification(playerid, str);
    return 1;
}





     
         if(dialogid == 16003) // Confirmación de Venta al sistema
    {
        if(!response) return 1;

        new id = PLD[playerid][pLabID];
        new mitad = LI[id][l_Precio] / 2;

        // Le damos su lana
        SetPlayerCashX(playerid, mitad);

        // Reseteamos el laboratorio a modo "En Venta"
        strmid(LI[id][l_Owner], "Nadie", 0, MAX_PLAYER_NAME, MAX_PLAYER_NAME);
        strmid(LI[id][l_Nombre], "Laboratorio Clandestino", 0, 64, 64);
        LI[id][l_Comprado] = false;
        LI[id][l_Cerrado] = true;
        LI[id][l_Mercancia] = 0;
        LI[id][l_Materiales] = 0;
        LI[id][l_Caja] = 0;

        GuardarLaboratorio(id);
        CrearLabMundo(id);

        new str[128];
        format(str, sizeof(str), "Has vendido tu laboratorio y recibido $%s (50 por ciento del valor).", number_format_thousand(mitad));
        ShowPlayerMessage(playerid, str);
        return 1;
    }
    
     
         if(dialogid == 16000) // Panel del Dueño /laboratorio
    {
        if(!response) return 1;
        new id = PLD[playerid][pLabID];

        switch(listitem)
        {
            case 0: // Abrir/Cerrar
            {
                LI[id][l_Cerrado] = !LI[id][l_Cerrado];
                ShowPlayerMessage(playerid, LI[id][l_Cerrado] ? "Has cerrado el laboratorio." : "Has abierto el laboratorio.");
                CrearLabMundo(id);
                GuardarLaboratorio(id);
            }
            case 1: // Cambiar Nombre
            {
                ShowPlayerDialog(playerid, 16002, DIALOG_STYLE_INPUT, "{828282}[Nombre] {ffffff}  Lab", ""WHITE"Ingresa el nuevo nombre para tu laboratorio:", "Aceptar", "xCancelar");
            }
            case 2: // Retirar Dinero de la Caja
{
    id = PLD[playerid][pLabID]; // Obtenemos el ID del lab que guardamos al abrir el panel
    new monto = LI[id][l_Caja];

    // 1. Verificamos si realmente hay dinero para sacar
    if(monto <= 0) 
        return SendNotification(playerid, "No hay dinero acumulado en la caja de este laboratorio.");

    // 2. Entregamos el dinero al dueño
    // Nota: Uso SetPlayerCashX porque es la que mencionamos antes, ajústala si es GivePlayerMoney
    SetPlayerCashX(playerid, monto);

    // 3. Reseteamos la caja del laboratorio
    LI[id][l_Caja] = 0;

    // 4. Guardamos los cambios para evitar que tras un reinicio el dinero siga ahí
    GuardarLaboratorio(id);
    
    // Opcional: Si tienes un 3DText que muestra la info, lo actualizamos
    CrearLabMundo(id); 

    // 5. Mensaje de éxito
    new str[128];
    format(str, sizeof(str), "Has retirado ~g~%s ~w~de las ganancias de tu laboratorio.", number_format_thousand(monto));
    SendFormatNotification(playerid, str);

    PC_EmulateCommand(playerid, "/laboratorio");
      }
      case 3: // Retirar Materiales acumulados al bolsillo
      {
    id = PLD[playerid][pLabID];
    new materiales_lab = LI[id][l_Materiales];

    // 1. Verificamos si hay materiales en el laboratorio
    if(materiales_lab <= 0) 
        return SendNotification(playerid, "No hay materiales acumulados en este laboratorio.");

    // 2. Verificamos si el dueño tiene espacio en el bolsillo
    new player_slot = GetEmptyInvSlot(playerid);
    if(player_slot == -1) 
        return SendNotification(playerid, "No tienes espacio en tus bolsillos para retirar los materiales.");

    // 3. Transferencia de los materiales
    // Usamos el ID 256 que es el que definimos para los materiales
    new id_material = 256; 

    PI[playerid][pi_BOL][player_slot] = id_material;
    PI[playerid][pi_BOL_CANT][player_slot] = materiales_lab; // Le damos TODO lo que había acumulado

    // 4. Reseteamos el stock del laboratorio y guardamos
    LI[id][l_Materiales] = 0;
    GuardarLaboratorio(id);
    CrearLabMundo(id); // Actualizamos el 3DText para que se vea en 0

    // 5. Mensaje de éxito
    new str[128];
    format(str, sizeof(str), "Has retirado {FFFF00}%d materiales {FFFFFF}del laboratorio a tu bolsillo.", materiales_lab);
    SendNotification(playerid, str);

    // Reabrimos el menú para que vea los cambios
    PC_EmulateCommand(playerid, "/laboratorio");
          }

                //
            // Dentro del switch(listitem) de dialogid == 16000
         case 4: // Llenar Stock
         {
    ShowPlayerDialog(playerid, 16004, DIALOG_STYLE_TABLIST_HEADERS, "{828282}[Rutas] {ffffff}  Mercancia", 
        "{FFFFFF}Ruta\t{FFFFFF}Necesitas\t{FFFFFF}Paga\n\
        {FFFFFF}Flit Couty\t{00FF00}100{D50000}M\t{CCCCCC}20{D50000} Unidades {FFFFFF}Mercancia\n\
        {FFFFFF}Flit Couty\t{FFFF00}200{D50000}M\t{CCCCCC}40{D50000} Unidades {FFFFFF}Mercancia\n\
        {FFFFFF}Flit Couty\t{FF9900}300{D50000}M\t{CCCCCC}50{D50000} Unidades {FFFFFF}Mercancia\n\
        {FFFFFF}Flit Couty\t{FF4B4B}350{D50000}M\t{cccccc}80{D50000} Unidades {FFFFFF}Mercancia\n\
        {FFFFFF}Flit Couty\t{FF0000}400{D50000}M\t{cccccc}110{D50000} Unidades {FFFFFF}Mercancia", 
        "Aceptar", "xCancelar");
            }
            case 5: // Poner a la venta (Liberar propiedad)
            {
                ShowPlayerDialog(playerid, 16003, DIALOG_STYLE_MSGBOX, "{828282}[Vender] {ffffff}  Lab", ""WHITE"Estás seguro de que quieres poner tu laboratorio a la venta?\nRecibirás la mitad del precio original.", "Sí", "xNo");
            }
            case 6: // Ver Info
            {
                new info[256];
                format(info, sizeof(info), "{FFFFFF}Nombre: %s\nDueño: %s\nMercancía\nCaja: %d\nMeteriales\nEstado: %s\nPrecio de Venta: $%s",
                    LI[id][l_Nombre], LI[id][l_Owner], LI[id][l_Mercancia], LI[id][l_Caja], LI[id][l_Materiales], (LI[id][l_Cerrado] ? "Cerrado" : "Abierto"), number_format_thousand(LI[id][l_Precio]));
                ShowPlayerDialog(playerid, 9999, DIALOG_STYLE_MSGBOX, "{3BF1B3}Estadísticas del Laboratorio", info, "xCerrar", "");
            }
        }
        return 1;
    }
    
    if(dialogid == 978) // Respuesta de /alquileres
{
    if(response)
    {
        // El listitem corresponde al ID del alquiler si los listas en orden
        new id = listitem; 
        if(PuntosAlquiler[id][al_Creado])
        {
            DisablePlayerCheckpoint(playerid);
            GpsEmpresaActivo[playerid] = true; // <--- ACTIVAMOS EL GPS
            SetPlayerCheckpoint(playerid, PuntosAlquiler[id][al_X], PuntosAlquiler[id][al_Y], PuntosAlquiler[id][al_Z], 8.0);
            SendFormatNotification(playerid, "Ubicación del Apartamento {7BB4FF}ID %d {FFFFFF}marcada en el GPS.", id);
            PlayerPlaySound(playerid, 1052, 0.0, 0.0, 0.0);
        }
    }
    return 1;
}
    // Busca el ID del diálogo (1181) dentro de tu OnDialogResponse
if(dialogid == 1198)
{
    if(response)
    {
        // El listitem corresponde al índice 'i' del bucle de arriba
        // Pero cuidado: si usaste 'continue', el listitem podría no coincidir con 'i'
        // Lo ideal es buscar la fábrica por el ID que aparece en la lista o simplemente:
        
        new count = 0;
        for(new i = 0; i < MAX_FABRICAS; i++)
        {
            if(Fabricas[i][pID] == 0) continue;

            if(count == listitem)
            {
                // Marcamos el Checkpoint
                SetPlayerCheckpoint(playerid, Fabricas[i][pEntradaX], Fabricas[i][pEntradaY], Fabricas[i][pEntradaZ], 5.0);
                DisablePlayerCheckpoint(playerid);
                GpsEmpresaActivo[playerid] = true; // <--- ACTIVAMOS EL GPS   
                break;
            }
            count++;
        }
    }
    return 1;
}


if(dialogid == 979) // Respuesta de /apartamento
{
    if(response)
    {
        new id = APA[playerid][pi_AptoID];
        DisablePlayerCheckpoint(playerid);
        GpsEmpresaActivo[playerid] = true; // <--- ACTIVAMOS EL GPS
        SetPlayerCheckpoint(playerid, PuntosAlquiler[id][al_X], PuntosAlquiler[id][al_Y], PuntosAlquiler[id][al_Z], 8.0);
        SendNotification(playerid, "La ubicación de tu apartamento ha sido marcada.");
        PlayerPlaySound(playerid, 1052, 0.0, 0.0, 0.0);
    }
    return 1;
}
    
    if(dialogid == 16004) 
{
    if(!response) return 1;
    
    new id_lab = PLD[playerid][pLabID]; // El ID que guardamos al abrir el panel
    if(id_lab == -1) return ShowPlayerMessage(playerid, "Error: No se encontró el laboratorio.");

    DisablePlayerCheckpoint(playerid);
    
    // Guardamos los datos en el array del jugador
    PLD[playerid][pRutaID] = listitem; 
    PLD[playerid][pTrabajando] = 1; // Estado: Yendo

    // Switch para poner el Checkpoint según la ruta
    switch(listitem)
    {
        case 0: 
        {
            if(PI[playerid][pi_MANO_DER] != 256) return SendNotification(playerid, "No tienes materiales en tu mano."); 
    
            if(PI[playerid][pi_DER_CANT] < 100) return SendNotification(playerid, "Materiales insuficientes, necesitas 100.");
            PI[playerid][pi_DER_CANT] -= 100;
            SetPlayerCheckpoint(playerid, RutasSuministros[listitem][0], RutasSuministros[listitem][1], RutasSuministros[listitem][2], 8.0);
            ShowPlayerMessage(playerid, "Ruta iniciada. Ve al punto marcado para recoger insumos.");
        }
        case 1:
        {
            if(PI[playerid][pi_MANO_DER] != 256) return SendNotification(playerid, "No tienes materiales en tu mano."); 
    
            if(PI[playerid][pi_DER_CANT] < 200) return SendNotification(playerid, "Materiales insuficientes, necesitas 200.");
            PI[playerid][pi_DER_CANT] -= 200;
            SetPlayerCheckpoint(playerid, RutasSuministros[listitem][0], RutasSuministros[listitem][1], RutasSuministros[listitem][2], 8.0);
            ShowPlayerMessage(playerid, "Ruta iniciada. Ve al punto marcado para recoger insumos.");
        }
        case 2:
        {
            if(PI[playerid][pi_MANO_DER] != 256) return SendNotification(playerid, "No tienes materiales en tu mano."); 
    
            if(PI[playerid][pi_DER_CANT] < 300) return SendNotification(playerid, "Materiales insuficientes, necesitas 300.");
            PI[playerid][pi_DER_CANT] -= 300;
            SetPlayerCheckpoint(playerid, RutasSuministros[listitem][0], RutasSuministros[listitem][1], RutasSuministros[listitem][2], 8.0);
            ShowPlayerMessage(playerid, "Ruta iniciada. Ve al punto marcado para recoger insumos.");
        }
        case 3:
        {
            if(PI[playerid][pi_MANO_DER] != 256) return SendNotification(playerid, "No tienes materiales en tu mano."); 
    
            if(PI[playerid][pi_DER_CANT] < 350) return SendNotification(playerid, "Materiales insuficientes, necesitas 350.");
            PI[playerid][pi_DER_CANT] -= 350;
            SetPlayerCheckpoint(playerid, RutasSuministros[listitem][0], RutasSuministros[listitem][1], RutasSuministros[listitem][2], 8.0);
            ShowPlayerMessage(playerid, "Ruta iniciada. Ve al punto marcado para recoger insumos.");
        }
        case 4:
        {
            if(PI[playerid][pi_MANO_DER] != 256) return SendNotification(playerid, "No tienes materiales en tu mano."); 
    
            if(PI[playerid][pi_DER_CANT] < 400) return SendNotification(playerid, "Materiales insuficientes, necesitas 400.");
            PI[playerid][pi_DER_CANT] -= 400;
            SetPlayerCheckpoint(playerid, RutasSuministros[listitem][0], RutasSuministros[listitem][1], RutasSuministros[listitem][2], 8.0);
            ShowPlayerMessage(playerid, "Ruta iniciada. Ve al punto marcado para recoger insumos.");
        }
    }
    return 1;
}



    
    if(dialogid == 16002) // Respuesta de cambiar nombre
    {
        if(!response) return 1;
        new id = PLD[playerid][pLabID];
        format(LI[id][l_Nombre], 64, "%s", inputtext);
        CrearLabMundo(id);
        GuardarLaboratorio(id);
        ShowPlayerMessage(playerid, "Nombre actualizado.");
        return 1;
    }
     if(dialogid == 15901) // Diálogo de /negocios
    {
        if(response)
        {
            // Cancelamos cualquier checkpoint previo para evitar bugs
            DisablePlayerCheckpoint(playerid);
            // El listitem corresponde exactamente al ID del negocio en el bucle
            new i = listitem;
            
            // Ponemos el punto rojo en el mapa (Checkpoint)
            SetPlayerCheckpoint(playerid, NI[i][n_EntradaX], NI[i][n_EntradaY], NI[i][n_EntradaZ], 4.0);
            GpsEmpresaActivo[playerid] = true; // <--- ACTIVAMOS EL GPS
            Auto_SendPlayerAction(playerid, "configura su GPS.");
        }
        return 1;
    }
    
    if(dialogid == 16009)
    {
    if(!response) return 1;

    new count = 0, target_id = -1;
    foreach(new i : Laboratorios)
    {
        if(count == listitem) { target_id = i; break; }
        count++;
    }

    if(target_id != -1)
    {
        // Cancelamos cualquier checkpoint previo para evitar bugs
        DisablePlayerCheckpoint(playerid);
        
        // Marcamos la posición del laboratorio seleccionado
        SetPlayerCheckpoint(playerid, LI[target_id][l_PosX], LI[target_id][l_PosY], LI[target_id][l_PosZ], 5.0);
        
        // Guardamos en la variable de seguimiento que definimos antes
        
        GpsEmpresaActivo[playerid] = true; // <--- ACTIVAMOS EL GPS
        Auto_SendPlayerAction(playerid, "configura su GPS.");
    }
    return 1;
    }

     
     if(dialogid == 8824) {
    if(response) {
        new negid = GetPVarInt(playerid, "ID_NegAdmin");
        new r = listitem;
        
        // Verificación de dinero
        if(PI[playerid][pi_CASH] < SuministrosRutas[r][r_PrecioCosto]) 
            return ShowPlayerMessage(playerid, "No tienes dinero suficiente para pagar el pedido.");

        // Proceso de pago
        SetPlayerCashX(playerid, -SuministrosRutas[r][r_PrecioCosto]);
        
        // Seteo de variables de ruta
        EnRutaSuministros[playerid] = negid;
        TipoRutaSeleccionada[playerid] = r;
        CargandoMercancia[playerid] = false; // Empezamos yendo a RECOGER
        
        // Seguridad: Limpiamos delay de pickups para que no haya conflictos al volver
        UsandoPickup[playerid] = 0; 

        // Marcamos el destino en el mapa
        SetPlayerCheckpoint(playerid, SuministrosRutas[r][r_X], SuministrosRutas[r][r_Y], SuministrosRutas[r][r_Z], 5.0);
        
        // Feedback al jugador
        new str[128];
        format(str, sizeof(str), "Has comprado %s (%d uds). Ve al punto marcado.", SuministrosRutas[r][r_Nombre], SuministrosRutas[r][r_Cantidad]);
        ShowPlayerMessage(playerid, str);
        
        //GameTextForPlayer(playerid, "~w~VE POR LA ~y~MERCANCIA", 4000, 1);
    }
    return 1;
}


     
     if(dialogid == 15900)
    {
    if(response)
    {
        new negid = GetPVarInt(playerid, "ComprandoEnNeg");
        new type = NI[negid][n_Tipo];
        new p = listitem;
        new str[128];
        new checki = ProductosNegocio[type][p][p_ID_Objeto];

        if(PI[playerid][pi_CASH] < ProductosNegocio[type][p][p_Precio]) 
            return ShowPlayerMessage(playerid, "No tienes dinero.");
            
        if(NI[negid][n_Mercancia] < ProductosNegocio[type][p][p_MercanciaCosto])
            return ShowPlayerMessage(playerid, "Sin stock de mercancia.");

        new player_slot = GetEmptyInvSlot(playerid);
        if(player_slot == -1) 
            return ShowPlayerMessage(playerid, "Bolsillos llenos.");

        // Cobro y Stock
        SetPlayerCashX(playerid, -ProductosNegocio[type][p][p_Precio]);
        NI[negid][n_Caja] += ProductosNegocio[type][p][p_Precio];
        NI[negid][n_Mercancia] -= ProductosNegocio[type][p][p_MercanciaCosto];
        GuardarNegocio(negid);

        // Entrega (Usando tus IDs y Capacidad)
        PI[playerid][pi_BOL][player_slot] = checki;
        PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];

        format(str, sizeof(str), "Compraste %s por $%d.", ProductosNegocio[type][p][p_Nombre], ProductosNegocio[type][p][p_Precio]);
        ShowPlayerMessage(playerid, str);
        PlayerPlaySound(playerid, 1133, 0.0, 0.0, 0.0);
    }
    return 1;
    }

     
     if(dialogid == 8823 && response) {
    new id = GetPVarInt(playerid, "ID_NegAdmin");
    switch(listitem) {
        case 0: // Retirar caja
{
    new montoCaja = NI[id][n_Caja]; // Guardamos el valor actual

    if(montoCaja <= 0) return ShowPlayerMessage(playerid, "La caja está vacía.");

    SetPlayerCashX(playerid, montoCaja);
    NI[id][n_Caja] = 0; // Ahora sí la reseteamos
    
    ShowPlayerMessage(playerid, "Has retirado la caja.");

    // --- LOGRO 9: Si la caja es mayor o igual a 50 ---
    if(montoCaja >= 50000)
    {
        if(LogrosJugador[playerid][9] == 0) // Si no lo tenía ya
        {
            OtorgarLogro(playerid, 9);
            // No hace falta GuardarLogros aquí porque se guarda al desconectar
        }
    }
}

        case 1: { // Cerrar/Abrir
            NI[id][n_Cerrado] = !NI[id][n_Cerrado];
            ActualizarNegocioVisual(id);
        }
        case 2: { // Vender
            SetPlayerCashX(playerid, NI[id][n_Precio] / 2);
            NI[id][n_Comprado] = false;
            NI[id][n_Cerrado] = false; 
            format(NI[id][n_Owner], MAX_PLAYER_NAME, "Nadie");
            ActualizarNegocioVisual(id);
        }
        // Dentro de OnDialogResponse para el diálogo 8823 (Administrar)
case 3: { // Surtir Mercancía
    new str[1024]; // Aumentamos el tamaño porque los colores consumen mucho espacio
str[0] = '\0'; // Limpiamos el string por seguridad

// Encabezado de la tabla
format(str, sizeof(str), "{FFFFFF}Tipo\t{FFFFFF}Cantidad\t{FFFFFF}Costo\n");

for(new r = 0; r < 5; r++) 
{
    new fila[128];
    // Formateamos solo la línea actual del bucle
    format(fila, sizeof(fila), 
        "{FFFFFF}%s\t{FFFFFF}%d ({CCCCCC}uds{FFFFFF})\t"WHITE"%d{00FF00}\n", 
        SuministrosRutas[r][r_Nombre], 
        SuministrosRutas[r][r_Cantidad], 
        SuministrosRutas[r][r_PrecioCosto]
    );
    
    // La pegamos al string principal
    strcat(str, fila);
}

// Ahora mostramos el diálogo
ShowPlayerDialog(playerid, 8824, DIALOG_STYLE_TABLIST_HEADERS, "{828282}[Mercancia] {ffffff}  Pedidos", str, "Aceptar", "xAtrás");
}

    }
    GuardarNegocio(id);
}
     
     if(dialogid == DIALOG_LISTA_EMPRESAS)
    {
    if(!response) return 1;

    // Obtenemos el ID de la empresa seleccionada (el listitem corresponde a la posición en la lista)
    // Pero como filtramos con 'if(eX == 0.0)', necesitamos recuperar el ID real de la columna 1.
    // Una forma sencilla es usar el 'inputtext' para obtener el ID.
    
    new empid = strval(inputtext); // El primer valor de la línea seleccionada es el ID

    if(empid > 0 && empid < MAX_EMPRESAS)
    {
        Auto_SendPlayerAction(playerid, "configura su GPS.");
        GpsEmpresaActivo[playerid] = true; // <--- ACTIVAMOS EL GPS
        SetPlayerCheckpoint(playerid, EmpresaData[empid][eX], EmpresaData[empid][eY], EmpresaData[empid][eZ], 5.0);
    }
    return 1;
    }

     
     if(dialogid == DIALOG_RUTAS_3)
    {
    if(!response) return 1;
    
    // Guardamos la zona seleccionada (0, 1 o 2)
    ZonaIncendio[playerid] = listitem; 

    if(VehiculoTrabajo[playerid] != 0) return ShowPlayerMessage(playerid, "Ya tienes un vehiculo de trabajo activo.");

    new id = GetPlayerEmpresaCerca(playerid);
    if(id == -1) return ShowPlayerMessage(playerid, "Error: No estás en el garaje de la estación.");

    // Verificamos si hay mercancía suficiente (ahora restamos 5 como dice tu diálogo)
    if(EmpresaData[id][eMercancia] < 5) 
        return ShowPlayerMessage(playerid, "La estación no tiene suministros suficientes (Mínimo 5).");

    // --- SPAWN DEL CAMIÓN ---
    new vid; 
    vid = AddTestVehicle(vid, 407, EmpresaData[id][eGX], EmpresaData[id][eGY], EmpresaData[id][eGZ], EmpresaData[id][eGAngle], -1, -1, 0, 0);
    VehiculoTrabajo[playerid] = vid;
    
    PutPlayerInVehicle(playerid, vid, 0);
    PLAYER_TEMP[playerid][pt_TIMERS][7] = SetTimerEx("StartVehicleEngine", 500, false, "ii", playerid, vid);
    TogglePlayerControllable(playerid, false);
    
    // Configuración de trabajo
    TrabajandoEmpresa[playerid] = id;
    TipoTrabajo[playerid] = 3; 
    IncendiosApagados[playerid] = 0; 
    Cargando[playerid] = true;

    // Mensaje de carga según la zona seleccionada
    new zona_nombre[20];
    switch(listitem) {
        case 0: zona_nombre = "Los Santos";
        case 1: zona_nombre = "San Fierro";
        case 2: zona_nombre = "Las Venturas";
    }

    new str[128];
    format(str, sizeof(str), "~w~Cargando agua...~n~~b~Destino: %s", zona_nombre);
    GameTextForPlayer(playerid, str, 5000, 3);
    
    CargaTimer[playerid] = SetTimerEx("FinalizarCargaBomberos", 5000, false, "d", playerid);
    
    // Restamos la mercancía que indica el diálogo
    EmpresaData[id][eMercancia] -= 5;
    GuardarEmpresa(id);
    ActualizarEmpresaVisual(id);
    return 1;
    }



     
     if(dialogid == DIALOG_COMPRAR_MERC)
    {
    if(!response) return ShowPlayerMessage(playerid, "Has cancelado la compra de mercancía.");

    new id = GetPVarInt(playerid, "ComprandoMercID");
    new cantidad = 50;
    
    if(PI[playerid][pi_MANO_DER] != 256) return SendNotification(playerid, "No tienes materiales en tu mano."); 
    
    if(PI[playerid][pi_DER_CANT] < 200) return SendNotification(playerid, "Materiales insuficientes, necesitas 200.");
    PI[playerid][pi_DER_CANT] -= 200;
    EmpresaData[id][eMercancia] += cantidad;

    // Guardar en DINI y actualizar visuales
    GuardarEmpresa(id);
    ActualizarEmpresaVisual(id);

    new msg[128];
    format(msg, sizeof(msg), "Has comprado %d unidades de mercancía por 200 Materiales.", cantidad);
    ShowPlayerMessage(playerid, msg);

    DeletePVar(playerid, "ComprandoMercID");
    return 1;
}
     
     if(dialogid == DIALOG_COMPRAR_EMP)
    {
    if(!response) return ShowPlayerMessage(playerid, "Has cancelado la compra.");

    new id = GetPVarInt(playerid, "EmpID"); // Recuperamos el ID que guardamos al usar /empresa
    new precio = EmpresaData[id][ePrecio];

    // 1. Verificar si el jugador tiene el dinero suficiente
    if(PI[playerid][pi_CASH] < precio) {
        return ShowPlayerMessage(playerid, "No tienes suficiente dinero para comprar esta empresa.");
    }
 
    // 2. Cobrar el dinero
    GivePlayerCash(playerid, -precio, true, true);

    // 3. Asignar los nuevos datos en el sistema
    format(EmpresaData[id][eDuenio], MAX_PLAYER_NAME, GetPlayerNameEx(playerid));
    EmpresaData[id][eComprada] = true;
    EmpresaData[id][eGanancias] = 0; // Inicia sin ganancias
    EmpresaData[id][eMercancia] = 0; // Inicia sin stock

    // 4. Guardar los cambios en el archivo DINI
    GuardarEmpresa(id);

    // 5. Actualizar los Pickups y Labels visuales
    ActualizarEmpresaVisual(id);

    // 6. Mensaje de éxito
    new str[128];
    format(str, sizeof(str), "¡Felicidades! Has comprado la empresa ID: %d por $%d.", id, precio);
    ShowPlayerMessage(playerid, str);
    
    // Limpiar la variable temporal
    DeletePVar(playerid, "EmpID");
    OtorgarLogro(playerid, 11);
    return 1;
    }
     
     if(dialogid == DIALOG_RUTAS_1 || dialogid == DIALOG_RUTAS_2)
{
    if(!response) return 1;
    
    if(VehiculoTrabajo[playerid] != 0) return ShowPlayerMessage(playerid, "Ya tienes un vehiculo de trabajo activo.");

    new id = GetPlayerEmpresaCerca(playerid);
    if(id == -1) return ShowPlayerMessage(playerid, "Error: No estás en el garaje.");

    if(EmpresaData[id][eMercancia] <= 0) 
        return ShowPlayerMessage(playerid, "La empresa no tiene mercancía suficiente.");

    new modelo = (dialogid == DIALOG_RUTAS_1) ? 482 : 578;
    
    // --- USO DE TU FUNCIÓN PERSONALIZADA ---
    // Sintaxis: AddTestVehicle(variable_id, modelo, X, Y, Z, Angulo, Color1, Color2, interior, mundo)
    new vid; 
    vid = AddTestVehicle(vid, modelo, EmpresaData[id][eGX], EmpresaData[id][eGY], EmpresaData[id][eGZ], EmpresaData[id][eGAngle], -1, -1, 0, 0);
    
    VehiculoTrabajo[playerid] = vid;
    
    PutPlayerInVehicle(playerid, vid, 0);
    PLAYER_TEMP[playerid][pt_TIMERS][7] = SetTimerEx("StartVehicleEngine", 500, false, "ii", playerid, vid);
    TogglePlayerControllable(playerid, false);
    
    TrabajandoEmpresa[playerid] = id;
    RutaAsignada[playerid] = listitem;
    TipoTrabajo[playerid] = (dialogid == DIALOG_RUTAS_1) ? 1 : 2;
    Cargando[playerid] = true;

    GameTextForPlayer(playerid, "~w~Cargando ~p~mercancia...", 5000, 3);
    CargaTimer[playerid] = SetTimerEx("FinalizarCarga", 5000, false, "dd", playerid, id);

    ShowPlayerMessage(playerid, "Espera 5 segundos mientras se carga la mercancía...");
    return 1;
}


     
     if (dialogid == DIALOG_RACE_ACCEPT) 
    {
        new challengerid = RaceState[0][race_PLAYER1];
        new bet_amount = RaceState[0][race_BET];
        
        if (response) 
        {
            if (!IsPlayerConnected(challengerid) || PI[playerid][pi_CASH] < bet_amount || PI[challengerid][pi_CASH] < bet_amount) { 
                 ShowPlayerMessage(playerid,"El desafío no es válido (jugador desconectado o sin dinero).");
                 return ShowPlayerMessage(challengerid, "El desafío falló por un error de validación o conexión.");
            }
            
            // 1. Tomar el dinero de ambos
            GivePlayerCash(playerid, -bet_amount, true, true);
            GivePlayerCash(challengerid, -bet_amount, true, true);
            
            
            new string[256];
            format(string, sizeof(string), "{66c4e4}@{FFFFFF}Spain{66c4e4}Plus{FFFFFF}: {66c4e4}[CARRERA] {ffffff}%s ah iniciado una carrera apuesta de %s{00ff00}$", PI[challengerid][pi_NAME], number_format_thousand(RaceState[0][race_BET]));
            SendClientMessageToAll(-1, string);
            
            // 2. Iniciar la carrera
            StartRacePreparation(challengerid, playerid);
         } else {
            // --- BLOQUE DE RECHAZO CORREGIDO ---
            new message[128], name[MAX_PLAYER_NAME];
            GetPlayerName(playerid, name, sizeof(name));
            
            format(message, sizeof(message), "~w~%s ha ~r~rechazado ~w~tu desafío.", name);

            ShowPlayerMessage(challengerid, message);

            // RESET MANUAL (En lugar de memset para evitar el crash)
            RaceState[0][race_PLAYER1] = INVALID_PLAYER_ID;
            RaceState[0][race_PLAYER2] = INVALID_PLAYER_ID;
            RaceState[0][race_BET] = 0;
            RaceState[0][race_ACTIVE] = 0;
            RaceState[0][race_TIMER_ID] = 0;
        }
        return 1;
    }
    
    if(dialogid == 3030)
{
    if(response)
    {
        static strradar[128];
        GetPlayerPos(playerid, PosXX, PosYY, PosZZ);
        GetPlayerFacingAngle(playerid, Angulo);
        
        IdRadarLivre(playerid); // Asumo que esto asigna el ID a radarid[playerid]
        new id = radarid[playerid];

        InfoRadar[id][lPosXX] = PosXX;
        InfoRadar[id][lPosYY] = PosYY;
        InfoRadar[id][lPosZZ] = PosZZ - 1.5;
        InfoRadar[id][lAngulo] = Angulo;
        InfoRadar[id][lVelocidade] = vel;

        // Convertido a CreateDynamicObject (-1, -1 para que se vea en todo mundo/interior)
        ObjetoRadar[0][id] = CreateDynamicObject(18880, InfoRadar[id][lPosXX], InfoRadar[id][lPosYY], InfoRadar[id][lPosZZ], 0.0, 0.0, InfoRadar[id][lAngulo], -1, -1);
        ObjetoRadar[1][id] = CreateDynamicObject(18880, InfoRadar[id][lPosXX], InfoRadar[id][lPosYY], InfoRadar[id][lPosZZ], 0.0, 0.0, InfoRadar[id][lAngulo] + 180.0, -1, -1); 
        
        // Icono en el mapa (ajustado para que el streamer lo maneje mejor)
        CreateDynamicMapIcon(InfoRadar[id][lPosXX], InfoRadar[id][lPosYY], InfoRadar[id][lPosZZ], 34, -1, -1, -1, -1, 200.0);

        format(strradar, sizeof(strradar), "{00ff00} {FFFFFF}Radar limite de velocidad: {FFD700}%d KM/H", InfoRadar[id][lVelocidade]);
        
        // Convertido a CreateDynamic3DTextLabel
        TRadar[id] = Text3D:CreateDynamic3DTextLabel(strradar, -1, InfoRadar[id][lPosXX], InfoRadar[id][lPosYY], InfoRadar[id][lPosZZ] + 5.0, 30.0, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, -1, -1);

        format(lString, sizeof(lString), "Radar ID: %d Creado correctamente.", id);
        SendClientMessage(playerid, 0x0000F6AA, lString);
        
        SetPlayerPos(playerid, PosXX + 1.0, PosYY + 1.0, PosZZ + 1.0);
        CriandoRadar = 0;
        SalvarRadares();
    }
    else
    {
        CriandoRadar = 0;
        SendClientMessage(playerid, 0xFFFFFFFF, "Cancelaste la creacion!");
    }
    return 1;
}

	if(PLAYER_TEMP[playerid][pt_DIALOG_RESPONDED] || PLAYER_TEMP[playerid][pt_DIALOG_ID] != dialogid) return Y_HOOKS_BREAK_RETURN_0;
	PLAYER_TEMP[playerid][pt_DIALOG_RESPONDED] = true;
	PLAYER_TEMP[playerid][pt_DIALOG_ID] = -1;
	PLAYER_TEMP[playerid][pt_DIALOG_SHOW] = false;
	PLAYER_TEMP[playerid][pt_PICKUP_TIMER] = gettime() + 3;

	if(!isnull(inputtext))
	{
		for(new i = 0; i != strlen(inputtext); i ++)
		{
			if(inputtext[i] == '%') inputtext[i] = '#';
		}
	}
	

	switch(dialogid)
	{
		case DIALOG_INFO: return 1;
		case DIALOG_PLAYER_RENUNCIO:
		{
			if(!response) return 1;
			if(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] == -1) return 1;
			if(GetPlayerState(playerid) != PLAYER_STATE_ONFOOT) return SendNotification(playerid, "No estás depie.");

			new work = PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem];

			if(work < 1 || work >= sizeof work_info) return SendNotification(playerid, "El trabajo no es válido.");

			if(!PLAYER_WORKS[playerid][work][pwork_SET]) return SendFormatNotification(playerid, "No eres %s.", work_info[work][work_info_NAME]);
			if(PLAYER_TEMP[playerid][pt_WORKING_IN] == work) return SendNotification(playerid, "Ahora mismo estás de servicio en ese trabajo, deja de trabajar para abandonar el trabajo.");

			if(work == WORK_POLICE)
			{
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE pworks SET `set` = 0, level = 0 WHERE id_player = %d AND id_work = %d;", PI[playerid][pi_ID], work);
				mysql_tquery(srp_db, QUERY_BUFFER);
				PLAYER_WORKS[playerid][work][pwork_LEVEL] = 0;
			}
			else
			{
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE pworks SET `set` = 0 WHERE id_player = %d AND id_work = %d;", PI[playerid][pi_ID], work);
				mysql_tquery(srp_db, QUERY_BUFFER);
			}
			SendFormatNotification(playerid, "Has abandonado tu trabajo de ~b~%s~w~.", work_info[work][work_info_NAME]);
			PLAYER_WORKS[playerid][work][pwork_SET] = false;
			return 1;
		}
		
		case DIALOG_FARMACY:
		{
			if(response)
			{
				switch(listitem)
				{
					case 0:
					{ 
	 				    if(2400 > PI[playerid][pi_CASH]) return SendNotification(playerid, "Dinero Insuficiente.");
			 		    new player_slot = GetEmptyInvSlot(playerid);
                         if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
                         new checki = 183;
                         PI[playerid][pi_BOL][player_slot] = checki;
                         PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
                         GivePlayerCash(playerid, -2400, true, true);
                         SendNotification(playerid, "~g~Medicamentos.");
					}
					case 1:
					{ 
					     if(10000 > PI[playerid][pi_CASH]) return SendNotification(playerid, "Dinero Insuficiente.");
			 		    new player_slot = GetEmptyInvSlot(playerid);
                         if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
                         new checki = 113;
                         PI[playerid][pi_BOL][player_slot] = checki;
                         PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
                         GivePlayerCash(playerid, -10000, true, true);
                         SendNotification(playerid, "~g~Botiquin.");
					}
					case 2:
					{ 
					     if(9000 > PI[playerid][pi_CASH]) return SendNotification(playerid, "Dinero Insuficiente.");
			 		    new player_slot = GetEmptyInvSlot(playerid);
                         if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
                         new checki = 194;
                         PI[playerid][pi_BOL][player_slot] = checki;
                         PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
                         GivePlayerCash(playerid, -9000, true, true);
                         SendNotification(playerid, "~g~Vendas.");
					}
				}
			}
			return 1;
		}
		
		case DIALOG_UTILITY:
		{
			if(response)
			{
				switch(listitem)
				{
					case 0:
					{ 
	 				    PC_EmulateCommand(playerid, "/tlf");
					}
					case 1:
					{ 
	 				    ShowDialog(playerid, DIALOG_UTILITY); 
					}
					case 2:
					{ 
	 				    ShowDialog(playerid, DIALOG_UTILITY); 
					}
					case 3:
					{ 
	 				    ShowDialog(playerid, DIALOG_UTILITY); 
					}
					case 4:
					{ 
	 				    PC_EmulateCommand(playerid, "/gps");
					}
					case 5:
					{ 
	 				    ShowDialog(playerid, DIALOG_UTILITY); 
					}
					case 6:
					{ 
	 				    ShowDialog(playerid, DIALOG_UTILITY); 
					}
					case 7: // Medis
					{ 
	 				    if(PLAYER_TEMP[playerid][pt_COOLDOWN_MEDICINE] > gettime()) return SendFormatNotification(playerid, "Debes esperar %d segundos para volver a poder consumir medicamentos", PLAYER_TEMP[playerid][pt_COOLDOWN_MEDICINE] - gettime());

				if(PI[playerid][pi_MEDICINE] <= 0) return ShowPlayerMessage(playerid, "No tienes medicamentos.", 2);
			    if((gettime() - LimiteRemedio[playerid]) < 60 * 3) return ShowPlayerMessage(playerid, "~r~Tienes que esperar 1 minuto para volver a consumir medicamentos.", 3);

				PLAYER_TEMP[playerid][pt_COOLDOWN_MEDICINE] = gettime() + 20;
				PI[playerid][pi_MEDICINE] --;
				GivePlayerHealthEx(playerid, 20.0);
				Auto_SendPlayerAction(playerid, "se toma un medicamento.");
				ApplyAnimation(playerid, "FOOD", "EAT_Burger", 0, 0, 0, 0, 0, 0);
		        ApplyAnimation(playerid, "FOOD", "EAT_Burger", 4.1, false, true, true, false, 1000, 1);
					}
					case 8: // Mari
					{ 
	 				    if(PLAYER_TEMP[playerid][pt_COOLDOWN_WEED] > gettime()) return SendFormatNotification(playerid, "Debes esperar %d segundos para volver a poder consumir marihuana", PLAYER_TEMP[playerid][pt_COOLDOWN_WEED] - gettime());

				if(PI[playerid][pi_CANNABIS] <= 0) return ShowPlayerMessage(playerid, "No tienes marihuana.", 2);
		    	if((gettime() - LimiteMaria[playerid]) < 60 * 4) return ShowPlayerMessage(playerid, "~r~Tienes que esperar 1 minuto para volver a consumir marihuana.", 3);

				PLAYER_TEMP[playerid][pt_COOLDOWN_WEED] = gettime() + 30;

				PI[playerid][pi_CANNABIS] --;
				GivePlayerHealthEx(playerid, 20.0);
				Auto_SendPlayerAction(playerid, "consume marihuana.");
				GivePlayerDrunkLevel(playerid, 1000);
				ApplyAnimation(playerid, "FOOD", "EAT_Burger", 0, 0, 0, 0, 0, 0);
		        ApplyAnimation(playerid, "FOOD", "EAT_Burger", 4.1, false, true, true, false, 1000, 1);
					}
					case 9: // Crack
					{ 
	 				    if(PLAYER_TEMP[playerid][pt_COOLDOWN_CRACK] > gettime()) return SendFormatNotification(playerid, "Debes esperar %d segundos para volver a poder consumir crack", PLAYER_TEMP[playerid][pt_COOLDOWN_CRACK] - gettime());

				if(PI[playerid][pi_CRACK] <= 0) return ShowPlayerMessage(playerid, "No tienes crack.", 2);
 			    if((gettime() - LimiteCrack[playerid]) < 60 * 3) return ShowPlayerMessage(playerid, "~r~Tienes que esperar 1 minuto para volver a consumir crack.", 3);

    			PLAYER_TEMP[playerid][pt_COOLDOWN_CRACK] = gettime() + 40;
				PI[playerid][pi_CRACK] --;
				GivePlayerArmourEx(playerid, 20.0);
				Auto_SendPlayerAction(playerid, "consume crack.");
				GivePlayerDrunkLevel(playerid, 2000);
				ApplyAnimation(playerid, "FOOD", "EAT_Burger", 0, 0, 0, 0, 0, 0);
		        ApplyAnimation(playerid, "FOOD", "EAT_Burger", 4.1, false, true, true, false, 1000, 1);
					}
					case 10:
					{ 
	 				    PC_EmulateCommand(playerid, "/banda");
					}
					case 11:
					{ 
	 				    PC_EmulateCommand(playerid, "/est");
					}
					case 12:
					{ 
	 				    PC_EmulateCommand(playerid, "/experiencia");
					}
					case 13:
					{ 
	 				    PC_EmulateCommand(playerid, "/actividades");
					}
					case 14:
					{ 
	 				    PC_EmulateCommand(playerid, "/logros");
					}
					case 15:
					{ 
	 				    PC_EmulateCommand(playerid, "/bolsillo");
					}
				}
			}
			return 1;
		}
		
		case DIALOG_COCA:
		{
			if(response)
			{
				switch(listitem)
				{
					case 0:
					{ 
	 				    ShowDialog(playerid, DIALOG_COCA_GUARDAR); 
					}
					case 1:
					{ 
					     ShowDialog(playerid, DIALOG_COCA_SACAR);
					}
				}
			}
			return 1;
		}
		
		case DIALOG_MARI:
		{
			if(response)
			{
				switch(listitem)
				{
					case 0:
					{ 
	 				    ShowDialog(playerid, DIALOG_MARI_GUARDAR); 
					}
					case 1:
					{ 
					     ShowDialog(playerid, DIALOG_MARI_SACAR);
					}
				}
			}
			return 1;
		}
		
		case DIALOG_MEDI:
		{
			if(response)
			{
				switch(listitem)
				{
					case 0:
					{ 
	 				    ShowDialog(playerid, DIALOG_MEDI_GUARDAR); 
					}
					case 1:
					{ 
					     ShowDialog(playerid, DIALOG_MEDI_SACAR);
					}
				}
			}
			return 1;
		}
		
		case DIALOG_MEDI_GUARDAR:
		{
			if(response)
			{
				new amount;

                if (sscanf(inputtext, "d", amount)) return ShowPlayerMessage(playerid, "Cantidad incorrecta.");
				if (amount <= 0 || amount > 10000000) return ShowPlayerMessage(playerid, "Cantidad incorrecta.");
				if(PI[playerid][pi_MEDICINE] < amount) return SendNotification(playerid, "No tienes esa cantidad de medicamentos");

				PI[playerid][pi_MEDICINE] -= amount; 
				PI[playerid][pi_DER_CANT] += amount;
				SendFormatNotification(playerid, "Guardaste ~g~%dg ~w~de medicamentos", amount); 
				Auto_SendPlayerAction(playerid, "Guarda medicamentos.");
			}
		}
		
		case DIALOG_MEDI_SACAR:
		{
			if(response)
			{
				new amount;

                if (sscanf(inputtext, "d", amount)) return ShowPlayerMessage(playerid, "Cantidad incorrecta.");
				if (amount <= 0 || amount > 10000000) return ShowPlayerMessage(playerid, "Cantidad incorrecta.");
				if(PI[playerid][pi_DER_CANT] < amount) return SendNotification(playerid, "No tienes esa cantidad de medicamentos");

				PI[playerid][pi_MEDICINE] += amount; 
				PI[playerid][pi_DER_CANT] -= amount;
				SendFormatNotification(playerid, "Sacaste ~g~%dg ~w~de medicamentos", amount);
				Auto_SendPlayerAction(playerid, "Saca medicamentos.");
			}
		}
		
		case DIALOG_MARI_GUARDAR:
		{
			if(response)
			{
				new amount;

                if (sscanf(inputtext, "d", amount)) return ShowPlayerMessage(playerid, "Cantidad incorrecta.");
				if (amount <= 0 || amount > 10000000) return ShowPlayerMessage(playerid, "Cantidad incorrecta.");
				if(PI[playerid][pi_CANNABIS] < amount) return SendNotification(playerid, "No tienes esa cantidad de marihuana");

				PI[playerid][pi_CANNABIS] -= amount; 
				PI[playerid][pi_DER_CANT] += amount;
				SendFormatNotification(playerid, "Guardaste ~g~%dg ~w~de marihuana", amount); 
				Auto_SendPlayerAction(playerid, "Guarda marihuana.");
			}
		}
		
		case DIALOG_MARI_SACAR:
		{
			if(response)
			{
				new amount;

                if (sscanf(inputtext, "d", amount)) return ShowPlayerMessage(playerid, "Cantidad incorrecta.");
				if (amount <= 0 || amount > 10000000) return ShowPlayerMessage(playerid, "Cantidad incorrecta.");
				if(PI[playerid][pi_DER_CANT] < amount) return SendNotification(playerid, "No tienes esa cantidad de marihuana");

				PI[playerid][pi_CANNABIS] += amount; 
				PI[playerid][pi_DER_CANT] -= amount;
				SendFormatNotification(playerid, "Sacaste ~g~%dg ~w~de marihuana", amount);
				Auto_SendPlayerAction(playerid, "Saca marihuana.");
			}
		}
		
		case DIALOG_COCA_GUARDAR:
		{
			if(response)
			{
				new amount;

                if (sscanf(inputtext, "d", amount)) return ShowPlayerMessage(playerid, "Cantidad incorrecta.");
				if (amount <= 0 || amount > 10000000) return ShowPlayerMessage(playerid, "Cantidad incorrecta.");
				if(PI[playerid][pi_CRACK] < amount) return SendNotification(playerid, "No tienes esa cantidad de crack");

				PI[playerid][pi_CRACK] -= amount; 
				PI[playerid][pi_DER_CANT] += amount;
				SendFormatNotification(playerid, "Guardaste ~g~%dg ~w~de cocaina", amount); 
				Auto_SendPlayerAction(playerid, "Guarda cocaina.");
			}
		}
		
		case DIALOG_COCA_SACAR:
		{
			if(response)
			{
				new amount;

                if (sscanf(inputtext, "d", amount)) return ShowPlayerMessage(playerid, "Cantidad incorrecta.");
				if (amount <= 0 || amount > 10000000) return ShowPlayerMessage(playerid, "Cantidad incorrecta.");
				if(PI[playerid][pi_DER_CANT] < amount) return SendNotification(playerid, "No tienes esa cantidad de crack");

				PI[playerid][pi_CRACK] += amount; 
				PI[playerid][pi_DER_CANT] -= amount;
				SendFormatNotification(playerid, "Sacaste ~g~%dg ~w~de cocaina", amount);
				Auto_SendPlayerAction(playerid, "Saca cocaina.");
			}
		}
		
		case DIALOG_WPD:
		{
			if(response)
			{
				switch(listitem)
				{
					case 0:
					{ 
	 				    if(4000 > PI[playerid][pi_CASH]) return SendNotification(playerid, "Dinero Insuficiente.");
			 		    new player_slot = GetEmptyInvSlot(playerid);
                         if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
                         new checki = 214;
                         PI[playerid][pi_BOL][player_slot] = checki;
                         PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
                         GivePlayerCash(playerid, -4000, true, true); 
                         SendNotification(playerid, "Compra ~g~exitosa.");
                         ShowDialog(playerid, DIALOG_WPD); 
                         OtorgarLogro(playerid, 18);
					}
					case 1:
					{ 
					     if(5000 > PI[playerid][pi_CASH]) return SendNotification(playerid, "Dinero Insuficiente.");
			 		    new player_slot = GetEmptyInvSlot(playerid);
                         if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
                         new checki = 215;
                         PI[playerid][pi_BOL][player_slot] = checki;
                         PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
                         GivePlayerCash(playerid, -5000, true, true);
                         SendNotification(playerid, "Compra ~g~exitosa.");
                         ShowDialog(playerid, DIALOG_WPD);
                         OtorgarLogro(playerid, 18);
					}
					case 2:
					{ 
					     if(5000 > PI[playerid][pi_CASH]) return SendNotification(playerid, "Dinero Insuficiente.");
			 		    new player_slot = GetEmptyInvSlot(playerid);
                         if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
                         new checki = 216;
                         PI[playerid][pi_BOL][player_slot] = checki;
                         PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
                         GivePlayerCash(playerid, -5000, true, true);
                         SendNotification(playerid, "Compra ~g~exitosa.");
                         ShowDialog(playerid, DIALOG_WPD);
                         OtorgarLogro(playerid, 18);
					}
					case 3:
					{ 
					     if(5000 > PI[playerid][pi_CASH]) return SendNotification(playerid, "Dinero Insuficiente.");
			 		    new player_slot = GetEmptyInvSlot(playerid);
                         if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
                         new checki = 217;
                         PI[playerid][pi_BOL][player_slot] = checki;
                         PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
                         GivePlayerCash(playerid, -5000, true, true);
                         SendNotification(playerid, "Compra ~g~exitosa.");
                         ShowDialog(playerid, DIALOG_WPD);
                         OtorgarLogro(playerid, 18);
					}
					case 4:
					{ 
					     if(8000 > PI[playerid][pi_CASH]) return SendNotification(playerid, "Dinero Insuficiente.");
			 		    new player_slot = GetEmptyInvSlot(playerid);
                         if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
                         new checki = 218;
                         PI[playerid][pi_BOL][player_slot] = checki;
                         PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
                         GivePlayerCash(playerid, -8000, true, true);
                         SendNotification(playerid, "Compra ~g~exitosa.");
                         ShowDialog(playerid, DIALOG_WPD);
                         OtorgarLogro(playerid, 18);
					}
					case 5:
					{ 
					     if(10000 > PI[playerid][pi_CASH]) return SendNotification(playerid, "Dinero Insuficiente.");
			 		    new player_slot = GetEmptyInvSlot(playerid);
                         if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
                         new checki = 219;
                         PI[playerid][pi_BOL][player_slot] = checki;
                         PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
                         GivePlayerCash(playerid, -10000, true, true);
                         SendNotification(playerid, "Compra ~g~exitosa.");
                         ShowDialog(playerid, DIALOG_WPD);
                         OtorgarLogro(playerid, 18);
					}
					case 6:
					{ 
					     if(5000 > PI[playerid][pi_CASH]) return SendNotification(playerid, "Dinero Insuficiente.");
			 		    new player_slot = GetEmptyInvSlot(playerid);
                         if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
                         new checki = 225;
                         PI[playerid][pi_BOL][player_slot] = checki;
                         PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
                         GivePlayerCash(playerid, -5000, true, true);
                         SendNotification(playerid, "Compra ~g~exitosa.");
                         ShowDialog(playerid, DIALOG_WPD);
                         OtorgarLogro(playerid, 18);
					}
					case 7:
					{ 
					     if(500 > PI[playerid][pi_CASH]) return SendNotification(playerid, "Dinero Insuficiente.");
			 		    new player_slot = GetEmptyInvSlot(playerid);
                         if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
                         new checki = 220;
                         PI[playerid][pi_BOL][player_slot] = checki;
                         PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
                         GivePlayerCash(playerid, -500, true, true);
                         SendNotification(playerid, "Compra ~g~exitosa.");
                         ShowDialog(playerid, DIALOG_WPD);
                         OtorgarLogro(playerid, 18);
					}
					case 8:
					{ 
					     if(500 > PI[playerid][pi_CASH]) return SendNotification(playerid, "Dinero Insuficiente.");
			 		    new player_slot = GetEmptyInvSlot(playerid);
                         if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
                         new checki = 221;
                         PI[playerid][pi_BOL][player_slot] = checki;
                         PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
                         GivePlayerCash(playerid, -500, true, true);
                         SendNotification(playerid, "Compra ~g~exitosa.");
                         ShowDialog(playerid, DIALOG_WPD);
                         OtorgarLogro(playerid, 18);
					}
					case 9:
					{ 
					     if(500 > PI[playerid][pi_CASH]) return SendNotification(playerid, "Dinero Insuficiente.");
			 		    new player_slot = GetEmptyInvSlot(playerid);
                         if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
                         new checki = 222;
                         PI[playerid][pi_BOL][player_slot] = checki;
                         PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
                         GivePlayerCash(playerid, -500, true, true);
                         SendNotification(playerid, "Compra ~g~exitosa.");
                         ShowDialog(playerid, DIALOG_WPD);
                         OtorgarLogro(playerid, 18);
					}
					case 10:
					{ 
					     if(500 > PI[playerid][pi_CASH]) return SendNotification(playerid, "Dinero Insuficiente.");
			 		    new player_slot = GetEmptyInvSlot(playerid);
                         if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
                         new checki = 223;
                         PI[playerid][pi_BOL][player_slot] = checki;
                         PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
                         GivePlayerCash(playerid, -500, true, true);
                         SendNotification(playerid, "Compra ~g~exitosa.");
                         ShowDialog(playerid, DIALOG_WPD);
                         OtorgarLogro(playerid, 18);
					}
					case 11:
					{ 
					     if(500 > PI[playerid][pi_CASH]) return SendNotification(playerid, "Dinero Insuficiente.");
			 		    new player_slot = GetEmptyInvSlot(playerid);
                         if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
                         new checki = 224;
                         PI[playerid][pi_BOL][player_slot] = checki;
                         PI[playerid][pi_BOL_CANT][player_slot] = 1;
                         GivePlayerCash(playerid, -500, true, true);
                         SendNotification(playerid, "Compra ~g~exitosa.");
                         ShowDialog(playerid, DIALOG_WPD);
                         OtorgarLogro(playerid, 18);
					}
				}
			}
			return 1;
		}
		
		case DIALOG_B1:
		{
			if(response)
			{
				switch(listitem)
				{
					case 0:
					{ 
					     new precio = 2000;
	 				    if(PI[playerid][pi_MANO_DER] != 177) return SendNotification(playerid, "No tienes dinero negro en tu mano."); 
                     	if(PI[playerid][pi_DER_CANT] < precio) return SendNotification(playerid, "Dinero negro insuficiente.");
			 		    new player_slot = GetEmptyInvSlot(playerid);
                         if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
                         new checki = 19;
                         PI[playerid][pi_BOL][player_slot] = checki;
                         PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
                         PI[playerid][pi_DER_CANT] -= precio;
                         SendNotification(playerid, "Compra ~g~exitosa.");
                         OtorgarLogro(playerid, 18);
					}
					case 1:
					{ 
					     new precio = 5000;
	 				    if(PI[playerid][pi_MANO_DER] != 177) return SendNotification(playerid, "No tienes dinero negro en tu mano."); 
                     	if(PI[playerid][pi_DER_CANT] < precio) return SendNotification(playerid, "Dinero negro insuficiente.");
			 		    new player_slot = GetEmptyInvSlot(playerid);
                         if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
                         new checki = 22;
                         PI[playerid][pi_BOL][player_slot] = checki;
                         PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
                         PI[playerid][pi_DER_CANT] -= precio;
                         SendNotification(playerid, "Compra ~g~exitosa.");
                         OtorgarLogro(playerid, 18);
					}
					case 2:
					{ 
					     new precio = 2000;
	 				    if(PI[playerid][pi_MANO_DER] != 177) return SendNotification(playerid, "No tienes dinero negro en tu mano."); 
                     	if(PI[playerid][pi_DER_CANT] < precio) return SendNotification(playerid, "Dinero negro insuficiente.");
			 		    new player_slot = GetEmptyInvSlot(playerid);
                         if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
                         new checki = 39;
                         PI[playerid][pi_BOL][player_slot] = checki;
                         PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
                         PI[playerid][pi_DER_CANT] -= precio;
                         SendNotification(playerid, "Compra ~g~exitosa.");
                         OtorgarLogro(playerid, 18);
					}
					case 3:
					{
					     new precio = 2000;
	 				    if(PI[playerid][pi_MANO_DER] != 177) return SendNotification(playerid, "No tienes dinero negro en tu mano."); 
                     	if(PI[playerid][pi_DER_CANT] < precio) return SendNotification(playerid, "Dinero negro insuficiente.");
			 		    new player_slot = GetEmptyInvSlot(playerid);
                         if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
                         new checki = 50;
                         PI[playerid][pi_BOL][player_slot] = checki;
                         PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
                         PI[playerid][pi_DER_CANT] -= precio;
                         SendNotification(playerid, "Compra ~g~exitosa.");
                         OtorgarLogro(playerid, 18);
					}
				}
			}
			return 1;
		}
		
		case DIALOG_B2:
		{
			if(response)
			{
				switch(listitem)
				{
					case 0:
					{ 
					     new precio = 12000;
	 				    if(PI[playerid][pi_MANO_DER] != 177) return SendNotification(playerid, "No tienes dinero negro en tu mano."); 
                     	if(PI[playerid][pi_DER_CANT] < precio) return SendNotification(playerid, "Dinero negro insuficiente.");
			 		    new player_slot = GetEmptyInvSlot(playerid);
                         if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
                         new checki = 21;
                         PI[playerid][pi_BOL][player_slot] = checki;
                         PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
                         PI[playerid][pi_DER_CANT] -= precio;
                         SendNotification(playerid, "Compra ~g~exitosa.");
                         OtorgarLogro(playerid, 18);
					}
					case 1:
					{ 
					     new precio = 15000;
	 				    if(PI[playerid][pi_MANO_DER] != 177) return SendNotification(playerid, "No tienes dinero negro en tu mano."); 
                     	if(PI[playerid][pi_DER_CANT] < precio) return SendNotification(playerid, "Dinero negro insuficiente.");
			 		    new player_slot = GetEmptyInvSlot(playerid);
                         if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
                         new checki = 24;
                         PI[playerid][pi_BOL][player_slot] = checki;
                         PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
                         PI[playerid][pi_DER_CANT] -= precio;
                         SendNotification(playerid, "Compra ~g~exitosa.");
                         OtorgarLogro(playerid, 18);
					}
					case 2:
					{ 
					     new precio = 2000;
	 				    if(PI[playerid][pi_MANO_DER] != 177) return SendNotification(playerid, "No tienes dinero negro en tu mano."); 
                     	if(PI[playerid][pi_DER_CANT] < precio) return SendNotification(playerid, "Dinero negro insuficiente.");
			 		    new player_slot = GetEmptyInvSlot(playerid);
                         if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
                         new checki = 40;
                         PI[playerid][pi_BOL][player_slot] = checki;
                         PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
                         PI[playerid][pi_DER_CANT] -= precio;
                         SendNotification(playerid, "Compra ~g~exitosa.");
                         OtorgarLogro(playerid, 18);
					}
					case 3:
					{
					     new precio = 2000;
	 				    if(PI[playerid][pi_MANO_DER] != 177) return SendNotification(playerid, "No tienes dinero negro en tu mano."); 
                     	if(PI[playerid][pi_DER_CANT] < precio) return SendNotification(playerid, "Dinero negro insuficiente.");
			 		    new player_slot = GetEmptyInvSlot(playerid);
                         if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
                         new checki = 50;
                         PI[playerid][pi_BOL][player_slot] = checki;
                         PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
                         PI[playerid][pi_DER_CANT] -= precio;
                         SendNotification(playerid, "Compra ~g~exitosa.");
                         OtorgarLogro(playerid, 18);
					}
				}
			}
			return 1;
		}
		
		case DIALOG_B3:
		{
			if(response)
			{
				switch(listitem)
				{
					case 0:
					{ 
					     new precio = 15000;
	 				    if(PI[playerid][pi_MANO_DER] != 177) return SendNotification(playerid, "No tienes dinero negro en tu mano."); 
                     	if(PI[playerid][pi_DER_CANT] < precio) return SendNotification(playerid, "Dinero negro insuficiente.");
			 		    new player_slot = GetEmptyInvSlot(playerid);
                         if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
                         new checki = 26;
                         PI[playerid][pi_BOL][player_slot] = checki;
                         PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
                         PI[playerid][pi_DER_CANT] -= precio;
                         SendNotification(playerid, "Compra ~g~exitosa.");
                         OtorgarLogro(playerid, 18);
					}
					case 1:
					{ 
					     new precio = 15000;
	 				    if(PI[playerid][pi_MANO_DER] != 177) return SendNotification(playerid, "No tienes dinero negro en tu mano."); 
                     	if(PI[playerid][pi_DER_CANT] < precio) return SendNotification(playerid, "Dinero negro insuficiente.");
			 		    new player_slot = GetEmptyInvSlot(playerid);
                         if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
                         new checki = 25;
                         PI[playerid][pi_BOL][player_slot] = checki;
                         PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
                         PI[playerid][pi_DER_CANT] -= precio;
                         SendNotification(playerid, "Compra ~g~exitosa.");
                         OtorgarLogro(playerid, 18);
					}
					case 2:
					{ 
					     new precio = 2000;
	 				    if(PI[playerid][pi_MANO_DER] != 177) return SendNotification(playerid, "No tienes dinero negro en tu mano."); 
                     	if(PI[playerid][pi_DER_CANT] < precio) return SendNotification(playerid, "Dinero negro insuficiente.");
			 		    new player_slot = GetEmptyInvSlot(playerid);
                         if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
                         new checki = 41;
                         PI[playerid][pi_BOL][player_slot] = checki;
                         PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
                         PI[playerid][pi_DER_CANT] -= precio;
                         SendNotification(playerid, "Compra ~g~exitosa.");
                         OtorgarLogro(playerid, 18);
					}
					case 3:
					{
					     new precio = 2000;
	 				    if(PI[playerid][pi_MANO_DER] != 177) return SendNotification(playerid, "No tienes dinero negro en tu mano."); 
                     	if(PI[playerid][pi_DER_CANT] < precio) return SendNotification(playerid, "Dinero negro insuficiente.");
			 		    new player_slot = GetEmptyInvSlot(playerid);
                         if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
                         new checki = 42;
                         PI[playerid][pi_BOL][player_slot] = checki;
                         PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
                         PI[playerid][pi_DER_CANT] -= precio;
                         SendNotification(playerid, "Compra ~g~exitosa.");
                         OtorgarLogro(playerid, 18);
					}
					case 4:
					{
					     new precio = 9000;
	 				    if(PI[playerid][pi_MANO_DER] != 177) return SendNotification(playerid, "No tienes dinero negro en tu mano."); 
                     	if(PI[playerid][pi_DER_CANT] < precio) return SendNotification(playerid, "Dinero negro insuficiente.");
			 		    new player_slot = GetEmptyInvSlot(playerid);
                         if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
                         new checki = 233;
                         PI[playerid][pi_BOL][player_slot] = checki;
                         PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
                         PI[playerid][pi_DER_CANT] -= precio;
                         SendNotification(playerid, "Compra ~g~exitosa.");
                         OtorgarLogro(playerid, 18);
					}
				}
			}
			return 1;
		}
		
		case DIALOG_B4:
		{
			if(response)
			{
				switch(listitem)
				{
					case 0:
					{ 
					     new precio = 27000;
	 				    if(PI[playerid][pi_MANO_DER] != 177) return SendNotification(playerid, "No tienes dinero negro en tu mano."); 
                     	if(PI[playerid][pi_DER_CANT] < precio) return SendNotification(playerid, "Dinero negro insuficiente.");
			 		    new player_slot = GetEmptyInvSlot(playerid);
                         if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
                         new checki = 28;
                         PI[playerid][pi_BOL][player_slot] = checki;
                         PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
                         PI[playerid][pi_DER_CANT] -= precio;
                         SendNotification(playerid, "Compra ~g~exitosa.");
                         OtorgarLogro(playerid, 18);
					}
					case 1:
					{ 
					     new precio = 25000;
	 				    if(PI[playerid][pi_MANO_DER] != 177) return SendNotification(playerid, "No tienes dinero negro en tu mano."); 
                     	if(PI[playerid][pi_DER_CANT] < precio) return SendNotification(playerid, "Dinero negro insuficiente.");
			 		    new player_slot = GetEmptyInvSlot(playerid);
                         if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
                         new checki = 27;
                         PI[playerid][pi_BOL][player_slot] = checki;
                         PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
                         PI[playerid][pi_DER_CANT] -= precio;
                         SendNotification(playerid, "Compra ~g~exitosa.");
                         OtorgarLogro(playerid, 18);
					}
					case 2:
					{ 
					     new precio = 5000;
	 				    if(PI[playerid][pi_MANO_DER] != 177) return SendNotification(playerid, "No tienes dinero negro en tu mano."); 
                     	if(PI[playerid][pi_DER_CANT] < precio) return SendNotification(playerid, "Dinero negro insuficiente.");
			 		    new player_slot = GetEmptyInvSlot(playerid);
                         if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
                         new checki = 45;
                         PI[playerid][pi_BOL][player_slot] = checki;
                         PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
                         PI[playerid][pi_DER_CANT] -= precio;
                         SendNotification(playerid, "Compra ~g~exitosa.");
                         OtorgarLogro(playerid, 18);
					}
					case 3:
					{
					     new precio = 5000;
	 				    if(PI[playerid][pi_MANO_DER] != 177) return SendNotification(playerid, "No tienes dinero negro en tu mano."); 
                     	if(PI[playerid][pi_DER_CANT] < precio) return SendNotification(playerid, "Dinero negro insuficiente.");
			 		    new player_slot = GetEmptyInvSlot(playerid);
                         if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
                         new checki = 44;
                         PI[playerid][pi_BOL][player_slot] = checki;
                         PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
                         PI[playerid][pi_DER_CANT] -= precio;
                         SendNotification(playerid, "Compra ~g~exitosa.");
                         OtorgarLogro(playerid, 18);
					}
				}
			}
			return 1;
		}
		
		case DIALOG_REGISTER:
		{
			if(response)
			{
				if(strlen(inputtext) < MIN_PASS_LENGTH || strlen(inputtext) > MAX_PASS_LENGTH) return ShowDialog(playerid, dialogid);
				format(PLAYER_TEMP[playerid][pt_PASSWD], 24, "%s", inputtext);

				new salt[16];
				getRandomSalt(salt);
				format(PI[playerid][pi_SALT], 16, "%s", salt);
				SHA256_PassHash(inputtext, PI[playerid][pi_SALT], PI[playerid][pi_PASS], 64 + 1);
				ShowDialog(playerid, DIALOG_REGISTER_EMAIL);
			}
			else Kick(playerid);
			return 1;
		}
		case DIALOG_LOGIN:
		{
			if(response)
			{
				inline OnPlayerDataLoad()
				{
					new rows;
					if(cache_get_row_count(rows))
					{
						if(rows)
						{
							new bool:isnull_crew;
							cache_get_value_name(0, "reg_date", PI[playerid][pi_REG_DATE], 24);
							cache_get_value_name(0, "last_connection", PI[playerid][pi_LAST_CONNECTION], 24);
							cache_get_value_name_int(0, "last_connection_timestamp", PI[playerid][pi_LAST_CONNECTION_TIMESTAMP]);
							cache_get_value_name_int(0, "time_playing", PI[playerid][pi_TIME_PLAYING]);
							cache_get_value_name_int(0, "level", PI[playerid][pi_LEVEL]);
							cache_get_value_name_int(0, "rep", PI[playerid][pi_REP]);
							cache_get_value_name_int(0, "doubt_channel", PI[playerid][pi_DOUBT_CHANNEL]);
							cache_get_value_name_int(0, "twitter_channel", PI[playerid][pi_DOUBT_CHANNEL]);
							cache_get_value_name_int(0, "time_for_rep", PI[playerid][pi_TIME_FOR_REP]);
							cache_get_value_name_int(0, "admin_level", PI[playerid][pi_ADMIN_LEVEL]);
							cache_get_value_name_int(0, "payday_rep", PI[playerid][pi_PAYDAY_REP]);
							cache_get_value_name_int(0, "vip", PI[playerid][pi_VIP]);
							cache_get_value_name(0, "vip_expire_date", PI[playerid][pi_VIP_EXPIRE_DATE], 24);
							cache_get_value_name_int(0, "coins", PI[playerid][pi_COINS]);
							cache_get_value_name_int(0, "DineroBlack", PI[playerid][pi_BLACK]);
							cache_get_value_name_int(0, "skin", PI[playerid][pi_SKIN]);
							cache_get_value_name_int(0, "cash", PI[playerid][pi_CASH]);
							cache_get_value_name_float(0, "pos_x", PI[playerid][pi_POS_X]);
							cache_get_value_name_float(0, "pos_y", PI[playerid][pi_POS_Y]);
							cache_get_value_name_float(0, "pos_z", PI[playerid][pi_POS_Z]);
							cache_get_value_name_float(0, "angle", PI[playerid][pi_ANGLE]);
							cache_get_value_name_int(0, "state", PI[playerid][pi_STATE]);
							cache_get_value_name_int(0, "interior", PI[playerid][pi_INTERIOR]);
							cache_get_value_name_int(0, "local_interior", PI[playerid][pi_LOCAL_INTERIOR]);
							cache_get_value_name_int(0, "fight_style", PI[playerid][pi_FIGHT_STYLE]);
							cache_get_value_name_float(0, "health", PI[playerid][pi_HEALTH]);
							cache_get_value_name_float(0, "armour", PI[playerid][pi_ARMOUR]);
							cache_get_value_name_int(0, "gender", PI[playerid][pi_GENDER]);
							cache_get_value_name_float(0, "hungry", PI[playerid][pi_HUNGRY]);
							cache_get_value_name_float(0, "thirst", PI[playerid][pi_THIRST]);
							cache_get_value_name_int(0, "black_market_level", PI[playerid][pi_BLACK_MARKET_LEVEL]);
							cache_get_value_name_int(0, "wanted_level", PI[playerid][pi_WANTED_LEVEL]);
							cache_get_value_name_int(0, "police_jail_time", PI[playerid][pi_POLICE_JAIL_TIME]);
							cache_get_value_name_int(0, "police_duty", PI[playerid][pi_POLICE_DUTY]);
							cache_get_value_name_int(0, "police_jail_id", PI[playerid][pi_POLICE_JAIL_ID]);
							cache_get_value_name_int(0, "drive_license_points", PI[playerid][pi_DRIVE_LICENSE_POINTS]);
							cache_get_value_name_int(0, "bank_account", PI[playerid][pi_BANK_ACCOUNT]);
							cache_get_value_name_int(0, "bank_money", PI[playerid][pi_BANK_MONEY]);
							cache_get_value_name_int(0, "phone_number", PI[playerid][pi_PHONE_NUMBER]);
							cache_get_value_name_int(0, "phone_state", PI[playerid][pi_PHONE_STATE]);
							cache_get_value_name_int(0, "phone_visible_number", PI[playerid][pi_PHONE_VISIBLE_NUMBER]);
							cache_get_value_name_int(0, "gps", PI[playerid][pi_GPS]);
							cache_get_value_name_int(0, "mp3", PI[playerid][pi_MP3]);
							cache_get_value_name_int(0, "phone_resolver", PI[playerid][pi_PHONE_RESOLVER]);
							cache_get_value_name_int(0, "speakers", PI[playerid][pi_SPEAKERS]);
							cache_get_value_name_int(0, "mechanic_pieces", PI[playerid][pi_MECHANIC_PIECES]);
							cache_get_value_name_int(0, "fuel_drum", PI[playerid][pi_FUEL_DRUM]);
							cache_get_value_name_int(0, "seed_medicine", PI[playerid][pi_SEED_MEDICINE]);
							cache_get_value_name_int(0, "seed_cannabis", PI[playerid][pi_SEED_CANNABIS]);
							cache_get_value_name_int(0, "seed_crack", PI[playerid][pi_SEED_CRACK]);
							cache_get_value_name_int(0, "medicine", PI[playerid][pi_MEDICINE]);
							cache_get_value_name_int(0, "cannabis", PI[playerid][pi_CANNABIS]);
							cache_get_value_name_int(0, "crack", PI[playerid][pi_CRACK]);
							cache_get_value_name_int(0, "mpack50", PI[playerid][pi_MPACK50]);
							cache_get_value_name_int(0, "mpack100", PI[playerid][pi_MPACK100]);
							cache_get_value_name_int(0, "cpack50", PI[playerid][pi_CPACK50]);
							cache_get_value_name_int(0, "cpack100", PI[playerid][pi_CPACK100]);
							cache_get_value_name_int(0, "dpack50", PI[playerid][pi_DPACK50]);
							cache_get_value_name_int(0, "dpack100", PI[playerid][pi_DPACK100]);
							cache_get_value_name_int(0, "config_sounds", PI[playerid][pi_CONFIG_SOUNDS]);
							cache_get_value_name_int(0, "config_audio", PI[playerid][pi_CONFIG_AUDIO]);
							cache_get_value_name_int(0, "config_time", PI[playerid][pi_CONFIG_TIME]);
							cache_get_value_name_int(0, "config_hud", PI[playerid][pi_CONFIG_HUD]);
							cache_get_value_name_int(0, "config_admin", PI[playerid][pi_CONFIG_ADMIN]);
							cache_get_value_name_int(0, "config_secure_login", PI[playerid][pi_CONFIG_SECURE_LOGIN]);
							cache_get_value_name_int(0, "mute", PI[playerid][pi_MUTE]);
							cache_get_value_name_int(0, "mutear_twitter", PI[playerid][pi_MUTE_TWITTER]);
							cache_get_value_name_int(0, "placa_pd", PI[playerid][pi_PLACA_PD]);
							cache_get_value_name_int(0, "placa_sm", PI[playerid][pi_PLACA_SM]);
							cache_get_value_name_int(0, "can_buy_bm", PI[playerid][pi_CAN_BUY_BM]);
							cache_is_value_name_null(0, "crew", isnull_crew);
							if(!isnull_crew) cache_get_value_name_int(0, "crew", PI[playerid][pi_CREW]);
							cache_get_value_name_int(0, "crew_rank", PI[playerid][pi_CREW_RANK]);
							cache_get_value_name_int(0, "mechanic_kits", PI[playerid][pi_MECHANIC_KITS]);
							cache_get_value_name_int(0, "medical_kits", PI[playerid][pi_MEDICAL_KITS]);
							cache_get_value_name_int(0, "cuchillo", PI[playerid][pi_CUCHILLO]);
							cache_get_value_name_int(0, "mochila", PI[playerid][pi_GANZUAS]);
							cache_get_value_name_int(0, "materiales", PI[playerid][pi_MATERIALES]); 
							cache_get_value_name_int(0, "cheat", PI[playerid][pi_CHEAT]); 
							cache_get_value_name_int(0, "kana", PI[playerid][pi_KANA]); 
							cache_get_value_name_int(0, "A1", PI[playerid][pi_A1]); 
							cache_get_value_name_int(0, "A2", PI[playerid][pi_A2]);
							cache_get_value_name_int(0, "A3", PI[playerid][pi_A3]);
							cache_get_value_name_int(0, "A4", PI[playerid][pi_A4]);
							cache_get_value_name_int(0, "A5", PI[playerid][pi_A5]);
							cache_get_value_name_int(0, "A6", PI[playerid][pi_A6]);
							cache_get_value_name_int(0, "A7", PI[playerid][pi_A7]);
							cache_get_value_name_int(0, "A8", PI[playerid][pi_A8]);
							cache_get_value_name_int(0, "A9", PI[playerid][pi_A9]);
							cache_get_value_name_int(0, "A10", PI[playerid][pi_A10]);
							cache_get_value_name_int(0, "kills", PI[playerid][pi_KILLS]);
							cache_get_value_name_int(0, "mascara", PI[playerid][pi_MASK]);
							CallLocalFunction("OnPlayerLogin", "i", playerid);
						}
						else Kick(playerid);
					}
					else Kick(playerid);
				}
				
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT * FROM player WHERE id = %d;", PI[playerid][pi_ID]);
				mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnPlayerDataLoad);
			}
			else Kick(playerid);
			return 1;
		}

		case DIALOG_TAXI_GPS:
		{
		if(response)
		{
		switch (listitem)
		{
			case 0:
			{
				ShowDialog(playerid, DIALOG_CLIENTES_GPS);
			}
			case 1:
			{
				ShowDialog(playerid, DIALOG_TARIFA_GPS);
			}
			}
			}	
		return 1;
		}

		
	

		case DIALOG_REGISTER_EMAIL:
		{
			if(!response) return Kick(playerid);

			new mail[32];
			format(mail, 32, "%s", inputtext);
			if(!IsValidEmail(mail))
			{
				ShowPlayerMessage(playerid, "Correo no valido.", 2);
				ShowDialog(playerid, DIALOG_REGISTER_EMAIL);
				return 1;
			}

			inline OnCheckEmail()
			{
				new rows;
				if(cache_get_row_count(rows))
				{
					if(rows)
					{
						ShowPlayerMessage(playerid, "Este correco electrónico ya esta en uso, use otro distinto.", 2);
						ShowDialog(playerid, dialogid);
					}
					else
					{
						format(PI[playerid][pi_EMAIL], 32, "%s", mail);
						ShowDialog(playerid, DIALOG_GENDER);
					}
				}
				else Kick(playerid);
			}
			mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT id FROM player WHERE email = '%e';", mail);
			mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnCheckEmail);
			return 1;
		}
		case DIALOG_GENDER:
		{
			if(response)
			{
				PI[playerid][pi_SKIN] = 250;
				PI[playerid][pi_GENDER] = SEX_MALE;
				SendNotification(playerid, "Seleccionaste sexo: ~g~Hombre");	
			}
			else
			{
				PI[playerid][pi_SKIN] = 193;
				PI[playerid][pi_GENDER] = SEX_FEMALE;
				SendNotification(playerid, "Seleccionaste sexo: ~g~Mujer");
			}
			SetPlayerSkin(playerid, PI[playerid][pi_SKIN]);
		    // Spawn
			SetPlayerScore(playerid, PI[playerid][pi_LEVEL]);
		    PLAYER_TEMP[playerid][pt_DOUBT_CHANNEL_TIME] = gettime();
			PLAYER_TEMP[playerid][pt_TWITTER_CHANNEL_TIME] = gettime();
			ResetPlayerWeapons(playerid);
			ResetPlayerMoney(playerid);
			GivePlayerMoney(playerid, PI[playerid][pi_CASH]);
			SetPlayerFightingStyle(playerid, PI[playerid][pi_FIGHT_STYLE]); 
			SetPlayerHealthEx(playerid, PI[playerid][pi_HEALTH]);
			SetPlayerArmourEx(playerid, PI[playerid][pi_ARMOUR]);
		    SetPlayerVirtualWorld(playerid, 0);
		    SetSpawnInfo(playerid, NO_TEAM, PI[playerid][pi_SKIN], PI[playerid][pi_POS_X], PI[playerid][pi_POS_Y], PI[playerid][pi_POS_Z], PI[playerid][pi_ANGLE], 0, 0, 0, 0, 0, 0);
			SetPlayerInterior(playerid, PI[playerid][pi_INTERIOR]);
			 //
		    RegisterNewPlayer(playerid);
			return 1;
		}
		case DIALOG_LOGINIP:
		{
			if(!response) return Kick(playerid);
			if(!strlen(inputtext)) return ShowDialog(playerid, dialogid);

			new password[64 + 1];
			SHA256_PassHash(inputtext, PI[playerid][pi_SALT], password, sizeof password);
			if(!strcmp(password, PI[playerid][pi_PASS], false))
			{
				inline OnPlayerDataLoad()
				{
					new rows;
					if(cache_get_row_count(rows))
					{
						if(rows)
						{
							new bool:isnull_crew;
							cache_get_value_name(0, "reg_date", PI[playerid][pi_REG_DATE], 24);
							cache_get_value_name(0, "last_connection", PI[playerid][pi_LAST_CONNECTION], 24);
							cache_get_value_name_int(0, "last_connection_timestamp", PI[playerid][pi_LAST_CONNECTION_TIMESTAMP]);
							cache_get_value_name_int(0, "time_playing", PI[playerid][pi_TIME_PLAYING]);
							cache_get_value_name_int(0, "level", PI[playerid][pi_LEVEL]);
							cache_get_value_name_int(0, "rep", PI[playerid][pi_REP]);
							cache_get_value_name_int(0, "doubt_channel", PI[playerid][pi_DOUBT_CHANNEL]);
							cache_get_value_name_int(0, "twitter_channel", PI[playerid][pi_DOUBT_CHANNEL]);
							cache_get_value_name_int(0, "time_for_rep", PI[playerid][pi_TIME_FOR_REP]);
							cache_get_value_name_int(0, "admin_level", PI[playerid][pi_ADMIN_LEVEL]);
							cache_get_value_name_int(0, "payday_rep", PI[playerid][pi_PAYDAY_REP]);
							cache_get_value_name_int(0, "vip", PI[playerid][pi_VIP]);
							cache_get_value_name(0, "vip_expire_date", PI[playerid][pi_VIP_EXPIRE_DATE], 24);
							cache_get_value_name_int(0, "coins", PI[playerid][pi_COINS]);
							cache_get_value_name_int(0, "DineroBlack", PI[playerid][pi_BLACK]);
							cache_get_value_name_int(0, "skin", PI[playerid][pi_SKIN]);
							cache_get_value_name_int(0, "cash", PI[playerid][pi_CASH]);
							cache_get_value_name_float(0, "pos_x", PI[playerid][pi_POS_X]);
							cache_get_value_name_float(0, "pos_y", PI[playerid][pi_POS_Y]);
							cache_get_value_name_float(0, "pos_z", PI[playerid][pi_POS_Z]);
							cache_get_value_name_float(0, "angle", PI[playerid][pi_ANGLE]);
							cache_get_value_name_int(0, "state", PI[playerid][pi_STATE]);
							cache_get_value_name_int(0, "interior", PI[playerid][pi_INTERIOR]);
							cache_get_value_name_int(0, "local_interior", PI[playerid][pi_LOCAL_INTERIOR]);
							cache_get_value_name_int(0, "fight_style", PI[playerid][pi_FIGHT_STYLE]);
							cache_get_value_name_float(0, "health", PI[playerid][pi_HEALTH]);
							cache_get_value_name_float(0, "armour", PI[playerid][pi_ARMOUR]);
							cache_get_value_name_int(0, "gender", PI[playerid][pi_GENDER]);
							cache_get_value_name_float(0, "hungry", PI[playerid][pi_HUNGRY]);
							cache_get_value_name_float(0, "thirst", PI[playerid][pi_THIRST]);
							cache_get_value_name_int(0, "black_market_level", PI[playerid][pi_BLACK_MARKET_LEVEL]);
							cache_get_value_name_int(0, "wanted_level", PI[playerid][pi_WANTED_LEVEL]);
							cache_get_value_name_int(0, "police_jail_time", PI[playerid][pi_POLICE_JAIL_TIME]);
							cache_get_value_name_int(0, "police_duty", PI[playerid][pi_POLICE_DUTY]);
							cache_get_value_name_int(0, "police_jail_id", PI[playerid][pi_POLICE_JAIL_ID]);
							cache_get_value_name_int(0, "drive_license_points", PI[playerid][pi_DRIVE_LICENSE_POINTS]);
							cache_get_value_name_int(0, "bank_account", PI[playerid][pi_BANK_ACCOUNT]);
							cache_get_value_name_int(0, "bank_money", PI[playerid][pi_BANK_MONEY]);
							cache_get_value_name_int(0, "phone_number", PI[playerid][pi_PHONE_NUMBER]);
							cache_get_value_name_int(0, "phone_state", PI[playerid][pi_PHONE_STATE]);
							cache_get_value_name_int(0, "phone_visible_number", PI[playerid][pi_PHONE_VISIBLE_NUMBER]);
							cache_get_value_name_int(0, "gps", PI[playerid][pi_GPS]);
							cache_get_value_name_int(0, "mp3", PI[playerid][pi_MP3]);
							cache_get_value_name_int(0, "phone_resolver", PI[playerid][pi_PHONE_RESOLVER]);
							cache_get_value_name_int(0, "speakers", PI[playerid][pi_SPEAKERS]);
							cache_get_value_name_int(0, "mechanic_pieces", PI[playerid][pi_MECHANIC_PIECES]);
							cache_get_value_name_int(0, "fuel_drum", PI[playerid][pi_FUEL_DRUM]);
							cache_get_value_name_int(0, "seed_medicine", PI[playerid][pi_SEED_MEDICINE]);
							cache_get_value_name_int(0, "seed_cannabis", PI[playerid][pi_SEED_CANNABIS]);
							cache_get_value_name_int(0, "seed_crack", PI[playerid][pi_SEED_CRACK]);
							cache_get_value_name_int(0, "medicine", PI[playerid][pi_MEDICINE]);
							cache_get_value_name_int(0, "cannabis", PI[playerid][pi_CANNABIS]);
							cache_get_value_name_int(0, "crack", PI[playerid][pi_CRACK]);
							cache_get_value_name_int(0, "mpack50", PI[playerid][pi_MPACK50]);
							cache_get_value_name_int(0, "mpack100", PI[playerid][pi_MPACK100]);
							cache_get_value_name_int(0, "cpack50", PI[playerid][pi_CPACK50]);
							cache_get_value_name_int(0, "cpack100", PI[playerid][pi_CPACK100]);
							cache_get_value_name_int(0, "dpack50", PI[playerid][pi_DPACK50]);
							cache_get_value_name_int(0, "dpack100", PI[playerid][pi_DPACK100]);
							cache_get_value_name_int(0, "config_sounds", PI[playerid][pi_CONFIG_SOUNDS]);
							cache_get_value_name_int(0, "config_audio", PI[playerid][pi_CONFIG_AUDIO]);
							cache_get_value_name_int(0, "config_time", PI[playerid][pi_CONFIG_TIME]);
							cache_get_value_name_int(0, "config_hud", PI[playerid][pi_CONFIG_HUD]);
							cache_get_value_name_int(0, "config_admin", PI[playerid][pi_CONFIG_ADMIN]);
							cache_get_value_name_int(0, "config_secure_login", PI[playerid][pi_CONFIG_SECURE_LOGIN]);
							cache_get_value_name_int(0, "mute", PI[playerid][pi_MUTE]);
							cache_get_value_name_int(0, "mutear_twitter", PI[playerid][pi_MUTE_TWITTER]);
							cache_get_value_name_int(0, "placa_pd", PI[playerid][pi_PLACA_PD]);
							cache_get_value_name_int(0, "placa_sm", PI[playerid][pi_PLACA_SM]);
							cache_get_value_name_int(0, "can_buy_bm", PI[playerid][pi_CAN_BUY_BM]);
							cache_is_value_name_null(0, "crew", isnull_crew);
							if(!isnull_crew) cache_get_value_name_int(0, "crew", PI[playerid][pi_CREW]);
							cache_get_value_name_int(0, "crew_rank", PI[playerid][pi_CREW_RANK]);
							cache_get_value_name_int(0, "mechanic_kits", PI[playerid][pi_MECHANIC_KITS]);
							cache_get_value_name_int(0, "medical_kits", PI[playerid][pi_MEDICAL_KITS]);
							cache_get_value_name_int(0, "cuchillo", PI[playerid][pi_CUCHILLO]);
							cache_get_value_name_int(0, "mochila", PI[playerid][pi_GANZUAS]);
							cache_get_value_name_int(0, "materiales", PI[playerid][pi_MATERIALES]);
							cache_get_value_name_int(0, "mascara", PI[playerid][pi_MASK]);
							cache_get_value_name_int(0, "manoizq", PI[playerid][pi_MANO_IZQ]);
							cache_get_value_name_int(0, "manoizqcant", PI[playerid][pi_IZQ_CANT]);
							cache_get_value_name_int(0, "manoder", PI[playerid][pi_MANO_DER]);
							cache_get_value_name_int(0, "manodercant", PI[playerid][pi_DER_CANT]); 
							cache_get_value_name_int(0, "cheat", PI[playerid][pi_CHEAT]); 
							cache_get_value_name_int(0, "kana", PI[playerid][pi_KANA]);
							cache_get_value_name_int(0, "A1", PI[playerid][pi_A1]); 
							cache_get_value_name_int(0, "A2", PI[playerid][pi_A2]);
							cache_get_value_name_int(0, "A3", PI[playerid][pi_A3]);
							cache_get_value_name_int(0, "A4", PI[playerid][pi_A4]);
							cache_get_value_name_int(0, "A5", PI[playerid][pi_A5]);
							cache_get_value_name_int(0, "A6", PI[playerid][pi_A6]);
							cache_get_value_name_int(0, "A7", PI[playerid][pi_A7]);
							cache_get_value_name_int(0, "A8", PI[playerid][pi_A8]);
							cache_get_value_name_int(0, "A9", PI[playerid][pi_A9]);
							cache_get_value_name_int(0, "A10", PI[playerid][pi_A10]);
							cache_get_value_name_int(0, "kills", PI[playerid][pi_KILLS]);

							new stringdado[128];
							for(new x = 0; x<MAX_SLOTS_INV; x++)
							{
								format(stringdado, 128, "bol%d",x);
								cache_get_value_name_int(0, stringdado, PI[playerid][pi_BOL][x]);
								//PonerObjeto(playerid, 3, x);
							}
							new stringdado2[128];
							for(new x = 0; x<MAX_SLOTS_INV; x++)
							{
								format(stringdado2, 128, "bolcant%d",x);
								cache_get_value_name_int(0, stringdado2, PI[playerid][pi_BOL_CANT][x]);
							}
							mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET connected = 1, playerid = %d WHERE id = %d;", playerid, PI[playerid][pi_ID]);
                            mysql_tquery(srp_db, QUERY_BUFFER);
							CallLocalFunction("OnPlayerLogin", "i", playerid);
						}
						else Kick(playerid);
					}
					else Kick(playerid);
				}
				
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT * FROM player WHERE id = %d;", PI[playerid][pi_ID]);
				mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnPlayerDataLoad);
			}
			else // Error
			{
				PLAYER_TEMP[playerid][pt_BAD_LOGIN_ATTEMP] ++;
				if(PLAYER_TEMP[playerid][pt_BAD_LOGIN_ATTEMP] > MAX_BAD_LOGIN_ATTEMPS) return Kick(playerid);
				SendClientMessageEx(playerid, 0xFFFFFFFF, "Contraseña incorrecta, aviso %d/%d.", PLAYER_TEMP[playerid][pt_BAD_LOGIN_ATTEMP], MAX_BAD_LOGIN_ATTEMPS);
				ShowDialog(playerid, dialogid);
				return 1;
				}
			new message[190];
			new str_text[190];
			new CrewColorChat = getPlayerCrewColor(playerid);
			if(PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET] && PLAYER_TEMP[playerid][pt_WORKING_IN] == WORK_POLICE)
				{
						format(str_text, sizeof str_text, "[AVIZOS-SAPD] {ffffff}%s - %s se {4286f4}conectó.",  POLICE_RANKS[ PLAYER_WORKS[playerid][WORK_POLICE][pwork_LEVEL] ], PLAYER_TEMP[playerid][pt_RP_NAME]);
						SendPoliceRadioMessage(-1, -1, str_text);
				}
			if(PI[playerid][pi_CREW])
				{
						format(message, sizeof message, "{%06x}(Radio) %s - %s se conectó.", PLAYER_TEMP[playerid][pt_RP_NAME], CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_NAME]);
						SendMessageToCrewMembers(PI[playerid][pi_CREW], CrewColorChat, str_text);
				}
			return 1;
		}
		case DIALOG_SECURE_LOGIN_INSERT_CODE: {
			if(!response) return Kick(playerid);
			if(!strlen(inputtext)) return ShowDialog(playerid, dialogid);

			new string[128];
			format(string, sizeof string, "id=%d&code=%s", PI[playerid][pi_ID], SpaceFix(inputtext));
			HTTP(playerid, HTTP_POST, SECURE_LOGIN_CHECK_URL, string, "OnSecureLoginCheckCode");
		}
		case DIALOG_CLOTHES:
		{
			if(response)
			{
				switch(listitem)
				{
					case 0:
					{
						PC_EmulateCommand(playerid, "/ropa");
					}
					case 1:
					{
						PC_EmulateCommand(playerid, "/toys");
					}
					case 2:
					{
					    if(200000 > PI[playerid][pi_CASH]) return SendNotification(playerid, "Dinero Insuficiente.");
					    if(PI[playerid][pi_MANO_DER] != 0) return SendNotification(playerid, "Debes tener la mano vacía.");
					    if(GivePlayerCash(playerid, -200000, true, true))
						generar_mochila(playerid);
					}
				}
			}
			return 1;
		}
		
		case DIALOG_FOOD_PIZZA:
		{
			if (response)
			{
				if (PI[playerid][pi_CASH] >= PIZZA_FOOD[listitem][food_PRICE])
				{
					if (PI[playerid][pi_HUNGRY] >= 99.0 && PI[playerid][pi_THIRST] >= 99.0) return SendPlayerClientMessage(playerid, "¿Es que quieres reventar?");
					
					if (GivePlayerCash(playerid, -PIZZA_FOOD[listitem][food_PRICE], true, true)) {
						Add_Hungry_Thirst(playerid, PIZZA_FOOD[listitem][food_HUNGRY], PIZZA_FOOD[listitem][food_THIRST]);
						
						PlayerPlaySoundEx(playerid, 1058, 0.0, 0.0, 0.0);
						
						new action[64];
						format(action, sizeof action, "compra %s y lo consume.", PIZZA_FOOD[listitem][food_NAME]);
						Auto_SendPlayerAction(playerid, action);
						
						ApplyAnimation(playerid, "FOOD", "EAT_Pizza", 0, 0, 0, 0, 0, 0);
						ApplyAnimation(playerid, "FOOD", "EAT_Pizza", 4.1, false, true, true, false, 1000);
						
						ShowDialog(playerid, dialogid);
					}
				}
				else
				{
					PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
					SendPlayerClientMessage(playerid, "No tienes dinero suficiente, te faltan ~r~%d dólares ~w~para poder comprarlo.", PIZZA_FOOD[listitem][food_PRICE] - PI[playerid][pi_CASH]);
				}
			}
			else SendPlayerClientMessage(playerid, "Gracias por su visita a ~b~%s ~w~vuelva pronto.", ENTER_EXIT[ PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] ][ee_NAME]);
			return 1;
		}
		case DIALOG_FOOD_BURGER:
		{
			if (response)
			{
				if (PI[playerid][pi_CASH] >= BURGER_SHOT_FOOD[listitem][food_PRICE])
				{
					if (PI[playerid][pi_HUNGRY] >= 99.0 && PI[playerid][pi_THIRST] >= 99.0) return SendPlayerClientMessage(playerid, "¿Es que quieres reventar?");
					
					if (GivePlayerCash(playerid, -BURGER_SHOT_FOOD[listitem][food_PRICE], true, true)) {
						Add_Hungry_Thirst(playerid, BURGER_SHOT_FOOD[listitem][food_HUNGRY], BURGER_SHOT_FOOD[listitem][food_THIRST]);
						
						PlayerPlaySoundEx(playerid, 1058, 0.0, 0.0, 0.0);
						
						new action[64];
						format(action, sizeof action, "compra %s y lo consume.", BURGER_SHOT_FOOD[listitem][food_NAME]);
						Auto_SendPlayerAction(playerid, action);
						
						ApplyAnimation(playerid, "FOOD", "EAT_Pizza", 0, 0, 0, 0, 0, 0);
						ApplyAnimation(playerid, "FOOD", "EAT_Pizza", 4.1, false, true, true, false, 1000);
						
						ShowDialog(playerid, dialogid);
					}
				}
				else
				{
					PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
					SendPlayerClientMessage(playerid, "No tienes dinero suficiente, te faltan ~r~%d dólares ~w~para poder comprarlo.", BURGER_SHOT_FOOD[listitem][food_PRICE] - PI[playerid][pi_CASH]);
				}
			}
			else SendPlayerClientMessage(playerid, "Gracias por su visita a ~b~%s ~w~vuelva pronto.", ENTER_EXIT[ PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] ][ee_NAME]);
			return 1;
		}
		case DIALOG_FOOD_CLUCKIN:
		{
			if (response)
			{
				if (PI[playerid][pi_CASH] >= CLUCKIN_BELL_FOOD[listitem][food_PRICE])
				{
					if (PI[playerid][pi_HUNGRY] >= 99.0 && PI[playerid][pi_THIRST] >= 99.0) return SendPlayerClientMessage(playerid, "¿Es que quieres reventar?");
					
					if (GivePlayerCash(playerid, -CLUCKIN_BELL_FOOD[listitem][food_PRICE], true, true)) {
						Add_Hungry_Thirst(playerid, CLUCKIN_BELL_FOOD[listitem][food_HUNGRY], CLUCKIN_BELL_FOOD[listitem][food_THIRST]);
						
						PlayerPlaySoundEx(playerid, 1058, 0.0, 0.0, 0.0);
						
						new action[64];
						format(action, sizeof action, "compra %s y lo consume.", CLUCKIN_BELL_FOOD[listitem][food_NAME]);
						Auto_SendPlayerAction(playerid, action);
						
						ApplyAnimation(playerid, "FOOD", "EAT_Pizza", 0, 0, 0, 0, 0, 0);
						ApplyAnimation(playerid, "FOOD", "EAT_Pizza", 4.1, false, true, true, false, 1000);
						
						ShowDialog(playerid, dialogid);
					}
				}
				else
				{
					PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
					SendPlayerClientMessage(playerid, "No tienes dinero suficiente, te faltan ~r~%d dólares ~w~para poder comprarlo.", CLUCKIN_BELL_FOOD[listitem][food_PRICE] - PI[playerid][pi_CASH]);
				}
			}
			else SendPlayerClientMessage(playerid, "Gracias por su visita a ~b~%s ~w~vuelva pronto.", ENTER_EXIT[ PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] ][ee_NAME]);
			return 1;
		}
	
	case DIALOG_BOLM:
		{
		
		if(response)
          
		{
		switch(listitem)
			{
			case 0:
			{
				PC_EmulateCommand(playerid, "/guardar");
			}
			case 1:
			{
				PC_EmulateCommand(playerid, "/tirar");
			}
			case 2:
			{
				PC_EmulateCommand(playerid, "/guardarm");
			}
		}

	  }
		return 1;	
	}
		case DIALOG_PLAYER_TOYS:
		{
			if(response)
			{
				if(listitem == MAX_SU_TOYS) return ShowDialog(playerid, DIALOG_PLAYER_TOY_DELETE_ALL);
				if(!PI[playerid][pi_VIP] && listitem >= MAX_NU_TOYS)
				{
					SendFormatNotification(playerid, "¡Los jugadores ~y~VIP ~w~pueden tener hasta %d accesorios! Usa ~y~/ayuda ~w~si quieres ser ~y~VIP.", MAX_SU_TOYS);
					ShowDialog(playerid, dialogid);
					return 1;
				}

				PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] = listitem;
				ShowDialog(playerid, DIALOG_PLAYER_TOY_MENU);
			}
			return 1;
		}
	  case DIALOG_PLAYER_TOY_MENU:
		{
			if(response)
			{
				switch(listitem)
				{
					case 0: //colocar / quitar
					{
						if(PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_ATTACHED]) // tiene accesorio puesto
						{
							PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_ATTACHED] = false;
							RemovePlayerAttachedObject(playerid, PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT]);

							if(19036 == PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_MODELID])
							{
								PI[playerid][pi_MASK] = 1;
								PLAYER_TEMP[playerid][pt_USING_MASK] = true;
								PC_EmulateCommand(playerid, "/usarmascara");
							}
							
							new action[45]; format(action, sizeof action, "se quita su \"%s\"", PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_NAME]);
							Auto_SendPlayerAction(playerid, action);
						}
						else // No lo tiene puesto
						{
							if(PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_BONE] == -1) return ShowDialog(playerid, DIALOG_PLAYER_TOY_MENU);
							
							PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_ATTACHED] = true;
							RemovePlayerAttachedObject(playerid, PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT]);
							
							if(19036 == PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_MODELID])
							{
								PI[playerid][pi_MASK] = 1;
								PLAYER_TEMP[playerid][pt_USING_MASK] = true;
								PC_EmulateCommand(playerid, "/usarmascara");
							}

							SetPlayerAttachedObject(
								playerid, 
								PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT],
								PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_MODELID],
								PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_BONE],
								PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_OFFSET_X],
								PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_OFFSET_Y],
								PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_OFFSET_Z],
								PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_ROT_X],
								PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_ROT_Y],
								PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_ROT_Z],
								PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_SCALE_X],
								PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_SCALE_Y],
								PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_SCALE_Z],
								PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_COLOR_1],
								PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_COLOR_2]
							);
							
							new action[45]; format(action, sizeof action, "se coloca su \"%s\"", PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_NAME]);
							Auto_SendPlayerAction(playerid, action);
						}
					}
					case 1: ShowDialog(playerid, DIALOG_PLAYER_TOY_EDIT_NAME);
					case 2: //Configurar
					{
						if(PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_BONE] == -1)
						{
							ShowDialog(playerid, DIALOG_PLAYER_TOY_SELECT_BONE);
							return 1;
						}
						ShowDialog(playerid, DIALOG_PLAYER_TOY_EDIT_BONE);
					}
					case 3: ShowDialog(playerid, DIALOG_PLAYER_TOY_COLOR_1);
					case 4: ShowDialog(playerid, DIALOG_PLAYER_TOY_COLOR_2);
					case 5: ShowDialog(playerid, DIALOG_PLAYER_TOY_CONFIRMDELETE);
				}
			}
			return 1;
		}
		case DIALOG_PLAYER_TOY_EDIT_NAME:
		{
			if(response)
			{
				if(!strlen(inputtext) || strlen(inputtext) > 24)
				{
					ShowPlayerMessage(playerid, "El nombre del accesorio debe contener de 1 a 24 caracteres.", 2);
					ShowDialog(playerid, dialogid);
					return 1;
				}

				format(PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_NAME], 24, "%s", inputtext);
				ShowDialog(playerid, DIALOG_PLAYER_TOY_MENU);
			}
			else ShowDialog(playerid, DIALOG_PLAYER_TOY_MENU);
			return 1;
		}
		case DIALOG_OFERTA_CARGAR:
		{
			if(response)
			{
				if(IsPlayerConnected(cargadoTmp[playerid][pOfertante]))
				{
					if(cargadoTmp[cargadoTmp[playerid][pOfertante]][esCargado] || cargadoTmp[cargadoTmp[playerid][pOfertante]][estaCargando])
					{
						SendNotification(playerid, "~r~Esta persona ya no te puede cargar");
						cleanChargeVars(playerid);
						return 1;
					}
					new Float:pos[3];
					GetPlayerPos(cargadoTmp[playerid][pOfertante], pos[0], pos[1], pos[2]);
					if(IsPlayerInRangeOfPoint(playerid, 6.0, pos[0], pos[1], pos[2]))
					{
						startCharge(cargadoTmp[playerid][pOfertante], playerid);
					} else {
						SendNotification(playerid, "~r~Te has alejado mucho de esta persona");
						cleanChargeVars(cargadoTmp[playerid][pOfertante]);
						cleanChargeVars(playerid);	
					}
					
				} else {
					SendNotification(playerid, "~r~La persona que te envio la oferta se desconecto");
					cleanChargeVars(playerid);
				}
			} else {
				SendNotification(playerid, "~w~Has ~r~rechazado ~w~la peticion");
				SendNotification(cargadoTmp[playerid][pOfertante], "~r~Han rechazado tu oferta para cargar");
				cleanChargeVars(cargadoTmp[playerid][pOfertante]);
				cleanChargeVars(playerid);
			}
		}
		case DIALOG_PLAYER_TOY_CONFIRMDELETE:
		{
			if(response)
			{
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "DELETE FROM ptoys WHERE id = %d;", PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_ID]);
				mysql_tquery(srp_db, QUERY_BUFFER);

				if(PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_ATTACHED]) RemovePlayerAttachedObject(playerid, PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT]);

				SendFormatNotification(playerid, "Accesorio ~g~\"%s\"~w~ eliminado.", PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_NAME]);

				PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_VALID] = false;
				PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_ID] = 0;
				format(PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_NAME], 24, "");
				PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_ATTACHED] = false;
				PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_MODELID] = 0;
				PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_BONE] = 0;
				PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_OFFSET_X] = 0.0;
				PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_OFFSET_Y] = 0.0;
				PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_OFFSET_Z] = 0.0;
				PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_ROT_X] = 0.0;
				PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_ROT_Y] = 0.0;
				PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_ROT_Z] = 0.0;
				PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_SCALE_X] = 0.0;
				PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_SCALE_Y] = 0.0;
				PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_SCALE_Z] = 0.0;
				PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_COLOR_1] = 0;
				PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_COLOR_2] = 0;
				PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] = 0;

				ShowDialog(playerid, DIALOG_PLAYER_TOYS);
			}
			else ShowDialog(playerid, DIALOG_PLAYER_TOY_MENU);
			return 1;
		}
		case DIALOG_PLAYER_TOY_SELECT_BONE:
		{
			if(response)
			{
				PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_BONE] = listitem + 1;
				EditPlayerToy(playerid);
			}
			else ShowDialog(playerid, DIALOG_PLAYER_TOY_MENU);
			return 1;
		}
		case DIALOG_PLAYER_TOY_EDIT_BONE:
		{
			if(response) ShowDialog(playerid, DIALOG_PLAYER_TOY_SELECT_BONE);
			else EditPlayerToy(playerid);
			return 1;
		}
		case DIALOG_PLAYER_TOY_COLOR_1:
		{
			if(response)
			{
				if(listitem == 0) PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_COLOR_1] = 0;
				else PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_COLOR_1] = RGBAToARGB(RandomColors[listitem]);

				if(PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_ATTACHED]) UpdatePlayerToy(playerid, PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT]);
				ShowPlayerMessage(playerid, "Color del accesorio actualizado.", 2);
			}
			else ShowDialog(playerid, DIALOG_PLAYER_TOY_MENU);
			return 1;
		}
		case DIALOG_PLAYER_TOY_COLOR_2:
		{
			if(response)
			{
				if(listitem == 0) PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_COLOR_2] = 0;
				else PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_COLOR_2] = RGBAToARGB(RandomColors[listitem]);

				if(PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_ATTACHED]) UpdatePlayerToy(playerid, PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT]);
				ShowPlayerMessage(playerid, "Color del accesorio actualizado.", 2);
			}
			else ShowDialog(playerid, DIALOG_PLAYER_TOY_MENU);
			return 1;
		}
		case DIALOG_PLAYER_TOY_DELETE_ALL:
		{
			if(response)
			{
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "DELETE FROM ptoys WHERE id_player = %d;", PI[playerid][pi_ID]);
				mysql_tquery(srp_db, QUERY_BUFFER);

				new temp_PLAYER_TOYS[Player_Toys_Info];
				for(new i = 0; i != MAX_SU_TOYS; i ++)
				{
					RemovePlayerAttachedObject(playerid, i);
					PLAYER_TOYS[playerid][i] = temp_PLAYER_TOYS;
				}

				ShowPlayerMessage(playerid, "Has eliminado todos tus accesorios.", 2);
			}
			else ShowDialog(playerid, DIALOG_PLAYER_TOYS);
			return 1;
		}
		case DIALOG_BANK:
		{
			if(response)
			{
				switch(listitem)
				{
					case 0: ShowDialog(playerid, DIALOG_BANK_WITHDRAW);
					case 1: ShowDialog(playerid, DIALOG_BANK_DEPOSIT);
					case 2: ShowDialog(playerid, DIALOG_BANK_TRANSFER);
					case 3: ShowDialog(playerid, DIALOG_BANK_TRANSACTIONS);
				}
			}
			else PLAYER_TEMP[playerid][pt_PLAYER_IN_ATM] = false;
			return 1;
		}
		case DIALOG_BANK_WITHDRAW:
		{
			if(response)
			{
				if(sscanf(inputtext, "d", inputtext[0]))
				{
					PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
					ShowPlayerMessage(playerid, "Introduce un valor numérico.", 2);
					ShowDialog(playerid, dialogid);
					return 1;
				}
				if(inputtext[0] <= 0)
				{
					PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
					ShowPlayerMessage(playerid, "Introduce un valor positivo.", 2);
					ShowDialog(playerid, dialogid);
					return 1;
				}
				if(inputtext[0] > PI[playerid][pi_BANK_MONEY])
				{
					PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
					ShowPlayerMessage(playerid, "Saldo insuficiente.", 2);
					ShowDialog(playerid, dialogid);
					return 1;
				}
				if(PLAYER_TEMP[playerid][pt_PLAYER_IN_ATM])
				{
					if(inputtext[0] > 10000)
					{
						PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
						SendFormatNotification(playerid, "Las operaciones de mas de ~r~10.000$ ~w~no se pueden realizar desde un cajero, solo en el banco.", 2);
						ShowDialog(playerid, dialogid);
						return 1;
					}
				}

				if(GivePlayerCash(playerid, inputtext[0], true, false)) {
					PI[playerid][pi_BANK_MONEY] -= inputtext[0];

					RegisterBankAccountTransaction(PI[playerid][pi_ID], PI[playerid][pi_ID], BANK_TRANSACTION_WITHDRAW, inputtext[0]);

					SendFormatNotification(playerid, "Operación realizada con éxito, has retirado ~g~%s dólares~w~.", number_format_thousand(inputtext[0]));
					PlayerPlaySoundEx(playerid, 1058, 0.0, 0.0, 0.0);
				}
				PLAYER_TEMP[playerid][pt_PLAYER_IN_ATM] = false;
			}
			else ShowDialog(playerid, DIALOG_BANK);
			return 1;
		}
		case DIALOG_BANK_DEPOSIT:
		{
			if(response)
			{
				if(sscanf(inputtext, "d", inputtext[0]))
				{
					PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
					ShowPlayerMessage(playerid, "Introduce un valor numérico.", 2);
					ShowDialog(playerid, dialogid);
					return 1;
				}
				if(inputtext[0] <= 0)
				{
					PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
					ShowPlayerMessage(playerid, "Introduce un valor positivo.", 2);
					ShowDialog(playerid, dialogid);
					return 1;
				}
				if(inputtext[0] > PI[playerid][pi_CASH])
				{
					PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
					ShowPlayerMessage(playerid, "Dinero insuficiente.", 2);
					ShowDialog(playerid, dialogid);
					return 1;
				}
				if(PLAYER_TEMP[playerid][pt_PLAYER_IN_ATM])
				{
					if(inputtext[0] > 10000)
					{
						PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
						SendFormatNotification(playerid, "Las operaciones de mas de ~r~10.000$ ~w~no se pueden realizar desde un cajero, solo en el banco.", 2);
						ShowDialog(playerid, dialogid);
						return 1;
					}
				}

				if(GivePlayerCash(playerid, -inputtext[0], true, true)) {
					PI[playerid][pi_BANK_MONEY] += inputtext[0];

					RegisterBankAccountTransaction(PI[playerid][pi_ID], PI[playerid][pi_ID], BANK_TRANSACTION_DEPOSIT, inputtext[0]);

					SendFormatNotification(playerid, "Operación realizada con éxito, has depositado ~g~%s dólares~w~.", number_format_thousand(inputtext[0]));
					PlayerPlaySoundEx(playerid, 1058, 0.0, 0.0, 0.0);
				}
				PLAYER_TEMP[playerid][pt_PLAYER_IN_ATM] = false;
			}
			else ShowDialog(playerid, DIALOG_BANK);
			return 1;
		}
		case DIALOG_BANK_TRANSFER:
		{
			if(response)
			{
				new to_bank_account;
				if(sscanf(inputtext, "d", to_bank_account))
				{
					PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
					ShowPlayerMessage(playerid, "Introduce un valor numérico.", 2);
					ShowDialog(playerid, dialogid);
					return 1;
				}
				if(to_bank_account <= 0)
				{
					PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
					ShowPlayerMessage(playerid, "Introduce un valor positivo.", 2);
					ShowDialog(playerid, dialogid);
					return 1;
				}

				inline OnBankAccountChecked()
				{
					new rows;
					if(cache_get_row_count(rows))
					{
						if(rows)
						{
							cache_get_value_index_int(0, 0, PLAYER_TEMP[playerid][pt_SELECT_BANK_TRANSFER_ID]);
							PLAYER_TEMP[playerid][pt_SELECT_BANK_TRANSFER_ACCOUNT] = to_bank_account;
							ShowDialog(playerid, DIALOG_BANK_TRANSFER_SEND);
						}
						else
						{
							PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
							ShowPlayerMessage(playerid, "El número de cuenta introducido no existe o no es correcto.", 2);
							PLAYER_TEMP[playerid][pt_PLAYER_IN_ATM] = false;
						}
					}
				}
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT id FROM player WHERE bank_account = %d;", to_bank_account);
				mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnBankAccountChecked);
			}
			else ShowDialog(playerid, DIALOG_BANK);
			return 1;
		}
		case DIALOG_BANK_TRANSFER_SEND:
		{
			if(response)
			{
				if(sscanf(inputtext, "d", inputtext[0]))
				{
					PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
					ShowPlayerMessage(playerid, "Introduce un valor numérico.", 2);
					ShowDialog(playerid, dialogid);
					return 1;
				}
				if(inputtext[0] <= 0)
				{
					PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
					ShowPlayerMessage(playerid, "Introduce un valor positivo.", 2);
					ShowDialog(playerid, dialogid);
					return 1;
				}
				if(inputtext[0] > PI[playerid][pi_BANK_MONEY])
				{
					PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
					ShowPlayerMessage(playerid, "Saldo insuficiente.", 2);
					ShowDialog(playerid, dialogid);
					return 1;
				}
				if(PLAYER_TEMP[playerid][pt_PLAYER_IN_ATM])
				{
					if(inputtext[0] > 10000)
					{
						PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
						SendFormatNotification(playerid, "Las operaciones de mas de ~r~10.000$ ~w~no se pueden realizar desde un cajero, solo en el banco.", 2);
						ShowDialog(playerid, dialogid);
						return 1;
					}
				}

				PI[playerid][pi_BANK_MONEY] -= inputtext[0];
				new transfer_player_id = GetPlayerIdByBankAccountId(PLAYER_TEMP[playerid][pt_SELECT_BANK_TRANSFER_ACCOUNT]);

				new message[64];
				format(message, sizeof message, "Tranferencia recibida: +$%s", number_format_thousand(inputtext[0]));
				if(transfer_player_id == -1)
				{
					inline OnPhoneChecked()
					{
						new rows;
						if(cache_get_row_count(rows))
						{
							if(rows)
							{
								new id;
								cache_get_value_index_int(0, 0, id);
								if(id) RegisterPhoneMessage(0, id, message, true);
							}
						}
					}
					mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT id FROM player WHERE bank_account = %d;", PLAYER_TEMP[playerid][pt_SELECT_BANK_TRANSFER_ACCOUNT]);
					mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnPhoneChecked);
				}
				else
				{
					PI[transfer_player_id][pi_BANK_MONEY] += inputtext[0];

					if(PI[transfer_player_id][pi_PHONE_NUMBER])
					{
						RegisterPhoneMessage(0, PI[transfer_player_id][pi_ID], message);
						if(PI[transfer_player_id][pi_PHONE_STATE] == PHONE_STATE_ON)
						{
							if((PLAYER_TEMP[transfer_player_id][pt_GAME_STATE] == GAME_STATE_NORMAL || PLAYER_TEMP[transfer_player_id][pt_GAME_STATE] == GAME_STATE_DEAD))
							{
								SendClientMessageEx(transfer_player_id, -1, "{1168ff}[Mensaje Recibido] "YELLOW"Remitente: "WHITE"%s "YELLOW"Mensaje: "WHITE"%s", convertPhoneNumber(transfer_player_id, 6740), message);
							}
						}
					}
				}


				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET bank_money = bank_money + %d WHERE bank_account = %d;", inputtext[0], PLAYER_TEMP[playerid][pt_SELECT_BANK_TRANSFER_ACCOUNT]);
				mysql_tquery(srp_db, QUERY_BUFFER);

				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET bank_money = %d WHERE id = %d;", PI[playerid][pi_BANK_MONEY], PI[playerid][pi_ID]);
				mysql_tquery(srp_db, QUERY_BUFFER);

				RegisterBankAccountTransaction(PI[playerid][pi_ID], PLAYER_TEMP[playerid][pt_SELECT_BANK_TRANSFER_ID], BANK_TRANSACTION_TRANSFER, inputtext[0]);

				SendFormatNotification(playerid, "Operación realizada con éxito, has transferido ~g~%s dólares ~w~al número de cuenta ~g~%s~w~.", number_format_thousand(inputtext[0]), number_format_thousand(PLAYER_TEMP[playerid][pt_SELECT_BANK_TRANSFER_ACCOUNT]));
				PlayerPlaySoundEx(playerid, 1058, 0.0, 0.0, 0.0);
				PLAYER_TEMP[playerid][pt_SELECT_BANK_TRANSFER_ACCOUNT] = 0;
				PLAYER_TEMP[playerid][pt_PLAYER_IN_ATM] = false;
			}
			else
			{
				PLAYER_TEMP[playerid][pt_SELECT_BANK_TRANSFER_ACCOUNT] = 0;
				ShowDialog(playerid, DIALOG_BANK_TRANSFER);
			}
			return 1;
		}
		case DIALOG_CREATE_BANK_ACCOUNT:
		{
			if(response)
			{
				if(PI[playerid][pi_CASH] >= 500)
				{
					if(GivePlayerCash(playerid, -500, true, true)) {
						PI[playerid][pi_BANK_MONEY] = 500;
						PI[playerid][pi_BANK_ACCOUNT] = getBankAccountNumber(PI[playerid][pi_ID]);
						mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET bank_account = %d, bank_money = %d WHERE id = %d;", PI[playerid][pi_BANK_ACCOUNT], PI[playerid][pi_BANK_MONEY], PI[playerid][pi_ID]);
						mysql_tquery(srp_db, QUERY_BUFFER);

						RegisterBankAccountTransaction(PI[playerid][pi_ID], PI[playerid][pi_ID], BANK_TRANSACTION_CREATE_ACCOUNT, 500);

						PlayerPlaySoundEx(playerid, 1058, 0.0, 0.0, 0.0);
						SendFormatNotification(playerid, "Tu cuenta bancaria ha sido creada con éxito, tu número de cuenta es ~g~%s~w~.", number_format_thousand(PI[playerid][pi_BANK_ACCOUNT]));
					}
				}
				else
				{
					PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
					SendFormatNotification(playerid, "No tienes dinero suficiente para crear la cuenta bancaria, te faltan ~r~%d dólares~w~.", 500 - PI[playerid][pi_CASH]);
				}
			}
			return 1;
		}
		case DIALOG_BANK_TRANSACTIONS:
		{
			if(response) PLAYER_TEMP[playerid][pt_PLAYER_IN_ATM] = false;
			else ShowDialog(playerid, DIALOG_BANK);
			return 1;
		}
		case DIALOG_247_LIST:
		{
			if(response)
			{
				switch(Supermarket_Product_List[listitem][product_TYPE])
				{
				    case PRODUCT_TYPE_KIT:
					{
						if(GivePlayerCash(playerid, -1000, true, true))
						{
						    if(PI[playerid][pi_MANO_DER] > 0) return SendNotification(playerid, "Tu mano esta ocupada."), ShowDialog(playerid, DIALOG_247_LIST);
							new objetom = 114;
							
                            PonerObjeto(playerid, 1, objetom);
                            PI[playerid][pi_MANO_DER] = objetom;
                            PI[playerid][pi_DER_CANT] = ObjetoInfo[objetom][Capacidad];
							ShowPlayerMessage(playerid, "~w~Has comprado un kit de reparación, para usararlo usa ~y~ Y ~w~dentro del vehiculo que quieras reparar.", 2); 
							ShowDialog(playerid, DIALOG_247_LIST);
						}
						else ShowPlayerMessage(playerid, "No tienes suficiente dinero.", 2), ShowDialog(playerid, DIALOG_247_LIST);
					}
					case PRODUCT_TYPE_FOOD:
					{
						if(PI[playerid][pi_CASH] >= Supermarket_Product_List[listitem][product_PRICE])
						{
							
							PLAYER_AC_INFO[playerid][CHEAT_WEAPON][p_ac_info_IMMUNITY] = gettime() + 3;

							new player_slot = GetEmptyInvSlot(playerid);
	                        if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
                            PI[playerid][pi_BOL][player_slot] = Supermarket_Product_List[listitem][product_id_mano];
                            PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[Supermarket_Product_List[listitem][product_id_mano]][Capacidad];

							if(GivePlayerCash(playerid, -Supermarket_Product_List[listitem][product_PRICE], true, true)) { 
							    ShowDialog(playerid, DIALOG_247_LIST);
								SendFormatNotification(playerid, "Has comprado ~b~%s por ~b~%d dlares~w~,para usarlo ~y~Y", Supermarket_Product_List[listitem][product_NAME], Supermarket_Product_List[listitem][product_PRICE]);
								PlayerPlaySoundEx(playerid, 1058, 0.0, 0.0, 0.0);
							}
						}
						else
						{
							PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
							ShowDialog(playerid, DIALOG_247_LIST);
							SendFormatNotification(playerid, "No tienes dinero suficiente, te faltan ~r~%s$~w~ para poder comprar este producto.", number_format_thousand(Supermarket_Product_List[listitem][product_PRICE] - PI[playerid][pi_CASH]));
						}
					}
					case PRODUCT_TYPE_PHONE:
					{
						if(PI[playerid][pi_CASH] >= Supermarket_Product_List[listitem][product_PRICE])
						{
							if(PI[playerid][pi_PHONE_NUMBER])
							{
							    ShowDialog(playerid, DIALOG_247_LIST);
								ShowPlayerMessage(playerid, "Ya tienes un teléfono.", 2);
								PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
								return 1;
							}

							if(GivePlayerCash(playerid, -Supermarket_Product_List[listitem][product_PRICE], true, true)) {
								PI[playerid][pi_PHONE_NUMBER] = getPhoneNumber(PI[playerid][pi_ID]);
								PI[playerid][pi_PHONE_STATE] = PHONE_STATE_ON;
								PI[playerid][pi_PHONE_VISIBLE_NUMBER] = true;

								mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET phone_number = %d, phone_state = %d, phone_visible_number = %d WHERE id = %d;", PI[playerid][pi_PHONE_NUMBER], PI[playerid][pi_PHONE_STATE], PI[playerid][pi_PHONE_VISIBLE_NUMBER], PI[playerid][pi_ID]);
								mysql_tquery(srp_db, QUERY_BUFFER);
								ShowDialog(playerid, DIALOG_247_LIST);

								SendFormatNotification(playerid, "Has comprado un ~b~%s ~w~por ~b~%d dólares~w~, tu número es ~y~%d~w~.", Supermarket_Product_List[listitem][product_NAME], Supermarket_Product_List[listitem][product_PRICE], PI[playerid][pi_PHONE_NUMBER]);
								PlayerPlaySoundEx(playerid, 1058, 0.0, 0.0, 0.0);
							}
						}
						else
						{
						    ShowDialog(playerid, DIALOG_247_LIST);
							PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
							SendFormatNotification(playerid, "No tienes dinero suficiente, te faltan ~r~$%s~w~ para poder comprar este producto.", number_format_thousand(Supermarket_Product_List[listitem][product_PRICE] - PI[playerid][pi_CASH]));
						}

					}
					case PRODUCT_TYPE_GPS:
					{
						if(PI[playerid][pi_CASH] >= Supermarket_Product_List[listitem][product_PRICE])
						{
							if(PI[playerid][pi_GPS])
							{
							    ShowDialog(playerid, DIALOG_247_LIST);
								ShowPlayerMessage(playerid, "Ya tienes un GPS.", 2);
								PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
								return 1;
							}

							if(GivePlayerCash(playerid, -Supermarket_Product_List[listitem][product_PRICE], true, true)) {
								PI[playerid][pi_GPS] = true;
								ShowDialog(playerid, DIALOG_247_LIST);
								SendFormatNotification(playerid, "Has comprado un ~b~%s ~w~por ~b~%d dólares~w~, usa ~b~/GPS ~w~para usarlo.", Supermarket_Product_List[listitem][product_NAME], Supermarket_Product_List[listitem][product_PRICE]);
								PlayerPlaySoundEx(playerid, 1058, 0.0, 0.0, 0.0); 
								if(PI[playerid][pi_A1] == 0) 
                                 { 
                                     new Mision[500];
                                     GivePlayerCash(playerid, 500, true, false); 
                                     SendFormatNotification(playerid, "Has completado una ~g~mision"); 
                                     PI[playerid][pi_A1] = 1; 
                                     TextDrawShowForPlayer(playerid,BoxMisiones);
                                     TextDrawShowForPlayer(playerid,MisionCo);
                                     TextDrawShowForPlayer(playerid,MisionRe);
                                     format(Mision,sizeof(Mision),"~w~Comprar GPS 500~g~$");
                                     TextDrawSetString(MisionRe, Mision); 
                                     SetTimerEx("ActualizarTextDraw",4500,false,"i",playerid);//
                                 }
							}
						}
						else
						{
						    ShowDialog(playerid, DIALOG_247_LIST);
							PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
							SendFormatNotification(playerid, "No tienes dinero suficiente, te faltan ~r~$%s~w~ para poder comprar este producto.", number_format_thousand(Supermarket_Product_List[listitem][product_PRICE] - PI[playerid][pi_CASH]));
						}
					}
					case PRODUCT_TYPE_MP3:
					{
						if(PI[playerid][pi_CASH] >= Supermarket_Product_List[listitem][product_PRICE])
						{
							if(PI[playerid][pi_MP3])
							{
							    ShowDialog(playerid, DIALOG_247_LIST);
								ShowPlayerMessage(playerid, "Ya tienes un MP3.", 2);
								PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
								return 1;
							}

							if(GivePlayerCash(playerid, -Supermarket_Product_List[listitem][product_PRICE], true, true)) {
								PI[playerid][pi_MP3] = true;
								ShowDialog(playerid, DIALOG_247_LIST);
								SendFormatNotification(playerid, "Has comprado un ~b~%s ~w~por ~b~%d", Supermarket_Product_List[listitem][product_NAME], Supermarket_Product_List[listitem][product_PRICE]);
								PlayerPlaySoundEx(playerid, 1058, 0.0, 0.0, 0.0);
							}
						}
						else
						{
						    ShowDialog(playerid, DIALOG_247_LIST);
							PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
							SendFormatNotification(playerid, "No tienes dinero suficiente, te faltan ~r~$%s~w~ para poder comprar este producto.", number_format_thousand(Supermarket_Product_List[listitem][product_PRICE] - PI[playerid][pi_CASH]));
						}
					}
					case PRODUCT_TYPE_JBL:
					{
						if(PI[playerid][pi_CASH] >= Supermarket_Product_List[listitem][product_PRICE])
						{						
							if(GivePlayerCash(playerid, -Supermarket_Product_List[listitem][product_PRICE], true, true)) {
								new player_slot = GetEmptyInvSlot(playerid);
	                            if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
                                PI[playerid][pi_BOL][player_slot] = Supermarket_Product_List[listitem][product_id_mano];
                                PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[Supermarket_Product_List[listitem][product_id_mano]][Capacidad];
								ShowDialog(playerid, DIALOG_247_LIST);
								SendFormatNotification(playerid, "Has comprado un ~b~%s ~w~por ~b~%d dólares.", Supermarket_Product_List[listitem][product_NAME], Supermarket_Product_List[listitem][product_PRICE]);
								PlayerPlaySoundEx(playerid, 1058, 0.0, 0.0, 0.0);
							}
						}
						else
						{
						    ShowDialog(playerid, DIALOG_247_LIST);
							PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
							SendFormatNotification(playerid, "No tienes dinero suficiente, te faltan ~r~$%s~w~ para poder comprar este producto.", number_format_thousand(Supermarket_Product_List[listitem][product_PRICE] - PI[playerid][pi_CASH]));
						}
					}
					case PRODUCT_TYPE_SPEAKERS:
					{
						if(PI[playerid][pi_CASH] >= Supermarket_Product_List[listitem][product_PRICE])
						{
							if(PI[playerid][pi_SPEAKERS])
							{
							    ShowDialog(playerid, DIALOG_247_LIST);
								ShowPlayerMessage(playerid, "Ya tienes altavoces.", 2);
								PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
								return 1;
							}

							if(GivePlayerCash(playerid, -Supermarket_Product_List[listitem][product_PRICE], true, true)) {
								PI[playerid][pi_SPEAKERS] = true;
								ShowDialog(playerid, DIALOG_247_LIST);
								SendFormatNotification(playerid, "Has comprado ~b~%s ~w~por ~b~%d dólares~w~, ~w~usa ~b~/amp3 ~w~para usarlo.", Supermarket_Product_List[listitem][product_NAME], Supermarket_Product_List[listitem][product_PRICE]);
								PlayerPlaySoundEx(playerid, 1058, 0.0, 0.0, 0.0);
							}
						}
						else
						{
						     ShowDialog(playerid, DIALOG_247_LIST);
							PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
							SendFormatNotification(playerid, "No tienes dinero suficiente, te faltan ~r~$%s~w~ para poder comprar este producto.", number_format_thousand(Supermarket_Product_List[listitem][product_PRICE] - PI[playerid][pi_CASH]));
						}
					}
					case PRODUCT_TYPE_PHONE_RESOLVER:
					{
						if(PI[playerid][pi_CASH] >= Supermarket_Product_List[listitem][product_PRICE])
						{
							if(PI[playerid][pi_PHONE_RESOLVER])
							{
							    ShowDialog(playerid, DIALOG_247_LIST);
								ShowPlayerMessage(playerid, "Ya tienes una guía telefónica.", 2);
								PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
								return 1;
							}

							if(GivePlayerCash(playerid, -Supermarket_Product_List[listitem][product_PRICE], true, true)) {
								PI[playerid][pi_PHONE_RESOLVER] = true;
								ShowDialog(playerid, DIALOG_247_LIST);
								SendFormatNotification(playerid, "Has comprado una ~b~%s ~w~por ~b~%d dólares~w~, ~w~usa ~b~/guia ~w~para usarla.", Supermarket_Product_List[listitem][product_NAME], Supermarket_Product_List[listitem][product_PRICE]);
								PlayerPlaySoundEx(playerid, 1058, 0.0, 0.0, 0.0); 
								if(PI[playerid][pi_A2] == 0) 
                                 { 
                                     new Mision[500];
                                     GivePlayerCash(playerid, 500, true, false); 
                                     SendFormatNotification(playerid, "Has completado una ~g~mision"); 
                                     PI[playerid][pi_A2] = 1; 
                                     TextDrawShowForPlayer(playerid,BoxMisiones);
                                     TextDrawShowForPlayer(playerid,MisionCo);
                                     TextDrawShowForPlayer(playerid,MisionRe);
                                     format(Mision,sizeof(Mision),"~w~Comprar Guia 500~g~$");
                                     TextDrawSetString(MisionRe, Mision); 
                                     SetTimerEx("ActualizarTextDraw",4500,false,"i",playerid);//
                                 }
							}
						}
						else
						{
						    ShowDialog(playerid, DIALOG_247_LIST);
							PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
							SendFormatNotification(playerid, "No tienes dinero suficiente, te faltan ~r~$%s~w~ para poder comprar este producto.", number_format_thousand(Supermarket_Product_List[listitem][product_PRICE] - PI[playerid][pi_CASH]));
						}
					}
				}
			}
			return 1;
		}
		case DIALOG_PHONE:
		{
			if(response)
			{
				switch(listitem)
				{
					case 0: //Agenda
					{
						if(PI[playerid][pi_PHONE_STATE] == PHONE_STATE_OFF)
						{
							PI[playerid][pi_PHONE_STATE] = PHONE_STATE_ON;
							ShowDialog(playerid, dialogid);
							return 1;
						}
						ShowDialog(playerid, DIALOG_PHONE_BOOK);
					}
					case 1: //Llamar
					{
						if(PI[playerid][pi_PHONE_STATE] == PHONE_STATE_OFF) return ShowPlayerMessage(playerid, "Tu teléfono esta apagado, enciéndelo para usarlo.", 2);
						ShowDialog(playerid, DIALOG_PHONE_CALL_NUMBER);
					}
					case 2: //Enviar mensaje
					{
						if(PI[playerid][pi_PHONE_STATE] == PHONE_STATE_OFF) return ShowPlayerMessage(playerid, "Tu teléfono esta apagado, enciéndelo para usarlo.", 2);
						ShowDialog(playerid, DIALOG_PHONE_SMS_NUMBER);
					}
					case 3: //Ver mensajes recibidos
					{
						if(PI[playerid][pi_PHONE_STATE] == PHONE_STATE_OFF) return ShowPlayerMessage(playerid, "Tu teléfono esta apagado, enciéndelo para usarlo.", 2);
						ShowDialog(playerid, DIALOG_PHONE_RECEIVED_MESSAGES);
					}
					case 4: //Ver mensajes enviados
					{
						if(PI[playerid][pi_PHONE_STATE] == PHONE_STATE_OFF) return ShowPlayerMessage(playerid, "Tu teléfono esta apagado, enciéndelo para usarlo.", 2);
						ShowDialog(playerid, DIALOG_PHONE_SENT_MESSAGES);
					}
					case 5: //Ubicacion
					{
						if(PI[playerid][pi_PHONE_STATE] == PHONE_STATE_OFF) return ShowPlayerMessage(playerid, "Tu teléfono esta apagado, enciéndelo para usarlo.", 2);

						ShowDialog(playerid, DIALOG_PHONE_COORD);
					}

					case 6: //Apagar
					{
						if(PI[playerid][pi_PHONE_STATE] == PHONE_STATE_OFF) return ShowPlayerMessage(playerid, "Tu teléfono esta apagado, enciéndelo para usarlo.", 2);

						if(PLAYER_TEMP[playerid][pt_PLAYER_IN_CALL]) EndPhoneCall(playerid);
						PI[playerid][pi_PHONE_STATE] = PHONE_STATE_OFF;
						ShowPlayerMessage(playerid, "Has apagado tu teléfono, ahora no recibiras llamadas.", 2);
					}
				}
			}
			return 1;
		}
		case DIALOG_PHONE_BOOK:
		{
			if(response)
			{
				if(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] == -1) return ShowDialog(playerid, dialogid);
				if(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] == MAX_PHONE_CONTACTS + 10) return ShowDialog(playerid, DIALOG_PHONE_BOOK_ADD_NUMBER);
				if(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] == MAX_PHONE_CONTACTS + 20) return ShowDialog(playerid, DIALOG_PHONE_BOOK_DELETE_ALL);

				PLAYER_TEMP[playerid][pt_PLAYER_PHONE_BOOK_SELECTED] = PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem];
				ShowDialog(playerid, DIALOG_PHONE_BOOK_OPTIONS);
			}
			else ShowDialog(playerid, DIALOG_PHONE);
			return 1;
		}
		case DIALOG_PHONE_BOOK_ADD_NUMBER:
		{
			if(response)
			{
				if(sscanf(inputtext, "d", inputtext[0]))
				{
					PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
					ShowPlayerMessage(playerid, "Introduce un valor numérico.", 2);
					ShowDialog(playerid, dialogid);
					return 1;
				}
				if(inputtext[0] <= 0)
				{
					PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
					ShowPlayerMessage(playerid, "Introduce un valor positivo.", 2);
					ShowDialog(playerid, dialogid);
					return 1;
				}

				PLAYER_TEMP[playerid][pt_PLAYER_PHONE_BOOK_ADD_NUMBER] = inputtext[0];
				ShowDialog(playerid, DIALOG_PHONE_BOOK_ADD_NAME);
			}
			else ShowDialog(playerid, DIALOG_PHONE_BOOK);
			return 1;
		}
		case DIALOG_PHONE_BOOK_ADD_NAME:
		{
			if(response)
			{
				if(isnull(inputtext))
				{
					PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
					ShowDialog(playerid, dialogid);
					return 1;
				}
				if(strlen(inputtext) > 24)
				{
					ShowPlayerMessage(playerid, "Caracteres: 1-24.", 2);
					ShowDialog(playerid, dialogid);
					return 1;
				}

				new slot = GetEmptyPlayerPhoneBookSlot(playerid);
				if(slot == -1) return ShowPlayerMessage(playerid, "Memoria de la agenda llena.", 2);


				PLAYER_PHONE_BOOK[playerid][slot][phone_book_contact_VALID] = true;
				format(PLAYER_PHONE_BOOK[playerid][slot][phone_book_contact_NAME], 24, "%s", inputtext);
				PLAYER_PHONE_BOOK[playerid][slot][phone_book_contact_PHONE_NUMBER] = PLAYER_TEMP[playerid][pt_PLAYER_PHONE_BOOK_ADD_NUMBER];
				RegisterNewPlayerPhoneBook(playerid, slot);

				PlayerPlaySoundEx(playerid, 1058, 0.0, 0.0, 0.0);
				SendFormatNotification(playerid, "Nuevo contacto añadido a la agenda:~n~~n~~b~Nombre: ~w~%s~n~~b~Teléfono:~w~ %d.", PLAYER_PHONE_BOOK[playerid][slot][phone_book_contact_NAME], PLAYER_PHONE_BOOK[playerid][slot][phone_book_contact_PHONE_NUMBER]);
				ShowDialog(playerid, DIALOG_PHONE_BOOK);
			}
			else ShowDialog(playerid, DIALOG_PHONE_BOOK_ADD_NUMBER);
			return 1;
		}
		case DIALOG_PHONE_BOOK_OPTIONS:
		{
			if(response)
			{
				switch(listitem)
				{
					case 0: ShowPlayerMessage(playerid, "Usa /llamar");
					case 1: ShowDialog(playerid, DIALOG_PHONE_BOOK_SEND_MESSAGE);
					case 2: ShowDialog(playerid, DIALOG_PHONE_BOOK_CHANGE_NAME);
					case 3: ShowDialog(playerid, DIALOG_PHONE_BOOK_CONFIRM_DELET);
				}
			}
			else ShowDialog(playerid, DIALOG_PHONE_BOOK);
			return 1;
		}
		case DIALOG_PHONE_COORD:
		{
			if(response)
			{
				new id;
				id = strval(inputtext);
				if(id == INVALID_PLAYER_ID) return ShowDialog(playerid, dialogid);
				if(id == playerid) return ShowDialog(playerid, dialogid);
				if(!IsPlayerConnected(id)) return ShowDialog(playerid, dialogid);
				new Float:x, Float:y, Float:z;
				GetPlayerPos(playerid, Float:x, Float:y, Float:z);
				SetPlayer_GPS_Checkpoint(id, x, y, z, 0, 0);
				SendClientMessageEx(id, -1, ""COLOR_SERVER1"[MENSAJE] {FFFFFF}%s acaba de enviarte su posicion actual.", PLAYER_TEMP[playerid][pt_RP_NAME]);
				SendClientMessageEx(playerid, -1, ""COLOR_SERVER1"[MENSAJE] {FFFFFF}acabas de enviar tu posicion actual a %s.", PLAYER_TEMP[id][pt_RP_NAME]);
			}
		}
		case DIALOG_PHONE_BOOK_CHANGE_NAME:
		{
			if(response)
			{
				if(isnull(inputtext))
				{
					PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
					ShowDialog(playerid, dialogid);
					return 1;
				}
				if(strlen(inputtext) > 24)
				{
					ShowPlayerMessage(playerid, "Caracteres: 1-24.", 2);
					ShowDialog(playerid, dialogid);
					return 1;
				}

				format(PLAYER_PHONE_BOOK[playerid][ PLAYER_TEMP[playerid][pt_PLAYER_PHONE_BOOK_SELECTED] ][phone_book_contact_NAME], 24, "%s", inputtext);
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE pbook SET name = '%e' WHERE id = %d;", PLAYER_PHONE_BOOK[playerid][ PLAYER_TEMP[playerid][pt_PLAYER_PHONE_BOOK_SELECTED] ][phone_book_contact_NAME], PLAYER_PHONE_BOOK[playerid][ PLAYER_TEMP[playerid][pt_PLAYER_PHONE_BOOK_SELECTED] ][phone_book_contact_ID]);
				mysql_tquery(srp_db, QUERY_BUFFER);

				ShowPlayerMessage(playerid, "Contacto modificado.", 2);
				ShowDialog(playerid, DIALOG_PHONE_BOOK);
			}
			else ShowDialog(playerid, DIALOG_PHONE_BOOK_OPTIONS);
			return 1;
		}
		case DIALOG_PHONE_BOOK_CONFIRM_DELET:
		{
			if(response)
			{
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "DELETE FROM pbook WHERE id = %d;", PLAYER_PHONE_BOOK[playerid][ PLAYER_TEMP[playerid][pt_PLAYER_PHONE_BOOK_SELECTED] ][phone_book_contact_ID]);
				mysql_tquery(srp_db, QUERY_BUFFER);

				SendFormatNotification(playerid, "Contacto ~g~\"%s\" ~w~eliminado de tu agenda.", PLAYER_PHONE_BOOK[playerid][ PLAYER_TEMP[playerid][pt_PLAYER_PHONE_BOOK_SELECTED] ][phone_book_contact_NAME]);

				PLAYER_PHONE_BOOK[playerid][ PLAYER_TEMP[playerid][pt_PLAYER_PHONE_BOOK_SELECTED] ][phone_book_contact_VALID] = false;
				PLAYER_PHONE_BOOK[playerid][ PLAYER_TEMP[playerid][pt_PLAYER_PHONE_BOOK_SELECTED] ][phone_book_contact_ID] = 0;
				format(PLAYER_PHONE_BOOK[playerid][ PLAYER_TEMP[playerid][pt_PLAYER_PHONE_BOOK_SELECTED] ][phone_book_contact_NAME], 24, "");
				PLAYER_PHONE_BOOK[playerid][ PLAYER_TEMP[playerid][pt_PLAYER_PHONE_BOOK_SELECTED] ][phone_book_contact_PHONE_NUMBER] = 0;

				ShowDialog(playerid, DIALOG_PHONE_BOOK);
			}
			else ShowDialog(playerid, DIALOG_PHONE_BOOK_OPTIONS);
			return 1;
		}
		case DIALOG_PHONE_BOOK_DELETE_ALL:
		{
			if(response)
			{
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "DELETE FROM pbook WHERE id_player = %d;", PI[playerid][pi_ID]);
				mysql_tquery(srp_db, QUERY_BUFFER);

				new temp_PLAYER_PHONE_BOOK[Phone_Book_Enum];
				for(new i = 0; i != MAX_PHONE_CONTACTS; i ++) PLAYER_PHONE_BOOK[playerid][i] = temp_PLAYER_PHONE_BOOK;

				ShowPlayerMessage(playerid, "Ha eliminado todos sus contactos.", 2);
			}
			else ShowDialog(playerid, DIALOG_PHONE_BOOK);
			return 1;
		}
		case DIALOG_PHONE_CALL_NUMBER:
		{
			if(response) ShowPlayerMessage(playerid, "Usa /llamar");
			else ShowDialog(playerid, DIALOG_PHONE);
			return 1;
		}
		case DIALOG_PHONE_SMS_NUMBER:
		{
			if(response) ShowPlayerMessage(playerid, "Usa /sms");
			else ShowDialog(playerid, DIALOG_PHONE);
			return 1;
		}
		case DIALOG_PHONE_SMS_MESSAGE:
		{
			if(response) ShowPlayerMessage(playerid, "Usa /sms");
			else ShowDialog(playerid, DIALOG_PHONE_SMS_MESSAGE);
			return 1;
		}
		case DIALOG_PHONE_BOOK_SEND_MESSAGE:
		{
			if(response) ShowPlayerMessage(playerid, "Usa /sms");
			else ShowDialog(playerid, DIALOG_PHONE_BOOK_OPTIONS);
			return 1;
		}
		case DIALOG_PHONE_SENT_MESSAGES:
		{
			if(!response) ShowDialog(playerid, DIALOG_PHONE);
			return 1;
		}
		case DIALOG_PHONE_RECEIVED_MESSAGES:
		{
			if(!response) ShowDialog(playerid, DIALOG_PHONE);
			return 1;
		}
		case DIALOG_CONFIRM_BUY_PROPERTY:
		{
			if(response)
			{
				if(PROPERTY_INFO[PLAYER_TEMP[playerid][pt_BUY_HOUSE_INDEX]][property_SOLD]) return ShowPlayerMessage(playerid, "Está propiedad ya está vendida.", 2);
				if(PROPERTY_INFO[PLAYER_TEMP[playerid][pt_BUY_HOUSE_INDEX]][property_LEVEL] > PI[playerid][pi_LEVEL]) return SendFormatNotification(playerid, "Necesitas ser como mínimo nivel %d para comprar esta propiedad.", PROPERTY_INFO[PLAYER_TEMP[playerid][pt_BUY_HOUSE_INDEX]][property_LEVEL]);
				if(PROPERTY_INFO[PLAYER_TEMP[playerid][pt_BUY_HOUSE_INDEX]][property_PRICE] > PI[playerid][pi_BANK_MONEY]) return ShowPlayerMessage(playerid, "No.", 2);
				if(PROPERTY_INFO[PLAYER_TEMP[playerid][pt_BUY_HOUSE_INDEX]][property_VIP_LEVEL] > PI[playerid][pi_VIP]) return ShowPlayerMessage(playerid, "No.", 2);
				if(PROPERTY_INFO[PLAYER_TEMP[playerid][pt_BUY_HOUSE_INDEX]][property_EXTRA] > PI[playerid][pi_COINS]) return ShowPlayerMessage(playerid, "No.", 2);
	
				if(!PROPERTY_INFO[PLAYER_TEMP[playerid][pt_BUY_HOUSE_INDEX]][property_EXTRA])
				{
					if(PI[playerid][pi_PHONE_NUMBER])
					{
						new message[64]; format(message, sizeof message, "PROPIEDAD COMPRADA: -%s$", number_format_thousand(PROPERTY_INFO[PLAYER_TEMP[playerid][pt_BUY_HOUSE_INDEX]][property_PRICE]));
						RegisterPhoneMessage(0, PI[playerid][pi_ID], message);
						if(PI[playerid][pi_PHONE_STATE] == PHONE_STATE_ON) SendClientMessageEx(playerid, -1, "{"#PRIMARY_COLOR"}[Nuevo mensaje recibido] {"#SILVER_COLOR"}Remitente: {FFFFFF}%s {"#SILVER_COLOR"}Mensaje: {FFFFFF}%s", convertPhoneNumber(playerid, 6740), message);
					}
					
					PI[playerid][pi_BANK_MONEY] -= PROPERTY_INFO[PLAYER_TEMP[playerid][pt_BUY_HOUSE_INDEX]][property_PRICE];
				
					mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET bank_money = %d WHERE id = %d;", PI[playerid][pi_BANK_MONEY], PI[playerid][pi_ID]);
					mysql_tquery(srp_db, QUERY_BUFFER);
					RegisterBankAccountTransaction(PI[playerid][pi_ID], PI[playerid][pi_ID], BANK_TRANSACTION_BUY_PROPERTY, PROPERTY_INFO[PLAYER_TEMP[playerid][pt_BUY_HOUSE_INDEX]][property_PRICE]);
				}
				else
				{
					PI[playerid][pi_COINS] -= PROPERTY_INFO[PLAYER_TEMP[playerid][pt_BUY_HOUSE_INDEX]][property_EXTRA];
					
					mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET coins = %d WHERE id = %d;", PI[playerid][pi_COINS], PI[playerid][pi_ID]);
					mysql_tquery(srp_db, QUERY_BUFFER);
					
					SendFormatNotification(playerid, "Has gastado %d "SERVER_COIN" en la compra de esta propiedad.", PROPERTY_INFO[PLAYER_TEMP[playerid][pt_BUY_HOUSE_INDEX]][property_EXTRA]);
				}
				
				
				PROPERTY_INFO[PLAYER_TEMP[playerid][pt_BUY_HOUSE_INDEX]][property_SOLD] = true;
				PROPERTY_INFO[PLAYER_TEMP[playerid][pt_BUY_HOUSE_INDEX]][property_CREW] = false;
				PROPERTY_INFO[PLAYER_TEMP[playerid][pt_BUY_HOUSE_INDEX]][property_OWNER_ID] = PI[playerid][pi_ID];
				CreatePropertyInfo(PLAYER_TEMP[playerid][pt_BUY_HOUSE_INDEX], PI[playerid][pi_ID], PI[playerid][pi_NAME], 0, "");
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE properties SET id_player = %d, id_territory = NULL WHERE id = %d;", PI[playerid][pi_ID], PROPERTY_INFO[PLAYER_TEMP[playerid][pt_BUY_HOUSE_INDEX]][property_ID]);
				mysql_tquery(srp_db, QUERY_BUFFER);
				
				
				SendFormatNotification(playerid, "~g~¡Propiedad %d comprada!~n~~n~ ~w~Ahora puedes ir a tu casa, si no sabes donde es puedes marcarla con el ~b~/GPS~w~.", PROPERTY_INFO[PLAYER_TEMP[playerid][pt_BUY_HOUSE_INDEX]][property_ID]);
				PlayerPlaySoundEx(playerid, 1058, 0.0, 0.0, 0.0);
				OtorgarLogro(playerid, 30);
				if(PI[playerid][pi_A9] == 0) 
                                 { 
                                     new Mision[500];
                                     GivePlayerCash(playerid, 5000, true, false); 
                                     SendFormatNotification(playerid, "Has completado una ~g~mision"); 
                                     PI[playerid][pi_A9] = 1; 
                                     TextDrawShowForPlayer(playerid,BoxMisiones);
                                     TextDrawShowForPlayer(playerid,MisionCo);
                                     TextDrawShowForPlayer(playerid,MisionRe);
                                     format(Mision,sizeof(Mision),"~w~Comprar Tu Casa 5000~g~$");
                                     TextDrawSetString(MisionRe, Mision); 
                                     SetTimerEx("ActualizarTextDraw",4500,false,"i",playerid);//
                                 }
			}
			return 1;
		}
		case DIALOG_PLAYER_GPS:
		{
			if(response)
			{
				switch(listitem)
				{
					case 0: ShowDialog(playerid, DIALOG_PLAYER_GPS_PLAYER);
					case 1: ShowDialog(playerid, DIALOG_PLAYER_GPS_PROPERTIES);
					case 2: ShowDialog(playerid, DIALOG_PLAYER_GPS_VEHICLES); 
					case 3: PC_EmulateCommand(playerid, "/apartamento");
					case 4: ShowDialog(playerid, DIALOG_PLAYER_GPS_SITES); 
					
					case 5: PC_EmulateCommand(playerid, "/empresas");
					case 6: PC_EmulateCommand(playerid, "/negocios");
					case 7: PC_EmulateCommand(playerid, "/laboratorios"); 
					case 8: PC_EmulateCommand(playerid, "/fabricas");
					case 9: PC_EmulateCommand(playerid, "/alquileres");
					
					case 10: ShowDialog(playerid, DIALOG_PLAYER_GPS_WORKS);
					case 11:
					{
						if(PLAYER_TEMP[playerid][pt_GPS_MAP]) HidePlayerGpsMap(playerid);
						else ShowPlayerGpsMap(playerid);
					}
				}
			}
			return 1;
		}
		case DIALOG_PLAYER_GPS_PLAYER:
		{
			if(response)
			{
				if(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] == -1) return ShowDialog(playerid, dialogid);
				if(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] == MAX_PLAYER_GPS_SAVES + 10) return ShowDialog(playerid, DIALOG_PLAYER_GPS_PLAYER_ADD);
				if(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] == MAX_PLAYER_GPS_SAVES + 20) return ShowDialog(playerid, DIALOG_PLAYER_GPS_DELETE_ALL);

				PLAYER_TEMP[playerid][pt_GPS_PLAYER_SELECTED] = PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem];
				ShowDialog(playerid, DIALOG_PLAYER_GPS_PLAYER_OPTION);
			}
			else ShowDialog(playerid, DIALOG_PLAYER_GPS);
			return 1;
		}
		case DIALOG_PLAYER_GPS_PLAYER_ADD:
		{
			if(response)
			{
				if(isnull(inputtext))
				{
					PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
					ShowDialog(playerid, dialogid);
					return 1;
				}
				if(strlen(inputtext) > 24)
				{
					ShowPlayerMessage(playerid, "Caracteres: 1-24.", 2);
					ShowDialog(playerid, dialogid);
					return 1;
				}

				new slot = GetEmptyPlayer_GPS_Slot(playerid);
				if(slot == -1) return ShowPlayerMessage(playerid, "Memoria del GPS llena.", 2);

				PLAYER_GPS[playerid][slot][player_gps_VALID] = true;
				format(PLAYER_GPS[playerid][slot][player_gps_NAME], 24, "%s", inputtext);
				GetPlayerPos(playerid, PLAYER_GPS[playerid][slot][player_gps_X], PLAYER_GPS[playerid][slot][player_gps_Y], PLAYER_GPS[playerid][slot][player_gps_Z]);
				PLAYER_GPS[playerid][slot][player_gps_WORLD] = GetPlayerVirtualWorld(playerid);
				PLAYER_GPS[playerid][slot][player_gps_INTERIOR] = GetPlayerInterior(playerid);
				RegisterNewPlayer_GPS_Site(playerid, slot);

				PlayerPlaySoundEx(playerid, 1058, 0.0, 0.0, 0.0);
				SendFormatNotification(playerid, "Nuevo sitio añadido al GPS con el nombre: ~g~%s~w~.", PLAYER_GPS[playerid][slot][player_gps_NAME]);
				ShowDialog(playerid, DIALOG_PLAYER_GPS_PLAYER);
			}
			else ShowDialog(playerid, DIALOG_PLAYER_GPS_PLAYER);
			return 1;
		}
		case DIALOG_PLAYER_GPS_PLAYER_OPTION:
		{
			if(response)
			{
				switch(listitem)
				{
					case 0: SetPlayer_GPS_Checkpoint(playerid, PLAYER_GPS[playerid][PLAYER_TEMP[playerid][pt_GPS_PLAYER_SELECTED]][player_gps_X], PLAYER_GPS[playerid][PLAYER_TEMP[playerid][pt_GPS_PLAYER_SELECTED]][player_gps_Y], PLAYER_GPS[playerid][PLAYER_TEMP[playerid][pt_GPS_PLAYER_SELECTED]][player_gps_Z], PLAYER_GPS[playerid][PLAYER_TEMP[playerid][pt_GPS_PLAYER_SELECTED]][player_gps_WORLD], PLAYER_GPS[playerid][PLAYER_TEMP[playerid][pt_GPS_PLAYER_SELECTED]][player_gps_INTERIOR]);
					case 1: ShowDialog(playerid, DIALOG_PLAYER_GPS_CHANGE_NAME);
					case 2: ShowDialog(playerid, DIALOG_PLAYER_GPS_CONFIRM_DELET);
				}
			}
			else ShowDialog(playerid, DIALOG_PLAYER_GPS_PLAYER);
			return 1;
		}
		case DIALOG_PLAYER_GPS_CHANGE_NAME:
		{
			if(response)
			{
				if(isnull(inputtext))
				{
					PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
					ShowDialog(playerid, dialogid);
					return 1;
				}
				if(strlen(inputtext) > 24)
				{
					ShowPlayerMessage(playerid, "Caracteres: 1-24.", 2);
					ShowDialog(playerid, dialogid);
					return 1;
				}

				format(PLAYER_GPS[playerid][ PLAYER_TEMP[playerid][pt_GPS_PLAYER_SELECTED] ][player_gps_NAME], 24, "%s", inputtext);

				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE pgps SET name = '%e' WHERE id = %d;", PLAYER_GPS[playerid][ PLAYER_TEMP[playerid][pt_GPS_PLAYER_SELECTED] ][player_gps_NAME], PLAYER_GPS[playerid][ PLAYER_TEMP[playerid][pt_GPS_PLAYER_SELECTED] ][player_gps_ID]);
				mysql_tquery(srp_db, QUERY_BUFFER);

				PlayerPlaySoundEx(playerid, 1058, 0.0, 0.0, 0.0);
				ShowPlayerMessage(playerid, "Has modificado el nombre de este lugar correctamente");
				ShowDialog(playerid, DIALOG_PLAYER_GPS_PLAYER);
			}
			else ShowDialog(playerid, DIALOG_PLAYER_GPS_PLAYER_OPTION);
			return 1;
		}
		case DIALOG_PLAYER_GPS_CONFIRM_DELET:
		{
			if(response)
			{
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "DELETE FROM pgps WHERE id = %d;", PLAYER_GPS[playerid][ PLAYER_TEMP[playerid][pt_GPS_PLAYER_SELECTED] ][player_gps_ID]);
				mysql_tquery(srp_db, QUERY_BUFFER);

				PLAYER_GPS[playerid][ PLAYER_TEMP[playerid][pt_GPS_PLAYER_SELECTED] ][player_gps_VALID] = false;
				PLAYER_GPS[playerid][ PLAYER_TEMP[playerid][pt_GPS_PLAYER_SELECTED] ][player_gps_ID] = 0;
				format(PLAYER_GPS[playerid][ PLAYER_TEMP[playerid][pt_GPS_PLAYER_SELECTED] ][player_gps_NAME], 24, "");
				PLAYER_GPS[playerid][ PLAYER_TEMP[playerid][pt_GPS_PLAYER_SELECTED] ][player_gps_X] = 0.0;
				PLAYER_GPS[playerid][ PLAYER_TEMP[playerid][pt_GPS_PLAYER_SELECTED] ][player_gps_Y] = 0.0;
				PLAYER_GPS[playerid][ PLAYER_TEMP[playerid][pt_GPS_PLAYER_SELECTED] ][player_gps_Z] = 0.0;
				PLAYER_GPS[playerid][ PLAYER_TEMP[playerid][pt_GPS_PLAYER_SELECTED] ][player_gps_WORLD] = 0;
				PLAYER_GPS[playerid][ PLAYER_TEMP[playerid][pt_GPS_PLAYER_SELECTED] ][player_gps_INTERIOR] = 0;

				PlayerPlaySoundEx(playerid, 1058, 0.0, 0.0, 0.0);
				ShowPlayerMessage(playerid, "Has eliminado este lugar de tu GPS.", 2);
				ShowDialog(playerid, DIALOG_PLAYER_GPS_PLAYER);
			}
			else ShowDialog(playerid, DIALOG_PLAYER_GPS_PLAYER_OPTION);
			return 1;
		}
		case DIALOG_PLAYER_GPS_DELETE_ALL:
		{
			if(response)
			{
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "DELETE FROM pgps WHERE id_player = %d;", PI[playerid][pi_ID]);
				mysql_tquery(srp_db, QUERY_BUFFER);

				new temp_PLAYER_GPS[Player_GPS_Enum];
				for(new i = 0; i != MAX_PLAYER_GPS_SAVES; i ++) PLAYER_GPS[playerid][i] = temp_PLAYER_GPS;

				ShowPlayerMessage(playerid, "Ha eliminado todos tus lugares guardados.", 2);
			}
			else ShowDialog(playerid, DIALOG_PLAYER_GPS_PLAYER);
			return 1;
		}
		case DIALOG_PLAYER_GPS_SITES:
		{
			if(response)
			{
				switch(listitem)
				{
					case 0: ShowDialog(playerid, DIALOG_PLAYER_GPS_SITE_0); //Hospitales
					case 1: ShowDialog(playerid, DIALOG_PLAYER_GPS_SITE_2); // Tiendas de ropa 
					case 2: ShowDialog(playerid, DIALOG_PLAYER_GPS_SITE_3); // 24 7
					case 3: ShowDialog(playerid, DIALOG_PLAYER_GPS_SITE_4); // Comida 
					case 4: ShowDialog(playerid, DIALOG_PLAYER_GPS_SITE_5); // Bancos
					case 5: ShowDialog(playerid, DIALOG_PLAYER_GPS_SITE_6); // Cajeros 
					case 6: ShowDialog(playerid, DIALOG_PLAYER_GPS_SITE_7); // Conses 
					case 7: ShowDialog(playerid, DIALOG_PLAYER_GPS_SITE_8); // SAPD 
					case 8: SetPlayer_GPS_Checkpoint(playerid, 263.592102, 22.960014, 2.170951, 0, 0); //Tuning
					case 9: SetPlayer_GPS_Checkpoint(playerid, 1153.9894, -1772.6492, 16.5992, 0, 0); // Auto escuela
					case 10: ShowDialog(playerid, DIALOG_FARMACIAS); //  
				}
			}
			else ShowDialog(playerid, DIALOG_PLAYER_GPS);
			return 1;
		}
		case DIALOG_PLAYER_GPS_WORKS:
		{
			if(response)
			{
				if(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] == -1) return true;
				if(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] == WORK_MEDIC) ShowPlayerMessage(playerid, "Este trabajo se puede conseguir en cualquier hospital.", 2);
				else SetPlayer_GPS_Checkpoint(playerid, obtain_work_coords[ PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] ][obtain_work_MAP_ICON_X], obtain_work_coords[ PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] ][obtain_work_MAP_ICON_Y], obtain_work_coords[ PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] ][obtain_work_MAP_ICON_Z], 0, 0);
			}
			else ShowDialog(playerid, DIALOG_PLAYER_GPS);
			return 1;
		}
		case DIALOG_PLAYER_GPS_SITE_2 .. DIALOG_PLAYER_GPS_SITE_4, DIALOG_PLAYER_GPS_SITE_8: 
{
    if (response)
    {
        if (PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] == -1) return ShowDialog(playerid, DIALOG_PLAYER_GPS);
        
        SetPlayer_GPS_Checkpoint(playerid, 
            ENTER_EXIT[ PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] ][ee_EXT_X], 
            ENTER_EXIT[ PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] ][ee_EXT_Y], 
            ENTER_EXIT[ PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] ][ee_EXT_Z], 
            ENTER_EXIT[ PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] ][ee_EXT_WORLD], 
            ENTER_EXIT[ PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] ][ee_EXT_INTERIOR]
        );
    }
    else ShowDialog(playerid, DIALOG_PLAYER_GPS_SITES);
    return 1;
}
		case DIALOG_PLAYER_GPS_SITE_0: //Hospitales
		{
			if(response) SetPlayer_GPS_Checkpoint(playerid, Hospital_Spawn_Positions[ PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] ][hspi_X], Hospital_Spawn_Positions[ PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] ][hspi_Y], Hospital_Spawn_Positions[ PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] ][hspi_Z], 0, 0);
			else ShowDialog(playerid, DIALOG_PLAYER_GPS_SITES);
			return 1;
		}
		case DIALOG_PLAYER_GPS_SITE_5: //EE
		{
			if(response)
			{
				if(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] == -1) return ShowDialog(playerid, DIALOG_PLAYER_GPS);
				SetPlayer_GPS_Checkpoint(playerid, ENTER_EXIT[ PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] ][ee_EXT_X], ENTER_EXIT[ PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] ][ee_EXT_Y], ENTER_EXIT[ PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] ][ee_EXT_Z], ENTER_EXIT[ PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] ][ee_EXT_WORLD], ENTER_EXIT[ PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] ][ee_EXT_INTERIOR]);
			}
			else ShowDialog(playerid, DIALOG_PLAYER_GPS_SITES);
			return 1;
		}
		case DIALOG_FARMACIAS:
		{
			if (response)
			{
				if (PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] == -1) return ShowDialog(playerid, DIALOG_PLAYER_GPS);
				SetPlayer_GPS_Checkpoint(playerid, ENTER_EXIT[ PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] ][ee_EXT_X], ENTER_EXIT[ PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] ][ee_EXT_Y], ENTER_EXIT[ PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] ][ee_EXT_Z], ENTER_EXIT[ PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] ][ee_EXT_WORLD], ENTER_EXIT[ PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] ][ee_EXT_INTERIOR]);
			}
			else ShowDialog(playerid, DIALOG_PLAYER_GPS_SITES);
			return 1;
		}
		case DIALOG_PLAYER_GPS_SITE_6: //Cajeros
		{
			if(response) SetPlayer_GPS_Checkpoint(playerid, ATM_BANK[listitem][atm_X], ATM_BANK[listitem][atm_Y], ATM_BANK[listitem][atm_Z], 0, 0);
			else ShowDialog(playerid, DIALOG_PLAYER_GPS_SITES);
			return 1;
		}
		case DIALOG_PLAYER_GPS_SITE_7: //Concesionarios
		{
			if(response) DealerShipGPSResponse(playerid, listitem);
			else ShowDialog(playerid, DIALOG_PLAYER_GPS_SITES);
			return 1;
		}
		case DIALOG_WORKS_TELEPORTS:
		{
			if(response)
			{
				if(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] == -1) return true;
				else SetPlayerPosEx(playerid, obtain_work_coords[ PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] ][obtain_work_MAP_ICON_X], obtain_work_coords[ PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] ][obtain_work_MAP_ICON_Y], obtain_work_coords[ PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] ][obtain_work_MAP_ICON_Z], 0.0, 0, 0, true);
			}
			return 1;
		}
		case DIALOG_PLAYER_GPS_PROPERTIES:
		{
			if(response)
			{
				if(PLAYER_TEMP[playerid][pt_PLAYER_GPS_SELECTED_PROPERTY][listitem] == -1) return ShowDialog(playerid, DIALOG_PLAYER_GPS);

				new index = GetPropertyIndexByID(PLAYER_TEMP[playerid][pt_PLAYER_GPS_SELECTED_PROPERTY][listitem]);
				if(index != -1) SetPlayer_GPS_Checkpoint(playerid, PROPERTY_INFO[index][property_EXT_X], PROPERTY_INFO[index][property_EXT_Y], PROPERTY_INFO[index][property_EXT_Z], 0, PROPERTY_INFO[index][property_EXT_INTERIOR]);
			}
			else ShowDialog(playerid, DIALOG_PLAYER_GPS);
			return 1;
		}
		case DIALOG_PLAYER_GPS_VEHICLES:
{
    if(response)
    {
        new vehicle_in_world = PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem];
        new parking_index_array = PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM_EX][listitem];

        // 1. SI ES UN vehiculo EN EL MUNDO (No está en parking)
        if(vehicle_in_world != -1)
        {
            if(!PI[playerid][pi_VIP])
            {
                if(!PLAYER_VEHICLES[vehicle_in_world][player_vehicle_ACCESSIBLE])
                {
                    return SendNotification(playerid, "No podrás usar este vehiculo hasta que no consigas VIP.");
                }
            }

            new Float:pos[3];
            GetVehiclePos(vehicle_in_world, pos[0], pos[1], pos[2]);
            SetPlayer_GPS_Checkpoint(playerid, pos[0], pos[1], pos[2], GLOBAL_VEHICLES[vehicle_in_world][gb_vehicle_WORLD], 0);
            
            SendClientMessage(playerid, -1, "{3BF1B3}[GPS]{FFFFFF} Localizando vehiculo en la calle...");
        }
        // 2. SI ES UN vehiculo EN EL PARKING
        else if(parking_index_array != -1)
        {
            // Obtenemos el ID del parking donde está guardado
            new p_idx = ParkingVehicles[playerid][parking_index_array][pvParkingIndex];
            
            // Verificamos que el índice del parking sea válido
            if(IsValidParkingSlotIndex(p_idx))
            {
                // Marcamos el GPS en la posición del Pickup del Parking
                SetPlayer_GPS_Checkpoint(playerid, 
                    ParkingSlotInfo[p_idx][piPosX], 
                    ParkingSlotInfo[p_idx][piPosY], 
                    ParkingSlotInfo[p_idx][piPosZ], 
                    0, 0); // World 0 e Interior 0 por defecto para parkings

                new str[128];
                format(str, sizeof(str), "{3BF1B3}[GPS]{FFFFFF} El vehiculo está en el {FED137}Parking #%d{FFFFFF}. Ve allí para sacarlo.", p_idx);
                SendClientMessage(playerid, -1, str);
            }
            else
            {
                SendClientMessage(playerid, -1, "{FF0000}[Error]{FFFFFF} No se pudo localizar la ubicación de este parking.");
            }
        }
        else 
        {
            return ShowDialog(playerid, DIALOG_PLAYER_GPS);
        }
    }
    else 
    {
        ShowDialog(playerid, DIALOG_PLAYER_GPS);
    }
    return 1;
       }

		case DIALOG_PROPERTY_OPTIONS:
		{
			if(response)
			{
				switch(listitem)
				{
					case 0: ShowDialog(playerid, DIALOG_PROPERTY_NAME);
					case 1:
					{
						new total;
						for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
						{
							if(IsPlayerConnected(i))
							{
								if( PI[i][pi_STATE] == ROLEPLAY_STATE_GUEST_PROPERTY && PI[i][pi_LOCAL_INTERIOR] == PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_ID])
								{
									if(PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_POLICE_FORCED] && (PLAYER_WORKS[i][WORK_POLICE][pwork_SET] && PLAYER_TEMP[i][pt_WORKING_IN] == WORK_POLICE)) {
										continue;
									}

									PI[i][pi_STATE] = ROLEPLAY_STATE_NORMAL;
									PI[i][pi_LOCAL_INTERIOR] = 0;
									PLAYER_TEMP[i][pt_PROPERTY_INDEX] = -1;
									SetPlayerPosEx(i, PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_EXT_X], PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_EXT_Y], PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_EXT_Z], PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_EXT_ANGLE], PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_EXT_INTERIOR], 0, PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_EXT_FREEZE], false);
									StopAudioStreamForPlayer(i);
									SendFormatNotification(i, "~r~%s~w~ te ha echado de su propiedad.", PLAYER_TEMP[playerid][pt_RP_NAME]);
									total ++;
								}
							}
						}
						if(total == 0) ShowPlayerMessage(playerid, "No hay nadie en tu propiedad.", 2);
						else SendFormatNotification(playerid, "Has echado %d personas de tu propiedad.", total);
					}
					
					case 2: {
						if(PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_DIS_DEFAULT_INTERIOR]) {
							SetPropertyDefaultFurniture(PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED], true);
							ShowPlayerMessage(playerid, "Se han vuelto a crear los muebles por defecto de esta propiedad.", 2);
						}
						else {
							if(PROPERTY_INTERIORS[ PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_ID_INTERIOR] ][property_EMPTY_INTERIOR]) {
								SetPropertyDefaultFurniture(PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED], false);
								ShowPlayerMessage(playerid, "Se han eliminado los muebles por defecto de esta propiedad.", 2);
							}
							else ShowPlayerMessage(playerid, "A esta propiedad no se le pueden eliminar los muebles por defecto.", 2);
						}
					}
					case 3:
					{
						if(!PI[playerid][pi_CREW]) return ShowPlayerMessage(playerid, "No perteneces a ninguna banda.", 2);
						if(!CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_PERMISSION][CREW_RANK_ADD_PROPERTIES]) return ShowPlayerMessage(playerid, "No tienes permiso.", 2);
						
						
						for(new i = 0; i != MAX_TERRITORIES; i ++)
						{
							if(!TERRITORIES[i][territory_VALID]) continue;
							if(!TERRITORIES[i][territory_OCCUPIED]) continue;
							if(TERRITORIES[i][territory_CREW_ID] != PI[playerid][pi_CREW]) continue;
							
							if(IsPointInDynamicArea(TERRITORIES[i][territory_AREA], PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_EXT_X], PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_EXT_Y], PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_EXT_Z]))
							{
								PLAYER_TEMP[playerid][pt_PLAYER_TERRITORY_PRO] = i;
								ShowDialog(playerid, DIALOG_CREW_PROPERTY_CONFIRM);
								return 1;
							}
						}
						ShowPlayerMessage(playerid, "Esta propiedad no está dentro de un territorio de tu banda.", 2);
					}
				}
			}
			return 1;
		}
		case DIALOG_PROPERTY_NAME:
		{
			if(response)
			{
				if(!PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_VALID]) return 1;
				if(PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_OWNER_ID] != PI[playerid][pi_ID]) return 1;

				if(isnull(inputtext)) return ShowDialog(playerid, dialogid);
				if(strlen(inputtext) > 24)
				{
					ShowDialog(playerid, dialogid);
					ShowPlayerMessage(playerid, "»Caracteres: 1-24.", 2);
					return 1;
				}

				format(PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_NAME], 24, "%s", inputtext);
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE properties SET name = '%e' WHERE id = %d;", PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_NAME], PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_ID]);
				mysql_tquery(srp_db, QUERY_BUFFER);

				SendFormatNotification(playerid, "Nombre de la propiedad actualizado a ~g~'%s'~w~.", inputtext);
			}
			else ShowDialog(playerid, DIALOG_PROPERTY_OPTIONS);
			return 1;
		}
		case DIALOG_NOTARY:
		{
			if(response)
			{
				switch(listitem)
				{
					case 0:
					{
						PLAYER_TEMP[playerid][pt_NOTARY_OPTION] = 0;
						ShowDialog(playerid, DIALOG_NOTARY_SELECT_PROPERTY);
					}
					case 1:
					{
						PLAYER_TEMP[playerid][pt_NOTARY_OPTION] = 0;
						ShowDialog(playerid, DIALOG_NOTARY_SELECT_VEHICLE);
					}
					case 2:
					{
						PLAYER_TEMP[playerid][pt_NOTARY_OPTION] = 1;
						ShowDialog(playerid, DIALOG_NOTARY_SELECT_PROPERTY);
					}
					case 3:
					{
						PLAYER_TEMP[playerid][pt_NOTARY_OPTION] = 1;
						ShowDialog(playerid, DIALOG_NOTARY_SELECT_VEHICLE);
					}
				}
			}
			return 1;
		}
		case DIALOG_NOTARY_SELECT_PROPERTY:
		{
			if(response)
			{
				if(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] == -1) return 1;
				
				PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] = GetPropertyIndexByID(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem]);
				if(PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] == -1) return ShowPlayerMessage(playerid, "PROPIEDAD ID no encontrada.", 2);
				
				switch(PLAYER_TEMP[playerid][pt_NOTARY_OPTION])
				{
					case 0: ShowDialog(playerid, DIALOG_PROPERTY_BANK_SELL);
					case 1: ShowDialog(playerid, DIALOG_PROPERTY_SELL_PRICE);
				}
			}
			else
			{
				ShowDialog(playerid, DIALOG_NOTARY);
			}
			return 1;
		}
			case DIALOG_PROPERTY_BANK_SELL:
		{
			if(response)
			{
				if(!PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_VALID]) return 1;
				if(PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_OWNER_ID] != PI[playerid][pi_ID]) return 1;
				if(PI[playerid][pi_BANK_ACCOUNT] == 0) return SendNotification(playerid, "Necesitas tener una cuenta bancaria para vender la propiedad.");

				PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_SOLD] = false;
				PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_CREW] = false;
				PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_OWNER_ID] = 0;
				format(PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_NAME], 24, "PROPIEDAD %d", PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_ID]);
				
				new info[3];
				UpdateUnnocupiedPropertyLabel(PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED]);
				
				DestroyDynamicPickup(PROPERTY_INFO[PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED]][property_EXT_PICKUP_ID]);
				PROPERTY_INFO[PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED]][property_EXT_PICKUP_ID] = INVALID_STREAMER_ID;
				
				PROPERTY_INFO[PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED]][property_EXT_PICKUP_ID] = CreateDynamicPickup(1273, 1, PROPERTY_INFO[PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED]][property_EXT_X], PROPERTY_INFO[PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED]][property_EXT_Y], PROPERTY_INFO[PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED]][property_EXT_Z], 0, PROPERTY_INFO[PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED]][property_EXT_INTERIOR]);
				info[0] = PICKUP_TYPE_PROPERTY;
				info[1] = PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED]; // Index
				info[2] = 2; // Pickup Exterior
				Streamer_SetArrayData(STREAMER_TYPE_PICKUP, PROPERTY_INFO[PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED]][property_EXT_PICKUP_ID], E_STREAMER_EXTRA_ID, info);
				
				new Float:price, payment;
				price = PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_PRICE_BASE];
				if(PI[playerid][pi_VIP]) payment = floatround( floatmul(price, 0.50) );
				else payment = floatround( floatmul(price, 0.25) );
				
				if(PI[playerid][pi_PHONE_NUMBER])
				{
					new message[64]; format(message, sizeof message, "PROPIEDAD VENDIDA: +$%s", number_format_thousand(payment));
					RegisterPhoneMessage(0, PI[playerid][pi_ID], message);
					if(PI[playerid][pi_PHONE_STATE] == PHONE_STATE_ON) SendClientMessageEx(playerid, -1, ""WHITE"[Nuevo mensaje recibido] "RED"Remitente: "WHITE"%s "RED"Mensaje: "WHITE"%s", convertPhoneNumber(playerid, 6740), message);
				}
				
				PI[playerid][pi_BANK_MONEY] += payment;
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET bank_money = %d WHERE id = %d;", PI[playerid][pi_BANK_MONEY], PI[playerid][pi_ID]);
				mysql_tquery(srp_db, QUERY_BUFFER);

				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE properties SET id_player = NULL, id_territory = NULL WHERE id = %d;", PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_ID]);
				mysql_tquery(srp_db, QUERY_BUFFER);
						
				RegisterBankAccountTransaction(PI[playerid][pi_ID], PI[playerid][pi_ID], BANK_TRANSACTION_SOLD_PROPERTY, payment);
				SendFormatNotification(playerid, "Has vendido esta propiedad, has recibido $%s en tu cuenta bancaria.", number_format_thousand(payment));
				PlayerPlaySoundEx(playerid, 1058, 0.0, 0.0, 0.0);
			
			}
			else ShowDialog(playerid, DIALOG_NOTARY_SELECT_PROPERTY);
			return 1;
		}
		case DIALOG_PROPERTY_SELL_PRICE:
		{
			if(response)
			{
				if(sscanf(inputtext, "d", inputtext[0])) return ShowDialog(playerid, dialogid);
				
				new Float:price, min_price, max_price;
				price = PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_PRICE];
				min_price = floatround( floatmul(price, 0.15) );
				max_price = floatround( floatmul(price, 6.0) );
				
				if(inputtext[0] < min_price || inputtext[0] > max_price)
				{
					ShowPlayerMessage(playerid, "Este precio no está dentro del rango ofrecido.", 2);
					ShowDialog(playerid, dialogid);
					return 1;
				}
				
				PLAYER_TEMP[playerid][pt_NOTARY_PRICE] = inputtext[0];
				ShowDialog(playerid, DIALOG_PROPERTY_SELL_TO_PLAYER);
			}
			else ShowDialog(playerid, DIALOG_NOTARY_SELECT_PROPERTY);
			return 1;
		}
		case DIALOG_PROPERTY_SELL_TO_PLAYER:
		{
			if(response)
			{
				if(sscanf(inputtext, "u", inputtext[0])) return ShowDialog(playerid, dialogid);
				
				if(!IsPlayerConnected(inputtext[0])) return ShowPlayerMessage(playerid, "Error, el comprador está desconectado.", 2);
				if(inputtext[0] == playerid) return ShowPlayerMessage(playerid, "¿Pero como te vas a vender algo a ti mismo?", 2);
				if(PLAYER_TEMP[inputtext[0]][pt_GAME_STATE] != GAME_STATE_NORMAL) return ShowPlayerMessage(playerid, "Error, el comprador no está disponible.", 2);
				if(PI[inputtext[0]][pi_BANK_ACCOUNT] == 0) return ShowPlayerMessage(playerid, "El comprador no tiene cuenta bancaria.", 2);
				if(PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] == -1 || ENTER_EXIT[ PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] ][ee_INTERIOR_TYPE] != INTERIOR_CITY_HALL_LS) return 1;
				if(!IsPlayerInRangeOfPoint(playerid, 1.0, 619.577514, -3.359989, 1000.990295)) return 1;
				new player_properties = CountPlayerProperties(inputtext[0]);
				if(player_properties >= MAX_SU_PROPERTIES) return ShowPlayerMessage(playerid, "El comprador no puede adquirir más propiedades.", 2);
				if(!PI[inputtext[0]][pi_VIP])
				{
					if(player_properties >= MAX_NU_PROPERTIES) return ShowPlayerMessage(playerid, "El comprador no puede adquirir más propiedades.", 2);
				}
				
				if(PI[inputtext[0]][pi_LEVEL] < 2) return ShowPlayerMessage(playerid, "Error, el comprador necesita ser al menos nivel 2.", 2);
				if(PLAYER_TEMP[playerid][pt_NOTARY_PRICE] > PI[inputtext[0]][pi_BANK_MONEY]) return ShowPlayerMessage(playerid, "Error, el comprador no tiene el dinero que pides.", 2);
				
				ShowPlayerMessage(playerid, "Tu oferta se ha enviado al comprador, espera para ver si la acepta.", 2);
				
				new action[64]; format(action, sizeof action, "quiere llegar a un acuerdo con %s.", PLAYER_TEMP[inputtext[0]][pt_RP_NAME]);
				Auto_SendPlayerAction(playerid, action);
				
				PLAYER_TEMP[inputtext[0]][pt_PLAYER_PROPERTY_SELECTED] = PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED];
				PLAYER_TEMP[inputtext[0]][pt_NOTARY_PRICE] = PLAYER_TEMP[playerid][pt_NOTARY_PRICE];
				PLAYER_TEMP[inputtext[0]][pt_NOTARY_TO_PLAYER] = playerid;
				PLAYER_TEMP[playerid][pt_NOTARY_TO_PLAYER] = inputtext[0];
				
				ShowDialog(inputtext[0], DIALOG_SELL_CONFIRM_PROPERTY);
			}
			else ShowDialog(playerid, DIALOG_PROPERTY_SELL_PRICE);
			return 1;
		}
		case DIALOG_SELL_CONFIRM_PROPERTY:
		{
			if(response)
			{
				if(!IsPlayerConnected(PLAYER_TEMP[playerid][pt_NOTARY_TO_PLAYER])) return ShowPlayerMessage(playerid, "El vendedor se ha desconectado.", 2);
				if(PLAYER_TEMP[ PLAYER_TEMP[playerid][pt_NOTARY_TO_PLAYER] ][pt_NOTARY_TO_PLAYER] != playerid) return ShowPlayerMessage(playerid, "El vendedor ya no está.", 2);
				if(PLAYER_TEMP[ PLAYER_TEMP[playerid][pt_NOTARY_TO_PLAYER] ][pt_GAME_STATE] != GAME_STATE_NORMAL) return ShowPlayerMessage(playerid, "Error, el vendedor no está disponible.", 2);
				if(ENTER_EXIT[ PLAYER_TEMP[ PLAYER_TEMP[playerid][pt_NOTARY_TO_PLAYER] ][pt_INTERIOR_INDEX] ][ee_INTERIOR_TYPE] != INTERIOR_CITY_HALL_LS) return ShowPlayerMessage(playerid, "El vendedor no está en la sala.", 2);
				if(!IsPlayerInRangeOfPoint(PLAYER_TEMP[playerid][pt_NOTARY_TO_PLAYER], 3.0, -619.577514, -3.359989, 1000.990295)) return ShowPlayerMessage(playerid, "El vendedor no está en la sala.", 2);
				if(PI[ PLAYER_TEMP[playerid][pt_NOTARY_TO_PLAYER] ][pi_BANK_ACCOUNT] == 0) return ShowPlayerMessage(playerid, "El vendedor no tiene cuenta bancaria.", 2);
				
						// Traspasar
				new label_str[256], name_house[24];
				if(PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_EXTRA1] == 0) name_house = "Casa";
				if(PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_EXTRA1] == 2) name_house = "Garaje";
				if(PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_EXTRA1] == 4) name_house = "Negocio";

				format
				(
					label_str,
					sizeof label_str,
					"\
						{00FF00}{FFFFFF}Dirección: {00FF00}[ %d ]\n\
						{00FF00}{FFFFFF}Dueño: {00FF00}[ %s ]\n\
						{00FF00}{FFFFFF}Tipo: {00FF00}[ %s ]\n\
						{00FF00}{FFFFFF}Presiona {00FF00}[ ~k~~CONVERSATION_YES~ ] o usa {FFFF00}/entrar{FFFFFF}.\
					", PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_ID], PI[playerid][pi_NAME], name_house
				);
				UpdateDynamic3DTextLabelText(PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_EXT_LABEL_ID], 0xFFFFFFAA, label_str);

				PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_OWNER_ID] = PI[playerid][pi_ID];
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE properties SET id_player = %d, id_territory = NULL WHERE id = %d;", PI[playerid][pi_ID], PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_ID]);
				mysql_tquery(srp_db, QUERY_BUFFER);
				
				// Banco
				new price = PLAYER_TEMP[playerid][pt_NOTARY_PRICE], seller = PLAYER_TEMP[playerid][pt_NOTARY_TO_PLAYER];
				
				if(PI[playerid][pi_PHONE_NUMBER])
				{
					new message[64]; format(message, sizeof message, "PROPIEDAD COMPRADA: -%s$", number_format_thousand(price));
					RegisterPhoneMessage(0, PI[playerid][pi_ID], message);
					if(PI[playerid][pi_PHONE_STATE] == PHONE_STATE_ON) SendClientMessageEx(playerid, -1, "{"#PRIMARY_COLOR"}[SMS] {"#SILVER_COLOR"}Remitente: {FFFFFF}%s {"#SILVER_COLOR"}Mensaje: {FFFFFF}%s", convertPhoneNumber(playerid, 6740), message);
				}
				if(PI[seller][pi_PHONE_NUMBER])
				{
					new message[64]; format(message, sizeof message, "PROPIEDAD VENDIDA: +%s$", number_format_thousand(price));
					RegisterPhoneMessage(0, PI[seller][pi_ID], message);
					if(PI[seller][pi_PHONE_STATE] == PHONE_STATE_ON) SendClientMessageEx(seller, -1, "{"#PRIMARY_COLOR"}[SMS] {"#SILVER_COLOR"}Remitente: {FFFFFF}%s {"#SILVER_COLOR"}Mensaje: {FFFFFF}%s", convertPhoneNumber(seller, 6740), message);
				}
				
				PI[playerid][pi_BANK_MONEY] -= price;
				PI[seller][pi_BANK_MONEY] += price;
				RegisterBankAccountTransaction(PI[playerid][pi_ID], PI[seller][pi_ID], BANK_TRANSACTION_TRANSFER, price);
				
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET bank_money = %d WHERE id = %d;", PI[playerid][pi_BANK_MONEY], PI[playerid][pi_ID]);
				mysql_tquery(srp_db, QUERY_BUFFER);

				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET bank_money = %d WHERE id = %d;", PI[seller][pi_BANK_MONEY], PI[seller][pi_ID]);
				mysql_tquery(srp_db, QUERY_BUFFER);
				
				SendFormatNotification(playerid, "~g~¡Propiedad %d comprada!~n~~n~~w~Ahora puedes ir a tu casa, si no sabes donde es puedes marcarla con el ~b~/GPS~w~.", PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_ID]);
				SendFormatNotification(seller, "~g~¡Propiedad %d vendida!~n~~n~~w~Has recibido ~g~%s dólares ~w~en tu cuenta bancaria.", PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_ID], number_format_thousand(price));
				PlayerPlaySoundEx(seller, 1058, 0.0, 0.0, 0.0);
				PlayerPlaySoundEx(playerid, 1058, 0.0, 0.0, 0.0);
				
				SavePlayerData(playerid);
				SavePlayerVehicles(playerid, false);
				SavePlayerToys(playerid);
				SavePlayerWeaponsData(playerid);
				SavePlayerWorkLevels(playerid);

				new action[64]; format(action, sizeof action, "y %s han llegado a un acuerdo.", PLAYER_TEMP[seller][pt_RP_NAME]);
				Auto_SendPlayerAction(playerid, action);
			}
			return 1;
		}
		case DIALOG_NOTARY_SELECT_VEHICLE:
		{
			if(response)
			{
				if(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] == -1) return 1;
				PLAYER_TEMP[playerid][pt_PLAYER_VEHICLE_SELECTED] = PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem];

				switch(PLAYER_TEMP[playerid][pt_NOTARY_OPTION])
				{
					case 0: ShowDialog(playerid, DIALOG_VEHICLE_BANK_SELL); //ShowDialog(playerid, DIALOG_VEHICLE_BANK_SELL);
					case 1: ShowDialog(playerid, DIALOG_VEHICLE_SELL_PRICE);
				}
			}
			else
			{
				ShowDialog(playerid, DIALOG_NOTARY);
			}
			return 1;
		}
		case DIALOG_VEHICLE_BANK_SELL:
{
    if(response)
    {
        // Creamos una variable corta para el ID del vehiculo seleccionado
        new v_sel = PLAYER_TEMP[playerid][pt_PLAYER_VEHICLE_SELECTED];

        if(!GLOBAL_VEHICLES[ v_sel ][gb_vehicle_VALID]) return 1;
        if(PLAYER_VEHICLES[ v_sel ][player_vehicle_OWNER_ID] != PI[playerid][pi_ID]) return 1;
        if(PI[playerid][pi_BANK_ACCOUNT] == 0) return SendNotification(playerid, "Necesitas tener una cuenta bancaria para vender el vehiculo.");

        // ==========================================================
        // LIMPIEZA DE MEJORA DE MOTOR (Dini)
        // ==========================================================
        // Borramos el archivo físico .ini antes de borrar los datos de la memoria
        BorrarMejoraMotor(PLAYER_VEHICLES[v_sel][player_vehicle_ID]);
        
        // Reseteamos la variable en la memoria del servidor
        PLAYER_VEHICLES[v_sel][player_vehicle_MOTOR_NIVEL] = 0;
        // ==========================================================

        new Float:price, payment;
        price = VEHICLE_INFO[ GLOBAL_VEHICLES[ v_sel ][gb_vehicle_MODELID] - 400 ][vehicle_info_PRICE];
        
        if(PI[playerid][pi_VIP]) payment = floatround( floatmul(price, 0.50) );
        else payment = floatround( floatmul(price, 0.25) );

        // Destruir en Base de Datos
        mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "DELETE FROM pvehicles WHERE id = %d;", PLAYER_VEHICLES[ v_sel ][player_vehicle_ID]);
        mysql_query(srp_db, QUERY_BUFFER);

        // Destruir el vehiculo en el servidor
        DestroyVehicleEx(v_sel);

        // Notificaciones y pagos
        if(PI[playerid][pi_PHONE_NUMBER])
        {
            new message[64]; 
            format(message, sizeof message, "VEHICULO VENDIDO: +%s$", number_format_thousand(payment));
            RegisterPhoneMessage(0, PI[playerid][pi_ID], message);
            if(PI[playerid][pi_PHONE_STATE] == PHONE_STATE_ON) 
            {
                SendClientMessageEx(playerid, -1, "{8fce00}[LAN-BOT] {FFFFFF} VENTA RECIENTE: {"#SILVER_COLOR"}%s", message);
            }
        }

        PI[playerid][pi_BANK_MONEY] += payment;
        mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET bank_money = %d WHERE id = %d;", PI[playerid][pi_BANK_MONEY], PI[playerid][pi_ID]);
        mysql_tquery(srp_db, QUERY_BUFFER);
        RegisterBankAccountTransaction(PI[playerid][pi_ID], PI[playerid][pi_ID], BANK_TRANSACTION_SOLD_VEHICLE, payment);

        SendFormatNotification(playerid, "Has vendido este vehiculo, has recibido %s$ en tu cuenta bancaria.", number_format_thousand(payment));
        PlayerPlaySoundEx(playerid, 1058, 0.0, 0.0, 0.0);

        if(!PI[playerid][pi_VIP]) ReLockPlayerVehicles(playerid);
    }
    else 
    {
        ShowDialog(playerid, DIALOG_NOTARY_SELECT_VEHICLE);
    }
    return 1;
}

		case DIALOG_VEHICLE_SELL_PRICE:
		{
			if(response)
			{
				if(sscanf(inputtext, "d", inputtext[0])) return ShowDialog(playerid, dialogid);
				
				new Float:price, min_price, max_price;
				price = VEHICLE_INFO[ GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_PLAYER_VEHICLE_SELECTED] ][gb_vehicle_MODELID] - 400 ][vehicle_info_PRICE];
				min_price = floatround( floatmul(price, 0.15) );
				max_price = floatround( floatmul(price, 6.0) );
				
				if(inputtext[0] < min_price || inputtext[0] > max_price)
				{
					ShowPlayerMessage(playerid, "Este precio no está dentro del rango ofrecido.", 2);
					ShowDialog(playerid, dialogid);
					return 1;
				}
				
				PLAYER_TEMP[playerid][pt_NOTARY_PRICE] = inputtext[0];
				ShowDialog(playerid, DIALOG_VEHICLE_SELL_TO_PLAYER);
			}
			else ShowDialog(playerid, DIALOG_NOTARY_SELECT_VEHICLE);
			return 1;
		}
		case DIALOG_VEHICLE_SELL_TO_PLAYER:
		{
			if(response)
			{
				if(sscanf(inputtext, "u", inputtext[0])) return ShowDialog(playerid, dialogid);
				
				if(!IsPlayerConnected(inputtext[0])) return ShowPlayerMessage(playerid, "Error, el comprador está desconectado.", 2);
				if(inputtext[0] == playerid) return ShowPlayerMessage(playerid, "¿Pero como te vas a vender algo a ti mismo?", 2);
				if(PLAYER_TEMP[inputtext[0]][pt_GAME_STATE] != GAME_STATE_NORMAL) return ShowPlayerMessage(playerid, "Error, el comprador no está disponible.", 2);
				if(PI[inputtext[0]][pi_BANK_ACCOUNT] == 0) return ShowPlayerMessage(playerid, "El comprador no tiene cuenta bancaria.", 2);
				if(PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] == -1 || ENTER_EXIT[ PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] ][ee_INTERIOR_TYPE] != INTERIOR_CITY_HALL_LS) return 1;
				if(!IsPlayerInRangeOfPoint(playerid, 1.0, 619.577514, -3.359989, 1000.990295)) return ShowPlayerMessage(playerid, "El comprador no está cerca de ti.", 2);
				new pvehicles = CountPlayerVehicles(inputtext[0]);
				if(pvehicles >= MAX_SU_VEHICLES) return ShowPlayerMessage(playerid, "El comprador no puede adquirir más vehiculos.", 2);
				if(!PI[inputtext[0]][pi_VIP])
				{
					if(pvehicles >= MAX_NU_VEHICLES) return ShowPlayerMessage(playerid, "El comprador no puede adquirir más vehiculos.", 2);
				}
				
				if(PI[inputtext[0]][pi_LEVEL] < 2) return ShowPlayerMessage(playerid, "Error, el comprador necesita ser al menos nivel 2.", 2);
				if(PLAYER_TEMP[playerid][pt_NOTARY_PRICE] > PI[inputtext[0]][pi_BANK_MONEY]) return ShowPlayerMessage(playerid, "Error, el comprador no tiene el dinero que pides.", 2);
				
				if(PI[inputtext[0]][pi_DRIVE_LICENSE_POINTS] == 0)
				{
					ShowPlayerMessage(playerid, "Tu oferta se ha enviado al comprador, pero el no tiene licencia de conducir y no puede aceptar tu oferta.", 2);
					SendFormatNotification(inputtext[0], "%s te ha ofrecido un vehiculo, pero ~r~necesitas una licencia de conducir~w~ para aceptarlo.", PLAYER_TEMP[playerid][pt_RP_NAME]);
					return 1;
				}

				ShowPlayerMessage(playerid, "Tu oferta se ha enviado al comprador, espera para ver si la acepta.", 2);
				
				new action[64]; format(action, sizeof action, "quiere llegar a un acuerdo con %s.", PLAYER_TEMP[inputtext[0]][pt_RP_NAME]);
				Auto_SendPlayerAction(playerid, action);
				
				PLAYER_TEMP[inputtext[0]][pt_PLAYER_VEHICLE_SELECTED] = PLAYER_TEMP[playerid][pt_PLAYER_VEHICLE_SELECTED];
				PLAYER_TEMP[inputtext[0]][pt_NOTARY_PRICE] = PLAYER_TEMP[playerid][pt_NOTARY_PRICE];
				PLAYER_TEMP[inputtext[0]][pt_NOTARY_TO_PLAYER] = playerid;
				PLAYER_TEMP[playerid][pt_NOTARY_TO_PLAYER] = inputtext[0];
				
				ShowDialog(inputtext[0], DIALOG_SELL_CONFIRM_VEHICLE);
			}
			else ShowDialog(playerid, DIALOG_VEHICLE_SELL_PRICE);
			return 1;
		}
		case DIALOG_SELL_CONFIRM_VEHICLE:
		{
			if(response)
			{
				if(!IsPlayerConnected(PLAYER_TEMP[playerid][pt_NOTARY_TO_PLAYER])) return ShowPlayerMessage(playerid, "El vendedor se ha desconectado.", 2);
				if(PLAYER_TEMP[ PLAYER_TEMP[playerid][pt_NOTARY_TO_PLAYER] ][pt_NOTARY_TO_PLAYER] != playerid) return ShowPlayerMessage(playerid, "El vendedor ya no está.", 2);
				if(PLAYER_TEMP[ PLAYER_TEMP[playerid][pt_NOTARY_TO_PLAYER] ][pt_GAME_STATE] != GAME_STATE_NORMAL) return ShowPlayerMessage(playerid, "Error, el vendedor no está disponible.", 2);
				if(ENTER_EXIT[ PLAYER_TEMP[ PLAYER_TEMP[playerid][pt_NOTARY_TO_PLAYER] ][pt_INTERIOR_INDEX] ][ee_INTERIOR_TYPE] != INTERIOR_CITY_HALL_LS) return ShowPlayerMessage(playerid, "El vendedor no está en la sala.", 2);
				if(!IsPlayerInRangeOfPoint(PLAYER_TEMP[playerid][pt_NOTARY_TO_PLAYER], 3.0, 619.577514, -3.359989, 1000.990295)) return ShowPlayerMessage(playerid, "El vendedor no está en la sala.", 2);
				if(PI[ PLAYER_TEMP[playerid][pt_NOTARY_TO_PLAYER] ][pi_BANK_ACCOUNT] == 0) return ShowPlayerMessage(playerid, "El vendedor no tiene cuenta bancaria.", 2);
				
				// Traspasar
				PLAYER_VEHICLES[ PLAYER_TEMP[playerid][pt_PLAYER_VEHICLE_SELECTED] ][player_vehicle_OWNER_ID] = PI[playerid][pi_ID];
				for(new i = 0; i < 5; i++)
				{

					if(VEHICLE_OBJECTS[PLAYER_TEMP[playerid][pt_PLAYER_VEHICLE_SELECTED] ][ i ][vobject_OBJECT_ID] != INVALID_STREAMER_ID)
					{
						DestroyDynamicObject(VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_PLAYER_VEHICLE_SELECTED] ][ i ][vobject_OBJECT_ID]);
						VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_PLAYER_VEHICLE_SELECTED] ][ i  ][vobject_OBJECT_ID] = INVALID_STREAMER_ID;
					}
					if(VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_PLAYER_VEHICLE_SELECTED]  ][ i ][vobject_ID] > 0)
					{
						mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "DELETE FROM vobjects WHERE id = '%d';", VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_PLAYER_VEHICLE_SELECTED]  ][ i ][vobject_ID]);
						mysql_tquery(srp_db, QUERY_BUFFER);
					}
					mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "DELETE FROM vobjects WHERE id = %d;", VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_PLAYER_VEHICLE_SELECTED]  ][ i ][vobject_ID]);
					mysql_tquery(srp_db, QUERY_BUFFER);
					new temp_VEHICLE_OBJECTS[e_VEHICLE_OBJECTS];
					VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_PLAYER_VEHICLE_SELECTED] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ] = temp_VEHICLE_OBJECTS;
				}
				

				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE pvehicles SET id_player = %d WHERE id = '%d';", PI[playerid][pi_ID], PLAYER_VEHICLES[ PLAYER_TEMP[playerid][pt_PLAYER_VEHICLE_SELECTED] ][player_vehicle_ID]);
				mysql_tquery(srp_db, QUERY_BUFFER);
				
				
				// Banco
				new price = PLAYER_TEMP[playerid][pt_NOTARY_PRICE], seller = PLAYER_TEMP[playerid][pt_NOTARY_TO_PLAYER];
				
				if(PI[playerid][pi_PHONE_NUMBER])
				{
					new message[64]; format(message, sizeof message, "VEHICULO COMPRADO: -%s$", number_format_thousand(price));
					RegisterPhoneMessage(0, PI[playerid][pi_ID], message);
					if(PI[playerid][pi_PHONE_STATE] == PHONE_STATE_ON) SendClientMessageEx(playerid, -1, "{"#PRIMARY_COLOR"}[SMS] {"#SILVER_COLOR"}Remitente: {FFFFFF}%s {"#SILVER_COLOR"}Mensaje: {FFFFFF}%s", convertPhoneNumber(playerid, 6740), message);
				}
				if(PI[seller][pi_PHONE_NUMBER])
				{
					new message[64]; format(message, sizeof message, "VEHICULO VENDIDO: +%s$", number_format_thousand(price));
					RegisterPhoneMessage(0, PI[seller][pi_ID], message);
					if(PI[seller][pi_PHONE_STATE] == PHONE_STATE_ON) SendClientMessageEx(seller, -1, "{"#PRIMARY_COLOR"}[SMS] {"#SILVER_COLOR"}Remitente: {FFFFFF}%s {"#SILVER_COLOR"}Mensaje: {FFFFFF}%s", convertPhoneNumber(seller, 6740), message);
				}
				
				PI[playerid][pi_BANK_MONEY] -= price;
				PI[seller][pi_BANK_MONEY] += price;
				RegisterBankAccountTransaction(PI[playerid][pi_ID], PI[seller][pi_ID], BANK_TRANSACTION_TRANSFER, price);
				
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET bank_money = %d WHERE id = %d;", PI[playerid][pi_BANK_MONEY], PI[playerid][pi_ID]);
				mysql_tquery(srp_db, QUERY_BUFFER);

				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET bank_money = %d WHERE id = %d;", PI[seller][pi_BANK_MONEY], PI[seller][pi_ID]);
				mysql_tquery(srp_db, QUERY_BUFFER);
				
				
				SendFormatNotification(playerid, "~g~¡vehiculo %s comprado!~n~~n~~w~Utiliza ~b~/GPS ~w~para localizarlo.", VEHICLE_INFO[ GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_PLAYER_VEHICLE_SELECTED] ][gb_vehicle_MODELID] - 400 ][vehicle_info_NAME]);
				SendFormatNotification(seller, "~g~¡vehiculo vendido!~n~~n~~w~Has recibido ~g~%s dólares ~w~en tu cuenta bancaria.", number_format_thousand(price));
				PlayerPlaySoundEx(seller, 1058, 0.0, 0.0, 0.0);
				PlayerPlaySoundEx(playerid, 1058, 0.0, 0.0, 0.0);
				
				new action[64]; format(action, sizeof action, "y %s han llegado a un acuerdo.", PLAYER_TEMP[seller][pt_RP_NAME]);
				Auto_SendPlayerAction(playerid, action);
				SavePlayerData(playerid);
				SavePlayerVehicles(playerid, false);
				SavePlayerToys(playerid);
				SavePlayerWeaponsData(playerid);
				SavePlayerWorkLevels(playerid);
				if(!PI[seller][pi_VIP]) ReLockPlayerVehicles(seller);
				if(!PI[playerid][pi_VIP]) ReLockPlayerVehicles(playerid);
			}
			return 1;
		}
		case DIALOG_SELECT_TRUCK_TYPE:
		{
			if(response)
			{
				if(Truck_Contents[ PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] ][truck_content_EXP] > PLAYER_WORKS[playerid][WORK_TRUCK][pwork_LEVEL])
				{
					SendFormatNotification(playerid, "Has realizado %d trabajos como camionero, necesitas %d para este viaje.", PLAYER_WORKS[playerid][WORK_TRUCK][pwork_LEVEL], Truck_Contents[ PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] ][truck_content_EXP]);
					ShowDialog(playerid, dialogid);
					return 1;
				}

				new vehicleid = GetPlayerVehicleID(playerid);
				TRUCK_VEHICLE[vehicleid][truck_vehicle_POINT] = PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem];

				PlayerTextDrawSetString(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][0], "");
				PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][0]);
				PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][1]);
				PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][2]);
				PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][3]);

				PLAYER_TEMP[playerid][pt_TRUCK_LOADING_VALUE] = 35.0;
				KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][7]);
				KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][9]);
				PLAYER_TEMP[playerid][pt_TIMERS][9] = SetTimerEx("TruckLoadUp", 1000, false, "ii", playerid, vehicleid);

				ShowPlayerMessage(playerid, "El camión se esta cargando, si sales de él se cancelara el viaje.", 2);
			}
			else
			{
				KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][9]);
				PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][0]);
				PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][1]);
				PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][2]);
				PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][3]);
				SetVehicleToRespawnEx(GetPlayerVehicleID(playerid));
			}
			return 1;
		}
		case DIALOG_TUNING_MENU_PART:
		{
			if(response)
			{
				if(isnull(PLAYER_TUNING_MENU[playerid][listitem][tuning_menu_NAME])) return 1;

				if(!GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][gb_vehicle_VALID]) return 1;

				new Float:Vehicle_Pos[3];
				GetVehiclePos(PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID], Vehicle_Pos[0], Vehicle_Pos[1], Vehicle_Pos[2]);

				if(!IsPlayerInRangeOfPoint(playerid, 5.0, Vehicle_Pos[0], Vehicle_Pos[1], Vehicle_Pos[2])) return ShowPlayerMessage(playerid, "El vehiculo esta demasiado lejos.", 2);

				format(PLAYER_TEMP[playerid][pt_TUNING_SELECTED_PART], 24, "%s", PLAYER_TUNING_MENU[playerid][listitem][tuning_menu_NAME]);

				ShowDialog(playerid, DIALOG_TUNING_MENU_COMPONENT);
			}
			else ShowDialog(playerid, DIALOG_MECHANIC_MENU);
			return 1;
		}
		case DIALOG_TUNING_MENU_COMPONENT:
		{
			if(response)
			{
				if(isnull(PLAYER_TUNING_MENU[playerid][listitem][tuning_menu_NAME]) || !PLAYER_TUNING_MENU[playerid][listitem][tuning_menu_ID]) return 1;

				if(!GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][gb_vehicle_VALID]) return 1;

				new Float:Vehicle_Pos[3];
				GetVehiclePos(PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID], Vehicle_Pos[0], Vehicle_Pos[1], Vehicle_Pos[2]);

				if(!IsPlayerInRangeOfPoint(playerid, 5.0, Vehicle_Pos[0], Vehicle_Pos[1], Vehicle_Pos[2])) return ShowPlayerMessage(playerid, "El vehiculo esta demasiado lejos.", 2);

				if(PI[playerid][pi_MECHANIC_PIECES] < PLAYER_TUNING_MENU[playerid][listitem][tuning_menu_PIECES])
				{
					ShowPlayerMessage(playerid, "No tienes suficientes piezas, puedes comprar mas piezas en el taller.", 2);
					return 1;
				}

				if(PLAYER_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][player_vehicle_OWNER_ID] == PI[playerid][pi_ID])
				{
					new vehicleid = PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID];

					new slot = GetVehicleComponentType( PLAYER_TUNING_MENU[playerid][listitem][tuning_menu_ID] );
					new current_component = GetVehicleComponentInSlot(vehicleid, slot);
					if(current_component) RemoveVehicleComponent(vehicleid, current_component);

					GLOBAL_VEHICLES[vehicleid][gb_vehicle_COMPONENTS][slot] = PLAYER_TUNING_MENU[playerid][listitem][tuning_menu_ID];
					AddVehicleComponent(vehicleid, PLAYER_TUNING_MENU[playerid][listitem][tuning_menu_ID]);

					PI[playerid][pi_MECHANIC_PIECES] -= PLAYER_TUNING_MENU[playerid][listitem][tuning_menu_PIECES];
					SendFormatNotification(playerid, "Componente '%s' añadido, has necesitado %d piezas.", PLAYER_TUNING_MENU[playerid][listitem][tuning_menu_NAME], PLAYER_TUNING_MENU[playerid][listitem][tuning_menu_PIECES]);
				}
				else
				{
					format(PLAYER_TEMP[playerid][pt_TUNING_SELECTED_COMPONENT], 24, "%s", PLAYER_TUNING_MENU[playerid][listitem][tuning_menu_NAME]);
					PLAYER_TEMP[playerid][pt_TUNING_SELECTED_COMPONENT_ID] = PLAYER_TUNING_MENU[playerid][listitem][tuning_menu_ID];

					PLAYER_TEMP[playerid][pt_TUNING_SELECTED_PIECES] = PLAYER_TUNING_MENU[playerid][listitem][tuning_menu_PIECES];
					ShowDialog(playerid, DIALOG_MECHANIC_TUNING_PRICE);
				}
			}
			else ShowDialog(playerid, DIALOG_TUNING_MENU_PART);
			return 1;
		}
		case DIALOG_MECHANIC_MENU:
{
    if(response)
    {
        new vehicle_id = PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID];
        if(!GLOBAL_VEHICLES[ vehicle_id ][gb_vehicle_VALID]) return 1;

        new Float:Vehicle_Pos[3];
        GetVehiclePos(vehicle_id, Vehicle_Pos[0], Vehicle_Pos[1], Vehicle_Pos[2]);

        if(!IsPlayerInRangeOfPoint(playerid, 5.0, Vehicle_Pos[0], Vehicle_Pos[1], Vehicle_Pos[2])) 
            return ShowPlayerMessage(playerid, "El vehiculo esta demasiado lejos.", 2);

        // Determinamos el índice de la opción maletero
        // Si el modelo tiene paintjob, el maletero es el case 5. Si no, es el 4.
        new paintjobs = VehiclePaintjob( GLOBAL_VEHICLES[ vehicle_id ][gb_vehicle_MODELID] );
        new trunk_listitem = (paintjobs > 0) ? (5) : (4);

        if(listitem == trunk_listitem) // SI SELECCIONÓ REFORZAR MALETERO
        {
            if(300 > PLAYER_WORKS[playerid][WORK_MECHANIC][pwork_LEVEL])
            {
                SendFormatNotification(playerid, "Necesitas nivel 300 de mecanico.", PLAYER_WORKS[playerid][WORK_MECHANIC][pwork_LEVEL]);
                return ShowDialog(playerid, dialogid);
            }
            if(PI[playerid][pi_MECHANIC_PIECES] < 90) return ShowPlayerMessage(playerid, "No tienes suficientes piezas (90) para reforzar el maletero.", 2);
            if(!PLAYER_VEHICLES[vehicle_id][player_vehicle_VALID]) return ShowPlayerMessage(playerid, "Solo los vehiculos personales se pueden mejorar.", 2);

            // Verificación de límite real (Base + Extra + 7)
            new base_slots = VEHICLE_INFO[GLOBAL_VEHICLES[vehicle_id][gb_vehicle_MODELID] - 400][vehicle_info_BOOT_SLOTS];
            if(base_slots + PLAYER_VEHICLES[vehicle_id][player_vehicle_EXTRA_SLOTS] + 7 > MAX_BOOT_SLOTS)
            {
                return ShowPlayerMessage(playerid, "Este vehiculo ya alcanzo el limite maximo de espacio en maletero.", 2);
            }

            // Si es su propio vehículo
            if(PLAYER_VEHICLES[vehicle_id][player_vehicle_OWNER_ID] == PI[playerid][pi_ID])
            {
                PI[playerid][pi_MECHANIC_PIECES] -= 90;
                PLAYER_VEHICLES[vehicle_id][player_vehicle_EXTRA_SLOTS] += 7;

                new query[128];
                mysql_format(srp_db, query, sizeof(query), "UPDATE `pvehicles` SET `espacio_extra` = %d WHERE `id` = %d", 
                    PLAYER_VEHICLES[vehicle_id][player_vehicle_EXTRA_SLOTS], 
                    PLAYER_VEHICLES[vehicle_id][player_vehicle_ID]);
                mysql_tquery(srp_db, query);

                ShowPlayerMessage(playerid, "Has reforzado tu propio maletero (+7 slots) usando 90 piezas.", 2);
                Palanca(playerid);
                return 1;
            }
            else // Es vehículo de un cliente
            {
                ShowDialog(playerid, DIALOG_MECHANIC_TRUNK_PRICE);
                return 1;
            }
        }

        switch(listitem)
        {
            case 0: // Reparar
            {
                if(PI[playerid][pi_MECHANIC_PIECES] < 10) return ShowPlayerMessage(playerid, "No tienes suficientes piezas, puedes comprar mas piezas en el taller.", 2);

                if(gettime() < GLOBAL_VEHICLES[ vehicle_id ][gb_vehicle_LAST_REPAIR_TIME] + 300)
                {
                    new time = (300-(gettime()-GLOBAL_VEHICLES[ vehicle_id ][gb_vehicle_LAST_REPAIR_TIME]));
                    SendFormatNotification(playerid, "Tienes que esperar %s minutos para volver a reparar este vehiculo.", TimeConvert(time));
                    return 1;
                }

                if(PLAYER_VEHICLES[ vehicle_id ][player_vehicle_OWNER_ID] == PI[playerid][pi_ID])
                {
                    PI[playerid][pi_MECHANIC_PIECES] -= 10;
                    RepairVehicleEx(vehicle_id, playerid);
                    ShowPlayerMessage(playerid, "Este es tu vehiculo por lo que no se cobrara.", 2);
                    ShowPlayerMessage(playerid, "Has necesitado 10 piezas para la reparacion.", 2);
                    Palanca(playerid);
                }
                else
                {
                    if(!PLAYER_VEHICLES[ vehicle_id ][player_vehicle_VALID])
                    {
                        if(GLOBAL_VEHICLES[ vehicle_id ][gb_vehicle_DRIVER] == playerid || GLOBAL_VEHICLES[ vehicle_id ][gb_vehicle_LAST_DRIVER] == playerid)
                        {
                            PLAYER_AC_INFO[playerid][CHEAT_VEHICLE_HEALTH][p_ac_info_IMMUNITY] = gettime() + 3;
                            PI[playerid][pi_MECHANIC_PIECES] -= 10;
                            RepairVehicleEx(vehicle_id, playerid);
                            ShowPlayerMessage(playerid, "Eres el conductor o el último conductor de este vehiculo por lo que no se cobrara.", 2);
                            ShowPlayerMessage(playerid, "Has necesitado 10 piezas para la reparacion.", 2);
                            return 1;
                        }
                    }
                    ShowDialog(playerid, DIALOG_MECHANIC_REPAIR_PRICE);
                }
            }
            case 1: // Pintar
            {
                if(PI[playerid][pi_MECHANIC_PIECES] < 5)
                {
                    ShowDialog(playerid, dialogid);
                    return ShowPlayerMessage(playerid, "No tienes suficientes piezas.", 2);
                }
                if(!PLAYER_VEHICLES[ vehicle_id ][player_vehicle_VALID])
                {
                    ShowDialog(playerid, dialogid);
                    return ShowPlayerMessage(playerid, "Solo los vehiculos personales se pueden pintar.", 2);
                }
                ShowDialog(playerid, DIALOG_MECHANIC_SELECT_COL_SLOT);
            }
            case 2: // Componentes
            {
                if(100 > PLAYER_WORKS[playerid][WORK_MECHANIC][pwork_LEVEL])
                {
                    SendFormatNotification(playerid, "Necesitas nivel 100 de mecanico.", PLAYER_WORKS[playerid][WORK_MECHANIC][pwork_LEVEL]);
                    return ShowDialog(playerid, dialogid);
                }
                ShowDialog(playerid, DIALOG_MECHANIC_REMOVE_COMPONEN);
            }
            case 3: // Tunear
            {
                if(100 > PLAYER_WORKS[playerid][WORK_MECHANIC][pwork_LEVEL])
                {
                    SendFormatNotification(playerid, "Necesitas nivel 100 de mecanico.", PLAYER_WORKS[playerid][WORK_MECHANIC][pwork_LEVEL]);
                    return ShowDialog(playerid, dialogid);
                }
                if(!PLAYER_VEHICLES[ vehicle_id ][player_vehicle_VALID])
                {
                    ShowDialog(playerid, dialogid);
                    return ShowPlayerMessage(playerid, "Solo los vehiculos personales se pueden tunear.", 2);
                }
                ShowDialog(playerid, DIALOG_TUNING_MENU_PART);
            }
            case 4: // Paintjob (Si existe)
            {
                if(100 > PLAYER_WORKS[playerid][WORK_MECHANIC][pwork_LEVEL])
                {
                    SendFormatNotification(playerid, "Necesitas nivel 100 de mecanico.", PLAYER_WORKS[playerid][WORK_MECHANIC][pwork_LEVEL]);
                    return ShowDialog(playerid, dialogid);
                }
                if(!PLAYER_VEHICLES[ vehicle_id ][player_vehicle_VALID])
                {
                    ShowDialog(playerid, dialogid);
                    return ShowPlayerMessage(playerid, "Solo los vehiculos personales se pueden modificar.", 2);
                }
                ShowDialog(playerid, DIALOG_TUNING_PAINTJOB);
            }
        }
    }
    return 1;
}
		case DIALOG_MECHANIC_TRUNK_PRICE:
{
    new vehicle_id = PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID];
    if(!GLOBAL_VEHICLES[ vehicle_id ][gb_vehicle_VALID]) return 1;

    new Float:Vehicle_Pos[3];
    GetVehiclePos(vehicle_id, Vehicle_Pos[0], Vehicle_Pos[1], Vehicle_Pos[2]);

    if(!IsPlayerInRangeOfPoint(playerid, 5.0, Vehicle_Pos[0], Vehicle_Pos[1], Vehicle_Pos[2])) 
        return ShowPlayerMessage(playerid, "El vehiculo esta demasiado lejos.", 2);

    if(response)
    {
        new price;
        if(sscanf(inputtext, "d", price))
        {
            ShowPlayerMessage(playerid, "El precio no es correcto.", 2);
            ShowDialog(playerid, dialogid);
            return 1;
        }

        // Rango de precio sugerido (puedes volver a poner 11000/22000 si gustas)
        if(price < 90000 || price > 120000)
        {
            ShowPlayerMessage(playerid, "El rango del precio para refuerzo es: 90.000$ - 120.000$.", 2);
            ShowDialog(playerid, dialogid);
            return 1;
        }

        if(PLAYER_VEHICLES[ vehicle_id ][player_vehicle_VALID])
        {
            // Buscamos al dueño por su ID de cuenta
            new buyer = GetPlayerIdFromAccountId(PLAYER_VEHICLES[ vehicle_id ][player_vehicle_OWNER_ID]);
            
            if(buyer == INVALID_PLAYER_ID) return ShowPlayerMessage(playerid, "El dueño del vehiculo no esta conectado.", 2);

            new Float:m_pos[3];
            GetPlayerPos(playerid, m_pos[0], m_pos[1], m_pos[2]);
            if(!IsPlayerInRangeOfPoint(buyer, 10.0, m_pos[0], m_pos[1], m_pos[2])) 
                return ShowPlayerMessage(playerid, "El dueño del vehiculo debe estar cerca para aceptar la oferta.", 2);

            // Pasamos los datos al COMPRADOR para que el diálogo de aceptar sepa qué está pagando
            PLAYER_TEMP[buyer][pt_MECHANIC_PID] = playerid;
            PLAYER_TEMP[buyer][pt_MECHANIC_AID] = PI[playerid][pi_ID];
            PLAYER_TEMP[buyer][pt_MECHANIC_PRICE] = price;
            
            format(PLAYER_TEMP[buyer][pt_MECHANIC_TEXT], 64, "Refuerzo de maletero (+7 slots)");
            
            PLAYER_TEMP[buyer][pt_MECHANIC_TYPE] = MECHANIC_OPTION_TRUNK; // Asegurate de tener definido este ID
            PLAYER_TEMP[buyer][pt_MECHANIC_EXTRA] = 0;
            PLAYER_TEMP[buyer][pt_MECHANIC_VEHICLE_ID] = vehicle_id;
            PLAYER_TEMP[buyer][pt_MECHANIC_PIECES] = 30; // Las piezas que le quitará al mecánico al final
            PLAYER_TEMP[buyer][pt_MECHANIC_TIME] = gettime();

            ShowDialog(buyer, DIALOG_MECHANIC_ACCEPT);
            
            if(PLAYER_TEMP[buyer][pt_WANT_MECHANIC])
            {
                PLAYER_TEMP[buyer][pt_WANT_MECHANIC] = false;
                DisablePlayerMechanicMark(buyer);
            }

            SendFormatNotification(playerid, "Le has ofrecido a %s reforzar su maletero por $%s.", 
                PLAYER_TEMP[buyer][pt_RP_NAME], 
                number_format_thousand(price));
        }
    }
    else ShowDialog(playerid, DIALOG_MECHANIC_MENU);
    return 1;
}
		case DIALOG_MECHANIC_REPAIR_PRICE:
		{
			if(!GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][gb_vehicle_VALID]) return 1;

			new Float:Vehicle_Pos[3];
			GetVehiclePos(PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID], Vehicle_Pos[0], Vehicle_Pos[1], Vehicle_Pos[2]);

			if(!IsPlayerInRangeOfPoint(playerid, 5.0, Vehicle_Pos[0], Vehicle_Pos[1], Vehicle_Pos[2])) return ShowPlayerMessage(playerid, "El vehiculo esta demasiado lejos.", 2);

			if(response)
			{
				new price;
				if(sscanf(inputtext, "d", price))
				{
					ShowPlayerMessage(playerid, "El precio no es correcto.", 2);
					ShowDialog(playerid, dialogid);
					return 1;
				}
				if(price < 500 || price > 5000)
				{
					ShowPlayerMessage(playerid, "El rango del precio es: 500$ - 5.000$.", 2);
					ShowDialog(playerid, dialogid);
					return 1;
				}

				if(PLAYER_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][player_vehicle_VALID])
				{
					new buyer = GetPlayerIdFromAccountId(PLAYER_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][player_vehicle_OWNER_ID]);
					if(buyer == INVALID_PLAYER_ID) return ShowPlayerMessage(playerid, "El dueño del vehiculo no esta cerca.", 2);

					new Float:mechanic_pos[3];
					GetPlayerPos(playerid, mechanic_pos[0], mechanic_pos[1], mechanic_pos[2]);
					if(!IsPlayerInRangeOfPoint(buyer, 10.0, mechanic_pos[0], mechanic_pos[1], mechanic_pos[2])) return ShowPlayerMessage(playerid, "El dueño del vehiculo esta demasiado lejos.", 2);

					PLAYER_TEMP[buyer][pt_MECHANIC_PID] = playerid;
					PLAYER_TEMP[buyer][pt_MECHANIC_AID] = PI[playerid][pi_ID];
					PLAYER_TEMP[buyer][pt_MECHANIC_PRICE] = price;
					format(PLAYER_TEMP[buyer][pt_MECHANIC_TEXT], 64, "Reparación completa del vehiculo");
					PLAYER_TEMP[buyer][pt_MECHANIC_TYPE] = MECHANIC_OPTION_REPAIR;
					PLAYER_TEMP[buyer][pt_MECHANIC_EXTRA] = 0;
					PLAYER_TEMP[buyer][pt_MECHANIC_VEHICLE_ID] = PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID];
					PLAYER_TEMP[buyer][pt_MECHANIC_PIECES] = 10;
					PLAYER_TEMP[buyer][pt_MECHANIC_TIME] = gettime();
					if(PLAYER_TEMP[buyer][pt_WANT_MECHANIC])
					{
						PLAYER_TEMP[buyer][pt_WANT_MECHANIC] = false;
						DisablePlayerMechanicMark(buyer);
					}
					ShowDialog(buyer, DIALOG_MECHANIC_ACCEPT);
					SendFormatNotification(playerid, "Le has ofrecido a %s reparar su vehiculo por $%s.", PLAYER_TEMP[buyer][pt_RP_NAME], number_format_thousand(PLAYER_TEMP[buyer][pt_MECHANIC_PRICE]));
				}
				else
				{
					if(GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][gb_vehicle_OCCUPIED])
					{
						new buyer = GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][gb_vehicle_DRIVER];
						if(buyer == INVALID_PLAYER_ID) return ShowPlayerMessage(playerid, "El conductor del vehiculo no esta cerca.", 2);

						new Float:mechanic_pos[3];
						GetPlayerPos(playerid, mechanic_pos[0], mechanic_pos[1], mechanic_pos[2]);
						if(!IsPlayerInRangeOfPoint(buyer, 10.0, mechanic_pos[0], mechanic_pos[1], mechanic_pos[2])) return ShowPlayerMessage(playerid, "El conductor del vehiculo esta demasiado lejos.", 2);

						PLAYER_TEMP[buyer][pt_MECHANIC_PID] = playerid;
						PLAYER_TEMP[buyer][pt_MECHANIC_AID] = PI[playerid][pi_ID];
						PLAYER_TEMP[buyer][pt_MECHANIC_PRICE] = price;
						format(PLAYER_TEMP[buyer][pt_MECHANIC_TEXT], 64, "Reparación completa del vehiculo");
						PLAYER_TEMP[buyer][pt_MECHANIC_TYPE] = MECHANIC_OPTION_REPAIR;
						PLAYER_TEMP[buyer][pt_MECHANIC_EXTRA] = 0;
						PLAYER_TEMP[buyer][pt_MECHANIC_VEHICLE_ID] = PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID];
						PLAYER_TEMP[buyer][pt_MECHANIC_PIECES] = 10;
						PLAYER_TEMP[buyer][pt_MECHANIC_TIME] = gettime();

						ShowDialog(buyer, DIALOG_MECHANIC_ACCEPT);
						SendFormatNotification(playerid, "Le has ofrecido a %s reparar el vehiculo por $%s.", PLAYER_TEMP[buyer][pt_RP_NAME], number_format_thousand(PLAYER_TEMP[buyer][pt_MECHANIC_PRICE]));
					}
					else
					{
						new buyer = GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][gb_vehicle_LAST_DRIVER];
						if(buyer == INVALID_PLAYER_ID) return ShowPlayerMessage(playerid, "Este vehiculo no tiene conductor.", 2);

						new Float:mechanic_pos[3];
						GetPlayerPos(playerid, mechanic_pos[0], mechanic_pos[1], mechanic_pos[2]);
						if(!IsPlayerInRangeOfPoint(buyer, 10.0, mechanic_pos[0], mechanic_pos[1], mechanic_pos[2])) return ShowPlayerMessage(playerid, "El conductor del vehiculo esta demasiado lejos.", 2);

						PLAYER_TEMP[buyer][pt_MECHANIC_PID] = playerid;
						PLAYER_TEMP[buyer][pt_MECHANIC_AID] = PI[playerid][pi_ID];
						PLAYER_TEMP[buyer][pt_MECHANIC_PRICE] = price;
						format(PLAYER_TEMP[buyer][pt_MECHANIC_TEXT], 64, "Reparación completa del vehiculo");
						PLAYER_TEMP[buyer][pt_MECHANIC_TYPE] = MECHANIC_OPTION_REPAIR;
						PLAYER_TEMP[buyer][pt_MECHANIC_EXTRA] = 0;
						PLAYER_TEMP[buyer][pt_MECHANIC_VEHICLE_ID] = PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID];
						PLAYER_TEMP[buyer][pt_MECHANIC_PIECES] = 10;
						PLAYER_TEMP[buyer][pt_MECHANIC_TIME] = gettime();

						ShowDialog(buyer, DIALOG_MECHANIC_ACCEPT);
						SendFormatNotification(playerid, "Le has ofrecido a %s reparar el vehiculo por $%s.", PLAYER_TEMP[buyer][pt_RP_NAME], number_format_thousand(PLAYER_TEMP[buyer][pt_MECHANIC_PRICE]));
					}
				}
			}
			else ShowDialog(playerid, DIALOG_MECHANIC_MENU);
			return 1;
		}
		case DIALOG_MECHANIC_COLOR_PRICE:
		{
			if(!GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][gb_vehicle_VALID]) return 1;

			new Float:Vehicle_Pos[3];
			GetVehiclePos(PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID], Vehicle_Pos[0], Vehicle_Pos[1], Vehicle_Pos[2]);

			if(!IsPlayerInRangeOfPoint(playerid, 5.0, Vehicle_Pos[0], Vehicle_Pos[1], Vehicle_Pos[2])) return ShowPlayerMessage(playerid, "El vehiculo esta demasiado lejos.", 2);

			if(response)
			{
				new price;
				if(sscanf(inputtext, "d", price))
				{
					ShowPlayerMessage(playerid, "El precio no es correcto.", 2);
					ShowDialog(playerid, dialogid);
					return 1;
				}
				if(price < 0 || price > 1750)
				{
					ShowPlayerMessage(playerid, "El rango del precio es: 0$ - 1.750$.", 2);
					ShowDialog(playerid, dialogid);
					return 1;
				}

				new buyer = GetPlayerIdFromAccountId(PLAYER_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][player_vehicle_OWNER_ID]);
				if(buyer == INVALID_PLAYER_ID) return ShowPlayerMessage(playerid, "El dueño del vehiculo no esta cerca.", 2);

				new Float:mechanic_pos[3];
				GetPlayerPos(playerid, mechanic_pos[0], mechanic_pos[1], mechanic_pos[2]);
				if(!IsPlayerInRangeOfPoint(buyer, 10.0, mechanic_pos[0], mechanic_pos[1], mechanic_pos[2])) return ShowPlayerMessage(playerid, "El dueño del vehiculo esta demasiado lejos.", 2);

				PLAYER_TEMP[buyer][pt_MECHANIC_PID] = playerid;
				PLAYER_TEMP[buyer][pt_MECHANIC_AID] = PI[playerid][pi_ID];
				PLAYER_TEMP[buyer][pt_MECHANIC_PRICE] = price;

				switch(PLAYER_TEMP[playerid][pt_MECHANIC_COLOR_SLOT])
				{
					case 0:
					{
						format(PLAYER_TEMP[buyer][pt_MECHANIC_TEXT], 64, "Pintar color primario {%06x}(%d)", VEHICLE_COLORS[ PLAYER_TEMP[playerid][pt_MECHANIC_SELECTED_COLOR] ] >>> 8, PLAYER_TEMP[playerid][pt_MECHANIC_SELECTED_COLOR]);
						PLAYER_TEMP[buyer][pt_MECHANIC_TYPE] = MECHANIC_OPTION_COLOR_1;
					}
					case 1:
					{
						format(PLAYER_TEMP[buyer][pt_MECHANIC_TEXT], 64, "Pintar color secundario {%06x}(%d)", VEHICLE_COLORS[ PLAYER_TEMP[playerid][pt_MECHANIC_SELECTED_COLOR] ] >>> 8, PLAYER_TEMP[playerid][pt_MECHANIC_SELECTED_COLOR]);
						PLAYER_TEMP[buyer][pt_MECHANIC_TYPE] = MECHANIC_OPTION_COLOR_2;
					}
				}

				PLAYER_TEMP[buyer][pt_MECHANIC_EXTRA] = PLAYER_TEMP[playerid][pt_MECHANIC_SELECTED_COLOR];
				PLAYER_TEMP[buyer][pt_MECHANIC_VEHICLE_ID] = PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID];
				PLAYER_TEMP[buyer][pt_MECHANIC_PIECES] = 5;
				PLAYER_TEMP[buyer][pt_MECHANIC_TIME] = gettime();

				ShowDialog(buyer, DIALOG_MECHANIC_ACCEPT);

				SendFormatNotification(playerid, "Le has ofrecido a %s pintar su vehiculo por $%s.", PLAYER_TEMP[buyer][pt_RP_NAME], number_format_thousand(PLAYER_TEMP[buyer][pt_MECHANIC_PRICE]));
			}
			else ShowDialog(playerid, DIALOG_MECHANIC_MENU);
			return 1;
		}
		case DIALOG_MECHANIC_TUNING_PRICE:
		{
			if(!GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][gb_vehicle_VALID]) return 1;

			new Float:Vehicle_Pos[3];
			GetVehiclePos(PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID], Vehicle_Pos[0], Vehicle_Pos[1], Vehicle_Pos[2]);

			if(!IsPlayerInRangeOfPoint(playerid, 5.0, Vehicle_Pos[0], Vehicle_Pos[1], Vehicle_Pos[2])) return ShowPlayerMessage(playerid, "El vehiculo esta demasiado lejos.", 2);

			if(response)
			{
				new price;
				if(sscanf(inputtext, "d", price))
				{
					ShowPlayerMessage(playerid, "El precio no es correcto.", 2);
					ShowDialog(playerid, dialogid);
					return 1;
				}
				if(price < 1000 || price > ((PLAYER_TEMP[playerid][pt_TUNING_SELECTED_PIECES] * 50) + 2000))
				{
					SendFormatNotification(playerid, "El rango del precio es: 1000$ - $%s.", number_format_thousand((PLAYER_TEMP[playerid][pt_TUNING_SELECTED_PIECES] * 50) + 2000));
					ShowDialog(playerid, dialogid);
					return 1;
				}

				new buyer = GetPlayerIdFromAccountId(PLAYER_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][player_vehicle_OWNER_ID]);
				if(buyer == INVALID_PLAYER_ID) return ShowPlayerMessage(playerid, "El dueño del vehiculo no esta cerca.", 2);

				new Float:mechanic_pos[3];
				GetPlayerPos(playerid, mechanic_pos[0], mechanic_pos[1], mechanic_pos[2]);
				if(!IsPlayerInRangeOfPoint(buyer, 10.0, mechanic_pos[0], mechanic_pos[1], mechanic_pos[2])) return ShowPlayerMessage(playerid, "El dueño del vehiculo esta demasiado lejos.", 2);

				PLAYER_TEMP[buyer][pt_MECHANIC_PID] = playerid;
				PLAYER_TEMP[buyer][pt_MECHANIC_AID] = PI[playerid][pi_ID];
				PLAYER_TEMP[buyer][pt_MECHANIC_PRICE] = price;
				format(PLAYER_TEMP[buyer][pt_MECHANIC_TEXT], 64, "'%s' > '%s'", PLAYER_TEMP[playerid][pt_TUNING_SELECTED_PART], PLAYER_TEMP[playerid][pt_TUNING_SELECTED_COMPONENT]);
				PLAYER_TEMP[buyer][pt_MECHANIC_TYPE] = MECHANIC_OPTION_TUNING;
				PLAYER_TEMP[buyer][pt_MECHANIC_EXTRA] = PLAYER_TEMP[playerid][pt_TUNING_SELECTED_COMPONENT_ID];
				PLAYER_TEMP[buyer][pt_MECHANIC_VEHICLE_ID] = PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID];
				PLAYER_TEMP[buyer][pt_MECHANIC_PIECES] = PLAYER_TEMP[playerid][pt_TUNING_SELECTED_PIECES];
				PLAYER_TEMP[buyer][pt_MECHANIC_TIME] = gettime();

				ShowDialog(buyer, DIALOG_MECHANIC_ACCEPT);

				SendFormatNotification(playerid, "Le has ofrecido a %s tunear su vehiculo por $%s.", PLAYER_TEMP[buyer][pt_RP_NAME], number_format_thousand(PLAYER_TEMP[buyer][pt_MECHANIC_PRICE]));
			}
			else ShowDialog(playerid, DIALOG_MECHANIC_MENU);
			return 1;
		}
		case DIALOG_MECHANIC_PAINTJOB_PRICE:
		{
			if(!GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][gb_vehicle_VALID]) return 1;

			new Float:Vehicle_Pos[3];
			GetVehiclePos(PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID], Vehicle_Pos[0], Vehicle_Pos[1], Vehicle_Pos[2]);

			if(!IsPlayerInRangeOfPoint(playerid, 5.0, Vehicle_Pos[0], Vehicle_Pos[1], Vehicle_Pos[2])) return ShowPlayerMessage(playerid, "El vehiculo esta demasiado lejos.", 2);

			if(response)
			{
				new price;
				if(sscanf(inputtext, "d", price))
				{
					ShowPlayerMessage(playerid, "El precio no es correcto.", 2);
					ShowDialog(playerid, dialogid);
					return 1;
				}
				if(price < 1500 || price > 2750)
				{
					ShowPlayerMessage(playerid, "El rango del precio es: 1500$ - 2.750$.", 2);
					ShowDialog(playerid, dialogid);
					return 1;
				}

				new buyer = GetPlayerIdFromAccountId(PLAYER_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][player_vehicle_OWNER_ID]);
				if(buyer == INVALID_PLAYER_ID) return ShowPlayerMessage(playerid, "El dueño del vehiculo no esta cerca.", 2);

				new Float:mechanic_pos[3];
				GetPlayerPos(playerid, mechanic_pos[0], mechanic_pos[1], mechanic_pos[2]);
				if(!IsPlayerInRangeOfPoint(buyer, 10.0, mechanic_pos[0], mechanic_pos[1], mechanic_pos[2])) return ShowPlayerMessage(playerid, "El dueño del vehiculo esta demasiado lejos.", 2);

				PLAYER_TEMP[buyer][pt_MECHANIC_PID] = playerid;
				PLAYER_TEMP[buyer][pt_MECHANIC_AID] = PI[playerid][pi_ID];
				PLAYER_TEMP[buyer][pt_MECHANIC_PRICE] = price;
				if(PLAYER_TEMP[playerid][pt_PAINTJOB_SELECTED_ID] == 3)
					format(PLAYER_TEMP[buyer][pt_MECHANIC_TEXT], 64, "Eliminar Paintjob", PLAYER_TEMP[playerid][pt_PAINTJOB_SELECTED_ID]);
				else
					format(PLAYER_TEMP[buyer][pt_MECHANIC_TEXT], 64, "Paintjob (%d)", PLAYER_TEMP[playerid][pt_PAINTJOB_SELECTED_ID]);
				PLAYER_TEMP[buyer][pt_MECHANIC_TYPE] = MECHANIC_OPTION_PAINTJOB;
				PLAYER_TEMP[buyer][pt_MECHANIC_EXTRA] = PLAYER_TEMP[playerid][pt_PAINTJOB_SELECTED_ID];
				PLAYER_TEMP[buyer][pt_MECHANIC_VEHICLE_ID] = PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID];
				PLAYER_TEMP[buyer][pt_MECHANIC_PIECES] = 15;
				PLAYER_TEMP[buyer][pt_MECHANIC_TIME] = gettime();

				ShowDialog(buyer, DIALOG_MECHANIC_ACCEPT);

				SendFormatNotification(playerid, "Le has ofrecido a %s cambiar el paintjob de su vehiculo por $%s.", PLAYER_TEMP[buyer][pt_RP_NAME], number_format_thousand(PLAYER_TEMP[buyer][pt_MECHANIC_PRICE]));
			}
			else ShowDialog(playerid, DIALOG_MECHANIC_MENU);
			return 1;
		}
		case DIALOG_MECHANIC_REM_COM_PRICE:
		{
			if(!GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][gb_vehicle_VALID]) return 1;

			new Float:Vehicle_Pos[3];
			GetVehiclePos(PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID], Vehicle_Pos[0], Vehicle_Pos[1], Vehicle_Pos[2]);

			if(!IsPlayerInRangeOfPoint(playerid, 5.0, Vehicle_Pos[0], Vehicle_Pos[1], Vehicle_Pos[2])) return ShowPlayerMessage(playerid, "El vehiculo esta demasiado lejos.", 2);

			if(response)
			{
				new price;
				if(sscanf(inputtext, "d", price))
				{
					ShowPlayerMessage(playerid, "El precio no es correcto.", 2);
					ShowDialog(playerid, dialogid);
					return 1;
				}
				if(price < 1500 || price > 2750)
				{
					ShowPlayerMessage(playerid, "El rango del precio es: 1500$ - 2.750$.", 2);
					ShowDialog(playerid, dialogid);
					return 1;
				}

				new buyer = GetPlayerIdFromAccountId(PLAYER_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][player_vehicle_OWNER_ID]);
				if(buyer == INVALID_PLAYER_ID) return ShowPlayerMessage(playerid, "El dueño del vehiculo no esta cerca.", 2);

				new Float:mechanic_pos[3];
				GetPlayerPos(playerid, mechanic_pos[0], mechanic_pos[1], mechanic_pos[2]);
				if(!IsPlayerInRangeOfPoint(buyer, 10.0, mechanic_pos[0], mechanic_pos[1], mechanic_pos[2])) return ShowPlayerMessage(playerid, "El dueño del vehiculo esta demasiado lejos.", 2);

				inline OnComponentsInfoLoad()
				{
					new rows;
					if(cache_get_row_count(rows))
					{
						if(rows)
						{
							new part[24], name[24];
							cache_get_value_name(0, "part", part);
							cache_get_value_name(0, "name", name);

							PLAYER_TEMP[buyer][pt_MECHANIC_PID] = playerid;
							PLAYER_TEMP[buyer][pt_MECHANIC_AID] = PI[playerid][pi_ID];
							PLAYER_TEMP[buyer][pt_MECHANIC_PRICE] = price;
							format(PLAYER_TEMP[buyer][pt_MECHANIC_TEXT], 64, "Eliminar componente (%s > %s)", part, name);
							PLAYER_TEMP[buyer][pt_MECHANIC_TYPE] = MECHANIC_OPTION_REMOVE_COMPONEN;
							PLAYER_TEMP[buyer][pt_MECHANIC_EXTRA] = PLAYER_TEMP[playerid][pt_MECHANIC_SELECTED_COMPONENT];
							PLAYER_TEMP[buyer][pt_MECHANIC_VEHICLE_ID] = PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID];
							PLAYER_TEMP[buyer][pt_MECHANIC_PIECES] = PLAYER_TUNING_MENU[playerid][ PLAYER_TEMP[playerid][pt_MECHANIC_SELECTED_COMPONENT] ][tuning_menu_PIECES];
							PLAYER_TEMP[buyer][pt_MECHANIC_TIME] = gettime();
							ShowDialog(buyer, DIALOG_MECHANIC_ACCEPT);
							SendFormatNotification(playerid, "Le has ofrecido a %s quitar un componente de su vehiculo por $%s.", PLAYER_TEMP[buyer][pt_RP_NAME], number_format_thousand(PLAYER_TEMP[buyer][pt_MECHANIC_PRICE]));
						}
					}
				}
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT * FROM vcomponents_info WHERE id = %d;", GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][gb_vehicle_COMPONENTS][ PLAYER_TUNING_MENU[playerid][ PLAYER_TEMP[playerid][pt_MECHANIC_SELECTED_COMPONENT] ][tuning_menu_ID] ]);
				mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnComponentsInfoLoad);
			}
			else ShowDialog(playerid, DIALOG_MECHANIC_MENU);
			return 1;
		}
		case DIALOG_MECHANIC_ACCEPT:
{
    if(response)
    {
        if(gettime() > PLAYER_TEMP[playerid][pt_MECHANIC_TIME] + 20) return ShowPlayerMessage(playerid, "Has tardardo mucho en aceptarlo.", 2);
        if(!IsPlayerConnected(PLAYER_TEMP[playerid][pt_MECHANIC_PID])) return ShowPlayerMessage(playerid, "El mecanico ya no esta en el servidor.", 2);
        if(PI[ PLAYER_TEMP[playerid][pt_MECHANIC_PID] ][pi_ID] != PLAYER_TEMP[playerid][pt_MECHANIC_AID]) return ShowPlayerMessage(playerid, "El mecanico ya no esta en el servidor.", 2);

        new mechanic_id = PLAYER_TEMP[playerid][pt_MECHANIC_PID];
        new vehicle_id = PLAYER_TEMP[playerid][pt_MECHANIC_VEHICLE_ID];

        new Float:pos[3]; GetPlayerPos(mechanic_id, pos[0], pos[1], pos[2]);
        if(!IsPlayerInRangeOfPoint(playerid, 10.0, pos[0], pos[1], pos[2])) return ShowPlayerMessage(playerid, "El mecanico esta demasiado lejos.", 2);
        if(PLAYER_TEMP[ mechanic_id ][pt_GAME_STATE] != GAME_STATE_NORMAL) return ShowPlayerMessage(playerid, "El mecanico no esta disponible.", 2);

        if(PLAYER_TEMP[playerid][pt_MECHANIC_PRICE] > PI[playerid][pi_CASH])
        {
            SendClientMessage(mechanic_id, -1, "»La persona no tiene suficiente dinero.");
            SendFormatNotification(playerid, "No tienes dinero suficiente, te faltan ~r~$%s~w~ para poder aceptarlo.", number_format_thousand(PLAYER_TEMP[playerid][pt_MECHANIC_PRICE] - PI[playerid][pi_CASH]));
            return 1;
        }
        if(PLAYER_TEMP[playerid][pt_MECHANIC_PIECES] > PI[ mechanic_id ][pi_MECHANIC_PIECES])
        {
            ShowPlayerMessage(playerid, "Al mecanico no le quedan piezas para el trabajo.", 2);
            SendClientMessage(mechanic_id, -1, "»La persona ha aceptado pero no tienes piezas suficientes para el trabajo.");
            return 1;
        }

        if(!GLOBAL_VEHICLES[ vehicle_id ][gb_vehicle_VALID])
        {
            ShowPlayerMessage(playerid, "El vehiculo esta muy lejos.", 2);
            SendClientMessage(mechanic_id, -1, "»La persona ha aceptado pero el vehiculo ya no es valido.");
            return 1;
        }
        if(GetVehicleDistanceFromPoint(vehicle_id, pos[0], pos[1], pos[2]) > 10.0)
        {
            ShowPlayerMessage(playerid, "El vehiculo esta muy lejos del mecanico.", 2);
            SendClientMessage(mechanic_id, -1, "»La persona ha aceptado pero estas muy lejos del vehiculo.");
            return 1;
        }

        if(GivePlayerCash(playerid, -PLAYER_TEMP[playerid][pt_MECHANIC_PRICE], true, true) && GivePlayerCash(mechanic_id, PLAYER_TEMP[playerid][pt_MECHANIC_PRICE], true, false)) {
            switch(PLAYER_TEMP[playerid][pt_MECHANIC_TYPE])
            {
                case MECHANIC_OPTION_REPAIR:
                {
                    PI[ mechanic_id ][pi_MECHANIC_PIECES] -= PLAYER_TEMP[playerid][pt_MECHANIC_PIECES];
                    PLAYER_WORKS[ mechanic_id ][WORK_MECHANIC][pwork_LEVEL] ++;
                    //AddPlayerJobPoints(mechanic_id, WORK_MECHANIC);

                    RepairVehicleEx(vehicle_id, playerid);
                    SendClientMessage(mechanic_id, -1, "»Has necesitado 10 piezas para la reparacion.");
                }
                case MECHANIC_OPTION_TRUNK:
                {
                    // Restamos piezas y subimos nivel
                    PI[ mechanic_id ][pi_MECHANIC_PIECES] -= PLAYER_TEMP[playerid][pt_MECHANIC_PIECES];
                    PLAYER_WORKS[ mechanic_id ][WORK_MECHANIC][pwork_LEVEL] ++;
                    //AddPlayerJobPoints(mechanic_id, WORK_MECHANIC);

                    // APLICAMOS LA MEJORA DINÁMICA (+7)
                    PLAYER_VEHICLES[vehicle_id][player_vehicle_EXTRA_SLOTS] += 7;

                    // GUARDADO EN BASE DE DATOS
                    new query[128];
                    mysql_format(srp_db, query, sizeof(query), "UPDATE `pvehicles` SET `espacio_extra` = %d WHERE `id` = %d", 
                        PLAYER_VEHICLES[vehicle_id][player_vehicle_EXTRA_SLOTS], 
                        PLAYER_VEHICLES[vehicle_id][player_vehicle_ID]);
                    mysql_tquery(srp_db, query);

                    SendFormatNotification(mechanic_id, "»Has necesitado %d piezas para reforzar el maletero (+7 slots).", PLAYER_TEMP[playerid][pt_MECHANIC_PIECES]);
                    Palanca(mechanic_id); // Animación de trabajo
                }
                case MECHANIC_OPTION_COLOR_1:
                {
                    PI[ mechanic_id ][pi_MECHANIC_PIECES] -= 5;
                    GLOBAL_VEHICLES[ vehicle_id ][gb_vehicle_COLOR_1] = PLAYER_TEMP[playerid][pt_MECHANIC_EXTRA];
                    ChangeVehicleColor(vehicle_id, GLOBAL_VEHICLES[ vehicle_id ][gb_vehicle_COLOR_1], GLOBAL_VEHICLES[ vehicle_id ][gb_vehicle_COLOR_2]);

                    SendClientMessage(mechanic_id, -1, "»Has necesitado 5 piezas para pintar el vehiculo.");
                }
                case MECHANIC_OPTION_COLOR_2:
                {
                    PI[ mechanic_id ][pi_MECHANIC_PIECES] -= 5;
                    GLOBAL_VEHICLES[ vehicle_id ][gb_vehicle_COLOR_2] = PLAYER_TEMP[playerid][pt_MECHANIC_EXTRA];
                    ChangeVehicleColor(vehicle_id, GLOBAL_VEHICLES[ vehicle_id ][gb_vehicle_COLOR_1], GLOBAL_VEHICLES[ vehicle_id ][gb_vehicle_COLOR_2]);

                    SendClientMessage(mechanic_id, -1, "»Has necesitado 5 piezas para pintar el vehiculo.");
                }
                case MECHANIC_OPTION_TUNING:
                {
                    new slot = GetVehicleComponentType(PLAYER_TEMP[playerid][pt_MECHANIC_EXTRA]);
                    new current_component = GetVehicleComponentInSlot(vehicle_id, slot);
                    if(current_component) RemoveVehicleComponent(vehicle_id, current_component);

                    GLOBAL_VEHICLES[ vehicle_id ][gb_vehicle_COMPONENTS][slot] = PLAYER_TEMP[playerid][pt_MECHANIC_EXTRA];
                    AddVehicleComponent(vehicle_id, PLAYER_TEMP[playerid][pt_MECHANIC_EXTRA]);

                    PI[ mechanic_id ][pi_MECHANIC_PIECES] -= PLAYER_TEMP[playerid][pt_MECHANIC_PIECES];
                    SendFormatNotification(mechanic_id, "Has necesitado ~r~%d piezas~w~ para tunear el vehiculo.", PLAYER_TEMP[playerid][pt_MECHANIC_PIECES]);
                }
                case MECHANIC_OPTION_PAINTJOB:
                {
                    if(PLAYER_TEMP[playerid][pt_MECHANIC_EXTRA] == 3)
                    {
                        PI[ mechanic_id ][pi_MECHANIC_PIECES] += 15;
                        SendFormatNotification(playerid, "Paintjob eliminado, piezas ganadas: 15, piezas totales: %d.", PI[playerid][pi_MECHANIC_PIECES]);
                    }
                    else
                    {
                        PI[ mechanic_id ][pi_MECHANIC_PIECES] -= 15;
                        ShowPlayerMessage(playerid, "Has necesitado 15 piezas para el paintjob de el vehiculo.", 2);
                    }
                    GLOBAL_VEHICLES[ vehicle_id ][gb_vehicle_PAINTJOB] = PLAYER_TEMP[playerid][pt_MECHANIC_EXTRA];
                    ChangeVehiclePaintjob(vehicle_id, GLOBAL_VEHICLES[ vehicle_id ][gb_vehicle_PAINTJOB]);
                }

                case MECHANIC_OPTION_REMOVE_COMPONEN:
                {
                    new slot = PLAYER_TUNING_MENU[ mechanic_id ][ PLAYER_TEMP[playerid][pt_MECHANIC_EXTRA] ][tuning_menu_ID];
                    RemoveVehicleComponent(vehicle_id, GLOBAL_VEHICLES[ vehicle_id ][gb_vehicle_COMPONENTS][slot]);
                    GLOBAL_VEHICLES[ vehicle_id ][gb_vehicle_COMPONENTS][slot] = 0;

                    PI[ mechanic_id ][pi_MECHANIC_PIECES] += PLAYER_TEMP[playerid][pt_MECHANIC_PIECES];
                    SendFormatNotification(mechanic_id, "Componente eliminado, piezas ganadas: ~g~%d~w~, piezas totales: ~g~%d~w~.", PLAYER_TEMP[playerid][pt_MECHANIC_PIECES], PI[ mechanic_id ][pi_MECHANIC_PIECES]);
                    Llanta(playerid);
                }
            }

            SendFormatNotification(playerid, "Le has pagado $%s al mecanico por su trabajo.", number_format_thousand(PLAYER_TEMP[playerid][pt_MECHANIC_PRICE]));
            SendFormatNotification(mechanic_id, "%s te ha pagado ~g~%s dólares~w~ por tu trabajo.", PLAYER_TEMP[playerid][pt_RP_NAME], number_format_thousand(PLAYER_TEMP[playerid][pt_MECHANIC_PRICE]));
        }
    }
    else
    {
        if(gettime() > PLAYER_TEMP[playerid][pt_MECHANIC_TIME] + 30) return 1;
        if(!IsPlayerConnected(PLAYER_TEMP[playerid][pt_MECHANIC_PID])) return 1;
        if(PI[ PLAYER_TEMP[playerid][pt_MECHANIC_PID] ][pi_ID] != PLAYER_TEMP[playerid][pt_MECHANIC_AID]) return 1;

        SendClientMessage(PLAYER_TEMP[playerid][pt_MECHANIC_PID], -1, "»La persona no aceptó lo que le ofreciste.");
    }
    return 1;
}
		case DIALOG_MECHANIC_SELECT_COL_SLOT:
		{
			if(!GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][gb_vehicle_VALID]) return 1;

			new Float:Vehicle_Pos[3];
			GetVehiclePos(PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID], Vehicle_Pos[0], Vehicle_Pos[1], Vehicle_Pos[2]);

			if(!IsPlayerInRangeOfPoint(playerid, 5.0, Vehicle_Pos[0], Vehicle_Pos[1], Vehicle_Pos[2])) return ShowPlayerMessage(playerid, "El vehiculo esta demasiado lejos.", 2);

			if(response)
			{
				PLAYER_TEMP[playerid][pt_MECHANIC_COLOR_SLOT] = listitem;
				ShowDialog(playerid, DIALOG_MECHANIC_SELECT_COLOR);
			}
			else ShowDialog(playerid, DIALOG_MECHANIC_MENU);
			return 1;
		}
		case DIALOG_MECHANIC_SELECT_COLOR:
		{
			if(!GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][gb_vehicle_VALID]) return 1;

			new Float:Vehicle_Pos[3];
			GetVehiclePos(PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID], Vehicle_Pos[0], Vehicle_Pos[1], Vehicle_Pos[2]);

			if(!IsPlayerInRangeOfPoint(playerid, 5.0, Vehicle_Pos[0], Vehicle_Pos[1], Vehicle_Pos[2])) return ShowPlayerMessage(playerid, "El vehiculo esta demasiado lejos.", 2);

			if(response)
			{
				if(PI[playerid][pi_MECHANIC_PIECES] < 5) return ShowPlayerMessage(playerid, "No tienes suficientes piezas, puedes comprar mas piezas en el taller.", 2);

				if(PLAYER_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][player_vehicle_OWNER_ID] == PI[playerid][pi_ID])
				{
					PI[playerid][pi_MECHANIC_PIECES] -= 5;
					switch(PLAYER_TEMP[playerid][pt_MECHANIC_COLOR_SLOT])
					{
						case 0: GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][gb_vehicle_COLOR_1] = listitem;
						case 1: GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][gb_vehicle_COLOR_2] = listitem;
					}
					ChangeVehicleColor(PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID], GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][gb_vehicle_COLOR_1], GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][gb_vehicle_COLOR_2]);

					ShowPlayerMessage(playerid, "Has necesitado 5 piezas para pintar el vehiculo.", 2);
				}
				else
				{
					PLAYER_TEMP[playerid][pt_MECHANIC_SELECTED_COLOR] = listitem;
					ShowDialog(playerid, DIALOG_MECHANIC_COLOR_PRICE);
				}
			}
			else ShowDialog(playerid, DIALOG_MECHANIC_SELECT_COL_SLOT);
			return 1;
		}
		case DIALOG_MECHANIC_REMOVE_COMPONEN:
		{
			if(!GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][gb_vehicle_VALID]) return 1;

			new Float:Vehicle_Pos[3];
			GetVehiclePos(PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID], Vehicle_Pos[0], Vehicle_Pos[1], Vehicle_Pos[2]);

			if(!IsPlayerInRangeOfPoint(playerid, 5.0, Vehicle_Pos[0], Vehicle_Pos[1], Vehicle_Pos[2])) return ShowPlayerMessage(playerid, "El vehiculo esta demasiado lejos.", 2);

			if(response)
			{
				if(100 > PLAYER_WORKS[playerid][WORK_MECHANIC][pwork_LEVEL])
				{
					SendFormatNotification(playerid, "Has realizado %d reparaciones como mecanico, necesitas 100 para tunear vehiculos.", PLAYER_WORKS[playerid][WORK_MECHANIC][pwork_LEVEL]);
					ShowDialog(playerid, dialogid);
					return 1;
				}
				if(PLAYER_TUNING_MENU[playerid][listitem][tuning_menu_ID] < 0) return ShowDialog(playerid, dialogid);

				if(PLAYER_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][player_vehicle_OWNER_ID] == PI[playerid][pi_ID])
				{
					RemoveVehicleComponent(PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID], GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][gb_vehicle_COMPONENTS][ PLAYER_TUNING_MENU[playerid][listitem][tuning_menu_ID] ]);
					GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][gb_vehicle_COMPONENTS][ PLAYER_TUNING_MENU[playerid][listitem][tuning_menu_ID] ] = 0;

					PI[playerid][pi_MECHANIC_PIECES] += PLAYER_TUNING_MENU[playerid][listitem][tuning_menu_PIECES];
					SendFormatNotification(playerid, "Componente eliminado, piezas ganadas: %d, piezas totales: %d.", PLAYER_TUNING_MENU[playerid][listitem][tuning_menu_PIECES], PI[playerid][pi_MECHANIC_PIECES]);
				}
				else
				{
					PLAYER_TEMP[playerid][pt_MECHANIC_SELECTED_COMPONENT] = listitem;
					ShowDialog(playerid, DIALOG_MECHANIC_REM_COM_PRICE);
				}
			}
			else ShowDialog(playerid, DIALOG_MECHANIC_MENU);
			return 1;
		}
		case DIALOG_TUNING_PAINTJOB:
		{
			if(!GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][gb_vehicle_VALID]) return 1;

			new Float:Vehicle_Pos[3];
			GetVehiclePos(PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID], Vehicle_Pos[0], Vehicle_Pos[1], Vehicle_Pos[2]);

			if(!IsPlayerInRangeOfPoint(playerid, 5.0, Vehicle_Pos[0], Vehicle_Pos[1], Vehicle_Pos[2])) return ShowPlayerMessage(playerid, "El vehiculo esta demasiado lejos.", 2);

			if(response)
			{
				if(100 > PLAYER_WORKS[playerid][WORK_MECHANIC][pwork_LEVEL])
				{
					SendFormatNotification(playerid, "Has realizado %d reparaciones como mecanico, necesitas 100 para cambiar el paintjob de vehiculos.", PLAYER_WORKS[playerid][WORK_MECHANIC][pwork_LEVEL]);
					ShowDialog(playerid, dialogid);
					return 1;
				}
				if(PI[playerid][pi_MECHANIC_PIECES] < 15) return ShowPlayerMessage(playerid, "No tienes suficientes piezas, puedes comprar mas piezas en el taller.", 2);

				if(listitem == 0)
				{
					if(GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][gb_vehicle_PAINTJOB] == 3)
					{
						ShowPlayerMessage(playerid, "El vehiculo no tiene ningún paintjob.", 2);
						return 1;
					}

					if(PLAYER_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][player_vehicle_OWNER_ID] == PI[playerid][pi_ID])
					{
						GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][gb_vehicle_PAINTJOB] = 3;
						ChangeVehiclePaintjob(PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID], GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][gb_vehicle_PAINTJOB]);
						PI[ PLAYER_TEMP[playerid][pt_MECHANIC_PID] ][pi_MECHANIC_PIECES] += 15;
						SendFormatNotification(playerid, "Paintjob eliminado, piezas ganadas: 15, piezas totales: %d.", PI[playerid][pi_MECHANIC_PIECES]);
					}
					else
					{
						PLAYER_TEMP[playerid][pt_PAINTJOB_SELECTED_ID] = 3;
						ShowDialog(playerid, DIALOG_MECHANIC_PAINTJOB_PRICE);
					}

					return 1;
				}

				if(PLAYER_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][player_vehicle_OWNER_ID] == PI[playerid][pi_ID])
				{
					GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][gb_vehicle_PAINTJOB] = listitem - 1;
					ChangeVehiclePaintjob(PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID], GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] ][gb_vehicle_PAINTJOB]);
					PI[playerid][pi_MECHANIC_PIECES] -= 15;
					ShowPlayerMessage(playerid, "Has necesitado 15 piezas para el paintjob de el vehiculo.", 2);
				}
				else
				{
					PLAYER_TEMP[playerid][pt_PAINTJOB_SELECTED_ID] = listitem - 1;
					ShowDialog(playerid, DIALOG_MECHANIC_PAINTJOB_PRICE);
				}
			}
			else ShowDialog(playerid, DIALOG_MECHANIC_MENU);
			return 1;
		}
		/*case DIALOG_SELECT_TRASH_ROUTE:
		{
			if(response)
			{
				if(TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_PASSENGER_ID] == INVALID_PLAYER_ID)
				{
					ShowPlayerMessage(playerid, "Necesitas un compañero para comenzar a recoger basura.", 2);
					return 1;
				}

				TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_JOB_STARTED] = true;
				TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_ROUTE] = listitem;
				TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_CP] = 0;

				SetPlayerTrashCheckpoint(TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_DRIVER_ID], PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID]);
				SetPlayerTrashCheckpoint(TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_PASSENGER_ID], PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID]);

				CreatePlayerTrashRouteObjects(TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_DRIVER_ID], listitem);
				CreatePlayerTrashRouteObjects(TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_PASSENGER_ID], listitem);

				SendClientMessageEx(TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_DRIVER_ID], -1, "Ruta {42aaf4}#%d "WHITE"establecida, pueden comenzar.", TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_ROUTE] + 1);
				SendClientMessageEx(TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_PASSENGER_ID], -1, "Ruta {42aaf4}#%d "WHITE"establecida, pueden comenzar.", TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_ROUTE] + 1);
			}
			return 1;
		}*/

		case DIALOG_TARIFA_GPS:
		{
			if(response)
			{
			if(sscanf(inputtext, "d", inputtext[0])) return ShowPlayerMessage(playerid, "~r~Modo de uso: ~w~/tarifa [0-30].", 2);
			if(inputtext[0] < 0 || inputtext[0] > 30) return ShowPlayerMessage(playerid, "~r~Modo de uso: ~w~/tarifa [0-30]", 2);

			new vehicleid = GetPlayerVehicleID(playerid);
			if(TAXI_METER_VEHICLE[vehicleid][veh_taxi_meter_ENABLED]) return ShowPlayerMessage(playerid, "Solo puedes cambiar la tarifa cuando no haya ningún pasajero.", 2);
			TAXI_METER_VEHICLE[vehicleid][veh_taxi_meter_PRICE] = inputtext[0];
			Auto_SendPlayerAction(playerid, "ajusta el taxímetro.");
			UpdatePlayerTaxiMeterTextdraws(playerid);
			}
			return 1;
		}
		
		case DIALOG_ATUENDO:
		{
			if(response)
			{
			if(sscanf(inputtext, "d", inputtext[0])) return ShowPlayerMessage(playerid, "ID Incorrecto", 2);
			if(inputtext[0] <= 0 || inputtext[0] > 100000) return ShowPlayerMessage(playerid, "ID Incorrecto.", 2);
			PI[playerid][pi_SKIN] = inputtext[0];
            SetPlayerSkin(playerid, PI[playerid][pi_SKIN]);
			SendFormatNotification(playerid, "Has cambiado tu skin");
			if(PI[playerid][pi_DER_CANT] > 1) {PI[playerid][pi_DER_CANT] --;}else{PI[playerid][pi_DER_CANT] = 0;PI[playerid][pi_MANO_DER] = 0;}
			}
			return 1;
		}
		
		case DIALOG_BIDON:
		{
			if(response)
			{
			if(sscanf(inputtext, "d", inputtext[0])) return ShowPlayerMessage(playerid, "Cantidad Incorrecta", 2);
			if(inputtext[0] <= 0 || inputtext[0] > 20) return ShowPlayerMessage(playerid, "Cantidad Incorrecta.", 2);
			new Float:amount = float(inputtext[0]);
			new vehicleid = VehMasCercano(playerid, 5.0);
	        if(amount + GLOBAL_VEHICLES[vehicleid][gb_vehicle_GAS] > GLOBAL_VEHICLES[vehicleid][gb_vehicle_MAX_GAS]) amount = GLOBAL_VEHICLES[vehicleid][gb_vehicle_MAX_GAS] - GLOBAL_VEHICLES[vehicleid][gb_vehicle_GAS];

	        PI[playerid][pi_FUEL_DRUM] -= floatround(amount);
	        GLOBAL_VEHICLES[vehicleid][gb_vehicle_GAS] += amount;
	        SendFormatNotification(playerid, "Has vertido ~b~%.1f litros~w~ del bidón.", inputtext[0]);
	        Auto_SendPlayerAction(playerid, "ha repostado el vehiculo.");
	        if(PI[playerid][pi_DER_CANT] > 1) {PI[playerid][pi_DER_CANT] --;}else{PI[playerid][pi_DER_CANT] = 0;PI[playerid][pi_MANO_DER] = 0;}
		    }
		    return 1;
		}
		
		case DIALOG_BIDONX:
		{
			if(response)
			{
			if(sscanf(inputtext, "d", inputtext[0])) return ShowPlayerMessage(playerid, "Cantidad Incorrecta", 2);
			if(inputtext[0] <= 0 || inputtext[0] > 20) return ShowPlayerMessage(playerid, "Cantidad Incorrecta.", 2);
			new Float:amount = float(inputtext[0]);
			new vehicleid = VehMasCercano(playerid, 5.0);
	        if(amount + GLOBAL_VEHICLES[vehicleid][gb_vehicle_GAS] > GLOBAL_VEHICLES[vehicleid][gb_vehicle_MAX_GAS]) amount = GLOBAL_VEHICLES[vehicleid][gb_vehicle_MAX_GAS] - GLOBAL_VEHICLES[vehicleid][gb_vehicle_GAS];

	        PI[playerid][pi_FUEL_DRUM] -= floatround(amount);
	        GLOBAL_VEHICLES[vehicleid][gb_vehicle_GAS] += amount;
	        SendFormatNotification(playerid, "Has vertido ~b~%.1f litros~w~ del bidón.", inputtext[0]);
	        Auto_SendPlayerAction(playerid, "ha repostado el vehiculo.");
		    }
		    return 1;
		}

		case DIALOG_BANCO:
		{
		if(response)
		{
		if(PI[playerid][pi_BANK_ACCOUNT] == 0) return ShowPlayerMessage(playerid, "No puedes comprar una casa sin tener cuenta bancaria.", 2);

		if(sscanf(inputtext, "d", inputtext[0])) return ShowPlayerMessage(playerid, "~r~Modo de uso: ~w~/comprarcasa [ID]", 2);
		if(inputtext[0] <= 0) return ShowPlayerMessage(playerid, "Error: ID no es válida.", 2);

		new player_properties = CountPlayerProperties(playerid);
		if(PI[playerid][pi_VIP])
		{
			if(player_properties >= MAX_SU_PROPERTIES) return ShowPlayerMessage(playerid, "No puedes comprar más propiedades.", 2);
		}
		else
		{
			if(player_properties >= MAX_NU_PROPERTIES)
			{
				ShowPlayerMessage(playerid, "¡Los jugadores ~y~VIP ~w~pueden tener hasta %d propiedades! Usa ~y~/ayuda ~w~si quieres ser ~w~VIP.", MAX_SU_PROPERTIES, 3);
				ShowPlayerMessage(playerid, "No puedes comprar más propiedades.", 2);
				return 1;
			}
		}

		new index = GetPropertyIndexByID(inputtext[0]);
		if(index == -1) return ShowPlayerMessage(playerid, "Error: ID no es válida.", 2);

		if(PROPERTY_INFO[index][property_SOLD]) return ShowPlayerMessage(playerid, "Está propiedad ya está vendida.", 2);
		if(PROPERTY_INFO[index][property_LEVEL] > PI[playerid][pi_LEVEL]) return SendFormatNotification(playerid, "Necesitas ser como mínimo nivel %d para comprar esta propiedad.", PROPERTY_INFO[index][property_LEVEL]);
		if(PROPERTY_INFO[index][property_VIP_LEVEL] > PI[playerid][pi_VIP]) return SendFormatNotification(playerid, "Necesitas membresía VIP (%d) para comprar esta propiedad.", PROPERTY_INFO[index][property_VIP_LEVEL]);
		if(PROPERTY_INFO[index][property_EXTRA] > PI[playerid][pi_COINS]) return SendFormatNotification(playerid, "Necesitas %d "SERVER_COIN" para comprar esta propiedad.", PROPERTY_INFO[index][property_EXTRA]);
		if(PI[playerid][pi_BANK_MONEY] >= PROPERTY_INFO[index][property_PRICE])
		{
			PLAYER_TEMP[playerid][pt_BUY_HOUSE_INDEX] = index;
			ShowDialog(playerid, DIALOG_CONFIRM_BUY_PROPERTY);
		}
		else SendFormatNotification(playerid, "No tienes fondos suficientes en tu cuenta, te faltan ~r~%s dólares ~w~para poder comprar esta propiedad.", number_format_thousand(PROPERTY_INFO[index][property_PRICE] - PI[playerid][pi_BANK_MONEY]));

		} 
			
		return 1;	
		
		}

		case DIALOG_PIEZAS:
		{
			if(response)
			{
			if(sscanf(inputtext, "d", inputtext[0])) return ShowPlayerMessage(playerid, "La cantidad de medicamentos no es correcta.", 2);
			if(inputtext[0] <= 0 || inputtext[0] > 100000) return ShowPlayerMessage(playerid, "La cantidad de medicamentos no es correcta.", 2);
			new price = inputtext[0] * 1000;
			if(price > PI[playerid][pi_CASH])
			{
				SendFormatNotification(playerid, "No tienes dinero suficiente, te faltan ~r~$%s~w~ para poder comprar las piezas.", number_format_thousand(price - PI[playerid][pi_CASH]));
				return 1;
			}
			if(price < 0) return 1;
			if(GivePlayerCash(playerid, -price, true, true)) {
			PI[playerid][pi_MECHANIC_PIECES] += inputtext[0];
			SendFormatNotification(playerid, "Has comprado %s piezas mecanicas por ~r~$%s~w~.", number_format_thousand(inputtext[0]), number_format_thousand(price));
			Llanta(playerid);
			}
			return 1;
		}	
	}
		case DIALOG_SEED_LIST:
		{
			if(response)
			{
				if(seed_info[listitem][seed_info_EXP] > PLAYER_WORKS[playerid][WORK_FARMER][pwork_LEVEL]) return SendFormatNotification(playerid, "Necesitas haber plantado al menos %d plantas como agricultor para poder comprar esta semilla.", seed_info[listitem][seed_info_EXP]);

				PLAYER_TEMP[playerid][pt_SELECTED_BUY_SEED_ID] = listitem;
				ShowDialog(playerid, DIALOG_SEED_BUY);
			}
			return 1;
		}
		case DIALOG_SEED_BUY:
		{
			if(response)
			{
				if(sscanf(inputtext, "d", inputtext[0])) return ShowPlayerMessage(playerid, "La cantidad de semillas no es correcta.", 2);
				if(inputtext[0] <= 0 || inputtext[0] > 100000) return ShowPlayerMessage(playerid, "La cantidad de semillas no es correcta.", 2);
				if(PI[playerid][pi_MANO_DER] != 177) return SendNotification(playerid, "No tienes dinero negro en tu mano.");

				new price = seed_info[ PLAYER_TEMP[playerid][pt_SELECTED_BUY_SEED_ID] ][seed_info_PRICE] * inputtext[0];
				if(price > PI[playerid][pi_DER_CANT]) return SendFormatNotification(playerid, "No tienes dinero suficiente, te faltan ~r~B$%s~w~ para poder comprar las semillas.", number_format_thousand(price - PI[playerid][pi_CASH]));

				PI[playerid][pi_DER_CANT] -= price;{
					switch(seed_info[ PLAYER_TEMP[playerid][pt_SELECTED_BUY_SEED_ID] ][seed_info_PLANT_TYPE])
					{
						case PLANT_TYPE_MEDICINE: PI[playerid][pi_SEED_MEDICINE] += inputtext[0];
						case PLANT_TYPE_CANNABIS: PI[playerid][pi_SEED_CANNABIS] += inputtext[0];
						case PLANT_TYPE_CRACK: PI[playerid][pi_SEED_CRACK] += inputtext[0];
					}

					SendFormatNotification(playerid, "Has comprado %s semillas de %s por $%s.", number_format_thousand(inputtext[0]), seed_info[ PLAYER_TEMP[playerid][pt_SELECTED_BUY_SEED_ID] ][seed_info_NAME], number_format_thousand(price));
				}
			}
			else ShowDialog(playerid, DIALOG_SEED_LIST);
			return 1;
		}
		case DIALOG_PLANT_PLANTS:
		{
			if(response)
			{
				if(GetPlayerState(playerid) != PLAYER_STATE_ONFOOT) return ShowPlayerMessage(playerid, "No estas depie.", 2);

				switch(seed_info[listitem][seed_info_PLANT_TYPE])
				{
					case PLANT_TYPE_MEDICINE:
					{
						if(plant_info[listitem][plant_info_SEEDS] > PI[playerid][pi_SEED_MEDICINE])
						{
							ShowPlayerMessage(playerid, "No tienes las semillas necesarias para plantar esta planta.", 2);
							return 1;
						}
						PI[playerid][pi_SEED_MEDICINE] -= plant_info[listitem][plant_info_SEEDS];
					}
					case PLANT_TYPE_CANNABIS:
					{
						if(plant_info[listitem][plant_info_SEEDS] > PI[playerid][pi_SEED_CANNABIS])
						{
							ShowPlayerMessage(playerid, "No tienes las semillas necesarias para plantar esta planta.", 2);
							return 1;
						}
						PI[playerid][pi_SEED_CANNABIS] -= plant_info[listitem][plant_info_SEEDS];
					}
					case PLANT_TYPE_CRACK:
					{
						if(plant_info[listitem][plant_info_SEEDS] > PI[playerid][pi_SEED_CRACK])
						{
							ShowPlayerMessage(playerid, "No tienes las semillas necesarias para plantar esta planta.", 2);
							return 1;
						}
						PI[playerid][pi_SEED_CRACK] -= plant_info[listitem][plant_info_SEEDS];
					}
				}

				SendFormatNotification(playerid, "Vas a plantar ~y~'%s' ~w~y vas a necesitar ~y~%d ~w~semillas usa la letra ~y~[Y] ~w~del TAB para proceder en el planteamiento de la planta.", plant_info[listitem][plant_info_NAME], plant_info[listitem][plant_info_SEEDS]);
				//SendFormatNotification(playerid, "Has usado tu cuchillo para cultivar [%s]", plant_info[listitem][plant_info_NAME]);
//				if(PI[playerid][pi_DER_CANT] > 1) {PI[playerid][pi_DER_CANT] --;}else{PI[playerid][pi_DER_CANT] = 0;PI[playerid][pi_MANO_DER] = 0;}
				new Float:offset = floatdiv(PLAYER_WORKS[playerid][WORK_FARMER][pwork_LEVEL], 10);
				if(offset > 30.0) offset = 30.0;

				PLAYER_TEMP[playerid][pt_PLANTING_PLANT_SELECTED] = listitem;
				PLAYER_TEMP[playerid][pt_PLANTING] = true;
				PLAYER_TEMP[playerid][pt_WORKING_IN] = WORK_FARMER;

				TogglePlayerControllableEx(playerid, false);
				SetCameraBehindPlayer(playerid);
				ApplyAnimation(playerid, "BOMBER", "BOM_Plant_Loop", 4.1, true, false, false, false, 0, 1);
				SetPlayerKeyPress(playerid, plant_info[listitem][plant_info_SEEDS] * 7);
			}
			return 1;
		}
		case DIALOG_ANIMS:
		{
		    if(response)
		    {
		        switch(listitem)
		        {
		            case 0: SetPlayerSpecialAction(playerid,SPECIAL_ACTION_HANDSUP);//rendirse
		            case 1: ApplyAnimation(playerid, "BLOWJOBZ", "BJ_COUCH_LOOP_W", 4.0, 1, 1, 1, 0, 0);//blowjob
		            case 2: ApplyAnimation(playerid,"PED","BIKE_fallR",4.0,0,1,1,1,0);//rodar
		            case 3: ApplyAnimation(playerid,"PED", "WALK_DRUNK",4.0,1,1,1,1,500);//borracho
		            case 4: ApplyAnimation(playerid, "BOMBER", "BOM_Plant", 4.0, 0, 1, 1, 0,0);//bomba
		            case 5: ApplyAnimation( playerid,"ped", "ARRESTgun", 4.0, 0, 1, 1, 1,500);//apuntar
		            case 6: ApplyAnimation(playerid, "RAPPING", "Laugh_01", 4.0, 0, 0, 0, 0,0);//reir
		            case 7: ApplyAnimation(playerid, "SHOP", "ROB_Loop_Threat", 4.0, 0, 0, 0, 1,500);//amenazar
		            case 8: ApplyAnimation(playerid, "PAULNMAC", "wank_loop", 4.0, 1, 0, 0, 1, 0);//paja
		            case 9: ApplyAnimation(playerid, "SWEET", "LaFin_Sweet", 4.0, 0, 1, 1, 1, 0);//herido
		            case 10: ApplyAnimation(playerid, "COP_AMBIENT", "Coplook_loop", 4.0, 1, 1, 1, 0, 4000);//cruzarbrazos
		            case 11: ApplyAnimation(playerid,"SUNBATHE", "Lay_Bac_in", 4.0, 0, 0, 0, 1, 0);//recostarse
		            case 12: ApplyAnimation(playerid, "ped", "cower", 4.0, 1, 0, 0, 0, 0);//crubrirse
		            case 13: ApplyAnimation(playerid, "FOOD", "EAT_Vomit_P", 3.0, 0, 0, 0, 0, 0);//vomitar
		            case 14: ApplyAnimation(playerid, "FOOD", "EAT_Burger", 3.00, 0, 0, 0, 0, 0);//comer
		            case 15: ApplyAnimation(playerid, "KISSING", "BD_GF_Wave", 3.0, 0, 0, 0, 0, 0);//despedir
		            case 16: ApplyAnimation(playerid, "SWEET", "sweet_ass_slap", 4.0, 0, 0, 0, 0, 0);//nalgada
		            case 17: ApplyAnimation(playerid, "WUZI", "CS_Dead_Guy", 4.0, 0, 0, 0, 1, 0);//agonizar
		            case 18: ApplyAnimation(playerid, "KISSING", "Playa_Kiss_02", 4.0, 0, 0, 0, 0, 0);//besar
		            case 19: ApplyAnimation(playerid, "CRACK", "crckdeth2", 4.0, 0, 0, 0, 1, 0);//crack
		            case 20: SetPlayerSpecialAction(playerid, SPECIAL_ACTION_PISSING);//mear
		            case 21: ApplyAnimation(playerid, "SUNBATHE", "ParkSit_M_in", 4.000000, 0, 1, 1, 1, 0);//sentarse
		            case 22: ApplyAnimation( playerid,"ped", "fucku", 4.0, 0, 1, 1, 1, 1 );//fucku
		            case 23: ApplyAnimation(playerid, "ped", "phone_in", 4.000000, 0, 0, 0, 1, 4000);//llamar
		            case 24: ApplyAnimation(playerid, "PARK", "Tai_Chi_Loop",  4.1,7,5,1,1,1);//taichi
		            case 25: ApplyAnimation(playerid, "BAR", "dnk_stndM_loop", 4.0, 0, 1, 1, 0, 4000);//beber
		            case 26: ApplyAnimation(playerid, "GYMNASIUM", "gym_shadowbox",  4.1,7,5,1,1,1);//boxear
		            case 27: ApplyAnimation(playerid,"GANGS","hndshkfa_swt",4.1,0,0,0,0,0);//saludar
		            case 28: ApplyAnimation(playerid,"GRAVEYARD","mrnF_loop",4.1,0,0,0,0,0);//llorar
		            case 29: ApplyAnimation(playerid,"INT_HOUSE","BED_In_R",4.1,0,0,0,1,0);//dormir
		            case 30: ApplyAnimation(playerid,"RAPPING","RAP_B_Loop",4.0,1,0,0,0,8000);//rapear
		            case 31: ApplyAnimation(playerid,"STRIP","strip_A",4.1,7,5,1,1,1);//strip
		            case 32: ApplyAnimation(playerid,"DANCING","DAN_Down_A",4.1,7,5,1,1,1);//bailar
		            case 33: ApplyAnimation(playerid,"ON_LOOKERS","shout_02",4.1,7,5,1,1,1);//alentar
		            case 34: ApplyAnimation(playerid,"PED","IDLE_chat",4.1,7,5,1,1,1);//hablar
					case 35: ApplyAnimation(playerid, "ped", "SEAT_down", 4.000000, 0, 1, 1, 1, 0);//asiento
		        }
				ShowPlayerMessage(playerid, "Para detener la animacion utiliza ~b~/parar~w~.", 2);
			}
			return 1;
		}
		case DIALOG_TRICKS_MEDICINE:
		{
			if(response)
			{
				if(gettime() > PLAYER_TEMP[playerid][pt_TRICK_TIME] + 20) return ShowPlayerMessage(playerid, "Has tardardo mucho en aceptarlo.", 2);
				if(!IsPlayerConnected(PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID])) return ShowPlayerMessage(playerid, "El vendedor ya no esta en el servidor.", 2);
				if(PI[ PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID] ][pi_ID] != PLAYER_TEMP[playerid][pt_TRICK_SELLER_AID]) return ShowPlayerMessage(playerid, "El vendedor ya no esta en el servidor.", 2);

				new Float:pos[3]; GetPlayerPos(PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID], pos[0], pos[1], pos[2]);
				if(!IsPlayerInRangeOfPoint(playerid, 2.0, pos[0], pos[1], pos[2])) return ShowPlayerMessage(playerid, "El vendedor esta demasiado lejos.", 2);
				if(PLAYER_TEMP[ PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID] ][pt_GAME_STATE] != GAME_STATE_NORMAL) return ShowPlayerMessage(playerid, "El vendedor no esta disponible.", 2);


				if(GivePlayerCash(playerid, -PLAYER_TEMP[playerid][pt_TRICK_PRICE], true, true) && GivePlayerCash(PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID], PLAYER_TEMP[playerid][pt_TRICK_PRICE], true, false)) {
					PI[playerid][pi_MEDICINE] += PLAYER_TEMP[playerid][pt_TRICK_SELLER_EXTRA];
					PI[ PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID] ][pi_MEDICINE] -= PLAYER_TEMP[playerid][pt_TRICK_SELLER_EXTRA];

					SendFormatNotification(playerid, "Has gastado ~g~$%s~w~ con esta compra.", number_format_thousand(PLAYER_TEMP[playerid][pt_TRICK_PRICE]));
					SendFormatNotification(PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID], "Has ganado ~g~$%s~w~ con esta venta.", number_format_thousand(PLAYER_TEMP[playerid][pt_TRICK_PRICE]));

					new action[64];
					format(action, sizeof action, "y %s llegan a un acuerdo.", PLAYER_TEMP[playerid][pt_RP_NAME]);
					Auto_SendPlayerAction(PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID], action);
				}
			}
			else
			{
				if(gettime() > PLAYER_TEMP[playerid][pt_TRICK_TIME] + 20) return 1;
				if(!IsPlayerConnected(PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID])) return 1;
				if(PI[ PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID] ][pi_ID] != PLAYER_TEMP[playerid][pt_TRICK_SELLER_AID]) return 1;

				ShowPlayerMessage(PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID], "El comprador no ha aceptado tu trato.", 2);
			}
			return 1;
		}
		case DIALOG_TRICKS_CANNABIS:
		{
			if(response)
			{
				if(gettime() > PLAYER_TEMP[playerid][pt_TRICK_TIME] + 20) return ShowPlayerMessage(playerid, "Has tardardo mucho en aceptarlo.", 2);
				if(!IsPlayerConnected(PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID])) return ShowPlayerMessage(playerid, "El vendedor ya no esta en el servidor.", 2);
				if(PI[ PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID] ][pi_ID] != PLAYER_TEMP[playerid][pt_TRICK_SELLER_AID]) return ShowPlayerMessage(playerid, "El vendedor ya no esta en el servidor.", 2);

				new Float:pos[3]; GetPlayerPos(PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID], pos[0], pos[1], pos[2]);
				if(!IsPlayerInRangeOfPoint(playerid, 2.0, pos[0], pos[1], pos[2])) return ShowPlayerMessage(playerid, "El vendedor esta demasiado lejos.", 2);
				if(PLAYER_TEMP[ PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID] ][pt_GAME_STATE] != GAME_STATE_NORMAL) return ShowPlayerMessage(playerid, "El vendedor no esta disponible.", 2);

				if(GivePlayerCash(playerid, -PLAYER_TEMP[playerid][pt_TRICK_PRICE], true, true) && GivePlayerCash(PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID], PLAYER_TEMP[playerid][pt_TRICK_PRICE], true, false)) {
					PI[playerid][pi_CANNABIS] += PLAYER_TEMP[playerid][pt_TRICK_SELLER_EXTRA];
					PI[ PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID] ][pi_CANNABIS] -= PLAYER_TEMP[playerid][pt_TRICK_SELLER_EXTRA];

					SendFormatNotification(playerid, "Has gastado ~g~$%s~w~ con esta compra.", number_format_thousand(PLAYER_TEMP[playerid][pt_TRICK_PRICE]));
					SendFormatNotification(PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID], "Has ganado ~g~$%s~w~ con esta venta.", number_format_thousand(PLAYER_TEMP[playerid][pt_TRICK_PRICE]));

					new action[64];
					format(action, sizeof action, "y %s llegan a un acuerdo.", PLAYER_TEMP[playerid][pt_RP_NAME]);
					Auto_SendPlayerAction(PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID], action);
				}
			}
			else
			{
				if(gettime() > PLAYER_TEMP[playerid][pt_TRICK_TIME] + 20) return 1;
				if(!IsPlayerConnected(PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID])) return 1;
				if(PI[ PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID] ][pi_ID] != PLAYER_TEMP[playerid][pt_TRICK_SELLER_AID]) return 1;

				ShowPlayerMessage(PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID], "El comprador no ha aceptado tu trato.", 2);
			}
			return 1;
		}
		case DIALOG_TRICKS_CRACK:
		{
			if(response)
			{
				if(gettime() > PLAYER_TEMP[playerid][pt_TRICK_TIME] + 20) return ShowPlayerMessage(playerid, "Has tardardo mucho en aceptarlo.", 2);
				if(!IsPlayerConnected(PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID])) return ShowPlayerMessage(playerid, "El vendedor ya no esta en el servidor.", 2);
				if(PI[ PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID] ][pi_ID] != PLAYER_TEMP[playerid][pt_TRICK_SELLER_AID]) return ShowPlayerMessage(playerid, "El vendedor ya no esta en el servidor.", 2);

				new Float:pos[3]; GetPlayerPos(PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID], pos[0], pos[1], pos[2]);
				if(!IsPlayerInRangeOfPoint(playerid, 2.0, pos[0], pos[1], pos[2])) return ShowPlayerMessage(playerid, "El vendedor esta demasiado lejos.", 2);
				if(PLAYER_TEMP[ PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID] ][pt_GAME_STATE] != GAME_STATE_NORMAL) return ShowPlayerMessage(playerid, "El vendedor no esta disponible.", 2);

				if(GivePlayerCash(playerid, -PLAYER_TEMP[playerid][pt_TRICK_PRICE], true, true) && GivePlayerCash(PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID], PLAYER_TEMP[playerid][pt_TRICK_PRICE], true, false)) {
					PI[playerid][pi_CRACK] += PLAYER_TEMP[playerid][pt_TRICK_SELLER_EXTRA];
					PI[ PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID] ][pi_CRACK] -= PLAYER_TEMP[playerid][pt_TRICK_SELLER_EXTRA];

					SendFormatNotification(playerid, "Has gastado ~g~$%s~w~ con esta compra.", number_format_thousand(PLAYER_TEMP[playerid][pt_TRICK_PRICE]));
					SendFormatNotification(PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID], "Has ganado ~g~$%s~w~ con esta venta.", number_format_thousand(PLAYER_TEMP[playerid][pt_TRICK_PRICE]));

					new action[64];
					format(action, sizeof action, "y %s llegan a un acuerdo.", PLAYER_TEMP[playerid][pt_RP_NAME]);
					Auto_SendPlayerAction(PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID], action);
				}
			}
			else
			{
				if(gettime() > PLAYER_TEMP[playerid][pt_TRICK_TIME] + 20) return 1;
				if(!IsPlayerConnected(PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID])) return 1;
				if(PI[ PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID] ][pi_ID] != PLAYER_TEMP[playerid][pt_TRICK_SELLER_AID]) return 1;

				ShowPlayerMessage(PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID], "El comprador no ha aceptado tu trato.", 2);
			}
			return 1;
		}
		case DIALOG_TRICKS_UPACKET:
		{
			if(response)
			{
				if(gettime() > PLAYER_TEMP[playerid][pt_TRICK_TIME] + 20) return ShowPlayerMessage(playerid, "Has tardardo mucho en aceptarlo.", 2);
				if(!IsPlayerConnected(PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID])) return ShowPlayerMessage(playerid, "El vendedor ya no esta en el servidor.", 2);
				if(PI[ PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID] ][pi_ID] != PLAYER_TEMP[playerid][pt_TRICK_SELLER_AID]) return ShowPlayerMessage(playerid, "El vendedor ya no esta en el servidor.", 2);

				new Float:pos[3]; GetPlayerPos(PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID], pos[0], pos[1], pos[2]);
				if(!IsPlayerInRangeOfPoint(playerid, 2.0, pos[0], pos[1], pos[2])) return ShowPlayerMessage(playerid, "El vendedor esta demasiado lejos.", 2);
				if(PLAYER_TEMP[ PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID] ][pt_GAME_STATE] != GAME_STATE_NORMAL) return ShowPlayerMessage(playerid, "El vendedor no esta disponible.", 2);

				if(GivePlayerCash(playerid, -PLAYER_TEMP[playerid][pt_TRICK_PRICE], true, true) && GivePlayerCash(PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID], PLAYER_TEMP[playerid][pt_TRICK_PRICE], true, false)) {
					switch(PLAYER_TEMP[ PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID] ][pt_TRICK_PACKET])
					{
						case 0:
						{
							PI[playerid][pi_MPACK50] += PLAYER_TEMP[playerid][pt_TRICK_SELLER_EXTRA];
							PI[ PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID] ][pi_MPACK50] -= PLAYER_TEMP[playerid][pt_TRICK_SELLER_EXTRA];
						}

						case 1:
						{
							PI[playerid][pi_MPACK100] += PLAYER_TEMP[playerid][pt_TRICK_SELLER_EXTRA];
							PI[ PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID] ][pi_MPACK100] -= PLAYER_TEMP[playerid][pt_TRICK_SELLER_EXTRA];
						}
						case 2:
						{
							PI[playerid][pi_CPACK50] += PLAYER_TEMP[playerid][pt_TRICK_SELLER_EXTRA];
							PI[ PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID] ][pi_CPACK50] -= PLAYER_TEMP[playerid][pt_TRICK_SELLER_EXTRA];
						}
						case 3:
						{
							PI[playerid][pi_CPACK100] += PLAYER_TEMP[playerid][pt_TRICK_SELLER_EXTRA];
							PI[ PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID] ][pi_CPACK100] -= PLAYER_TEMP[playerid][pt_TRICK_SELLER_EXTRA];
						}
						case 4:
						{
							PI[playerid][pi_DPACK50] += PLAYER_TEMP[playerid][pt_TRICK_SELLER_EXTRA];
							PI[ PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID] ][pi_DPACK50] -= PLAYER_TEMP[playerid][pt_TRICK_SELLER_EXTRA];
						}
						case 5:
						{
							PI[playerid][pi_DPACK100] += PLAYER_TEMP[playerid][pt_TRICK_SELLER_EXTRA];
							PI[ PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID] ][pi_DPACK100] -= PLAYER_TEMP[playerid][pt_TRICK_SELLER_EXTRA];
						}
					}

					SendFormatNotification(playerid, "Has gastado ~g~$%s~w~ con esta compra.", number_format_thousand(PLAYER_TEMP[playerid][pt_TRICK_PRICE]));
					SendFormatNotification(PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID], "Has ganado ~g~$%s~w~ con esta venta.", number_format_thousand(PLAYER_TEMP[playerid][pt_TRICK_PRICE]));

					new action[64];
					format(action, sizeof action, "y %s llegan a un acuerdo.", PLAYER_TEMP[playerid][pt_RP_NAME]);
					Auto_SendPlayerAction(PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID], action);
				}
			}
			else
			{
				if(gettime() > PLAYER_TEMP[playerid][pt_TRICK_TIME] + 20) return 1;
				if(!IsPlayerConnected(PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID])) return 1;
				if(PI[ PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID] ][pi_ID] != PLAYER_TEMP[playerid][pt_TRICK_SELLER_AID]) return 1;

				ShowPlayerMessage(PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID], "El comprador no ha aceptado tu trato.", 2);
			}
			return 1;
		}
		case DIALOG_TRICKS_PACKET:
		{
			if(response)
			{
				switch(listitem)
				{
					case 0: if(PLAYER_TEMP[ PLAYER_TEMP[playerid][pt_TRICK_USER] ][pt_TRICK_SELLER_EXTRA] > PI[playerid][pi_MPACK50]) return ShowPlayerMessage(playerid, "No tienes esa cant en paquetes de marihuana de (50g).", 2);
					case 1: if(PLAYER_TEMP[ PLAYER_TEMP[playerid][pt_TRICK_USER] ][pt_TRICK_SELLER_EXTRA] > PI[playerid][pi_MPACK100]) return ShowPlayerMessage(playerid, "No tienes esa cant en paquetes de marihuana de (100g).", 2);
					case 2: if(PLAYER_TEMP[ PLAYER_TEMP[playerid][pt_TRICK_USER] ][pt_TRICK_SELLER_EXTRA] > PI[playerid][pi_CPACK50]) return ShowPlayerMessage(playerid, "No tienes esa cant en paquetes de crack de (50g).", 2);
					case 3: if(PLAYER_TEMP[ PLAYER_TEMP[playerid][pt_TRICK_USER] ][pt_TRICK_SELLER_EXTRA] > PI[playerid][pi_CPACK100]) return ShowPlayerMessage(playerid, "No tienes esa cant en paquetes de crack de (100g).", 2);
					case 4: if(PLAYER_TEMP[ PLAYER_TEMP[playerid][pt_TRICK_USER] ][pt_TRICK_SELLER_EXTRA] > PI[playerid][pi_DPACK50]) return ShowPlayerMessage(playerid, "No tienes esa cant en paquetes de medicinas de (50g).", 2);
					case 5: if(PLAYER_TEMP[ PLAYER_TEMP[playerid][pt_TRICK_USER] ][pt_TRICK_SELLER_EXTRA] > PI[playerid][pi_DPACK100]) return ShowPlayerMessage(playerid, "No tienes esa cant en paquetes de medicinas de (100g).", 2);
				}
				PLAYER_TEMP[playerid][pt_TRICK_PACKET] = listitem;
				ShowDialog(PLAYER_TEMP[playerid][pt_TRICK_USER], DIALOG_TRICKS_UPACKET);
			}
			return 1;
		}
		case DIALOG_TRICKS_SU:
		{
			if(response)
			{
				if(gettime() > PLAYER_TEMP[playerid][pt_TRICK_TIME] + 20) return ShowPlayerMessage(playerid, "Has tardardo mucho en aceptarlo.", 2);
				if(!IsPlayerConnected(PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID])) return ShowPlayerMessage(playerid, "El vendedor ya no esta en el servidor.", 2);
				if(PI[ PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID] ][pi_ID] != PLAYER_TEMP[playerid][pt_TRICK_SELLER_AID]) return ShowPlayerMessage(playerid, "El vendedor ya no esta en el servidor.", 2);

				new Float:pos[3]; GetPlayerPos(PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID], pos[0], pos[1], pos[2]);
				if(!IsPlayerInRangeOfPoint(playerid, 2.0, pos[0], pos[1], pos[2])) return ShowPlayerMessage(playerid, "El vendedor esta demasiado lejos.", 2);
				if(PLAYER_TEMP[ PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID] ][pt_GAME_STATE] != GAME_STATE_NORMAL) return ShowPlayerMessage(playerid, "El vendedor no esta disponible.", 2);


				PI[playerid][pi_COINS] += PLAYER_TEMP[playerid][pt_TRICK_SELLER_EXTRA];
				PI[ PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID] ][pi_COINS] -= PLAYER_TEMP[playerid][pt_TRICK_SELLER_EXTRA];

				if(GivePlayerCash(playerid, -PLAYER_TEMP[playerid][pt_TRICK_PRICE], true, true) && GivePlayerCash(PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID], PLAYER_TEMP[playerid][pt_TRICK_PRICE], true, false)) {
					mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET coins = %d WHERE id = %d;", PI[playerid][pi_COINS], PI[playerid][pi_ID]);
					mysql_tquery(srp_db, QUERY_BUFFER);

					mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET coins = %d WHERE id = %d;", PI[PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID]][pi_COINS], PI[PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID]][pi_ID]);
					mysql_tquery(srp_db, QUERY_BUFFER);

					SendFormatNotification(playerid, "Has gastado ~g~$%s~w~ con esta compra.", number_format_thousand(PLAYER_TEMP[playerid][pt_TRICK_PRICE]));
					SendFormatNotification(PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID], "Has ganado ~g~$%s~w~ con esta venta.", number_format_thousand(PLAYER_TEMP[playerid][pt_TRICK_PRICE]));

					new action[64];
					format(action, sizeof action, "y %s llegan a un acuerdo.", PLAYER_TEMP[playerid][pt_RP_NAME]);
					Auto_SendPlayerAction(PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID], action);
				}
			}
			else
			{
				if(gettime() > PLAYER_TEMP[playerid][pt_TRICK_TIME] + 20) return 1;
				if(!IsPlayerConnected(PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID])) return 1;
				if(PI[ PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID] ][pi_ID] != PLAYER_TEMP[playerid][pt_TRICK_SELLER_AID]) return 1;

				ShowPlayerMessage(PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID], "El comprador no ha aceptado tu trato.", 2);
			}
			return 1;
		}
		case DIALOG_TRICKS_WEAPON:
		{
			if(response)
			{
				if(gettime() > PLAYER_TEMP[playerid][pt_TRICK_TIME] + 20) return ShowPlayerMessage(playerid, "Has tardardo mucho en aceptarlo.", 2);
				if(!IsPlayerConnected(PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID])) return ShowPlayerMessage(playerid, "El vendedor ya no esta en el servidor.", 2);
				if(PI[ PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID] ][pi_ID] != PLAYER_TEMP[playerid][pt_TRICK_SELLER_AID]) return ShowPlayerMessage(playerid, "El vendedor ya no esta en el servidor.", 2);

				new Float:pos[3]; GetPlayerPos(PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID], pos[0], pos[1], pos[2]);
				if(!IsPlayerInRangeOfPoint(playerid, 2.0, pos[0], pos[1], pos[2])) return ShowPlayerMessage(playerid, "El vendedor esta demasiado lejos.", 2);
				if(PLAYER_TEMP[ PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID] ][pt_GAME_STATE] != GAME_STATE_NORMAL) return ShowPlayerMessage(playerid, "El vendedor no esta disponible.", 2);


				if(PLAYER_WEAPONS[playerid][ PLAYER_TEMP[playerid][pt_TRICK_SELLER_EXTRA] ][player_weapon_VALID])
				{
					PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
					SendFormatNotification(playerid, "Para comprar esta arma tienes que deshacerte de tu '%s' (%d) para tener espacio.", WEAPON_INFO[ PLAYER_WEAPONS[playerid][ PLAYER_TEMP[playerid][pt_TRICK_SELLER_EXTRA] ][player_weapon_ID] ][weapon_info_NAME], PLAYER_TEMP[playerid][pt_TRICK_SELLER_EXTRA]);
					return 1;
				}

				if(GivePlayerCash(playerid, -PLAYER_TEMP[playerid][pt_TRICK_PRICE], true, true) && GivePlayerCash(PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID], PLAYER_TEMP[playerid][pt_TRICK_PRICE], true, false)) {
					TransferPlayerWeapon(PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID], PLAYER_TEMP[playerid][pt_TRICK_SELLER_EXTRA], playerid);

					SendFormatNotification(playerid, "Has gastado ~g~$%s~w~ con esta compra.", number_format_thousand(PLAYER_TEMP[playerid][pt_TRICK_PRICE]));
					SendFormatNotification(PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID], "Has ganado ~g~$%s~w~ con esta venta.", number_format_thousand(PLAYER_TEMP[playerid][pt_TRICK_PRICE]));

					new action[64];
					format(action, sizeof action, "y %s llegan a un acuerdo.", PLAYER_TEMP[playerid][pt_RP_NAME]);
					Auto_SendPlayerAction(PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID], action);
				}
			}
			else
			{
				if(gettime() > PLAYER_TEMP[playerid][pt_TRICK_TIME] + 20) return 1;
				if(!IsPlayerConnected(PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID])) return 1;
				if(PI[ PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID] ][pi_ID] != PLAYER_TEMP[playerid][pt_TRICK_SELLER_AID]) return 1;

				ShowPlayerMessage(PLAYER_TEMP[playerid][pt_TRICK_SELLER_PID], "El comprador no ha aceptado tu trato.", 2);
			}
			return 1;
		}
		case DIALOG_VEHICLE_BOOT:
{
    if(response)
    {
        // Usamos 'listitem' que es el índice que seleccionó el jugador en el diálogo
        if(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] == -1) return 1;

        // Si seleccionó la opción de "Bolsillos"
        if(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] == MAX_BOOT_SLOTS + 20)
        {
            PC_EmulateCommand(playerid, "/bolsillo");
            return 1;
        }

        // Asignamos el slot del baúl seleccionado
        new vehicle_id = PLAYER_TEMP[playerid][pt_DIALOG_BOT_VEHICLE];
        new boot_slot = PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem];
        PLAYER_TEMP[playerid][pt_DIALOG_BOT_VEHICLE_BOOT_SLOT] = boot_slot;

        // Verificamos espacio en inventario del jugador
        new player_slot = GetEmptyInvSlot(playerid);
        if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");

        // Obtenemos los datos del objeto en el maletero
        new Bol = VEHICLE_BOOT[vehicle_id][boot_slot][vehicle_boot_INT];
        new Cant = VEHICLE_BOOT[vehicle_id][boot_slot][vehicle_boot_INT_EXTRA];
        new string[128];

        ActualizarManos(playerid);

        // Pasamos el objeto al jugador
        PI[playerid][pi_BOL][player_slot] = Bol;
        PI[playerid][pi_BOL_CANT][player_slot] = Cant;

        // Acción y Feedback
        format(string, sizeof string, "saca un(a) %s del maletero.", ObjetoInfo[Bol][NombreObjeto]); 
        Auto_SendPlayerAction(playerid, string);
        
        ApplyAnimation(playerid, "CARRY", "putdwn105", 4.1, 0, 1, 1, 0, 0, 1);

        // Eliminamos de la base de datos
        mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "DELETE FROM vboot WHERE id = %d;", VEHICLE_BOOT[vehicle_id][boot_slot][vehicle_boot_OBJECT_ID]);
        mysql_tquery(srp_db, QUERY_BUFFER);

        // Limpiamos la variable del maletero en la memoria del servidor
        new temp_VEHICLE_BOOT[enum_VEHICLE_BOOT]; 
        VEHICLE_BOOT[vehicle_id][boot_slot] = temp_VEHICLE_BOOT;
    }
    return 1;
}
		case DIALOG_VEHICLE_BOOT_DELETE_ALL:
		{
			if(response)
			{
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "DELETE FROM vboot WHERE id_vehicle = %d;", PLAYER_VEHICLES[ PLAYER_TEMP[playerid][pt_DIALOG_BOT_VEHICLE] ][player_vehicle_ID]);
				mysql_tquery(srp_db, QUERY_BUFFER);

				new temp_VEHICLE_BOOT[enum_VEHICLE_BOOT];
				for(new i = 0; i != MAX_BOOT_SLOTS; i ++) VEHICLE_BOOT[ PLAYER_TEMP[playerid][pt_DIALOG_BOT_VEHICLE] ][i] = temp_VEHICLE_BOOT;

				ShowPlayerMessage(playerid, "Ha eliminado todo de este maletero.", 2);
				Auto_SendPlayerAction(playerid, "tira todas las armas de su maltero");
			}
			return 1;
		}
		case DIALOG_VEHICLE_BOOT_OPTIONS:
		{
			if(response)
			{
				switch(listitem)
				{
					case 0:
					{
						if(!VEHICLE_BOOT[ PLAYER_TEMP[playerid][pt_DIALOG_BOT_VEHICLE] ][ PLAYER_TEMP[playerid][pt_DIALOG_BOT_VEHICLE_BOOT_SLOT] ][vehicle_boot_VALID]) return SendNotification(playerid, "No hay nada en ese slot.");

						new string[128];
						switch(VEHICLE_BOOT[ PLAYER_TEMP[playerid][pt_DIALOG_BOT_VEHICLE] ][ PLAYER_TEMP[playerid][pt_DIALOG_BOT_VEHICLE_BOOT_SLOT] ][vehicle_boot_TYPE])
						{
							case BOOT_TYPE_OBJECT:
							{
							    ActualizarManos(playerid);
							    new Bol = VEHICLE_BOOT[ PLAYER_TEMP[playerid][pt_DIALOG_BOT_VEHICLE] ][ PLAYER_TEMP[playerid][pt_DIALOG_BOT_VEHICLE_BOOT_SLOT] ][vehicle_boot_INT];
								new Cant = VEHICLE_BOOT[ PLAYER_TEMP[playerid][pt_DIALOG_BOT_VEHICLE] ][ PLAYER_TEMP[playerid][pt_DIALOG_BOT_VEHICLE_BOOT_SLOT] ][vehicle_boot_INT_EXTRA];
								new player_slot = GetEmptyInvSlot(playerid);
								if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
								PI[playerid][pi_BOL][player_slot] = Bol;
                                PI[playerid][pi_BOL_CANT][player_slot] = Cant;
                                format(string, sizeof string, "saca un(a) %s.", ObjetoInfo[Bol][NombreObjeto]);
							}
						}

						mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "DELETE FROM vboot WHERE id = %d;", VEHICLE_BOOT[ PLAYER_TEMP[playerid][pt_DIALOG_BOT_VEHICLE] ][ PLAYER_TEMP[playerid][pt_DIALOG_BOT_VEHICLE_BOOT_SLOT] ][vehicle_boot_OBJECT_ID]);
						mysql_tquery(srp_db, QUERY_BUFFER);

						new temp_VEHICLE_BOOT[enum_VEHICLE_BOOT]; VEHICLE_BOOT[ PLAYER_TEMP[playerid][pt_DIALOG_BOT_VEHICLE] ][ PLAYER_TEMP[playerid][pt_DIALOG_BOT_VEHICLE_BOOT_SLOT] ] = temp_VEHICLE_BOOT;
						Auto_SendPlayerAction(playerid, string);
					}
					case 1: ShowDialog(playerid, DIALOG_VEHICLE_BOOT_DELETE);
				}
			}
			else ShowDialog(playerid, DIALOG_VEHICLE_BOOT);
			return 1;
		}
		case DIALOG_VEHICLE_BOOT_DELETE:
		{
			if(response)
			{
				ShowPlayerMessage(playerid, "Eliminado.", 2);

				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "DELETE FROM vboot WHERE id = %d;", VEHICLE_BOOT[ PLAYER_TEMP[playerid][pt_DIALOG_BOT_VEHICLE] ][ PLAYER_TEMP[playerid][pt_DIALOG_BOT_VEHICLE_BOOT_SLOT] ][vehicle_boot_OBJECT_ID]);
				mysql_tquery(srp_db, QUERY_BUFFER);

				new temp_VEHICLE_BOOT[enum_VEHICLE_BOOT]; VEHICLE_BOOT[ PLAYER_TEMP[playerid][pt_DIALOG_BOT_VEHICLE] ][ PLAYER_TEMP[playerid][pt_DIALOG_BOT_VEHICLE_BOOT_SLOT] ] = temp_VEHICLE_BOOT;
			}
			else ShowDialog(playerid, DIALOG_VEHICLE_BOOT_OPTIONS);
			return 1;
		}
		case DIALOG_SELECT_POLICE_SKIN:
		{
			if(response)
			{
				if(!PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET]) return 1;
				if(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] == -1) return 1;
				if(POLICE_SKINS[ PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] ][police_skin_RANK] > PLAYER_WORKS[playerid][WORK_POLICE][pwork_LEVEL]) return ShowDialog(playerid, dialogid);
				PI[playerid][pi_POLICE_DUTY] = POLICE_SKINS[ PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] ][police_skin_SKIN];
				CallLocalFunction("StartPlayerJob", "iii", playerid, WORK_POLICE, INVALID_VEHICLE_ID);
				SetPlayerToys(playerid);
			}
			return 1;
		}

		case DIALOG_POLICE_RADIOS:
		{
			if(response)
			{
				PLAYER_TEMP[playerid][pt_POLICE_RADIO] = listitem;
				SendFormatNotification(playerid, "Tu radio ha sido ajustada a la frecuencia %d.", listitem + 1);
			}
			return 1;
		}
		case DIALOG_POLICE_LIST:
		{
			if(response)
			{
				if(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] == -1) return 1;
				else if(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] == -2) // Siguiente
				{
					inline OnCountQueryLoad()
					{
						new rows;
						if(cache_get_row_count(rows))
						{
							if(rows)
							{
								new count, pages;
								cache_get_value_index_int(0, 0, count);
								pages = GetDatabasePages(count, PLAYER_TEMP[playerid][pt_DIALOG_DB_LIMIT]);

								if(PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] >= pages - 1) PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] = 0;
								else PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] ++;
								ShowDialog(playerid, dialogid);
							}
						}
					}
					mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT COUNT(id_player) FROM pworks WHERE pworks.id_work = %d AND pworks.`set` = 1;", WORK_POLICE);
					mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnCountQueryLoad);
				}
				else if(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] == -3) //Anterior
				{
					inline OnCountQueryLoad()
					{
						new rows;
						if(cache_get_row_count(rows))
						{
							if(rows)
							{
								new count, pages;
								cache_get_value_index_int(0, 0, count);
								pages = GetDatabasePages(count, PLAYER_TEMP[playerid][pt_DIALOG_DB_LIMIT]);

								if(PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] <= 0) PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] = pages - 1;
								else PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] --;
								ShowDialog(playerid, dialogid);
							}
						}
					}
					mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT COUNT(id_player) FROM pworks WHERE pworks.id_work = %d AND pworks.`set` = 1;", WORK_POLICE);
					mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnCountQueryLoad);
				}
				else
				{
					if(PLAYER_WORKS[playerid][WORK_POLICE][pwork_LEVEL] >= sizeof POLICE_RANKS - 1)
					{
						PLAYER_TEMP[playerid][pt_SELECTED_DB_AC_ID] = PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem];
						ShowDialog(playerid, DIALOG_POLICE_MODIFY);
					}
				}
			}
			return 1;
		}
		case DIALOG_POLICE_MODIFY:
		{
			if(response)
			{
				if(listitem > PLAYER_WORKS[playerid][WORK_POLICE][pwork_LEVEL])
				{
					ShowPlayerMessage(playerid, "El rango que has seleccionado es superior al tuyo.", 2);
					return 1;
				}

				inline OnDialogQueryLoad()
				{
					new rows;
					if(cache_get_row_count(rows))
					{
						if(rows)
						{
							new level, name[24], connected, pid;
							cache_get_value_name_int(0, "level", level);
							cache_get_value_name(0, "name", name);
							cache_get_value_name_int(0, "connected", connected);
							cache_get_value_name_int(0, "playerid", pid);

							if(level > PLAYER_WORKS[playerid][WORK_POLICE][pwork_LEVEL]) ShowPlayerMessage(playerid, "No puedes modificar el rango de este policía porque es un rango superior al tuyo.", 2);
							else
							{
								SendFormatNotification(playerid, "El nuevo rango de %s es: '%s'.", name, POLICE_RANKS[listitem]);
								if(listitem == 0)
								{
									mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE pworks SET `set` = 0, level = 0 WHERE id_player = %d AND id_work = %d;", PLAYER_TEMP[playerid][pt_SELECTED_DB_AC_ID], WORK_POLICE);
									mysql_tquery(srp_db, QUERY_BUFFER);

									mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET police_duty = 0, placa_pd = 0 WHERE id = %d;", PLAYER_TEMP[playerid][pt_SELECTED_DB_AC_ID]);
									mysql_tquery(srp_db, QUERY_BUFFER);

									if(connected)
									{
										if(PLAYER_TEMP[pid][pt_WORKING_IN] == WORK_POLICE) CallLocalFunction("EndPlayerJob", "iib", pid, PLAYER_TEMP[pid][pt_WORKING_IN], true);
										SendFormatNotification(pid, "El %s %s te ha expulsado del cuerpo de policía.", POLICE_RANKS[ PLAYER_WORKS[playerid][WORK_POLICE][pwork_LEVEL] ], PLAYER_TEMP[playerid][pt_RP_NAME]);

										PLAYER_WORKS[pid][WORK_POLICE][pwork_SET] = 0;
										PLAYER_WORKS[pid][WORK_POLICE][pwork_LEVEL] = 0;
										PI[pid][pi_POLICE_DUTY] = 0;
										PI[pid][pi_PLACA_PD] = 0;
									}
								}
								else
								{
 									mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE pworks SET level = %d_player = %d AND id_work = %d;", listitem, PLAYER_TEMP[playerid][pt_SELECTED_DB_AC_ID], WORK_POLICE);
									mysql_tquery(srp_db, QUERY_BUFFER);

									if(connected)
									{
										PLAYER_WORKS[pid][WORK_POLICE][pwork_LEVEL] = listitem;
										SendFormatNotification(pid, "»El %s %s ha modificado tu rango del cuerpo de policía a '%s'.", POLICE_RANKS[ PLAYER_WORKS[playerid][WORK_POLICE][pwork_LEVEL] ], PLAYER_TEMP[playerid][pt_RP_NAME], POLICE_RANKS[listitem]);
									}
								}
							}
						}
					}
				}
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT pworks.level, player.name, player.connected, player.playerid FROM pworks INNER JOIN player ON pworks.id_player = player.id WHERE pworks.id_player = %d AND pworks.id_work = %d;", PLAYER_TEMP[playerid][pt_SELECTED_DB_AC_ID], WORK_POLICE);
				mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnDialogQueryLoad);
			}
			else ShowDialog(playerid, DIALOG_POLICE_LIST);
			return 1;
		}

	case DIALOG_ANNOUNCES:
		{
			if(response)
			{
			new pok[126];
			switch(listitem)
				{
					case 0: format(pok,sizeof(pok),"~g~~h~vendo medicamentos ~w~(Movil: ~g~~h~%d~w~)",PI[playerid][pi_PHONE_NUMBER]), GivePlayerCash(playerid, -30);
					case 1: format(pok,sizeof(pok),"~r~~h~vendo crack ~w~(Movil: ~r~~h~%d~w~)",PI[playerid][pi_PHONE_NUMBER]), GivePlayerCash(playerid, -30);
					case 2: format(pok,sizeof(pok),"~b~~h~vendo banda ~w~(Movil: ~b~~h~%d~w~)",PI[playerid][pi_PHONE_NUMBER]), GivePlayerCash(playerid, -50);
					case 3: format(pok,sizeof(pok),"~b~~h~vendo propiedad ~w~(Movil: ~b~~h~%d~w~)",PI[playerid][pi_PHONE_NUMBER]), GivePlayerCash(playerid, -80);
					case 4: format(pok,sizeof(pok),"~r~~h~vendo arma ~w~(Movil: ~r~~h~%d~w~)",PI[playerid][pi_PHONE_NUMBER]), GivePlayerCash(playerid, -80);
					case 5: format(pok,sizeof(pok),"~p~vendo auto ~w~(Movil: ~p~%d~w~)",PI[playerid][pi_PHONE_NUMBER]), GivePlayerCash(playerid, -15);
					case 6: format(pok,sizeof(pok),"~p~vendo moto ~w~(Movil: ~p~%d~w~)",PI[playerid][pi_PHONE_NUMBER]), GivePlayerCash(playerid, -15);
					case 7: format(pok,sizeof(pok),"~r~~h~compro arma ~w~(Movil: ~r~~h~%d~w~)",PI[playerid][pi_PHONE_NUMBER]), GivePlayerCash(playerid, -80);
					case 8: format(pok,sizeof(pok),"~b~~h~compro vehiculo usado ~w~(Movil: ~b~~h~%d~w~)",PI[playerid][pi_PHONE_NUMBER]), GivePlayerCash(playerid, -30);
					case 9: format(pok,sizeof(pok),"~g~~h~compro medicamento ~w~(Movil: ~g~~h~%d~w~)",PI[playerid][pi_PHONE_NUMBER]), GivePlayerCash(playerid, -30);
					case 10: format(pok,sizeof(pok),"~r~~h~compro crack ~w~(Movil: ~y~%d~w~)",PI[playerid][pi_PHONE_NUMBER]), GivePlayerCash(playerid, -30);
					case 11: format(pok,sizeof(pok),"~b~~h~compro banda ~w~(Movil: ~b~~h~%d~w~)",PI[playerid][pi_PHONE_NUMBER]), GivePlayerCash(playerid, -50);
					case 12: format(pok,sizeof(pok),"~b~~h~compro propiedad ~w~(Movil: ~b~~h~%d~w~)",PI[playerid][pi_PHONE_NUMBER]), GivePlayerCash(playerid, -50);
					case 13: format(pok,sizeof(pok),"~y~~h~busco compañero basurero ~w~(Movil: ~y~~h~%d~w~)",PI[playerid][pi_PHONE_NUMBER]), GivePlayerCash(playerid, -10);
					case 14: format(pok,sizeof(pok),"~r~~h~busco mecánico ~w~(Movil: ~r~~h~%d~w~)",PI[playerid][pi_PHONE_NUMBER]), GivePlayerCash(playerid, -70);
					case 15: format(pok,sizeof(pok),"~r~~h~busco taxista ~w~(Movil: ~r~~h~%d~w~)",PI[playerid][pi_PHONE_NUMBER]), GivePlayerCash(playerid, -20);
					case 16: format(pok,sizeof(pok),"~r~~h~busco medico ~w~(Movil: ~r~~h~%d~w~)",PI[playerid][pi_PHONE_NUMBER]), GivePlayerCash(playerid, -20);
					case 17: format(pok,sizeof(pok),"~r~~h~busco banda ~w~(Movil: ~r~~h~%d~w~)",PI[playerid][pi_PHONE_NUMBER]), GivePlayerCash(playerid, -20);
					case 18: format(pok,sizeof(pok),"~r~~h~Busco miembros para banda ~w~(Movil: ~r~~h~%d~w~)",PI[playerid][pi_PHONE_NUMBER]), GivePlayerCash(playerid, -20);
				}
				
			EnviarPopUp(playerid,pok);
			}
			return 1;
		}

		case DIALOG_HELP:
		{
			if(response)
			{
				switch(listitem)
				{
					case 0: ShowDialog(playerid, DIALOG_HELP_GENERAL);
					case 1: ShowDialog(playerid, DIALOG_HELP_CHARACTER);
					case 2: ShowDialog(playerid, DIALOG_HELP_PROPERTIES);
					case 3: ShowDialog(playerid, DIALOG_HELP_REPORT);
					case 4: ShowDialog(playerid, DIALOG_HELP_WORKS);
					case 5: ShowDialog(playerid, DIALOG_HELP_VEHICLES);
					case 6: ShowDialog(playerid, DIALOG_HELP_CREWS);
					case 7: ShowDialog(playerid, DIALOG_HELP_SU);
					case 8: ShowDialog(playerid, DIALOG_HELP_BOL);
				}
			}
			return 1;
		}
		case DIALOG_HELP_WORKS:
		{
			if(response)
			{
				new caption[45], dialog[1800], work = listitem + 1;
				format(caption, sizeof caption, "{FFFF00}[Trabajo]{ffffff}  De%c%s", toupper(work_info[work][work_info_NAME][0]), work_info[work][work_info_NAME][1]);

				new header[350];
				if(work_info[work][work_info_TYPE] != WORK_TYPE_FAMILY)
				{
					if(work_info[work][work_info_EXTRA_PAY] > 0 && work_info[work][work_info_EXTRA_PAY_EXP] > 0) // con paga extra
					{
						if(!work_info[work][work_info_EXTRA_PAY_LIMIT]) // sin limite
						{
							format(header, sizeof header,

								"\
									"WHITE" Trabajo: %s\n\
									"WHITE" Tipo: %s\n\
									"WHITE" Nivel necesario: %d\n\
									"WHITE" Paga extra: por cada %s trabajos realizados recibes $%s extra.\n\
									{FFFFFF}Puedes localizar donde adquirir este trabajo desde el GPS.\n\
								",
									work_info[work][work_info_NAME],
									(work_info[work][work_info_TYPE] == WORK_TYPE_NORMAL) ? ("normal") : ("complementario"),
									work_info[work][work_info_LEVEL],
									number_format_thousand(work_info[work][work_info_EXTRA_PAY_EXP]),
									number_format_thousand(work_info[work][work_info_EXTRA_PAY])
							);
						}
						else // con limite
						{
							format(header, sizeof header,

								"\
									"WHITE" Trabajo: %s\n\
									"WHITE" Tipo: %s\n\
									"WHITE" Nivel necesario: %d\n\
									"WHITE" Puedes localizar donde adquirir este trabajo desde el GPS.\n\
								",
									work_info[work][work_info_NAME],
									(work_info[work][work_info_TYPE] == WORK_TYPE_NORMAL) ? ("normal") : ("complementario"),
									work_info[work][work_info_LEVEL],
									number_format_thousand(work_info[work][work_info_EXTRA_PAY_EXP]),
									number_format_thousand(work_info[work][work_info_EXTRA_PAY]),
									number_format_thousand(work_info[work][work_info_EXTRA_PAY_LIMIT])
							);
						}
					}
					else
					{
						format(header, sizeof header,

							"\
								"WHITE" Trabajo: %s\n\
								"WHITE" Tipo: %s\n\
								"WHITE" Nivel necesario: %d\n\
								"WHITE" Puedes localizar donde adquirir este trabajo desde el GPS.\n\
							",
								work_info[work][work_info_NAME],
								(work_info[work][work_info_TYPE] == WORK_TYPE_NORMAL) ? ("normal") : ("complementario"),
								work_info[work][work_info_LEVEL]
						);
					}
				}

				switch(work)
				{
					case WORK_TAXI:
					{
						format(dialog, sizeof dialog,

							"\
							%s\
							\n\
							"WHITE"Solo súbete a un taxi y empieza a trabajar, recibiras las llamadas de los clientes.\n\
							"WHITE" Las personas que hayan llamado a la central de taxi apareceran marcados de color amarillo.\n\
							"WHITE"Si tienes un GPS puedes utilizar /mapa para ver las personas que necesitan un taxi.\n\
							\n\
							"WHITE"El taxímetro se pondra en marcha para el primer pasajero que se suba al taxi, el precio se\n\
							"WHITE"mide en precio por km, puedes ajustarlo con el comando /tarifa.\n\
							\n\
							",
								header
						);
					}
					case WORK_TRUCK:
					{
						format(dialog, sizeof dialog,

							"\
							%s\
							\n\
							"WHITE"Súbete a cualquier camión de la empresa y ve a cargarlo en cualquier punto de carga.\n\
							"WHITE"Según tu experiencia en el trabajo podras transportar diferentes productos de mas valor.\n\
							\n\
							",
								header
						);
					}
					case WORK_MECHANIC:
					{
						format(dialog, sizeof dialog,

							"\
							%s\
							\n\
							"WHITE"Para empezar a trabajar ve al taller y utiliza /mecanico para empezar a trabajar o dejar de trabajar.\n\
							"WHITE"Con este trabajo podras reparar los vehiculos dañados en el taller o ir a arreglarlos por San Andreas.\n\
							"WHITE"Las personas que hayan llamado al mecanico apareceran marcados en el mapa.\n\
							"WHITE"Si tienes un GPS puedes utilizar /mapa para ver las personas que necesitan un mecanico.\n\
							"WHITE"Para reparar o tunear un vehiculo usa /vmenu tras elegir una opción se le ofrecera al dueño del vehiculo\n\
				    		"WHITE"en caso de ser un vehiculo personal, si no se le ofrecera al conductor o el último conductor del vehiculo.\n\
							\n\
				       	"WHITE"Puedes utilizar los vehiculos de tu trabajo o tu vehiculo personal.\n\
						   "WHITE"Para cualquier reparación o modificación necesitaras piezas que puedes comprar en el taller.\n\
						   "WHITE"Para reparar o modificar un vehiculo utiliza cerca del vehiculo el comando /vmenu.\n\
							\n\
							"WHITE"Si el vehiculo no esta en el mecanico y se puede remolcar tendras que remolcarlo hasta el mecanico\n\
							"WHITE"para repararlo, se usa el comando /remolcar.\n\
							\n\
							"WHITE"En el taller también podras pintar los vehiculos.\n\
							"WHITE"Para tunearlos o remover componentes tendras que haber realizado al menos 100 reparaciones en vehiculos ajenos.\n\
							\n\
							",
								header
						);
					}
					case WORK_HARVESTER:
					{
						format(dialog, sizeof dialog,

							"\
							%s\
							\n\
							"WHITE"Súbete a una cosechadora y empieza a cosechar.\n\
							\n\
							",
								header
						);
					}

		
					case WORK_BUS:
					{
						format(dialog, sizeof dialog,

							"\
							%s\
							\n\
							"WHITE"Súbete a bus de transporte y empieza los recorridos.\n\
							\n\
							",
								header
						);
					}
 					case WORK_TRASH:
					{
						format(dialog, sizeof dialog,

							"\
							%s\
							\n\
							"WHITE"Para este trabajo se necesitan 2 personas, uno que conduzca el camión y otro que recoja la basura.\n\
							"WHITE"Para empezar a trabajar sube a alguien a un camión y selecciona la ruta que querais realizar.\n\
							\n\
							"WHITE"Dependiendo de tu experiencia recogeras mas rapido la basura.\n\
							\n\
							",
								header
						);
					}
					case WORK_LUMBERJACK:
					{
						format(dialog, sizeof dialog,

							"\
							%s\
							\n\
							"WHITE"Para empezar a trabajar ve a los arboles asignados y empieza a talar.\n\
							"WHITE"Dependiendo de tu experiencia tu velocidad talando ira aumentando.\n\
							\n\
							",
								header
						);
					}
					case WORK_ARMERO:
					{
						format(dialog, sizeof(dialog),
							"\
							%s\
							\n\
							"WHITE"Crea distintas armas y empaquetalas para obtener dinero y materiales\n\
							", header
						);
					}
					case WORK_TRAILERO:
{
    format(dialog, sizeof(dialog),
							"\
							%s\
							\n\
        "WHITE"Conduce potentes camiones y recorre todo el estado.\n\
        "WHITE"Transporta mercancía valiosa, combustible o suministros.\n\
        "WHITE"Entrega tus cargas a tiempo para obtener "GREEN"dinero y experiencia"WHITE".\n\n\
        "ORANGE"¡La carretera te espera, camionero! ¿Estás listo para el viaje?\n\
        ", header
    );
}

					case WORK_FARMER:
					{
						format(dialog, sizeof dialog,

							"\
							%s\
							\n\
							"WHITE"Necesitaras semillas para poder plantar que puedes comprar en la granja.\n\
							"WHITE"Dependiendo de tu experiencia tu velocidad plantando ira aumentando.\n\
							\n\
							"WHITE"Después de que la planta crezca tienes 5 minutos para recogerla si no la planta se secara y se destruira.\n\
							"WHITE"Cuando termines de plantar espera a que la planta termine de crecer, para recogerla.\n\
							"WHITE"Una vez recogida puedes vender el producto adquirido o usarlo para consumo propio.\n\
							\n\
							"WHITE"Cuida tus plantas, la gente puede destuirlas si le disparan.\n\
							\n\
							",
								header
						);
					}

					case WORK_POLICE:
					{
						format(dialog, sizeof dialog,

							"\
							%s\
							\n\
							"WHITE"Los policías en servicio apareceran de color azul.\n\
							"WHITE"Utiliza /policias para ver la lista de policías, los rangos altos podran desde aquí\n\
							"WHITE"bajar, subir el rango de los policías, también pueden expulsarlos del cuerpo.\n\
							\n\
							"WHITE"Para asignar un BYC una persona utiliza el comando /abyc.\n\
						    "WHITE"Usa /byc para ver los BYC de todos o de una persona, también para eliminarlos.\n\
							"WHITE"Utiliza /esposar para esposar o desesposar a alguien que tenga nivel de búsqueda.\n\
					    	"WHITE"Utiliza /revisar para ver las pertenencias del jugador esposado, utiliza /requisar para requisar las pertenencias ilegales.\n\
							"WHITE"Utiliza /arrestar en tu vehiculo personal para detener a alguien que esta esposado.\n\
							"WHITE"Utiliza /ref para pedir refuerzos.\n\
							"WHITE"Utiliza /derechos para soltar los derechos.\n\
							"WHITE"Utiliza /arrestar para subir a la patrulla al sujeto.\n\
							"WHITE"Utiliza /entregar para entregar al sujeto.\n\
							"WHITE"Utiliza /c para dar cargos.\n\
							"WHITE"Para utiliza el megafono utiliza /m dentro de un vehiculo policial.\n\
				    		"WHITE"Para entregar a alguien tiene que estar arrestado en un vehiculo policial\n\
					    	"WHITE"y llevarlo a cualquiera de las 3 comisarías de San Andreas al parking y utilizar /entregar.\n\
							\n\
					    	"WHITE"Usa /control para añadir objetos como barreras etc.\n\
					    	"WHITE"Usa /cepo para multar a un vehiculo mal aparcado.\n\
							\n\
				    		"WHITE"Para ponerte de servicio ve a cualquier comisaría y busca el vestuario para /policia.\n\
					    	"WHITE"Los policías pueden equiparse en la comisaría.\n\
				    		"WHITE"Para utilizar la radio debes estar de servicio, puedes seleccionar la frecuencia con /frecuencias, uso: !texto.\n\
			    			"WHITE"Puedes abrir cualquier puerta de la comisaría pulsando la tecla F cerca de la puerta.\n\
					    	"WHITE"Los policías recibiran la paga en el payday, su paga dependera de su rango.\n\
							\n\
							",
								header
						);
					}
					case WORK_PIZZA:
					{
						format(dialog, sizeof dialog,

							"\
							%s\
							\n\
			        		"WHITE"Súbete a una moto y empieza a repartir pizzas.\n\
							\n\
							",
								header
						);
					}
					case WORK_MEDIC:
					{
						format(dialog, sizeof dialog,

							"\
							%s\
							\n\
			    	    	"WHITE"Ponte de servicio en cualquier hospital, tras esto veras a las personas que necesiten un médico\n\
			        		"WHITE"marcadas en el mapa, ve rapido hasta ellas para poder salvarlos a tiempo.\n\
				    		"WHITE"Para salvar la vida a alguien que este herido usa /curar.\n\
			        		"WHITE"Utiliza /heridos para ver sujetos heridos.\n\
				        	"WHITE"Utiliza /servicio para entrar en servicio.\n\
							\n\
				        	"WHITE"Cuando estas de servicio solo puedes conducir ambulancias.\n\
							\n\
							",
								header
						);
					}
				}

				ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, caption, dialog, "xCerrar", "");
			}
			return 1;
		}
  case DIALOG_ADMIN_LIST:
		{
			if(response)
			{
				if(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] == -1) return 1;
				else if(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] == -2) // Siguiente
				{
					inline OnCountQueryLoad()
					{
						new rows;
						if(cache_get_row_count(rows))
						{
							if(rows)
							{
								new count, pages;
								cache_get_value_index_int(0, 0, count);
								pages = GetDatabasePages(count, PLAYER_TEMP[playerid][pt_DIALOG_DB_LIMIT]);

								if(PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] >= pages - 1) PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] = 0;
								else PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] ++;
								ShowDialog(playerid, dialogid);
							}
						}
					}
					mysql_tquery_inline(srp_db, "SELECT COUNT(id) FROM player WHERE admin_level > 0;", using inline OnCountQueryLoad);
				}
				else if(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] == -3) //Anterior
				{
					inline OnCountQueryLoad()
					{
						new rows;
						if(cache_get_row_count(rows))
						{
							if(rows)
							{
								new count, pages;
								cache_get_value_index_int(0, 0, count);
								pages = GetDatabasePages(count, PLAYER_TEMP[playerid][pt_DIALOG_DB_LIMIT]);

								if(PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] <= 0) PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] = pages - 1;
								else PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] --;
								ShowDialog(playerid, dialogid);
							}
						}
					}
					mysql_tquery_inline(srp_db, "SELECT COUNT(id) FROM player WHERE admin_level > 0;", using inline OnCountQueryLoad);
				}
				else
				{
					if(PI[playerid][pi_ADMIN_LEVEL] >= 4)
					{
						PLAYER_TEMP[playerid][pt_SELECTED_DB_AC_ID] = PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem];
						ShowDialog(playerid, DIALOG_ADMIN_MODIFY);
					}
				}
			}
			return 1;
		}
		case DIALOG_ADMIN_MODIFY:
		{
			if(response)
			{
				if(listitem > PI[playerid][pi_ADMIN_LEVEL])
				{
					ShowPlayerMessage(playerid, "El rango que has seleccionado es superior al tuyo.", 2);
					return 1;
				}

				inline OnDialogQueryLoad()
				{
					new rows;
					if(cache_get_row_count(rows))
					{
						if(rows)
						{
							new name[24], connected, pid, admin_level;
							cache_get_value_name(0, "name", name);
							cache_get_value_name_int(0, "connected", connected);
							cache_get_value_name_int(0, "playerid", pid);
							cache_get_value_name_int(0, "admin_level", admin_level);

							if(admin_level > PI[playerid][pi_ADMIN_LEVEL]) ShowPlayerMessage(playerid, "No puedes modificar el rango de este admin porque es un rango superior al tuyo.", 2);
							else
							{
								mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET admin_level = %d WHERE id = %d;", listitem, PLAYER_TEMP[playerid][pt_SELECTED_DB_AC_ID]);
								mysql_tquery(srp_db, QUERY_BUFFER);
								SendFormatNotification(playerid, "El nuevo rango de %s es: '%s'.", name, ADMIN_LEVELS[listitem]);
								if(connected)
								{
									PI[pid][pi_ADMIN_LEVEL] = listitem;
									SendFormatNotification(pid, "%s cambió tu rango administrativo a: %s.", PI[playerid][pi_NAME], ADMIN_LEVELS[listitem]);
								}
							}
						}
					}
				}
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT name, connected, playerid, admin_level FROM player WHERE id = %d;", PLAYER_TEMP[playerid][pt_SELECTED_DB_AC_ID]);
				mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnDialogQueryLoad);
			}
			else ShowDialog(playerid, DIALOG_ADMIN_LIST);
			return 1;
		}
		case DIALOG_CHANGE_PASSWORD:
		{
			if(response)
			{
				if(!strlen(inputtext)) return ShowDialog(playerid, dialogid);

				new password[64 + 1];
				SHA256_PassHash(inputtext, PI[playerid][pi_SALT], password, sizeof password);

				if(!strcmp(password, PI[playerid][pi_PASS], false))
				{
					ShowDialog(playerid, DIALOG_CHANGE_PASSWORD_PASS);
					PLAYER_TEMP[playerid][pt_BAD_LOGIN_ATTEMP] = 0;
				}
				else // Error
				{
					PLAYER_TEMP[playerid][pt_BAD_LOGIN_ATTEMP] ++;
					if(PLAYER_TEMP[playerid][pt_BAD_LOGIN_ATTEMP] > MAX_BAD_LOGIN_ATTEMPS) return Kick(playerid);
					SendFormatNotification(playerid, "Contraseña incorrecta, aviso %d/%d.", PLAYER_TEMP[playerid][pt_BAD_LOGIN_ATTEMP], MAX_BAD_LOGIN_ATTEMPS);
				}
			}
			return 1;
		}
		case DIALOG_CHANGE_PASSWORD_PASS:
		{
			if(response)
			{
				if(strlen(inputtext) < MIN_PASS_LENGTH || strlen(inputtext) > MAX_PASS_LENGTH) return ShowDialog(playerid, dialogid);

				new salt[16];
				getRandomSalt(salt);
				format(PI[playerid][pi_SALT], 16, "%s", salt);
				SHA256_PassHash(inputtext, PI[playerid][pi_SALT], PI[playerid][pi_PASS], 64 + 1);

				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET salt = '%e', pass = '%e' WHERE id = %d;", PI[playerid][pi_SALT], PI[playerid][pi_PASS], PI[playerid][pi_ID]);
				mysql_tquery(srp_db, QUERY_BUFFER);

				ShowPlayerMessage(playerid, "Tu contraseña ha sido cambiada correctamente.", 2);
			}
			return 1;
		}
		case DIALOG_ANTI_CHEAT:
		{
			if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 1;

			if(response)
			{
				PLAYER_TEMP[playerid][pt_SELECTED_AC_LISTITEM] = listitem;
				ShowDialog(playerid, DIALOG_ANTI_CHEAT_MODIFY);
			}
			return 1;
		}
		case DIALOG_ANTI_CHEAT_MODIFY:
		{
			if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 1;

			if(response)
			{
				switch(listitem)
				{
					case 0:
					{
						if(ac_Info[ PLAYER_TEMP[playerid][pt_SELECTED_AC_LISTITEM] ][ac_Enabled]) ac_Info[ PLAYER_TEMP[playerid][pt_SELECTED_AC_LISTITEM] ][ac_Enabled] = false;
						else ac_Info[ PLAYER_TEMP[playerid][pt_SELECTED_AC_LISTITEM] ][ac_Enabled] = true;
					}
					case 1: return ShowDialog(playerid, DIALOG_ANTI_CHEAT_MODIFY_DETECT);
					case 2:
					{
						if(ac_Info[ PLAYER_TEMP[playerid][pt_SELECTED_AC_LISTITEM] ][ac_Kick]) ac_Info[ PLAYER_TEMP[playerid][pt_SELECTED_AC_LISTITEM] ][ac_Kick] = false;
						else ac_Info[ PLAYER_TEMP[playerid][pt_SELECTED_AC_LISTITEM] ][ac_Kick] = true;
					}
				}
				WriteAnticheatRules();
				ShowDialog(playerid, DIALOG_ANTI_CHEAT_MODIFY);
			}
			else ShowDialog(playerid, DIALOG_ANTI_CHEAT);
			return 1;
		}
		case DIALOG_ANTI_CHEAT_MODIFY_DETECT:
		{
			if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 1;

			if(response)
			{
				new detections, seconds;
				if(sscanf(inputtext, "p<:>dd", detections, seconds))
				{
					ShowPlayerMessage(playerid, "Sintaxis no valida.", 2);
					ShowDialog(playerid, dialogid);
					return 1;
				}
				if(detections < 1 || detections > 99999)
				{
					ShowPlayerMessage(playerid, "El número de detecciones debe ser 1 o mayor.", 2);
					ShowDialog(playerid, dialogid);
					return 1;
				}
				if(seconds < 0 || seconds > 99999)
				{
					ShowPlayerMessage(playerid, "Los segundos no pueden ser un valor negativo.", 2);
					ShowDialog(playerid, dialogid);
					return 1;
				}

				ac_Info[ PLAYER_TEMP[playerid][pt_SELECTED_AC_LISTITEM] ][ac_Detections] = detections;
				ac_Info[ PLAYER_TEMP[playerid][pt_SELECTED_AC_LISTITEM] ][ac_Interval] = seconds;

				WriteAnticheatRules();
				ShowDialog(playerid, DIALOG_ANTI_CHEAT_MODIFY);
			}
			else ShowDialog(playerid, DIALOG_ANTI_CHEAT_MODIFY);
			return 1;
		}
		case DIALOG_CREATE_CREW:
		{
			if(response)
			{
				if(PI[playerid][pi_LEVEL] < 3) return SendNotification(playerid, "Necesitas ser nivel 3 para poder crear una banda.");
				ShowDialog(playerid, DIALOG_CREATE_CREW_NAME);
			}
			return 1;
		}
		case DIALOG_CREATE_CREW_NAME:
		{
			if(response)
			{
				if(strlen(inputtext) >= 32)
				{
					SendNotification(playerid, "Como maximo puedes introducir un nombre de 32 caracteres.");
					ShowDialog(playerid, dialogid);
					return 1;
				}

				new crew_name[32];
				if(sscanf(inputtext, "s[32]", crew_name))
				{
					SendNotification(playerid, "Introduce un nombre para tu banda.");
					ShowDialog(playerid, dialogid);
					return 1;
				}

				format(PLAYER_TEMP[playerid][pt_CREATE_CREW_NAME], 32, "%s", crew_name);
				ShowDialog(playerid, DIALOG_CREATE_CREW_COLOR);
			}
			return 1;
		}
		case DIALOG_CREATE_CREW_COLOR:
		{
			if(response)
			{
				PLAYER_TEMP[playerid][pt_CREATE_CREW_COLOR] = listitem;
				ShowDialog(playerid, DIALOG_CREATE_CREW_CONFIRM);
			}
			else ShowDialog(playerid, DIALOG_CREATE_CREW_NAME);
			return 1;
		}
		case DIALOG_CREATE_CREW_CONFIRM:
		{
			if(response)
			{
				new index = GetAvaibleCrewIndex();
				if(index == -1)
				{
					SendFormatNotification(playerid, "No se puede crear la banda porque no hay espacio disponible, el límite de bandas es %d.", MAX_CREWS);
					return 1;
				}

				if(200000 > PI[playerid][pi_CASH])
				{
					ShowPlayerMessage(playerid, "Necesitas ~g~200.000$~w~ para crear la banda.", 2);
					return 1;
				}

				if(GivePlayerCash(playerid, -200000, true, true)) {
					CREW_INFO[index][crew_VALID] = true;
					format(CREW_INFO[index][crew_NAME], 32, "%s", PLAYER_TEMP[playerid][pt_CREATE_CREW_NAME]);
					CREW_INFO[index][crew_COLOR] = RandomColors[ PLAYER_TEMP[playerid][pt_CREATE_CREW_COLOR] ];

					CREW_RANK_INFO[index][0][crew_rank_VALID] = true;
					format(CREW_RANK_INFO[index][0][crew_rank_NAME], 32, "Fundador");

					CREW_RANK_INFO[index][0][crew_rank_PERMISSION][CREW_RANK_CHANGE_NAME] =
					CREW_RANK_INFO[index][0][crew_rank_PERMISSION][CREW_RANK_INVITE] =
					CREW_RANK_INFO[index][0][crew_rank_PERMISSION][CREW_RANK_CAST_MEMBERS] =
					CREW_RANK_INFO[index][0][crew_rank_PERMISSION][CREW_RANK_MODIFY_MEMBERS] =
					CREW_RANK_INFO[index][0][crew_rank_PERMISSION][CREW_RANK_MODIFY_RANKS] =
					CREW_RANK_INFO[index][0][crew_rank_PERMISSION][CREW_RANK_ADD_PROPERTIES] =
					CREW_RANK_INFO[index][0][crew_rank_PERMISSION][CREW_RANK_DELETE_PROPERTIES] =
					CREW_RANK_INFO[index][0][crew_rank_PERMISSION][CREW_RANK_CHANGE_COLOR] =
					CREW_RANK_INFO[index][0][crew_rank_PERMISSION][CREW_RANK_LEAVE_TERRITORY] =
					CREW_RANK_INFO[index][0][crew_rank_PERMISSION][CREW_RANK_DELETE] =
					CREW_RANK_INFO[index][0][crew_rank_PERMISSION][CREW_RANK_GRAFFITI] = 1;

					NewCrewRegister(index, playerid);
					SetPlayerGangZones(playerid);
					SendFormatNotification(playerid, "La banda ~g~'%s' ~w~se ha creado correctamente, usa ~g~/banda ~w~para administrarla.", CREW_INFO[index][crew_NAME]);
					
					new string23[150];
					format(string23, sizeof(string23), "**Lan-Bot** **Registro** Una nueva banda **%s,** | Fue creada exitosamente | SAMP : **0.3.7**", CREW_INFO[index][crew_NAME]);
					bandas= DCC_FindChannelById("1032546803398217728");
                    new DCC_Embed:embed = DCC_CreateEmbed("Bandas Spain+ RolePlay","","","",0x00ff00,"Spain+ RolePlay","","https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png","");
                    DCC_AddEmbedField(embed, "Registros", string23, true);
		            DCC_SendChannelEmbedMessage(bandas,embed);
		            OtorgarLogro(playerid, 11);
		
		if(PI[playerid][pi_A10] == 0) 
                                 { 
                                     new Mision[500];
                                     GivePlayerCash(playerid, 5000, true, false); 
                                     SendFormatNotification(playerid, "Has completado una ~g~mision"); 
                                     PI[playerid][pi_A10] = 1; 
                                     TextDrawShowForPlayer(playerid,BoxMisiones);
                                     TextDrawShowForPlayer(playerid,MisionCo);
                                     TextDrawShowForPlayer(playerid,MisionRe);
                                     format(Mision,sizeof(Mision),"~w~Entrar A Banda 5000~g~$");
                                     TextDrawSetString(MisionRe, Mision); 
                                     SetTimerEx("ActualizarTextDraw",4500,false,"i",playerid);//
                                 }
				}
			}
			return 1;
		}
		case DIALOG_CREW_MENU:
		{
			if(!PI[playerid][pi_CREW]) return ShowPlayerMessage(playerid, "No perteneces a ninguna banda.", 2);
			if(!CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_VALID]) return ShowPlayerMessage(playerid, "La banda ya no existe.", 2);

			if(response)
			{
				if(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] == -1) return 1;

				switch(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem])
				{
					case CREW_RANK_SIZE: //Lista de miembros
					{
						PLAYER_TEMP[playerid][pt_DIALOG_DB_LIMIT] = 10;
						PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] = 0;
						ShowDialog(playerid, DIALOG_CREW_MEMBER_LIST);
					}
					case CREW_RANK_CHANGE_NAME:
					{
						if(!CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_PERMISSION][CREW_RANK_CHANGE_NAME]) return ShowPlayerMessage(playerid, "No tienes permiso.", 2);
						if(CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_FIGHTING]) return ShowPlayerMessage(playerid, "No se puede cambiar el nombre de la banda cuando la banda esta en combate.", 2);
						ShowDialog(playerid, DIALOG_CREW_CHANGE_NAME);
					}
					case CREW_RANK_CAST_MEMBERS:
					{
						if(!CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_PERMISSION][CREW_RANK_CAST_MEMBERS]) return ShowPlayerMessage(playerid, "No tienes permiso.", 2);

						PLAYER_TEMP[playerid][pt_DIALOG_DB_LIMIT] = 10;
						PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] = 0;
						ShowDialog(playerid, DIALOG_CREW_MEMBER_LIST_DELETE);
					}

					case CREW_RANK_MODIFY_RANKS:
					{
						if(!CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_PERMISSION][CREW_RANK_MODIFY_RANKS]) return ShowPlayerMessage(playerid, "No tienes permiso.", 2);

						ShowDialog(playerid, DIALOG_CREW_RANKS);
					}
					case CREW_RANK_CHANGE_COLOR:
					{
						if(!CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_PERMISSION][CREW_RANK_CHANGE_COLOR]) return ShowPlayerMessage(playerid, "No tienes permiso.", 2);

						if(CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_FIGHTING]) return ShowPlayerMessage(playerid, "No se puede cambiar el color cuando la banda esta en combate.", 2);
						ShowDialog(playerid, DIALOG_CREW_MODIFY_COLOR);
					}
					case CREW_RANK_DELETE:
					{
						if(!CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_PERMISSION][CREW_RANK_DELETE]) return ShowPlayerMessage(playerid, "No tienes permiso.", 2);

						ShowDialog(playerid, DIALOG_CREW_DELETE);
					}
					case CREW_RANK_MODIFY_MEMBERS:
					{
						if(!CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_PERMISSION][CREW_RANK_MODIFY_MEMBERS]) return ShowPlayerMessage(playerid, "No tienes permiso.", 2);

						PLAYER_TEMP[playerid][pt_DIALOG_DB_LIMIT] = 10;
						PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] = 0;
						ShowDialog(playerid, DIALOG_CREW_MODIFY_MEMBERS);
					}
					case CREW_RANK_SIZE + 1: //Abandonar banda
					{
						if(PI[playerid][pi_CREW_RANK] == 0)
						{
							inline OnCrewInfoLoad()
							{
								new rows;
								if(cache_get_row_count(rows))
								{
									new total;
									cache_get_value_index_int(0, 0, total);
									if(total <= 1) SendNotification(playerid, "No puedes abandonar la banda porque eres el único miembro con el rango fundador.");
									else ShowDialog(playerid, DIALOG_CREW_LEAVE);
								}
							}
							mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT COUNT(id) FROM player WHERE crew = %d AND crew_rank = 0;", PI[playerid][pi_CREW]);
							mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnCrewInfoLoad);
						}
						else ShowDialog(playerid, DIALOG_CREW_LEAVE);
					}
				}
			}
			return 1;
		}
		case DIALOG_CREW_MEMBER_LIST:
		{
			if(!PI[playerid][pi_CREW]) return SendNotification(playerid, "No perteneces a ninguna banda.");
			if(!CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_VALID]) return ShowPlayerMessage(playerid, "La banda ya no existe.", 2);

			if(response)
			{
				if(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] == -1) return 1;
				else if(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] == -2) // Siguiente
				{
					inline OnCountQueryLoad()
					{
						new rows;
						if(cache_get_row_count(rows))
						{
							if(rows)
							{
								new count, pages;
								cache_get_value_index_int(0, 0, count);
								pages = GetDatabasePages(count, PLAYER_TEMP[playerid][pt_DIALOG_DB_LIMIT]);

								if(PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] >= pages - 1) PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] = 0;
								else PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] ++;
								ShowDialog(playerid, dialogid);
							}
						}
					}
					mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT COUNT(id) FROM player WHERE crew = %d", PI[playerid][pi_CREW]);
					mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnCountQueryLoad);
				}
				else if(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] == -3) //Anterior
				{
					inline OnCountQueryLoad()
					{
						new rows;
						if(cache_get_row_count(rows))
						{
							if(rows)
							{
								new count, pages;
								cache_get_value_index_int(0, 0, count);
								pages = GetDatabasePages(count, PLAYER_TEMP[playerid][pt_DIALOG_DB_LIMIT]);

								if(PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] <= 0) PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] = pages - 1;
								else PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] --;
								ShowDialog(playerid, dialogid);
							}
						}
					}
					mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT COUNT(id) FROM player WHERE crew = %d", PI[playerid][pi_CREW]);
					mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnCountQueryLoad);
				}
			}
			else ShowDialog(playerid, DIALOG_CREW_MENU);
			return 1;
		}
		case DIALOG_CREW_CHANGE_NAME:
		{
			if(!PI[playerid][pi_CREW]) return SendNotification(playerid, "No perteneces a ninguna banda.");
			if(!CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_VALID]) return SendNotification(playerid, "La banda ya no existe.");
			if(!CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_PERMISSION][CREW_RANK_CHANGE_NAME]) return ShowPlayerMessage(playerid, "No tienes permiso.", 2);

			if(response)
			{
				if(CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_FIGHTING]) return SendNotification(playerid, "No se puede cambiar el nombre de la banda cuando la banda esta en combate.");
				if(strlen(inputtext) >= 32)
				{
					SendNotification(playerid, "Como maximo puedes introducir un nombre de 32 caracteres.");
					ShowDialog(playerid, dialogid);
					return 1;
				}

				new crew_name[32];
				if(sscanf(inputtext, "s[32]", crew_name))
				{
					SendNotification(playerid, "Introduce un nombre para tu banda.");
					ShowDialog(playerid, dialogid);
					return 1;
				}

				format(CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_NAME], 32, "%s", crew_name);

				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE crews SET name = '%e' WHERE id = %d;", CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_NAME], CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_ID]);
				mysql_tquery(srp_db, QUERY_BUFFER);
				//actualizar nombre casas pickups


				new message[145], label_str[256];
				format(message, sizeof message, "{%06x}[Banda] {FFFFFF}%s (%s) cambió el nombre de la banda a '%s'.", CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_COLOR] >>> 8, PLAYER_TEMP[playerid][pt_RP_NAME], CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_NAME], CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_NAME]);
				SendMessageToCrewMembers(PI[playerid][pi_CREW], -1, message);


				for(new i = 0; i != MAX_PROPERTIES; i ++)
				{
					if(!PROPERTY_INFO[i][property_VALID]) continue;
					if(!PROPERTY_INFO[i][property_CREW]) continue;
					if(PROPERTY_INFO[i][property_CREW_ID] != PI[playerid][pi_CREW]) continue;
					new	name_house[24];
					if(PROPERTY_INFO[ i ][property_EXTRA1] == 0) name_house = "Casa";
					if(PROPERTY_INFO[ i ][property_EXTRA1] == 2) name_house = "Garaje";
					if(PROPERTY_INFO[ i ][property_EXTRA1] == 4) name_house = "Negocio";
					format
					(
						label_str,
						sizeof label_str,
						"\
							{00FF00}{FFFFFF}Dirección {00FF00}[ %d ]\n\
							{00FF00}{FFFFFF}Dueño: {00FF00}[ %s ]\n\
							{00FF00}{FFFFFF}Tipo {00FF00}: [ %s ]\n\
							{00FF00}{FFFFFF}Presiona {00FF00}[~k~~CONVERSATION_YES~] {FFFFFF}o usa {FFFF00}/entrar{FFFFFF}.\
						", PROPERTY_INFO[i][property_ID], CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_NAME], name_house
					);

					UpdateDynamic3DTextLabelText(PROPERTY_INFO[i][property_EXT_LABEL_ID], 0xFFFFFFAA, label_str);
				}

				ShowDialog(playerid, DIALOG_CREW_MENU);
			}
			else ShowDialog(playerid, DIALOG_CREW_MENU);
			return 1;
		}
		case DIALOG_CREW_MEMBER_LIST_DELETE:
		{
			if(!PI[playerid][pi_CREW]) return SendNotification(playerid, "No perteneces a ninguna banda.");
			if(!CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_VALID]) return SendNotification(playerid, "La banda ya no existe.");
			if(!CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_PERMISSION][CREW_RANK_CAST_MEMBERS]) return SendNotification(playerid, "No tienes permiso.");

			if(response)
			{
				if(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] == -1) return 1;
				else if(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] == -2) // Siguiente
				{
					inline OnCountQueryLoad()
					{
						new rows;
						if(cache_get_row_count(rows))
						{
							if(rows)
							{
								new count, pages;
								cache_get_value_index_int(0, 0, count);
								pages = GetDatabasePages(count, PLAYER_TEMP[playerid][pt_DIALOG_DB_LIMIT]);

								if(PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] >= pages - 1) PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] = 0;
								else PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] ++;
								ShowDialog(playerid, dialogid);
							}
						}
					}
					mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT COUNT(id) FROM player WHERE crew = %d", PI[playerid][pi_CREW]);
					mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnCountQueryLoad);
				}
				else if(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] == -3) //Anterior
				{
					inline OnCountQueryLoad()
					{
						new rows;
						if(cache_get_row_count(rows))
						{
							if(rows)
							{
								new count, pages;
								cache_get_value_index_int(0, 0, count);
								pages = GetDatabasePages(count, PLAYER_TEMP[playerid][pt_DIALOG_DB_LIMIT]);

								if(PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] <= 0) PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] = pages - 1;
								else PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] --;
								ShowDialog(playerid, dialogid);
							}
						}
					}
					mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT COUNT(id) FROM player WHERE crew = %d", PI[playerid][pi_CREW]);
					mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnCountQueryLoad);
				}
				else
				{
					PLAYER_TEMP[playerid][pt_SELECTED_DB_AC_ID] = PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem];

					inline OnCrewInfoLoad()
					{
						new rows;
						if(cache_get_row_count(rows))
						{
							if(rows)
							{
								new name[24], crew_rank;
								cache_get_value_index(0, 0, name);
								cache_get_value_index_int(0, 1, crew_rank);

								if(crew_rank < PI[playerid][pi_CREW_RANK]) ShowPlayerMessage(playerid, "No puedes echar a este miembro porque es un rango superior al tuyo.", 2);
								else
								{
									if(crew_rank == 0)
									{
										inline OnCountQueryLoad()
										{
											if(cache_get_row_count(rows))
											{
												if(rows)
												{
													new total;
													cache_get_value_index_int(0, 0, total);
													if(total <= 1) SendNotification(playerid, "No se puede echar a este miembro ya que es el único miembro con el rango fundador.");
													else ShowDialog(playerid, DIALOG_CREW_CAST_MEMBER_CONFIRM);
												}
											}
										}
										mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT COUNT(id) FROM player WHERE crew = %d AND crew_rank = 0;", PI[playerid][pi_CREW]);
										mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnCountQueryLoad);
									}
									else ShowDialog(playerid, DIALOG_CREW_CAST_MEMBER_CONFIRM);
								}
							}
						}
					}
					mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT name, crew_rank FROM player WHERE id = %d;", PLAYER_TEMP[playerid][pt_SELECTED_DB_AC_ID]);
					mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnCrewInfoLoad);
				}
			}
			else ShowDialog(playerid, DIALOG_CREW_MENU);
			return 1;
		}
		case DIALOG_CREW_CAST_MEMBER_CONFIRM:
		{
			if(!PI[playerid][pi_CREW]) return ShowPlayerMessage(playerid, "No perteneces a ninguna banda.", 2);
			if(!CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_VALID]) return ShowPlayerMessage(playerid, "La banda ya no existe.", 2);
			if(!CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_PERMISSION][CREW_RANK_CAST_MEMBERS]) return ShowPlayerMessage(playerid, "No tienes permiso.", 2);

			if(response)
			{
				inline OnCrewInfoLoad()
				{
					new rows;
					if(cache_get_row_count(rows))
					{
						new name[24], connected, pid, crew_rank;
						cache_get_value_name(0, "name", name);
						cache_get_value_name_int(0, "connected", connected);
						cache_get_value_name_int(0, "playerid", pid);
						cache_get_value_name_int(0, "crew_rank", crew_rank);
						if(crew_rank < PI[playerid][pi_CREW_RANK]) ShowPlayerMessage(playerid, "No puedes echar a este miembro porque es un rango superior al tuyo.", 2);
						else
						{
							if(crew_rank == 0)
							{
								inline OnCountQueryLoad()
								{
									if(cache_get_row_count(rows))
									{
										if(rows)
										{
											new total;
											cache_get_value_index_int(0, 0, total);
											if(total <= 1) ShowPlayerMessage(playerid, "No se puede echar a este miembro ya que es el único miembro con el rango fundador.", 2);
											else
											{
												new message[145];
												format(message, sizeof message, "{%06x}[Banda] {FFFFFF}%s (%s) ha echado a %s de la banda.", CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_COLOR] >>> 8, PLAYER_TEMP[playerid][pt_RP_NAME], CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_NAME], name);
												SendMessageToCrewMembers(PI[playerid][pi_CREW], -1, message);



												mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET crew = NULL, crew_rank = 0 WHERE id = %d;", PLAYER_TEMP[playerid][pt_SELECTED_DB_AC_ID]);
												mysql_tquery(srp_db, QUERY_BUFFER);

												CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_MEMBERS] --;
												if(connected)
												{
													CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_ONLINE_MEMBERS] --;
													SetPlayerNormalColor(pid);
													if(PLAYER_TEMP[playerid][pt_LAST_TERRITORY] != INVALID_STREAMER_ID)
													{
														TextDrawHideForPlayer(pid, TERRITORIES[ PLAYER_TEMP[playerid][pt_LAST_TERRITORY] ][territory_TEXTDRAW][1]);
														TextDrawHideForPlayer(pid, TERRITORIES[ PLAYER_TEMP[playerid][pt_LAST_TERRITORY] ][territory_TEXTDRAW][0]);
													}
													
													

													PI[pid][pi_CREW] = 0;
													PI[pid][pi_CREW_RANK] = 0;
													PLAYER_TEMP[pid][pt_CREW_INDEX] = 0;
													HidePlayerGangZones(pid);
												}
											}
										}
									}
								}
								mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT COUNT(id) FROM player WHERE crew = %d AND crew_rank = 0;", PI[playerid][pi_CREW]);
								mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnCountQueryLoad);
							}
							else
							{
								new message[145];
								format(message, sizeof message, "{%06x}[Banda] {FFFFFF}%s (%s) ha echado a %s de la banda.", CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_COLOR] >>> 8, PLAYER_TEMP[playerid][pt_RP_NAME], CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_NAME], name);
								SendMessageToCrewMembers(PI[playerid][pi_CREW], -1, message);

								mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET crew = NULL, crew_rank = 0 WHERE id = %d;", PLAYER_TEMP[playerid][pt_SELECTED_DB_AC_ID]);
								mysql_tquery(srp_db, QUERY_BUFFER);

								CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_MEMBERS] --;
								if(connected)
								{
									CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_ONLINE_MEMBERS] --;
									SetPlayerNormalColor(pid);
									if(PLAYER_TEMP[playerid][pt_LAST_TERRITORY] != INVALID_STREAMER_ID)
									{
										TextDrawHideForPlayer(pid, TERRITORIES[ PLAYER_TEMP[playerid][pt_LAST_TERRITORY] ][territory_TEXTDRAW][1]);
										TextDrawHideForPlayer(pid, TERRITORIES[ PLAYER_TEMP[playerid][pt_LAST_TERRITORY] ][territory_TEXTDRAW][0]);
									}

									PI[pid][pi_CREW] = 0;
									PI[pid][pi_CREW_RANK] = 0;
									PLAYER_TEMP[pid][pt_CREW_INDEX] = 0;
									HidePlayerGangZones(pid);
								}
							}
						}
					}
				}
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT name, connected, playerid, crew_rank FROM player WHERE id = %d;", PLAYER_TEMP[playerid][pt_SELECTED_DB_AC_ID]);
				mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnCrewInfoLoad);
			}
			else ShowDialog(playerid, DIALOG_CREW_MEMBER_LIST_DELETE);
			return 1;
		}
		case DIALOG_CREW_INVITE_RANK:
		{
			if(!PI[playerid][pi_CREW]) return SendNotification(playerid, "No perteneces a ninguna banda.");
			if(!CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_VALID]) return SendNotification(playerid, "La banda ya no existe.");
			if(!CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_PERMISSION][CREW_RANK_INVITE]) return SendNotification(playerid, "No tienes permiso.");

			if(response)
			{
				if(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] == -1) return 1;
				if(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] < PI[playerid][pi_CREW_RANK])
				{
					SendNotification(playerid, "No puedes invitar con este rango porque es superior al tuyo.");
					ShowDialog(playerid, dialogid);
					return 1;
				}

				if(!IsPlayerConnected(PLAYER_TEMP[playerid][pt_CREW_INVITE_PID])) return SendNotification(playerid, "El jugador esta desconectado.");

				new Float:pos[3]; GetPlayerPos(PLAYER_TEMP[playerid][pt_CREW_INVITE_PID], pos[0], pos[1], pos[2]);
				if(!IsPlayerInRangeOfPoint(playerid, 2.0, pos[0], pos[1], pos[2])) return SendNotification(playerid, "Este jugador no esta cerca tuya.");
				if(PLAYER_WORKS[ PLAYER_TEMP[playerid][pt_CREW_INVITE_PID] ][WORK_POLICE][pwork_SET]) return SendNotification(playerid, "Esta persona es policia y no puede tener banda.");
				if(PI[ PLAYER_TEMP[playerid][pt_CREW_INVITE_PID] ][pi_CREW]) return SendNotification(playerid, "Esta persona pertenece a otra banda.");
				if(PLAYER_TEMP[ PLAYER_TEMP[playerid][pt_CREW_INVITE_PID] ][pt_GAME_STATE] != GAME_STATE_NORMAL) return SendNotification(playerid, "No puedes invitar a este jugador ahora.");
				if(PI[ PLAYER_TEMP[playerid][pt_CREW_INVITE_PID] ][pi_ID] != PLAYER_TEMP[playerid][pt_CREW_INVITE_AID]) return SendNotification(playerid, "El jugador esta desconectado.");

				SendFormatNotification(playerid, "Has ofrecido a ~g~%s~w~ unirse a la banda con el rango ~g~%s~w~.", PLAYER_TEMP[ PLAYER_TEMP[playerid][pt_CREW_INVITE_PID] ][pt_RP_NAME], CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] ][crew_rank_NAME]);

				PLAYER_TEMP[ PLAYER_TEMP[playerid][pt_CREW_INVITE_PID] ][pt_CREW_INVITE_INFO][0] = PI[playerid][pi_CREW];
				PLAYER_TEMP[ PLAYER_TEMP[playerid][pt_CREW_INVITE_PID] ][pt_CREW_INVITE_INFO][1] = PLAYER_TEMP[playerid][pt_CREW_INDEX];
				PLAYER_TEMP[ PLAYER_TEMP[playerid][pt_CREW_INVITE_PID] ][pt_CREW_INVITE_INFO][2] = PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem];
				PLAYER_TEMP[ PLAYER_TEMP[playerid][pt_CREW_INVITE_PID] ][pt_CREW_INVITE_INFO][3] = gettime();
				ShowDialog(PLAYER_TEMP[playerid][pt_CREW_INVITE_PID], DIALOG_CREW_INVITE_ACCEPT);
			}
			return 1;
		}
		case DIALOG_CREW_INVITE_ACCEPT:
		{
			if(response)
			{
				if(!CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INVITE_INFO][1] ][crew_VALID]) return SendNotification(playerid, "Esta banda ya no existe.");
				if(!CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INVITE_INFO][1] ][ PLAYER_TEMP[playerid][pt_CREW_INVITE_INFO][2] ][crew_rank_VALID]) return SendNotification(playerid, "El rango que te han ofrecio ya no existe.");
				if(gettime() > PLAYER_TEMP[playerid][pt_CREW_INVITE_INFO][3] + 20) return SendNotification(playerid, "Has tardado mucho en aceptar.");
				if(CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INVITE_INFO][1] ][crew_FIGHTING]) return SendNotification(playerid, "No puedes unirte a la banda cuando la banda esta en combate.");

				PI[playerid][pi_CREW] = PLAYER_TEMP[playerid][pt_CREW_INVITE_INFO][0];
				PI[playerid][pi_CREW_RANK] = PLAYER_TEMP[playerid][pt_CREW_INVITE_INFO][2];
				PLAYER_TEMP[playerid][pt_CREW_INDEX] = PLAYER_TEMP[playerid][pt_CREW_INVITE_INFO][1];
				CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_MEMBERS] ++;
				CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_ONLINE_MEMBERS] ++;
				PLAYER_TEMP[playerid][pt_LAST_GOT_CREW] = gettime();
				SetPlayerGangZones(playerid);

				
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET crew = %d, crew_rank = %d WHERE id = %d;", PI[playerid][pi_CREW], PI[playerid][pi_CREW_RANK], PI[playerid][pi_ID]);
				mysql_tquery(srp_db, QUERY_BUFFER);

				new message[145];
				format(message, sizeof message, "{%06x}[Banda] {FFFFFF}%s se ha unido a la banda con el rango %s.", CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_COLOR] >>> 8, PLAYER_TEMP[playerid][pt_RP_NAME], CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_NAME]);
				SendMessageToCrewMembers(PI[playerid][pi_CREW], -1, message);
				OtorgarLogro(playerid, 11);
				if(PI[playerid][pi_A10] == 0) 
                                 { 
                                     new Mision[500];
                                     GivePlayerCash(playerid, 5000, true, false); 
                                     SendFormatNotification(playerid, "Has completado una ~g~mision"); 
                                     PI[playerid][pi_A10] = 1; 
                                     TextDrawShowForPlayer(playerid,BoxMisiones);
                                     TextDrawShowForPlayer(playerid,MisionCo);
                                     TextDrawShowForPlayer(playerid,MisionRe);
                                     format(Mision,sizeof(Mision),"~w~Entrar A Banda 5000~g~$");
                                     TextDrawSetString(MisionRe, Mision); 
                                     SetTimerEx("ActualizarTextDraw",4500,false,"i",playerid);//
                                 }
			}
			return 1;
		}
		case DIALOG_CREW_RANKS:
		{
			if(!PI[playerid][pi_CREW]) return ShowPlayerMessage(playerid, "No perteneces a ninguna banda.", 2);
			if(!CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_VALID]) return ShowPlayerMessage(playerid, "La banda ya no existe.", 2);
			if(!CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_PERMISSION][CREW_RANK_MODIFY_RANKS]) return ShowPlayerMessage(playerid, "No tienes permiso.", 2);

			if(response)
			{
				if(listitem < PI[playerid][pi_CREW_RANK])
				{
					if(CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][listitem][crew_rank_VALID]) ShowPlayerMessage(playerid, "No puedes modificar este rango porque es un rango superior al tuyo.", 2);
					else ShowPlayerMessage(playerid, "No puedes crear un rango en este puesto porque es superior al tuyo.", 2);
					return 1;
				}

				PLAYER_TEMP[playerid][pt_CREW_SELECTED_RANK] = listitem;
				if(CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][listitem][crew_rank_VALID]) ShowDialog(playerid, DIALOG_CREW_RANK_MODIFY);
				else ShowDialog(playerid, DIALOG_CREW_RANK_CREATE);
			}
			else ShowDialog(playerid, DIALOG_CREW_MENU);
			return 1;
		}
		case DIALOG_CREW_RANK_MODIFY:
		{
			if(!PI[playerid][pi_CREW]) return ShowPlayerMessage(playerid, "No perteneces a ninguna banda.", 2);
			if(!CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_VALID]) return ShowPlayerMessage(playerid, "La banda ya no existe.", 2);
			if(!CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_PERMISSION][CREW_RANK_MODIFY_RANKS]) return ShowPlayerMessage(playerid, "No tienes permiso.", 2);

			if(response)
			{
				switch(listitem)
				{
					case 0: ShowDialog(playerid, DIALOG_CREW_RANK_MODIFY_NAME);
					case 1:
					{
						if(PLAYER_TEMP[playerid][pt_CREW_SELECTED_RANK] == 0)
						{
							ShowPlayerMessage(playerid, "No se pueden modificar los permisos de este rango porque es el rango fundador.", 2);
							return 1;
						}

						ShowDialog(playerid, DIALOG_CREW_RANK_MODIFY_PERMISS);
					}
					case 2:
					{
						if(PLAYER_TEMP[playerid][pt_CREW_SELECTED_RANK] == 0)
						{
							ShowPlayerMessage(playerid, "No se puede eliminar este rango porque es el rango fundador.", 2);
							return 1;
						}

						SendFormatNotification(playerid, "~r~[Atención] ~w~Selecciona el nuevo rango para los miembros que actualmente tienen el rango ~r~'%s'.", CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PLAYER_TEMP[playerid][pt_CREW_SELECTED_RANK] ][crew_rank_NAME]);
						ShowDialog(playerid, DIALOG_CREW_RANK_DELETE);
					}
				}
			}
			else ShowDialog(playerid, DIALOG_CREW_RANKS);
			return 1;
		}
		case DIALOG_CREW_RANK_MODIFY_NAME:
		{
			if(!PI[playerid][pi_CREW]) return ShowPlayerMessage(playerid, "No perteneces a ninguna banda.", 2);
			if(!CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_VALID]) return ShowPlayerMessage(playerid, "La banda ya no existe.", 2);
			if(!CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_PERMISSION][CREW_RANK_MODIFY_RANKS]) return ShowPlayerMessage(playerid, "No tienes permiso.", 2);

			if(response)
			{
				if(strlen(inputtext) >= 32)
				{
					ShowPlayerMessage(playerid, "Como maximo puedes introducir un nombre de 32 caracteres.", 2);
					ShowDialog(playerid, dialogid);
					return 1;
				}

				new rank_name[32];
				if(sscanf(inputtext, "s[32]", rank_name))
				{
					ShowPlayerMessage(playerid, "Introduce el nuevo nombre para el rango.", 2);
					ShowDialog(playerid, dialogid);
					return 1;
				}

				SendFormatNotification(playerid, "Has modificado el nombre del rango '%s' a '%s'.", CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PLAYER_TEMP[playerid][pt_CREW_SELECTED_RANK] ][crew_rank_NAME], rank_name);
				format(CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PLAYER_TEMP[playerid][pt_CREW_SELECTED_RANK] ][crew_rank_NAME], 32, "%s", rank_name);

				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE crew_ranks SET rank_name = '%e' WHERE id = %d;",  CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PLAYER_TEMP[playerid][pt_CREW_SELECTED_RANK] ][crew_rank_NAME], CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PLAYER_TEMP[playerid][pt_CREW_SELECTED_RANK] ][crew_rank_ID]);
				mysql_tquery(srp_db, QUERY_BUFFER);
			}
			else ShowDialog(playerid, DIALOG_CREW_RANK_MODIFY);
			return 1;
		}
		case DIALOG_CREW_RANK_CREATE:
		{
			if(!PI[playerid][pi_CREW]) return ShowPlayerMessage(playerid, "No perteneces a ninguna banda.", 2);
			if(!CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_VALID]) return ShowPlayerMessage(playerid, "La banda ya no existe.", 2);
			if(!CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_PERMISSION][CREW_RANK_MODIFY_RANKS]) return ShowPlayerMessage(playerid, "No tienes permiso.", 2);

			if(response)
			{
				if(strlen(inputtext) >= 32)
				{
					ShowPlayerMessage(playerid, "Como maximo puedes introducir un nombre de 32 caracteres.", 2);
					ShowDialog(playerid, dialogid);
					return 1;
				}

				new rank_name[32];
				if(sscanf(inputtext, "s[32]", rank_name))
				{
					ShowPlayerMessage(playerid, "Introduce un nombre para el rango.", 2);
					ShowDialog(playerid, dialogid);
					return 1;
				}

				if(CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PLAYER_TEMP[playerid][pt_CREW_SELECTED_RANK] ][crew_rank_VALID])
				{
					ShowPlayerMessage(playerid, "Parece que alguien ya ha creado un rango en este espacio.", 2);
					return 1;
				}


				CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PLAYER_TEMP[playerid][pt_CREW_SELECTED_RANK] ][crew_rank_VALID] = true;
				format(CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PLAYER_TEMP[playerid][pt_CREW_SELECTED_RANK] ][crew_rank_NAME], 32, "%s", rank_name);

				CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PLAYER_TEMP[playerid][pt_CREW_SELECTED_RANK] ][crew_rank_PERMISSION][CREW_RANK_CHANGE_NAME] =
				CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PLAYER_TEMP[playerid][pt_CREW_SELECTED_RANK] ][crew_rank_PERMISSION][CREW_RANK_INVITE] =
				CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PLAYER_TEMP[playerid][pt_CREW_SELECTED_RANK] ][crew_rank_PERMISSION][CREW_RANK_CAST_MEMBERS] =
				CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PLAYER_TEMP[playerid][pt_CREW_SELECTED_RANK] ][crew_rank_PERMISSION][CREW_RANK_MODIFY_MEMBERS] =
				CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PLAYER_TEMP[playerid][pt_CREW_SELECTED_RANK] ][crew_rank_PERMISSION][CREW_RANK_MODIFY_RANKS] =
				CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PLAYER_TEMP[playerid][pt_CREW_SELECTED_RANK] ][crew_rank_PERMISSION][CREW_RANK_ADD_PROPERTIES] =
				CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PLAYER_TEMP[playerid][pt_CREW_SELECTED_RANK] ][crew_rank_PERMISSION][CREW_RANK_DELETE_PROPERTIES] =
				CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PLAYER_TEMP[playerid][pt_CREW_SELECTED_RANK] ][crew_rank_PERMISSION][CREW_RANK_CHANGE_COLOR] =
				CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PLAYER_TEMP[playerid][pt_CREW_SELECTED_RANK] ][crew_rank_PERMISSION][CREW_RANK_LEAVE_TERRITORY] =
				CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PLAYER_TEMP[playerid][pt_CREW_SELECTED_RANK] ][crew_rank_PERMISSION][CREW_RANK_DELETE] = 0;
				RegisterNewCrewRank(PLAYER_TEMP[playerid][pt_CREW_INDEX], PLAYER_TEMP[playerid][pt_CREW_SELECTED_RANK]);

				SendFormatNotification(playerid, "El rango '%s' ha sido creado, ahora puedes editarlo y darle permisos.", rank_name);
				ShowDialog(playerid, DIALOG_CREW_RANKS);
			}
			else ShowDialog(playerid, DIALOG_CREW_RANKS);
			return 1;
		}
		case DIALOG_CREW_RANK_MODIFY_PERMISS:
		{
			if(!PI[playerid][pi_CREW]) return ShowPlayerMessage(playerid, "No perteneces a ninguna banda.", 2);
			if(!CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_VALID]) return ShowPlayerMessage(playerid, "La banda ya no existe.", 2);
			if(!CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_PERMISSION][CREW_RANK_MODIFY_RANKS]) return ShowPlayerMessage(playerid, "No tienes permiso.", 2);

			if(response)
			{
				if(!CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_PERMISSION][listitem])
				{
					ShowPlayerMessage(playerid, "No puedes cambiar este permiso porque tu no tienes este permiso.", 2);
					ShowDialog(playerid, dialogid);
					return 1;
				}

				if(CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PLAYER_TEMP[playerid][pt_CREW_SELECTED_RANK] ][crew_rank_PERMISSION][listitem]) CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PLAYER_TEMP[playerid][pt_CREW_SELECTED_RANK] ][crew_rank_PERMISSION][listitem] = false;
				else CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PLAYER_TEMP[playerid][pt_CREW_SELECTED_RANK] ][crew_rank_PERMISSION][listitem] = true;

				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE crew_ranks SET permission%d = %d WHERE id = %d;", listitem, CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PLAYER_TEMP[playerid][pt_CREW_SELECTED_RANK] ][crew_rank_PERMISSION][listitem], CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PLAYER_TEMP[playerid][pt_CREW_SELECTED_RANK] ][crew_rank_ID]);
				mysql_tquery(srp_db, QUERY_BUFFER);
				ShowDialog(playerid, dialogid);
			}
			else ShowDialog(playerid, DIALOG_CREW_RANK_MODIFY);
			return 1;
		}
		case DIALOG_CREW_RANK_DELETE:
		{
			if(!PI[playerid][pi_CREW]) return ShowPlayerMessage(playerid, "No perteneces a ninguna banda.", 2);
			if(!CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_VALID]) return ShowPlayerMessage(playerid, "La banda ya no existe.", 2);
			if(!CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_PERMISSION][CREW_RANK_MODIFY_RANKS]) return ShowPlayerMessage(playerid, "No tienes permiso.", 2);

			if(response)
			{
				if(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] == -1) return 1;
				if(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] < PI[playerid][pi_CREW_RANK])
				{
					ShowPlayerMessage(playerid, "No puedes seleccionar este rango porque es superior al tuyo.", 2);
					ShowDialog(playerid, dialogid);
					return 1;
				}

				PLAYER_TEMP[playerid][pt_CREW_SELECTED_NEW_RANK] = PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem];
				ShowDialog(playerid, DIALOG_CREW_RANK_DELETE_CONFIRM);
			}
			return 1;
		}
		case DIALOG_CREW_RANK_DELETE_CONFIRM:
		{
			if(!PI[playerid][pi_CREW]) return ShowPlayerMessage(playerid, "No perteneces a ninguna banda.", 2);
			if(!CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_VALID]) return ShowPlayerMessage(playerid, "La banda ya no existe.", 2);
			if(!CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_PERMISSION][CREW_RANK_MODIFY_RANKS]) return ShowPlayerMessage(playerid, "No tienes permiso.", 2);

			if(response)
			{
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET crew_rank = %d WHERE crew = %d AND crew_rank = %d;", PLAYER_TEMP[playerid][pt_CREW_SELECTED_NEW_RANK], PI[playerid][pi_CREW], PLAYER_TEMP[playerid][pt_CREW_SELECTED_RANK]);
				mysql_tquery(srp_db, QUERY_BUFFER);

				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "DELETE FROM crew_ranks WHERE id = %d;", CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PLAYER_TEMP[playerid][pt_CREW_SELECTED_RANK] ][crew_rank_ID]);
				mysql_tquery(srp_db, QUERY_BUFFER);

				SendFormatNotification(playerid, "Has eliminado el rango '%s'.", CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PLAYER_TEMP[playerid][pt_CREW_SELECTED_RANK] ][crew_rank_NAME]);

				new message[145];
				format(message, sizeof message, "{%06x}[Banda] {FFFFFF}%s (%s) cambió tu rango al rango '%s'.", CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_COLOR] >>> 8, PLAYER_TEMP[playerid][pt_RP_NAME], CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_NAME], CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PLAYER_TEMP[playerid][pt_CREW_SELECTED_NEW_RANK] ][crew_rank_NAME]);
				for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
				{
					if(IsPlayerConnected(i))
					{
						if(PI[i][pi_CREW])
						{
							if(PI[i][pi_CREW] == PI[playerid][pi_CREW])
							{
								if(PI[i][pi_CREW_RANK] == PLAYER_TEMP[playerid][pt_CREW_SELECTED_RANK])
								{
									PI[i][pi_CREW_RANK] = PLAYER_TEMP[playerid][pt_CREW_SELECTED_NEW_RANK];
									SendClientMessage(i, -1, message);
								}
							}
						}
					}
				}

				CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PLAYER_TEMP[playerid][pt_CREW_SELECTED_RANK] ][crew_rank_VALID] = false;
				CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PLAYER_TEMP[playerid][pt_CREW_SELECTED_RANK] ][crew_rank_ID] = 0;
				CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PLAYER_TEMP[playerid][pt_CREW_SELECTED_RANK] ][crew_rank_NAME][0] = EOS;
				for(new i = 0; i != CREW_RANK_SIZE; i ++) CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PLAYER_TEMP[playerid][pt_CREW_SELECTED_RANK] ][crew_rank_PERMISSION][i] = 0;

			}
			else ShowDialog(playerid, DIALOG_CREW_RANKS);
			return 1;
		}
		case DIALOG_CREW_MODIFY_COLOR:
		{
			if(!PI[playerid][pi_CREW]) return ShowPlayerMessage(playerid, "No perteneces a ninguna banda.", 2);
			if(!CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_VALID]) return ShowPlayerMessage(playerid, "La banda ya no existe.", 2);
			if(!CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_PERMISSION][CREW_RANK_CHANGE_COLOR]) return ShowPlayerMessage(playerid, "No tienes permiso.", 2);

			if(response)
			{
				if(CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_FIGHTING]) return ShowPlayerMessage(playerid, "No se puede cambiar el color cuando la banda esta en combate.", 2);

				CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_COLOR] = RandomColors[listitem];


				new r, g, b, a,		new_territory_color;
				HexToRGBA(CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_COLOR], r, g, b, a);
				new_territory_color = RGBAToHex(r, g, b, 135);
				for(new i = 0; i != MAX_TERRITORIES; i ++)
				{
					if(!TERRITORIES[i][territory_VALID]) continue;
					if(!TERRITORIES[i][territory_OCCUPIED]) continue;

					if(TERRITORIES[i][territory_CREW_ID] == PI[playerid][pi_CREW])
					{
						TERRITORIES[i][territory_COLOR] = new_territory_color;
						UpdateGangZoneColor(i);
					}
				}

				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE crews SET color = %d WHERE id = %d;", CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_COLOR], CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_ID]);
				mysql_tquery(srp_db, QUERY_BUFFER);

				ShowPlayerMessage(playerid, "El color de la banda se ha cambiado.", 2);
				ShowDialog(playerid, DIALOG_CREW_MENU);
			}
			else ShowDialog(playerid, DIALOG_CREW_MENU);
			return 1;
		}
		case DIALOG_CREW_DELETE:
		{
			if(!PI[playerid][pi_CREW]) return ShowPlayerMessage(playerid, "No perteneces a ninguna banda.", 2);
			if(!CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_VALID]) return ShowPlayerMessage(playerid, "La banda ya no existe.", 2);
			if(!CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_PERMISSION][CREW_RANK_DELETE]) return ShowPlayerMessage(playerid, "No tienes permiso.", 2);

			if(response)
			{
				if(CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_FIGHTING]) return ShowPlayerMessage(playerid, "No se puede borrar la banda cuando esta en combate.", 2);

				new message[145];
				format(message, sizeof message, "{%06x}[Banda] {FFFFFF}%s (%s) ha eliminado la banda.", CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_COLOR] >>> 8, PLAYER_TEMP[playerid][pt_RP_NAME], CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_NAME]);

				new tmp_crew_id = PI[playerid][pi_CREW];
				new tmp_CREW_INFO[enum_CREW_INFO], old_crew_id = PI[playerid][pi_CREW];
				CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ] = tmp_CREW_INFO;

				new tmp_CREW_RANK_INFO[enum_CREW_RANK_INFO];
				for(new i = 0; i != MAX_CREW_RANKS; i ++) CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][i] = tmp_CREW_RANK_INFO;

				for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
				{
					if(IsPlayerConnected(i))
					{
						if(PI[i][pi_CREW])
						{
							if(PI[i][pi_CREW] == PI[playerid][pi_CREW])
							{
								SetPlayerNormalColor(i);
								HidePlayerGangZones(i);
								if(PLAYER_TEMP[i][pt_LAST_TERRITORY] != INVALID_STREAMER_ID)
								{
									TextDrawHideForPlayer(i, TERRITORIES[ PLAYER_TEMP[i][pt_LAST_TERRITORY] ][territory_TEXTDRAW][1]);
									TextDrawHideForPlayer(i, TERRITORIES[ PLAYER_TEMP[i][pt_LAST_TERRITORY] ][territory_TEXTDRAW][0]);
								}

								PI[i][pi_CREW] = 0;
								PI[i][pi_CREW_RANK] = 0;
								PLAYER_TEMP[i][pt_CREW_INDEX] = 0;
								SendClientMessage(i, -1, message);
							}
						}
					}
				}

				for(new i = 0; i != MAX_TERRITORIES; i ++)
				{
					if(!TERRITORIES[ i ][territory_VALID]) continue;
					if(!TERRITORIES[ i ][territory_OCCUPIED]) continue;
					if(TERRITORIES[ i ][territory_CREW_ID] != old_crew_id) continue;

					TERRITORIES[ i ][territory_OCCUPIED] = false;
					TERRITORIES[ i ][territory_CREW_ID] = 0;
					TERRITORIES[ i ][territory_CREW_INDEX] = 0;
					TERRITORIES[ i ][territory_COLOR] = 0xCCCCCC55;
					UpdateGangZoneColor(i);
				}

				for(new i = 0; i != MAX_PROPERTIES; i ++)
				{
					if(!PROPERTY_INFO[i][property_VALID]) continue;
					if(!PROPERTY_INFO[i][property_CREW]) continue;
					if(PROPERTY_INFO[i][property_CREW_ID] != old_crew_id) continue;

					PROPERTY_INFO[ i ][property_SOLD] = false;
					PROPERTY_INFO[ i ][property_CREW] = false;
					PROPERTY_INFO[ i ][property_OWNER_ID] = 0;
					PROPERTY_INFO[ i ][property_CREW_ID] = 0;
					format(PROPERTY_INFO[ i ][property_NAME], 24, "PROPIEDAD %d", PROPERTY_INFO[ i ][property_ID]);

					new info[3];
					UpdateUnnocupiedPropertyLabel(i);

					DestroyDynamicPickup(PROPERTY_INFO[ i ][property_EXT_PICKUP_ID]);
					PROPERTY_INFO[ i ][property_EXT_PICKUP_ID] = INVALID_STREAMER_ID;

					PROPERTY_INFO[ i ][property_EXT_PICKUP_ID] = CreateDynamicPickup(1273, 1, PROPERTY_INFO[ i ][property_EXT_X], PROPERTY_INFO[ i ][property_EXT_Y], PROPERTY_INFO[ i ][property_EXT_Z], 0, PROPERTY_INFO[ i ][property_EXT_INTERIOR]);
					info[0] = PICKUP_TYPE_PROPERTY;
					info[1] = i; // Index
					info[2] = 2; // Pickup Exterior
					Streamer_SetArrayData(STREAMER_TYPE_PICKUP, PROPERTY_INFO[ i ][property_EXT_PICKUP_ID], E_STREAMER_EXTRA_ID, info);

					mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE properties SET id_player = NULL, id_territory = NULL WHERE id = %d;", PROPERTY_INFO[i][property_ID]);
					mysql_tquery(srp_db, QUERY_BUFFER);
				}

				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "DELETE FROM crews WHERE id = %d;", tmp_crew_id);
				mysql_tquery(srp_db, QUERY_BUFFER);

				CallLocalFunction("OnCrewDeleted", "i", tmp_crew_id);
			}
			else ShowDialog(playerid, DIALOG_CREW_MENU);
			return 1;
		}
		case DIALOG_CREW_LEAVE:
		{
			if(!PI[playerid][pi_CREW]) return ShowPlayerMessage(playerid, "No perteneces a ninguna banda.", 2);
			if(!CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_VALID]) return ShowPlayerMessage(playerid, "La banda ya no existe.", 2);

			if(response)
			{
				if(PI[playerid][pi_CREW_RANK] == 0)
				{
					inline OnCountQueryLoad()
					{
						new rows;
						if(cache_get_row_count(rows))
						{
							if(rows)
							{
								new total;
								cache_get_value_index_int(0, 0, total);
								if(total <= 1) ShowPlayerMessage(playerid, "No puedes abandonar la banda porque eres el único miembro con el rango fundador.", 2);
								else
								{
									new message[145];
									format(message, sizeof message, "{%06x}[Banda] {FFFFFF}%s (%s) ha abandonado la banda.", CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_COLOR] >>> 8, PLAYER_TEMP[playerid][pt_RP_NAME], CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_NAME]);
									SendMessageToCrewMembers(PI[playerid][pi_CREW], -1, message);

									mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET crew = NULL, crew_rank = 0 WHERE id = %d;", PI[playerid][pi_ID]);
									mysql_tquery(srp_db, QUERY_BUFFER);

									SetPlayerNormalColor(playerid);
									CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_MEMBERS] --;
									CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_ONLINE_MEMBERS] --;
									HidePlayerGangZones(playerid);

									PI[playerid][pi_CREW] = 0;
									PI[playerid][pi_CREW_RANK] = 0;
									PLAYER_TEMP[playerid][pt_CREW_INDEX] = 0;
								}
							}
						}
					}
					mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT COUNT(id) FROM player WHERE crew = %d AND crew_rank = 0;", PI[playerid][pi_CREW]);
					mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnCountQueryLoad);
				}
				else
				{
					new message[145];
					format(message, sizeof message, "{%06x}[Banda] {FFFFFF}%s (%s) ha abandonado la banda.", CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_COLOR] >>> 8, PLAYER_TEMP[playerid][pt_RP_NAME], CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_NAME]);
					SendMessageToCrewMembers(PI[playerid][pi_CREW], -1, message);

					mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET crew = NULL, crew_rank = 0 WHERE id = %d;", PI[playerid][pi_ID]);
					mysql_tquery(srp_db, QUERY_BUFFER);

					SetPlayerNormalColor(playerid);
					CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_MEMBERS] --;
					CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_ONLINE_MEMBERS] --;
					HidePlayerGangZones(playerid);

					PI[playerid][pi_CREW] = 0;
					PI[playerid][pi_CREW_RANK] = 0;
					PLAYER_TEMP[playerid][pt_CREW_INDEX] = 0;
				}
			}
			else ShowDialog(playerid, DIALOG_CREW_MENU);
			return 1;
		}
		case DIALOG_CREW_MODIFY_MEMBERS:
		{
			if(!PI[playerid][pi_CREW]) return ShowPlayerMessage(playerid, "No perteneces a ninguna banda.", 2);
			if(!CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_VALID]) return ShowPlayerMessage(playerid, "La banda ya no existe.", 2);
			if(!CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_PERMISSION][CREW_RANK_MODIFY_MEMBERS]) return ShowPlayerMessage(playerid, "No tienes permiso.", 2);

			if(response)
			{
				if(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] == -1) return 1;
				else if(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] == -2) // Siguiente
				{
					inline OnCountQueryLoad()
					{
						new rows;
						if(cache_get_row_count(rows))
						{
							if(rows)
							{
								new count, pages;
								cache_get_value_index_int(0, 0, count);
								pages = GetDatabasePages(count, PLAYER_TEMP[playerid][pt_DIALOG_DB_LIMIT]);

								if(PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] >= pages - 1) PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] = 0;
								else PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] ++;
								ShowDialog(playerid, dialogid);
							}
						}
					}
					mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT COUNT(id) FROM player WHERE crew = %d", PI[playerid][pi_CREW]);
					mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnCountQueryLoad);
				}
				else if(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] == -3) //Anterior
				{
					inline OnCountQueryLoad()
					{
						new rows;
						if(cache_get_row_count(rows))
						{
							if(rows)
							{
								new count, pages;
								cache_get_value_index_int(0, 0, count);
								pages = GetDatabasePages(count, PLAYER_TEMP[playerid][pt_DIALOG_DB_LIMIT]);

								if(PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] <= 0) PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] = pages - 1;
								else PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] --;
								ShowDialog(playerid, dialogid);
							}
						}
					}
					mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT COUNT(id) FROM player WHERE crew = %d", PI[playerid][pi_CREW]);
					mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnCountQueryLoad);
				}
				else
				{
					PLAYER_TEMP[playerid][pt_SELECTED_DB_AC_ID] = PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem];
					ShowDialog(playerid, DIALOG_CREW_MODIFY_MEMBER);
				}
			}
			else ShowDialog(playerid, DIALOG_CREW_MENU);
			return 1;
		}
		case DIALOG_CREW_MODIFY_MEMBER:
		{
			if(!PI[playerid][pi_CREW]) return ShowPlayerMessage(playerid, "No perteneces a ninguna banda.", 2);
			if(!CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_VALID]) return ShowPlayerMessage(playerid, "La banda ya no existe.", 2);
			if(!CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_PERMISSION][CREW_RANK_MODIFY_MEMBERS]) return ShowPlayerMessage(playerid, "No tienes permiso.", 2);

			if(response)
			{
				if(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] == -1) return 1;

				if(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] < PI[playerid][pi_CREW_RANK])
				{
					ShowPlayerMessage(playerid, "No puedes dar este rango porque es un rango superior al tuyo.", 2);
					return 1;
				}

				inline OnCrewInfoLoad()
				{
					new rows;
					if(cache_get_row_count(rows))
					{
						if(rows)
						{
							new name[24], connected, pid, crew_rank;
							cache_get_value_name(0, "name", name);
							cache_get_value_name_int(0, "connected", connected);
							cache_get_value_name_int(0, "playerid", pid);
							cache_get_value_name_int(0, "crew_rank", crew_rank);

							if(crew_rank < PI[playerid][pi_CREW_RANK]) ShowPlayerMessage(playerid, "No puedes modificar el rango de este miembro porque es un rango superior al tuyo.", 2);
							else
							{
								if(crew_rank == 0)
								{
									inline OnCountQueryLoad()
									{
										if(cache_get_row_count(rows))
										{
											if(rows)
											{
												new total;
												cache_get_value_index_int(0, 0, total);
												if(total <= 1) ShowPlayerMessage(playerid, "No se puede modificar el rango de este miembro ya que es el único miembro con el rango fundador.", 2);
												else
												{
													mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET crew_rank = %d WHERE id = %d;", PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem], PLAYER_TEMP[playerid][pt_SELECTED_DB_AC_ID]);
													mysql_tquery(srp_db, QUERY_BUFFER);

													new message[145];
													if(connected)
													{
														PI[pid][pi_CREW_RANK] = PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem];
														format(message, sizeof message, "{%06x}[Banda] {FFFFFF}%s (%s) cambió tu rango al rango '%s'.", CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_COLOR] >>> 8, PLAYER_TEMP[playerid][pt_RP_NAME], CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_NAME], CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] ][crew_rank_NAME]);
														SendClientMessage(pid, -1, message);
													}
													format(message, sizeof message, "Has modificado el rango de '%s' al rango '%s'.", name, CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] ][crew_rank_NAME]);
													SendClientMessage(playerid, -1, message);
												}
											}
										}
									}
									mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT COUNT(id) FROM player WHERE crew = %d AND crew_rank = 0;", PI[playerid][pi_CREW]);
									mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnCountQueryLoad);
								}
								else
								{
									mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET crew_rank = %d WHERE id = %d;", PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem], PLAYER_TEMP[playerid][pt_SELECTED_DB_AC_ID]);
									mysql_tquery(srp_db, QUERY_BUFFER);

									new message[145];
									if(connected)
									{
										PI[pid][pi_CREW_RANK] = PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem];
										format(message, sizeof message, "{%06x}[Banda] {FFFFFF}%s (%s) cambió tu rango al rango '%s'.", CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_COLOR] >>> 8, PLAYER_TEMP[playerid][pt_RP_NAME], CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_NAME], CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] ][crew_rank_NAME]);
										SendClientMessage(pid, -1, message);
									}
									format(message, sizeof message, "Has modificado el rango de '%s' al rango '%s'.", name, CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] ][crew_rank_NAME]);
									SendClientMessage(playerid, -1, message);
								}
							}
						}
					}
				}
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT name, connected, playerid, crew_rank FROM player WHERE id = %d;", PLAYER_TEMP[playerid][pt_SELECTED_DB_AC_ID]);
				mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnCrewInfoLoad);
			}
			else ShowDialog(playerid, DIALOG_CREW_MODIFY_MEMBERS);
			return 1;
		}
		case DIALOG_CREW_PROPERTY_CONFIRM:
		{
			if(!PI[playerid][pi_CREW]) return ShowPlayerMessage(playerid, "No perteneces a ninguna banda.", 2);
			if(!CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_VALID]) return ShowPlayerMessage(playerid, "La banda ya no existe.", 2);
			if(!CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_PERMISSION][CREW_RANK_ADD_PROPERTIES]) return ShowPlayerMessage(playerid, "No tienes permiso.", 2);

			if(response)
			{
				if(!TERRITORIES[ PLAYER_TEMP[playerid][pt_PLAYER_TERRITORY_PRO] ][territory_VALID]) return ShowPlayerMessage(playerid, "La propiedad no esta dentro de un territorio de tu banda.", 2);
				if(!TERRITORIES[ PLAYER_TEMP[playerid][pt_PLAYER_TERRITORY_PRO] ][territory_OCCUPIED]) return ShowPlayerMessage(playerid, "La propiedad no esta dentro de un territorio de tu banda.", 2);
				if(TERRITORIES[ PLAYER_TEMP[playerid][pt_PLAYER_TERRITORY_PRO] ][territory_CREW_ID] != PI[playerid][pi_CREW]) return ShowPlayerMessage(playerid, "La propiedad no esta dentro de un territorio de tu banda.", 2);
				if(!IsPointInDynamicArea(TERRITORIES[ PLAYER_TEMP[playerid][pt_PLAYER_TERRITORY_PRO] ][territory_AREA], PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_EXT_X], PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_EXT_Y], PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_EXT_Z])) return ShowPlayerMessage(playerid, "La propiedad no esta dentro de un territorio de tu banda.", 2);
				if(PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_OWNER_ID] != PI[playerid][pi_ID]) return ShowPlayerMessage(playerid, "Esta no es tu propiedad.", 2);


				new index = PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED];
				PROPERTY_INFO[ index ][property_CREW] = true;
				PROPERTY_INFO[ index ][property_OWNER_ID] = 0;
				PROPERTY_INFO[ index ][property_CREW_ID] = PI[playerid][pi_CREW];
				format(PROPERTY_INFO[ index ][property_NAME], 24, "PROPIEDAD %d", PROPERTY_INFO[ index ][property_ID]);

				new label_str[256], name_house[24];
				if(PROPERTY_INFO[ index ][property_EXTRA1] == 0) name_house = "Casa";
				if(PROPERTY_INFO[ index ][property_EXTRA1] == 2) name_house = "Garaje";
				if(PROPERTY_INFO[ index ][property_EXTRA1] == 4) name_house = "Negocio";

				format
				(
					label_str,
					sizeof label_str,
					"\
						{00FF00}{FFFFFF}Dirección: {00FF00}[ %d ]\n\
						{00FF00}{FFFFFF}Dueño: {00FF00} [ %s ]\n\
						{00FF00}{FFFFFF}Tipo: {00FF00} [ %s ]\n\
						{00FF00}{FFFFFF}Presiona {00FF00}[ ~k~~CONVERSATION_YES~ ] {FFFFFF}o usa {FFFF00}/entrar{FFFFFF}.\
					", PROPERTY_INFO[index][property_ID], CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_NAME], name_house
				);
				UpdateDynamic3DTextLabelText(PROPERTY_INFO[ index ][property_EXT_LABEL_ID], 0xFFFFFFAA, label_str);
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE properties SET id_player = NULL, id_territory = %d WHERE id = %d;", TERRITORIES[ PLAYER_TEMP[playerid][pt_PLAYER_TERRITORY_PRO] ][territory_ID], PROPERTY_INFO[index][property_ID]);
				mysql_tquery(srp_db, QUERY_BUFFER);

				new message[145];
				format(message, sizeof message, "{%06x}[Banda] "WHITE"%s (%s) ha añadido una nueva propiedad en %s.", CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_COLOR] >>> 8, PLAYER_TEMP[playerid][pt_RP_NAME], CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_NAME], TERRITORIES[ PLAYER_TEMP[playerid][pt_PLAYER_TERRITORY_PRO] ][territory_NAME]);
				SendMessageToCrewMembers(PI[playerid][pi_CREW], -1, message);
			}
			return 1;
		}
		case DIALOG_ADMIN_CREW_MENU:
		{
			if(response)
			{
				new let_id = ListItemNoList[playerid][listitem];
				SetPVarInt(playerid, "Banda:Admin:Current", let_id);
				if(CREW_INFO[let_id][crew_VALID])
				{
					ShowDialog(playerid, DIALOG_ADMIN_CREW_SUBMENU);
				}
			}
		}
		case DIALOG_ADMIN_CREW_SUBMENU:
		{
			if(response)
			{
				new let_id = GetPVarInt(playerid, "Banda:Admin:Current");

				switch(listitem)
				{
					case 0:
					{
						PI[playerid][pi_CREW] = CREW_INFO[let_id][crew_ID];
						PI[playerid][pi_CREW_RANK] = 0;
						PLAYER_TEMP[playerid][pt_CREW_INDEX] = let_id;
						DeletePVar(playerid,  "Banda:Admin:Current");
						new dataString[128];
						format(dataString, sizeof(dataString), "Ingresaste a la banda \n%s",CREW_INFO[let_id][crew_NAME] );
						SendNotification(playerid, dataString);
						return true;
					}
					case 1:
					{
						if(CREW_INFO[let_id][crew_TYPE] == crew_TYPE_FACCION)
						{
							CREW_INFO[let_id][crew_TYPE] = crew_TYPE_BANDA;
							SendFormatNotification(playerid, "Revocaste los permisos de\n%s ",CREW_INFO[let_id][crew_NAME] );
						}
						else
						{
							CREW_INFO[let_id][crew_TYPE] = crew_TYPE_FACCION;
							SendFormatNotification(playerid, "Añadiste permisos de faccion a \n%s ",CREW_INFO[let_id][crew_NAME] );
						}

						mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE crews SET type = '%d' WHERE id = %d;",CREW_INFO[let_id][crew_TYPE] , CREW_INFO[ let_id ][crew_ID]);
						mysql_tquery(srp_db, QUERY_BUFFER);

					}
					case 2:
					{
						ShowDialog(playerid, DIALOG_ADMIN_CREW_DELETE);
					}
				}
			}
		}
		case DIALOG_ADMIN_CREW_DELETE:
		{
			new let_id = GetPVarInt(playerid, "Banda:Admin:Current");
			if(!CREW_INFO[ let_id ][crew_VALID]) return SendNotification(playerid, "La banda ya no existe.");

			if(response)
			{
				if(CREW_INFO[ let_id ][crew_FIGHTING]) return SendNotification(playerid, "No se puede borrar la banda cuando esta en combate.");

				new message[145];

				format(message,sizeof(message), "Eliminaste la banda %s", CREW_INFO[let_id][crew_NAME]);
				SendNotification(playerid, message);

				format(message, sizeof message, "{%06x}[Banda] {FFFFFF}El administrador %s ha eliminado la banda.", CREW_INFO[ let_id ][crew_COLOR] >>> 8, PLAYER_TEMP[playerid][pt_RP_NAME]);

				new tmp_crew_id = CREW_INFO[let_id][crew_ID];
				new tmp_CREW_INFO[enum_CREW_INFO], old_crew_id = CREW_INFO[let_id][crew_ID];
				CREW_INFO[ let_id ] = tmp_CREW_INFO;

				new tmp_CREW_RANK_INFO[enum_CREW_RANK_INFO];
				for(new i = 0; i < MAX_CREW_RANKS; i ++) CREW_RANK_INFO[ let_id ][i] = tmp_CREW_RANK_INFO;

				for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
				{
					if(IsPlayerConnected(i))
					{
						if(PI[i][pi_CREW])
						{
							if(PI[i][pi_CREW] == old_crew_id)
							{
								SetPlayerNormalColor(i);
								HidePlayerGangZones(i);
								if(PLAYER_TEMP[i][pt_LAST_TERRITORY] != INVALID_STREAMER_ID)
								{
									TextDrawHideForPlayer(i, Textdraws[textdraw_TERRITORY_BOX]);
									TextDrawHideForPlayer(i, TERRITORIES[ PLAYER_TEMP[i][pt_LAST_TERRITORY] ][territory_TEXTDRAW]);
								}
								PI[i][pi_CREW] = 0;
								PI[i][pi_CREW_RANK] = 0;
								PLAYER_TEMP[i][pt_CREW_INDEX] = 0;
								SendClientMessage(i, -1, message);
							}
						}
					}
				}

				for(new i = 0; i != MAX_TERRITORIES; i ++)
				{
					if(!TERRITORIES[ i ][territory_VALID]) continue;
					if(!TERRITORIES[ i ][territory_OCCUPIED]) continue;
					if(TERRITORIES[ i ][territory_CREW_ID] != old_crew_id) continue;

					TERRITORIES[ i ][territory_OCCUPIED] = false;
					TERRITORIES[ i ][territory_CREW_ID] = 0;
					TERRITORIES[ i ][territory_CREW_INDEX] = 0;
					TERRITORIES[ i ][territory_COLOR] = 0xCCCCCC55;
					UpdateGangZoneColor(i);
				}

				for(new i = 0; i != MAX_PROPERTIES; i ++)
				{
					if(!PROPERTY_INFO[i][property_VALID]) continue;
					if(!PROPERTY_INFO[i][property_CREW]) continue;
					if(PROPERTY_INFO[i][property_CREW_ID] != old_crew_id) continue;

					PROPERTY_INFO[ i ][property_SOLD] = false;
					PROPERTY_INFO[ i ][property_CREW] = false;
					PROPERTY_INFO[ i ][property_OWNER_ID] = 0;
					PROPERTY_INFO[ i ][property_CREW_ID] = 0;
					format(PROPERTY_INFO[ i ][property_NAME], 24, "PROPIEDAD %d", PROPERTY_INFO[ i ][property_ID]);

					new info[3];
					UpdateUnnocupiedPropertyLabel(i);

					DestroyDynamicPickup(PROPERTY_INFO[ i ][property_EXT_PICKUP_ID]);
					PROPERTY_INFO[ i ][property_EXT_PICKUP_ID] = INVALID_STREAMER_ID;

					PROPERTY_INFO[ i ][property_EXT_PICKUP_ID] = CreateDynamicPickup(1273, 1, PROPERTY_INFO[ i ][property_EXT_X], PROPERTY_INFO[ i ][property_EXT_Y], PROPERTY_INFO[ i ][property_EXT_Z], 0, PROPERTY_INFO[ i ][property_EXT_INTERIOR]);
					info[0] = PICKUP_TYPE_PROPERTY;
					info[1] = i; // Index
					info[2] = 2; // Pickup Exterior
					Streamer_SetArrayData(STREAMER_TYPE_PICKUP, PROPERTY_INFO[ i ][property_EXT_PICKUP_ID], E_STREAMER_EXTRA_ID, info);

					mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE properties SET id_player = NULL, id_territory = NULL WHERE id = %d;", PROPERTY_INFO[i][property_ID]);
					mysql_tquery(srp_db, QUERY_BUFFER);
				}

				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "DELETE FROM crews WHERE id = %d;", tmp_crew_id);
				mysql_tquery(srp_db, QUERY_BUFFER);

				CallLocalFunction("OnCrewDeleted", "i", tmp_crew_id);
			}
			else ShowDialog(playerid, DIALOG_CREW_MENU);
			return 1;
		}
		case DIALOG_CREW_LEAVE_TERRITORY:
		{
			if(!PI[playerid][pi_CREW]) return SendNotification(playerid, "No perteneces a ninguna banda.");
			if(!CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_VALID]) return SendNotification(playerid, "La banda ya no existe.");
			if(!CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_PERMISSION][CREW_RANK_LEAVE_TERRITORY]) return SendNotification(playerid, "No tienes permiso.");
			
			if(response)
			{
				if(!IsPlayerInDynamicArea(playerid, TERRITORIES[ PLAYER_TEMP[playerid][pt_PLAYER_TERRITORY_PRO] ][territory_AREA])) return SendNotification(playerid, "No estÃ¡s en un territorio de tu banda.");
				if(TERRITORIES[ PLAYER_TEMP[playerid][pt_PLAYER_TERRITORY_PRO] ][territory_CREW_ID] != PI[playerid][pi_CREW]) return SendNotification(playerid, "No estÃ¡s en un territorio de tu banda.");			
				if(CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_FIGHTING]) return SendNotification(playerid, "No puedes abandonar territorios mientras tu banda estÃ¡ en combate.");
				if(TERRITORIES[ PLAYER_TEMP[playerid][pt_PLAYER_TERRITORY_PRO] ][territory_WAR]) return SendNotification(playerid, "No se puede abandonar este territorio cuando estÃ¡ siendo conquistado.");

				TERRITORIES[ PLAYER_TEMP[playerid][pt_PLAYER_TERRITORY_PRO] ][territory_OCCUPIED] = false;
				TERRITORIES[ PLAYER_TEMP[playerid][pt_PLAYER_TERRITORY_PRO] ][territory_CREW_ID] = 0;
				TERRITORIES[ PLAYER_TEMP[playerid][pt_PLAYER_TERRITORY_PRO] ][territory_CREW_INDEX] = 0;
				TERRITORIES[ PLAYER_TEMP[playerid][pt_PLAYER_TERRITORY_PRO] ][territory_COLOR] = 0xCCCCCC55;
				UpdateGangZoneColor(PLAYER_TEMP[playerid][pt_PLAYER_TERRITORY_PRO]);
				
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE territories SET id_crew = NULL WHERE id = %d;", TERRITORIES[ PLAYER_TEMP[playerid][pt_PLAYER_TERRITORY_PRO] ][territory_ID]);
				mysql_tquery(srp_db, QUERY_BUFFER);
				CallLocalFunction("OnCrewLeftTerritory", "iiii", PI[playerid][pi_CREW], PLAYER_TEMP[playerid][pt_CREW_INDEX], TERRITORIES[ PLAYER_TEMP[playerid][pt_PLAYER_TERRITORY_PRO] ][territory_ID], PLAYER_TEMP[playerid][pt_PLAYER_TERRITORY_PRO]);
				
				for(new i = 0; i != MAX_PROPERTIES; i ++)
				{
					if(!PROPERTY_INFO[i][property_VALID]) continue;
					if(!PROPERTY_INFO[i][property_CREW]) continue;
					if(PROPERTY_INFO[i][property_CREW_ID] != PI[playerid][pi_CREW]) continue;
					
					if(IsPointInDynamicArea(TERRITORIES[ PLAYER_TEMP[playerid][pt_PLAYER_TERRITORY_PRO] ][territory_AREA], PROPERTY_INFO[i][property_EXT_X], PROPERTY_INFO[i][property_EXT_Y], PROPERTY_INFO[i][property_EXT_Z]))
					{
						PROPERTY_INFO[ i ][property_SOLD] = false;
						PROPERTY_INFO[ i ][property_CREW] = false;
						PROPERTY_INFO[ i ][property_OWNER_ID] = 0;
						PROPERTY_INFO[ i ][property_CREW_ID] = 0;
						format(PROPERTY_INFO[ i ][property_NAME], 24, "PROPIEDAD %d", PROPERTY_INFO[ i ][property_ID]);
						
						new info[3];
						UpdateUnnocupiedPropertyLabel(i);
						
						DestroyDynamicPickup(PROPERTY_INFO[ i ][property_EXT_PICKUP_ID]);
						PROPERTY_INFO[ i ][property_EXT_PICKUP_ID] = INVALID_STREAMER_ID;
						
						PROPERTY_INFO[ i ][property_EXT_PICKUP_ID] = CreateDynamicPickup(1273, 1, PROPERTY_INFO[ i ][property_EXT_X], PROPERTY_INFO[ i ][property_EXT_Y], PROPERTY_INFO[ i ][property_EXT_Z], 0, PROPERTY_INFO[ i ][property_EXT_INTERIOR]);
						info[0] = PICKUP_TYPE_PROPERTY;
						info[1] = i; // Index
						info[2] = 2; // Pickup Exterior
						Streamer_SetArrayData(STREAMER_TYPE_PICKUP, PROPERTY_INFO[ i ][property_EXT_PICKUP_ID], E_STREAMER_EXTRA_ID, info);
							
						mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE properties SET id_player = NULL, id_territory = NULL WHERE id = %d;", PROPERTY_INFO[ i ][property_ID]);
						mysql_tquery(srp_db, QUERY_BUFFER);
					}
				}
				
				new message[145];
				format(message, sizeof message, ""WHITE"[BANDAS] "WHITE"La banda {3d85c6}'%s' {ffffff}ha abandonado un territorio en {29f90f}[%s]", CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_NAME], TERRITORIES[ PLAYER_TEMP[playerid][pt_PLAYER_TERRITORY_PRO] ][territory_NAME]);
				for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
				{
					if(IsPlayerConnected(i))
					{
						if(PI[i][pi_CREW])
						{
							SendClientMessage(i, -1, message);
						}
					}
				}
			}
			return 1;
		}
		case DIALOG_CREW_LEAVE_PROPERTY:
		{
			if(!PI[playerid][pi_CREW]) return SendNotification(playerid, "No perteneces a ninguna banda.");
			if(!CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_VALID]) return SendNotification(playerid, "La banda ya no existe.");
			if(!CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_PERMISSION][CREW_RANK_DELETE_PROPERTIES]) return SendNotification(playerid, "No tienes permiso.");
			
			if(response)
			{
				if(!PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_CREW]) return SendNotification(playerid, "Esta no es una propiedad de tu banda.");
				if(PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_CREW_ID] != PI[playerid][pi_CREW]) return SendNotification(playerid, "Esta no es una propiedad de tu banda.");
				if(CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_FIGHTING]) return SendNotification(playerid, "No puedes liberar una propiedad cuando tu banda está en combate.");
			
				PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_SOLD] = false;
				PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_CREW] = false;
				PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_OWNER_ID] = 0;
				PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_CREW_ID] = 0;
				format(PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_NAME], 24, "PROPIEDAD %d", PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_ID]);
				
				new info[3];
				UpdateUnnocupiedPropertyLabel(PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED]);
				
				DestroyDynamicPickup(PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_EXT_PICKUP_ID]);
				PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_EXT_PICKUP_ID] = INVALID_STREAMER_ID;
				
				PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_EXT_PICKUP_ID] = CreateDynamicPickup(1273, 1, PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_EXT_X], PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_EXT_Y], PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_EXT_Z], 0, PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_EXT_INTERIOR]);
				info[0] = PICKUP_TYPE_PROPERTY;
				info[1] = PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED]; // Index
				info[2] = 2; // Pickup Exterior
				Streamer_SetArrayData(STREAMER_TYPE_PICKUP, PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_EXT_PICKUP_ID], E_STREAMER_EXTRA_ID, info);
						
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE properties SET id_player = NULL, id_territory = NULL WHERE id = %d;", PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PLAYER_PROPERTY_SELECTED] ][property_ID]);
				mysql_tquery(srp_db, QUERY_BUFFER);
				
				SendNotification(playerid, "La propiedad ha sido liberada.");
			}
			return 1;
		}
		case DIALOG_POLICE_PENALTY:
		{
			if(response)
			{
				if(gettime() > PLAYER_TEMP[playerid][pt_POLICE_PEN_TIME] + 20) return ShowPlayerMessage(playerid, "Has tardardo mucho en aceptarlo.", 2);
				if(!IsPlayerConnected(PLAYER_TEMP[playerid][pt_POLICE_PEN_PID])) return ShowPlayerMessage(playerid, "El policía ya no esta en el servidor.", 2);
				if(PI[ PLAYER_TEMP[playerid][pt_POLICE_PEN_PID] ][pi_ID] != PLAYER_TEMP[playerid][pt_POLICE_PEN_AID]) return ShowPlayerMessage(playerid, "El policía ya no esta en el servidor.", 2);

				new Float:pos[3]; GetPlayerPos(PLAYER_TEMP[playerid][pt_POLICE_PEN_PID], pos[0], pos[1], pos[2]);
				if(!IsPlayerInRangeOfPoint(playerid, 5.0, pos[0], pos[1], pos[2])) return ShowPlayerMessage(playerid, "El policía no esta cerca tuya.", 2);

				if(PLAYER_TEMP[playerid][pt_POLICE_PEN_IM] > PI[playerid][pi_CASH])
				{
					ShowPlayerMessage(playerid, "No tienes dinero para pagar la multa.", 2);
					SendClientMessage(PLAYER_TEMP[playerid][pt_POLICE_PEN_PID], -1, "»La persona ha aceptado la multa pero no tiene dinero para pagarla.");
					return 1;
				}

				if(GivePlayerCash(playerid, -PLAYER_TEMP[playerid][pt_POLICE_PEN_IM], true, true) && GivePlayerCash(PLAYER_TEMP[playerid][pt_POLICE_PEN_PID], PLAYER_TEMP[playerid][pt_POLICE_PEN_IM]/2, true, false)) {
					SetPlayerWantedLevelEx(playerid, 0);

					ShowPlayerMessage(playerid, "La multa ha sido pagada.", 2);
					SendClientMessage(PLAYER_TEMP[playerid][pt_POLICE_PEN_PID], -1, "»La persona ha pagado la multa, la mitad del importe es para ti.");
				}

			}
			else
			{
				if(gettime() > PLAYER_TEMP[playerid][pt_POLICE_PEN_TIME] + 20) return 1;
				if(!IsPlayerConnected(PLAYER_TEMP[playerid][pt_POLICE_PEN_PID])) return 1;
				if(PI[ PLAYER_TEMP[playerid][pt_POLICE_PEN_PID] ][pi_ID] != PLAYER_TEMP[playerid][pt_POLICE_PEN_AID]) return 1;

				SendClientMessage(PLAYER_TEMP[playerid][pt_POLICE_PEN_PID], -1, "»La persona se ha negado a pagar la multa.");
				if(PI[playerid][pi_WANTED_LEVEL] < 2) SetPlayerWantedLevelEx(playerid, PI[playerid][pi_WANTED_LEVEL] + 1);
			}
			return 1;
		}
		case DIALOG_SERVER_ECO:
		{
			if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 1;

			if(response)
			{
				PLAYER_TEMP[playerid][pt_DIALOG_ECO_SELECTED] = listitem;
				ShowDialog(playerid, DIALOG_SERVER_ECO_MODIFY);
			}
			return 1;
		}
		case DIALOG_SERVER_ECO_MODIFY:
		{
			if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 1;

			if(response)
			{
				new Float:multiplier;
				if(sscanf(inputtext, "f", multiplier))
				{
					ShowPlayerMessage(playerid, "Sintaxis no valida.", 2);
					ShowDialog(playerid, dialogid);
					return 1;
				}

				switch(PLAYER_TEMP[playerid][pt_DIALOG_ECO_SELECTED])
				{
					case 0: MULTIPLIER_PROPERITES = multiplier;
					case 1: MULTIPLIER_VEHICLES = multiplier;
					case 2: MULTIPLIER_TOYS = multiplier;
					case 3: MULTIPLIER_SKINS = multiplier;
					case 4: MULTIPLIER_WEAPONS = multiplier;
					case 5: SU_SD_PRICE = floatround(multiplier);
					case 6: SU_WORK_EXTRA_PAY = floatround(multiplier);
					case 7: SU_VIP_2 = floatround(multiplier);
					case 8: CHANGE_NAME_SD_PRICE = floatround(multiplier);
				}

				WriteEconomyMultipliers();
				UpdateEconomy(PLAYER_TEMP[playerid][pt_DIALOG_ECO_SELECTED]);
				ShowDialog(playerid, DIALOG_SERVER_ECO);
			}
			else ShowDialog(playerid, DIALOG_SERVER_ECO);
			return 1;
		}

		case DIALOG_SU_BUY:
		{
			if(response)
			{
				if(SU_SD_PRICE > PI[playerid][pi_COINS])
				{
					SendFormatNotification(playerid, "Te faltan %d "SERVER_COIN" para poder comprar VIP.", SU_SD_PRICE - PI[playerid][pi_COINS]);
					return 1;
				}

				SetPlayerVip(playerid, 1, SU_SD_PRICE, 30);
			}
			return 1;
		}
		case DIALOG_UPGRADE_VIP:
		{
			if(!response) return false;
			switch(listitem)
			{
				case 0: ShowDialog(playerid, DIALOG_SU);
			}
		}
		case DIALOG_VIP_2_MAIN:
		{
			if(!response) return false;
			switch(listitem)
			{
				case 0: ShowDialog(playerid, DIALOG_SU_BUY);
			}
		}
		case DIALOG_SU_BUY_2:
		{
			if(response)
			{
				if(SU_VIP_2 > PI[playerid][pi_COINS])
				{
					SendFormatNotification(playerid, "Te faltan %d "SERVER_COIN" para poder comprar VIP Plus.", SU_VIP_2 - PI[playerid][pi_COINS]);
					return 1;
				}

				SetPlayerVip(playerid, 4, SU_VIP_2, 30);
			}
			return 1;
		}
		case DIALOG_VIP2:
		{
			if(!response)
			{
				if(SU_VIP_2 > PI[playerid][pi_COINS])
				{
					SendFormatNotification(playerid, "Te faltan %d "SERVER_COIN" para poder comprar VIP Plus.", SU_VIP_2 - PI[playerid][pi_COINS]);
					return 1;
				}

				PI[playerid][pi_COINS] -= SU_VIP_2;
				inline OnInfoQueryLoad()
				{
					inline OnCountQueryLoad()
					{
						new rows;
						if(cache_get_row_count(rows))
						{
							if(rows)
							{
								cache_get_value_index(0, 0, PI[playerid][pi_VIP_EXPIRE_DATE]);
								SendClientMessageEx(playerid, -1, "{"#PRIMARY_COLOR"}¡Felicidades! {FFFFFF}Has renovado tu VIP (%d) por 30 días, fecha de caducidad: %s.", PI[playerid][pi_VIP], PI[playerid][pi_VIP_EXPIRE_DATE]);
								SendClientMessage(playerid, -1, "Puedes utilizar {"#PRIMARY_COLOR"}/vip {FFFFFF}para ver el tiempo restante o renovar.");
							}
						}
					}
					mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT vip_expire_date FROM player WHERE id = %d;", PI[playerid][pi_ID]);
					mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnCountQueryLoad);
				}
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET coins = %d, vip = %d, vip_expire_date = DATE_ADD(NOW(), INTERVAL 30 DAY) WHERE id = %d;", PI[playerid][pi_COINS], PI[playerid][pi_VIP], PI[playerid][pi_ID]);
				mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnInfoQueryLoad);
			}
			return 1;
		}
		case DIALOG_SU:
		{
			if(!response)
			{
				if(SU_SD_PRICE > PI[playerid][pi_COINS])
				{
					SendFormatNotification(playerid, "Te faltan %d "SERVER_COIN" para poder comprar VIP.", SU_SD_PRICE - PI[playerid][pi_COINS]);
					return 1;
				}

				PI[playerid][pi_COINS] -= SU_SD_PRICE;
				inline OnInfoQueryLoad()
				{
					inline OnCountQueryLoad()
					{
						new rows;
						if(cache_get_row_count(rows))
						{
							if(rows)
							{
								cache_get_value_index(0, 0, PI[playerid][pi_VIP_EXPIRE_DATE]);
								SendClientMessageEx(playerid, -1, "{"#PRIMARY_COLOR"}¡Felicidades! {FFFFFF}Has renovado tu VIP (%d) por 30 días, fecha de caducidad: %s.", PI[playerid][pi_VIP], PI[playerid][pi_VIP_EXPIRE_DATE]);
								SendClientMessage(playerid, -1, "Puedes utilizar {"#PRIMARY_COLOR"}/vip {FFFFFF}para ver el tiempo restante o renovar.");
							}
						}
					}
					mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT vip_expire_date FROM player WHERE id = %d;", PI[playerid][pi_ID]);
					mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnCountQueryLoad);
				}
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET coins = %d, vip = %d, vip_expire_date = DATE_ADD(NOW(), INTERVAL 30 DAY) WHERE id = %d;", PI[playerid][pi_COINS], PI[playerid][pi_VIP], PI[playerid][pi_ID]);
				mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnInfoQueryLoad);
			}
			return 1;
		}

		case DIALOG_VOBJECT_MENU:
		{
			if(response)
			{
				switch(listitem)
				{
					case 0: ShowDialog(playerid, DIALOG_VOBJECT_OBJECTS);
					case 1: //Comprar
					{
						new slot = GetVehicleFreeObjectSlot(PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID]);
						if(!PI[playerid][pi_VIP] && slot >= MAX_NU_VOBJECTS)
						{
							PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
							SendFormatNotification(playerid, "¡Los jugadores ~y~VIP ~w~pueden tener hasta %d objetos en vehiculos! Usa ~y~/ayuda ~w~si quieres ser ~y~VIP.", MAX_SU_VOBJECTS);
							ShowDialog(playerid, dialogid);
							return 1;
						}
						if(slot == -1)
						{
							SendNotification(playerid, "No hay más espacio para objetos en este vehiculo.");
							ShowDialog(playerid, dialogid);
							return 1;
						}

						PLAYER_TEMP[playerid][pt_TUNING_GARAGE_SHOP] = true;

						new Float:p[6];
						GetPlayerCameraPos(playerid, p[0], p[1], p[2]);
						GetPlayerCameraLookAt(playerid, p[3], p[4], p[5]);
						InterpolateCameraPos(playerid, p[0], p[1], p[2], 265.3348, 14.0199, 3.6937, 2000);
						InterpolateCameraLookAt(playerid, p[3], p[4], p[5], 268.2404, 11.4559, 2.2, 2000);

						TextDrawShowForPlayer(playerid, Textdraws[textdraw_SHOP_TUNING][0]);
						TextDrawShowForPlayer(playerid, Textdraws[textdraw_SHOP_TUNING][1]);
						TextDrawShowForPlayer(playerid, Textdraws[textdraw_SHOP_TUNING][2]);
						TextDrawShowForPlayer(playerid, Textdraws[textdraw_SHOP_TUNING][3]);
						TextDrawShowForPlayer(playerid, Textdraws[textdraw_SHOP_TUNING][4]);
						PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_TUNING_SHOP]);
						//PLAYER_TEMP[playerid][pt_SELECT_TUNING_OBJECT] = 0;

						UpdateTuningShop(playerid);

						SendNotification(playerid, "Pulsa ~b~~h~'ESCAPE' ~w~para dejar de comprar objetos.");
						SelectTextDrawEx(playerid, 0xe8d08fFF);
					}
					case 2:
					{
						new slot = GetVehicleFreeObjectSlot(PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID]);
						if(!PI[playerid][pi_VIP] && slot >= MAX_NU_VOBJECTS)
						{
							PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
							SendFormatNotification(playerid, "¡Los jugadores ~y~VIP ~w~pueden tener hasta %d objetos en vehiculos! Usa ~y~/ayuda ~w~si quieres ser ~y~VIP.", MAX_SU_VOBJECTS);
							ShowDialog(playerid, dialogid);
							return 1;
						}
						if(slot == -1)
						{
							SendNotification(playerid, "No hay más espacio para objetos en este vehiculo.");
							ShowDialog(playerid, dialogid);
							return 1;
						}

						if(500 > PI[playerid][pi_CASH])
						{
							PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
							SendFormatNotification(playerid, "No tienes dinero suficiente, te faltan ~r~$%s~w~ para poder comprar este objeto.", number_format_thousand(500 - PI[playerid][pi_CASH]));
							ShowDialog(playerid, dialogid);
							return 1;
						}

						if(GivePlayerCash(playerid, -500, true, true)) {
							VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][slot][vobject_VALID] = true;
							VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][slot][vobject_TYPE] = VOBJECT_TYPE_TEXT;
							VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][slot][vobject_ID] = 0;
							VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][slot][vobject_MODELID] = 19327;
							format(VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][slot][vobject_NAME], 32, "Texto");
							VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][slot][vobject_ATTACHED] = true;

							format(VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][slot][vobject_text_TEXT], 32, "Mi texto");
							format(VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][slot][vobject_text_FONT], 24, "Arial");
							VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][slot][vobject_text_FONT_SIZE] = 24;
							VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][slot][vobject_text_BOLD] = false;
							VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][slot][vobject_text_FONT_COLOR] = 0xFF000000;

							RegisterNewVehicleObject(PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID], slot);
							UpdateVehicleAttachedObject(PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID], slot, true);

							SendNotification(playerid, "El objeto de texto ha sido añadido.");
							PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] = slot;
							ShowDialog(playerid, DIALOG_VOBJECT_OBJECT);
						}
						else ShowDialog(playerid, dialogid);
					}
					case 3:
					{
						new slot = GetVehicleFreeObjectSlot(PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID]);
						if(!PI[playerid][pi_VIP] && slot >= MAX_NU_VOBJECTS)
						{
							PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
							SendFormatNotification(playerid, "¡Los jugadores ~y~VIP ~w~pueden tener hasta %d objetos en vehiculos! Usa ~y~/ayuda ~w~si quieres ser ~y~VIP.", MAX_SU_VOBJECTS);
							ShowDialog(playerid, dialogid);
							return 1;
						}
						if(slot == -1)
						{
							SendNotification(playerid, "No hay más espacio para objetos en este vehiculo.");
							ShowDialog(playerid, dialogid);
							return 1;
						}

						if(2000 > PI[playerid][pi_CASH])
						{
							PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
							SendFormatNotification(playerid, "No tienes dinero suficiente, te faltan ~r~$%s~w~ para poder comprar este objeto.", number_format_thousand(2000 - PI[playerid][pi_CASH]));
							ShowDialog(playerid, dialogid);
							return 1;
						}

						PLAYER_TEMP[playerid][pt_COUNTRY_TYPE] = 0;
						ShowDialog(playerid, DIALOG_VOBJECT_COUNTRY);
					}
					case 4:
					{
						new slot = GetVehicleFreeObjectSlot(PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID]);
						if(!PI[playerid][pi_VIP] && slot >= MAX_NU_VOBJECTS)
						{
							PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
							SendFormatNotification(playerid, "¡Los jugadores ~y~VIP ~w~pueden tener hasta %d objetos en vehiculos! Usa ~y~/ayuda ~w~si quieres ser ~y~VIP.", MAX_SU_VOBJECTS);
							ShowDialog(playerid, dialogid);
							return 1;
						}
						if(slot == -1)
						{
							SendNotification(playerid, "No hay más espacio para objetos en este vehiculo.");
							ShowDialog(playerid, dialogid);
							return 1;
						}

						if(2000 > PI[playerid][pi_CASH])
						{
							PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
							SendFormatNotification(playerid, "No tienes dinero suficiente, te faltan ~r~$%s~w~ para poder comprar este objeto.", number_format_thousand(2000 - PI[playerid][pi_CASH]));
							ShowDialog(playerid, dialogid);
							return 1;
						}

						PLAYER_TEMP[playerid][pt_COUNTRY_TYPE] = 1;
						ShowDialog(playerid, DIALOG_VOBJECT_COUNTRY);
					}
				}
			}
			else
			{
				PLAYER_TEMP[playerid][pt_IN_TUNING_GARAGE] = false;
				SetVehicleVirtualWorldEx(PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID], 0);
				SetPlayerVirtualWorld(playerid, 0);
				SetVehiclePosEx(PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID], 246.551910, 17.474195, 2.363841);
				SetVehicleZAngle(PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID], 0.0);

				GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][gb_vehicle_PARAMS_ENGINE] = 1;
				UpdateVehicleParams(PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID]);

				if(GetPlayerState(playerid) != PLAYER_STATE_DRIVER) PutPlayerInVehicleEx(playerid, PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID], 0);

				ShowPlayerSpeedoMeter(playerid);
				SetCameraBehindPlayer(playerid);
			}
			return 1;
		}
		case DIALOG_VOBJECT_COUNTRY:
		{
			if(response)
			{
				new slot = GetVehicleFreeObjectSlot(PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID]);
				if(!PI[playerid][pi_VIP] && slot >= MAX_NU_VOBJECTS)
				{
					PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
					SendFormatNotification(playerid, "¡Los jugadores ~y~VIP ~w~pueden tener hasta %d objetos en vehiculos! Usa ~y~/ayuda ~w~si quieres ser ~y~VIP.", MAX_SU_VOBJECTS);
					ShowDialog(playerid, DIALOG_VOBJECT_MENU);
					return 1;
				}
				if(slot == -1)
				{
					SendNotification(playerid, "No hay más espacio para objetos en este vehiculo.");
					ShowDialog(playerid, DIALOG_VOBJECT_MENU);
					return 1;
				}

				if(2000 > PI[playerid][pi_CASH])
				{
					PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
					SendFormatNotification(playerid, "No tienes dinero suficiente, te faltan ~r~$%s~w~ para poder comprar este objeto.", number_format_thousand(2000 - PI[playerid][pi_CASH]));
					ShowDialog(playerid, DIALOG_VOBJECT_MENU);
					return 1;
				}

				if(GivePlayerCash(playerid, -2000, true, true)) {
					VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][slot][vobject_VALID] = true;
					VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][slot][vobject_ID] = 0;
					if(PLAYER_TEMP[playerid][pt_COUNTRY_TYPE] == 0)
					{
						VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][slot][vobject_TYPE] = VOBJECT_TYPE_COUNTRY_FLAG;
						VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][slot][vobject_MODELID] = 19307;
					}
					else if(PLAYER_TEMP[playerid][pt_COUNTRY_TYPE] == 1)
					{
						VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][slot][vobject_TYPE] = VOBJECT_TYPE_COUNTRY_PANEL;
						VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][slot][vobject_MODELID] = 2661;
					}
					format(VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][slot][vobject_NAME], 32, "Pais");
					VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][slot][vobject_ATTACHED] = true;
					VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][slot][vobject_COLORS][0] = listitem;

					RegisterNewVehicleObject(PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID], slot);
					UpdateVehicleAttachedObject(PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID], slot, true);

					SendNotification(playerid, "El objeto ha sido añadido.");
					PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] = slot;
					ShowDialog(playerid, DIALOG_VOBJECT_OBJECT);
				}
				else ShowDialog(playerid, DIALOG_VOBJECT_MENU);
			}
			else ShowDialog(playerid, DIALOG_VOBJECT_MENU);
			return 1;
		}
		case DIALOG_VOBJECT_OBJECTS:
		{
			if(response)
			{
				if(listitem == MAX_SU_VOBJECTS) return ShowDialog(playerid, DIALOG_VOBJECT_DELETE_ALL);
				if(!VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][listitem][vobject_VALID])
				{
					SendNotification(playerid, "Este slot está vacío, aquí puedes comprar un nuevo objeto.");
					ShowDialog(playerid, dialogid);
					return 1;
				}

				PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] = listitem;
				ShowDialog(playerid, DIALOG_VOBJECT_OBJECT);
			}
			else ShowDialog(playerid, DIALOG_VOBJECT_MENU);
			return 1;
		}
		case DIALOG_VOBJECT_OBJECT:
		{
			if(response)
			{
				switch(listitem)
				{
					case 0:
					{
						if(VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_ATTACHED])
						{
							SendNotification(playerid, "Objeto guardado.");
							VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_ATTACHED] = false;
							UpdateVehicleAttachedObject(PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID], PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT]);
							ShowDialog(playerid, DIALOG_VOBJECT_OBJECT);
						}
						else
						{
							SendNotification(playerid, "Objeto colocado.");
							VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_ATTACHED] = true;
							UpdateVehicleAttachedObject(PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID], PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT], true);
							ShowDialog(playerid, DIALOG_VOBJECT_OBJECT);
						}
					}
					case 1: ShowDialog(playerid, DIALOG_VOBJECT_OBJECT_CNAME);
					case 2:
					{
						if(!VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_ATTACHED])
						{
							SendNotification(playerid, "Debes colocar el objeto primero.");
							ShowDialog(playerid, dialogid);
							return 1;
						}

						EditVehicleObject(playerid, PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID], PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT]);
					}
					case 3:
					{
						switch(VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_TYPE])
						{
							case VOBJECT_TYPE_OBJECT:
							{
								if(!VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_ATTACHED])
								{
									SendNotification(playerid, "Debes colocar el objeto primero.");
									ShowDialog(playerid, dialogid);
									return 1;
								}
								ShowDialog(playerid, DIALOG_VOBJECT_OBJECT_COLORS);
							}
							case VOBJECT_TYPE_TEXT:
							{
								if(!VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_ATTACHED])
								{
									SendNotification(playerid, "Debes colocar el objeto primero.");
									ShowDialog(playerid, dialogid);
									return 1;
								}
								ShowDialog(playerid, DIALOG_VOBJECT_TEXT_MENU);
							}
							case VOBJECT_TYPE_COUNTRY_FLAG, VOBJECT_TYPE_COUNTRY_PANEL: ShowDialog(playerid, DIALOG_VOBJECT_OBJECT_CDELETE);
						}
					}
					case 4: ShowDialog(playerid, DIALOG_VOBJECT_OBJECT_CDELETE);
				}

			}
			else
			{
				UpdateVehicleObject(PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID], PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT]);
				ShowDialog(playerid, DIALOG_VOBJECT_OBJECTS);
			}
			return 1;
		}
		case DIALOG_VOBJECT_OBJECT_CNAME:
		{
			if(response)
			{
				if(!strlen(inputtext) || strlen(inputtext) > 32)
				{
					SendNotification(playerid, "El nombre del objeto debe contener de 1 a 32 caracteres.");
					ShowDialog(playerid, dialogid);
					return 1;
				}

				format(VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_NAME], 32, "%s", inputtext);
				ShowDialog(playerid, DIALOG_VOBJECT_OBJECT);
			}
			else ShowDialog(playerid, DIALOG_VOBJECT_OBJECT);
			return 1;
		}
		case DIALOG_VOBJECT_OBJECT_COLORS:
		{
			if(response)
			{
				PLAYER_TEMP[playerid][pt_TUNING_EDIT_COLOR_SLOT] = listitem;
				ShowDialog(playerid, DIALOG_VOBJECT_OBJECT_COLOR);
			}
			else ShowDialog(playerid, DIALOG_VOBJECT_OBJECT);
			return 1;
		}
		case DIALOG_VOBJECT_OBJECT_COLOR:
		{
			if(response)
			{
				switch(listitem)
				{
					case 0:
					{
						VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_COLORS][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_COLOR_SLOT] ] = 0;
						UpdateVehicleAttachedObject(PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID], PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT], true);
						SendNotification(playerid, "Color actualizado.");
						ShowDialog(playerid, DIALOG_VOBJECT_OBJECT_COLORS);
					}
					case 1:
					{
						VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_COLORS][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_COLOR_SLOT] ] = RGBAToARGB(VEHICLE_COLORS[ GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][gb_vehicle_COLOR_1] ]);
						UpdateVehicleAttachedObject(PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID], PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT], true);
						SendNotification(playerid, "Color actualizado.");
						ShowDialog(playerid, DIALOG_VOBJECT_OBJECT_COLORS);
					}
					case 2:
					{
						VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_COLORS][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_COLOR_SLOT] ] = RGBAToARGB(VEHICLE_COLORS[ GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][gb_vehicle_COLOR_2] ]);
						UpdateVehicleAttachedObject(PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID], PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT], true);
						SendNotification(playerid, "Color actualizado.");
						ShowDialog(playerid, DIALOG_VOBJECT_OBJECT_COLORS);
					}
					case 3: ShowDialog(playerid, DIALOG_VOBJECT_OBJECT_COLOR_HEX);
				}
			}
			else ShowDialog(playerid, DIALOG_VOBJECT_OBJECT_COLORS);
			return 1;
		}
		case DIALOG_VOBJECT_OBJECT_COLOR_HEX:
		{
			if(response)
			{
				if(strlen(inputtext) < 8) return ShowDialog(playerid, dialogid);

				new hexcolor;
				if(sscanf(inputtext, "h", hexcolor))
				{
					ShowDialog(playerid, dialogid);
					return 1;
				}

				VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_COLORS][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_COLOR_SLOT] ] = hexcolor;
				UpdateVehicleAttachedObject(PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID], PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT], true);
				SendNotification(playerid, "Color actualizado.");
				ShowDialog(playerid, DIALOG_VOBJECT_OBJECT_COLORS);
			}
			else ShowDialog(playerid, DIALOG_VOBJECT_OBJECT_COLOR);
			return 1;
		}
		case DIALOG_VOBJECT_OBJECT_CDELETE:
		{
			if(response)
			{
				if(VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_OBJECT_ID] != INVALID_STREAMER_ID)
				{
					DestroyDynamicObject(VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_OBJECT_ID]);
					VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_OBJECT_ID] = INVALID_STREAMER_ID;
				}

				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "DELETE FROM vobjects WHERE id = %d;", VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_ID]);
				mysql_tquery(srp_db, QUERY_BUFFER);

				new temp_VEHICLE_OBJECTS[e_VEHICLE_OBJECTS];
				VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ] = temp_VEHICLE_OBJECTS;

				SendNotification(playerid, "Objeto eliminado.");
				ShowDialog(playerid, DIALOG_VOBJECT_OBJECTS);
			}
			else ShowDialog(playerid, DIALOG_VOBJECT_OBJECT);
			return 1;
		}
		case DIALOG_VOBJECT_DELETE_ALL:
		{
			if(response)
			{
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "DELETE FROM vobjects WHERE id_vehicle = %d;", PLAYER_VEHICLES[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][player_vehicle_ID]);
				mysql_tquery(srp_db, QUERY_BUFFER);

				new temp_VEHICLE_OBJECTS[e_VEHICLE_OBJECTS];
				for(new i = 0; i != MAX_SU_VOBJECTS; i ++)
				{
					if(VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][i][vobject_OBJECT_ID] != INVALID_STREAMER_ID)
					{
						DestroyDynamicObject(VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][i][vobject_OBJECT_ID]);
						VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][i][vobject_OBJECT_ID] = INVALID_STREAMER_ID;
					}

					VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][i] = temp_VEHICLE_OBJECTS;
				}

				SendNotification(playerid, "Todos los objetos de este vehiculo han sido eliminados.");
				ShowDialog(playerid, DIALOG_VOBJECT_OBJECTS);
			}
			else ShowDialog(playerid, DIALOG_VOBJECT_OBJECT);
			return 1;
		}
		case DIALOG_VOBJECT_TEXT_MENU:
		{
			if(response)
			{
				switch(listitem)
				{
					case 0: ShowDialog(playerid, DIALOG_VOBJECT_TEXT_TEXT);
					case 1: ShowDialog(playerid, DIALOG_VOBJECT_TEXT_FONT);
					case 2: ShowDialog(playerid, DIALOG_VOBJECT_TEXT_FONT_SIZE);
					case 3:
					{
						if(VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_text_BOLD])
						{
							VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_text_BOLD] = false;
							SendNotification(playerid, "Negrita deshabilitada.");
						}
						else
						{
							VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_text_BOLD] = true;
							SendNotification(playerid, "Negrita habilitada.");
						}
						UpdateVehicleAttachedObject(PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID], PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT], true);
						ShowDialog(playerid, dialogid);
					}
					case 4: ShowDialog(playerid, DIALOG_VOBJECT_TEXT_FONT_COLOR);
				}
			}
			else ShowDialog(playerid, DIALOG_VOBJECT_OBJECT);
			return 1;
		}
		case DIALOG_VOBJECT_TEXT_TEXT:
		{
			if(response)
			{
				if(strlen(inputtext) >= 32)
				{
					SendNotification(playerid, "Como maximo puedes introducir un texto de 32 caracteres.");
					ShowDialog(playerid, dialogid);
					return 1;
				}

				if(sscanf(inputtext, "s[32]", inputtext))
				{
					SendNotification(playerid, "Introduce un texto.");
					ShowDialog(playerid, dialogid);
					return 1;
				}

				format(VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_text_TEXT], 32, "%s", inputtext);
				UpdateVehicleAttachedObject(PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID], PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT], true);
				SendNotification(playerid, "Texto actualizado.");
			}
			ShowDialog(playerid, DIALOG_VOBJECT_TEXT_MENU);
			return 1;
		}
		case DIALOG_VOBJECT_TEXT_FONT:
		{
			if(response)
			{
				if(strlen(inputtext) >= 24)
				{
					SendNotification(playerid, "Como maximo puedes introducir una fuente de 24 caracteres.");
					ShowDialog(playerid, dialogid);
					return 1;
				}

				if(sscanf(inputtext, "s[24]", inputtext))
				{
					SendNotification(playerid, "Introduce un texto.");
					ShowDialog(playerid, dialogid);
					return 1;
				}
				format(VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_text_FONT], 24, "%s", inputtext);
				UpdateVehicleAttachedObject(PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID], PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT], true);
				SendNotification(playerid, "Fuente actualizada.");
			}
			ShowDialog(playerid, DIALOG_VOBJECT_TEXT_MENU);
			return 1;
		}
		case DIALOG_VOBJECT_TEXT_FONT_SIZE:
		{
			if(response)
			{
				if(sscanf(inputtext, "d", inputtext[0]))
				{
					SendNotification(playerid, "Introduce un valor numerico.");
					ShowDialog(playerid, dialogid);
					return 1;
				}
				if(inputtext[0] <= 0 || inputtext[0] >= 255)
				{
					SendNotification(playerid, "Introduce un valor entre 1 y 255.");
					ShowDialog(playerid, dialogid);
					return 1;
				}
				VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_text_FONT_SIZE] = inputtext[0];
				UpdateVehicleAttachedObject(PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID], PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT], true);
				SendNotification(playerid, "Tamaño de letra actualizado.");
			}
			ShowDialog(playerid, DIALOG_VOBJECT_TEXT_MENU);
			return 1;
		}
		case DIALOG_VOBJECT_TEXT_FONT_COLOR:
		{
			if(response)
			{
				VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_text_FONT_COLOR] = RGBAToARGB(RandomColors[listitem]);
				UpdateVehicleAttachedObject(PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID], PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT], true);
				SendNotification(playerid, "Color de letra actualizado.");
			}
			ShowDialog(playerid, DIALOG_VOBJECT_TEXT_MENU);
			return 1;
		}
		case DIALOG_PLAYER_CONFIG:
		{
			if(response)
			{
				switch(listitem)
				{
					case 0:
					{
						if(PI[playerid][pi_CONFIG_AUDIO])
						{
						   ShowDialog(playerid, dialogid);
							PI[playerid][pi_CONFIG_AUDIO] = false;
							StopAudioStreamForPlayer(playerid);
						}
						else PI[playerid][pi_CONFIG_AUDIO] = true;
					}
					case 1:
					{
						if(PI[playerid][pi_CONFIG_HUD])
						{
						    ShowDialog(playerid, dialogid);
							PI[playerid][pi_CONFIG_HUD] = false;
							for(new i = 0; i < HUD_TEXTDRAWS_SIZE; i ++) {
								TextDrawHideForPlayer(playerid, Textdraws[textdraw_HUD][i]);
							}
							
							for(new i = 0; i < HUD_PTEXTDRAWS_SIZE; i ++) {
								PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_HUD][i]);
							}
						}
						else
						{
						    ShowDialog(playerid, dialogid);
							PI[playerid][pi_CONFIG_HUD] = true;
							for(new i = 0; i < HUD_TEXTDRAWS_SIZE; i ++) {
								TextDrawShowForPlayer(playerid, Textdraws[textdraw_HUD][i]);	
							}
							
							for(new i = 0; i < HUD_PTEXTDRAWS_SIZE; i ++) {
								PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_HUD][i]);
							}
						}
					}
					case 2:
					{
						if(PI[playerid][pi_CONFIG_ADMIN]) PI[playerid][pi_CONFIG_ADMIN] = false;
						else PI[playerid][pi_CONFIG_ADMIN] = true;
						ShowDialog(playerid, dialogid);
					}
					case 3:
					{
						if(PI[playerid][pi_PHONE_VISIBLE_NUMBER]) PI[playerid][pi_PHONE_VISIBLE_NUMBER] = false;
						else PI[playerid][pi_PHONE_VISIBLE_NUMBER] = true;
						ShowDialog(playerid, dialogid);
					}
					case 4:
					{
						if(PI[playerid][pi_CONFIG_SOUNDS]) PI[playerid][pi_CONFIG_SOUNDS] = false;
						else PI[playerid][pi_CONFIG_SOUNDS] = true;
						ShowDialog(playerid, dialogid);
					}
					case 5:
					{
						ShowDialog(playerid, dialogid);
					}
					case 6:
					{
						if(PI[playerid][pi_TWITTER_CHANNEL]) PI[playerid][pi_TWITTER_CHANNEL] = false;
						else PI[playerid][pi_TWITTER_CHANNEL] = true;
						ShowDialog(playerid, dialogid);
					}

					case 7:
					{
						if(PI[playerid][pi_DOUBT_CHANNEL]) PI[playerid][pi_DOUBT_CHANNEL] = false;
						else PI[playerid][pi_DOUBT_CHANNEL] = true;
						ShowDialog(playerid, dialogid);
					}

					case 8: {
						PC_EmulateCommand(playerid, "/estado");
					}
				}
				//ShowDialog(playerid, dialogid);
			}
			return 1;
		}
		case DIALOG_POLICE_BYC:
		{
			if(response)
			{
				switch(listitem)
				{
					case 0:
					{
						PLAYER_TEMP[playerid][pt_DIALOG_DB_LIMIT] = 10;
						PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] = 0;
						ShowDialog(playerid, DIALOG_POLICE_BYC_LAST_ALL);
					}
					case 1: ShowDialog(playerid, DIALOG_POLICE_BYC_NAME_FIND);
				}
			}
			return 1;
		}
		case DIALOG_POLICE_BYC_NAME_FIND:
		{
			if(response)
			{
				new name[24];
				if(sscanf(inputtext, "s[24]", name)) return ShowDialog(playerid, dialogid);

				inline OnDialogQueryLoad()
				{
					new rows;
					if(cache_get_row_count(rows))
					{
						if(rows)
						{
							cache_get_value_index_int(0, 0, PLAYER_TEMP[playerid][pt_SELECTED_BYC_USER_ID]);
							PLAYER_TEMP[playerid][pt_DIALOG_DB_LIMIT] = 10;
							PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] = 0;
							ShowDialog(playerid, DIALOG_POLICE_BYC_LAST_PLAYER);
						}
						else ShowPlayerMessage(playerid, "No se ha encontrado a esa persona.", 2);
					}
				}
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT id FROM player WHERE name = '%e';", name);
				mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnDialogQueryLoad);
			}
			return 1;
		}
		case DIALOG_POLICE_BYC_LAST_ALL:
		{
			if(response)
			{
				if(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] == -1) return 1;
				else if(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] == -2) // Siguiente
				{
					inline OnCountQueryLoad()
					{
						new rows;
						if(cache_get_row_count(rows))
						{
							if(rows)
							{
								new count, pages;
								cache_get_value_index_int(0, 0, count);
								pages = GetDatabasePages(count, PLAYER_TEMP[playerid][pt_DIALOG_DB_LIMIT]);

								if(PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] >= pages - 1) PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] = 0;
								else PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] ++;
								ShowDialog(playerid, dialogid);
							}
						}
					}
					mysql_tquery_inline(srp_db, "SELECT COUNT(id) FROM police_history;", using inline OnCountQueryLoad);
				}
				else if(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] == -3) //Anterior
				{
					inline OnCountQueryLoad()
					{
						new rows;
						if(cache_get_row_count(rows))
						{
							if(rows)
							{
								new count, pages;
								cache_get_value_index_int(0, 0, count);
								pages = GetDatabasePages(count, PLAYER_TEMP[playerid][pt_DIALOG_DB_LIMIT]);

								if(PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] <= 0) PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] = pages - 1;
								else PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] --;
								ShowDialog(playerid, dialogid);
							}
						}
					}
					mysql_tquery_inline(srp_db, "SELECT COUNT(id) FROM police_history;", using inline OnCountQueryLoad);
				}
				else
				{
					PLAYER_TEMP[playerid][pt_SELECTED_BYC_ID] = PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem];
					ShowDialog(playerid, DIALOG_POLICE_DELETE_BYC);
				}
			}
			return 1;
		}
		case DIALOG_POLICE_BYC_LAST_PLAYER:
		{
			if(response)
			{
				if(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] == -1) return 1;
				else if(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] == -2) // Siguiente
				{
					inline OnCountQueryLoad()
					{
						new rows;
						if(cache_get_row_count(rows))
						{
							if(rows)
							{
								new count, pages;
								cache_get_value_index_int(0, 0, count);
								pages = GetDatabasePages(count, PLAYER_TEMP[playerid][pt_DIALOG_DB_LIMIT]);

								if(PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] >= pages - 1) PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] = 0;
								else PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] ++;
								ShowDialog(playerid, dialogid);
							}
						}
					}
					mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT COUNT(id) FROM police_history WHERE id_player = %d;", PLAYER_TEMP[playerid][pt_SELECTED_BYC_USER_ID]);
					mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnCountQueryLoad);
				}
				else if(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] == -3) //Anterior
				{
					inline OnCountQueryLoad()
					{
						new rows;
						if(cache_get_row_count(rows))
						{
							if(rows)
							{
								new count, pages;
								cache_get_value_index_int(0, 0, count);
								pages = GetDatabasePages(count, PLAYER_TEMP[playerid][pt_DIALOG_DB_LIMIT]);

								if(PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] <= 0) PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] = pages - 1;
								else PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] --;
								ShowDialog(playerid, dialogid);
							}
						}
					}
					mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT COUNT(id) FROM police_history WHERE id_player = %d;", PLAYER_TEMP[playerid][pt_SELECTED_BYC_USER_ID]);
					mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnCountQueryLoad);
				}
				else
				{
					PLAYER_TEMP[playerid][pt_SELECTED_BYC_ID] = PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem];
					ShowDialog(playerid, DIALOG_POLICE_DELETE_BYC);
				}
			}
			return 1;
		}
		case DIALOG_POLICE_DELETE_BYC:
		{
			if(response)
			{
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "DELETE FROM police_history WHERE id = %d;", PLAYER_TEMP[playerid][pt_SELECTED_BYC_ID]);
				mysql_tquery(srp_db, QUERY_BUFFER);
				ShowPlayerMessage(playerid, "Registro borrado del historial policial.", 2);
			}
			return 1;
		}
		case DIALOG_CHANGE_NAME:
		{
			if(response)
			{
				if(!strlen(inputtext)) return ShowDialog(playerid, dialogid);

				new password[64 + 1];
				SHA256_PassHash(inputtext, PI[playerid][pi_SALT], password, sizeof password);

				if(!strcmp(password, PI[playerid][pi_PASS], false))
				{
					ShowDialog(playerid, DIALOG_CHANGE_NAME_NAME);
					PLAYER_TEMP[playerid][pt_BAD_LOGIN_ATTEMP] = 0;
				}
				else // Error
				{
					PLAYER_TEMP[playerid][pt_BAD_LOGIN_ATTEMP] ++;
					if(PLAYER_TEMP[playerid][pt_BAD_LOGIN_ATTEMP] > MAX_BAD_LOGIN_ATTEMPS) return Kick(playerid);
					SendFormatNotification(playerid, "Contraseña incorrecta, aviso %d/%d.", PLAYER_TEMP[playerid][pt_BAD_LOGIN_ATTEMP], MAX_BAD_LOGIN_ATTEMPS);
				}
			}
			return 1;
		}
		case DIALOG_CHANGE_NAME_NAME:
		{
			if(response)
			{
				new length = strlen(inputtext);
				if(length < 3 || length > 20) return ShowDialog(playerid, dialogid);
				new name[24];
				format(name, 24, "%s", inputtext);
				if(!IsValidRPName(name)) return SendFormatNotification(playerid, "El nombre '%s' no cumple con el formato Nombre_Apellido.", name);

				inline OnDialogQueryLoad(newName[])
				{
					new rows;
					if(cache_get_row_count(rows))
					{
						if(rows) SendFormatNotification(playerid, "El nombre '%s' esta en uso.", newName);
						else
						{
							printf("/cname: %d, '%s'", PI[playerid][pi_ID], newName);
							if(SetPlayerName(playerid, newName) == 1) {
								format(PLAYER_TEMP[playerid][pt_NAME], 24, "%s", newName);
								format(PI[playerid][pi_NAME], 24, "%s", newName);
								PLAYER_TEMP[playerid][pt_RP_NAME] = RP_GetPlayerName(playerid);

								for(new i = 0; i != MAX_PROPERTIES; i ++)
								{
									if(!PROPERTY_INFO[i][property_VALID]) continue;
									if(PROPERTY_INFO[i][property_OWNER_ID] != PI[playerid][pi_ID]) continue;

									new label_str[256], name_house[24];
									if(PROPERTY_INFO[ i ][property_EXTRA1] == 0) name_house = "Casa";
									if(PROPERTY_INFO[ i ][property_EXTRA1] == 2) name_house = "Garaje";
									if(PROPERTY_INFO[ i ][property_EXTRA1] == 4) name_house = "Negocio";
									format
									(
										label_str,
										sizeof label_str,
										"\
										{00FF00}{FFFFFF}Dirección: {00FF00}[ %d ]\n\
										{00FF00}{FFFFFF}Dueño: {00FF00} [ %s ]\n\
										{00FF00}{FFFFFF}Tipo: {00FF00} [ %s ]\n\
										{00FF00}{FFFFFF}Presiona {00FF00}[ ~k~~CONVERSATION_YES~ ] {FFFFFF}o usa {FFFF00}/entrar{FFFFFF}.\
										",PROPERTY_INFO[i][property_ID], PI[playerid][pi_NAME], name_house
									);
									UpdateDynamic3DTextLabelText(PROPERTY_INFO[i][property_EXT_LABEL_ID], 0xFFFFFFFF, label_str);
								}

								PI[playerid][pi_COINS] -= CHANGE_NAME_SD_PRICE;

								mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET name = '%e', coins = %d WHERE id = %d;", PI[playerid][pi_NAME], PI[playerid][pi_COINS], PI[playerid][pi_ID]);
								printf(QUERY_BUFFER);
								mysql_tquery(srp_db, QUERY_BUFFER);
								SendFormatNotification(playerid, "Tu nombre ha sido cambiado a '%s' por %d "SERVER_COIN"", name, CHANGE_NAME_SD_PRICE);
							}
							else ShowPlayerMessage(playerid, "No se ha podido cambiar tu nombre.", 2);
						}
					}
				}
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT id FROM player WHERE name = '%e';", name);
				mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnDialogQueryLoad, "s", name);
			}
			return 1;
		}
		case DIALOG_CHANGE_EMAIL:
		{
			if(response)
			{
				if(!strlen(inputtext)) return ShowDialog(playerid, dialogid);

				new password[64 + 1];
				SHA256_PassHash(inputtext, PI[playerid][pi_SALT], password, sizeof password);

				if(!strcmp(password, PI[playerid][pi_PASS], false))
				{
					ShowDialog(playerid, DIALOG_CHANGE_EMAIL_EMAIL);
					PLAYER_TEMP[playerid][pt_BAD_LOGIN_ATTEMP] = 0;
				}
				else // Error
				{
					PLAYER_TEMP[playerid][pt_BAD_LOGIN_ATTEMP] ++;
					if(PLAYER_TEMP[playerid][pt_BAD_LOGIN_ATTEMP] > MAX_BAD_LOGIN_ATTEMPS) return Kick(playerid);
					SendFormatNotification(playerid, "Contraseña incorrecta, aviso %d/%d.", PLAYER_TEMP[playerid][pt_BAD_LOGIN_ATTEMP], MAX_BAD_LOGIN_ATTEMPS);
				}
			}
			return 1;
		}
		case DIALOG_CHANGE_EMAIL_EMAIL:
		{
			if(response)
			{
				new length = strlen(inputtext);
				if(length > 32) return ShowDialog(playerid, dialogid);

				new email[32];
				format(email, 32, "%s", inputtext);
				if(!IsValidEmail(email)) return ShowPlayerMessage(playerid, "Correo no valido.", 2);

				inline OnDialogQueryLoad(newEmail[])
				{
					new rows;
					if(cache_get_row_count(rows))
					{
						if(rows) ShowPlayerMessage(playerid, "El correo electrónico introducido esta en uso.", 2);
						else
						{
							format(PI[playerid][pi_EMAIL], 32, "%s", newEmail);

							mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET email = '%e' WHERE id = %d;", PI[playerid][pi_EMAIL], PI[playerid][pi_ID]);
							mysql_tquery(srp_db, QUERY_BUFFER);
							ShowPlayerMessage(playerid, "Tu correo electrónico ha sido cambiado correctamente.", 2);
						}
					}
				}
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT id FROM player WHERE email = '%e';", email);
				mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnDialogQueryLoad, "s", email);
			}
			return 1;
		}
		case DIALOG_PROPERTY_CLOSET:
		{
			if(response)
			{
				if(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] == -1) return 1;
				if(PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem] == MAX_CLOSET_SLOTS + 20)
				{
				    PC_EmulateCommand(playerid, "/bolsillo");
					return 1;
				}
				    PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY_SLOT] = PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem];
		    		new string[254];
					ActualizarManos(playerid);
				    new Bol = PROPERTY_CLOSET[ PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY] ][ PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY_SLOT] ][property_closet_INT];
					new Cant = PROPERTY_CLOSET[ PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY] ][ PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY_SLOT] ][property_closet_INT_EXTRA];
					new player_slot = GetEmptyInvSlot(playerid);
					if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
					PI[playerid][pi_BOL][player_slot] = Bol;
                    PI[playerid][pi_BOL_CANT][player_slot] = Cant;
                    format(string, sizeof string, "saca un(a) %s.", ObjetoInfo[Bol][NombreObjeto]); 
                    mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "DELETE FROM property_closet WHERE id = %d;", PROPERTY_CLOSET[ PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY] ][ PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY_SLOT] ][property_closet_OBJECT_ID]);
					mysql_tquery(srp_db, QUERY_BUFFER);

					new tmp_PROPERTY_CLOSET[enum_PROPERTY_CLOSET];
					PROPERTY_CLOSET[ PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY] ][ PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY_SLOT] ] = tmp_PROPERTY_CLOSET;
					Auto_SendPlayerAction(playerid, string);

				PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY_SLOT] = PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem];
				//ShowDialog(playerid, DIALOG_PROPERTY_CLOSET_OPTIONS);
			}
			return 1;
		}
		case DIALOG_PROPERTY_CLOSET_DLT_ALL:
		{
			if(response)
			{
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "DELETE FROM property_closet WHERE id_property = %d;", PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY] ][property_ID]);
				mysql_tquery(srp_db, QUERY_BUFFER);

				new tmp_PROPERTY_CLOSET[enum_PROPERTY_CLOSET];
				for(new i = 0; i != MAX_CLOSET_SLOTS; i ++) PROPERTY_CLOSET[ PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY] ][i] = tmp_PROPERTY_CLOSET;

				ShowPlayerMessage(playerid, "Ha eliminado todo de este armario.", 2);
				Auto_SendPlayerAction(playerid, "tira todas las armas de su armario");
			}
			return 1;
		}
		case DIALOG_PROPERTY_CLOSET_OPTIONS:
		{
			if(response)
			{
				switch(listitem)
				{
					case 0:
					{
						if(!PROPERTY_CLOSET[ PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY] ][ PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY_SLOT] ][property_closet_VALID]) return SendNotification(playerid, "No hay nada en ese slot.");
                        new string[254];
						switch(PROPERTY_CLOSET[ PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY] ][ PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY_SLOT] ][property_closet_TYPE]) {
							case BOOT_TYPE_OBJECT:
							{
							    ActualizarManos(playerid);
							    new Bol = PROPERTY_CLOSET[ PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY] ][ PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY_SLOT] ][property_closet_INT];
								new Cant = PROPERTY_CLOSET[ PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY] ][ PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY_SLOT] ][property_closet_INT_EXTRA];
								new player_slot = GetEmptyInvSlot(playerid);
								if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
								PI[playerid][pi_BOL][player_slot] = Bol;
                                PI[playerid][pi_BOL_CANT][player_slot] = Cant;
                                format(string, sizeof string, "saca un(a) %s.", ObjetoInfo[Bol][NombreObjeto]);
							}
						}

						mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "DELETE FROM property_closet WHERE id = %d;", PROPERTY_CLOSET[ PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY] ][ PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY_SLOT] ][property_closet_OBJECT_ID]);
						mysql_tquery(srp_db, QUERY_BUFFER);

						new tmp_PROPERTY_CLOSET[enum_PROPERTY_CLOSET];
						PROPERTY_CLOSET[ PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY] ][ PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY_SLOT] ] = tmp_PROPERTY_CLOSET;
						Auto_SendPlayerAction(playerid, string);
					}
					case 1: ShowDialog(playerid, DIALOG_PROPERTY_CLOSET_DELETE);
				}
			}
			else ShowDialog(playerid, DIALOG_PROPERTY_CLOSET);
			return 1;
		}
		case DIALOG_PROPERTY_CLOSET_DELETE:
		{
			if(response)
			{
				ShowPlayerMessage(playerid, "Eliminado.", 2);

				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "DELETE FROM property_closet WHERE id = %d;", PROPERTY_CLOSET[ PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY] ][ PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY_SLOT] ][property_closet_OBJECT_ID]);
				mysql_tquery(srp_db, QUERY_BUFFER);

				new tmp_PROPERTY_CLOSET[enum_PROPERTY_CLOSET];
				PROPERTY_CLOSET[ PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY] ][ PLAYER_TEMP[playerid][pt_DIALOG_CLOSET_PROPERTY_SLOT] ] = tmp_PROPERTY_CLOSET;
			}
			else ShowDialog(playerid, DIALOG_PROPERTY_CLOSET_OPTIONS);
			return 1;
		}

		case DIALOG_ACENTOS:
		{
			if(response)
			{
				switch(listitem)
				{
					case 0: Acento[playerid] = 0;
					case 1: Acento[playerid] = 1;
					case 2: Acento[playerid] = 2;
					case 3: Acento[playerid] = 3;
					case 4: Acento[playerid] = 4;
					case 5: Acento[playerid] = 5;
					case 6: Acento[playerid] = 6;
					case 7: Acento[playerid] = 7;
					case 8: Acento[playerid] = 8;
					case 9: Acento[playerid] = 9;
					case 10: Acento[playerid] = 10;
					case 11: Acento[playerid] = 11;
					case 12: Acento[playerid] = 12;
					case 13: Acento[playerid] = 13;
					case 14: Acento[playerid] = 14;
					case 15: Acento[playerid] = 15;
					case 16: Acento[playerid] = 16;
					case 17: Acento[playerid] = 17;
					case 18: Acento[playerid] = 18;
					case 19: Acento[playerid] = 19;
					case 20: Acento[playerid] = 20;
					case 21: Acento[playerid] = 21;
					case 22: Acento[playerid] = 22;
					case 23: Acento[playerid] = 23;
					case 24: Acento[playerid] = 24;
					case 25: Acento[playerid] = 25;
				}
				CheckAcento(playerid);
			}
		}
	}
	return 0;
}

Dialog:PoliceSpawnVehicResponse(playerid, response, listitem, inputtext[]) {
	if (response) {
		new index = PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem], Float:pos[2];
		if (index == -1) return 0;

		if (pVehicle_Spawn[index][vRank] > PLAYER_WORKS[playerid][WORK_POLICE][pwork_LEVEL]) return 0;

		PLAYER_TEMP[playerid][pt_WORK_VEHICLE_ID] = INVALID_VEHICLE_ID;

		pos[0] = 1587.9720;
		pos[0] += (8.0 * floatsin(-360.0, degrees));
		pos[1] = -1636.9628;
		pos[1] += (8.0 * floatcos(-360.0, degrees));

		new vehicle_id = CreateVehicle(
			pVehicle_Spawn[index][vModel], pos[0], pos[1], 13.3828, 360.0, pVehicle_Spawn[index][vColor1], 
			pVehicle_Spawn[index][vColor2], -1, false
		);

		GLOBAL_VEHICLES[vehicle_id][gb_vehicle_VALID] = true;
		GLOBAL_VEHICLES[vehicle_id][gb_vehicle_TYPE] = VEHICLE_TYPE_WORK;
		GLOBAL_VEHICLES[vehicle_id][gb_vehicle_MODELID] = pVehicle_Spawn[index][vModel];
		format(GLOBAL_VEHICLES[vehicle_id][gb_vehicle_NUMBER_PLATE], 32, "{%06x}SA{F5F5F5}%d", VEHICLE_COLORS[ pVehicle_Spawn[index][vColor2] ] >>> 8, vehicle_id);
		GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_X] = pos[0];
		GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_Y] = pos[1];
		GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_Z] = 13.3828;
		GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_ANGLE] = 360.0;
		
		GLOBAL_VEHICLES[vehicle_id][gb_vehicle_POS][0] = GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_X];
		GLOBAL_VEHICLES[vehicle_id][gb_vehicle_POS][1] = GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_Y];
		GLOBAL_VEHICLES[vehicle_id][gb_vehicle_POS][2] = GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_Z];
		
		GLOBAL_VEHICLES[vehicle_id][gb_vehicle_HEALTH] = 1000.0;
		GLOBAL_VEHICLES[vehicle_id][gb_vehicle_DAMAGE_PANELS] = 0;
		GLOBAL_VEHICLES[vehicle_id][gb_vehicle_DAMAGE_DOORS] = 0;
		GLOBAL_VEHICLES[vehicle_id][gb_vehicle_DAMAGE_LIGHTS] = 0;
		GLOBAL_VEHICLES[vehicle_id][gb_vehicle_DAMAGE_TIRES] = 0;
		GLOBAL_VEHICLES[vehicle_id][gb_vehicle_COLOR_1] = pVehicle_Spawn[index][vColor1];
		GLOBAL_VEHICLES[vehicle_id][gb_vehicle_COLOR_2] = pVehicle_Spawn[index][vColor2];
		GLOBAL_VEHICLES[vehicle_id][gb_vehicle_PAINTJOB] = 3; // No paintjob
		GLOBAL_VEHICLES[vehicle_id][gb_vehicle_MAX_GAS] = VEHICLE_INFO[ GLOBAL_VEHICLES[vehicle_id][gb_vehicle_MODELID] - 400 ][vehicle_info_MAX_GAS];
		GLOBAL_VEHICLES[vehicle_id][gb_vehicle_GAS] = GLOBAL_VEHICLES[vehicle_id][gb_vehicle_MAX_GAS];
		GLOBAL_VEHICLES[vehicle_id][gb_vehicle_STATE] = VEHICLE_STATE_NORMAL;
		GLOBAL_VEHICLES[vehicle_id][gb_vehicle_INTERIOR] = 0;
		GLOBAL_VEHICLES[vehicle_id][gb_vehicle_WORLD] = 0;
		GLOBAL_VEHICLES[vehicle_id][gb_vehicle_TEMP] = true;

		WORK_VEHICLES[vehicle_id][work_vehicle_VALID] = true;
		WORK_VEHICLES[vehicle_id][work_vehicle_WORK] = WORK_POLICE;
		WORK_VEHICLES[vehicle_id][work_vehicle_EXP] = pVehicle_Spawn[index][vRank];
		WORK_VEHICLES[vehicle_id][work_vehicle_NEED_DUTY] = work_info[ WORK_VEHICLES[vehicle_id][work_vehicle_WORK] ][work_info_NEED_DUTY];

		SetVehicleVirtualWorldEx(vehicle_id, 0);
		SetVehicleToRespawnEx(vehicle_id);

		PutPlayerInVehicleEx(playerid, vehicle_id, 0);

		PLAYER_TEMP[playerid][pt_WORK_VEHICLE_ID] = vehicle_id;
		PLAYER_TEMP[playerid][pt_WORK_VEHICLE_SPAWN_TIMER] = gettime() + 15;
	}
	return 1;
}


CheckAcento(playerid)
{
	if(PI[playerid][pi_ID] == 0) return 0;

	inline CheckRegAcento()
	{
		new rows;
		if(cache_get_row_count(rows))
		{
			if(rows)
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE acentos SET `id_acento`='%i' WHERE `id_player`='%i'", Acento[playerid], PI[playerid][pi_ID]);
			else
			{
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "INSERT INTO acentos (id_player, id_acento) VALUES (%d, %d);", PI[playerid][pi_ID], Acento[playerid]);
				mysql_tquery(srp_db, QUERY_BUFFER);
			}
		}
	}
	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT * FROM acentos WHERE id_player = '%d';", PI[playerid][pi_ID]);
	mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline CheckRegAcento);
	return 1;
}

LoadPlayerAcento(playerid)
{
	if(PI[playerid][pi_ID] == 0) return 0;

	inline OnPlayerAcento()
	{
		new row;
		if(cache_get_row_count(row))
			if(row)
				cache_get_value_name_int(0, "id_acento", Acento[playerid]);
	}
	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT * FROM acentos WHERE id_player = '%d';", PI[playerid][pi_ID]);
	mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnPlayerAcento);
	return 1;
}

GetEmptyPlayer_GPS_Slot(playerid)
{
	for (new i = 0; i != MAX_PLAYER_GPS_SAVES; i ++)
	{
		if (!PLAYER_GPS[playerid][i][player_gps_VALID]) return i;
	}
	return -1;
}

GetDatabasePages(count, limit)
{
	return floatround(floatdiv(count, limit), floatround_ceil);
}

// Nuevo forward con nombre único
forward CargaDeNegocioFinalizada(playerid);
public CargaDeNegocioFinalizada(playerid)
{
    TogglePlayerControllable(playerid, 1); // Liberamos al jugador
    CargandoMercancia[playerid] = true;    // Estado: Ya tiene la carga encima
    
    new negid = EnRutaSuministros[playerid];
    
    // Marcamos el checkpoint de regreso a SU negocio
    SetPlayerCheckpoint(playerid, NI[negid][n_EntradaX], NI[negid][n_EntradaY], NI[negid][n_EntradaZ], 5.0);
    
    ShowPlayerMessage(playerid, "Lleva los suministros de regreso a tu negocio.");
    return 1;
}


forward FinalizarCargaBomberos(playerid);
public FinalizarCargaBomberos(playerid)
{
    TogglePlayerControllable(playerid, true);
    GameTextForPlayer(playerid, "~b~Tanque Lleno", 2000, 1);
    GenerarSiguienteIncendio(playerid); // Llama al primer incendio
    return 1;
}


forward ActualizarTextDraw(playerid);
public ActualizarTextDraw(playerid){
    TextDrawHideForPlayer(playerid,BoxMisiones);
    TextDrawHideForPlayer(playerid,MisionCo);
    TextDrawHideForPlayer(playerid,MisionRe);
    return 1;
}

public FinalizarCarga(playerid, empresaid)
{
    Cargando[playerid] = false;
    TogglePlayerControllable(playerid, true);
    GameTextForPlayer(playerid, "~p~Cargado!", 2000, 1);
    
    // --- LÓGICA DE REGRESO ---
    // Al cargar, nos aseguramos que la ruta de regreso esté desactivada
    RutaFinalTransporte[playerid] = false; 
    // -------------------------

    // Si la empresa es de tipo 2 (Madera/Troncos), ponemos los objetos visuales
    if(TipoTrabajo[playerid] == 2)
    {
        new vid = VehiculoTrabajo[playerid];
        Transportistas[playerid][Objeto1] = CreateDynamicObject(758, 0, 0, -1000, 0, 0, 0);
        Transportistas[playerid][Objeto2] = CreateDynamicObject(758, 0, 0, -1000, 0, 0, 0);
        
        AttachDynamicObjectToVehicle(Transportistas[playerid][Objeto1], vid, 0.6750, -0.1500, -0.3000, -2.7000, 2.7000, -24.3000);
        AttachDynamicObjectToVehicle(Transportistas[playerid][Objeto2], vid, 0.7500, -3.7500, -0.3000, -2.7000, 2.7000, -24.3000);
    }
    
    // Activar checkpoint (Lógica que ya tenías)
    if(TipoTrabajo[playerid] == 1) 
    {
        SetPlayerCheckpoint(playerid, Rutas247[RutaAsignada[playerid]][0], Rutas247[RutaAsignada[playerid]][1], Rutas247[RutaAsignada[playerid]][2], 5.0);
        ShowPlayerMessage(playerid, "Furgoneta de mercancía cargado. Ve al punto de entrega.");
    }
    else 
    {
        SetPlayerCheckpoint(playerid, RutasDesierto[RutaAsignada[playerid]][0], RutasDesierto[RutaAsignada[playerid]][1], RutasDesierto[RutaAsignada[playerid]][2], 8.0);
        ShowPlayerMessage(playerid, "Los troncos han sido cargados. Llévalos al aserradero.");
    }
    
    return 1;
}


stock ResetTrabajo(playerid)
{
    // 1. Limpieza de Objetos de Transportistas (Troncos/Cajas)
    if(IsValidDynamicObject(Transportistas[playerid][Objeto1])) DestroyDynamicObject(Transportistas[playerid][Objeto1]);
    if(IsValidDynamicObject(Transportistas[playerid][Objeto2])) DestroyDynamicObject(Transportistas[playerid][Objeto2]);
    
    Transportistas[playerid][Objeto1] = INVALID_OBJECT_ID;
    Transportistas[playerid][Objeto2] = INVALID_OBJECT_ID;

    // 2. Limpieza de Objetos de Bomberos (Los 4 fuegos)
    for(new f = 0; f < 4; f++) 
    {
        if(IsValidDynamicObject(ObjetoFuego[playerid][f])) 
        {
            DestroyDynamicObject(ObjetoFuego[playerid][f]);
        }
        ObjetoFuego[playerid][f] = INVALID_OBJECT_ID; // Siempre resetear a un valor nulo
    }

    // 3. Borrado del vehiculo de Trabajo
    if(VehiculoTrabajo[playerid] != 0) 
    {
        new vid = VehiculoTrabajo[playerid];
        GLOBAL_VEHICLES[vid][gb_vehicle_VALID] = false; 
        DestroyVehicle(vid);
        VehiculoTrabajo[playerid] = 0;
    }

    // 4. Reset de Estados y Checkpoints
    DisablePlayerCheckpoint(playerid);
    TrabajandoEmpresa[playerid] = 0;
    TipoTrabajo[playerid] = 0; // Importante resetear el tipo de trabajo también
    IncendiosApagados[playerid] = 0; // Resetear contador de bomberos
    Cargando[playerid] = false;

    // 5. Matar Timers activos
    KillTimer(CargaTimer[playerid]);
    KillTimer(CheckFuegoTimer[playerid]);
    
    // Opcional: Asegurarnos que las IDs de los timers queden en un valor inválido
    CargaTimer[playerid] = -1;
    CheckFuegoTimer[playerid] = -1;
    // Dentro de ResetTrabajo(playerid)
    RutaFinalBomberos[playerid] = false;
    RutaFinalTransporte[playerid] = false;
    return 1;
}

forward DetectaDisparo(playerid);
public DetectaDisparo(playerid)
{
	if(PI[playerid][pi_ADMIN_LEVEL] < 4)
	{

	for(new i = 0; i < sizeof PLAYER_WEAPONS[]; i ++)
	{
	if(!PLAYER_WEAPONS[playerid][i][player_weapon_VALID]) continue;

	if(PLAYER_TEMP[playerid][pt_DO] == 0)
	{
	
	new string[150], string2[150];
	new dialog[170];
	format(dialog, sizeof dialog, ""WHITE" Has sido sancionado razon:\n{828282}No rolear entorno\n"WHITE"Recuerda usar {D50000}/rol"WHITE" Antes de disparar");
	ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{D50000}[Admin] {ffffff}  Sancion", dialog, "Entiendo", "");
	format(string, sizeof(string), "{9a8080}[JAIL] "WHITE"%s | {39ff00}[LAN-BOT] "WHITE"| razón: No Rol de entorno. | Minutos:{00c2df}[5:00]",PI[playerid][pi_NAME]);
	format(string2, sizeof(string2), "[JAIL] %s | [LAN-BOT] | razón: No Rol de entorno. | Minutos: [10:00]",PI[playerid][pi_NAME]);
	nr= DCC_FindChannelById("1010230567930966099");
    new DCC_Embed:embed = DCC_CreateEmbed("No Rolear", "", "https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png", "", 129310, "Spain+ RolePlay", "SpainRolePlay", "", "https://media.discordapp.net/attachments/928653343415472168/1006955276840214638/IMG_20220509_134508.png");
    DCC_AddEmbedField(embed, "No Rolear Entorno", string2, true);
    DCC_SendChannelEmbedMessage(nr,embed);
    DCC_SendChannelMessage(nr, string2);
	SendClientMessageToAll(-1, string);
	JailPlayer(playerid, 880);


	}
	}
	}
	return 1;
}

SetPlayer_GPS_Checkpoint(playerid, Float:x, Float:y, Float:z, world, interior)
{
	if(IsValidDynamicCP(PLAYER_TEMP[playerid][pt_GPS_CHECKPOINT]))
	{
		DestroyDynamicCP(PLAYER_TEMP[playerid][pt_GPS_CHECKPOINT]);
		//CancelTracing(playerid);
		PLAYER_TEMP[playerid][pt_GPS_CHECKPOINT] = INVALID_STREAMER_ID;
	}
	PLAYER_TEMP[playerid][pt_GPS_CHECKPOINT] = CreateDynamicCP(x, y, z, 5.0, world, interior, playerid, 9999999999.0);
	//StartTracing(playerid, x, y, z);
	//MarkRoute(playerid, 0xFF0000FF, x, y, z);

	new info[1];
	info[0] = CHECKPOINT_TYPE_GPS;
	Streamer_SetArrayData(STREAMER_TYPE_CP, PLAYER_TEMP[playerid][pt_GPS_CHECKPOINT], E_STREAMER_EXTRA_ID, info);
	Streamer_Update(playerid, STREAMER_TYPE_CP);

	if(GetPlayerState(playerid) == PLAYER_STATE_PASSENGER)
	{
		new vehicleid = GetPlayerVehicleID(playerid);
		if(WORK_VEHICLES[vehicleid][work_vehicle_VALID])
		{
			if(WORK_VEHICLES[vehicleid][work_vehicle_WORK] == WORK_TAXI)
			{
				if(TAXI_METER_VEHICLE[vehicleid][veh_taxi_meter_ENABLED])
				{
					if(IsPlayerConnected(GLOBAL_VEHICLES[vehicleid][gb_vehicle_DRIVER]))
					{
						if(IsValidDynamicCP(PLAYER_TEMP[ GLOBAL_VEHICLES[vehicleid][gb_vehicle_DRIVER] ][pt_GPS_CHECKPOINT]))
						{
							DestroyDynamicCP(PLAYER_TEMP[ GLOBAL_VEHICLES[vehicleid][gb_vehicle_DRIVER] ][pt_GPS_CHECKPOINT]);
							PLAYER_TEMP[ GLOBAL_VEHICLES[vehicleid][gb_vehicle_DRIVER] ][pt_GPS_CHECKPOINT] = INVALID_STREAMER_ID;
							//RemoveRoute(GLOBAL_VEHICLES[vehicleid][gb_vehicle_DRIVER]);
							//RemoveRoute(playerid);
						}
						PLAYER_TEMP[ GLOBAL_VEHICLES[vehicleid][gb_vehicle_DRIVER] ][pt_GPS_CHECKPOINT] = CreateDynamicCP(x, y, z, 5.0, world, interior, GLOBAL_VEHICLES[vehicleid][gb_vehicle_DRIVER], 9999999999.0);
						//MarkRoute(GLOBAL_VEHICLES[vehicleid][gb_vehicle_DRIVER], 0xFF0000FF, x, y, z);

						new taxi_info[1];
						taxi_info[0] = CHECKPOINT_TYPE_GPS;
						Streamer_SetArrayData(STREAMER_TYPE_CP, PLAYER_TEMP[ GLOBAL_VEHICLES[vehicleid][gb_vehicle_DRIVER] ][pt_GPS_CHECKPOINT], E_STREAMER_EXTRA_ID, taxi_info);

						Streamer_Update(GLOBAL_VEHICLES[vehicleid][gb_vehicle_DRIVER], STREAMER_TYPE_CP);
						Auto_SendPlayerAction(playerid, "configura su GPS y se lo muestra al taxista.");
						return 1;
					}
				}
			}
		}
	}

	Auto_SendPlayerAction(playerid, "configura su GPS.");
	return 1;
}

public OnPlayerEnterDynamicArea(playerid, areaid)
{
    if(areaid == Area_TallerMotor[0] || areaid == Area_TallerMotor[1])
    {
        if(IsPlayerInAnyVehicle(playerid) && GetPlayerState(playerid) == PLAYER_STATE_DRIVER)
        {
            // Abrimos el menú que ya tienes programado
            AbrirMenuMejoras(playerid);
            Auto_SendPlayerAction(playerid, "escucha un parlante");
        }
        return 1;
    }
    
    for(new i = 0; i < MAX_PLAYERS; i++)
    {
        if(JBLInfo[i][jbl_COLOCADA] && areaid == JBLInfo[i][jbl_AREA])
        {
            // El jugador entró al rango: ¡PONER MÚSICA!
            PlayAudioStreamForPlayer(playerid, JBLInfo[i][jbl_URL], JBLInfo[i][jbl_X], JBLInfo[i][jbl_Y], JBLInfo[i][jbl_Z], MAX_JBL_DISTANCE, 1);
            return 1;
        }
    }
    
	PLAYER_TEMP[playerid][pt_LAST_AREA_ID] = areaid;

	new info[2];
	Streamer_GetArrayData(STREAMER_TYPE_AREA, areaid, E_STREAMER_EXTRA_ID, info);
	switch(info[0])
	{
		case AREA_TYPE_GANGZONE:
		{
			new index = info[1];

			if(TERRITORIES[index][territory_VALID])
			{
				PLAYER_TEMP[playerid][pt_LAST_TERRITORY] = index;
				if(PI[playerid][pi_CREW])
				{

				    if(PI[playerid][pi_CREW] != TERRITORIES[index][territory_CREW_INDEX] && !TERRITORIES[index][territory_WAR])
					{
                        new string[150];
						format(string,sizeof(string), "Territorio: %s de %s~n~~y~/conquistar o disparar~w~~n~para conquistar.", TERRITORIES[index][territory_NAME], CREW_INFO[TERRITORIES[index][territory_CREW_INDEX]][crew_NAME]);
						SendNotification(playerid, string);
					}

					if(TERRITORIES[index][territory_WAR])
					{
						SendFormatNotification(playerid, "Este territorio está siendo atacado por la banda ~r~'%s'~w~.",CREW_INFO[ TERRITORIES[index][territory_ATTACKER_CREW_INDEX] ][crew_NAME]);

						new r, g, b, a;
						HexToRGBA(CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_COLOR], r, g, b, a);
						SetPlayerColorEx(playerid, RGBAToHex(r, g, b, 0));
						
						TextDrawShowForPlayer(playerid, TERRITORIES[index][territory_TEXTDRAW][1]);
						TextDrawShowForPlayer(playerid, TERRITORIES[index][territory_TEXTDRAW][0]);
					}
				}
			}
		}
	}

	return 1;
}

public OnPlayerLeaveDynamicArea(playerid, areaid)
{
	new info[2];
	Streamer_GetArrayData(STREAMER_TYPE_AREA, areaid, E_STREAMER_EXTRA_ID, info);
	
	for(new i = 0; i < MAX_PLAYERS; i++)
    {
        if(JBLInfo[i][jbl_COLOCADA] && areaid == JBLInfo[i][jbl_AREA])
        {
            // El jugador salió del rango: ¡QUITAR MÚSICA!
            StopAudioStreamForPlayer(playerid);
            Auto_SendPlayerAction(playerid, "deja de escuchar un parlante");
            return 1;
        }
    }
    
	switch(info[0])
	{
		case AREA_TYPE_NONE:
		{
			if(areaid == Lumberjack_Area)
			{
				if(PLAYER_TEMP[playerid][pt_WORKING_IN] == WORK_LUMBERJACK)
				{
					ShowPlayerMessage(playerid, "Has abandonado el trabajo de leñador porque te has alejado demasiado de la zona.", 2);
					CallLocalFunction("EndPlayerJob", "iib", playerid, PLAYER_TEMP[playerid][pt_WORKING_IN], true);
				}
			}
			else if(areaid == Farmer_Area)
			{
				if(PLAYER_TEMP[playerid][pt_WORKING_IN] == WORK_FARMER) CallLocalFunction("EndPlayerJob", "iib", playerid, PLAYER_TEMP[playerid][pt_WORKING_IN], true);
			}
			else if(areaid == Harvest_Area)
			{
				if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER)
				{
					if(PLAYER_TEMP[playerid][pt_WORKING_IN] == WORK_HARVESTER)
					{
						ShowPlayerMessage(playerid, "Has abandonado tu trabajo de cosechador porque te has alejado demasiado de la zona.", 2);
						CallLocalFunction("EndPlayerJob", "iib", playerid, PLAYER_TEMP[playerid][pt_WORKING_IN], true);
					}
				}
			}

			if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL)
			{
				if(areaid == Jail_Areas[0] || areaid == Jail_Areas[1] || areaid == Jail_Areas[2] || areaid == Jail_Areas[3] )
				{
					SetPlayerPosEx(playerid, JAIL_POSITIONS[ PI[playerid][pi_POLICE_JAIL_ID] ][jail_X], JAIL_POSITIONS[ PI[playerid][pi_POLICE_JAIL_ID]  ][jail_Y], JAIL_POSITIONS[ PI[playerid][pi_POLICE_JAIL_ID]  ][jail_Z], JAIL_POSITIONS[ PI[playerid][pi_POLICE_JAIL_ID]  ][jail_ANGLE], JAIL_POSITIONS[ PI[playerid][pi_POLICE_JAIL_ID]  ][jail_INTERIOR], 0, false);
				}
			}
		}
		case AREA_TYPE_SAFEZONE:
		{
			new index = info[1];

			if(SAFE_ZONES[index][safe_zone_AREA_ID])
			{
			    ShowPlayerMessage(playerid, "~w~Zona ~g~Segura.", 4);
		}	}
		case AREA_TYPE_GANGZONE:
		{
			new index = info[1];

			if(TERRITORIES[index][territory_VALID])
			{
				if (PI[playerid][pi_CREW])
				{
					SetPlayerNormalColor(playerid);
					TextDrawHideForPlayer(playerid, TERRITORIES[index][territory_TEXTDRAW][1]);
					TextDrawHideForPlayer(playerid, TERRITORIES[index][territory_TEXTDRAW][0]);
				}
		}		}
	}
	return 1;
}

public OnPlayerEnterDynamicCP(playerid, checkpointid)
{
	new info[1];
	Streamer_GetArrayData(STREAMER_TYPE_CP, checkpointid, E_STREAMER_EXTRA_ID, info);

	switch(info[0])
	{
		case CHECKPOINT_TYPE_GPS:
		{
			DestroyDynamicCP(PLAYER_TEMP[playerid][pt_GPS_CHECKPOINT]);
			//CancelTracing(playerid);
			PLAYER_TEMP[playerid][pt_GPS_CHECKPOINT] = INVALID_STREAMER_ID;
		}
		case CHECKPOINT_TYPE_UNLOAD_TRUCK:
		{
			if(GetPlayerState(playerid) != PLAYER_STATE_DRIVER) return 1;
			if(!PLAYER_WORKS[playerid][WORK_TRUCK][pwork_SET]) return 1;
			if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_TRUCK) return 1;

			new vehicleid = GetPlayerVehicleID(playerid);
			if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_TYPE] != VEHICLE_TYPE_WORK) return 1;
			if(WORK_VEHICLES[vehicleid][work_vehicle_WORK] != WORK_TRUCK) return 1;
			if(TRUCK_VEHICLE[vehicleid][truck_vehicle_DELIVERED]) return 1;
			if(TRUCK_VEHICLE[vehicleid][truck_vehicle_UNLOADING]) return 1;
			if(TRUCK_VEHICLE[vehicleid][truck_vehicle_DRIVER_USER_ID] != PI[playerid][pi_ID]) return ShowPlayerMessage(playerid, "Solo aceptaremos la carga del conductor de este camión.", 2);

			DestroyDynamicCP(PLAYER_TEMP[playerid][pt_TRUCK_CHECKPOINT]);
			//CancelTracing(playerid);
			PLAYER_TEMP[playerid][pt_TRUCK_CHECKPOINT] = INVALID_STREAMER_ID;

			SetVehicleVelocity(vehicleid, 0.0, 0.0, 0.0);

			GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_ENGINE] = 0;
			UpdateVehicleParams(vehicleid);

			TRUCK_VEHICLE[vehicleid][truck_vehicle_UNLOADING] = true;
			PlayerTextDrawSetString(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][0], "");
			PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][0]);
			PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][1]);
			PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][2]);
			PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][3]);

			PLAYER_TEMP[playerid][pt_TRUCK_LOADING_VALUE] = 40.0;
			KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][7]);
			KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][9]);
			PLAYER_TEMP[playerid][pt_TIMERS][9] = SetTimerEx("TruckUnLoadUp", 1000, false, "ii", playerid, vehicleid);
		}
		case CHECKPOINT_TYPE_FINISH_TRUCK:
		{
			if(GetPlayerState(playerid) != PLAYER_STATE_DRIVER) return 1;
			if(!PLAYER_WORKS[playerid][WORK_TRUCK][pwork_SET]) return 1;
			if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_TRUCK) return 1;

			new vehicleid = GetPlayerVehicleID(playerid);
			if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_TYPE] != VEHICLE_TYPE_WORK) return 1;
			if(WORK_VEHICLES[vehicleid][work_vehicle_WORK] != WORK_TRUCK) return 1;
			if(!TRUCK_VEHICLE[vehicleid][truck_vehicle_DELIVERED]) return 1;
			if(TRUCK_VEHICLE[vehicleid][truck_vehicle_UNLOADING]) return 1;
			if(TRUCK_VEHICLE[vehicleid][truck_vehicle_DRIVER_USER_ID] != PI[playerid][pi_ID]) return ShowPlayerMessage(playerid, "Solo le pagaremos al conductor que entregó la mercancía.", 2);

            //CancelTracing(playerid);
			DestroyDynamicCP(PLAYER_TEMP[playerid][pt_TRUCK_CHECKPOINT]);
			PLAYER_TEMP[playerid][pt_TRUCK_CHECKPOINT] = INVALID_STREAMER_ID;

			SetVehicleVelocity(vehicleid, 0.0, 0.0, 0.0);

			new work_extra_payment;
			if(work_info[WORK_TRUCK][work_info_EXTRA_PAY] > 0 && work_info[WORK_TRUCK][work_info_EXTRA_PAY_EXP] > 0)
			{
				work_extra_payment = (work_info[WORK_TRUCK][work_info_EXTRA_PAY] * floatround(floatdiv(PLAYER_WORKS[playerid][WORK_TRUCK][pwork_LEVEL], work_info[WORK_TRUCK][work_info_EXTRA_PAY_EXP])));
				if(work_info[WORK_TRUCK][work_info_EXTRA_PAY_LIMIT] != 0) if(work_extra_payment > work_info[WORK_TRUCK][work_info_EXTRA_PAY_LIMIT]) work_extra_payment = work_info[WORK_TRUCK][work_info_EXTRA_PAY_LIMIT];

				if(PI[playerid][pi_VIP]) work_extra_payment += SU_WORK_EXTRA_PAY;
			}

			if(GivePlayerCash(playerid, Truck_Contents[ TRUCK_VEHICLE[vehicleid][truck_vehicle_POINT] ][truck_content_MONEY] + work_extra_payment, true, false)) {
				PLAYER_WORKS[playerid][WORK_TRUCK][pwork_LEVEL] ++;
				//AddPlayerJobPoints(playerid, WORK_TRUCK);

				Madera(playerid);
				PLAYER_TEMP[playerid][pt_WORK_VEHICLE_ID] = INVALID_VEHICLE_ID;
				DestroyVehicleEx(vehicleid);
				OtorgarLogro(playerid, 5);
			}
		}
		case CHECKPOINT_TYPE_TRASH:
		{
			if(GetPlayerState(playerid) != PLAYER_STATE_ONFOOT) return 1;
			if(!PLAYER_WORKS[playerid][WORK_TRASH][pwork_SET]) return DestroyPlayerTrashCheckpoint(playerid);
			if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_TRASH) return DestroyPlayerTrashCheckpoint(playerid);
			if(!PLAYER_TEMP[playerid][pt_TRASH_PASSENGER]) return 1;

			new driver = TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_DRIVER_ID];
			SendFormatNotification(driver,"Espera mientras tu compañero recoge la basura.", 2);

			new Float:offset = floatdiv(PLAYER_WORKS[playerid][WORK_TRASH][pwork_LEVEL], 10);
			if(offset > 30.0) offset = 30.0;

			PLAYER_TEMP[playerid][pt_RECYCLE_BIN_VALUE] = 10.0 + offset;
			UpdatePlayerTrashRecycleSize(playerid);
			PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_RECYCLE_TRASH][0]);
			PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_RECYCLE_TRASH][1]);
			PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_RECYCLE_TRASH][2]);

			TogglePlayerControllableEx(playerid, false);
			SetCameraBehindPlayer(playerid);
			ApplyAnimation(playerid, "ROB_BANK", "CAT_Safe_Rob", 4.1, true, false, false, false, 0,1);

			KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][10]);
			PLAYER_TEMP[playerid][pt_TIMERS][10] = SetTimerEx("RecycleUp", 1000, false, "i", playerid);
		}

		case CHECKPOINT_TYPE_FINISH_TRASH:
		{
			if(GetPlayerState(playerid) != PLAYER_STATE_DRIVER) return 1;
			if(!PLAYER_WORKS[playerid][WORK_TRASH][pwork_SET]) return DestroyPlayerTrashCheckpoint(playerid);
			if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_TRASH) return DestroyPlayerTrashCheckpoint(playerid);
			if(!PLAYER_TEMP[playerid][pt_TRASH_DRIVER]) return 1;

			new route = TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_ROUTE];
			new money = TRASH_OBJECTS[route][trash_route_MONEY];

			new driver_work_extra_payment, passenger_work_extra_payment;
			if(work_info[WORK_TRASH][work_info_EXTRA_PAY] > 0 && work_info[WORK_TRASH][work_info_EXTRA_PAY_EXP] > 0)
			{
				driver_work_extra_payment = (work_info[WORK_TRASH][work_info_EXTRA_PAY] * floatround(floatdiv(PLAYER_WORKS[playerid][WORK_TRASH][pwork_LEVEL], work_info[WORK_TRASH][work_info_EXTRA_PAY_EXP])));
				if(work_info[WORK_TRASH][work_info_EXTRA_PAY_LIMIT] != 0) if(driver_work_extra_payment > work_info[WORK_TRASH][work_info_EXTRA_PAY_LIMIT]) driver_work_extra_payment = work_info[WORK_TRASH][work_info_EXTRA_PAY_LIMIT];
				if(PI[playerid][pi_VIP]) driver_work_extra_payment += SU_WORK_EXTRA_PAY;

				passenger_work_extra_payment = (work_info[WORK_TRASH][work_info_EXTRA_PAY] * floatround(floatdiv(PLAYER_WORKS[ TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_PASSENGER_ID] ][WORK_TRASH][pwork_LEVEL], work_info[WORK_TRASH][work_info_EXTRA_PAY_EXP])));
				if(work_info[WORK_TRASH][work_info_EXTRA_PAY_LIMIT] != 0) if(passenger_work_extra_payment > work_info[WORK_TRASH][work_info_EXTRA_PAY_LIMIT]) passenger_work_extra_payment = work_info[WORK_TRASH][work_info_EXTRA_PAY_LIMIT];
				if(PI[ TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_PASSENGER_ID] ][pi_VIP]) passenger_work_extra_payment += SU_WORK_EXTRA_PAY;
			}

			GivePlayerCash(playerid, money + driver_work_extra_payment, true, false);
			SendFormatNotification(playerid, "Trabajo finalizado, has ganado ~g~%s dólares~w~.", number_format_thousand(money + driver_work_extra_payment));
			PLAYER_WORKS[playerid][WORK_TRASH][pwork_LEVEL] ++;
			//AddPlayerJobPoints(playerid, WORK_TRASH);

			GivePlayerCash(TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_PASSENGER_ID], money + passenger_work_extra_payment, true, false);
			SendFormatNotification(TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_PASSENGER_ID], "Trabajo finalizado, has ganado ~g~%s dólares~w~.", number_format_thousand(money + passenger_work_extra_payment));
			PLAYER_WORKS[ TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_PASSENGER_ID] ][WORK_TRASH][pwork_LEVEL] ++;
			//AddPlayerJobPoints(TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_PASSENGER_ID], WORK_TRASH);
            new vehicleid = GetPlayerVehicleID(playerid); 
			CancelTrashWork(playerid, TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_PASSENGER_ID], PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID]);
			PLAYER_TEMP[playerid][pt_WORK_VEHICLE_ID] = INVALID_VEHICLE_ID;
			DestroyVehicleEx(vehicleid);
		}
		case CHECKPOINT_TYPE_LUMBERJACK:
		{
			if(PLAYER_TEMP[playerid][pt_WORKING_IN] == WORK_LUMBERJACK)
			{
				DestroyDynamicCP(PLAYER_TEMP[playerid][pt_LUMBERJACK_CHECKPOINT]);
				PLAYER_TEMP[playerid][pt_LUMBERJACK_CHECKPOINT] = INVALID_STREAMER_ID;

				SetPlayerSpecialAction(playerid, SPECIAL_ACTION_NONE);
				RemovePlayerAttachedObject(playerid, 8);
				PLAYER_TEMP[playerid][pt_PLAYER_CARRYING_TREE] = false;
				ApplyAnimation(playerid, "CARRY", "putdwn05", 4.1, 0, 1, 1, 0, 0, 1);

				new work_extra_payment;
				if(work_info[WORK_LUMBERJACK][work_info_EXTRA_PAY] > 0 && work_info[WORK_LUMBERJACK][work_info_EXTRA_PAY_EXP] > 0)
				{
					work_extra_payment = (work_info[WORK_LUMBERJACK][work_info_EXTRA_PAY] * floatround(floatdiv(PLAYER_WORKS[playerid][WORK_LUMBERJACK][pwork_LEVEL], work_info[WORK_LUMBERJACK][work_info_EXTRA_PAY_EXP])));
					if(work_info[WORK_LUMBERJACK][work_info_EXTRA_PAY_LIMIT] != 0) if(work_extra_payment > work_info[WORK_LUMBERJACK][work_info_EXTRA_PAY_LIMIT]) work_extra_payment = work_info[WORK_LUMBERJACK][work_info_EXTRA_PAY_LIMIT];

					if(PI[playerid][pi_VIP]) work_extra_payment += SU_WORK_EXTRA_PAY;
				}
				PLAYER_WORKS[playerid][WORK_LUMBERJACK][pwork_LEVEL] ++;
				//AddPlayerJobPoints(playerid, WORK_LUMBERJACK);

				new amount = minrand(40, 50) + work_extra_payment;
				GivePlayerCash(playerid, amount, true, false);

				Destor(playerid);
				new tmp[56], _mate = minrand(10, 15);
				format(tmp, sizeof(tmp), "Usted recibe: $%d y %d materiales.", amount, _mate);
				SendNotification(playerid, tmp); 
				
				new checki = 256;
		    	new player_slot = GetEmptyInvSlot(playerid);
                if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos, perdiste materiales.");
		        PI[playerid][pi_BOL][player_slot] = checki;
		        PI[playerid][pi_BOL_CANT][player_slot] = _mate;
			}
			else
			{
				DestroyDynamicCP(PLAYER_TEMP[playerid][pt_LUMBERJACK_CHECKPOINT]);
				PLAYER_TEMP[playerid][pt_LUMBERJACK_CHECKPOINT] = INVALID_STREAMER_ID;
			}
		}
		case CHECKPOINT_TYPE_PIZZA_DEL:
		{
			if(GetPlayerState(playerid) != PLAYER_STATE_ONFOOT) return 1;
			PLAYER_TEMP[playerid][pt_PIZZA_PROCCESS] --;
			PLAYER_TEMP[playerid][pt_DELIVERED_PIZZAS] ++;
			RemovePlayerAttachedObject(playerid, 8);
			SetPlayerSpecialAction(playerid, SPECIAL_ACTION_NONE);
			ApplyDynamicActorAnimation(PLAYER_TEMP[playerid][pt_PIZZA_ACTOR], "FOOD", "EAT_Pizza", 4.1, false, true, true, false, 0);
			ApplyDynamicActorAnimation(PLAYER_TEMP[playerid][pt_PIZZA_ACTOR], "FOOD", "EAT_Pizza", 4.1, false, true, true, false, 0);
			DestroyDynamicCP(PLAYER_TEMP[playerid][pt_PIZZA_CHECKPOINT]);
			PIZZA_VEHICLE[ PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] ][pizza_vehicle_PIZZA_POINT_DELI] = true;
			PLAYER_TEMP[playerid][pt_PIZZA_CHECKPOINT] = INVALID_STREAMER_ID;

			ShowPlayerMessage(playerid, "Genial, vuelve a subir a la moto para continuar.", 2);
		}
		case CHECKPOINT_TYPE_PIZZA_FINISH:
		{
			if(GetPlayerState(playerid) != PLAYER_STATE_DRIVER) return 1;

			new vehicleid = GetPlayerVehicleID(playerid);
			if(!PIZZA_VEHICLE[vehicleid][pizza_vehicle_STARTED]) return 1;
			if(PIZZA_VEHICLE[vehicleid][pizza_vehicle_DRIVER_AID] != PI[playerid][pi_ID]) return ShowPlayerMessage(playerid, "Solo le pagaremos al conductor que realizó el trabajo.", 2);

			new work_extra_payment;
			if(work_info[WORK_PIZZA][work_info_EXTRA_PAY] > 0 && work_info[WORK_PIZZA][work_info_EXTRA_PAY_EXP] > 0)
			{
				work_extra_payment = (work_info[WORK_PIZZA][work_info_EXTRA_PAY] * floatround(floatdiv(PLAYER_WORKS[playerid][WORK_PIZZA][pwork_LEVEL], work_info[WORK_PIZZA][work_info_EXTRA_PAY_EXP])));
				if(work_info[WORK_PIZZA][work_info_EXTRA_PAY_LIMIT] != 0) if(work_extra_payment > work_info[WORK_PIZZA][work_info_EXTRA_PAY_LIMIT]) work_extra_payment = work_info[WORK_PIZZA][work_info_EXTRA_PAY_LIMIT];

				if(PI[playerid][pi_VIP]) work_extra_payment += SU_WORK_EXTRA_PAY;
			}

			PLAYER_WORKS[playerid][WORK_PIZZA][pwork_LEVEL] ++;
			new money = (PLAYER_TEMP[playerid][pt_DELIVERED_PIZZAS] * 200) + work_extra_payment;
			GivePlayerCash(playerid, money, true, false);
			SendFormatNotification(playerid, "Gracias por tu trabajo, has repartido %d pizzas y has ganado ~g~%s dólares~w~.", PLAYER_TEMP[playerid][pt_DELIVERED_PIZZAS], number_format_thousand(money));

			CallLocalFunction("EndPlayerJob", "iib", playerid, PLAYER_TEMP[playerid][pt_WORKING_IN], true);
		}
		default: return 1;
	}
	return 1;
}

RegisterNewPlayer_GPS_Site(playerid, slot)
{
	inline OnPgpsInserted()
	{
		PLAYER_GPS[playerid][slot][player_gps_ID] = cache_insert_id();
	}
	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "INSERT INTO pgps (id_player, name, x, y, z, world, interior) VALUES(%d, '%e', %f, %f, %f, %d, %d);", PI[playerid][pi_ID], PLAYER_GPS[playerid][slot][player_gps_NAME], PLAYER_GPS[playerid][slot][player_gps_X], PLAYER_GPS[playerid][slot][player_gps_Y], PLAYER_GPS[playerid][slot][player_gps_Z], PLAYER_GPS[playerid][slot][player_gps_WORLD], PLAYER_GPS[playerid][slot][player_gps_INTERIOR]);
	mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnPgpsInserted);
	return 1;
}

SetPlayerToys(playerid)
{
    RemovePlayerAttachedObject(playerid, 6);
	RemovePlayerAttachedObject(playerid, 4);
	RemovePlayerAttachedObject(playerid, 3);
	RemovePlayerAttachedObject(playerid, 2);
	RemovePlayerAttachedObject(playerid, 0);
	RemovePlayerAttachedObject(playerid, 1);
	RemovePlayerAttachedObject(playerid, 5);
	RemovePlayerAttachedObject(playerid, 8);
    
    SetPlayerName(playerid, PLAYER_TEMP[playerid][pt_NOMBRE_ORIGINAL]); 
    PI[playerid][pi_MASK_ON] = 0;
    
    new limite = (PI[playerid][pi_VIP] > 0) ? MAX_SLOTS_INV : 6;

    for(new x = 0; x < limite; x++)
    {
        // 1. Obtenemos el ID real del objeto que hay en ese bolsillo
        new itemid = PI[playerid][pi_BOL][x];

        // 2. Si el ID es mayor a 0, lo ponemos
        if(itemid > 0)
        {
            // Pasamos 'itemid' (el objeto), NO 'x' (el bolsillo)
            PonerObjeto(playerid, 3, itemid); 
        }
    }
    if(PI[playerid][pi_MANO_DER] > 0)
    {
        // Usamos el slot 1 para la mano para que no se borre con los de los bolsillos
        // Asumiendo que PonerObjeto maneja la posición de la mano
        PonerObjeto(playerid, 1, PI[playerid][pi_MANO_DER]);
    }
    return 1;
}

UpdatePlayerToy(playerid, index)
{
	RemovePlayerAttachedObject(playerid, index);
	SetPlayerAttachedObject
	(
		playerid,
		index,
		PLAYER_TOYS[playerid][ index ][player_toy_MODELID],
		PLAYER_TOYS[playerid][ index ][player_toy_BONE],
		PLAYER_TOYS[playerid][ index ][player_toy_OFFSET_X],
		PLAYER_TOYS[playerid][ index ][player_toy_OFFSET_Y],
		PLAYER_TOYS[playerid][ index ][player_toy_OFFSET_Z],
		PLAYER_TOYS[playerid][ index ][player_toy_ROT_X],
		PLAYER_TOYS[playerid][ index ][player_toy_ROT_Y],
		PLAYER_TOYS[playerid][ index ][player_toy_ROT_Z],
		PLAYER_TOYS[playerid][ index ][player_toy_SCALE_X],
		PLAYER_TOYS[playerid][ index ][player_toy_SCALE_Y],
		PLAYER_TOYS[playerid][ index ][player_toy_SCALE_Z],
		PLAYER_TOYS[playerid][ index ][player_toy_COLOR_1],
		PLAYER_TOYS[playerid][ index ][player_toy_COLOR_2]
	);
	return 1;
}

EditPlayerToy(playerid)
{
	if(PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_ATTACHED]) RemovePlayerAttachedObject(playerid, PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT]);

	SetPlayerAttachedObject
	(
		playerid,
		PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT],
		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_MODELID],
		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_BONE],
		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_OFFSET_X],
		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_OFFSET_Y],
		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_OFFSET_Z],
		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_ROT_X],
		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_ROT_Y],
		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_ROT_Z],
		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_SCALE_X],
		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_SCALE_Y],
		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_SCALE_Z],
		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_COLOR_1],
		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_COLOR_2]
	);

	ShowPlayerMessage(playerid, "Ajusta el accesorio y haz clic en el icono de guardar, si pulsas ~r~'ESCAPE' ~w~no se guardará la configuración.", 2);
	ShowPlayerMessage(playerid, "~w~Mantén presionado ~r~'ESPACIO' ~w~para mover la cámara.", 2);
	EditAttachedObject(playerid, PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT]);
	return 1;
}

public OnPlayerEditAttachedObject(playerid, response, index, modelid, boneid, Float:fOffsetX, Float:fOffsetY, Float:fOffsetZ, Float:fRotX, Float:fRotY, Float:fRotZ, Float:fScaleX, Float:fScaleY, Float:fScaleZ)
{
	if(index != PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT]) return 0;

    if(response)
    {
	        ShowPlayerMessage(playerid, "El tamaño del accesorio es demasiado grande.", 2);

			RemovePlayerAttachedObject(playerid, PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT]);
			if(PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_ATTACHED])
			{
				SetPlayerAttachedObject
				(
					playerid,
					PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT],
					PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_MODELID],
					PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_BONE],
					PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_OFFSET_X],
					PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_OFFSET_Y],
					PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_OFFSET_Z],
					PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_ROT_X],
					PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_ROT_Y],
					PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_ROT_Z],
					PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_SCALE_X],
					PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_SCALE_Y],
					PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_SCALE_Z],
					PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_COLOR_1],
					PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_COLOR_2]
				); //retornarciones abajo
	    }



			RemovePlayerAttachedObject(playerid, PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT]);
			if(PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_ATTACHED])
			{
				SetPlayerAttachedObject
				(
					playerid,
					PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT],
					PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_MODELID],
					PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_BONE],
					PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_OFFSET_X],
					PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_OFFSET_Y],
					PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_OFFSET_Z],
					PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_ROT_X],
					PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_ROT_Y],
					PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_ROT_Z],
					PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_SCALE_X],
					PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_SCALE_Y],
					PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_SCALE_Z],
					PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_COLOR_1],
					PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_COLOR_2]
				);
			}

		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_OFFSET_X] = fOffsetX;
		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_OFFSET_Y] = fOffsetY;
		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_OFFSET_Z] = fOffsetZ;
		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_ROT_X] = fRotX;
		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_ROT_Y] = fRotY;
		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_ROT_Z] = fRotZ;
		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_SCALE_X] = fScaleX;
		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_SCALE_Y] = fScaleY;
		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_SCALE_Z] = fScaleZ;

		if(19036 == PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_MODELID])
		{
			PI[playerid][pi_MASK] = 1;
			PLAYER_TEMP[playerid][pt_USING_MASK] = false;
			PC_EmulateCommand(playerid, "/mascara");
		}

        SendFormatNotification(playerid, "Accesorio ~b~'%s' ~w~actualizado.", PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_NAME]);
    }
    else
    {
        RemovePlayerAttachedObject(playerid, PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT]);
		if(PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_ATTACHED])
		{
			SetPlayerAttachedObject
			(
				playerid,
				PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT],
				PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_MODELID],
				PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_BONE],
				PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_OFFSET_X],
				PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_OFFSET_Y],
				PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_OFFSET_Z],
				PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_ROT_X],
				PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_ROT_Y],
				PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_ROT_Z],
				PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_SCALE_X],
				PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_SCALE_Y],
				PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_SCALE_Z],
				PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_COLOR_1],
				PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_COLOR_2]
			);
		}

        ShowPlayerMessage(playerid, "Has cancelado la edición.", 2);
    }
    return 1;
}

forward OnBasureroConfirmado(playerid, index);
public OnBasureroConfirmado(playerid, index)
{
    // ELIMINADO: cache_insert_id (porque ahora el ID lo decidimos nosotros, no la DB)
    BasureroData[index][ba_DB_ID] = index; 
    
    // 1. ELIMINAMOS EL OBJETO TEMPORAL (El que usaste para editar)
    if(IsValidDynamicObject(BasureroData[index][ba_OBJETO_ID])) 
        DestroyDynamicObject(BasureroData[index][ba_OBJETO_ID]);

    // 2. LO CREAMOS DE NUEVO CON COORDENADAS Y ROTACIÓN REALES
    BasureroData[index][ba_OBJETO_ID] = CreateDynamicObject(3035, 
        BasureroData[index][ba_X], BasureroData[index][ba_Y], BasureroData[index][ba_Z], 
        BasureroData[index][ba_RX], BasureroData[index][ba_RY], BasureroData[index][ba_RZ], 
        GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid));

    // Forzar carga para el jugador (especialmente en Android)
    Streamer_Update(playerid);

    // 3. CREAR LABEL (Usando 'index' que es el ID real)
    new labelStr[100];
    format(labelStr, sizeof(labelStr), "{33CCFF}Basurero {FFFFFF}ID %d\n{AAAAAA}Acércate para ver la basura", index);
    
    // Si por casualidad ya había uno ahí, lo borramos para no duplicar texto
    if(IsValidDynamic3DTextLabel(BasureroData[index][ba_LABEL])) 
        DestroyDynamic3DTextLabel(BasureroData[index][ba_LABEL]);

    BasureroData[index][ba_LABEL] = CreateDynamic3DTextLabel(labelStr, -1, 
        BasureroData[index][ba_X], BasureroData[index][ba_Y], BasureroData[index][ba_Z] + 0.5, 10.0);
    
    // 4. CREAR PICKUP
    if(IsValidDynamicPickup(BasureroData[index][ba_PICKUP])) 
        DestroyDynamicPickup(BasureroData[index][ba_PICKUP]);

    BasureroData[index][ba_PICKUP] = CreateDynamicPickup(0, 1, 
        BasureroData[index][ba_X], BasureroData[index][ba_Y], BasureroData[index][ba_Z]);

    // Opcional: Solo incrementar si el slot estaba vacío de verdad
    // TotalBasureros++; 

    SendFormatNotification(playerid, "Basurero ID %d creado y guardado.", index);
    return 1;
}


forward OnDatabaseConnected();
forward OnDatabaseConnected_Timer();
public OnDatabaseConnected_Timer() {
	CallLocalFunction("OnDatabaseConnected", "");
}

ConnectDatabase()
{
	//mysql
	print("[MySQL] Conectando a la base de datos <33...");
	mysql_log(ERROR | WARNING);

	//mysql_log(NONE);

	//srp_db
	srp_db = mysql_connect_file("srp_db.ini");
	if(srp_db == MYSQL_INVALID_HANDLE || mysql_errno(srp_db) != 0)
	{
		printf("[MySQL] No se pudo conectar con la base de datos (srp_db) (%d)", mysql_errno(srp_db));
		SendRconCommand("exit");
	}
	else
	{
		mysql_tquery(srp_db, "UPDATE player SET connected = 0, playerid = 0;");
	    printf("[MySQL] Base de datos conectada (srp_db) (%d)", _:srp_db);
		SetTimer("OnDatabaseConnected_Timer", 1000, false);
	}

	return 1;
}

public OnDatabaseConnected() {
	SanAndreas();
	LoadServerInfo();
	UpdateEconomy();
	
	mysql_tquery(srp_db, "SELECT * FROM basureros", "CargarBasureros");
	mysql_tquery(srp_db, "SELECT * FROM `mochilas` ORDER BY `ID` ASC", "CargarMochilas");
	mysql_tquery(srp_db, "SELECT * FROM `referidos_codes` ORDER BY `ID` ASC", "CargarReferidos");			// (27/10/2020)
}

public OnQueryError(errorid, const error[], const callback[], const query[], MySQL:handle)
{
	switch(errorid)
	{
		case CR_SERVER_GONE_ERROR: printf("[MySQL] [ERROR]: Se ha perdido la conexión con el servidor (%d)", _:handle);
		case ER_SYNTAX_ERROR: printf("[MySQL] [ERROR]: Syntax error, query: %s (%d)", query, _:handle);
		default: printf("[MySQL] [ERROR] errorid: %d, error: %s, callback: %s, query: %s, handle: %d", errorid, error, callback, query, _:handle);
	}
	return 1;
}

ClearPlayerChat(playerid)
{
	for(new i = 0; i != 32; i++) SendClientMessage(playerid, -1, " ");
	return 1;
}

RegisterBankAccountTransaction(from_id, to_id, transaction_type, amount)
{
	new date[24];
	getDateTime(date);
	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "INSERT INTO bank_movements (date, type, from_id, to_id, amount) VALUES('%e', %d, %d, %d, %d);", date, transaction_type, from_id, to_id, amount);
	mysql_tquery(srp_db, QUERY_BUFFER);
	return 1;
}

RegisterNewPlayer(playerid)
{
	if(PLAYER_TEMP[playerid][pt_USER_EXIST]) return 0;
	
	PI[playerid][pi_CONNECTED] = 1; 
    PI[playerid][pi_PLAYERID] = playerid;

	inline OnPlayerInserted()
	{
		PI[playerid][pi_ID] = cache_insert_id();
		if(PI[playerid][pi_ID])
		{
			PLAYER_TEMP[playerid][pt_USER_EXIST] = true;
			PI[playerid][pi_PHONE_NUMBER] = getPhoneNumber(PI[playerid][pi_ID]);
			mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET phone_number = %d WHERE id = %d;", PI[playerid][pi_PHONE_NUMBER], PI[playerid][pi_ID]);
			mysql_tquery(srp_db, QUERY_BUFFER);
			CreateDefaultContacts(playerid);
			CallLocalFunction("OnPlayerRegister", "i", playerid);
		}
		else Kick(playerid);
		return 1;
	}

	mysql_format
	(
		srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER,
		"\
			INSERT INTO player\
			(\
				name,\
				ip,\
				email,\
				salt,\
				pass,\
				reg_date,\
				last_connection,\
				last_connection_timestamp,\
				level,\
				rep,\
				connected,\
				playerid,\
				time_for_rep,\
				skin,\
				cash,\
				pos_x,\
				pos_y,\
				pos_z,\
				angle,\
				state,\
				fight_style,\
				health,\
				hungry,\
				thirst,\
				config_sounds,\
				config_audio,\
				config_time,\
				config_hud,\
				config_admin,\
				config_secure_login,\
				phone_visible_number,\
				doubt_channel,\
				twitter_channel,\
				cuchillo,\
				materiales,\
				mascara,\
				mochila, \
				DineroBlack,\ 
				cheat, \
				kana, \
				A1, \
				A2, \
				A3, \
				A4, \
				A5, \
				A6, \
				A7, \
				A8, \
				A9, \
				A10, \
				kills \
			) \
			VALUES\
			(\
				'%e', '%e', '%e', '%e', '%e', '%e', '%e', %d, %d, %d, %d, %d, %d, %d, %d, %f, %f, %f, %f, %f, %d, %d, %f, %f, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d\
			);\
		",
			PI[playerid][pi_NAME], PI[playerid][pi_IP], PI[playerid][pi_EMAIL], PI[playerid][pi_SALT],
			PI[playerid][pi_PASS], PI[playerid][pi_REG_DATE], PI[playerid][pi_LAST_CONNECTION], PI[playerid][pi_LAST_CONNECTION_TIMESTAMP],
			PI[playerid][pi_LEVEL], PI[playerid][pi_REP], PI[playerid][pi_CONNECTED], PI[playerid][pi_PLAYERID],
			PI[playerid][pi_TIME_FOR_REP], PI[playerid][pi_SKIN], PI[playerid][pi_CASH], PI[playerid][pi_POS_X],
			PI[playerid][pi_POS_Y], PI[playerid][pi_POS_Z], PI[playerid][pi_ANGLE], PI[playerid][pi_STATE],
			PI[playerid][pi_FIGHT_STYLE], PI[playerid][pi_HEALTH], PI[playerid][pi_HUNGRY], PI[playerid][pi_THIRST],
			PI[playerid][pi_CONFIG_SOUNDS], PI[playerid][pi_CONFIG_AUDIO], PI[playerid][pi_CONFIG_TIME],
			PI[playerid][pi_CONFIG_HUD], PI[playerid][pi_CONFIG_ADMIN], PI[playerid][pi_CONFIG_SECURE_LOGIN], PI[playerid][pi_PHONE_VISIBLE_NUMBER], PI[playerid][pi_DOUBT_CHANNEL], PI[playerid][pi_TWITTER_CHANNEL], PI[playerid][pi_CUCHILLO], PI[playerid][pi_MATERIALES], PI[playerid][pi_MASK], PI[playerid][pi_GANZUAS], PI[playerid][pi_BLACK], PI[playerid][pi_CHEAT], PI[playerid][pi_KANA], PI[playerid][pi_A1], PI[playerid][pi_A2], PI[playerid][pi_A3], PI[playerid][pi_A4], PI[playerid][pi_A5], PI[playerid][pi_A6], PI[playerid][pi_A7], PI[playerid][pi_A8], PI[playerid][pi_A9], PI[playerid][pi_A10], PI[playerid][pi_KILLS]
	);
	mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnPlayerInserted);
	return 1;
}

maskHideNameTagPlayer(playerid)
{
	new MAX = GetPlayerPoolSize()+1;
	for(new i; i<MAX; i++)
	{
		ShowPlayerNameTagForPlayer(i, playerid, false);
	}
	new name[32];
	format(name, sizeof(name), "Desconocido (%d)", playerid);
	Update3DTextLabelText(tagname[playerid], -1, name);
	Attach3DTextLabelToPlayer(tagname[playerid], playerid, 0.0, 0.0, 0.0);
	SetPlayerName(playerid, name);
	haveMask[playerid] = true;
	return 1;
}

maskShowNameTagPlayer(playerid)
{
	new MAX = GetPlayerPoolSize()+1;
	for(new i; i<MAX; i++)
	{
		ShowPlayerNameTagForPlayer(i, playerid, true);
	}
	Update3DTextLabelText(tagname[playerid], -1, "");
	haveMask[playerid] = false;
	return 1;
}

CreateDefaultContacts(playerid)
{
	new slot;
	PLAYER_PHONE_BOOK[playerid][slot][phone_book_contact_VALID] = true;
	format(PLAYER_PHONE_BOOK[playerid][slot][phone_book_contact_NAME], 24, "Policia");
	PLAYER_PHONE_BOOK[playerid][slot][phone_book_contact_PHONE_NUMBER] = 911;
	RegisterNewPlayerPhoneBook(playerid, slot);
	slot ++;

	PLAYER_PHONE_BOOK[playerid][slot][phone_book_contact_VALID] = true;
	format(PLAYER_PHONE_BOOK[playerid][slot][phone_book_contact_NAME], 24, "Banco");
	PLAYER_PHONE_BOOK[playerid][slot][phone_book_contact_PHONE_NUMBER] = 6740;
	RegisterNewPlayerPhoneBook(playerid, slot);
	slot ++;

	PLAYER_PHONE_BOOK[playerid][slot][phone_book_contact_VALID] = true;
	format(PLAYER_PHONE_BOOK[playerid][slot][phone_book_contact_NAME], 24, "Aseguradora");
	PLAYER_PHONE_BOOK[playerid][slot][phone_book_contact_PHONE_NUMBER] = 38350;
	RegisterNewPlayerPhoneBook(playerid, slot);
	slot ++;

	PLAYER_PHONE_BOOK[playerid][slot][phone_book_contact_VALID] = true;
	format(PLAYER_PHONE_BOOK[playerid][slot][phone_book_contact_NAME], 24, "Taxi");
	PLAYER_PHONE_BOOK[playerid][slot][phone_book_contact_PHONE_NUMBER] = 450;
	RegisterNewPlayerPhoneBook(playerid, slot);
	slot ++;
	return 1;
}


/*eSendClientMessageEx(playerid, color, form[], {Float, _}: ...)
{
    #pragma unused form

    static
        tmp[145]
    ;
    new
        t1 = playerid,
        t2 = color
    ;
    const
        n4 = -4,
        n16 = -16,
        size = sizeof tmp
    ;
    #emit stack 28
    #emit push.c size
    #emit push.c tmp
    #emit stack n4
    #emit sysreq.c format
    #emit stack n16

    return (t1 == -1 ? (SendClientMessageToAll(t2, tmp)) : (SendClientMessage(t1, t2, tmp)) );
}*/
SendClientMessageEx(playerid, colour, message[], {Float, _}:...)
{
	new out[145];
	format(out, sizeof(out), message, ___(3));
	return SendClientMessage(playerid, colour, out);
}

stock StartRacePreparation(player1, player2) 
{
    // Limpiar y configurar estado de carrera
    RaceState[0][race_PLAYER1] = player1;
    RaceState[0][race_PLAYER2] = player2;
    RaceState[0][race_ACTIVE] = 1; // Carrera Activa
    IsPlayerInRace[player1] = 1;
    IsPlayerInRace[player2] = 1;
    
    // --- LÓGICA CORREGIDA: Mover vehiculo o Jugador ---
    
    // Jugador 1:
    new vehicle1 = GetPlayerVehicleID(player1);
    
    if (vehicle1 != 0) // Si el jugador está en un vehiculo
    {
        // Teletransportamos el vehiculo a la posición de inicio
        SetVehiclePos(vehicle1, START1_X, START1_Y, START1_Z);
        SetVehicleZAngle(vehicle1, START1_A);
        // Aseguramos que el vehiculo esté en el interior correcto
        LinkVehicleToInterior(vehicle1, GetPlayerInterior(player1));
        // Nota: El jugador permanece DENTRO del vehiculo.
    } 
    else // Si el jugador está a pie
    {
        // Teletransportamos al jugador a pie
        SetPlayerPos(player1, START1_X, START1_Y, START1_Z);
        SetPlayerFacingAngle(player1, START1_A);
    }
    TogglePlayerControllable(player1, false); // Congela al jugador (dentro o fuera del auto)


    // Jugador 2:
    new vehicle2 = GetPlayerVehicleID(player2);
    
    if (vehicle2 != 0) // Si el jugador está en un vehiculo
    {
        // Teletransportamos el vehiculo a la posición de inicio
        SetVehiclePos(vehicle2, START2_X, START2_Y, START2_Z);
        SetVehicleZAngle(vehicle2, START2_A);
        // Aseguramos que el vehiculo esté en el interior correcto
        LinkVehicleToInterior(vehicle2, GetPlayerInterior(player2));
    } 
    else // Si el jugador está a pie
    {
        // Teletransportamos al jugador a pie
        SetPlayerPos(player2, START2_X, START2_Y, START2_Z);
        SetPlayerFacingAngle(player2, START2_A);
    }
    TogglePlayerControllable(player2, false); // Congela al jugador (dentro o fuera del auto)
    
    // --- FIN DE LÓGICA CORREGIDA ---
    
    // 2. Iniciar la cuenta regresiva (3 segundos)
    RaceState[0][race_TIMER_ID] = SetTimerEx("RaceCountdown", 1000, false, "i", 3); 
    
    ShowPlayerMessage(player1, "¡POSICIONES! Carrera 1v1 iniciará en ~g~3 segundos...");
    ShowPlayerMessage(player2, "¡POSICIONES! Carrera 1v1 iniciará en ~g~3 segundos...");
}


public RaceCountdown(count_val) // Cambiamos 'countdown' por 'count_val' para evitar el shadow
{
    new player1 = RaceState[0][race_PLAYER1];
    new player2 = RaceState[0][race_PLAYER2];
    
    if (!IsPlayerConnected(player1) || !IsPlayerConnected(player2)) {
        return EndRace(INVALID_PLAYER_ID, INVALID_PLAYER_ID, 0); 
    }
    
    new countdown_msg[64]; 

    if (count_val > 0) 
    {
        // El GameText para avisar que se preparen
        GameTextForPlayer(player1, "~y~PREPARADOS...", 1000, 3);
        GameTextForPlayer(player2, "~y~PREPARADOS...", 1000, 3);
        
        format(countdown_msg, sizeof(countdown_msg), "~w~COMIENZA EN: ~g~%d", count_val);
        
        ShowPlayerMessage(player1, countdown_msg);
        ShowPlayerMessage(player2, countdown_msg);
        
        // Llamar al siguiente segundo
        SetTimerEx("RaceCountdown", 1000, false, "i", count_val - 1);
    } 
    else if (count_val == 0) // Cuando llega a 0, empieza
    {
        GameTextForPlayer(player1, "~g~GO!", 1000, 3);
        GameTextForPlayer(player2, "~g~GO!", 1000, 3);
        StartRace(player1, player2);
    }
    
    return 1; // <--- ESTO QUITA EL WARNING 209
}


// ===================================
// 4. INICIO Y FINALIZACIÓN
// ===================================

stock StartRace(player1, player2) 
{
    // 1. Unfreeze
    TogglePlayerControllable(player1, true);
    TogglePlayerControllable(player2, true);

    // 2. Sonido de carrera
    PlayerPlaySound(player1, 1056, 0.0, 0.0, 0.0);
    PlayerPlaySound(player2, 1056, 0.0, 0.0, 0.0);

    
    SetPlayerCheckpoint(player1, FINISH_X, FINISH_Y, FINISH_Z, 8.0);
    SetPlayerCheckpoint(player2, FINISH_X, FINISH_Y, FINISH_Z, 8.0);

    
    ShowPlayerMessage(player1, "¡GO! Dirígete al Checkpoint para ganar la apuesta.");
    ShowPlayerMessage(player2, "¡GO! Dirígete al Checkpoint para ganar la apuesta.");
}

public OnPlayerEnterRaceCheckpoint(playerid)
{
    if(GetPVarInt(playerid, "CargandoCaja"))
    {
        new f = PLAYER_TEMP[playerid][pt_FABRICA_ID];
        
        if(f == -1) {
            DisablePlayerRaceCheckpoint(playerid);
            return SendClientMessage(playerid, -1, "{FF0000}ERROR: {FFFFFF}No estás vinculado a ninguna fábrica.");
        }

        // 1. Limpieza de animaciones y objetos
        RemovePlayerAttachedObject(playerid, 9);
        SetPlayerSpecialAction(playerid, SPECIAL_ACTION_NONE);
        DisablePlayerRaceCheckpoint(playerid);
        DeletePVar(playerid, "CargandoCaja");

        // 2. Actualización de stock (25 bolsas por cada caja entregada)
        Fabricas[f][pCantidadBolsas] += 1;
            
        ActualizarLabelsFabrica(f);

        // Guardar en BD y enviar mensaje
        new query[128];
        mysql_format(srp_db, query, sizeof(query), "UPDATE fabricas SET bolsas = %d WHERE id = %d", Fabricas[f][pCantidadBolsas], Fabricas[f][pID]);
        mysql_tquery(srp_db, query);

        // 4. Feedback visual
        new str[128];
        format(str, sizeof(str), "{3BF1B3}» {FFFFFF}Lote almacenado (+1 Caja). Stock total: {53FF00}%d", Fabricas[f][pCantidadBolsas]);
        SendClientMessage(playerid, -1, str);
        
        // Sonido de éxito (opcional pero recomendado)
        PlayerPlaySound(playerid, 1058, 0.0, 0.0, 0.0);
        return 1;
    }
    return 1; // Importante para que OnPlayerEnterRaceCheckpoint siga funcionando
}


hook OnPlayerEnterCheckpoint(playerid)
{
    if(GetPVarInt(playerid, "EnRutaQuimicos")) 
    { 
        DisablePlayerCheckpoint(playerid);
    }
    if(VentaActorSeleccionado[playerid] != -1)
    {
        new id = VentaActorSeleccionado[playerid];
        if(IsPlayerInRangeOfPoint(playerid, 5.0, CompradoresInfo[id][acX], CompradoresInfo[id][acY], CompradoresInfo[id][acZ]))
        {
            new str[128];
            format(str, sizeof(str), "{F1C40F}%s dice: {FFFFFF}¡Por fin llegas! Baja las 3 cajas y ponlas aquí en el suelo.", CompradoresInfo[id][cNombre]);
            SendClientMessage(playerid, -1, str);
        }
    }
    if(GetPVarInt(playerid, "RegresandoConQuimicos"))
    {
        // 1. Usamos el PVar para saber a qué fábrica entregar, ya que PLAYER_TEMP es -1 afuera
        new f = GetPVarInt(playerid, "ID_Fabrica_Pedido");
        
        new veh = GetPlayerVehicleID(playerid);
        if(veh == INVALID_VEHICLE_ID) return SendFormatNotification(playerid, "Debes estar en el vehículo con los químicos.");
        
        // 2. Verificación de seguridad
        if(f == -1) return SendFormatNotification(playerid, "Error: ID de fábrica no encontrado.");
        if(BarrilVehiculo[veh] < 3) return SendFormatNotification(playerid, "No tienes los barriles en este vehículo.");

        // 3. Obtenemos la cantidad según el tipo de pedido
        new r = GetPVarInt(playerid, "PedidoTipo");
        new cantidad = floatround(InfoActoresQ[r][4]);

        // 4. Sumar al stock real
        Fabricas[f][pQuimicos] += cantidad;
        
        // 5. Guardar en Base de Datos
        new query[150];
        mysql_format(srp_db, query, sizeof(query), "UPDATE fabricas SET quimicos = %d WHERE id = %d", Fabricas[f][pQuimicos], Fabricas[f][pID]);
        mysql_tquery(srp_db, query);

        // 6. Limpieza visual y de variables
        BarrilVehiculo[veh] = 0;
        ActualizarBarriles(veh); 
        
        DisablePlayerCheckpoint(playerid);
        DeletePVar(playerid, "RegresandoConQuimicos");
        DeletePVar(playerid, "EnRutaQuimicos");
        DeletePVar(playerid, "BarrilesCargados");
        DeletePVar(playerid, "PedidoTipo");
        DeletePVar(playerid, "ID_Fabrica_Pedido"); // ¡No olvides borrar este también
        
        new msg[128];
        format(msg, sizeof(msg), "Has entregado los químicos ~y~%d litros. ~w~Stock total: ~g~%d", cantidad, Fabricas[f][pQuimicos]);
        SendFormatNotification(playerid, msg);
        return 1;
    }
    
    if(PLAYER_TEMP[playerid][pt_WORKING_IN] == WORK_TRAILERO)
    {
        new r = PLAYER_TEMP[playerid][pt_RUTA_ACTIVA];

        // --- CASO 1: LLEGADA AL DESTINO (DESCARGA) ---
        // Verificamos que tenga carga, no haya entregado y esté EN EL PUNTO de la ruta 'r'
        if(PLAYER_TEMP[playerid][pt_CARGADO] && !PLAYER_TEMP[playerid][pt_ENTREGADO])
        {
            if(r != -1 && IsPlayerInRangeOfPoint(playerid, 8.0, InfoRutasTr[r][ruta_X], InfoRutasTr[r][ruta_Y], InfoRutasTr[r][ruta_Z]))
            {
                new vehid = GetPlayerVehicleID(playerid);
                if(!IsTrailerAttachedToVehicle(vehid)) return SendNotification(playerid, "Debes tener el remolque enganchado para descargar.");

                // Proceso de descarga
                TogglePlayerControllable(playerid, false); 
                SendNotification(playerid, "Descargando mercancía... espera 5 segundos.");
                
                SetTimerEx("OnTrailerDescargado", 5000, false, "i", playerid);
                DisablePlayerCheckpoint(playerid);
                GameTextForPlayer(playerid, "~w~Descargando ~p~mercancia...", 5000, 3);
                return 1;
            }
        }

        // --- CASO 2: REGRESO A LA BASE (COBRO) ---
        // Verificamos que ya entregó y esté EN LAS COORDENADAS de la oficina
        if(PLAYER_TEMP[playerid][pt_ENTREGADO])
        {
            // Reemplaza estas coords por las exactas de tu oficina de cobro
            if(IsPlayerInRangeOfPoint(playerid, 8.0, 2811.186279, 917.871093, 10.750000))
            {
                new vehicleid = GetPlayerVehicleID(playerid);
                new pago = InfoRutasTr[r][ruta_PAGO];

                //PI[playerid][pi_MONEY] += pago; 
                SetPlayerCashX(playerid, pago);
                
                SendFormatNotification(playerid, "¡Trabajo finalizado! Has recibido $%d por el envío.", pago);
                
                // Reset de variables
                PLAYER_TEMP[playerid][pt_CARGADO] = false;
                PLAYER_TEMP[playerid][pt_ENTREGADO] = false;
                PLAYER_TEMP[playerid][pt_RUTA_ACTIVA] = -1;
                PLAYER_TEMP[playerid][pt_TRAILER_OBJ] = 0;
                
                DisablePlayerCheckpoint(playerid);
                PLAYER_TEMP[playerid][pt_WORK_VEHICLE_ID] = INVALID_VEHICLE_ID;
                DestroyVehicleEx(vehicleid);
                CallLocalFunction("EndPlayerJob", "iib", playerid, PLAYER_TEMP[playerid][pt_WORKING_IN], true);
                PLAYER_WORKS[playerid][WORK_TRAILERO][pwork_LEVEL] ++;
			//	//AddPlayerJobPoints(playerid, WORK_TRAILERO);
                return 1;
            }
        }
    }
    
    if(GpsEmpresaActivo[playerid] == true)
    {
        DisablePlayerCheckpoint(playerid); // Elimina el checkpoint del mapa
        GpsEmpresaActivo[playerid] = false; // Desactiva la variable
        return 1;
    }
    
    if(PI[playerid][pi_GUIA_INICIO] > 0)
    {
        PI[playerid][pi_GUIA_INICIO] ++; // Si era 1, ahora es 2. Si era 2, ahora es 3...
        
        if(PI[playerid][pi_GUIA_INICIO] > 5) 
        {
            new path[64];
            format(path, sizeof(path), "Tutoriales/%d.ini", PI[playerid][pi_ID]);
            
            if(fremove(path)) // fremove borra el archivo físicamente
            {
                printf("[SISTEMA]: Archivo de guía de ID %d borrado (Completado).", PI[playerid][pi_ID]);
            }
            
            PI[playerid][pi_GUIA_INICIO] = 0; // Terminó la guía
            DisablePlayerCheckpoint(playerid);
            SetPlayerCashX(playerid, 5000);
            ShowPlayerMessage (playerid, "Felicidades! Has completado el tutorial de bienvenida.");
        }
        PlayerPlaySound(playerid, 1058, 0.0, 0.0, 0.0);
        GuardarProgresoGuia(playerid); // Guarda el nuevo número en el Dini
        ActualizarGuiaInicio(playerid); // El stock lee el nuevo número y cambia el checkpoint de sitio
        return 1;
    }
    
    //El usuario recoje su pedido
    if(PTD[playerid][tTrabajando] == 1)
    {
    // 1. Verificamos espacio
    new player_slot = GetEmptyInvSlot(playerid);
    if(player_slot == -1) return SendNotification(playerid, "Inventario lleno. Tira algo para poder recoger tu pedido.");

    new id_lab = PTD[playerid][tLabID]; // Usamos el ID guardado en PTD
    new i = PTD[playerid][tRutaID];
    new id_obj = ProduccionLab[i][objID];

    // 2. VERIFICACIÓN DE ÚLTIMO SEGUNDO: ¿Aún queda mercancía?
    if(LI[id_lab][l_Mercancia] < 15)
    {
        DisablePlayerCheckpoint(playerid);
        PTD[playerid][tTrabajando] = 0;
        return SendNotification(playerid, "El laboratorio se quedó sin mercancía mientras venías. Ruta cancelada.");
    }

    // 3. COBRO Y PAGO (Ocurre aquí al final)
    LI[id_lab][l_Caja] += 2000;
    SetPlayerCashX(playerid, ProduccionLab[i][pagaUser]); // Le paga al usuario

    // 4. ENTREGA DE ITEM
    PI[playerid][pi_BOL][player_slot] = id_obj;
    PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[id_obj][Capacidad];

    // 5. LIMPIEZA
    DisablePlayerCheckpoint(playerid);
    PTD[playerid][tTrabajando] = 0; 
    
    GuardarLaboratorio(id_lab);
    CrearLabMundo(id_lab); // Actualiza el 3DText del lab si muestra mercancía
    
    new str[128];
    format(str, sizeof(str), "Has recojido tu %s y recibido $%s!", 
        ObjetoInfo[id_obj][NombreObjeto], 
        number_format_thousand(ProduccionLab[i][pagaUser]));
    SendNotification(playerid, str);
    OtorgarLogro(playerid, 14);
    return 1;
    }

    // El dueño recojer mercancía y la lleva
    // ESTADO 1: LLEGANDO A RECOGER
    if(PLD[playerid][pTrabajando] == 1)
    {
        DisablePlayerCheckpoint(playerid);
        TogglePlayerControllable(playerid, false);
        GameTextForPlayer(playerid, "~w~Cargando ~p~mercancia...", 7000, 3);
        SendFormatNotification(playerid, "Cargando ~g~suministros");
        
        SetTimerEx("OnCargaFinalizada", 7000, false, "i", playerid);
        return 1;
    }
    
    // ESTADO 2: LLEGANDO AL LABORATORIO A ENTREGAR
    if(PLD[playerid][pTrabajando] == 2)
    {
        new id = PLD[playerid][pLabID];
        
        // Verificamos que sea el lab correcto por coordenadas (Seguridad total)
        if(IsPlayerInRangeOfPoint(playerid, 10.0, LI[id][l_PosX], LI[id][l_PosY], LI[id][l_PosZ]))
        {
            new ruta = PLD[playerid][pRutaID];
            new merca_a_sumar = CantidadMercaRuta[ruta];

            LI[id][l_Mercancia] += merca_a_sumar; // Sumamos al lab guardado en pLabID
            GuardarLaboratorio(id);
            CrearLabMundo(id);
            
            if(LI[id][l_Mercancia] >= 100)
            {
            OtorgarLogro(playerid, 15);
             }

            DisablePlayerCheckpoint(playerid);
            
            // RESET TOTAL DEL JUGADOR
            PLD[playerid][pTrabajando] = 0;
            PLD[playerid][pLabID] = -1;
            
            SendNotification(playerid, "Entrega ~g~exitosa");
        }
        else 
        {
            SendNotification(playerid, "Este no es el laboratorio donde iniciaste la ruta.");
            SetPlayerCheckpoint(playerid, LI[id][l_PosX], LI[id][l_PosY], LI[id][l_PosZ], 8.0);
        }
    }
    
    
    if(EnRutaSuministros[playerid] != -1 && CargandoMercancia[playerid] == false)
    {
        new r = TipoRutaSeleccionada[playerid];
        
        // Calculamos tiempo de carga: 3 segundos base + 1 segundo por cada 50 unidades
        new tiempoCarga = 3000 + (SuministrosRutas[r][r_Cantidad] * 20); 
        
        TogglePlayerControllable(playerid, 0); // Congelar mientras cargan
        
        new msg[64];
        format(msg, sizeof(msg), "~w~Cargando ~p~%s", SuministrosRutas[r][r_Nombre]);
        GameTextForPlayer(playerid, msg, tiempoCarga, 3);
        
        // LLAMADA A LA FUNCIÓN CON EL NUEVO NOMBRE
        SetTimerEx("CargaDeNegocioFinalizada", tiempoCarga, false, "i", playerid);
        
        DisablePlayerCheckpoint(playerid);
        return 1;
    }

    // ETAPA 2: Llegada de regreso al negocio
    if(EnRutaSuministros[playerid] != -1 && CargandoMercancia[playerid] == true)
    {
        new negid = EnRutaSuministros[playerid];
        new r = TipoRutaSeleccionada[playerid];
        
        NI[negid][n_Mercancia] += SuministrosRutas[r][r_Cantidad];
        GuardarNegocio(negid); // Guardar stock en archivo DINI
        
        DisablePlayerCheckpoint(playerid);
        
        // Resetear variables de ruta
        EnRutaSuministros[playerid] = -1;
        CargandoMercancia[playerid] = false;
        
        new str[128];
        format(str, sizeof(str), "Entrega exitosa! Stock de %s: %d unidades.", (NI[negid][n_Tipo] == 0 ? "24/7" : "Negocio"), NI[negid][n_Mercancia]);
        SendNotification(playerid, str);
        GameTextForPlayer(playerid, "~s~STOCK ~p~ACTUALIZADO", 3000, 1);
        return 1;
    }
    
    // Solo si el jugador está marcado como "en carrera" y la carrera está activa
    if (IsPlayerInRace[playerid] == 1 && RaceState[0][race_ACTIVE] == 1) 
    {
        new Float:cX, Float:cY, Float:cZ, Float:cR;
        GetPlayerCheckpoint(playerid, cX, cY, cZ, cR);
        
        // Verificamos si llegó a la meta (FINISH_X y FINISH_Y)
        if (floatabs(cX - FINISH_X) < 2.0 && floatabs(cY - FINISH_Y) < 2.0) 
        {
            new p1 = RaceState[0][race_PLAYER1];
            new p2 = RaceState[0][race_PLAYER2];
            new apuesta = RaceState[0][race_BET];

            // Identificamos quién es el ganador y quién el perdedor
            new winner = playerid;
            new loser = (playerid == p1) ? p2 : p1;

            // Anuncio Global
            new name[MAX_PLAYER_NAME], string[256];
            GetPlayerName(winner, name, sizeof(name));
            
            format(string, sizeof(string), "{66c4e4}@{FFFFFF}Spain{66c4e4}Plus{FFFFFF}: {66c4e4}[CARRERA] {ffffff}%s gano {66c4e4}la carrera "WHITE"de %s{00ff00}$", name, number_format_thousand(RaceState[0][race_BET]));
            SendClientMessageToAll(-1, string);
            
            PlayerPlaySound(winner, 1057, 0.0, 0.0, 0.0);

            // Llamamos a la limpieza
            EndRace(winner, loser, apuesta);
            return 1;
        }
    }
    
    if(TrabajandoEmpresa[playerid] != 0 && TipoTrabajo[playerid] == 3)
    {
        // CASO: El jugador terminó de apagar los 5 incendios y volvió al garaje
        if(RutaFinalBomberos[playerid] == true)
        {
            new id = TrabajandoEmpresa[playerid];
            new pago_jugador, ganancias_empresa, mercancia_empresa;

            // --- ASIGNACIÓN DE PAGOS SEGÚN LA RUTA ---
            switch(ZonaIncendio[playerid])
            {
                case 1: // RUTA 2: SAN FIERRO
                {
                    pago_jugador = 12000;
                    ganancias_empresa = 18000; 
                    mercancia_empresa = 12;
                }
                case 2: // RUTA 3: LAS VENTURAS
                {
                    pago_jugador = 15000;
                    ganancias_empresa = 22000;
                    mercancia_empresa = 15;
                }
                default: // RUTA 1: LOS SANTOS (Caso 0 o por defecto)
                {
                    pago_jugador = 10000;
                    ganancias_empresa = 15000;
                    mercancia_empresa = 10;
                }
            }

            // Entregar el dinero al jugador
            SetPlayerCashX(playerid, pago_jugador);
            
            // Sumar ganancias a la empresa y actualizar
            EmpresaData[id][eGanancias] += ganancias_empresa; 
            EmpresaData[id][eMercancia] -= mercancia_empresa;
            GuardarEmpresa(id);
            ActualizarEmpresaVisual(id);

            // Mensajes finales
            new msg[128];
            format(msg, sizeof(msg), "~w~Has recibido ~g~$%d ~w~por completar la ruta.", pago_jugador);
            SendFormatNotification(playerid, msg);
            
            // Limpiar todo para que pueda volver a empezar
            ResetTrabajo(playerid);
            return 1;
        }

        // CASO: El jugador llegó a un incendio (no es la ruta final)
        DisablePlayerCheckpoint(playerid);
        SendFormatNotification(playerid, "Llegaste al incendio Usa el chorro de agua.");
        return 1;
    }

    
    if(TrabajandoEmpresa[playerid] != 0 && (TipoTrabajo[playerid] == 1 || TipoTrabajo[playerid] == 2))
    {
        // --- SI ESTÁ REGRESANDO AL GARAJE PARA COBRAR ---
        if(RutaFinalTransporte[playerid] == true)
        {
            new id = TrabajandoEmpresa[playerid];
            new pagoUsuario, gananciaEmpresa;

            if(TipoTrabajo[playerid] == 1) // EMPRESA 1: 24/7
            {
                switch(RutaAsignada[playerid])
                {
                    case 0: { pagoUsuario = 1500; gananciaEmpresa = 3000; } // Ruta corta
                    case 1: { pagoUsuario = 2500; gananciaEmpresa = 400; } // Ruta media
                    case 2: { pagoUsuario = 4000; gananciaEmpresa = 6000; } // Ruta larga (ejemplo)
                    default: { pagoUsuario = 1500; gananciaEmpresa = 3000; }
                }
                EmpresaData[id][eMercancia] -= 12;
            }
            else if(TipoTrabajo[playerid] == 2) // EMPRESA 2: MADERA
            {
                switch(RutaAsignada[playerid])
                {
                    case 0: { pagoUsuario = 22000; gananciaEmpresa = 30000; }
                    case 1: { pagoUsuario = 24000; gananciaEmpresa = 33000; }
                    //case 2: { pagoUsuario = 15000; gananciaEmpresa = 20000; }
                    default: { pagoUsuario = 22000; gananciaEmpresa = 30000; }
                }
                EmpresaData[id][eMercancia] -= 10;
            }

            // Entregar el dinero y actualizar empresa
            SetPlayerCashX(playerid, pagoUsuario); 
            EmpresaData[id][eGanancias] += gananciaEmpresa;
            
            new msg[128];
            format(msg, sizeof(msg), "Has recibido $%d por la ruta completada.", pagoUsuario);
            SendFormatNotification(playerid, msg);
            
            GuardarEmpresa(id);
            ActualizarEmpresaVisual(id);
            ResetTrabajo(playerid); 
            OtorgarLogro(playerid, 5);
            return 1;
        }
        
        // --- SI LLEGÓ AL DESTINO PARA DESCARGAR ---
        if(!IsPlayerInVehicle(playerid, VehiculoTrabajo[playerid]))
        {
            return SendFormatNotification(playerid, "Debes estar en el vehiculo de la empresa para descargar.");
        }

        TogglePlayerControllable(playerid, false);
        GameTextForPlayer(playerid, "~w~Descargando ~p~mercancia...", 5000, 3);
        SetTimerEx("FinalizarEntrega", 5000, false, "d", playerid);
        DisablePlayerCheckpoint(playerid);
        return 1;
    }
    return 0;
}

public FuegoApagado(playerid)
{
    // Limpieza de objetos
    for(new f = 0; f < 4; f++) {
        if(IsValidDynamicObject(ObjetoFuego[playerid][f])) {
            DestroyDynamicObject(ObjetoFuego[playerid][f]);
            ObjetoFuego[playerid][f] = INVALID_OBJECT_ID;
        }
    }

    // --- AGREGAR AQUÍ EL SONIDO ---
    PlayerPlaySound(playerid, 1058, 0.0, 0.0, 0.0); // Sonido de éxito
    GameTextForPlayer(playerid, "~p~LOGRADO!", 2000, 1); // Mensaje central rápido

    if(IncendiosApagados[playerid] >= 5)
    {
        RutaFinalBomberos[playerid] = true;
        new id = TrabajandoEmpresa[playerid];
        SendFormatNotification(playerid, "Incendios extinguidos! Regresa al garaje.");
        SetPlayerCheckpoint(playerid, EmpresaData[id][eGX], EmpresaData[id][eGY], EmpresaData[id][eGZ], 5.0);
        KillTimer(CheckFuegoTimer[playerid]);
        return 1;
    }

    GenerarSiguienteIncendio(playerid); 
    return 1;
}

forward OnTrailerDescargado(playerid);
public OnTrailerDescargado(playerid)
{
    if(!IsPlayerConnected(playerid)) return 1;
    
    // Borramos el remolque
    if(PLAYER_TEMP[playerid][pt_TRAILER_OBJ] != 0) {
        DestroyVehicle(PLAYER_TEMP[playerid][pt_TRAILER_OBJ]);
        PLAYER_TEMP[playerid][pt_TRAILER_OBJ] = 0;
    }

    // Descongelamos al jugador
    TogglePlayerControllable(playerid, true);
    
    // Cambiamos estado a "entregado" para que pueda cobrar
    PLAYER_TEMP[playerid][pt_ENTREGADO] = true;
    
    // Marcamos el regreso a la base (Cámbialo por tu coordenada de la oficina de trailers)
    SetPlayerCheckpoint(playerid, 2811.186279, 917.871093, 10.750000, 5.0); 
    
    SendNotification(playerid, "Mercancía descargada. Regresa a la oficina para recibir tu paga.");
    return 1;
}


forward OnEntregaMercaFinalizada(playerid);
public OnEntregaMercaFinalizada(playerid)
{
    TogglePlayerControllable(playerid, true);
    
    new id = PTD[playerid][tLabID];
    PTD[playerid][tTrabajando] = 2; // Estado: Regresando a cobrar
    
    // Lo mandamos de regreso al laboratorio
    SetPlayerCheckpoint(playerid, LI[id][l_PosX], LI[id][l_PosY], LI[id][l_PosZ], 8.0);
    
    SendFormatNotification(playerid, "Venta realizada! Regresa al laboratorio para reportar el pago.");
    return 1;
}


forward OnCargaFinalizada(playerid);
public OnCargaFinalizada(playerid)
{
    TogglePlayerControllable(playerid, true);
    
    new id = PLD[playerid][pLabID];
    if(id == -1) return 1;

    PLD[playerid][pTrabajando] = 2; // Estado: Regresando
    
    // Marcamos el regreso exacto al laboratorio que originó todo
    SetPlayerCheckpoint(playerid, LI[id][l_PosX], LI[id][l_PosY], LI[id][l_PosZ], 8.0);
    
    SendFormatNotification(playerid, "Carga lista! Regresa a tu laboratorio para descargar.");
    return 1;
}


forward FinalizarEntrega(playerid);
public FinalizarEntrega(playerid)
{
    if(TrabajandoEmpresa[playerid] == 0) return 1;

    new id = TrabajandoEmpresa[playerid];

    // Borramos los objetos visuales si existen (Troncos/Cajas)
    if(IsValidDynamicObject(Transportistas[playerid][Objeto1])) {
        DestroyDynamicObject(Transportistas[playerid][Objeto1]);
        Transportistas[playerid][Objeto1] = INVALID_OBJECT_ID;
    }
    if(IsValidDynamicObject(Transportistas[playerid][Objeto2])) {
        DestroyDynamicObject(Transportistas[playerid][Objeto2]);
        Transportistas[playerid][Objeto2] = INVALID_OBJECT_ID;
    }

    // Activamos el estado de "Regreso a la base"
    RutaFinalTransporte[playerid] = true;

    // Descongelamos al jugador
    TogglePlayerControllable(playerid, true);

    // Ponemos el Checkpoint en el Garaje de la Empresa
    SetPlayerCheckpoint(playerid, EmpresaData[id][eGX], EmpresaData[id][eGY], EmpresaData[id][eGZ], 8.0);

    SendFormatNotification(playerid, "Mercancía descargada. Regresa al garaje para recibir tu paga.");
    GameTextForPlayer(playerid, "~w~REGRESA AL ~p~GARAJE", 5000, 1);
    return 1;
}




stock EndRace(winnerid, loserid, bet_amount) 
{
    // 1. Detener el Timer de la cuenta regresiva inmediatamente (si sigue activo)
    if (RaceState[0][race_TIMER_ID] > 0) {
        KillTimer(RaceState[0][race_TIMER_ID]);
        RaceState[0][race_TIMER_ID] = 0;
    }

    // 2. Limpiar el estado de la carrera MANUALMENTE
    // Lo hacemos antes de procesar pagos para evitar que cualquier lag dispare de nuevo el checkpoint
    RaceState[0][race_PLAYER1] = INVALID_PLAYER_ID;
    RaceState[0][race_PLAYER2] = INVALID_PLAYER_ID;
    RaceState[0][race_BET] = 0;
    RaceState[0][race_ACTIVE] = 0; 

    // 3. Procesar al Ganador (Si existe y sigue conectado)
    if (winnerid != INVALID_PLAYER_ID && IsPlayerConnected(winnerid)) 
    {
        // Solo damos dinero si la apuesta es mayor a 0 (evita bugs de dinero)
        if (bet_amount > 0) {
            SetPlayerCashX(winnerid, bet_amount); 
        }
        
        IsPlayerInRace[winnerid] = 0;
        TogglePlayerControllable(winnerid, true);
        DisablePlayerCheckpoint(winnerid);
        
        //GameTextForPlayer(winnerid, "~g~GANASTE!", 3000, 1);
    }

    // 4. Procesar al Perdedor (Si existe y sigue conectado)
    if (loserid != INVALID_PLAYER_ID && IsPlayerConnected(loserid)) 
    {
        IsPlayerInRace[loserid] = 0;
        TogglePlayerControllable(loserid, true);
        DisablePlayerCheckpoint(loserid);
        
        GameTextForPlayer(loserid, "~r~PERDISTE", 3000, 1);
    }
    
    return 1;
}


stock IsValidTimer(timerid)
{
    // Un Timer ID es válido si es mayor que 0.
    // 0 se usa típicamente para indicar que no hay timer activo.
    return (timerid > 0); 
}

//stock usados
stock NombrePJ(playerid){
	new nombre[MAX_PLAYER_NAME];
	GetPlayerName(playerid, nombre, sizeof(nombre));
	return nombre;
}
stock GetPlayerID(pName[])//Sacar la ID del jugador por nombre
{
	new playerid = INVALID_PLAYER_ID;
	sscanf(pName,"u",playerid);
	return playerid;
}
stock ClearReportes(id=-1){
	for(new i = 0; i < MAX_REPORTES; i++){//Realizamos un buscador con el for
		if(Reportes[i][Activo] == true){//Detectamos al administrador en servicio
			Reportes[i][Activo] = false;
		}
	}
	return 1;
}
stock Escritura(string[],string2[]){
	strmid(string,string2,0,strlen(string2),strlen(string2)+1);
	return 1;
}
stock GenerarReporte(reportante, reportado, reporte_txt[]){
	new cont = 0;//Creamos el new para iniciar una verificacion de envio de reporte
	for(new i = 0; i < MAX_REPORTES; i++){//Realizamos un buscador con el for
		if(Reportes[i][Activo] == false){//Detectamos al administrador en servicio
			Reportes[i][Activo] = true;//Decimos que está activo esta ID del reporte
			Escritura(Reportes[i][TextReporte], reporte_txt);//Escribimos dentro de la variable el reporte
			/*
				¿Por que escribimos los nombres y no tomamos solo las id?
				-Es para detectar si el jugador continua conectado, así no confunden las id de algún usuario inocente.
			*/
			Escritura(Reportes[i][Reportante], NombrePJ(reportante));//Escribimos el nombre del usuario que reporta
			Escritura(Reportes[i][Reportado], NombrePJ(reportado));//Escribimos el nombre del usuario reportado
			cont++;//Realizamos un conteo o cambio de variable a cont = 1; para verificar que se ejecuto el reporte.
			break;//Matamos el bucle para que no continue buscando
		}
	}
	if(!cont) SendClientMessage(reportante, -1, "[AVISO]: No se puede generar un reporte ahora mismo, intente más tarde.", 2);//Enviamos cuando no exista espacio libre en variables de reportes
	else SendClientMessage(reportante, -1, "[AVISO]: Reporte fue enviado a la administración, espere que lo atiendan muchas gracias.", 2);//Enviamos cuando se envie el reporte correctamente.
	return 1;
}

stock TimeConvert(seconds)
{
	new tmp[16];
 	new minutes = floatround(seconds/60);
  	seconds -= minutes*60;
   	format(tmp, sizeof(tmp), "%d:%02d", minutes, seconds);
   	return tmp;
}

stock TimeConvertAsText(sec)
{
	new string[128] = "";
	
	if (sec <= 0)
	{
		string = "0 minutos";
		return string;
	}

	new days, hours, minutes, seconds;
	TimeConvertEx(sec, days, hours, minutes, seconds);

	format(string, sizeof string, "%d segundos", seconds);
	if (minutes > 0) format(string, sizeof string, "%d minutos", minutes);
	if (hours > 0) format(string, sizeof string, "%d horas", hours);
	if (days > 0) format(string, sizeof string, "%d días", days);
   	return string;
}

stock TimeConvertEx(sec, &days, &hours, &minutes, &seconds)
{
	days = floatround(sec / 86400);
	hours = floatround((sec - (days * 86400)) / 3600);
	minutes = floatround((sec - (days * 86400) - (hours * 3600)) / 60);
	seconds = sec % 60;
   	return 1;
}

stock TimeConvertExAsText(sec, bool:lastMinute = false)
{
	new string[128] = "", auxString[32];

	if(lastMinute && sec < 60) {
		string = "menos de 1 minuto";
		return string;
	}

	if(sec <= 0) {
		string = "nada";
		return string;
	}

	new days, hours, minutes, seconds;
	TimeConvertEx(sec, days, hours, minutes, seconds);

	if(days) {
		format(auxString, sizeof auxString, "%d días", days);
		strcat(string, auxString);
	}

	if(hours) {
		if(strlen(string) > 0) strcat(string, " ");
		format(auxString, sizeof auxString, "%d horas", hours);
		strcat(string, auxString);
	}

	if(minutes) {
		if(strlen(string) > 0) strcat(string, " ");
		format(auxString, sizeof auxString, "%d minutos", minutes);
		strcat(string, auxString);
	}

	if(seconds) {
		if(strlen(string) > 0) strcat(string, " ");
		format(auxString, sizeof auxString, "%d segundos", seconds);
		strcat(string, auxString);
	}
   	return string;
}

ProxDetector(playerid, Float:radi, string[], col1, col2, col3, col4, col5, div = 0)
{
	new line1_str[165], line2_str[165], bool:line2_used;
	
	if(div)
	{
		format(line1_str, div + 1, "%s", string);
		if(strlen(string) > div)
		{
			format(line2_str, sizeof line2_str, " %s", string[div]);
			line2_used = true;
		}
	}
	else format(line1_str, sizeof line1_str, "%s", string);
	
	new Float:oldposx, Float:oldposy, Float:oldposz, current_vw = GetPlayerVirtualWorld(playerid), current_int = GetPlayerInterior(playerid);
	GetPlayerPos(playerid, oldposx, oldposy, oldposz);
	
	for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++) 					
	{
		if(!IsPlayerConnected(i)) continue;
		if(!PLAYER_TEMP[i][pt_USER_LOGGED]) continue;
		if(GetPlayerVirtualWorld(i) != current_vw) continue;
		if(GetPlayerInterior(i) != current_int) continue;
		
		if(IsPlayerInRangeOfPoint(i, radi/16, oldposx, oldposy, oldposz))
		{
			SendClientMessage(i, col1, line1_str);
			if(div && line2_used) SendClientMessage(i, col1, line2_str);
		}
		else if(IsPlayerInRangeOfPoint(i, radi/8, oldposx, oldposy, oldposz))
		{
			SendClientMessage(i, col2, line1_str);
			if(div && line2_used) SendClientMessage(i, col2, line2_str);
		}
		else if(IsPlayerInRangeOfPoint(i, radi/4, oldposx, oldposy, oldposz))
		{
			SendClientMessage(i, col3, line1_str);			
			if(div && line2_used) SendClientMessage(i, col3, line2_str);
		}
		else if(IsPlayerInRangeOfPoint(i, radi/2, oldposx, oldposy, oldposz))
		{
			SendClientMessage(i, col4, line1_str);	
			if(div && line2_used) SendClientMessage(i, col4, line2_str);
		}
		else if(IsPlayerInRangeOfPoint(i, radi, oldposx, oldposy, oldposz))
		{
			SendClientMessage(i, col5, line1_str);
			if(div && line2_used) SendClientMessage(i, col5, line2_str);
		}
	}
	return 1;
}


NearbyMessage(Float:pos_x, Float:pos_y, Float:pos_z, current_int, current_vw, Float:radi, col, string[])
{
	for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
	{
		if(!IsPlayerConnected(i)) continue;
		if(!PLAYER_TEMP[i][pt_USER_LOGGED]) continue;
		if(GetPlayerVirtualWorld(i) != current_vw) continue;
		if(GetPlayerInterior(i) != current_int) continue;

		if(IsPlayerInRangeOfPoint(i, radi, pos_x, pos_y, pos_z)) SendClientMessage(i, col, string);
	}
	return 1;
}

forward OfertaPerdida(playerid);
public OfertaPerdida(playerid)
{
	GuardaEspalda[playerid] = INVALID_PLAYER_ID;
}


IsValidRPName(const string[])
{
	new Regex:reg_exp = Regex_New("[A-Z][a-z]+_[A-Z][a-z]{1,3}[A-Z]?[a-z]*");
	new result = Regex_Check(string, reg_exp);
	Regex_Delete(reg_exp);
	return result;
}

IsValidEmail(const string[])
{
	new Regex:reg_exp = Regex_New("[a-zA-Z0-9_\\.]+@([a-zA-Z0-9\\-]+\\.)+[a-zA-Z]{2,4}");
	new result = Regex_Check(string, reg_exp);
	Regex_Delete(reg_exp);
	return result;
}


/*IsValidName(name[])
{
	for(new c = 0; c < strlen(name); c++)
	{
	    switch(name[c])
	    {
	        case 'A' .. 'Z', 'a' .. 'z', '_': continue;
	        default: return false;
	    }
	}
	return true;
}*/

KickEx(playerid, time = 0)
{
	PLAYER_TEMP[playerid][pt_KICKED] = true;
	if(!time) Kick(playerid);
	else
	{
		KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][0]);
		PLAYER_TEMP[playerid][pt_TIMERS][0] = SetTimerEx("KickPlayer", time, false, "i", playerid);
	}
	return 1;
}

forward KickPlayer(playerid);
public KickPlayer(playerid)
{
	return Kick(playerid);
}

SetRolePlayNames(playerid)
{
	if(isnull(PLAYER_TEMP[playerid][pt_NAME])) return 0;

	new name[24], bool:underscore;
	format(name, 24, "%s", PLAYER_TEMP[playerid][pt_NAME]);
	format(PLAYER_TEMP[playerid][pt_RP_NAME], 24, "%s", name);
	for(new i = 0; i < 24; i++)
	{
		if(name[i] == '_')
		{
			PLAYER_TEMP[playerid][pt_RP_NAME][i] = ' ';
			if(!underscore)
			{
				strmid(PLAYER_TEMP[playerid][pt_FIRST_NAME], name, 0, i);
				strmid(PLAYER_TEMP[playerid][pt_SUB_NAME], name, i + 1, 24);
				underscore = true;
			}
		}
	}
	return 1;
}

RP_GetPlayerName(playerid)
{
	new name[24];
	format(name, 24, "%s", PLAYER_TEMP[playerid][pt_NAME]);
    for(new i = 0; i < 24; i++) {
		if (name[i] == '_') name[i] = ' ';
	}

	return name;
}

LoadPlayerPhoneBook(playerid)
{
	if(PI[playerid][pi_ID] == 0) return 0;

	inline OnPhoneBookLoad()
	{
		new rows;
		if(cache_get_row_count(rows))
		{
			for(new i = 0; i != rows; i ++)
			{
				new id, name[24], number;
				cache_get_value_name_int(i, "id", id);
				cache_get_value_name(i, "name", name);
				cache_get_value_name_int(i, "number", number);

				PLAYER_PHONE_BOOK[playerid][i][phone_book_contact_VALID] = true;
				PLAYER_PHONE_BOOK[playerid][i][phone_book_contact_ID] = id;
				format(PLAYER_PHONE_BOOK[playerid][i][phone_book_contact_NAME], 24, "%s", name);
				PLAYER_PHONE_BOOK[playerid][i][phone_book_contact_PHONE_NUMBER] = number;
			}
		}
	}
	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT * FROM pbook WHERE id_player = %d LIMIT %d;", PI[playerid][pi_ID], MAX_PHONE_CONTACTS);
	mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnPhoneBookLoad);
	return 1;
}

RegisterNewPlayerPhoneBook(playerid, slot)
{
	inline OnContactInserted()
	{
		PLAYER_PHONE_BOOK[playerid][slot][phone_book_contact_ID] = cache_insert_id();
	}
	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "INSERT INTO pbook (id_player, name, number) VALUES (%d, '%e', %d);", PI[playerid][pi_ID], PLAYER_PHONE_BOOK[playerid][slot][phone_book_contact_NAME], PLAYER_PHONE_BOOK[playerid][slot][phone_book_contact_PHONE_NUMBER]);
	mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnContactInserted);
	return 1;
}

RegisterPhoneMessage(from_id, to_id, message[], offline = 0)
{
	new date[24], from_id_insert[24] = "NULL", to_id_insert[24] = "NULL";
	getDateTime(date);
	if(from_id) format(from_id_insert, 24, "%d", from_id);
	if(to_id) format(to_id_insert, 24, "%d", to_id);

	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "INSERT INTO pmessages (from_id, to_id, message, date, offline) VALUES (%s, %s, '%e', '%e', %d);", from_id_insert, to_id_insert, message, date, offline);
	mysql_tquery(srp_db, QUERY_BUFFER);
	return 1;
}


forward NoCallResponse(playerid);
public NoCallResponse(playerid)
{
	if(!PLAYER_TEMP[playerid][pt_PLAYER_IN_CALL]) return 0;
	if(PLAYER_TEMP[playerid][pt_PLAYER_PHONE_CALL_PLAYERID] == INVALID_PLAYER_ID) return 0;
	if(PLAYER_TEMP[playerid][pt_PLAYER_PHONE_CALL_STATE] != CALL_STATE_WAITING_RESPONSE) return 0;

	EndPhoneCall(playerid);
	return 1;
}

EndPhoneCall(playerid)
{
	if(!PLAYER_TEMP[playerid][pt_PLAYER_IN_CALL]) return 0;

	if(PLAYER_TEMP[playerid][pt_POLICE_CALL_NAME] || PLAYER_TEMP[playerid][pt_POLICE_CALL_DESCRIPTION])
	{
		PLAYER_TEMP[playerid][pt_PLAYER_IN_CALL] = false;
		PLAYER_TEMP[playerid][pt_POLICE_CALL_NAME] = false;
		PLAYER_TEMP[playerid][pt_POLICE_CALL_DESCRIPTION] = false;
		return 1;
	}

	if(PLAYER_TEMP[playerid][pt_PLAYER_PHONE_CALL_PLAYERID] == INVALID_PLAYER_ID) return 0;
	if(PLAYER_TEMP[playerid][pt_PLAYER_PHONE_CALL_STATE] == CALL_GAME_STATE_NONE) return 0;

	new to_playerid = PLAYER_TEMP[playerid][pt_PLAYER_PHONE_CALL_PLAYERID];
	switch(PLAYER_TEMP[playerid][pt_PLAYER_PHONE_CALL_STATE])
	{
		case CALL_STATE_WAITING_RESPONSE:
		{
			KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][6]);

			PLAYER_TEMP[to_playerid][pt_PLAYER_IN_CALL] = false;
			PLAYER_TEMP[to_playerid][pt_PLAYER_PHONE_CALL_STATE] = CALL_GAME_STATE_NONE;
			PLAYER_TEMP[to_playerid][pt_PLAYER_PHONE_CALL_PLAYERID] = INVALID_PLAYER_ID;
		}
		case CALL_STATE_INCOMING_CALL:
		{
			SendClientMessage(to_playerid, -1, "»No respondieron el teléfono...");
			KillTimer(PLAYER_TEMP[to_playerid][pt_TIMERS][6]);

			PLAYER_TEMP[to_playerid][pt_PLAYER_IN_CALL] = false;
			PLAYER_TEMP[to_playerid][pt_PLAYER_PHONE_CALL_STATE] = CALL_GAME_STATE_NONE;
			PLAYER_TEMP[to_playerid][pt_PLAYER_PHONE_CALL_PLAYERID] = INVALID_PLAYER_ID;
		}
		case CALL_STATE_ESTABLISHED:
		{
			SendClientMessage(to_playerid, -1, ""WHITE"Llamada finalizada.");
			PLAYER_TEMP[to_playerid][pt_PLAYER_IN_CALL] = false;
			PLAYER_TEMP[to_playerid][pt_PLAYER_PHONE_CALL_STATE] = CALL_GAME_STATE_NONE;
			PLAYER_TEMP[to_playerid][pt_PLAYER_PHONE_CALL_PLAYERID] = INVALID_PLAYER_ID;

			SetPlayerSpecialAction(playerid, SPECIAL_ACTION_STOPUSECELLPHONE);
			SetPlayerSpecialAction(to_playerid, SPECIAL_ACTION_STOPUSECELLPHONE);
		}
	}

	PLAYER_TEMP[playerid][pt_PLAYER_IN_CALL] = false;
	PLAYER_TEMP[playerid][pt_PLAYER_PHONE_CALL_STATE] = CALL_GAME_STATE_NONE;
	PLAYER_TEMP[playerid][pt_PLAYER_PHONE_CALL_PLAYERID] = INVALID_PLAYER_ID;
	return 1;
}

convertPhoneNumber(playerid, number)
{
	new f_string[24], bool:exists;
	for(new i = 0; i != MAX_PHONE_CONTACTS; i ++)
	{
		if(!PLAYER_PHONE_BOOK[playerid][i][phone_book_contact_VALID]) continue;
		if(number == PLAYER_PHONE_BOOK[playerid][i][phone_book_contact_PHONE_NUMBER])
		{
			exists = true;
			format(f_string, sizeof f_string, "%s", PLAYER_PHONE_BOOK[playerid][i][phone_book_contact_NAME]);
			break;
		}
	}

	if(!exists) format(f_string, sizeof f_string, "%d", number);
	return f_string;
}

GetEmptyPlayerPhoneBookSlot(playerid)
{
	for(new i = 0; i != MAX_PHONE_CONTACTS; i ++)
	{
		if(!PLAYER_PHONE_BOOK[playerid][i][phone_book_contact_VALID]) return i;
	}
	return -1;
}

LoadPlayerGPSData(playerid)
{
	if(PI[playerid][pi_ID] == 0) return 0;

	inline OnPgpsLoad()
	{
		new rows;
		if(cache_get_row_count(rows))
		{
			for(new i = 0; i != rows; i ++)
			{
				PLAYER_GPS[playerid][i][player_gps_VALID] = true;
				cache_get_value_name_int(i, "id", PLAYER_GPS[playerid][i][player_gps_ID]);
				cache_get_value_name(i, "name", PLAYER_GPS[playerid][i][player_gps_NAME]);
				cache_get_value_name_float(i, "xCerrar", PLAYER_GPS[playerid][i][player_gps_X]);
				cache_get_value_name_float(i, "y", PLAYER_GPS[playerid][i][player_gps_Y]);
				cache_get_value_name_float(i, "z", PLAYER_GPS[playerid][i][player_gps_Z]);
				cache_get_value_name_int(i, "world", PLAYER_GPS[playerid][i][player_gps_WORLD]);
				cache_get_value_name_int(i, "interior", PLAYER_GPS[playerid][i][player_gps_INTERIOR]);

			}
		}
	}
	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT * FROM pgps WHERE id_player = %d;", PI[playerid][pi_ID]);
	mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnPgpsLoad);
	return 1;
}

LoadPlayerToys(playerid)
{
	if(PI[playerid][pi_ID] == 0) return 0;

	inline OnPlayerToysLoad()
	{
		new rows;
		if(cache_get_row_count(rows))
		{
			for(new i = 0; i != rows; i ++)
			{
				PLAYER_TOYS[playerid][i][player_toy_VALID] = true;
				cache_get_value_name_int(i, "id", PLAYER_TOYS[playerid][i][player_toy_ID]);
				cache_get_value_name(i, "name", PLAYER_TOYS[playerid][i][player_toy_NAME]);
				cache_get_value_name_int(i, "attached", PLAYER_TOYS[playerid][i][player_toy_ATTACHED]);
				cache_get_value_name_int(i, "modelid", PLAYER_TOYS[playerid][i][player_toy_MODELID]);
				cache_get_value_name_int(i, "bone", PLAYER_TOYS[playerid][i][player_toy_BONE]);
				cache_get_value_name_float(i, "offset_x", PLAYER_TOYS[playerid][i][player_toy_OFFSET_X]);
				cache_get_value_name_float(i, "offset_y", PLAYER_TOYS[playerid][i][player_toy_OFFSET_Y]);
				cache_get_value_name_float(i, "offset_z", PLAYER_TOYS[playerid][i][player_toy_OFFSET_Z]);
				cache_get_value_name_float(i, "rot_x", PLAYER_TOYS[playerid][i][player_toy_ROT_X]);
				cache_get_value_name_float(i, "rot_y", PLAYER_TOYS[playerid][i][player_toy_ROT_Y]);
				cache_get_value_name_float(i, "rot_z", PLAYER_TOYS[playerid][i][player_toy_ROT_Z]);
				cache_get_value_name_float(i, "scale_x", PLAYER_TOYS[playerid][i][player_toy_SCALE_X]);
				cache_get_value_name_float(i, "scale_y", PLAYER_TOYS[playerid][i][player_toy_SCALE_Y]);
				cache_get_value_name_float(i, "scale_z", PLAYER_TOYS[playerid][i][player_toy_SCALE_Z]);
				cache_get_value_name_int(i, "color1", PLAYER_TOYS[playerid][i][player_toy_COLOR_1]);
				cache_get_value_name_int(i, "color2", PLAYER_TOYS[playerid][i][player_toy_COLOR_2]);
			}
		}
	}
	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT * FROM ptoys WHERE id_player = %d;", PI[playerid][pi_ID]);
	mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnPlayerToysLoad);
	return 1;
}

SavePlayerToys(playerid)
{
	if(!PI[playerid][pi_ID]) return 0;

	for(new i = 0; i != MAX_SU_TOYS; i ++)
	{
		if(!PLAYER_TOYS[playerid][i][player_toy_VALID]) continue;
		mysql_format
		(
			srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER,
			"\
				UPDATE ptoys SET \
					name = '%e',\
					attached = %d,\
					modelid = %d,\
					bone = %d,\
					offset_x = %f,\
					offset_y = %f,\
					offset_z = %f,\
					rot_x = %f,\
					rot_y = %f,\
					rot_z = %f,\
					scale_x = %f,\
					scale_y = %f,\
					scale_z = %f,\
					color1 = %d,\
					color2 = %d \
				WHERE id = %d;\
			",
			PLAYER_TOYS[playerid][i][player_toy_NAME], PLAYER_TOYS[playerid][i][player_toy_ATTACHED], PLAYER_TOYS[playerid][i][player_toy_MODELID],
			PLAYER_TOYS[playerid][i][player_toy_BONE], PLAYER_TOYS[playerid][i][player_toy_OFFSET_X], PLAYER_TOYS[playerid][i][player_toy_OFFSET_Y],
			PLAYER_TOYS[playerid][i][player_toy_OFFSET_Z], PLAYER_TOYS[playerid][i][player_toy_ROT_X], PLAYER_TOYS[playerid][i][player_toy_ROT_Y],
			PLAYER_TOYS[playerid][i][player_toy_ROT_Z], PLAYER_TOYS[playerid][i][player_toy_SCALE_X], PLAYER_TOYS[playerid][i][player_toy_SCALE_Y],
			PLAYER_TOYS[playerid][i][player_toy_SCALE_Z], PLAYER_TOYS[playerid][i][player_toy_COLOR_1], PLAYER_TOYS[playerid][i][player_toy_COLOR_2],
			PLAYER_TOYS[playerid][i][player_toy_ID]
		);
		mysql_tquery(srp_db, QUERY_BUFFER);
	}
	return 1;
}

stock minrand(min, max) //By Alex "Y_Less" Cole
{
	return random(max - min) + min;
}

stock ConvertTime_SecondsToHours(sec, &hours, &minutes, &seconds)
{
	hours = floatround(sec / 3600);
	minutes = floatround((sec - (hours * 3600)) / 60);
	seconds = sec % 60;
   	return 1;
}

stock SetTextDrawAnuncioText(numerotel, texto[])
{
    format(_InfoAnuncio[4][Anuncio], 128, "%s", _InfoAnuncio[3][Anuncio]);
    TextDrawSetString(_InfoAnuncio[4][TDAnuncio], _InfoAnuncio[4][Anuncio]);
    format(_InfoAnuncio[3][Anuncio], 128, "%s", _InfoAnuncio[2][Anuncio]);
    TextDrawSetString(_InfoAnuncio[3][TDAnuncio], _InfoAnuncio[3][Anuncio]);
    format(_InfoAnuncio[2][Anuncio], 128, "%s", _InfoAnuncio[1][Anuncio]);
    TextDrawSetString(_InfoAnuncio[2][TDAnuncio], _InfoAnuncio[2][Anuncio]);
	format(_InfoAnuncio[1][Anuncio], 128, "%s", _InfoAnuncio[0][Anuncio]);
    TextDrawSetString(_InfoAnuncio[1][TDAnuncio], _InfoAnuncio[1][Anuncio]);
	format(_InfoAnuncio[0][Anuncio], 128, "[Anuncio]: %s [Movil]: %d", texto, numerotel);
    TextDrawSetString(_InfoAnuncio[0][TDAnuncio], _InfoAnuncio[0][Anuncio]);
    return 1;
}

CreatePlayerTextDraws(playerid)
{
	
	for(new i; i < sizeof(PlayerTextdraws[]); i++) PlayerTextdraws[playerid][Player_Textdraws_Enum:i] = INVALID_TEXT_DRAW;
	
	PlayerTextdraws[playerid][ptextdraw_NECESIDADES][0] = CreatePlayerTextDraw(playerid, 627.000000, 20.000000, "HUD:radar_dateFood"); 
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][0], 4);
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][0], 0.600000, 2.000000);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][0], 13.500000, 15.000000);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][0], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][0], 0);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][0], 1);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][0], -1);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][0], 255);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][0], 50);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][0], 1);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][0], 1);
    PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][0], 0);

    PlayerTextdraws[playerid][ptextdraw_NECESIDADES][1] = CreatePlayerTextDraw(playerid, 627.000000, 50.000000, "HUD:radar_dateDrink"); //sed
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][1], 4);
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][1], 0.600000, 2.000000);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][1], 13.500000, 15.000000);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][1], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][1], 0);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][1], 1);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][1], -1);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][1], 255);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][1], 50);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][1], 1);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][1], 1);
	PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][1], 0);
	
	PlayerTextdraws[playerid][ptextdraw_NECESIDADES][2] = CreatePlayerTextDraw(playerid, 634.000000, 37.000000, "100"); ///hambre
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][2], 1);
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][2], 0.180000, 0.850000);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][2], 400.000000, 17.000000);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][2], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][2], 0);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][2], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][2], -1);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][2], 255);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][2], 50);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][2], 0);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][2], 1);
	PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][2], 0);
	
	PlayerTextdraws[playerid][ptextdraw_NECESIDADES][3] = CreatePlayerTextDraw(playerid, 634.000000, 66.000000, "100"); ///Sed
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][3], 1);
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][3], 0.180000, 0.850000);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][3], 400.000000, 17.000000);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][3], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][3], 1);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][3], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][3], -1);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][3], 255);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][3], 50);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][3], 0);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][3], 1);
	PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][3], 0);
	
	PlayerTextdraws[playerid][ptextdraw_HUD][7] = CreatePlayerTextDraw(playerid, 60.0, 435.000000, "Idlewood");
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_HUD][7], 1);
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_HUD][7], 0.180000, 0.850000);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_HUD][7], 400.000000, 154.000000);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_HUD][7], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_HUD][7], 1);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_HUD][7], 2);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_HUD][7], 255);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_HUD][7], 0);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_HUD][7], 1);
	
	PlayerTextdraws[playerid][ptextdraw_NECESIDADES][4] = CreatePlayerTextDraw(playerid, 10.0, 430.000000, "SPAIN~n~~b~PLUS");
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][4], 1);
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][4], 0.180000, 0.850000);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][4], 400.000000, 154.000000);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][4], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][4], 1);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][4], 2);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][4], 255);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][4], 0);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][4], 1);
	
	/*PlayerTextdraws[playerid][ptextdraw_NECESIDADES][4] = CreatePlayerTextDraw(playerid, 10.0, 430.000000, "SPAIN~n~~b~PLUS");
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][4], 1);
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][4], 0.180000, 0.850000);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][4], 400.000000, 154.000000);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][4], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][4], 1);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][4], 2);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][4], 255);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][4], 0);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][4], 1);*/
	
	
	pDealerShopMenuTd[playerid][0] = CreatePlayerTextDraw(playerid, 320.000000, 159.000000, "box");
	PlayerTextDrawLetterSize(playerid, pDealerShopMenuTd[playerid][0], 0.000000, 15.033352);
	PlayerTextDrawTextSize(playerid, pDealerShopMenuTd[playerid][0], 0.000000, 240.000000);
	PlayerTextDrawAlignment(playerid, pDealerShopMenuTd[playerid][0], 2);
	PlayerTextDrawColor(playerid, pDealerShopMenuTd[playerid][0], -1);
	PlayerTextDrawUseBox(playerid, pDealerShopMenuTd[playerid][0], 1);
	PlayerTextDrawBoxColor(playerid, pDealerShopMenuTd[playerid][0], HexToIntEx("878787", 155));
	PlayerTextDrawSetShadow(playerid, pDealerShopMenuTd[playerid][0], 0);
	PlayerTextDrawSetOutline(playerid, pDealerShopMenuTd[playerid][0], 0);
	PlayerTextDrawBackgroundColor(playerid, pDealerShopMenuTd[playerid][0], 255);
	PlayerTextDrawFont(playerid, pDealerShopMenuTd[playerid][0], 1);
	PlayerTextDrawSetProportional(playerid, pDealerShopMenuTd[playerid][0], 1);
	PlayerTextDrawSetShadow(playerid, pDealerShopMenuTd[playerid][0], 0);

	pDealerShopMenuTd[playerid][1] = CreatePlayerTextDraw(playerid, 320.000000, 156.000000, "Concesionario");
	PlayerTextDrawLetterSize(playerid, pDealerShopMenuTd[playerid][1], 0.400000, 1.600000);
	PlayerTextDrawTextSize(playerid, pDealerShopMenuTd[playerid][1], 0.000000, 240.000000);
	PlayerTextDrawAlignment(playerid, pDealerShopMenuTd[playerid][1], 2);
	PlayerTextDrawColor(playerid, pDealerShopMenuTd[playerid][1], -1);
	PlayerTextDrawUseBox(playerid, pDealerShopMenuTd[playerid][1], 1);
	PlayerTextDrawBoxColor(playerid, pDealerShopMenuTd[playerid][1], -1633916417);
	PlayerTextDrawSetShadow(playerid, pDealerShopMenuTd[playerid][1], 0);
	PlayerTextDrawSetOutline(playerid, pDealerShopMenuTd[playerid][1], 0);
	PlayerTextDrawBackgroundColor(playerid, pDealerShopMenuTd[playerid][1], 255);
	PlayerTextDrawFont(playerid, pDealerShopMenuTd[playerid][1], 0);
	PlayerTextDrawSetProportional(playerid, pDealerShopMenuTd[playerid][1], 1);
	PlayerTextDrawSetShadow(playerid, pDealerShopMenuTd[playerid][1], 0);

	pDealerShopMenuTd[playerid][2] = CreatePlayerTextDraw(playerid, 215.000000, 184.000000, "");
	PlayerTextDrawLetterSize(playerid, pDealerShopMenuTd[playerid][2], 0.000000, 0.000000);
	PlayerTextDrawTextSize(playerid, pDealerShopMenuTd[playerid][2], 80.000000, 85.000000);
	PlayerTextDrawAlignment(playerid, pDealerShopMenuTd[playerid][2], 1);
	PlayerTextDrawColor(playerid, pDealerShopMenuTd[playerid][2], -1);
	PlayerTextDrawSetShadow(playerid, pDealerShopMenuTd[playerid][2], 0);
	PlayerTextDrawSetOutline(playerid, pDealerShopMenuTd[playerid][2], 0);
	PlayerTextDrawBackgroundColor(playerid, pDealerShopMenuTd[playerid][2], -19201);
	PlayerTextDrawFont(playerid, pDealerShopMenuTd[playerid][2], 5);
	PlayerTextDrawSetProportional(playerid, pDealerShopMenuTd[playerid][2], 0);
	PlayerTextDrawSetShadow(playerid, pDealerShopMenuTd[playerid][2], 0);
	PlayerTextDrawSetPreviewModel(playerid, pDealerShopMenuTd[playerid][2], 18864);
	PlayerTextDrawSetPreviewRot(playerid, pDealerShopMenuTd[playerid][2], 344.000000, 0.000000, 45.000000, 1.000000);

	pDealerShopMenuTd[playerid][3] = CreatePlayerTextDraw(playerid, 217.000000, 186.000000, "");
	PlayerTextDrawLetterSize(playerid, pDealerShopMenuTd[playerid][3], 0.000000, 0.000000);
	PlayerTextDrawTextSize(playerid, pDealerShopMenuTd[playerid][3], 76.000000, 81.000000);
	PlayerTextDrawAlignment(playerid, pDealerShopMenuTd[playerid][3], 1);
	PlayerTextDrawColor(playerid, pDealerShopMenuTd[playerid][3], -1);
	PlayerTextDrawSetShadow(playerid, pDealerShopMenuTd[playerid][3], 0);
	PlayerTextDrawSetOutline(playerid, pDealerShopMenuTd[playerid][3], 0);
	PlayerTextDrawBackgroundColor(playerid, pDealerShopMenuTd[playerid][3], -926365441);
	PlayerTextDrawFont(playerid, pDealerShopMenuTd[playerid][3], 5);
	PlayerTextDrawSetProportional(playerid, pDealerShopMenuTd[playerid][3], 0);
	PlayerTextDrawSetShadow(playerid, pDealerShopMenuTd[playerid][3], 0);
	PlayerTextDrawSetPreviewModel(playerid, pDealerShopMenuTd[playerid][3], 0);
	PlayerTextDrawSetPreviewRot(playerid, pDealerShopMenuTd[playerid][3], 344.000000, 0.000000, 45.000000, 1.000000);

	pDealerShopMenuTd[playerid][4] = CreatePlayerTextDraw(playerid, 311.000000, 207.000000, "Modelo:__~n~Precio:__$");
	PlayerTextDrawLetterSize(playerid, pDealerShopMenuTd[playerid][4], 0.219000, 1.081481);
	PlayerTextDrawAlignment(playerid, pDealerShopMenuTd[playerid][4], 1);
	PlayerTextDrawColor(playerid, pDealerShopMenuTd[playerid][4], -1);
	PlayerTextDrawSetShadow(playerid, pDealerShopMenuTd[playerid][4], 0);
	PlayerTextDrawSetOutline(playerid, pDealerShopMenuTd[playerid][4], 0);
	PlayerTextDrawBackgroundColor(playerid, pDealerShopMenuTd[playerid][4], 255);
	PlayerTextDrawFont(playerid, pDealerShopMenuTd[playerid][4], 1);
	PlayerTextDrawSetProportional(playerid, pDealerShopMenuTd[playerid][4], 1);
	PlayerTextDrawSetShadow(playerid, pDealerShopMenuTd[playerid][4], 0);

	pDealerShopMenuTd[playerid][5] = CreatePlayerTextDraw(playerid, 363.000000, 233.000000, "Comprar");
	PlayerTextDrawLetterSize(playerid, pDealerShopMenuTd[playerid][5], 0.188333, 1.189333);
	PlayerTextDrawTextSize(playerid, pDealerShopMenuTd[playerid][5], 13.000000, 50.000000);
	PlayerTextDrawAlignment(playerid, pDealerShopMenuTd[playerid][5], 2);
	PlayerTextDrawColor(playerid, pDealerShopMenuTd[playerid][5], -1);
	PlayerTextDrawUseBox(playerid, pDealerShopMenuTd[playerid][5], 1);
	PlayerTextDrawBoxColor(playerid, pDealerShopMenuTd[playerid][5], 1855979775); // sin dinero color = -900267777
	PlayerTextDrawSetShadow(playerid, pDealerShopMenuTd[playerid][5], 0);
	PlayerTextDrawSetOutline(playerid, pDealerShopMenuTd[playerid][5], 0);
	PlayerTextDrawBackgroundColor(playerid, pDealerShopMenuTd[playerid][5], 255);
	PlayerTextDrawFont(playerid, pDealerShopMenuTd[playerid][5], 2);
	PlayerTextDrawSetProportional(playerid, pDealerShopMenuTd[playerid][5], 1);
	PlayerTextDrawSetShadow(playerid, pDealerShopMenuTd[playerid][5], 0);
	PlayerTextDrawSetSelectable(playerid, pDealerShopMenuTd[playerid][5], true);

	pDealerShopMenuTd[playerid][6] = CreatePlayerTextDraw(playerid, 404.000000, 233.000000, ">>");
	PlayerTextDrawLetterSize(playerid, pDealerShopMenuTd[playerid][6], 0.188333, 1.189333);
	PlayerTextDrawTextSize(playerid, pDealerShopMenuTd[playerid][6], 13.000000, 20.000000);
	PlayerTextDrawAlignment(playerid, pDealerShopMenuTd[playerid][6], 2);
	PlayerTextDrawColor(playerid, pDealerShopMenuTd[playerid][6], -1);
	PlayerTextDrawUseBox(playerid, pDealerShopMenuTd[playerid][6], 1);
	PlayerTextDrawBoxColor(playerid, pDealerShopMenuTd[playerid][6], -1094795521);
	PlayerTextDrawSetShadow(playerid, pDealerShopMenuTd[playerid][6], 0);
	PlayerTextDrawSetOutline(playerid, pDealerShopMenuTd[playerid][6], 0);
	PlayerTextDrawBackgroundColor(playerid, pDealerShopMenuTd[playerid][6], 255);
	PlayerTextDrawFont(playerid, pDealerShopMenuTd[playerid][6], 2);
	PlayerTextDrawSetProportional(playerid, pDealerShopMenuTd[playerid][6], 1);
	PlayerTextDrawSetShadow(playerid, pDealerShopMenuTd[playerid][6], 0);
	PlayerTextDrawSetSelectable(playerid, pDealerShopMenuTd[playerid][6], true);

	pDealerShopMenuTd[playerid][7] = CreatePlayerTextDraw(playerid, 322.000000, 233.000000, "<<");
	PlayerTextDrawLetterSize(playerid, pDealerShopMenuTd[playerid][7], 0.188333, 1.189333);
	PlayerTextDrawTextSize(playerid, pDealerShopMenuTd[playerid][7], 13.000000, 20.000000);
	PlayerTextDrawAlignment(playerid, pDealerShopMenuTd[playerid][7], 2);
	PlayerTextDrawColor(playerid, pDealerShopMenuTd[playerid][7], -1);
	PlayerTextDrawUseBox(playerid, pDealerShopMenuTd[playerid][7], 1);
	PlayerTextDrawBoxColor(playerid, pDealerShopMenuTd[playerid][7], -1094795521);
	PlayerTextDrawSetShadow(playerid, pDealerShopMenuTd[playerid][7], 0);
	PlayerTextDrawSetOutline(playerid, pDealerShopMenuTd[playerid][7], 0);
	PlayerTextDrawBackgroundColor(playerid, pDealerShopMenuTd[playerid][7], 255);
	PlayerTextDrawFont(playerid, pDealerShopMenuTd[playerid][7], 2);
	PlayerTextDrawSetProportional(playerid, pDealerShopMenuTd[playerid][7], 1);
	PlayerTextDrawSetShadow(playerid, pDealerShopMenuTd[playerid][7], 0);
	PlayerTextDrawSetSelectable(playerid, pDealerShopMenuTd[playerid][7], true);

	pDealerShopMenuTd[playerid][8] = CreatePlayerTextDraw(playerid, 255.000000, 271.000000, "0/0");
	PlayerTextDrawLetterSize(playerid, pDealerShopMenuTd[playerid][8], 0.163666, 0.832593);
	PlayerTextDrawAlignment(playerid, pDealerShopMenuTd[playerid][8], 2);
	PlayerTextDrawColor(playerid, pDealerShopMenuTd[playerid][8], -66);
	PlayerTextDrawSetShadow(playerid, pDealerShopMenuTd[playerid][8], 0);
	PlayerTextDrawSetOutline(playerid, pDealerShopMenuTd[playerid][8], 0);
	PlayerTextDrawBackgroundColor(playerid, pDealerShopMenuTd[playerid][8], 255);
	PlayerTextDrawFont(playerid, pDealerShopMenuTd[playerid][8], 1);
	PlayerTextDrawSetProportional(playerid, pDealerShopMenuTd[playerid][8], 1);
	PlayerTextDrawSetShadow(playerid, pDealerShopMenuTd[playerid][8], 0);

	pDealerShopMenuTd[playerid][9] = CreatePlayerTextDraw(playerid, 320.000000, 284.000000, "Concesionario");
	PlayerTextDrawLetterSize(playerid, pDealerShopMenuTd[playerid][9], 0.400000, 1.600000);
	PlayerTextDrawTextSize(playerid, pDealerShopMenuTd[playerid][9], 0.000000, 240.000000);
	PlayerTextDrawAlignment(playerid, pDealerShopMenuTd[playerid][9], 2);
	PlayerTextDrawColor(playerid, pDealerShopMenuTd[playerid][9], -1);
	PlayerTextDrawUseBox(playerid, pDealerShopMenuTd[playerid][9], 1);
	PlayerTextDrawBoxColor(playerid, pDealerShopMenuTd[playerid][9], -1633916417);
	PlayerTextDrawSetShadow(playerid, pDealerShopMenuTd[playerid][9], 0);
	PlayerTextDrawSetOutline(playerid, pDealerShopMenuTd[playerid][9], 0);
	PlayerTextDrawBackgroundColor(playerid, pDealerShopMenuTd[playerid][9], 255);
	PlayerTextDrawFont(playerid, pDealerShopMenuTd[playerid][9], 0);
	PlayerTextDrawSetProportional(playerid, pDealerShopMenuTd[playerid][9], 1);
	PlayerTextDrawSetShadow(playerid, pDealerShopMenuTd[playerid][9], 0);
	
	MensajeTD[playerid] = CreatePlayerTextDraw(playerid, 316.000000, 384.000000, "");
	PlayerTextDrawLetterSize(playerid,  MensajeTD[playerid], 0.449999, 1.600000);
	PlayerTextDrawAlignment(playerid, MensajeTD[playerid], 2);
	PlayerTextDrawBackgroundColor(playerid, MensajeTD[playerid], 70);
	PlayerTextDrawFont(playerid, MensajeTD[playerid], 1);
	PlayerTextDrawLetterSize(playerid, MensajeTD[playerid], 0.290000, 1.200000);
	PlayerTextDrawColor(playerid, MensajeTD[playerid], -1);
	PlayerTextDrawSetOutline(playerid, MensajeTD[playerid], 1);
	PlayerTextDrawSetProportional(playerid, MensajeTD[playerid], 1);

	PlayerTextdraws[playerid][ptextdraw_HOSPITAL][0] = CreatePlayerTextDraw(playerid, 320.000000, 380.000000, "_");
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_HOSPITAL][0], 0.400000, 1.600000);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_HOSPITAL][0], 0.000000, 100.000000);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_HOSPITAL][0], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_HOSPITAL][0], -1);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_HOSPITAL][0], 1);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_HOSPITAL][0], 255);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_HOSPITAL][0], 0);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_HOSPITAL][0], 0);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_HOSPITAL][0], 255);
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_HOSPITAL][0], 1);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_HOSPITAL][0], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_HOSPITAL][0], 0);

	PlayerTextdraws[playerid][ptextdraw_HOSPITAL][1] = CreatePlayerTextDraw(playerid, 272.000000, 382.000000, "_");
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_HOSPITAL][1], 0.400000, 1.127111);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_HOSPITAL][1], 368.000000, 0.000000);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_HOSPITAL][1], 1);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_HOSPITAL][1], -1);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_HOSPITAL][1], 1);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_HOSPITAL][1], -16777123);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_HOSPITAL][1], 0);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_HOSPITAL][1], 0);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_HOSPITAL][1], 255);
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_HOSPITAL][1], 1);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_HOSPITAL][1], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_HOSPITAL][1], 0);

	PlayerTextdraws[playerid][ptextdraw_HOSPITAL][2] = CreatePlayerTextDraw(playerid, 272.000000, 382.000000, "_");
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_HOSPITAL][2], 0.400000, 1.127111);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_HOSPITAL][2], 270.000000, 0.000000);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_HOSPITAL][2], 1);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_HOSPITAL][2], -1);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_HOSPITAL][2], 1);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_HOSPITAL][2], -16777123);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_HOSPITAL][2], 0);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_HOSPITAL][2], 0);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_HOSPITAL][2], 255);
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_HOSPITAL][2], 1);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_HOSPITAL][2], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_HOSPITAL][2], 0);

	PlayerTextdraws[playerid][ptextdraw_DAMAGE][0] = CreatePlayerTextDraw(playerid, 443.206420, 361.783081, "_");//AGREDIDO
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_DAMAGE][0], 0.191088, 1.535832);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_DAMAGE][0], 1);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_DAMAGE][0], -16776961);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_DAMAGE][0], 0);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_DAMAGE][0], 255);
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_DAMAGE][0], 1);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_DAMAGE][0], 1);

	PlayerTextdraws[playerid][ptextdraw_DAMAGE][1] = CreatePlayerTextDraw(playerid, 156.939971, 361.783081, "_");//ATACANTE
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_DAMAGE][1], 0.191088, 1.535832);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_DAMAGE][1], 1);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_DAMAGE][1], 16711935);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_DAMAGE][1], 0);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_DAMAGE][1], 255);
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_DAMAGE][1], 1);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_DAMAGE][1], 1); 
	
	PlayerTextdraws[playerid][ptextdraw_DAMAGE][3] = CreatePlayerTextDraw(playerid, 453.206420, 350.783081, "_");//ATACANTE 2
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_DAMAGE][3], 0.191088, 1.535832);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_DAMAGE][3], 1);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_DAMAGE][3], 16711935);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_DAMAGE][3], 0);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_DAMAGE][3], 255);
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_DAMAGE][3], 1);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_DAMAGE][3], 1);
	
	PlayerTextdraws[playerid][ptextdraw_DAMAGE][4] = CreatePlayerTextDraw(playerid, 166.939971, 350.783081, "_");//ATACANTE 2
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_DAMAGE][4], 0.191088, 1.535832);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_DAMAGE][4], 1);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_DAMAGE][4], 16711935);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_DAMAGE][4], 0);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_DAMAGE][4], 255);
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_DAMAGE][4], 1);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_DAMAGE][4], 1);

	PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][0] = CreatePlayerTextDraw(playerid, 320.000000, 350.000000, "I");
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][0], 27.410259, 5.897183);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][0], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][0], 145);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][0], 0);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][0], 0);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][0], 255);
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][0], 2);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][0], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][0], 0);

	PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][1] = CreatePlayerTextDraw(playerid, 320.000000, 358.000000, "Tienda");
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][1], 0.361666, 1.400889);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][1], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][1], -1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][1], 0);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][1], 1);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][1], 90);
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][1], 0);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][1], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][1], 0);

	PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][2] = CreatePlayerTextDraw(playerid, 320.000000, 377.000000, "Comprar");
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][2], 0.193666, 0.915556);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][2], 10.000000, 34.000000);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][2], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][2], -1);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][2], 1);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][2], -201); // Money = 9306312   ,  -1459617611  No money
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][2], 0);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][2], 0);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][2], 255);
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][2], 1);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][2], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][2], 0);
	PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][2], true);

	PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][3] = CreatePlayerTextDraw(playerid, 363.000000, 377.000000, "Siguiente");
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][3], 0.193666, 0.915556);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][3], 10.000000, 34.000000);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][3], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][3], -1);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][3], 1);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][3], -132);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][3], 0);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][3], 0);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][3], 255);
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][3], 1);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][3], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][3], 0);
	PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][3], true);

	PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][4] = CreatePlayerTextDraw(playerid, 277.000000, 377.000000, "ANTERIOR");
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][4], 0.193666, 0.915556);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][4], 10.000000, 34.000000);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][4], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][4], -1);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][4], 1);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][4], -132);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][4], 0);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][4], 0);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][4], 255);
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][4], 1);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][4], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][4], 0);
	PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][4], true);

	PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][5] = CreatePlayerTextDraw(playerid, 320.000000, 398.000000, "Precio:_0$~n~Ropa:_0/0");
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][5], 0.171666, 0.782815);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][5], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][5], -86);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][5], 0);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][5], 0);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][5], 255);
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][5], 1);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][5], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][5], 0);

	PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][0] = CreatePlayerTextDraw(playerid, 320.000000, 159.000000, "box");
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][0], 0.000000, 15.033352);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][0], 0.000000, 240.000000);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][0], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][0], -1);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][0], 1);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][0], 1869574143);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][0], 0);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][0], 0);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][0], 255);
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][0], 1);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][0], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][0], 0);

	PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][1] = CreatePlayerTextDraw(playerid, 320.000000, 156.000000, "Tienda");
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][1], 0.400000, 1.600000);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][1], 0.000000, 240.000000);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][1], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][1], -1);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][1], 1);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][1], -1633916417);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][1], 0);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][1], 0);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][1], 255);
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][1], 0);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][1], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][1], 0);

	PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][2] = CreatePlayerTextDraw(playerid, 215.000000, 184.000000, "");
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][2], 0.000000, 0.000000);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][2], 80.000000, 85.000000);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][2], 1);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][2], -1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][2], 0);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][2], 0);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][2], -19201);
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][2], 5);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][2], 0);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][2], 0);
	PlayerTextDrawSetPreviewModel(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][2], 18864);
	PlayerTextDrawSetPreviewRot(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][2], 344.000000, 0.000000, 109.000000, 1.000000);

	PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][3] = CreatePlayerTextDraw(playerid, 217.000000, 186.000000, "");
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][3], 0.000000, 0.000000);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][3], 76.000000, 81.000000);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][3], 1);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][3], -1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][3], 0);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][3], 0);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][3], -926365441);
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][3], 5);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][3], 0);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][3], 0);
	PlayerTextDrawSetPreviewModel(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][3], Toys_Shop[0][shop_toy_model]);
	PlayerTextDrawSetPreviewRot(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][3], 344.000000, 0.000000, 109.000000, 1.000000);

	PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][4] = CreatePlayerTextDraw(playerid, 311.000000, 207.000000, "Modelo:__~n~Precio:__$");
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][4], 0.219000, 1.081481);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][4], 1);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][4], -1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][4], 0);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][4], 0);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][4], 255);
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][4], 1);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][4], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][4], 0);

	PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][5] = CreatePlayerTextDraw(playerid, 363.000000, 233.000000, "Comprar");
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][5], 0.188333, 1.189333);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][5], 13.000000, 50.000000);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][5], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][5], -1);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][5], 1);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][5], 1855979775); // sin dinero color = -900267777
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][5], 0);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][5], 0);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][5], 255);
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][5], 2);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][5], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][5], 0);
	PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][5], true);

	PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][6] = CreatePlayerTextDraw(playerid, 404.000000, 233.000000, "Siguiente");
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][6], 0.188333, 1.189333);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][6], 13.000000, 20.000000);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][6], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][6], -1);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][6], 1);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][6], -1094795521);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][6], 0);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][6], 0);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][6], 255);
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][6], 2);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][6], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][6], 0);
	PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][6], true);

	PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][7] = CreatePlayerTextDraw(playerid, 322.000000, 233.000000, "Atrás");
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][7], 0.188333, 1.189333);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][7], 13.000000, 20.000000);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][7], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][7], -1);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][7], 1);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][7], -1094795521);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][7], 0);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][7], 0);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][7], 255);
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][7], 2);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][7], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][7], 0);
	PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][7], true);

	PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][8] = CreatePlayerTextDraw(playerid, 255.000000, 271.000000, "0/0");
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][8], 0.163666, 0.832593);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][8], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][8], -66);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][8], 0);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][8], 0);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][8], 255);
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][8], 1);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][8], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][8], 0);

	PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][9] = CreatePlayerTextDraw(playerid, 320.000000, 284.000000, "Accesorios");
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][9], 0.400000, 1.600000);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][9], 0.000000, 240.000000);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][9], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][9], -1);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][9], 1);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][9], -1633916417);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][9], 0);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][9], 0);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][9], 255);
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][9], 0);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][9], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][9], 0);
	
	PlayerTextdraws[playerid][ptextdraw_NOTIFICATION] = CreatePlayerTextDraw(playerid, -105.000000, 200.000000, "EEEEEEE WEPOM EEEEEEEEE");
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_NOTIFICATION], 2);
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_NOTIFICATION], 0.250000, 1.000000);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_NOTIFICATION], 10.000000, 200.000000);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_NOTIFICATION], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_NOTIFICATION], 0);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_NOTIFICATION], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_NOTIFICATION], -1);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_NOTIFICATION], 255);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_NOTIFICATION], 100);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_NOTIFICATION], 1);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_NOTIFICATION], 1);
	PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_NOTIFICATION], 0);
	
	//Telefono Movil
	//calling
	PlayerTextdraws[playerid][ptextdraw_PHONE_CALLING][0] = CreatePlayerTextDraw(playerid, 450.000000, 249.000000, "Preview_Model");
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_CALLING][0], 5);
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_CALLING][0], 0.600000, 2.000000);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_CALLING][0], 100.000000, 100.000000);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_CALLING][0], 0);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_CALLING][0], 0);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_CALLING][0], 1);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_CALLING][0], -1);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_CALLING][0], 50);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_CALLING][0], 255);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_CALLING][0], 0);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_CALLING][0], 1);
	PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_CALLING][0], 0);
	PlayerTextDrawSetPreviewModel(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_CALLING][0], 0);
	PlayerTextDrawSetPreviewRot(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_CALLING][0], -20.000000, 0.000000, -20.000000, 0.800000);
	PlayerTextDrawSetPreviewVehCol(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_CALLING][0], 1, 1);

	PlayerTextdraws[playerid][ptextdraw_PHONE_CALLING][1] = CreatePlayerTextDraw(playerid, 499.000000, 337.000000, "Nombre_Apellido");
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_CALLING][1], 2);
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_CALLING][1], 0.224997, 1.049998);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_CALLING][1], 0.000000, 100.000000);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_CALLING][1], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_CALLING][1], 0);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_CALLING][1], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_CALLING][1], -1);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_CALLING][1], 255);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_CALLING][1], 50);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_CALLING][1], 0);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_CALLING][1], 1);
	PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_CALLING][1], 0);

	PlayerTextdraws[playerid][ptextdraw_PHONE_CALLING][2] = CreatePlayerTextDraw(playerid, 499.000000, 349.000000, "123456790");
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_CALLING][2], 2);
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_CALLING][2], 0.254164, 1.399996);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_CALLING][2], 0.000000, 103.000000);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_CALLING][2], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_CALLING][2], 0);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_CALLING][2], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_CALLING][2], -1);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_CALLING][2], 255);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_CALLING][2], 50);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_CALLING][2], 0);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_CALLING][2], 1);
	PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_CALLING][2], 0);


	//Google maps
	PlayerTextdraws[playerid][ptextdraw_PHONE_MAP_NAME] = CreatePlayerTextDraw(playerid, 494.000000, 234.000000, "Groove Spain");
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MAP_NAME], 2);
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MAP_NAME], 0.204164, 0.899998);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MAP_NAME], 0.000000, 82.500000);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MAP_NAME], 0);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MAP_NAME], 0);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MAP_NAME], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MAP_NAME], 255);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MAP_NAME], 255);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MAP_NAME], -16776961);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MAP_NAME], 0);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MAP_NAME], 1);
	PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MAP_NAME], 0);

	PlayerTextdraws[playerid][ptextdraw_PHONE_PP_DATA][0] = CreatePlayerTextDraw(playerid, 499.000000, 224.000000, "500.000usd");
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_PP_DATA][0], 2);
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_PP_DATA][0], 0.274998, 1.999997);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_PP_DATA][0], 0.000000, 100.000000);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_PP_DATA][0], 0);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_PP_DATA][0], 0);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_PP_DATA][0], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_PP_DATA][0], -1);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_PP_DATA][0], 255);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_PP_DATA][0], 50);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_PP_DATA][0], 0);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_PP_DATA][0], 1);
	PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_PP_DATA][0], 0);

	PlayerTextdraws[playerid][ptextdraw_PHONE_PP_DATA][1] = CreatePlayerTextDraw(playerid, 481.000000, 242.000000, "Nombre_Apellido");
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_PP_DATA][1], 1);
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_PP_DATA][1], 0.195831, 1.349997);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_PP_DATA][1], 0.000000, 100.000000);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_PP_DATA][1], 0);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_PP_DATA][1], 0);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_PP_DATA][1], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_PP_DATA][1], -1);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_PP_DATA][1], 255);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_PP_DATA][1], 50);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_PP_DATA][1], 0);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_PP_DATA][1], 1);
	PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_PP_DATA][1], 0);
	
	//Spotify Musics
	PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][0] = CreatePlayerTextDraw(playerid, 500.000000, 275.000000, "name - artist");
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][0], 2);
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][0], 0.200000, 1.000000);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][0], 10.000000, 120.000000);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][0], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][0], 0);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][0], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][0], -1);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][0], 255);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][0], 50);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][0], 0);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][0], 1);
	PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][0], 1);

	PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][1] = CreatePlayerTextDraw(playerid, 500.000000, 290.000000, "name - artist");
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][1], 2);
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][1], 0.200000, 1.000000);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][1], 10.000000, 120.000000);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][1], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][1], 0);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][1], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][1], -1);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][1], 255);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][1], 50);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][1], 0);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][1], 1);
	PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][1], 1);

	PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][2] = CreatePlayerTextDraw(playerid, 500.000000, 305.000000, "name - artist");
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][2], 2);
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][2], 0.200000, 1.000000);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][2], 10.000000, 120.000000);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][2], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][2], 0);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][2], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][2], -1);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][2], 255);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][2], 50);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][2], 0);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][2], 1);
	PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][2], 1);

	PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][3] = CreatePlayerTextDraw(playerid, 500.000000, 320.000000, "name - artist");
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][3], 2);
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][3], 0.200000, 1.000000);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][3], 10.000000, 120.000000);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][3], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][3], 0);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][3], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][3], -1);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][3], 255);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][3], 50);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][3], 0);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][3], 1);
	PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][3], 1);

	PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][4] = CreatePlayerTextDraw(playerid, 500.000000, 335.000000, "name - artist");
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][4], 2);
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][4], 0.200000, 1.000000);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][4], 10.000000, 120.000000);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][4], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][4], 0);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][4], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][4], -1);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][4], 255);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][4], 50);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][4], 0);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][4], 1);
	PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][4], 1);

	PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][5] = CreatePlayerTextDraw(playerid, 500.000000, 350.000000, "name - artist");
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][5], 2);
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][5], 0.200000, 1.000000);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][5], 10.000000, 120.000000);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][5], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][5], 0);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][5], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][5], -1);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][5], 255);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][5], 50);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][5], 0);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][5], 1);
	PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][5], 1);

	PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][6] = CreatePlayerTextDraw(playerid, 500.000000, 365.000000, "name - artist");
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][6], 2);
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][6], 0.200000, 1.000000);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][6], 10.000000, 120.000000);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][6], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][6], 0);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][6], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][6], -1);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][6], 255);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][6], 50);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][6], 0);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][6], 1);
	PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][6], 1);

	PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][7] = CreatePlayerTextDraw(playerid, 500.000000, 380.000000, "name - artist");
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][7], 2);
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][7], 0.200000, 1.000000);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][7], 10.000000, 120.000000);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][7], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][7], 0);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][7], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][7], -1);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][7], 255);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][7], 50);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][7], 0);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][7], 1);
	PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_MUSICS][7], 1);

	PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][0] = CreatePlayerTextDraw(playerid, 498.000000, 233.000000, "II");
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][0], 1);
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][0], 0.500000, 2.000000);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][0], 15.000000, 10.000000);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][0], 0);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][0], 0);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][0], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][0], 852308735);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][0], 255);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][0], 50);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][0], 0);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][0], 1);
	PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][0], 1);

	PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][1] = CreatePlayerTextDraw(playerid, 500.000000, 393.000000, "By DkillGames");
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][1], 0);
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][1], 0.250000, 1.000000);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][1], 15.000000, 100.000000);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][1], 0);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][1], 0);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][1], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][1], -741092408);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][1], 255);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][1], 50);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][1], 0);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][1], 1);
	PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][1], 1);

	PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][2] = CreatePlayerTextDraw(playerid, 500.000000, 270.000000, "Artist - Name");
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][2], 2);
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][2], 0.200000, 1.000000);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][2], 15.000000, 100.000000);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][2], 0);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][2], 0);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][2], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][2], -741092353);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][2], 255);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][2], 50);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][2], 0);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][2], 1);
	PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][2], 1);

	PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][3] = CreatePlayerTextDraw(playerid, 500.000000, 290.000000, "song - name");
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][3], 3);
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][3], 0.250000, 1.000000);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][3], 15.000000, 100.000000);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][3], 0);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][3], 0);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][3], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][3], -741092353);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][3], 255);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][3], 50);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][3], 0);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][3], 1);
	PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_SPOTIFY_LISTEN][3], 1);

	//Binance Wallet - PlayerTextDraw
	PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][0] = CreatePlayerTextDraw(playerid, 520.000000, 270.000000, "0.0000$");
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][0], 2);
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][0], 0.300000, 1.500000);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][0], 0.000000, 30.000000);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][0], 0);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][0], 0);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][0], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][0], -1094795521);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][0], -741092353);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][0], 50);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][0], 0);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][0], 1);
	PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][0], 1);

	PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][1] = CreatePlayerTextDraw(playerid, 520.000000, 284.000000, "0 Bitcoins");
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][1], 2);
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][1], 0.200000, 1.000000);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][1], 0.000000, 50.000000);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][1], 0);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][1], 0);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][1], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][1], 1296911871);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][1], -741092353);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][1], 50);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][1], 0);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][1], 1);
	PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][1], 1);

	PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][2] = CreatePlayerTextDraw(playerid, 520.000000, 300.000000, "0.0000$");
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][2], 2);
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][2], 0.300000, 1.500000);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][2], 0.000000, 30.000000);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][2], 0);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][2], 0);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][2], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][2], -1094795521);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][2], -741092353);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][2], 50);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][2], 0);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][2], 1);
	PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][2], 1);

	PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][3] = CreatePlayerTextDraw(playerid, 520.000000, 315.000000, "0 Ethereums");
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][3], 2);
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][3], 0.170000, 1.000000);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][3], 0.000000, 60.000000);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][3], 0);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][3], 0);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][3], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][3], 1296911871);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][3], -741092353);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][3], 50);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][3], 0);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][3], 1);
	PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][3], 1);

	PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][4] = CreatePlayerTextDraw(playerid, 520.000000, 335.000000, "0.0000$");
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][4], 2);
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][4], 0.300000, 1.500000);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][4], 0.000000, 30.000000);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][4], 0);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][4], 0);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][4], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][4], -1094795521);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][4], -741092353);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][4], 50);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][4], 0);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][4], 1);
	PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][4], 1);

	PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][5] = CreatePlayerTextDraw(playerid, 520.000000, 350.000000, "0 Dogecoins");
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][5], 2);
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][5], 0.170000, 1.000000);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][5], 0.000000, 60.000000);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][5], 0);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][5], 0);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][5], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][5], 1296911871);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][5], -741092353);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][5], 50);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][5], 0);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][5], 1);
	PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][5], 1);

	PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][6] = CreatePlayerTextDraw(playerid, 520.000000, 368.000000, "0.0000$");
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][6], 2);
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][6], 0.300000, 1.500000);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][6], 0.000000, 30.000000);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][6], 0);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][6], 0);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][6], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][6], -1094795521);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][6], -741092353);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][6], 50);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][6], 0);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][6], 1);
	PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][6], 1);

	PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][7] = CreatePlayerTextDraw(playerid, 520.000000, 382.000000, "0 Dkillcoins");
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][7], 2);
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][7], 0.170000, 1.000000);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][7], 0.000000, 60.000000);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][7], 0);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][7], 0);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][7], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][7], 1296911871);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][7], -741092353);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][7], 50);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][7], 0);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][7], 1);
	PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][7], 1);

	PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][8] = CreatePlayerTextDraw(playerid, 500.000000, 399.000000, "total ganancias: 0$");
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][8], 2);
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][8], 0.150000, 1.000000);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][8], 0.000000, 100.000000);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][8], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][8], 0);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][8], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][8], 9109759);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][8], 255);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][8], 50);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][8], 0);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][8], 1);
	PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_WALLET][8], 0);

	//Binance BuySell - PlayerTextDraw
	PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][0] = CreatePlayerTextDraw(playerid, 500.000000, 385.000000, "comprar");
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][0], 2);
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][0], 0.500000, 2.000000);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][0], 15.000000, 100.000000);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][0], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][0], 0);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][0], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][0], 9109759);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][0], 255);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][0], 50);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][0], 0);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][0], 1);
	PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][0], 1);

	PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][1] = CreatePlayerTextDraw(playerid, 500.000000, 345.000000, "0");
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][1], 2);
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][1], 0.500000, 2.000000);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][1], 0.000000, 20.000000);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][1], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][1], 0);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][1], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][1], -741092353);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][1], 255);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][1], 50);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][1], 0);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][1], 1);
	PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][1], 0);

	PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][2] = CreatePlayerTextDraw(playerid, 500.000000, 375.000000, "precio: 0$");
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][2], 2);
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][2], 0.200000, 1.000000);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][2], 0.000000, 100.000000);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][2], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][2], 0);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][2], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][2], -741092353);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][2], 255);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][2], 50);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][2], 0);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][2], 1);
	PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][2], 0);

	PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][3] = CreatePlayerTextDraw(playerid, 500.000000, 267.000000, "Bitcoins");
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][3], 2);
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][3], 0.200000, 1.000000);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][3], 10.000000, 100.000000);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][3], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][3], 0);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][3], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][3], -294256385);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][3], 255);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][3], 2094792754);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][3], 0);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][3], 1);
	PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][3], 1);

	PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][4] = CreatePlayerTextDraw(playerid, 500.000000, 290.000000, "Ethereums");
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][4], 2);
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][4], 0.200000, 1.000000);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][4], 10.000000, 100.000000);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][4], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][4], 0);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][4], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][4], 9109759);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][4], 255);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][4], 2094792754);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][4], 0);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][4], 1);
	PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][4], 1);

	PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][5] = CreatePlayerTextDraw(playerid, 500.000000, 313.000000, "dogecoins");
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][5], 2);
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][5], 0.200000, 1.000000);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][5], 10.000000, 100.000000);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][5], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][5], 0);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][5], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][5], -8433409);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][5], 255);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][5], 2094792754);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][5], 0);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][5], 1);
	PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_PHONE_BINANCE_OPT][5], 1);

	PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][0] = CreatePlayerTextDraw(playerid, 553.000000, 176.000000, "box");
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][0], 0.000000, 8.766664);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][0], 0.000000, 108.000000);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][0], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][0], -1);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][0], 1);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][0], 255);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][0], 0);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][0], 0);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][0], 255);
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][0], 1);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][0], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][0], 0);
	
	PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][1] = CreatePlayerTextDraw(playerid, 505.000000, 181.000000, "Interior:_0/0");
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][1], 0.300000, 1.438221);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][1], 1);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][1], -1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][1], 0);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][1], 0);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][1], 255);
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][1], 1);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][1], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][1], 0);

	PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][2] = CreatePlayerTextDraw(playerid, 505.000000, 206.000000, "Anterior");
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][2], 0.300000, 1.438221);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][2], 546.000000, 15.000000);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][2], 1);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][2], -1);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][2], 1);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][2], 1684301055);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][2], 0);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][2], 0);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][2], 255);
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][2], 1);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][2], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][2], 0);
	PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][2], true);

	PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][3] = CreatePlayerTextDraw(playerid, 555.000000, 206.000000, "Siguiente");
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][3], 0.300000, 1.438221);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][3], 600.000000, 15.000000);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][3], 1);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][3], -1);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][3], 1);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][3], 1684301055);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][3], 0);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][3], 0);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][3], 255);
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][3], 1);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][3], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][3], 0);
	PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][3], true);

	PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][4] = CreatePlayerTextDraw(playerid, 505.000000, 230.000000, "Crear");
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][4], 0.300000, 1.438221);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][4], 533.000000, 15.000000);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][4], 1);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][4], -1);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][4], 1);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][4], 1684301055);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][4], 0);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][4], 0);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][4], 255);
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][4], 1);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][4], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][4], 0);
	PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][4], true);

	PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][5] = CreatePlayerTextDraw(playerid, 542.000000, 230.000000, "Cancelar");
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][5], 0.300000, 1.438221);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][5], 583.000000, 15.000000);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][5], 1);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][5], -1);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][5], 1);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][5], 1684301055);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][5], 0);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][5], 0);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][5], 255);
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][5], 1);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][5], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][5], 0);
	PlayerTextDrawSetSelectable(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][5], true);
	
	PlayerTextdraws[playerid][ptextdraw_SPEEDO_METER][0] = CreatePlayerTextDraw(playerid, 445.000000, 365.000000, "I");
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_SPEEDO_METER][0], 18.838657, 7.162145);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_SPEEDO_METER][0], 1);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_SPEEDO_METER][0], 135);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_SPEEDO_METER][0], 0);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_SPEEDO_METER][0], 0);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_SPEEDO_METER][0], 255);
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_SPEEDO_METER][0], 1);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_SPEEDO_METER][0], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_SPEEDO_METER][0], 0);

	PlayerTextdraws[playerid][ptextdraw_SPEEDO_METER][1] = CreatePlayerTextDraw(playerid, 609.000000, 388.000000, "Velocidad:_0_Km/h~n~gasolina:_0.0_L~n~");
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_SPEEDO_METER][1], 0.207333, 1.218370);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_SPEEDO_METER][1], 3);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_SPEEDO_METER][1], -76);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_SPEEDO_METER][1], 0);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_SPEEDO_METER][1], 0);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_SPEEDO_METER][1], 255);
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_SPEEDO_METER][1], 2);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_SPEEDO_METER][1], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_SPEEDO_METER][1], 0);
	
	PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][0] = CreatePlayerTextDraw(playerid, 320.000000, 317.000000, "Cargando_camión...");
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][0], 0.255666, 1.176888);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][0], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][0], -1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][0], 0);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][0], 0);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][0], 255);
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][0], 1);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][0], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][0], 0);

	PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][1] = CreatePlayerTextDraw(playerid, 250.000000, 332.000000, "Borde");
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][1], 0.000000, 3.766666);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][1], 390.000000, 0.000000);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][1], 1);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][1], -1);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][1], 1);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][1], 255);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][1], 0);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][1], 0);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][1], 255);
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][1], 1);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][1], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][1], 0);

	PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][2] = CreatePlayerTextDraw(playerid, 253.000000, 336.000000, "Abajo");
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][2], 0.000000, 2.866667);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][2], 387.000000, 0.000000);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][2], 1);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][2], -1);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][2], 1);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][2], -594542436);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][2], 0);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][2], 0);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][2], 255);
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][2], 1);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][2], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][2], 0);
	
	PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][3] = CreatePlayerTextDraw(playerid, 253.000000, 336.000000, "Sellena");
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][3], 0.000000, 2.866667);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][3], 250.000000, 0.000000);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][3], 1);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][3], -1);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][3], 1);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][3], -594542357);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][3], 0);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][3], 0);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][3], 255);
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][3], 1);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][3], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][3], 0);

	PlayerTextdraws[playerid][ptextdraw_RECYCLE_TRASH][0] = CreatePlayerTextDraw(playerid, 320.000000, 315.000000, "");
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_RECYCLE_TRASH][0], 0.298999, 1.483852);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_RECYCLE_TRASH][0], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_RECYCLE_TRASH][0], -161);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_RECYCLE_TRASH][0], 0);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_RECYCLE_TRASH][0], 0);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_RECYCLE_TRASH][0], 255);
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_RECYCLE_TRASH][0], 1);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_RECYCLE_TRASH][0], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_RECYCLE_TRASH][0], 0);

	PlayerTextdraws[playerid][ptextdraw_RECYCLE_TRASH][1] = CreatePlayerTextDraw(playerid, 320.000000, 333.000000, "box");
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_RECYCLE_TRASH][1], 0.000000, 0.766669);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_RECYCLE_TRASH][1], 0.000000, 130.000000);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_RECYCLE_TRASH][1], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_RECYCLE_TRASH][1], -1);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_RECYCLE_TRASH][1], 1);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_RECYCLE_TRASH][1], 2021161125);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_RECYCLE_TRASH][1], 0);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_RECYCLE_TRASH][1], 0);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_RECYCLE_TRASH][1], 255);
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_RECYCLE_TRASH][1], 1);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_RECYCLE_TRASH][1], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_RECYCLE_TRASH][1], 0);

	PlayerTextdraws[playerid][ptextdraw_RECYCLE_TRASH][2] = CreatePlayerTextDraw(playerid, 320.000000, 333.000000, "box");
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_RECYCLE_TRASH][2], 0.000000, 0.766669);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_RECYCLE_TRASH][2], 0.000000, 0.000000);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_RECYCLE_TRASH][2], 2);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_RECYCLE_TRASH][2], -1);
	PlayerTextDrawUseBox(playerid, PlayerTextdraws[playerid][ptextdraw_RECYCLE_TRASH][2], 1);
	PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_RECYCLE_TRASH][2], 1988896255);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_RECYCLE_TRASH][2], 0);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_RECYCLE_TRASH][2], 0);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_RECYCLE_TRASH][2], 255);
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_RECYCLE_TRASH][2], 1);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_RECYCLE_TRASH][2], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_RECYCLE_TRASH][2], 0);

	PlayerTextdraws[playerid][ptextdraw_WANTED_LEVEL][0] = CreatePlayerTextDraw(playerid, 604.000000, 126.000000, "]]]]]]");
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_WANTED_LEVEL][0], 0.491999, 1.960886);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_WANTED_LEVEL][0], 3);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_WANTED_LEVEL][0], 95);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_WANTED_LEVEL][0], 0);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_WANTED_LEVEL][0], 0);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_WANTED_LEVEL][0], 255);
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_WANTED_LEVEL][0], 0);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_WANTED_LEVEL][0], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_WANTED_LEVEL][0], 0);

	PlayerTextdraws[playerid][ptextdraw_WANTED_LEVEL][1] = CreatePlayerTextDraw(playerid, 604.000000, 126.000000, "_");
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_WANTED_LEVEL][1], 0.491999, 1.960886);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_WANTED_LEVEL][1], 3);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_WANTED_LEVEL][1], 0xF3B015FF);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_WANTED_LEVEL][1], 0);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_WANTED_LEVEL][1], 1);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_WANTED_LEVEL][1], 255);
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_WANTED_LEVEL][1], 0);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_WANTED_LEVEL][1], 1);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_WANTED_LEVEL][1], 0);

	return 1;
}

DestroyPlayerTextDraws(playerid)
{
	for(new i; i < sizeof(PlayerTextdraws[]); i++)
	{
		if(PlayerTextdraws[playerid][Player_Textdraws_Enum:i] == INVALID_TEXT_DRAW) continue;
		PlayerTextDrawDestroy(playerid, PlayerText:PlayerTextdraws[playerid][Player_Textdraws_Enum:i]);
		PlayerTextdraws[playerid][Player_Textdraws_Enum:i] = INVALID_TEXT_DRAW;
	}
	return 1;
}

forward ShowPreLogin(playerid);
public ShowPreLogin(playerid) {
	for(new i = 0; i < 4; i ++) {
		TextDrawShowForPlayer(playerid, Textdraws[textdraw_LOAD_SCREEN][i]);
	}
	SetPlayerCameraPos(playerid, 1481.0, -1750.0, 50.0);
    SetPlayerCameraLookAt(playerid, 1481.0, -1745.0, 40.0);
	SelectTextDrawEx(playerid, 0xF34002FF);
	return 1;
}

HidePreLogin(playerid) {
	for(new i = 0; i < 4; i ++) {
		TextDrawHideForPlayer(playerid, Textdraws[textdraw_LOAD_SCREEN][i]);
	}
	CancelSelectTextDrawEx(playerid);
}

public OnPlayerClickTextDraw(playerid, Text:clickedid)
{
    if(clickedid == Text:INVALID_TEXT_DRAW)
    {
		PLAYER_TEMP[playerid][pt_SELECT_TEXTDRAW] = false; 

		if(PLAYER_PROPERTY_CONSTRUCTOR[playerid][player_property_creator_ENABLED])
		{
			ExitPlayerPropertyConstructor(playerid);
			return 1;
		}

		if(PLAYER_TEMP[playerid][pt_CLOTHING_SHOP] != -1) // Tiene abierto el menú de ropa
		{
			ClosePlayerClothingMenu(playerid);
			ExitPlayerWardrobe(playerid);
		}
		
		if (IsValidShowPlayerWorkContract(playerid))
		{
			HidePlayerWorkContract(playerid);
		}

		if(PLAYER_TEMP[playerid][pt_TOYS_SHOP]) ClosePlayerToysMenu(playerid);

		if (PLAYER_TEMP[playerid][pt_DEALER_SHOP]) HidePlayerDealerShipMenu(playerid);

		if(PLAYER_TEMP[playerid][pt_TUNING_GARAGE_SHOP])
		{
			CancelPlayerTuningShop(playerid);
			ShowDialog(playerid, DIALOG_VOBJECT_MENU);
		}
		return 1;
	}
	
	if(PLAYER_TEMP[playerid][pt_EN_INTRO] && clickedid == Textdraws[textdraw_LOAD_SCREEN][3])
{
    // 1. Verificamos Baneo primero al dar click
    mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT *, UNIX_TIMESTAMP(bans.expire_date) AS expire_date_ts, NOW() AS now, UNIX_TIMESTAMP(NOW()) AS now_ts, player.name AS pname FROM bans LEFT JOIN bad_history ON bans.id_history = bad_history.id LEFT JOIN player ON player.id = bad_history.by WHERE bans.name = '%e' OR bans.ip = '%e';", PLAYER_TEMP[playerid][pt_NAME], PLAYER_TEMP[playerid][pt_IP]);
    
    inline OnPlayerBannedCheck()
    {
        new rows, bool:continue_proccess = false; // Agregamos la variable que faltaba
        cache_get_row_count(rows);

        if(rows > 0)
        {
            new name[24], expire_date[24], id_player, by[24], text[128], date[24], expire_date_ts, now[24], now_ts, bool:isnull_name, bool:isnull_by, bool:isnull_expire_date_ts;
            cache_is_value_name_null(0, "name", isnull_name);
            if (!isnull_name) cache_get_value_name(0, "name", name, 24);
            cache_get_value_name(0, "expire_date", expire_date, 24);
            cache_get_value_name_int(0, "id_player", id_player);
            cache_is_value_name_null(0, "pname", isnull_by);
            if (!isnull_by) cache_get_value_name(0, "pname", by, 24);
            cache_get_value_name(0, "text", text, 128);
            cache_get_value_name(0, "date", date, 24);
            cache_is_value_name_null(0, "expire_date_ts", isnull_expire_date_ts);
            if (!isnull_expire_date_ts) cache_get_value_name_int(0, "expire_date_ts", expire_date_ts);
            cache_get_value_name(0, "now", now, 24);
            cache_get_value_name_int(0, "now_ts", now_ts);

            if(expire_date_ts) // BAN TEMPORAL
            {
                if(now_ts >= expire_date_ts)
                {
                    continue_proccess = true; // El ban venció, podemos seguir
                    mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "DELETE FROM bans WHERE name = '%e' OR ip = '%e';", PLAYER_TEMP[playerid][pt_NAME], PLAYER_TEMP[playerid][pt_IP]);
                    mysql_tquery(srp_db, QUERY_BUFFER);
                    if(id_player) AddPlayerBadHistory(id_player, -1, TYPE_UNBAN, "Readmitido (de tban)");
                    SendNotification(playerid, "Tu cuenta ha sido re-admitida, no hagas que vuelvan a banearte.");
                }
                else
                {
                    new dialog[600];
								format(dialog, sizeof dialog,

									"\
										"WHITE"Esta IP o cuenta está expulsada temporalmente, detalles:\n\
										\n\
										"WHITE"Tu nombre: %s\n\
										\n\
										"WHITE"Nombre: %s\n\
										"WHITE"Expulsado por: {828282}%s\n\
										"WHITE"Fecha expulsión: %s\n\
										"WHITE"Razón: %s\n\
										\n\
										"WHITE"Fecha actual: %s\n\
										"WHITE"Fecha readmisión: %s\n\
										\n\
									",

									PLAYER_TEMP[playerid][pt_NAME],
									name, by, date, text, now, expire_date
								);

								ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{D50000}[BAN] {ffffff}  Servidor", dialog, "Ok", "");
								HidePreLogin(playerid);
                                CancelSelectTextDrawEx(playerid);
								return KickEx(playerid, 500);
                }
            }
            else // BAN PERMANENTE
            {
							new dialog[480];
							format(dialog, sizeof dialog,

								"\
									"WHITE"Esta IP o cuenta está expulsada permanentemente, detalles:\n\
									\n\
									"WHITE"Tu nombre: "WHITE"%s\n\
									\n\
									"WHITE"Nombre: "WHITE"%s\n\
									"WHITE"Expulsado por: {828282}%s\n\
									"WHITE"Fecha expulsión: %s\n\
									"WHITE"Razón: %s\n\
									\n\
								",

								PLAYER_TEMP[playerid][pt_NAME],
								name, by, date, text
							);

							ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{D50000}[BAN] {ffffff}  Servidor", dialog, "Entiendo", "");
							HidePreLogin(playerid);
                            CancelSelectTextDrawEx(playerid);
							return KickEx(playerid, 500);
            }
        }
        else continue_proccess = true; // No hay registros de ban

        // 2. Si el ban no existe o ya venció, buscamos la cuenta
        if(continue_proccess)
        {
            mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT id, ip, email, salt, pass, config_secure_login FROM player WHERE name = '%e';", PLAYER_TEMP[playerid][pt_NAME]);
            
            inline OnPlayerCheck()
            {
                new rows2;
                cache_get_row_count(rows2);
                if(rows2 > 0)
                {
                    cache_get_value_name_int(0, "id", PI[playerid][pi_ID]);
                    cache_get_value_name(0, "ip", PI[playerid][pi_IP], 16);
                    cache_get_value_name(0, "pass", PI[playerid][pi_PASS], 65);
                    
                    cache_get_value_name(0, "salt", PI[playerid][pi_SALT], 16); 
                    
                    PLAYER_TEMP[playerid][pt_USER_EXIST] = true;

                    if(!strcmp(PLAYER_TEMP[playerid][pt_IP], PI[playerid][pi_IP])) {
                        CallLocalFunction("OnPlayerGetPass", "i", playerid);
                        PLAYER_TEMP[playerid][pt_EN_INTRO] = false;
                        HidePreLogin(playerid);
                        CancelSelectTextDrawEx(playerid);
                    } else {
                        HidePreLogin(playerid);
                        CancelSelectTextDrawEx(playerid);
                        ShowDialog(playerid, DIALOG_LOGINIP);
                    }
                }
                else 
                {
                    HidePreLogin(playerid);
                    CancelSelectTextDrawEx(playerid);
                    ShowDialog(playerid, DIALOG_REGISTER);
                }
            }
            mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnPlayerCheck);
        }
        return 1;
    }
    mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnPlayerBannedCheck);
    return 1;
}

	if(PLAYER_TEMP[playerid][pt_TUNING_GARAGE_SHOP])
	{
		if(clickedid == Textdraws[textdraw_SHOP_TUNING][2]) //Comprar
		{
			new slot = GetVehicleFreeObjectSlot(PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID]);
			if(!PI[playerid][pi_VIP] && slot >= MAX_NU_VOBJECTS)
			{
				PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
				SendFormatNotification(playerid, "¡Los jugadores ~y~VIP ~w~pueden tener hasta %d objetos en vehiculos! Usa ~y~/ayuda ~w~si quieres ser ~y~VIP.", MAX_SU_VOBJECTS);
				return 1;
			}
			if(slot == -1)
			{
				ShowPlayerMessage(playerid, "No hay más espacio para objetos en este vehiculo.", 2);
				return 1;
			}

			if(Tuning_Shop_Objects[ PLAYER_TEMP[playerid][pt_SELECT_TUNING_OBJECT] ][tuning_object_PRICE] > PI[playerid][pi_CASH])
			{
				PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
				SendFormatNotification(playerid, "No tienes dinero suficiente, te faltan ~r~$%s~w~ para poder comprar este objeto.", number_format_thousand(Tuning_Shop_Objects[ PLAYER_TEMP[playerid][pt_SELECT_TUNING_OBJECT] ][tuning_object_PRICE] - PI[playerid][pi_CASH]));
				return 1;
			}

			if(GivePlayerCash(playerid, -Tuning_Shop_Objects[ PLAYER_TEMP[playerid][pt_SELECT_TUNING_OBJECT] ][tuning_object_PRICE], true, true)) {
				VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][slot][vobject_VALID] = true;
				VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][slot][vobject_TYPE] = VOBJECT_TYPE_OBJECT;
				VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][slot][vobject_ID] = 0;
				VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][slot][vobject_MODELID] = Tuning_Shop_Objects[ PLAYER_TEMP[playerid][pt_SELECT_TUNING_OBJECT] ][tuning_object_MODELID];
				format(VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][slot][vobject_NAME], 32, "%s", Tuning_Shop_Objects[ PLAYER_TEMP[playerid][pt_SELECT_TUNING_OBJECT] ][tuning_object_NAME]);
				VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][slot][vobject_ATTACHED] = true;
				UpdateVehicleAttachedObject(PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID], slot);

				RegisterNewVehicleObject(PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID], slot);
				CancelPlayerTuningShop(playerid);

				ShowPlayerMessage(playerid, "Ajusta el objeto y haz clic en el icono de guardar, si pulsas ~r~'ESCAPE' ~w~no se guardará la configuración.", 2);
				ShowPlayerMessage(playerid, "Mantén presionado ~r~'W' ~w~para mover la cámara.", 2);
				EditVehicleObject(playerid, PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID], slot);
			}
			return 1;
		}
		else if(clickedid == Textdraws[textdraw_SHOP_TUNING][3]) //Siguiente
		{
			if(PLAYER_TEMP[playerid][pt_SELECT_TUNING_OBJECT] == (sizeof(Tuning_Shop_Objects) - 1)) PLAYER_TEMP[playerid][pt_SELECT_TUNING_OBJECT] = 0;
			else PLAYER_TEMP[playerid][pt_SELECT_TUNING_OBJECT] ++;
			UpdateTuningShop(playerid);
			return 1;
		}
		else if(clickedid == Textdraws[textdraw_SHOP_TUNING][4]) //Anterior
		{
			if(PLAYER_TEMP[playerid][pt_SELECT_TUNING_OBJECT] == 0) PLAYER_TEMP[playerid][pt_SELECT_TUNING_OBJECT] = sizeof(Tuning_Shop_Objects) - 1;
			else PLAYER_TEMP[playerid][pt_SELECT_TUNING_OBJECT] --;
			UpdateTuningShop(playerid);
			return 1;
		}
		return 1;
	}
	return 1;
}

public OnPlayerClickPlayerTextDraw(playerid, PlayerText:playertextid)
{
	if(PLAYER_PROPERTY_CONSTRUCTOR[playerid][player_property_creator_ENABLED])
	{
		if(playertextid == PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][2]) //Anterior
		{
			if(PLAYER_PROPERTY_CONSTRUCTOR[playerid][player_property_creator_INTERIO] == 0) PLAYER_PROPERTY_CONSTRUCTOR[playerid][player_property_creator_INTERIO] = sizeof(PROPERTY_INTERIORS) - 1;
			else PLAYER_PROPERTY_CONSTRUCTOR[playerid][player_property_creator_INTERIO] --;
			UpdatePlayerPropertyContructor(playerid);
			return 1;
		}
		else if(playertextid == PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][3]) //Siguiente
		{
			if(PLAYER_PROPERTY_CONSTRUCTOR[playerid][player_property_creator_INTERIO] == (sizeof(PROPERTY_INTERIORS) - 1)) PLAYER_PROPERTY_CONSTRUCTOR[playerid][player_property_creator_INTERIO] = 0;
			else PLAYER_PROPERTY_CONSTRUCTOR[playerid][player_property_creator_INTERIO] ++;
			UpdatePlayerPropertyContructor(playerid);
			return 1;
		}
		else if(playertextid == PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][4]) //Crear
		{
			Create_PlayerPropertyConstructo(playerid);
			return 1;
		}
		else if(playertextid == PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][5]) //Cancelar
		{
			ExitPlayerPropertyConstructor(playerid);
			return 1;
		}
		return 1;
	}
	
	if (PLAYER_TEMP[playerid][pt_DEALER_SHOP]) {
    if (playertextid == pDealerShopMenuTd[playerid][5]) { // BOTÓN COMPRAR
        
        // Obtenemos los índices actuales para facilitar la lectura del código
        new v_idx = PLAYER_TEMP[playerid][pt_VEHICLE_DEALER_INDEX];
        new d_idx = PLAYER_TEMP[playerid][pt_DEALER_INDEX];
        new modelid = DealerVehiclesInfo[v_idx][d_idx][dvModelId];
        new precio = DealerVehiclesInfo[v_idx][d_idx][dvPrice];
        new monedas = DealerVehiclesInfo[v_idx][d_idx][dvCoins];

        // --- VALIDACIONES PREVIAS ---
        new pvehicles = CountPlayerVehicles(playerid);
        if (pvehicles >= MAX_SU_VEHICLES) return SendFormatNotification(playerid, "Limite alcanzado: %d vehiculos.", MAX_SU_VEHICLES);
        if (!PI[playerid][pi_VIP] && pvehicles >= MAX_NU_VEHICLES) {
            return SendFormatNotification(playerid, "Limite: %d. Con VIP puedes tener %d.", MAX_NU_VEHICLES, MAX_SU_VEHICLES);
        }

        // --- CONSTRUCCIÓN DEL DIÁLOGO ---
        new main_dialog[1000], info_str[150];
        
        // Título e Información básica
        format(main_dialog, sizeof(main_dialog), 
            "{FFFFFF}Vehículo: {FED137}%s\n\n" \
            "{FFFFFF} Precio: %s\n" \
            "{FFFFFF} Velocidad Máxima: {FED137}%d Km/h\n" \
            "{FFFFFF} Capacidad Depósito: {FED137}%.1f L\n" \
            "{FFFFFF} Espacio Maletero: {FED137}%d\n" \
            "{FFFFFF} Impuestos: %s{FF4B4B}$\n\n",
            VEHICLE_INFO[modelid - 400][vehicle_info_NAME],
            (monedas > 0) ? format_monedas(monedas) : format_dinero(precio), // Función para mostrar $ o Gemas
            floatround(VEHICLE_INFO[modelid - 400][vehicle_info_MAX_VEL]),
            VEHICLE_INFO[modelid - 400][vehicle_info_MAX_GAS],
            VEHICLE_INFO[modelid - 400][vehicle_info_BOOT_SLOTS],
            number_format_thousand(precio / 100) // Cálculo de impuestos
        );

        // Información de balance tras la compra
        if(monedas > 0) {
            format(info_str, sizeof(info_str), "{FFFFFF}Tus Monedas: Gemas{FED137}%d\n{FFFFFF}Tras la compra: Gemas{00FF00}%d\n\n", PI[playerid][pi_COINS], PI[playerid][pi_COINS] - monedas);
        } else {
            format(info_str, sizeof(info_str), "{FFFFFF}Tu Dinero (Banco): %s{00FF00}$\n{FFFFFF}Tras la compra: %s{00FF00}$\n\n", 
                number_format_thousand(PI[playerid][pi_BANK_MONEY]), 
                number_format_thousand(PI[playerid][pi_BANK_MONEY] - precio));
        }
        strcat(main_dialog, info_str);
        strcat(main_dialog, "{FFFFFF}¿Deseas comprar este vehículo?");

        // Mostramos el diálogo (Usaremos un ID de diálogo nuevo para la confirmación)
        ShowPlayerDialog(playerid, DIALOG_CONFIRM_BUY, DIALOG_STYLE_MSGBOX, "{FED137}[Comprar] {ffffff}  Vehiculo", main_dialog, "Comprar", "xCancelar");
        return 1;
    } else if (playertextid == pDealerShopMenuTd[playerid][6]) { // Siguiente
			PlayerPlaySoundEx(playerid, 1052, 0.0, 0.0, 0.0);
			
			if (PLAYER_TEMP[playerid][pt_VEHICLE_DEALER_INDEX] >= PLAYER_TEMP[playerid][pt_VEHICLE_DEALER_SIZE]) PLAYER_TEMP[playerid][pt_VEHICLE_DEALER_INDEX] = 0;
			else PLAYER_TEMP[playerid][pt_VEHICLE_DEALER_INDEX] ++;
			
			UpdateDealerShipMenu(playerid);
		} else if (playertextid == pDealerShopMenuTd[playerid][7]) { // Anterior
			PlayerPlaySoundEx(playerid, 1053, 0.0, 0.0, 0.0);
			
			if (PLAYER_TEMP[playerid][pt_VEHICLE_DEALER_INDEX] <= 0) PLAYER_TEMP[playerid][pt_VEHICLE_DEALER_INDEX] = (PLAYER_TEMP[playerid][pt_VEHICLE_DEALER_SIZE] - 1);
			else PLAYER_TEMP[playerid][pt_VEHICLE_DEALER_INDEX] --;
			
			UpdateDealerShipMenu(playerid);
		}
		return 1;
    }

	
	if(PLAYER_TEMP[playerid][pt_GAME_STATE] != GAME_STATE_NORMAL) return 0;
	
	if(PLAYER_TEMP[playerid][pt_CLOTHING_SHOP] != -1)
	{
		if(playertextid == PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][2]) // Comprar
		{
			new clothe_info[3];
			switch(ENTER_EXIT[ PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] ][ee_INTERIOR_TYPE])
			{
				case INTERIOR_BINCO:
				{
					switch(PI[playerid][pi_GENDER])
					{
						case SEX_MALE: clothe_info = Binco_Shop_Male_Skins[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN]];
						case SEX_FEMALE: clothe_info = Binco_Shop_Female_Skins[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN]];
					}
				}
				case INTERIOR_SUBURBAN:
				{
					switch(PI[playerid][pi_GENDER])
					{
						case SEX_MALE: clothe_info = Suburban_Shop_Male_Skins[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN]];
						case SEX_FEMALE: clothe_info = Suburban_Shop_Female_Skins[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN]];
					}
				}
				case INTERIOR_PROLAPS:
				{
					switch(PI[playerid][pi_GENDER])
					{
						case SEX_MALE: clothe_info = Prolaps_Shop_Male_Skins[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN]];
						case SEX_FEMALE: clothe_info = Prolaps_Shop_Female_Skins[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN]];
					}
				}
				case INTERIOR_DIDIER_SACHS:
				{
					switch(PI[playerid][pi_GENDER])
					{
						case SEX_MALE: clothe_info = Didier_Shop_Male_Skins[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN]];
						case SEX_FEMALE: clothe_info = Didier_Shop_Female_Skins[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN]];
					}
				}
				case INTERIOR_VICTIM:
				{
					switch(PI[playerid][pi_GENDER])
					{
						case SEX_MALE: clothe_info = Victim_Shop_Male_Skins[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN]];
						case SEX_FEMALE: clothe_info = Victim_Shop_Female_Skins[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN]];
					}
				}
			case INTERIOR_ZIP:
				{
					if(GetPVarInt(playerid, "Player:On:Droids:Ropa") == 1)
					{
						switch(PI[playerid][pi_GENDER])
						{
							case SEX_MALE: clothe_info = Droids_Shop_Male_Skin[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN]];
							case SEX_FEMALE: clothe_info = Droids_Shop_Female_Skin[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN]];
						}
					}
					else
					{
						switch(PI[playerid][pi_GENDER])
						{
							case SEX_MALE: clothe_info = Zip_Shop_Male_Skins[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN]];
							case SEX_FEMALE: clothe_info = Zip_Shop_Female_Skins[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN]];
						}
					}
				}
			}
			if(GetPVarInt(playerid, "Player:On:Droids:Ropa") == 1)
			{
				if(PI[playerid][pi_COINS] >= clothe_info[1])
				{

					PI[playerid][pi_COINS]-= clothe_info[1];
					PI[playerid][pi_SKIN] = clothe_info[0];
					PlayerPlaySoundEx(playerid, 1058, 0.0, 0.0, 0.0);
					SendFormatNotification(playerid, "Gracias por comprar ropa en ~g~%s~w~ usando ~y~%d~w~ Coins, vuelva pronto.", Clothing_Shop_Positions[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP]][clothing_shop_NAME], clothe_info[1]);
					ClosePlayerClothingMenu(playerid);
					ExitPlayerWardrobe(playerid);
					
					if(PI[playerid][pi_A5] == 0) 
                                 { 
                                     new Mision[500];
                                     GivePlayerCash(playerid, 500, true, false); 
                                     SendFormatNotification(playerid, "Has completado una ~g~mision"); 
                                     PI[playerid][pi_A5] = 1; 
                                     TextDrawShowForPlayer(playerid,BoxMisiones);
                                     TextDrawShowForPlayer(playerid,MisionCo);
                                     TextDrawShowForPlayer(playerid,MisionRe);
                                     format(Mision,sizeof(Mision),"~w~Comprar Ropa 1000~g~$");
                                     TextDrawSetString(MisionRe, Mision); 
                                     SetTimerEx("ActualizarTextDraw",4500,false,"i",playerid);//
                                 }

					mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET coins = %d WHERE id = %d;", PI[playerid][pi_COINS], PI[playerid][pi_ID]);
					mysql_tquery(srp_db, QUERY_BUFFER);
				}
				else
				{
					PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
					SendFormatNotification(playerid, "No tienes Coins suficiente, te faltan ~r~%d~w~ para poder comprar esta ropa.", clothe_info[1] - PI[playerid][pi_COINS]);
				}
				return true;
			}
			else if(PI[playerid][pi_CASH] >= clothe_info[2])
			{
				if(GivePlayerCash(playerid, -clothe_info[2], true, true)) {
					PI[playerid][pi_SKIN] = clothe_info[0];

					PlayerPlaySoundEx(playerid, 1058, 0.0, 0.0, 0.0);
					SendFormatNotification(playerid, "Gracias por comprar ropa en ~g~%s~w~, vuelva pronto.", Clothing_Shop_Positions[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP]][clothing_shop_NAME]);
					OtorgarLogro(playerid, 2);
					ClosePlayerClothingMenu(playerid);
					ExitPlayerWardrobe(playerid);
					if(PI[playerid][pi_A5] == 0) 
                                 { 
                                     new Mision[500];
                                     GivePlayerCash(playerid, 500, true, false); 
                                     SendFormatNotification(playerid, "Has completado una ~g~mision"); 
                                     PI[playerid][pi_A5] = 1; 
                                     TextDrawShowForPlayer(playerid,BoxMisiones);
                                     TextDrawShowForPlayer(playerid,MisionCo);
                                     TextDrawShowForPlayer(playerid,MisionRe);
                                     format(Mision,sizeof(Mision),"~w~Comprar Ropa 1000~g~$");
                                     TextDrawSetString(MisionRe, Mision); 
                                     SetTimerEx("ActualizarTextDraw",4500,false,"i",playerid);//
                                 }
				}
			}
			else
			{
				PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
				SendFormatNotification(playerid, "No tienes dinero suficiente, te faltan ~r~%s$~w~ para poder comprar esta ropa.", number_format_thousand(clothe_info[2] - PI[playerid][pi_CASH]));
			}
			return 1;
		}
		else if(playertextid == PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][3]) // Siguiente
		{
			PlayerPlaySoundEx(playerid, 1052, 0.0, 0.0, 0.0);

			switch(ENTER_EXIT[ PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] ][ee_INTERIOR_TYPE])
			{
				case INTERIOR_BINCO:
				{
					switch(PI[playerid][pi_GENDER])
					{
						case SEX_MALE:
						{
							if(PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] == (sizeof(Binco_Shop_Male_Skins) - 1)) PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] = 0;
							else PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] ++;
						}
						case SEX_FEMALE:
						{
							if(PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] == (sizeof(Binco_Shop_Female_Skins) - 1)) PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] = 0;
							else PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] ++;
						}
					}
				}
				case INTERIOR_SUBURBAN:
				{
					switch(PI[playerid][pi_GENDER])
					{
						case SEX_MALE:
						{
							if(PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] == (sizeof(Suburban_Shop_Male_Skins) - 1)) PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] = 0;
							else PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] ++;
						}
						case SEX_FEMALE:
						{
							if(PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] == (sizeof(Suburban_Shop_Female_Skins) - 1)) PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] = 0;
							else PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] ++;
						}
					}
				}
				case INTERIOR_PROLAPS:
				{
					switch(PI[playerid][pi_GENDER])
					{
						case SEX_MALE:
						{
							if(PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] == (sizeof(Prolaps_Shop_Male_Skins) - 1)) PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] = 0;
							else PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] ++;
						}
						case SEX_FEMALE:
						{
							if(PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] == (sizeof(Prolaps_Shop_Female_Skins) - 1)) PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] = 0;
							else PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] ++;
						}
					}
				}
				case INTERIOR_DIDIER_SACHS:
				{
					switch(PI[playerid][pi_GENDER])
					{
						case SEX_MALE:
						{
							if(PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] == (sizeof(Didier_Shop_Male_Skins) - 1)) PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] = 0;
							else PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] ++;
						}
						case SEX_FEMALE:
						{
							if(PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] == (sizeof(Didier_Shop_Female_Skins) - 1)) PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] = 0;
							else PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] ++;
						}
					}
				}
				case INTERIOR_VICTIM:
				{
					switch(PI[playerid][pi_GENDER])
					{
						case SEX_MALE:
						{
							if(PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] == (sizeof(Victim_Shop_Male_Skins) - 1)) PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] = 0;
							else PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] ++;
						}
						case SEX_FEMALE:
						{
							if(PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] == (sizeof(Victim_Shop_Female_Skins) - 1)) PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] = 0;
							else PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] ++;
						}
					}
				}
					case INTERIOR_ZIP:
				{
					switch(PI[playerid][pi_GENDER])
					{
						case SEX_MALE:
						{
							if(GetPVarInt(playerid, "Player:On:Droids:Ropa") == 1)
							{
								if(PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] == (sizeof(Droids_Shop_Male_Skin) - 1)) PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] = 0;
								else PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] ++;
								UpdateClothingShop(playerid);
								return true;
							}
							if(PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] == (sizeof(Zip_Shop_Male_Skins) - 1)) PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] = 0;
							else PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] ++;
						}
						case SEX_FEMALE:
						{
							if(GetPVarInt(playerid, "Player:On:Droids:Ropa") == 1)
							{
								if(PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] == (sizeof(Droids_Shop_Female_Skin) - 1)) PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] = 0;
								else PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] ++;
								UpdateClothingShop(playerid);
								return true;
							}
							if(PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] == (sizeof(Zip_Shop_Female_Skins) - 1)) PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] = 0;
							else PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] ++;
						}
					}
				}
			}

			UpdateClothingShop(playerid);
			return 1;
		}
		else if(playertextid == PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][4]) // Anterior
		{
			PlayerPlaySoundEx(playerid, 1053, 0.0, 0.0, 0.0);

			switch(ENTER_EXIT[ PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] ][ee_INTERIOR_TYPE])
			{
				case INTERIOR_BINCO:
				{
					switch(PI[playerid][pi_GENDER])
					{
						case SEX_MALE:
						{
							if(PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] == 0) PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] = sizeof(Binco_Shop_Male_Skins) - 1;
							else PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] --;
						}
						case SEX_FEMALE:
						{
							if(PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] == 0) PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] = sizeof(Binco_Shop_Female_Skins) - 1;
							else PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] --;
						}
					}
				}
				case INTERIOR_SUBURBAN:
				{
					switch(PI[playerid][pi_GENDER])
					{
						case SEX_MALE:
						{
							if(PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] == 0) PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] = sizeof(Suburban_Shop_Male_Skins) - 1;
							else PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] --;
						}
						case SEX_FEMALE:
						{
							if(PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] == 0) PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] = sizeof(Suburban_Shop_Female_Skins) - 1;
							else PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] --;
						}
					}
				}
				case INTERIOR_PROLAPS:
				{
					switch(PI[playerid][pi_GENDER])
					{
						case SEX_MALE:
						{
							if(PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] == 0) PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] = sizeof(Prolaps_Shop_Male_Skins) - 1;
							else PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] --;
						}
						case SEX_FEMALE:
						{
							if(PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] == 0) PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] = sizeof(Prolaps_Shop_Female_Skins) - 1;
							else PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] --;
						}
					}
				}
				case INTERIOR_DIDIER_SACHS:
				{
					switch(PI[playerid][pi_GENDER])
					{
						case SEX_MALE:
						{
							if(PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] == 0) PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] = sizeof(Didier_Shop_Male_Skins) - 1;
							else PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] --;
						}
						case SEX_FEMALE:
						{
							if(PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] == 0) PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] = sizeof(Didier_Shop_Female_Skins) - 1;
							else PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] --;
						}
					}
				}
				case INTERIOR_VICTIM:
				{
					switch(PI[playerid][pi_GENDER])
					{
						case SEX_MALE:
						{
							if(PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] == 0) PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] = sizeof(Victim_Shop_Male_Skins) - 1;
							else PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] --;
						}
						case SEX_FEMALE:
						{
							if(PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] == 0) PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] = sizeof(Victim_Shop_Female_Skins) - 1;
							else PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] --;
						}
					}
				}
				case INTERIOR_ZIP:
				{
					switch(PI[playerid][pi_GENDER])
					{
						case SEX_MALE:
						{
							if(PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] == 0) PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] = sizeof(Zip_Shop_Male_Skins) - 1;
							else PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] --;
						}
						case SEX_FEMALE:
						{
							if(PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] == 0) PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] = sizeof(Zip_Shop_Female_Skins) - 1;
							else PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] --;
						}
					}
				}
			}

			UpdateClothingShop(playerid);
			return 1;
		}
	}

	if(PLAYER_TEMP[playerid][pt_TOYS_SHOP])
	{
		if(playertextid == PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][5]) //Comprar
		{
			if(PI[playerid][pi_CASH] >= Toys_Shop[ PLAYER_TEMP[playerid][pt_TOYS_SHOP_TOY_SELECTED] ][shop_toy_price])
			{
			        new player_slot = GetEmptyInvSlot(playerid);
			        new sel = PLAYER_TEMP[playerid][pt_TOYS_SHOP_TOY_SELECTED];
			        new item_id = Toys_Shop[sel][IDObjetot];
			        if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
			        // Paso 1: Pedimos el ID correlativo a la DB
    new query[256];
    mysql_format(srp_db, query, sizeof(query), 
        "INSERT INTO contadores_objetos (tipo_objeto_id, ultimo_id) VALUES (%d, 1) \
        ON DUPLICATE KEY UPDATE ultimo_id = ultimo_id + 1", item_id);
    
    // Pasamos los datos al callback para finalizar la compra
    mysql_tquery(srp_db, query, "OnCompraToyContador", "iii", playerid, item_id, player_slot);
			        GivePlayerCash(playerid, -Toys_Shop[ PLAYER_TEMP[playerid][pt_TOYS_SHOP_TOY_SELECTED] ][shop_toy_price], true, true); 

					PlayerPlaySoundEx(playerid, 1058, 0.0, 0.0, 0.0);
					SendFormatNotification(playerid, "Gracias por comprar accesorios en ~g~%s~w~,Usa ~g~N Para interactuar~w~.", ENTER_EXIT[ PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] ][ee_NAME]);

					ClosePlayerToysMenu(playerid); 
					OtorgarLogro(playerid, 3);
					
					if(PI[playerid][pi_A6] == 0) 
                                 { 
                                     new Mision[500];
                                     GivePlayerCash(playerid, 500, true, false); 
                                     SendFormatNotification(playerid, "Has completado una ~g~mision"); 
                                     PI[playerid][pi_A6] = 1; 
                                     TextDrawShowForPlayer(playerid,BoxMisiones);
                                     TextDrawShowForPlayer(playerid,MisionCo);
                                     TextDrawShowForPlayer(playerid,MisionRe);
                                     format(Mision,sizeof(Mision),"~w~Comprar Prenda 500~g~$");
                                     TextDrawSetString(MisionRe, Mision); 
                                     SetTimerEx("ActualizarTextDraw",4500,false,"i",playerid);//
                                 }
			}
			else
			{
				PlayerPlaySoundEx(playerid, 1085, 0.0, 0.0, 0.0);
				SendFormatNotification(playerid, "No tienes dinero suficiente, te faltan ~r~$%s~w~ para poder comprar esta ropa.", number_format_thousand(Toys_Shop[ PLAYER_TEMP[playerid][pt_TOYS_SHOP_TOY_SELECTED] ][shop_toy_price] - PI[playerid][pi_CASH]));
			}

		}
		else if(playertextid == PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][6]) // Siguiente
		{
			PlayerPlaySoundEx(playerid, 1052, 0.0, 0.0, 0.0);

			if(PLAYER_TEMP[playerid][pt_TOYS_SHOP_TOY_SELECTED] == (sizeof(Toys_Shop) - 1)) PLAYER_TEMP[playerid][pt_TOYS_SHOP_TOY_SELECTED] = 0;
			else PLAYER_TEMP[playerid][pt_TOYS_SHOP_TOY_SELECTED] ++;

			UpdateToysShop(playerid);
		}
		else if(playertextid == PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][7]) // Anterior
		{
			PlayerPlaySoundEx(playerid, 1053, 0.0, 0.0, 0.0);

			if(PLAYER_TEMP[playerid][pt_TOYS_SHOP_TOY_SELECTED] == 0) PLAYER_TEMP[playerid][pt_TOYS_SHOP_TOY_SELECTED] = sizeof(Toys_Shop) - 1;
			else PLAYER_TEMP[playerid][pt_TOYS_SHOP_TOY_SELECTED] --;

			UpdateToysShop(playerid);
		}

	}
    return 1;
}

forward OnCompraToyContador(playerid, item_id, slot);
public OnCompraToyContador(playerid, item_id, slot)
{
    new query[128];
    mysql_format(srp_db, query, sizeof(query), "SELECT ultimo_id FROM contadores_objetos WHERE tipo_objeto_id = %d", item_id);
    mysql_tquery(srp_db, query, "FinalizarCompraToy", "iii", playerid, item_id, slot);
    return 1;
}

forward FinalizarCompraToy(playerid, item_id, slot);
public FinalizarCompraToy(playerid, item_id, slot)
{
    new id_interno;
    cache_get_value_name_int(0, "ultimo_id", id_interno);

    // Guardamos la posesión en la DB
    new query[256];
    mysql_format(srp_db, query, sizeof(query), 
        "INSERT INTO objetos_jugadores (owner_id, tipo_objeto_id, id_interno) VALUES (%d, %d, %d)", 
        PI[playerid][pi_ID], item_id, id_interno);
    mysql_tquery(srp_db, query);

    // ASIGNACIÓN FINAL AL INVENTARIO
    PI[playerid][pi_BOL][slot] = item_id;
    PI[playerid][pi_BOL_CANT][slot] = id_interno; // Guardamos el #1, #2...

    new str[128];
    format(str, sizeof(str), "Has comprado un(a) %s ID %d", ObjetoInfo[item_id][NombreObjeto], id_interno);
    SendNotification(playerid, str);
    SetPlayerToys(playerid);
    return 1;
}


FechaHoy()
{
	new Ano, Mes, Dia, Hora, Minutos, Segundos, gformat[256];
	getdate(Ano, Mes, Dia);
	gettime(Hora, Minutos, Segundos);
	format(gformat, sizeof gformat, "%02d/%02d/%02d - %02d:%02d:%02d", Dia, Mes, Ano, Hora, Minutos, Segundos);
	return gformat;
}

UpdateReputationTextDraws(playerid)
{
	
	return 1;
}

forward AddPlayerReputation(playerid);
public AddPlayerReputation(playerid)
{
    new neccessary_rep = PI[playerid][pi_LEVEL] * REP_MULTIPLIER;
    PI[playerid][pi_GIFT_GOT] = 0;
	if(PI[playerid][pi_REP] < neccessary_rep)
	{
		PI[playerid][pi_REP] ++;
		UpdateReputationTextDraws(playerid);
		
		if(PI[playerid][pi_REP] >= neccessary_rep) ShowPlayerMessage(playerid, "Escribe ~g~/comprarnivel ~w~para subir de nivel.", 2);
		
		PI[playerid][pi_PAYDAY_REP] ++;
		if(PI[playerid][pi_PAYDAY_REP] >= REP_FOR_PAYDAY)
		{
			PlayerPayday(playerid);
			PI[playerid][pi_PAYDAY_REP] = 0;
		}
		
		PI[playerid][pi_TIME_FOR_REP] = TIME_FOR_REP;
		PLAYER_TEMP[playerid][pt_TIME_PASSED_LAST_REP] = gettime() * 1000;

		mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET time_playing = %d, level = %d, rep = %d, time_for_rep = %d, payday_rep = %d WHERE id = %d;", PI[playerid][pi_TIME_PLAYING], PI[playerid][pi_LEVEL], PI[playerid][pi_REP], TIME_FOR_REP, PI[playerid][pi_PAYDAY_REP], PI[playerid][pi_ID]);
		mysql_tquery(srp_db, QUERY_BUFFER);

		KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][2]);
		PLAYER_TEMP[playerid][pt_TIMERS][2] = SetTimerEx("AddPlayerReputation", PI[playerid][pi_TIME_FOR_REP], false, "i", playerid);
		return 1;
	}
	KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][2]);
	return 0;
}

CMD:comprarmercancia(playerid, params[])
{
    new id = GetPlayerEmpresaCerca(playerid);
    if(id == -1) return ShowPlayerMessage(playerid, "No estás en tu empresa.");
    if(strcmp(EmpresaData[id][eDuenio], GetPlayerNameEx(playerid)) != 0) return 1;

    new cantidad;
    if(sscanf(params, "d", cantidad)) return ShowPlayerMessage(playerid, "USO: /comprarmercancia [Cantidad]");
    
    new costo = cantidad * 100; // Cada unidad cuesta 100
    if(PI[playerid][pi_CASH] < costo) return ShowPlayerMessage(playerid, "No tienes suficiente dinero.");

    GivePlayerMoney(playerid, -costo);
    EmpresaData[id][eMercancia] += cantidad;
    
    GuardarEmpresa(id);
    ActualizarEmpresaVisual(id);
    ShowPlayerMessage(playerid, "Has comprado mercancía para tu empresa.");
    return 1;
}

CMD:mj(playerid, params[])
{
    // 1. Verificar si el jugador está en un vehiculo
    if (!IsPlayerInAnyVehicle(playerid)) {
        return SendClientMessage(playerid, 0xFF0000FF, "ERROR: Debes estar dentro de un vehiculo.");
    }

    // 2. Verificar si es el conductor
    if (GetPlayerState(playerid) != PLAYER_STATE_DRIVER) {
        return SendClientMessage(playerid, 0xFF0000FF, "ERROR: Debes ser el conductor para mejorar el motor.");
    }

    new vehicleid = GetPlayerVehicleID(playerid);
    new Float:vx, Float:vy, Float:vz;

    // 3. Obtener la velocidad actual
    GetVehicleVelocity(vehicleid, vx, vy, vz);

    // 4. Aumentar la velocidad (multiplicamos x, y para dar impulso hacia adelante)
    // El valor 1.2 es un aumento del 20%. No pongas números muy altos o el auto saldrá volando.
    SetVehicleVelocity(vehicleid, vx * 5.2, vy * 5.2, vz);

    SendClientMessage(playerid, 0x00FF00FF, "[MOTOR] Has optimizado el motor. ¡Velocidad aumentada!");
    
    // Opcional: Sonido de turbo
    PlayerPlaySound(playerid, 1137, 0.0, 0.0, 0.0); 
    
    return 1;
}


CMD:areferido(playerid, params[])
{
    if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 0;
	new code[20];
	if (sscanf(params, "s[20]", code)) { SendClientMessageEx(playerid, -1, "modo de uso /areferido [CODIGO]"); return 1; }
	if(strlen(code) > 20) return 1;
	new id = -1;
	Loop(e, MAX_Referidos, 1) if (InfoReferido[e][rUsos] == 0)
	{
		id = e;
		break;
	}
	if (id == -1) return SendClientMessageEx(playerid, -1, "Se alcanzo el maximo de referidos %d, no se pueden crear mas.", MAX_Referidos);
	alm(InfoReferido[id][rCodigo], code);
	alm(InfoReferido[id][rCreador], PI[playerid][pi_NAME]);
	alm(InfoReferido[id][rFechaCreacion], FechaHoy());
	InfoReferido[id][rUsos] = 0;
	InfoReferido[id][rTipoRecom] = 1;
	SendClientMessageEx(playerid, 0x81E179FF, "Referidos: {cccccc}Se creo el codigo %s correctamente", code);
	new query[1500];
	//opcion idsql ya creada.
	
	mysql_format(srp_db, query, sizeof query, "INSERT INTO referidos_codes (Nombre, Creador, FechaCreacion, VecesUsado, TipoRecompenza) VALUES ('%s', '%s', '%s', '%d', '%d')",
	InfoReferido[id][rCodigo],
	InfoReferido[id][rCreador],
	InfoReferido[id][rFechaCreacion],
	InfoReferido[id][rUsos],
	InfoReferido[id][rTipoRecom]);
	mysql_tquery(srp_db, query, "GenerarReferido", "i", id);
	return id;
}

forward GenerarReferido(id);
public GenerarReferido(id)
{
	InfoReferido[id][rID] = cache_insert_id();
	cache_unset_active();
	totalreferidos++;
	return 1;
}

CMD:lreferidos(playerid, params[])
{
    if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 0;
	new string[210], string2[50], dialog[2100], conteo = 0, title[50];
	Loop(id, MAX_Referidos, 1) if(InfoReferido[id][rID] != 0)
	{
		format(string, sizeof string, "{cccccc}%d. {DE1818}%s {cccccc}(%d veces usado)\n", id, InfoReferido[id][rCodigo], InfoReferido[id][rUsos]);
		strcat(dialog, string);
		format(string2, sizeof string2, "RanuraReferido%d", conteo);
		SetPVarInt(playerid, string2, id);
		conteo++;
	}
	format(title, sizeof title, ""WHITE"Hay %d referidos creados", conteo);
	if(conteo > 0) Dialog_Show(playerid, ShowReferidos, DIALOG_STYLE_LIST, title, dialog, "Aceptar", "Cancelar");
	else SendClientMessageEx(playerid, -1, "No hay referidos creados.");
	return 1;
}

Dialog:ShowReferidos(playerid, response, listitem, inputtext[])
{
	new lista = listitem, string2[50], type[50], string[500];
	format(string2, sizeof string2, "RanuraReferido%d", lista);
	new slot = GetPVarInt(playerid, string2);
	if(!response) return 1;
	switch(InfoReferido[slot][rTipoRecom])
	{
		case 1: strcpy(type, "Normal (10k, +1 nivel");
		case 2: strcpy(type, "Ultimate (40k, +1 nivel, +1 coin)");
	}
	format(string, sizeof string, "{cccccc}Referido ({81E179}%s{cccccc})\n\
	"WHITE"Creador: %s\n\
	"WHITE"Fecha de creacion: %s\n\
	"WHITE"Veces usado: {81E179}%d\n\
	{cccccc}Tipo de recompenza: "WHITE"%s", InfoReferido[slot][rCodigo],
	InfoReferido[slot][rCreador],
	InfoReferido[slot][rFechaCreacion],
	InfoReferido[slot][rUsos],
	type);
	Dialog_Show(playerid, EliminarReferidos, DIALOG_STYLE_MSGBOX, ""WHITE"Referido", string, "Eliminar", "Cancelar");
	SetPVarInt(playerid, "ID_Referido_SQL", InfoReferido[slot][rID]);
	return 1;
}

Dialog:EliminarReferidos(playerid, response, listitem, inputtext[])
{
	if(!response) return 1;
	new id_referido = GetPVarInt(playerid, "ID_Referido_SQL");
	new string[210];
	alm(InfoReferido[id_referido][rCreador], "Ninguno");
	alm(InfoReferido[id_referido][rFechaCreacion], "Ninguno");
	InfoReferido[id_referido][rUsos] = 0;
	SendClientMessageEx(playerid, 0xccccccFF, "** Eliminaste el codigo de referido %s.", InfoReferido[id_referido][rCodigo]);
	mysql_format(srp_db, string, sizeof(string), "DELETE FROM `referidos_codes` WHERE `ID` = '%d'", InfoReferido[id_referido][rID]);
	mysql_tquery(srp_db, string);
	InfoReferido[id_referido][rID] = 0;
	return 1;
}

CMD:referido(playerid)
{
    if(PI[playerid][pi_LEVEL] == 1) 
    {
        // 128 es más que suficiente para este mensaje
        new string[128]; 
        format(string, sizeof string, ""WHITE"Introduce un codigo de {3C80FF}referido\n"WHITE"+ 10.000{00FF00}$ "WHITE" + Nivel {3C80FF}2");
        Dialog_Show(playerid, Addreferido, DIALOG_STYLE_INPUT, "{3C80FF}[Referido] {ffffff}  Amigo", string, "»Aceptar", "xCancelar"); 
        return 1;
    }
    return ShowPlayerMessage(playerid, "Solo usuarios ~b~nuevos.", 2);
}


Dialog:Addreferido(playerid, response, listitem, inputtext[])
{
	if(!response) return 1;
	if(strlen(inputtext) < 3) return PC_EmulateCommand(playerid, "/referido");
	Loop(e, totalreferidos, 1) if(InfoReferido[e][rID] != 0)
	{
		if(!strcmp(InfoReferido[e][rCodigo], inputtext, true))
		{
			InfoReferido[e][rUsos] += 1;
			guardar_int_mysql("referidos_codes", "VecesUsado", InfoReferido[e][rID], InfoReferido[e][rUsos]);
			SendClientMessageEx(playerid, 0x81E179FF, "Referidos: {cccccc}Usaste el codigo %s correctamente.", InfoReferido[e][rCodigo]);
			switch(InfoReferido[e][rTipoRecom])
			{
				case 1:
				{
				    GivePlayerCash(playerid, 10000);
            		PI[playerid][pi_MEDICINE] += 10;
	            	KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][2]);
		            PI[playerid][pi_REP] = 1;
	            	PI[playerid][pi_LEVEL] += 1;
                    SetPlayerScore(playerid, PI[playerid][pi_LEVEL]);
                    UpdateReputationTextDraws(playerid);
	            	SendFormatNotification(playerid,"¡Felicidades! Has usado un codigo de referido.", 2);
		            PlayAudioStreamForPlayerEx(playerid, "http://sonidosmp3gratis.com/sounds/mario-coin.mp3");

	            	PI[playerid][pi_TIME_PLAYING] += gettime() - PI[playerid][pi_TIME_PLAYING];
	            	PI[playerid][pi_TIME_PLAYING] = gettime();
					
				}
				case 2:
				{
					
				}
			}
			return 1;
		}
	}
	return 1;
}

generar_mochila(playerid)
{
	Loop(id, MAX_MOCHILAS, 1) if (InfoMochila[id][mModelo] == 0)
	{
		//se define la mochila (no db)
		InfoMochila[id][mModelo] = 371;
		new query[128];
		mysql_format(srp_db, query, sizeof query, "INSERT INTO mochilas (Modelo) VALUES ('%d')", InfoMochila[id][mModelo]);
		mysql_tquery(srp_db, query, "CrearMochilaDB", "ii", id, playerid);
		id = MAX_MOCHILAS;
		return 1;
	}
	return 1;
}

forward CrearMochilaDB(id, playerid);
public CrearMochilaDB(id, playerid)
{
    if(PI[playerid][pi_MANO_DER] != 0) return 1;
	InfoMochila[id][mID] = cache_insert_id();
	cache_unset_active();
	PI[playerid][pi_MANO_DER] = 200;
	PI[playerid][pi_DER_CANT] = InfoMochila[id][mID];
	PonerObjeto(playerid, 1, 200);
	//GivePlayerCash(playerid, -200000, true, true);
	totalmochilas++;
	return 1;
}

forward CargarMochilas();
public CargarMochilas()
{
	new cargaditos = 0;
	Loop(tabla, cache_num_rows(), 0)
	{
		new id = tabla+1;
		reg_int(tabla, "ID", InfoMochila[id][mID]);
		reg_int(tabla, "Modelo", InfoMochila[id][mModelo]);
		reg_int(tabla, "Slot_1", InfoMochila[id][mSlot][0]);
		reg_int(tabla, "Slot_1_Objeto", InfoMochila[id][mSlot_Cant][0]);
		reg_int(tabla, "Slot_1_Tipo", InfoMochila[id][mSlot_Tipo][0]);
		reg_int(tabla, "Slot_2", InfoMochila[id][mSlot][1]);
		reg_int(tabla, "Slot_2_Objeto", InfoMochila[id][mSlot_Cant][1]);
		reg_int(tabla, "Slot_2_Tipo", InfoMochila[id][mSlot_Tipo][1]);
		reg_int(tabla, "Slot_3", InfoMochila[id][mSlot][2]);
		reg_int(tabla, "Slot_3_Objeto", InfoMochila[id][mSlot_Cant][2]);
		reg_int(tabla, "Slot_3_Tipo", InfoMochila[id][mSlot_Tipo][2]);
		reg_int(tabla, "Slot_4", InfoMochila[id][mSlot][3]);
		reg_int(tabla, "Slot_4_Objeto", InfoMochila[id][mSlot_Cant][3]);
		reg_int(tabla, "Slot_4_Tipo", InfoMochila[id][mSlot_Tipo][3]);
		reg_int(tabla, "Slot_5", InfoMochila[id][mSlot][4]);
		reg_int(tabla, "Slot_5_Objeto", InfoMochila[id][mSlot_Cant][4]);
		reg_int(tabla, "Slot_5_Tipo", InfoMochila[id][mSlot_Tipo][4]);
		reg_int(tabla, "Slot_6", InfoMochila[id][mSlot][5]);
		reg_int(tabla, "Slot_6_Objeto", InfoMochila[id][mSlot_Cant][5]);
		reg_int(tabla, "Slot_6_Tipo", InfoMochila[id][mSlot_Tipo][5]);
		reg_int(tabla, "Slot_7", InfoMochila[id][mSlot][6]);
		reg_int(tabla, "Slot_7_Objeto", InfoMochila[id][mSlot_Cant][6]);
		reg_int(tabla, "Slot_7_Tipo", InfoMochila[id][mSlot_Tipo][6]);
		reg_int(tabla, "Slot_8", InfoMochila[id][mSlot][7]);
		reg_int(tabla, "Slot_8_Objeto", InfoMochila[id][mSlot_Cant][7]);
		reg_int(tabla, "Slot_8_Tipo", InfoMochila[id][mSlot_Tipo][7]);
		reg_int(tabla, "Slot_9", InfoMochila[id][mSlot][8]);
		reg_int(tabla, "Slot_9_Objeto", InfoMochila[id][mSlot_Cant][8]);
		reg_int(tabla, "Slot_9_Tipo", InfoMochila[id][mSlot_Tipo][8]);
		if (InfoMochila[id][mID]) totalmochilas++;
		cargaditos++;
	}
	printf("%d mochilas dinamicas (SQL: %d) cargadas correctamente.", cargaditos, totalmochilas);
	return 1;
}

/*CMD:mochila(playerid)
{
    for(new x = 0; x<MAX_SLOTS_INV; x++)
	{
	    new Bol = PI[playerid][pi_BOL][x];
		new Cant = PI[playerid][pi_BOL_CANT][x];
		if(Bol == 200) 
		{
	    	new title[120];
	    	format(title, sizeof title, "Mochila | ID:%d", cant);
	    	Dialog_Show(playerid, ShowMochila, DIALOG_STYLE_LIST, title, " Guardar objetos\n Sacar objetos", "Aceptar", "Cancelar");
	    	SetPVarInt(playerid, "ID_Mochila", Cant); 
		}
	}
	return 1;
}*/

CMD:mochila(playerid)
{
    new backpackFound = false;
    
    // 1. Recorremos los slots del inventario para encontrar la mochila (ID 200).
    for(new x = 0; x < MAX_SLOTS_INV; x++)
	{
	    new ItemID = PI[playerid][pi_BOL][x];        // El ID del objeto (200 = Mochila)
		new BackpackID = PI[playerid][pi_BOL_CANT][x]; // El ID ÚNICO de la mochila
        
		if(ItemID == 200) 
		{
            new global_idx = -1; // Índice global de la mochila (NECESARIO PARA ROBUSTEZ)
	    	new title[120];
            
            // --- INICIALIZACIÓN DE VARIABLES ---
            new dialog[2100] = ""; 
            new string[210], conteo = 0, gformat[50];
            
            // 2. OBTENER ID DEL OBJETO EN MANO DERECHA
			new ItemManoDerID = PI[playerid][pi_MANO_DER];
            
            // 3. CONSTRUCCIÓN DEL TÍTULO
	    	format(title, sizeof(title), "{828282}[Mochila] {ffffff} | ID: [{D50000}%d{FFFFFF}]", BackpackID);
            
            // Bucle para encontrar la data de la mochila
			Loop(id_temp, MAX_MOCHILAS, 1) // Usamos 'id_temp' para el bucle de búsqueda
			{
				if(InfoMochila[id_temp][mID] == BackpackID)
				{
                    global_idx = id_temp; // ALMACENAMOS el índice global (0-MAX_MOCHILAS)
					// Bucle que recorre los 10 slots (0 al 9)
					Loop(e, 9, 0) 
					{
						new Bonnet = InfoMochila[global_idx][mSlot][e]; 
						
						if(Bonnet != 0) // <-- SOLO AÑADIMOS LÍNEAS SELECCIONABLES
						{
							// [Slot X] - Nombre del Objeto (Visible y Seleccionable)
							format(string, sizeof(string), "{00ff00}[%d]{ffffff}| %s\n", InfoMochila[global_idx][mSlot_Cant][e], ObjetoInfo[Bonnet][NombreObjeto]);
							strcat(dialog, string); 
							
							
							
							// Mapeo: listitem (conteo) -> slot interno real (e)
							format(gformat, sizeof(gformat), "RanuraMochila%d", conteo);
							SetPVarInt(playerid, gformat, e);
							conteo++; // Incrementamos el índice de PVar
						}
					}
					break; 
				}
			}
            
            // 4. ELIMINAMOS EL BLOQUE DE TEXTO CONFLICTIVO. 
            // Si la mochila está vacía (conteo == 0), la lista simplemente inicia con la mano.
            /*
            if (conteo == 0)
            {
                strcat(dialog, "{888888}* Mochila vacía.\n"); 
            }
            */

            new actionCode = 0; // Variable para almacenar el código de acción
            
            if (ItemManoDerID != 0) // Si tiene algo en la mano derecha
            {
                new saveOption[128];
                format(saveOption, sizeof(saveOption), "{00ff00}[%d]{ffffff}| %s\n", PI[playerid][pi_DER_CANT], ObjetoInfo[PI[playerid][pi_MANO_DER]][NombreObjeto]);
                strcat(dialog, saveOption);
                actionCode = -1; // Código para ejecutar la acción de GUARDAR
            }
            else
            {
                strcat(dialog, "{ff0000}Vacio[] {FFFFFF}| Mano\n");
                actionCode = -2; // CÓDIGO CLAVE: No hay ítem, no hay acción
            }
            
            // Mapeamos el listitem al código de acción o slot
            // ESTE ÍNDICE DE CONTEO AHORA SIEMPRE ES CORRECTO.
            format(gformat, sizeof(gformat), "RanuraMochila%d", conteo);
            SetPVarInt(playerid, gformat, actionCode); 
            conteo++; // Incrementamos el conteo para incluir esta última línea
            
            // 6. Mostramos el diálogo final (Combinando botones de acción)
            Auto_SendPlayerAction(playerid, "revisa su mochila");
	    	Dialog_Show(playerid, ShowMochila, DIALOG_STYLE_LIST, title, dialog, "Aceptar", "xCerrar");
            
            // 7. Guardamos el índice global (necesario para el callback)
	    	SetPVarInt(playerid, "IDX_Mochila", global_idx); 
            
            // 8. Salimos del bucle principal
            backpackFound = true;
	    	break; 
		}
	}
    
    // Si el bucle termina y no se encontró la mochila
    if (!backpackFound)
    {
        ShowPlayerMessage(playerid, "~w~No tienes ninguna ~r~mochila.", 2);
    }
    
    return 1;
}


// ¡IMPORTANTE! Ahora acepta el Índice Global (global_idx) en lugar del BackpackID único.
forward guardar_objeto_en_mochila(playerid, global_idx, itemID, itemCant); 

// Función de lógica de guardado (utiliza el índice global para acceso directo)
public guardar_objeto_en_mochila(playerid, global_idx, itemID, itemCant)
{
    // Verificación de índice global (seguridad)
    if (global_idx < 0 || global_idx >= MAX_MOCHILAS)
    {
        return 0; // Fallo de seguridad
    }
    
    // La mochila ya está localizada en InfoMochila[global_idx]
    for(new slot = 0; slot < 10; slot++)
    {
        if(InfoMochila[global_idx][mSlot][slot] == 0) // Slot vacío
        {
            // Lógica para asignar el ítem
            new backpackID = InfoMochila[global_idx][mID];
            
            InfoMochila[global_idx][mSlot][slot] = itemID;
            InfoMochila[global_idx][mSlot_Cant][slot] = itemCant;
            InfoMochila[global_idx][mSlot_Tipo][slot] = 1; // Asumimos tipo 1
            
            // Guardado en MySQL (usando el BackpackID único)
            new gold[32];
            format(gold, sizeof gold, "Slot_%d", slot+1);
            guardar_int_mysql("mochilas", gold, backpackID, itemID);
            format(gold, sizeof gold, "Slot_%d_Objeto", slot+1);
            guardar_int_mysql("mochilas", gold, backpackID, itemCant);
            format(gold, sizeof gold, "Slot_%d_Tipo", slot+1);
            guardar_int_mysql("mochilas", gold, backpackID, 1);
            return 1; // Éxito
        }
    }
    return 0; // Mochila llena (falló al encontrar slot)
}
// --------------------------------------------------------------------------

Dialog:ShowMochila(playerid, response, listitem, inputtext[])
{
	if (!response) return 1;
	
	new lista = listitem, gformat[40];
	format(gformat, sizeof(gformat), "RanuraMochila%d", lista);
	new slot = GetPVarInt(playerid, gformat); 
	
    // Recuperar el ÍNDICE GLOBAL de la mochila para acceso directo
    new global_idx = GetPVarInt(playerid, "IDX_Mochila"); 
    new gold[32], string[210], stringx[210], stringx2[210];
	
    // Limpieza de PVars (CRUCIAL)
    for (new i = 0; i < 20; i++)
    {
         new tempFormat[50];
         format(tempFormat, sizeof(tempFormat), "RanuraMochila%d", i);
         DeletePVar(playerid, tempFormat);
    }
    DeletePVar(playerid, "IDX_Mochila"); // <-- Limpiamos el PVar del Índice
    
    // Verificación de índice global (seguridad)
    if (global_idx == -1 || global_idx >= MAX_MOCHILAS)
    {
        // Si el índice no se guardó correctamente, salimos.
        return 1;
    }


	// --- VERIFICACIÓN DE ACCIÓN: MANO VACÍA (slot == -2) ---
	if (slot == -2)
	{
	    return 1;
	}
	
	// --- VERIFICACIÓN DE ACCIÓN: GUARDAR MANO DERECHA (slot == -1) ---
	if (slot == -1)
	{
	    new ItemManoDerID = PI[playerid][pi_MANO_DER];
        new ItemManoDerCant = PI[playerid][pi_DER_CANT];
        
	    if (ItemManoDerID == 0)
	    {
	        return 1; 
	    }
	    
        // ¡IMPORTANTE! Enviamos el índice global (global_idx) para guardado robusto
	    if (guardar_objeto_en_mochila(playerid, global_idx, ItemManoDerID, ItemManoDerCant))
	    {
	        // Éxito
	        format(stringx2, sizeof(stringx2), "guarda %s en la mochila.", ObjetoInfo[ItemManoDerID][NombreObjeto]);
			Auto_SendPlayerAction(playerid, stringx2);
			PI[playerid][pi_MANO_DER] = 0;
			PI[playerid][pi_DER_CANT]= 0;
			PonerObjeto(playerid, 1, 0); 
			ActualizarManos(playerid);
			
			PlayerPlaySoundEx(playerid, 1083, 0.0, 0.0, 0.0);
	        
            // Refrescar el diálogo para mostrar que el ítem se guardó
            PC_EmulateCommand(playerid, "/mochila");
	        return 1;
	    }
	    else
	    {
	        ShowPlayerMessage(playerid, "No tienes más ~r~espacios.", 2);
	        return 1;
	    }
	}
	
	// --- ACCIÓN: SACAR ÍTEM DE LA MOCHILA (slot >= 0) ---
	
    // Usamos el índice global para acceder a la data de la mochila
	new Bonnet = InfoMochila[global_idx][mSlot][slot], Cant = InfoMochila[global_idx][mSlot_Cant][slot];
    new BackpackID = InfoMochila[global_idx][mID]; // Obtenemos el ID único para MySQL
	
	if (Bonnet == 0) return 1; 

	if(InfoMochila[global_idx][mSlot_Tipo][slot] == 1)
    	{	
            new player_slot = GetEmptyInvSlot(playerid);
			if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
			
            PI[playerid][pi_BOL][player_slot] = Bonnet;
            PI[playerid][pi_BOL_CANT][player_slot] = Cant;
	        SetPlayerToys(playerid);
	
			// Limpiar Slot de la mochila
			InfoMochila[global_idx][mSlot][slot] = 0;
			InfoMochila[global_idx][mSlot_Cant][slot] = 0;
			InfoMochila[global_idx][mSlot_Tipo][slot] = 0;
			
			// Guardado en MySQL
			format(string, sizeof(string), "Tomaste la %s de la mochila.", ObjetoInfo[Bonnet][NombreObjeto]); 
			format(stringx, sizeof(stringx), "saca %s de la mochila.", ObjetoInfo[Bonnet][NombreObjeto]);
			Auto_SendPlayerAction(playerid, stringx);
			PlayerPlaySoundEx(playerid, 1083, 0.0, 0.0, 0.0);
	    	ShowPlayerMessage(playerid, string);
	        Auto_SendPlayerAction(playerid, "revisa su mochila");
			format(gold, sizeof gold, "Slot_%d", slot+1);
			guardar_int_mysql("mochilas", gold, BackpackID, InfoMochila[global_idx][mSlot][slot]);
			format(gold, sizeof gold, "Slot_%d_Objeto", slot+1);
			guardar_int_mysql("mochilas", gold, BackpackID, InfoMochila[global_idx][mSlot_Cant][slot]);
			format(gold, sizeof gold, "Slot_%d_Tipo", slot+1);
			guardar_int_mysql("mochilas", gold, BackpackID, InfoMochila[global_idx][mSlot_Tipo][slot]);
			
			// Llama al CMD:mochila para refrescar la lista
			PC_EmulateCommand(playerid, "/mochila");
			return 1;
    	}
	return 1;
}

CMD:venderdi(playerid, params[])
{
	if(PI[playerid][pi_MANO_DER] != 101) return SendNotification(playerid, "No tienes dinamita en tu mano.");
	GivePlayerCash(playerid, 7000); 
	if(PI[playerid][pi_DER_CANT] > 1) {PI[playerid][pi_DER_CANT] --;}else{PI[playerid][pi_DER_CANT] = 0;PI[playerid][pi_MANO_DER] = 0;}
	return true;

}

CMD:utilidades(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return ShowPlayerMessage(playerid, "Ahora no puedes usar este comando.", 2);
    if (PLAYER_TEMP[playerid][pt_ESPOSADO] == 1) return ShowPlayerMessage(playerid, "No puedes hacer esto mientras esas ~r~esposado~w~."); 
    Auto_SendPlayerAction(playerid, "mira sus utilidades");	
    ShowDialog(playerid, DIALOG_UTILITY);
	return 1;
}

CMD:allbandas(playerid, params[])
{
    if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 0;
	ShowDialog(playerid, DIALOG_ADMIN_CREW_MENU);
	return 1;
}

CMD:dterritorio(playerid, params[])
{
    if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 0;
    PLAYER_TEMP[playerid][pt_PLAYER_TERRITORY_PRO] = PLAYER_TEMP[playerid][pt_LAST_TERRITORY];
	if(PLAYER_TEMP[playerid][pt_LAST_TERRITORY] != INVALID_STREAMER_ID)
	{
		if(IsPlayerInDynamicArea(playerid, TERRITORIES[ PLAYER_TEMP[playerid][pt_LAST_TERRITORY] ][territory_AREA]))
		{
			if(TERRITORIES[ PLAYER_TEMP[playerid][pt_LAST_TERRITORY] ][territory_CREW_ID] != PI[playerid][pi_CREW])
			{
				if(!TERRITORIES[ PLAYER_TEMP[playerid][pt_LAST_TERRITORY] ][territory_WAR] && !CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_FIGHTING])
				{
			 		if(CREW_INFO[ TERRITORIES[ PLAYER_TEMP[playerid][pt_LAST_TERRITORY] ][territory_CREW_INDEX] ][crew_VALID])
					{
						TERRITORIES[ PLAYER_TEMP[playerid][pt_PLAYER_TERRITORY_PRO] ][territory_OCCUPIED] = false;
						TERRITORIES[ PLAYER_TEMP[playerid][pt_PLAYER_TERRITORY_PRO] ][territory_CREW_ID] = 0;
						TERRITORIES[ PLAYER_TEMP[playerid][pt_PLAYER_TERRITORY_PRO] ][territory_CREW_INDEX] = 0;
						TERRITORIES[ PLAYER_TEMP[playerid][pt_PLAYER_TERRITORY_PRO] ][territory_COLOR] = 0xCCCCCC55;
						UpdateGangZoneColor(PLAYER_TEMP[playerid][pt_PLAYER_TERRITORY_PRO]);
						
		 				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE territories SET id_crew = NULL WHERE id = %d;", TERRITORIES[ PLAYER_TEMP[playerid][pt_PLAYER_TERRITORY_PRO] ][territory_ID]);
						mysql_tquery(srp_db, QUERY_BUFFER);
						
						SendNotification(playerid, "Has eliminado este territorio");
						new message[250]; format(message, sizeof message, ""WHITE"[BANDAS] "WHITE"El territorio %s fue liberado, esta listo para {ffffff}conquistar", TERRITORIES[ PLAYER_TEMP[playerid][pt_PLAYER_TERRITORY_PRO] ][territory_NAME]);
						for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
						{
							if(IsPlayerConnected(i))
							{
								if(PI[i][pi_CREW])
								{
									SendClientMessage(i, -1, message);
								}
							}
						}
					}
				}
			}
		}
	}
	return 1;
}

CMD:qfa(playerid, params[])
{
	new to_player = -1;
	if(sscanf(params, "I(-1)", to_player)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /qfa <player_id>", 2);
	if(PI[playerid][pi_ADMIN_LEVEL]  == 0) to_player = playerid;

	if(to_player == -1) to_player = playerid;

	if(to_player != playerid)
	{
		if(!IsPlayerConnected(to_player)) return ShowPlayerMessage(playerid, "El usuario seleccionado no ha está conectado", 2);
	}
	new string[150];
	if(playerid == to_player) format(string, sizeof(string), "La ultima persona que te mato fue %s", PLAYER_TEMP[playerid][pt_LAST_KILLER]);
	else format(string, sizeof(string), "La ultima persona que mato a %s fue %s", PLAYER_TEMP[to_player][pt_NAME], PLAYER_TEMP[to_player][pt_LAST_KILLER]);
	ShowPlayerMessage(playerid, string, 2);

	return false;
}


enum regalosCajas {
	Float:regaloX,
	Float:regaloY,
	Float:regaloZ,
	Float:regaloRot,
	regaloObject,
	Text3D:regalo3DText,
}

new Regalos[5][regalosCajas];


// 2 droids 5 coins 4 coins 5k de dinero medicamentos y crack
void:RegaloRecibir(playerid)
{
	new item = random(4);
	new dineroRand = random(10000 - 3000) + 3000;
	new randMedicamentos = random(20 - 10) + 10;
	new randCoin = random(6 - 2) + 2;
	new messageNotify[128];
	switch(item)
	{
		case 0:
		{
			format(messageNotify, sizeof(messageNotify), "~g~Regalo~w~ recibiste %d Coins de regalo", randCoin);
			SendNotification(playerid, messageNotify);
			PI[playerid][pi_COINS] += randCoin;
			mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET coins = %d WHERE id = %d;", PI[playerid][pi_COINS], PI[playerid][pi_ID]);
			mysql_tquery(srp_db, QUERY_BUFFER);
		}
		case 1:
		{
			format(messageNotify, sizeof(messageNotify), "~g~Regalo~w~ recibiste %d gr de crack de regalo", randMedicamentos);
			SendNotification(playerid,messageNotify);
			PI[playerid][pi_CRACK] +=randMedicamentos;
		}
		case 2:
		{
			format(messageNotify, sizeof(messageNotify), "~g~Regalo~w~ recibiste %d gr de medicamentos de regalo", randMedicamentos);
			SendNotification(playerid,messageNotify);
			PI[playerid][pi_MEDICINE]+=randMedicamentos;
		}
		case 3:
		{
			format(messageNotify, sizeof(messageNotify), "~g~Regalo~w~ recibiste %d gr de medicamentos de regalo", randMedicamentos);
			SendNotification(playerid,messageNotify);
			GivePlayerCash(playerid, dineroRand, true, false);
		}
	}
}

CMD:recibir(playerid, params[])
{
	new item[20];
	if(sscanf(params, "s[20]", item)) return SendNotification(playerid, "~r~Modo de uso:~w~ /recibir [regalo]");

	if(strcmp(item, "regalo", true) == 0)
	{
		for(new i = 0; i < 5; i++)
		{
			if(IsPlayerInRangeOfPoint(playerid, 2.5, Regalos[i][regaloX], Regalos[i][regaloY], Regalos[i][regaloZ]))
			{
				if(PI[playerid][pi_GIFT_GOT] == 0)
				{
					PI[playerid][pi_GIFT_GOT] = 1;
					RegaloRecibir(playerid);
					/*mysql_format(srp_db, QUERY_BUFFER, sizeof(QUERY_BUFFER), "UPDATE `player` SET `regalo_recibido` = '1' WHERE id = %d;", PI[playerid][pi_ID]);
					mysql_tquery(srp_db, QUERY_BUFFER);*/
					return true;
				}
				else return SendNotification(playerid, "~r~Atención~w~~n~ Ya lo recibiste");
			}
		}
		return SendNotification(playerid, "~r~Atención~w~~n~ No estas cerca de ninguna caja de regalo");
	}
	return true;
}

CMD:comprarnivel(playerid, params[])
{
	new neccessary_rep = PI[playerid][pi_LEVEL] * REP_MULTIPLIER;
	if(PI[playerid][pi_REP] < neccessary_rep) return ShowPlayerMessage(playerid, "Aún no tienes la suficiente reputación para subir de nivel.", 2);
	if(PI[playerid][pi_LEVEL] * 150 > PI[playerid][pi_CASH]) return SendFormatNotification(playerid, "No tienes suficiente dinero para subir de nivel, te faltan ~g~%s dólares~w~ para poder comprarlo.", number_format_thousand((PI[playerid][pi_LEVEL] * 150) - PI[playerid][pi_CASH]));

	if(GivePlayerCash(playerid, -(PI[playerid][pi_LEVEL] * 150), true, true)) {
		PI[playerid][pi_REP] = 1;
		PI[playerid][pi_LEVEL] ++;
		UpdateReputationTextDraws(playerid);
		SetPlayerSkillLevels(playerid);

		SendFormatNotification(playerid, "~g~¡Felicidades! ~w~Has subido al nivel %d. Pagaste ~g~%d dólares~w~ por él.", PI[playerid][pi_LEVEL], PI[playerid][pi_LEVEL] * 150);
		SetPlayerScore(playerid, PI[playerid][pi_LEVEL]);
		PlayerPlaySoundEx(playerid, 1058, 0.0, 0.0, 0.0);

		PI[playerid][pi_TIME_FOR_REP] = TIME_FOR_REP;
		PLAYER_TEMP[playerid][pt_TIME_PASSED_LAST_REP] = gettime() * 1000;

		mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET time_playing = %d, level = %d, rep = %d, time_for_rep = %d, payday_rep = %d WHERE id = %d;", PI[playerid][pi_TIME_PLAYING], PI[playerid][pi_LEVEL], PI[playerid][pi_REP], TIME_FOR_REP, PI[playerid][pi_PAYDAY_REP], PI[playerid][pi_ID]);
		mysql_tquery(srp_db, QUERY_BUFFER);

		KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][2]);
		PLAYER_TEMP[playerid][pt_TIMERS][2] = SetTimerEx("AddPlayerReputation", PI[playerid][pi_TIME_FOR_REP], false, "i", playerid);
	}
	return 1;
}

stock SetPlayerCash(playerid, amount, bool:update = true)
{
	PI[playerid][pi_CASH] = amount;
	ResetPlayerMoney(playerid);
	GivePlayerMoney(playerid, PI[playerid][pi_CASH]);

	if(update)
	{
		mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET cash = %d WHERE id = %d;", PI[playerid][pi_CASH], PI[playerid][pi_ID]);
		mysql_tquery(srp_db, QUERY_BUFFER);
	}
	return 1;
}

stock SetPlayerCashX(playerid, amount)
{
    PI[playerid][pi_CASH] += amount;
    ResetPlayerMoney(playerid);
    GivePlayerMoney(playerid, PI[playerid][pi_CASH]);

    new string[32]; // Subí a 32 por si las dudas con los colores
    
    // Si amount es mayor o igual a 0, es positivo (VERDE)
    if(amount >= 0)
    {
        format(string, sizeof string, "~g~+$~w~%d", amount);
        GameTextForPlayer(playerid, string, 5000, 1);
    }
    // Si amount es menor a 0, es negativo (ROJO)
    else
    {
        // Usamos -amount para que no salga "-$-500" (doble menos)
        format(string, sizeof string, "~r~-$~w~%d", -amount); 
        GameTextForPlayer(playerid, string, 5000, 1);
    }
    return 1;
}


GivePlayerCash(playerid, amount, bool:update = true, bool:negative = false)
{
	if(amount == 0) return 1;
	if(!negative && amount < 0) return 0;
	if(negative && amount > 0) return 0;
	if(negative && (PI[playerid][pi_CASH] + amount) < 0) return 0;
	if(!negative)
	{
		new string[16];
		format(string, sizeof string,"~g~+$~w~%d", amount);
		GameTextForPlayer(playerid, string, 5000, 1);
	}
	else
	{
		new string[16];
		format(string, sizeof string,"~r~$~w~%d", amount);
		GameTextForPlayer(playerid, string, 5000, 1);
	}

	PI[playerid][pi_CASH] += amount;
	ResetPlayerMoney(playerid);
	GivePlayerMoney(playerid, PI[playerid][pi_CASH]);
	//SendMoneyToBank(playerid);

	if(update)
	{
		mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET cash = %d WHERE id = %d;", PI[playerid][pi_CASH], PI[playerid][pi_ID]);
		mysql_tquery(srp_db, QUERY_BUFFER);
	}
	return 1;
}

LoadEnterExits()
{
	new total_enterexits = 0, label_str[256], info[3];
		
	for (new i = 0; i != sizeof ENTER_EXIT; i ++)
	{
		ENTER_EXIT[i][ee_ID] = i + 1;

		// --- LÓGICA DE ETIQUETA DINÁMICA (PLANTILLA INICIAL) ---
		if (ENTER_EXIT[i][ee_INTERIOR_TYPE] == INTERIOR_BLACK_MARKET)
		{
			// Buscamos si hay un territorio cargado en este momento (por si la DB fue rápida)
			new zonaid = -1;
			for(new z = 0; z < MAX_TERRITORIES; z++)
			{
				if(!TERRITORIES[z][territory_VALID]) continue;
				if(ENTER_EXIT[i][ee_EXT_X] >= TERRITORIES[z][territory_MIN_X] && ENTER_EXIT[i][ee_EXT_X] <= TERRITORIES[z][territory_MAX_X] &&
				   ENTER_EXIT[i][ee_EXT_Y] >= TERRITORIES[z][territory_MIN_Y] && ENTER_EXIT[i][ee_EXT_Y] <= TERRITORIES[z][territory_MAX_Y])
				{
					zonaid = z;
					break;
				}
			}

			if(zonaid != -1 && TERRITORIES[zonaid][territory_CREW_ID] > 0)
			{
				format(label_str, sizeof label_str, "{FFFFFF}Territorio de: {828282}%s\n{27EDF6}%s\n{F5F5F5}Acercate para entrar", 
					CREW_INFO[TERRITORIES[zonaid][territory_CREW_INDEX]][crew_NAME],
					ENTER_EXIT[i][ee_NAME]);
			}
			else
			{
				// Si la DB aún no carga, aparecerá neutral temporalmente
				format(label_str, sizeof label_str, "{27EDF6}%s\n{F5F5F5}Acercate para entrar", ENTER_EXIT[i][ee_NAME]);
			}
		}
		else 
		{
			format(label_str, sizeof label_str, "{27EDF6}%s\n{27EDF6}Acercate {F5F5F5}para entrar", ENTER_EXIT[i][ee_NAME]);
		}

		// CREACIÓN DEL LABEL (Guardamos el ID para poder actualizarlo luego desde la DB)
		ENTER_EXIT[i][ee_EXT_LABEL_ID] = CreateDynamic3DTextLabel(label_str, 0xFFFFFFFF, ENTER_EXIT[i][ee_EXT_X], ENTER_EXIT[i][ee_EXT_Y], ENTER_EXIT[i][ee_EXT_Z] + 0.25, 3.0, .testlos = true, .worldid = ENTER_EXIT[i][ee_EXT_WORLD], .interiorid = ENTER_EXIT[i][ee_EXT_INTERIOR]);
		
		// MAP ICONS
		if (ENTER_EXIT[i][ee_INT_MAPICON] != -1) ENTER_EXIT[i][ee_INT_MAPICON_ID] = CreateDynamicMapIcon(ENTER_EXIT[i][ee_INT_X], ENTER_EXIT[i][ee_INT_Y], ENTER_EXIT[i][ee_INT_Z], ENTER_EXIT[i][ee_INT_MAPICON], -1, ENTER_EXIT[i][ee_INT_WORLD], ENTER_EXIT[i][ee_INT_INTERIOR]);
		if (ENTER_EXIT[i][ee_EXT_MAPICON] != -1) ENTER_EXIT[i][ee_EXT_MAPICON_ID] = CreateDynamicMapIcon(ENTER_EXIT[i][ee_EXT_X], ENTER_EXIT[i][ee_EXT_Y], ENTER_EXIT[i][ee_EXT_Z], ENTER_EXIT[i][ee_EXT_MAPICON], -1, ENTER_EXIT[i][ee_EXT_WORLD], ENTER_EXIT[i][ee_EXT_INTERIOR]);
		
		// PICKUPS
		ENTER_EXIT[i][ee_INT_PICKUP_ID] = CreateDynamicPickup(19607, 1, ENTER_EXIT[i][ee_INT_X], ENTER_EXIT[i][ee_INT_Y], ENTER_EXIT[i][ee_INT_Z], ENTER_EXIT[i][ee_INT_WORLD], ENTER_EXIT[i][ee_INT_INTERIOR]);
		ENTER_EXIT[i][ee_EXT_PICKUP_ID] = CreateDynamicPickup(19607, 1, ENTER_EXIT[i][ee_EXT_X], ENTER_EXIT[i][ee_EXT_Y], ENTER_EXIT[i][ee_EXT_Z] - 0.5, ENTER_EXIT[i][ee_EXT_WORLD], ENTER_EXIT[i][ee_EXT_INTERIOR]);

		// ASIGNACIÓN DE DATOS AL PICKUP
		info[0] = PICKUP_TYPE_ENTER_EXIT;
		info[1] = i; 
		info[2] = 1; 
		Streamer_SetArrayData(STREAMER_TYPE_PICKUP, ENTER_EXIT[i][ee_INT_PICKUP_ID], E_STREAMER_EXTRA_ID, info);

		info[0] = PICKUP_TYPE_ENTER_EXIT;
		info[1] = i; 
		info[2] = 2; 
		Streamer_SetArrayData(STREAMER_TYPE_PICKUP, ENTER_EXIT[i][ee_EXT_PICKUP_ID], E_STREAMER_EXTRA_ID, info);
		
		ENTER_EXIT[i][ee_MAIN_ACTOR] = CreateInteriorActor(ENTER_EXIT[i][ee_INTERIOR_TYPE], ENTER_EXIT[i][ee_INT_WORLD], ENTER_EXIT[i][ee_INT_INTERIOR]);

		total_enterexits ++;
	}
	printf("SISTEMA: %d Interiores cargados correctamente.", total_enterexits);
	return 1;
}

CreatePropertyInfo(i, pid, pname[], cid, cname[])
{
	if(PROPERTY_INFO[i][property_EXT_LABEL_ID] != Text3D:INVALID_STREAMER_ID)
	{
		DestroyDynamic3DTextLabel(PROPERTY_INFO[i][property_EXT_LABEL_ID]);
		PROPERTY_INFO[i][property_EXT_LABEL_ID] = Text3D:INVALID_STREAMER_ID;
	}
	if(PROPERTY_INFO[i][property_INT_LABEL_ID] != Text3D:INVALID_STREAMER_ID)
	{
		DestroyDynamic3DTextLabel(PROPERTY_INFO[i][property_INT_LABEL_ID]);
		PROPERTY_INFO[i][property_INT_LABEL_ID] = Text3D:INVALID_STREAMER_ID;
	}
	if(PROPERTY_INFO[i][property_EXT_PICKUP_ID] != INVALID_STREAMER_ID)
	{
		DestroyDynamicPickup(PROPERTY_INFO[i][property_EXT_PICKUP_ID]);
		PROPERTY_INFO[i][property_EXT_PICKUP_ID] = INVALID_STREAMER_ID;
	}
	if(PROPERTY_INFO[i][property_INT_PICKUP_ID] != INVALID_STREAMER_ID)
	{
		DestroyDynamicPickup(PROPERTY_INFO[i][property_INT_PICKUP_ID]);
		PROPERTY_INFO[i][property_INT_PICKUP_ID] = INVALID_STREAMER_ID;
	}

	new info[3], label_str[444], pickup_modelid, name_house[24];
	if(PROPERTY_INFO[ i ][property_EXTRA1] == 0) name_house = "Casa";
	if(PROPERTY_INFO[ i ][property_EXTRA1] == 2) name_house = "Garaje";
	if(PROPERTY_INFO[ i ][property_EXTRA1] == 4) name_house = "Negocio";
	new type_house[24];
	if(PROPERTY_INFO[i][property_EXTRA1] == 0) type_house = "Casa en venta";
	if(PROPERTY_INFO[i][property_EXTRA1] == 2) type_house = "Garaje en venta";
	if(PROPERTY_INFO[i][property_EXTRA1] == 3) type_house = "Oficina en venta";
	if(PROPERTY_INFO[i][property_EXTRA1] == 4) type_house = "Negocio en venta";
	if(pid)
	{
		pickup_modelid = 1273;
		PROPERTY_INFO[i][property_SOLD] = true;
		PROPERTY_INFO[i][property_CREW] = false;
		PROPERTY_INFO[i][property_OWNER_ID] = pid;
		PROPERTY_INFO[i][property_CREW_ID] = 0;
		format(label_str, sizeof label_str, "{FFFFFF}Propiedad %s {1DADE3}#%d\n\n{FFFFFF}Propietario: {1DADE3L}%s\n{1DADE3}Acércate {ffffff}para entrar.", name_house, PROPERTY_INFO[i][property_ID], pname);
	}
	else if(cid)
	{
		pickup_modelid = 173;
		PROPERTY_INFO[i][property_SOLD] = true;
		PROPERTY_INFO[i][property_CREW] = true;
		PROPERTY_INFO[i][property_CREW_ID] = cid;
		PROPERTY_INFO[i][property_OWNER_ID] = 0;
		format(PROPERTY_INFO[i][property_NAME], 24, "{00FF00}{FFFFFF}Dirección {00FF00}[ %d ]", PROPERTY_INFO[i][property_ID]);
		format(label_str, sizeof label_str, "{FFFFFF}Propiedad {1DADE3}#%d\n\n{FFFFFF}Tipo: {1DADE3L}%s\n{FFFFFF}Banda: {FFFF00}%s\n{1DADE3}Acércate {ffffff}para entrar.", PROPERTY_INFO[i][property_ID], name_house, cname);
	}
	else
	{
		pickup_modelid = 1272;
		PROPERTY_INFO[i][property_SOLD] = false;
		PROPERTY_INFO[i][property_OWNER_ID] = 0;
		format(PROPERTY_INFO[i][property_NAME], 24, "Dirección %d", PROPERTY_INFO[i][property_ID]);
		if(PROPERTY_INFO[i][property_VIP_LEVEL])
		{

			if(PROPERTY_INFO[i][property_EXTRA]) format(label_str, sizeof label_str, "{FEFF00}VIP {FFFFFF}Requerido\n\n{FFFFFF}Propiedad {1DADE3}#%d{ffffff} En Venta\n\n{FFFFFF}Interior: {00FF00}%d\n{FFFFFF}Tipo: {00FF00}%s\n{FFFFFF}Coste: "CYAN"%d"SERVER_COIN"\n{FFFFFF}Nivel necesario: {00FF00}%d", PROPERTY_INFO[i][property_ID], PROPERTY_INFO[i][property_ID_INTERIOR], type_house, PROPERTY_INFO[i][property_EXTRA], PROPERTY_INFO[i][property_LEVEL]);
			else format(label_str, sizeof label_str, "{FEFF00}VIP {FFFFFF}Requerido\n\n{FFFFFF}Propiedad {1DADE3}#%d{ffffff} En Venta\n\n{FFFFFF}Tipo: %s\n{FFFFFF}Interior: {00FF00}%s\n{FFFFFF}Precio: %s{00FF00}$\n{FFFFFF}Nivel: {00FF00}%d", PROPERTY_INFO[i][property_ID] ,type_house, PROPERTY_INFO[i][property_ID_INTERIOR], number_format_thousand(PROPERTY_INFO[i][property_PRICE]), PROPERTY_INFO[i][property_LEVEL]);

		}
		else
		{		
			if(PROPERTY_INFO[i][property_EXTRA]) format(label_str, sizeof label_str, "{FFFFFF}Propiedad {1DADE3}#%d{ffffff} En Venta\n\n{FFFFFF}Interior: {00FF00}%d\n{FFFFFF}Tipo: {00FF00}%s\n{FFFFFF}Coste: {00FF00}%d"SERVER_COIN"", PROPERTY_INFO[i][property_ID], PROPERTY_INFO[i][property_ID_INTERIOR], type_house, PROPERTY_INFO[i][property_EXTRA], PROPERTY_INFO[i][property_LEVEL]);
			else format(label_str, sizeof label_str, "{FFFFFF}Propiedad {1DADE3}#%d{ffffff} En Venta\n{FFFFFF}Interior: {00FF00}%d\n{FFFFFF}Tipo: {00FF00}%s\n{FFFFFF}Precio: %s{00FF00}$\n{FFFFFF}Nivel: {00FF00}%d", PROPERTY_INFO[i][property_ID], PROPERTY_INFO[i][property_ID_INTERIOR], type_house, number_format_thousand(PROPERTY_INFO[i][property_PRICE]), PROPERTY_INFO[i][property_LEVEL]);
		
		
		}
	}

	PROPERTY_INFO[i][property_EXT_LABEL_ID] = CreateDynamic3DTextLabel(label_str, 0xFFFFFFFF, PROPERTY_INFO[i][property_EXT_X], PROPERTY_INFO[i][property_EXT_Y], PROPERTY_INFO[i][property_EXT_Z] + 0.25, 5.0, .testlos = true, .worldid = 0, .interiorid = PROPERTY_INFO[i][property_EXT_INTERIOR]);

	new Float:z_pos = PROPERTY_INTERIORS[ PROPERTY_INFO[i][property_ID_INTERIOR] ][property_INT_Z];
	if(PROPERTY_INFO[i][property_DIS_DEFAULT_INTERIOR]) z_pos += PROPERTY_EMPTY_INTERIOR_Z_OFFSET;
	PROPERTY_INFO[i][property_INT_LABEL_ID] = CreateDynamic3DTextLabel("{FFFFFF}Acércate {00FF00}Para salir\n\nEscribe "YELLOW"/propiedades "WHITE"para más opciones\n "YELLOW"/sotano entrar {FFFFFF} para ir a tu sotano", 0xFFFFFFFF, PROPERTY_INTERIORS[ PROPERTY_INFO[i][property_ID_INTERIOR] ][property_INT_X], PROPERTY_INTERIORS[ PROPERTY_INFO[i][property_ID_INTERIOR] ][property_INT_Y], z_pos + 0.25, 3.0, .testlos = true, .worldid = PROPERTY_INFO[i][property_ID], .interiorid = PROPERTY_INTERIORS[ PROPERTY_INFO[i][property_ID_INTERIOR] ][property_INT_INTERIOR]);

	PROPERTY_INFO[i][property_EXT_PICKUP_ID] = CreateDynamicPickup(pickup_modelid, 1, PROPERTY_INFO[i][property_EXT_X], PROPERTY_INFO[i][property_EXT_Y], PROPERTY_INFO[i][property_EXT_Z], 0, PROPERTY_INFO[i][property_EXT_INTERIOR]);
	PROPERTY_INFO[i][property_INT_PICKUP_ID] = CreateDynamicPickup(1272, 1, PROPERTY_INTERIORS[ PROPERTY_INFO[i][property_ID_INTERIOR] ][property_INT_X], PROPERTY_INTERIORS[ PROPERTY_INFO[i][property_ID_INTERIOR] ][property_INT_Y], z_pos, PROPERTY_INFO[i][property_ID], PROPERTY_INTERIORS[ PROPERTY_INFO[i][property_ID_INTERIOR] ][property_INT_INTERIOR]);
	info[0] = PICKUP_TYPE_PROPERTY;
	info[1] = i; // Index
	info[2] = 1; // Pickup Interior
	Streamer_SetArrayData(STREAMER_TYPE_PICKUP, PROPERTY_INFO[i][property_INT_PICKUP_ID], E_STREAMER_EXTRA_ID, info);
	info[0] = PICKUP_TYPE_PROPERTY;
	info[1] = i; // Index
	info[2] = 2; // Pickup Exterior
	Streamer_SetArrayData(STREAMER_TYPE_PICKUP, PROPERTY_INFO[i][property_EXT_PICKUP_ID], E_STREAMER_EXTRA_ID, info);

	PROPERTY_INFO[i][property_POLICE_FORCING] = false;
	PROPERTY_INFO[i][property_POLICE_FORCED] = false;
	PROPERTY_INFO[i][property_POLICE_FORCE_TIMER] = -1;
	return 1;
}

forward OnPropertiesLoaded();
LoadProperties()
{
	inline OnPropertiesLoad()
	{
		new rows;
		if(cache_get_row_count(rows))
		{
			for(new i = 0; i != rows; i ++)
			{
				if(i >= MAX_PROPERTIES)
				{
					printf("---> Límite superado en array 'PROPERTY_INFO' al intentar cargar de la base de datos.", 2);
					break;
				}

				TOTAL_PROPERTIES_LOADED ++;

				new bool:isnull_name;
				PROPERTY_INFO[i][property_VALID] = true;
				cache_get_value_name_int(i, "id", PROPERTY_INFO[i][property_ID]);
				cache_is_value_name_null(i, "name", isnull_name);
				if(!isnull_name) cache_get_value_name(i, "name", PROPERTY_INFO[i][property_NAME]);
				cache_get_value_name_float(i, "ext_x", PROPERTY_INFO[i][property_EXT_X]);
				cache_get_value_name_float(i, "ext_y", PROPERTY_INFO[i][property_EXT_Y]);
				cache_get_value_name_float(i, "ext_z", PROPERTY_INFO[i][property_EXT_Z]);
				cache_get_value_name_float(i, "ext_angle", PROPERTY_INFO[i][property_EXT_ANGLE]);
				cache_get_value_name_int(i, "ext_interior", PROPERTY_INFO[i][property_EXT_INTERIOR]);
				cache_get_value_name_int(i, "ext_freeze", PROPERTY_INFO[i][property_EXT_FREEZE]);
				cache_get_value_name_int(i, "id_interior", PROPERTY_INFO[i][property_ID_INTERIOR]);
				cache_get_value_name_int(i, "price", PROPERTY_INFO[i][property_PRICE]);
				PROPERTY_INFO[i][property_PRICE_BASE] = PROPERTY_INFO[i][property_PRICE];
				cache_get_value_name_int(i, "level", PROPERTY_INFO[i][property_LEVEL]);
				cache_get_value_name_int(i, "extra", PROPERTY_INFO[i][property_EXTRA]);
				cache_get_value_name_int(i, "vip_level", PROPERTY_INFO[i][property_VIP_LEVEL]);
				cache_get_value_name_int(i, "dis_default_interior", PROPERTY_INFO[i][property_DIS_DEFAULT_INTERIOR]);

				if(PROPERTY_INFO[i][property_EXTRA]) PROPERTY_INFO[i][property_PRICE] = 0;
				if(PROPERTY_INFO[i][property_VIP_LEVEL]) PROPERTY_INFO[i][property_LEVEL] = 1;

				new id_player, pname[24], tid, bool:isnull_id_player, bool:isnull_pname, bool:isnull_tid;
				cache_is_value_name_null(i, "id_player", isnull_id_player);
				if(!isnull_id_player) cache_get_value_name_int(i, "id_player", id_player);
				cache_is_value_name_null(i, "pname", isnull_pname);
				if(!isnull_pname) cache_get_value_name(i, "pname", pname);
				cache_is_value_name_null(i, "tid", isnull_tid);
				if(!isnull_tid) cache_get_value_name_int(i, "tid", tid);
				if(id_player) CreatePropertyInfo(i, id_player, pname, 0, "");
				else if(tid)
				{
					inline OnCrewInfoLoad()
					{
						new crows;
						if(cache_get_row_count(crows))
						{
							if(crows)
							{
								new cid, cname[24];
								cache_get_value_index_int(0, 0, cid);
								cache_get_value_index(0, 1, cname);
								if(cid) CreatePropertyInfo(i, 0, "", cid, cname);
								else CreatePropertyInfo(i, 0, "", 0, "");
							}
						}
					}
					mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT crews.id, crews.name FROM territories INNER JOIN crews ON territories.id_crew = crews.id WHERE territories.id = %d;", tid);
					mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnCrewInfoLoad);
				}
				else CreatePropertyInfo(i, 0, "", 0, "");

				inline OnPropertyClosetLoad()
				{
					new crows;
					if(cache_get_row_count(crows))
					{
						for(new x = 0; x != crows; x ++)
						{
							PROPERTY_CLOSET[i][x][property_closet_VALID] = true;
							cache_get_value_name_int(x, "id", PROPERTY_CLOSET[i][x][property_closet_OBJECT_ID]);
							cache_get_value_name_int(x, "type", PROPERTY_CLOSET[i][x][property_closet_TYPE]);
							cache_get_value_name_int(x, "int", PROPERTY_CLOSET[i][x][property_closet_INT]);
							cache_get_value_name_int(x, "int_extra", PROPERTY_CLOSET[i][x][property_closet_INT_EXTRA]);
						}
					}
				}
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT * FROM property_closet WHERE id_property = %d LIMIT %d;", PROPERTY_INFO[i][property_ID], MAX_CLOSET_SLOTS);
				mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnPropertyClosetLoad);
			}
			CallLocalFunction("OnPropertiesLoaded", "");
			LoadCrews();
		}
	}
	mysql_tquery_inline(srp_db, "SELECT properties.*, player.id AS pid, player.name AS pname, territories.id AS tid FROM properties LEFT JOIN player ON properties.id_player = player.id LEFT JOIN territories ON properties.id_territory = territories.id;", using inline OnPropertiesLoad);
	return 1;
}

GetOwnerIntProperty(id_house)
{
	for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
	{
		if(IsPlayerConnected(i))
		{
			if(PI[i][pi_STATE] == ROLEPLAY_STATE_OWN_PROPERTY)
			{
				if(PI[i][pi_LOCAL_INTERIOR] == id_house)
				{
					return i;
				}
			}
		}
	}
	return -1;
}

LoadCrews()
{
	inline OnCrewsLoad()
	{
		new rows;
		if(cache_get_row_count(rows))
		{
			for(new i = 0; i != rows; i ++)
			{
				if(i >= MAX_CREWS)
				{
					printf("---> Límite superado en array 'CREW_INFO' al intentar cargar de la base de datos.", 2);
					break;
				}

				CREW_INFO[i][crew_VALID] = true;
				cache_get_value_name_int(i, "id", CREW_INFO[i][crew_ID]);
				cache_get_value_name(i, "name", CREW_INFO[i][crew_NAME]);
				cache_get_value_name_int(i, "color", CREW_INFO[i][crew_COLOR]);
				cache_get_value_name_int(i, "type", CREW_INFO[i][crew_TYPE]);
				CREW_INFO[i][crew_ONLINE_MEMBERS] = 0;

				//count - Corregido paso de parámetro 'i'
				inline OnCountQueryLoad(crew_idx)
				{
					new crows;
					if(cache_get_row_count(crows) && crows)
					{
						cache_get_value_index_int(0, 0, CREW_INFO[crew_idx][crew_MEMBERS]);
					}
				}
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT COUNT(id) FROM player WHERE crew = %d;", CREW_INFO[i][crew_ID]);
				mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnCountQueryLoad, "i", i);

				//ranks - Corregido paso de parámetro 'i'
				inline OnCrewRanksLoad(crew_idx)
				{
					new crows;
					if(cache_get_row_count(crows))
					{
						for(new x = 0; x != crows; x ++)
						{
							new rank_pos;
							cache_get_value_name_int(x, "rank_pos", rank_pos);
							if(rank_pos < 0 || rank_pos > MAX_CREW_RANKS) continue;

							CREW_RANK_INFO[crew_idx][rank_pos][crew_rank_VALID] = true;
							cache_get_value_name_int(x, "id", CREW_RANK_INFO[crew_idx][rank_pos][crew_rank_ID]);
							cache_get_value_name(x, "rank_name", CREW_RANK_INFO[crew_idx][rank_pos][crew_rank_NAME]);
							cache_get_value_name_int(x, "permission0", CREW_RANK_INFO[crew_idx][rank_pos][crew_rank_PERMISSION][0]);
							cache_get_value_name_int(x, "permission1", CREW_RANK_INFO[crew_idx][rank_pos][crew_rank_PERMISSION][1]);
							cache_get_value_name_int(x, "permission2", CREW_RANK_INFO[crew_idx][rank_pos][crew_rank_PERMISSION][2]);
							cache_get_value_name_int(x, "permission3", CREW_RANK_INFO[crew_idx][rank_pos][crew_rank_PERMISSION][3]);
							cache_get_value_name_int(x, "permission4", CREW_RANK_INFO[crew_idx][rank_pos][crew_rank_PERMISSION][4]);
							cache_get_value_name_int(x, "permission5", CREW_RANK_INFO[crew_idx][rank_pos][crew_rank_PERMISSION][5]);
							cache_get_value_name_int(x, "permission6", CREW_RANK_INFO[crew_idx][rank_pos][crew_rank_PERMISSION][6]);
							cache_get_value_name_int(x, "permission7", CREW_RANK_INFO[crew_idx][rank_pos][crew_rank_PERMISSION][7]);
							cache_get_value_name_int(x, "permission8", CREW_RANK_INFO[crew_idx][rank_pos][crew_rank_PERMISSION][8]);
							cache_get_value_name_int(x, "permission9", CREW_RANK_INFO[crew_idx][rank_pos][crew_rank_PERMISSION][9]);
							cache_get_value_name_int(x, "permission10", CREW_RANK_INFO[crew_idx][rank_pos][crew_rank_PERMISSION][10]);

							if(rank_pos == 0) {
								for(new j = 0; j < CREW_RANK_SIZE; j ++)
								CREW_RANK_INFO[crew_idx][rank_pos][crew_rank_PERMISSION][j] = 1;
							}
						}
					}
				}
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT * FROM crew_ranks WHERE id_crew = %d;", CREW_INFO[i][crew_ID]);
				mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnCrewRanksLoad, "i", i);
			}
			
			// Cargas que no dependen de procesos asíncronos pesados
			LoadGangZones();
			LoadFabricas();
			CargarPuertas();
			LoadGunLockers();
		}
	}
	mysql_tquery_inline(srp_db, "SELECT * FROM crews;", using inline OnCrewsLoad);
	return 1;
}

forward VerificarTablas();
public VerificarTablas()
{
    new query[1000];
    strcat(query, "CREATE TABLE IF NOT EXISTS `gunlocker` (");
    strcat(query, "`SQLID` int(11) NOT NULL AUTO_INCREMENT,");
    strcat(query, "`exterior_x` float NOT NULL,");
    strcat(query, "`exterior_y` float NOT NULL,");
    strcat(query, "`exterior_z` float NOT NULL,");
    strcat(query, "`faccionid` int(11) NOT NULL,");
    strcat(query, "`virtualw` int(11) NOT NULL DEFAULT '0',");
    strcat(query, "`interior` int(11) NOT NULL DEFAULT '0',");
    strcat(query, "`stock` int(11) NOT NULL DEFAULT '50',");
    strcat(query, "`weapon0` int(11) NOT NULL DEFAULT '0', `ammu0` int(11) NOT NULL DEFAULT '0',");
    strcat(query, "`weapon1` int(11) NOT NULL DEFAULT '0', `ammu1` int(11) NOT NULL DEFAULT '0',");
    strcat(query, "`weapon2` int(11) NOT NULL DEFAULT '0', `ammu2` int(11) NOT NULL DEFAULT '0',");
    strcat(query, "`weapon3` int(11) NOT NULL DEFAULT '0', `ammu3` int(11) NOT NULL DEFAULT '0',");
    strcat(query, "`weapon4` int(11) NOT NULL DEFAULT '0', `ammu4` int(11) NOT NULL DEFAULT '0',");
    strcat(query, "PRIMARY KEY (`SQLID`)) ENGINE=InnoDB DEFAULT CHARSET=latin1;");
    
    mysql_tquery(srp_db, query);
    printf("[MySQL] Verificando tabla 'gunlocker'...");
    return 1;
}

// En tu OnGameModeInit añade:
// VerificarTablas();


LoadFabricas()
{
    inline OnFabricasLoad()
    {
        new rows;
        if(cache_get_row_count(rows))
        {
            for(new i = 0; i != rows; i++)
            {
                if(i >= MAX_FABRICAS) break;

                // 1. Carga de datos básicos de MySQL
                cache_get_value_name_int(i, "id", Fabricas[i][pID]);
                cache_get_value_name(i, "propietario", Fabricas[i][pPropietario], 128);
                cache_get_value_name_float(i, "entrada_x", Fabricas[i][pEntradaX]);
                cache_get_value_name_float(i, "entrada_y", Fabricas[i][pEntradaY]);
                cache_get_value_name_float(i, "entrada_z", Fabricas[i][pEntradaZ]);
                cache_get_value_name_int(i, "id_banda", Fabricas[i][pBanda]);
                cache_get_value_name_int(i, "valor", Fabricas[i][pValor]);
                cache_get_value_name_int(i, "vw", Fabricas[i][pVW]);
                cache_get_value_name_int(i, "interiordes", Fabricas[i][pInt]);

                // --- NUEVA CARGA DE PRODUCCIÓN ---
                cache_get_value_name_int(i, "bolsas", Fabricas[i][pCantidadBolsas]);
                cache_get_value_name_int(i, "dinero", Fabricas[i][pCantidadDinero]);
                cache_get_value_name_int(i, "quimicos", Fabricas[i][pQuimicos]);

                // 2. Inicialización de variables de sesión
                Fabricas[i][pProduccionEstado] = 0;
                Fabricas[i][pProduccionMeta] = 0.0;
                
                for(new s = 0; s < 5; s++) {
                    Fabricas[i][StatoCuoco][s] = 0;
                    Fabricas[i][PorcentajeCocinero][s] = 0;
                    Fabricas[i][Termino][s] = 0;
                }

                new label_str[512];
                new f_vw = Fabricas[i][pID] + 100; 

                if(Fabricas[i][pBanda] == 0) // --- FÁBRICA EN VENTA ---
                {
                    Fabricas[i][pMapIcon] = CreateDynamicMapIcon(Fabricas[i][pEntradaX], Fabricas[i][pEntradaY], Fabricas[i][pEntradaZ], 59, 0, -1, -1, -1, 100.0, MAPICON_GLOBAL);
                    Fabricas[i][pPickup] = CreateDynamicPickup(19133, 1, Fabricas[i][pEntradaX], Fabricas[i][pEntradaY], Fabricas[i][pEntradaZ], Fabricas[i][pVW]);

                    format(label_str, sizeof(label_str), \
                        "{3BF1B3}« {FFFFFF}Fabrica Meta ID: {3BF1B3}%d {3BF1B3}»\n\n\
                        {BBBBBB}Costo: {53FF00}$%d\n\
                        {FFFFFF}Usa {F1C40F}/comprarfabrica\n\n\
                        {FFFFFF}Ubicación: {CCCCCC}Punto Clandestino", \
                        Fabricas[i][pID], Fabricas[i][pValor]);
                }
                else // --- FÁBRICA CON DUEÑO (ACTIVA) ---
                {
                    Fabricas[i][pMapIcon] = CreateDynamicMapIcon(Fabricas[i][pEntradaX], Fabricas[i][pEntradaY], Fabricas[i][pEntradaZ], 59, 0, -1, -1, -1, 100.0, MAPICON_GLOBAL);
                    Fabricas[i][pPickup] = CreateDynamicPickup(1313, 1, Fabricas[i][pEntradaX], Fabricas[i][pEntradaY], Fabricas[i][pEntradaZ], Fabricas[i][pVW]);
                    Fabricas[i][pPickupSalida] = CreateDynamicPickup(1313, 1, 1372.501220, -26.929988, 1000.961547, f_vw);
                    
                    // --- OBTENER COLOR HEX DE LA BANDA ---
                    new crew_color_hex = 0xFFFFFF; // Color blanco por defecto
                    for(new c = 0; c < MAX_CREWS; c++) {
                        if(CREW_INFO[c][crew_ID] == Fabricas[i][pBanda]) {
                            crew_color_hex = CREW_INFO[c][crew_COLOR] >>> 8; 
                            break;
                        }
                    }

                    format(label_str, sizeof(label_str), \
                        "{3BF1B3}« {FFFFFF}Fabrica Meta ID: {3BF1B3}%d {3BF1B3}»\n\n\
                        {FFFFFF}Banda: {%06x}%s\n\
                        {FFFFFF}Mercancía: {FFF700}%d {FFFFFF}Cajas\n\
                        {FFFFFF}Valor: %d {00FF00}$\n\
                        {FFFFFF}El Comercio Se Encuentra {828282}Abierto\n\
                        {FFFFFF}Propiedad Privada", \
                        Fabricas[i][pID], crew_color_hex, Fabricas[i][pPropietario], Fabricas[i][pCantidadBolsas], Fabricas[i][pCantidadDinero]);

                    // Creación de Actores (Cocineros)
                    Fabricas[i][ActorFabrica][0] = CreateDynamicActor(145, 1403.947, -30.022, 1000.96, 84.98, .worldid = f_vw, .interiorid = 0);
                    Fabricas[i][ActorFabrica][1] = CreateDynamicActor(146, 1406.908, -29.957, 1000.96, 90.20, .worldid = f_vw, .interiorid = 0);
                    Fabricas[i][ActorFabrica][2] = CreateDynamicActor(145, 1407.962, -32.174, 1000.96, 175.62, .worldid = f_vw, .interiorid = 0);
                    Fabricas[i][ActorFabrica][3] = CreateDynamicActor(146, 1402.875, -32.388, 1000.96, 176.81, .worldid = f_vw, .interiorid = 0);
                    
                    new str_caja[160];
                    for(new c = 0; c < sizeof(PosCajasCargar); c++) 
                    {
                        CreateDynamicPickup(1271, 1, PosCajasCargar[c][0], PosCajasCargar[c][1], PosCajasCargar[c][2], f_vw, 0); 
                        
                        format(str_caja, sizeof(str_caja), \
                            "{3BF1B3}« {FFFFFF}Cajas Laboratorio {3BF1B3}»\n\
                            {BBBBBB}Stock: {53FF00}%d Cajas\n\n\
                            {F1C40F}Acercate para cargar", \
                            Fabricas[i][pCantidadBolsas]);
                        
                        Fabricas[i][pLabelCajas][c] = CreateDynamic3DTextLabel(str_caja, -1, PosCajasCargar[c][0], PosCajasCargar[c][1], PosCajasCargar[c][2] + 0.5, 10.0, .worldid = f_vw, .interiorid = 0);
                    }
                    for(new a = 0; a < 4; a++) {
                        ApplyDynamicActorAnimation(Fabricas[i][ActorFabrica][a], "DEALER", "DEALER_IDLE", 4.1, 1, 0, 0, 0, 0); 
                        new Float:ax, Float:ay;
                        if(a == 0) { ax = 1403.947; ay = -30.022; }
                        else if(a == 1) { ax = 1406.908; ay = -29.957; }
                        else if(a == 2) { ax = 1407.962; ay = -32.174; }
                        else { ax = 1402.875; ay = -32.388; }
                        Fabricas[i][pLabelCocineros][a] = CreateDynamic3DTextLabel("{FF0000}« {FFFFFF}Cocinero {FF0000}»\n{BBBBBB}Estado: {F1C40F}Esperando materiales", -1, ax, ay, 1001.8, 8.0, .worldid = f_vw, .interiorid = 0);
                    }

                    // Labels Tanques
                    new str_t[128];
                    for(new t = 0; t < 3; t++) {
                        format(str_t, sizeof(str_t), "{3BF1B3}« {FFFFFF}Tanque #%d {3BF1B3}»\n{BBBBBB}Estado: {53FF00}Listo\n{FFFFFF}Usa 'H'", t + 1);
                        new Float:tx = (t == 0 ? 1411.424 : (t == 1 ? 1414.296 : 1417.298));
                        Fabricas[i][pLabelTanques][t] = CreateDynamic3DTextLabel(str_t, -1, tx, -31.484, 1001.5, 10.0, .worldid = f_vw, .interiorid = 0);
                    }
                }
                Fabricas[i][pLabel] = CreateDynamic3DTextLabel(label_str, -1, Fabricas[i][pEntradaX], Fabricas[i][pEntradaY], Fabricas[i][pEntradaZ] + 0.6, 12.0);
            }
            printf("[MySQL] %d fábricas cargadas con colores de banda aplicados.", rows);
        }
    }
    mysql_tquery_inline(srp_db, "SELECT * FROM fabricas", using inline OnFabricasLoad);
    return 1;
}

forward DeleteZoneGang(id);
public DeleteZoneGang(id)
{
	if(TERRITORIES[ id ][territory_WAR]) return 0;

	TERRITORIES[ id ][territory_OCCUPIED] = false;
	TERRITORIES[ id ][territory_CREW_ID] = 0;
	TERRITORIES[ id ][territory_CREW_INDEX] = 0;
	TERRITORIES[ id ][territory_COLOR] = 0xCCCCCC55;
	UpdateGangZoneColor(id);

    KillTimer(CLEAR_ZONE);
    CLEAR_ZONE = SetTimerEx("DeleteZoneGang", 21600000, false, "d", id + 1);
	
	new message[250]; format(message, sizeof message, ""WHITE"[BANDAS] "WHITE"El territorio %s fue liberado, esta listo para {ffffff}conquistar", TERRITORIES[ id ][territory_NAME]);

	for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
	{
		if(IsPlayerConnected(i))
		{
			if(PI[i][pi_CREW])
			{
				SendClientMessage(i, -1, message);
			}
		}
	}
	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE territories SET id_crew = NULL WHERE id = %d DESC LIMIT 1;", TERRITORIES[ id ][territory_ID]);
	mysql_tquery(srp_db, QUERY_BUFFER);
	
	return 1;
}

new bool:recived = false;
LoadGangZones()
{
	inline OnSaZonesLoad()
	{
		new rows;
		if(cache_get_row_count(rows))
		{
			for(new i = 0; i != rows; i ++)
			{
				if(i >= MAX_TERRITORIES)
				{
					printf("---> Límite superado en array 'TERRITORIES' al intentar cargar de la base de datos.", 2);
					break;
				}

				new crewid, color, bool:isnull_crewid;
				TERRITORIES[i][territory_VALID] = true;
				cache_get_value_name_int(i, "id", TERRITORIES[i][territory_ID]);
				cache_get_value_name(i, "name", TERRITORIES[i][territory_NAME]);
				cache_get_value_name_float(i, "min_x", TERRITORIES[i][territory_MIN_X]);
				cache_get_value_name_float(i, "min_y", TERRITORIES[i][territory_MIN_Y]);
				cache_get_value_name_float(i, "min_z", TERRITORIES[i][territory_MIN_Z]);
				cache_get_value_name_float(i, "max_x", TERRITORIES[i][territory_MAX_X]);
				cache_get_value_name_float(i, "max_y", TERRITORIES[i][territory_MAX_Y]);
				cache_get_value_name_float(i, "max_z", TERRITORIES[i][territory_MAX_Z]);
				cache_is_value_name_null(i, "id_crew", isnull_crewid);
				if(!isnull_crewid) {
					cache_get_value_name_int(i, "id_crew", crewid);
					cache_get_value_name_int(i, "color", color);
				}
				TERRITORIES[i][territory_WAR] = false;
				TERRITORIES[i][territory_ATTACKER_CREW_INDEX] = 0;

				if(crewid)
				{
					TERRITORIES[i][territory_OCCUPIED] = true;
					TERRITORIES[i][territory_CREW_ID] = crewid;

					
					if(!recived) {
					
					    recived = true;
						KillTimer(CLEAR_ZONE);
						CLEAR_ZONE = SetTimerEx("DeleteZoneGang", 21600000, false, "d", i);
					}

					new r, g, b, a;
					HexToRGBA(color, r, g, b, a);
					TERRITORIES[i][territory_COLOR] = RGBAToHex(r, g, b, 135);
					TERRITORIES[i][territory_CREW_INDEX] = GetCrewIndexById(crewid);
				}
				else
				{
					TERRITORIES[i][territory_OCCUPIED] = false;
					TERRITORIES[i][territory_CREW_ID] = 0;
					TERRITORIES[i][territory_CREW_INDEX] = 0;
					TERRITORIES[i][territory_COLOR] = 0xCCCCCC55;
				}

				TERRITORIES[i][territory_AREA] = CreateDynamicCube(TERRITORIES[i][territory_MIN_X], TERRITORIES[i][territory_MIN_Y], TERRITORIES[i][territory_MIN_Z], TERRITORIES[i][territory_MAX_X], TERRITORIES[i][territory_MAX_Y], TERRITORIES[i][territory_MAX_Z], 0, 0);

				new info[2];
				info[0] = AREA_TYPE_GANGZONE;
				info[1] = i;
				Streamer_SetArrayData(STREAMER_TYPE_AREA, TERRITORIES[i][territory_AREA], E_STREAMER_EXTRA_ID, info);
				TERRITORIES[i][territory_GANG_ZONE] = GangZoneCreate(TERRITORIES[i][territory_MIN_X], TERRITORIES[i][territory_MIN_Y], TERRITORIES[i][territory_MAX_X], TERRITORIES[i][territory_MAX_Y]);

				TERRITORIES[i][territory_TEXTDRAW][0] = TextDrawCreate(320.000000, 355.000000, "-");
				TextDrawLetterSize(TERRITORIES[i][territory_TEXTDRAW][0], 12.321674, 9.937778);
				TextDrawAlignment(TERRITORIES[i][territory_TEXTDRAW][0], 2);
				TextDrawColor(TERRITORIES[i][territory_TEXTDRAW][0], 255);
				TextDrawSetShadow(TERRITORIES[i][territory_TEXTDRAW][0], 0);
				TextDrawSetOutline(TERRITORIES[i][territory_TEXTDRAW][0], 0);
				TextDrawBackgroundColor(TERRITORIES[i][territory_TEXTDRAW][0], 255);
				TextDrawFont(TERRITORIES[i][territory_TEXTDRAW][0], 1);
				TextDrawSetProportional(TERRITORIES[i][territory_TEXTDRAW][0], 1);
				TextDrawSetShadow(TERRITORIES[i][territory_TEXTDRAW][0], 0);
				
				TERRITORIES[i][territory_TEXTDRAW][1] = TextDrawCreate(320.000000, 406.000000, "Conquista:_0");
				TextDrawLetterSize(TERRITORIES[i][territory_TEXTDRAW][1], 0.286000, 1.276444);
				TextDrawAlignment(TERRITORIES[i][territory_TEXTDRAW][1], 2);
				TextDrawColor(TERRITORIES[i][territory_TEXTDRAW][1], -76);
				TextDrawSetShadow(TERRITORIES[i][territory_TEXTDRAW][1], 0);
				TextDrawSetOutline(TERRITORIES[i][territory_TEXTDRAW][1], 0);
				TextDrawBackgroundColor(TERRITORIES[i][territory_TEXTDRAW][1], 255);
				TextDrawFont(TERRITORIES[i][territory_TEXTDRAW][1], 1);
				TextDrawSetProportional(TERRITORIES[i][territory_TEXTDRAW][1], 1);
				TextDrawSetShadow(TERRITORIES[i][territory_TEXTDRAW][1], 0);
			}
			CallLocalFunction("OnTerritoriesLoaded", "");
			LoadEnterExits();
            SetTimerEx("ActualizarTodosLosMercados", 1000, false, "");
			SetTimerEx("server_loaded_request", 1000, false, "b", true);
		}
	}
	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT territories.*, crews.id AS crewid, crews.color FROM territories LEFT JOIN crews ON territories.id_crew = crews.id WHERE territories.gangzone = 1 LIMIT %d;", MAX_TERRITORIES);
	mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnSaZonesLoad);
	return 1;
}
 

forward server_loaded_request(bool:toggle);
public server_loaded_request(bool:toggle) {
	server_loaded = toggle;
	if(toggle) {
		SendRconCommand("hostname "SERVER_HOSTNAME"");
	}
}

GetCrewIndexById(id)
{
	for(new x = 0; x != MAX_CREWS; x ++)
	{
		if(!CREW_INFO[x][crew_VALID]) continue;

		if(CREW_INFO[x][crew_ID] == id)
		{
			return x;
		}
	}
	return -1;
}

forward SetVehicleGetTime(id);
public SetVehicleGetTime(id)
{
	if(San_Andreas_Vehicles[id][san_andreas_vehicle_TIME_GET] >= 1)	{
		San_Andreas_Vehicles[id][san_andreas_vehicle_TIME_GET] --;
	}
	else if(San_Andreas_Vehicles[id][san_andreas_vehicle_TIME_GET] == 0) {
		KillTimer(San_Andreas_Vehicles[id][san_andreas_vehicle_TIMER]);
		San_Andreas_Vehicles[id][san_andreas_vehicle_TIME_READY] = false;
	}
	return 1;
}

forward DescongelarJugador(playerid);
public DescongelarJugador(playerid)
{
    TogglePlayerControllable(playerid, 1);
    return 1;
}


public OnPlayerPickUpDynamicPickup(playerid, pickupid)
{
    if(gettime() < APA[playerid][pi_AptoCooldown]) return 1;
    
    if(VentaActorSeleccionado[playerid] != -1)
    {
        for(new i = 0; i < sizeof(PosCajasCargar); i++) 
        {
            if(IsPlayerInRangeOfPoint(playerid, 1.5, PosCajasCargar[i][0], PosCajasCargar[i][1], PosCajasCargar[i][2]))
            {
                new f = PLAYER_TEMP[playerid][pt_FABRICA_ID];
                if(f == -1) return 1;

                if(Fabricas[f][pCantidadBolsas] < 1) {
                    SendClientMessage(playerid, -1, "{FF0000}ERROR: {FFFFFF}Sin stock..");
                    return 1;
                }
                if(GetPVarInt(playerid, "CargandoCaja")) return 1; 
                if(CajasCargadas[playerid] >= 3) {
                    SendClientMessage(playerid, -1, "{FF0000}ERROR: {FFFFFF}Ya tienes el pedido completo en la camioneta.");
                    return 1;
                }
                
                if(PI[playerid][pi_MANO_DER] != 0) return SendNotification(playerid, "Debes tener la mano vacía.");

                // Acción de cargar
                ApplyAnimation(playerid, "BOMBER", "BOM_Plant", 4.1, 0, 0, 0, 0, 0, 1);
                SetPlayerSpecialAction(playerid, SPECIAL_ACTION_CARRY); 
                SetPlayerAttachedObject(playerid, 9, 1271, 1, 0.09, 0.32, 0.0, 0.0, 90.0, 0.0, 0.45, 0.45, 0.45);
                SetPVarInt(playerid, "CargandoCaja", 1);
                
                // Descontar stock y actualizar el texto de la fábrica
                Fabricas[f][pCantidadBolsas]--; 
                ActualizarLabelsFabrica(f); // Función opcional para refrescar el texto
                new query[128];
                mysql_format(srp_db, query, sizeof(query), "UPDATE fabricas SET bolsas = %d WHERE id = %d", Fabricas[f][pCantidadBolsas], Fabricas[f][pID]);
                mysql_tquery(srp_db, query);
                return 1;
            }
        }
    }
    
    for(new i = 0; i < 3; i++)
    {
    if(pickupid == PickupProveedorQ[i])
    {
        // 1. Verificaciones básicas de misión
        if(!GetPVarInt(playerid, "EnRutaQuimicos")) return SendFormatNotification(playerid, "No tienes un pedido pendiente con este proveedor.");
        if(GetPVarInt(playerid, "PedidoTipo") != i) return SendFormatNotification(playerid, "Este no es el proveedor de tu pedido.");
        if(GetPVarInt(playerid, "CargandoBarril")) return SendFormatNotification(playerid, "Ya llevas un barril, súbelo a la camioneta primero.");
        
        // 2. Detención si ya terminó
        if(GetPVarInt(playerid, "BarrilesCargados") >= 3) 
        {
            return SendFormatNotification(playerid, "Ya cargaste los 3 barriles. ¡Regresa a la fábrica!");
        }

        // --- LÓGICA DE COBRO ÚNICO ---
        if(GetPVarInt(playerid, "BarrilesCargados") == 0) // Solo si es el PRIMER barril
        {
            new precio = floatround(InfoActoresQ[i][5]);
            
            if(PI[playerid][pi_MANO_DER] != 177) return SendNotification(playerid, "No tienes dinero negro en tu mano para pagar el lote."); 
            if(PI[playerid][pi_DER_CANT] < precio) return SendNotification(playerid, "Dinero negro insuficiente para pagar el lote."); 
            
            PI[playerid][pi_DER_CANT] -= precio; 
            SendFormatNotification(playerid, "Has pagado el cargamento completo. Recoge los 3 barriles.");
        }
        else 
        {
            SendFormatNotification(playerid, "Recogiendo barril restante (Pagado).");
        }

        // --- LÓGICA DE CARGA ---
        SetPVarInt(playerid, "CargandoBarril", 1);
        SetPlayerSpecialAction(playerid, SPECIAL_ACTION_CARRY);
        SetPlayerAttachedObject(playerid, 7, 3632, 1, 0.22, 0.38, 0.0, 0.0, 90.0, 0.0); // Objeto Barril
        APA[playerid][pi_AptoCooldown] = gettime() + 4;
        
        SendFormatNotification(playerid, "Llévalo a la camioneta y usa ~y~Y");
        return 1;
    }
    }

    
    for(new i = 0; i < MAX_FABRICAS; i++)
    {
        // --- ENTRADA ---
        if(pickupid == Fabricas[i][pPickup])
        {
            if(Fabricas[i][pBanda] == 0) return SendClientMessage(playerid, -1, "{FF0000}» {FFFFFF}Esta fábrica está en venta. Usa /comprarfabrica.");
            
            if(PI[playerid][pi_CREW] != Fabricas[i][pBanda] && PI[playerid][pi_ADMIN_LEVEL] < 2)
                return SendClientMessage(playerid, -1, "{FF0000}» {FFFFFF}No tienes las llaves de este Punto Clandestino.");
            ApplyAnimation(playerid, "BOMBER", "null", 4.0, 0, 0, 0, 0, 0);
            ApplyAnimation(playerid, "COP_AMBIENT", "null", 4.0, 0, 0, 0, 0, 0);
            ApplyAnimation(playerid, "OTB", "null", 4.0, 0, 0, 0, 0, 0);
            ApplyAnimation(playerid, "DEALER", "null", 4.0, 0, 0, 0, 0, 0);
            PLAYER_AC_INFO[playerid][CHEAT_HIGH_POS][p_ac_info_IMMUNITY] = gettime() + 4;
            PLAYER_AC_INFO[playerid][CHEAT_POS][p_ac_info_IMMUNITY] = gettime() + 4;
            TogglePlayerControllable(playerid, false);
            // Coordenadas del interior de la fábrica (ajústalas a tu mapa)
            SetPlayerPos(playerid, 1372.501220, -26.929988, 1000.961547); 
            SetPlayerFacingAngle(playerid, 270.850891);
            
            SetPlayerInterior(playerid, 0); 
            SetPlayerVirtualWorld(playerid, Fabricas[i][pID] + 100); // VW único por ID de DB
            
            PLAYER_TEMP[playerid][pt_FABRICA_ID] = i; // Guardamos en qué fábrica está
            APA[playerid][pi_AptoCooldown] = gettime() + 4;
            SendClientMessage(playerid, -1, "{3BF1B3}» {FFFFFF}Has entrado a la fábrica de tu banda. ¡A trabajar!");
            
            SetTimerEx("DescongelarJugadorAp", 1500, false, "i", playerid); 
            return 1;
        }

        // --- SALIDA ---
        if(pickupid == Fabricas[i][pPickupSalida]) // Debes crear este pickup al entrar o en el Load
        {
            PLAYER_AC_INFO[playerid][CHEAT_HIGH_POS][p_ac_info_IMMUNITY] = gettime() + 4;
            PLAYER_AC_INFO[playerid][CHEAT_POS][p_ac_info_IMMUNITY] = gettime() + 4;
            
            SetPlayerPos(playerid, Fabricas[i][pEntradaX], Fabricas[i][pEntradaY], Fabricas[i][pEntradaZ]);
            SetPlayerInterior(playerid, 0);
            SetPlayerVirtualWorld(playerid, Fabricas[i][pVW]);
            
            PLAYER_TEMP[playerid][pt_FABRICA_ID] = -1;
            SendClientMessage(playerid, -1, "{3BF1B3}» {FFFFFF}Has salido de la fábrica.");
            APA[playerid][pi_AptoCooldown] = gettime() + 4;
            return 1;
        }
    }
    
    for(new i = 0; i < sizeof(Puntos_Carga_Trailer); i++)
	{
		if(pickupid == CargaPickup[i])
		{
			if(!PLAYER_WORKS[playerid][WORK_TRAILERO][pwork_SET]) return SendNotification(playerid, "No eres trailero.");
			
			new vehid = GetPlayerVehicleID(playerid);
			if(GetVehicleModel(vehid) == 403 || GetVehicleModel(vehid) == 514 || GetVehicleModel(vehid) == 515)
			{
				if(PLAYER_TEMP[playerid][pt_CARGADO]) return SendNotification(playerid, "Ya llevas una carga activa.");
				
				// Aquí llamas a tu diálogo de las rutas
				AbrirMenuRutasTrailero(playerid);
			}
			break;
		}
	}
    
    for(new i = 0; i < MAX_BASUREROS; i++)
    {
    // Verificamos si el pickup que tocó el jugador coincide
    // Y verificamos que el basurero en ese slot sea válido (que tenga un ID de DB asignado)
    if(BasureroData[i][ba_DB_ID] != -1 && pickupid == BasureroData[i][ba_PICKUP])
    {
        // El cooldown para evitar spam
        APA[playerid][pi_AptoCooldown] = gettime() + 4;
        
        // Abrimos el inventario usando 'i' (el ID que coincide con la DB y el Label)
        AbrirInventarioBasurero(playerid, i);
        return 1;
    }
    }
    
    if(pickupid == BebederoPickup[0] || pickupid == BebederoPickup[1])
    {
        // Evitamos que el jugador beba infinitamente rápido (cooldown de 3 segundos)
        if(gettime() < PLAYER_TEMP[playerid][pt_TIME_CONSUME]) return 1;
        
        // 1. Aplicamos la animación de beber (agacharse un poco)
        ApplyAnimation(playerid, "VENDING", "VEND_Drink2_P", 0, 0, 0, 0, 0, 0);
         // Ejecuta la animación de beber soda/alcohol
        ApplyAnimation(playerid, "VENDING", "VEND_Drink2_P", 4.1, 0, 1, 1, 0, 1500, 1);
        
        // 2. Usamos tu función para subir la sed (le daré un valor de 15.0 por ejemplo)
        Add_Hungry_Thirst(playerid, 0.0, 15.0);
        
        // 3. Efectos visuales y sonido
        PlayerPlaySoundEx(playerid, 1083, 0.0, 0.0, 0.0);
        ShowPlayerMessage(playerid, "~w~bebiendo ~b~agua");
        
        // 4. Acción de rol automática
        new string[128];
        format(string, sizeof(string), "se inclina y bebe un poco de agua del bebedero.");
        Auto_SendPlayerAction(playerid, string);

        // Limpiamos la animación después de 2 segundos
      //  SetTimerEx("Limpiado", 2000, false, "d", playerid);
        
        // Bloqueamos consumo por 3 segundos
        PLAYER_TEMP[playerid][pt_TIME_CONSUME] = gettime() + 3;
        return 1;
    }

    for(new i = 0; i < MAX_PUNTOS_ALQUILER; i++)
    {
        if(PuntosAlquiler[i][al_Creado] && pickupid == PuntosAlquiler[i][al_Pickup])
        {
            // SI TIENE APARTAMENTO
            if(APA[playerid][pi_AptoID] != -1)
            {
                // ¿ES ESTE EL APARTAMENTO QUE ÉL ALQUILÓ?
                if(APA[playerid][pi_AptoID] == i) 
                {
                    APA[playerid][pi_AptoExX] = PuntosAlquiler[i][al_X];
                    APA[playerid][pi_AptoExY] = PuntosAlquiler[i][al_Y];
                    APA[playerid][pi_AptoExZ] = PuntosAlquiler[i][al_Z];
                    APA[playerid][pi_AptoExA] = PuntosAlquiler[i][al_A];
                    
                    APA[playerid][pi_AptoCooldown] = gettime() + 3;
                    EntrarApartamento(playerid);
                    PLAYER_TEMP[playerid][pt_EN_APARTAMENTO] = true;

                }
                else 
                {
                    SendClientMessage(playerid, -1, "{FF0000}Error: {FFFFFF}Este no es tu apartamento. El tuyo está en otra ubicación.");
                }
            }
            else // No tiene ninguno, le ofrece alquilar ESTE
            {
                // Cuando pisa el pickup de alquiler y no tiene apartamento rentado
    new info[650];
    format(info, sizeof(info), 
        "{FFFFFF}¡Bienvenido a este exclusivo {7BB4FF}Apartamento Residencial{FFFFFF}!\n\n"\
        "{FFFFFF}Al alquilar este lugar obtendrás los siguientes beneficios:\n\n"\
        " {7BB4FF} {FFFFFF}Caja Fuerte: {AAAAAA}Almacena hasta 10 objetos de forma segura.\n"\
        " {7BB4FF} {FFFFFF}Ropero: {AAAAAA}Guarda y cambia tus skins favoritas.\n"\
        " {7BB4FF} {FFFFFF}Bebedero: {AAAAAA}Acceso a agua fresca para hidratarte (Gratis).\n"\
        " {7BB4FF} {FFFFFF}Privacidad: {AAAAAA}Instancia privada (Mundo Virtual único).\n\n"\
        "{FFFFFF}Precio del Alquiler: 100,000{00FF00}$\n"\
        "{FFFFFF}Duración del Contrato: {FFFF00}7 Días {AAAAAA}(Tiempo Real)\n\n"\
        "{828282}¿Deseas firmar el contrato de {AAAAAA}arrendamiento ahora?"
    );
    ShowPlayerDialog(playerid, 9898, DIALOG_STYLE_MSGBOX, "{7BB4FF}[Apartamento] {ffffff} Alquiler", info, "Alquilar", "xCancelar");
    return 1;

            }
            return 1;
        }
    }
    
    if(pickupid == APA[playerid][pi_AptoPickupEx]) // El pickup de salida
    {
    APA[playerid][pi_AptoCooldown] = gettime() + 4;
    SalirApartamento(playerid);
    PLAYER_TEMP[playerid][pt_EN_APARTAMENTO] = false;
    return 1;
    }

    if(pickupid == APA[playerid][pi_AptoPickupCaja])
    {
    new str[1200], titulo[64], itemid, line[128];
    str[0] = '\0'; // Inicializamos el string vacío

    // Listar los 10 slots de la caja (Índices 0 al 9)
    for(new i = 0; i < 10; i++)
    {
        itemid = APA[playerid][pi_CajaID][i];
        
        if(itemid == 0) {
            format(line, sizeof(line), "{ff0000}Vacío [] {FFFFFF}| Caja\n");
        } else {
            format(line, sizeof(line), "{00ff00}[%d] {ffffff}%s\n", APA[playerid][pi_CajaCant][i], ObjetoInfo[itemid][NombreObjeto]);
        }
        strcat(str, line); // Esto PEGA la línea al final de 'str' sin borrar lo anterior
    }

    // Fila 11 (Índice 10): La mano del jugador
    new mano = PI[playerid][pi_MANO_DER];
    if(mano == 0) {
        strcat(str, "{ff0000}Vacío [] {FFFFFF}| Mano");
    } else {
        format(line, sizeof(line), "{00ff00}[%d] {ffffff}%s", PI[playerid][pi_DER_CANT], ObjetoInfo[mano][NombreObjeto]);
        strcat(str, line);
    }

    // Título del Diálogo
    format(titulo, sizeof(titulo), "{828282}[Caja] {ffffff} Fuerte ID %d", PI[playerid][pi_ID]);
    
    APA[playerid][pi_AptoCooldown] = gettime() + 4;
    ShowPlayerDialog(playerid, 977, DIALOG_STYLE_LIST, titulo, str, "Elegir", "xCerrar");
    return 1;
    }





    
    if(pickupid == APA[playerid][pi_AptoPickupRopero])
    {
    new string[256], titulo[64];
    format(titulo, sizeof(titulo), "{828282}[Ropero] {ffffff} ID %d", PI[playerid][pi_ID]);

    // Formateamos las líneas dependiendo de si hay skin o no
    new line1[40], line2[40];
    
    if(APA[playerid][pi_AptoSkin1] > 0) format(line1, sizeof(line1), "{00ff00}[%d] {ffffff}Ropa", APA[playerid][pi_AptoSkin1]);
    else line1 = "{ff0000}Vacío [] {FFFFFF}| Ropero";

    if(APA[playerid][pi_AptoSkin2] > 0) format(line2, sizeof(line2), "{00ff00}[%d] {ffffff}Ropa", APA[playerid][pi_AptoSkin2]);
    else line2 = "{ff0000}Vacío [] {FFFFFF}| Ropero";

    format(string, sizeof(string), "1. %s\n2. %s\n{cccccc}» Guardar skin actual", line1, line2);
    
    ShowPlayerDialog(playerid, 334, DIALOG_STYLE_LIST, titulo, string, "Elegir", "xCerrar");
    return 1;
    }
     
    for(new i = 1; i < MAX_EMPRESAS; i++)
    {
        // Si el jugador pisa el pickup del GARAJE
        if(pickupid == EmpresaData[i][eGPickup])
        {
            if(EmpresaData[i][eTipo] == 1) // Tipo 24/7
            {
                APA[playerid][pi_AptoCooldown] = gettime() + 3;
                ShowPlayerDialog(playerid, DIALOG_RUTAS_1, DIALOG_STYLE_LIST, "{828282}[Rutas] {ffffff}  24/7", ""WHITE"Ruta 1: {828282}Idlewood "WHITE"1.500{00FF00}$ "WHITE" ( -12 Mercancía + 3.000{00FF00}$"WHITE" Ganancias\n"WHITE"Ruta 2: {828282}Market "WHITE"2.500{00FF00}$ "WHITE" ( -12 Mercancía + 4.000{00FF00}$"WHITE" Ganancias\n"WHITE"Ruta 3: {828282}Mullholand "WHITE"4.000{00FF00}$ "WHITE" ( -12 Mercancía + 6.000{00FF00}$"WHITE" Ganancias", "Aceptar", "Salir");
            }
            else if(EmpresaData[i][eTipo] == 2) // Tipo Mineria
            {
                APA[playerid][pi_AptoCooldown] = gettime() + 3;
                ShowPlayerDialog(playerid, DIALOG_RUTAS_2, DIALOG_STYLE_LIST, "{828282}[Rutas] {ffffff}  Mineria", ""WHITE"Ruta 1: {828282}El Quebrados "WHITE"22.000{00FF00}$ "WHITE" ( -10 Mercancía + 30.000{00FF00}$"WHITE" Ganancias\n"WHITE"Ruta 2: {828282}Fort Carson "WHITE"24.000{00FF00}$ "WHITE" ( -10 Mercancía + 33.000{00FF00}$"WHITE" Ganancias", "Aceptar", "xSalir");
            }
            else if(EmpresaData[i][eTipo] == 3) // Tipo Bomberos (Estación)
        {
            APA[playerid][pi_AptoCooldown] = gettime() + 3;
            ShowPlayerDialog(playerid, DIALOG_RUTAS_3, DIALOG_STYLE_LIST, "{828282}[Rutas] {ffffff}  Estación de Bomberos", ""WHITE"Ruta 1: {828282}Los Santos "WHITE"10.000{00FF00}$ "WHITE" ( -10 Mercancía + 15.000{00FF00}$"WHITE" Ganancias\n"WHITE"Ruta 2: {828282}San Fierro "WHITE"12.000{00FF00}$ "WHITE" ( -12 Mercancía + 18.000{00FF00}$"WHITE" Ganancias\n"WHITE"Ruta 3: {828282}Las Venturas "WHITE"12.000{00FF00}$ "WHITE" ( -15 Mercancía + 22.000{00FF00}$"WHITE" Ganancias", "Aceptar", "xSalir");

        }
            return 1;
        }
    }

    for(new i = 0; i < MAX_NEGOCIOS; i++)
    {
        // --- ENTRADA ---
        // Verificamos que el pickup sea válido (> 0) para evitar colisiones con IDs nulos
        if(NI[i][n_PickupEntrada] > 0 && pickupid == NI[i][n_PickupEntrada])
        {
            if(PI[playerid][pi_CASH] < 500) return ShowPlayerMessage(playerid, "No tienes suficientes fondos para pagar la entrada ($500).");
            if(NI[i][n_Cerrado]) return ShowPlayerMessage(playerid, "Cerrado.");
            
            SetPlayerCashX(playerid, -500); 
            NI[i][n_Caja] += 250; 
            ShowPlayerMessage(playerid, "Has pagado $500 de entrada.");

            PLAYER_AC_INFO[playerid][CHEAT_HIGH_POS][p_ac_info_IMMUNITY] = gettime() + 3;
            PLAYER_AC_INFO[playerid][CHEAT_POS][p_ac_info_IMMUNITY] = gettime() + 3;
            
            APA[playerid][pi_AptoCooldown] = gettime() + 4;
            //TogglePlayerControllable(playerid, 0);
            
            SetPlayerInterior(playerid, NI[i][n_Interior]);
            SetPlayerVirtualWorld(playerid, i + 100);
            SetPlayerPos(playerid, NI[i][n_SalidaX], NI[i][n_SalidaY], NI[i][n_SalidaZ]);
            
            PLAYER_TEMP[playerid][pt_NEGOCIO_ID] = i;
            
         //   SetTimerEx("DescongelarJugador", 2000, false, "i", playerid);  
            return 1;
        }

        // --- SALIDA ---
        if(NI[i][n_PickupSalida] > 0 && pickupid == NI[i][n_PickupSalida])
        {
            PLAYER_AC_INFO[playerid][CHEAT_HIGH_POS][p_ac_info_IMMUNITY] = gettime() + 3;
            PLAYER_AC_INFO[playerid][CHEAT_POS][p_ac_info_IMMUNITY] = gettime() + 3;
            
            APA[playerid][pi_AptoCooldown] = gettime() + 4;
            
            SetPlayerPos(playerid, NI[i][n_EntradaX], NI[i][n_EntradaY], NI[i][n_EntradaZ]);
            SetPlayerFacingAngle(playerid, NI[i][n_EntradaA]);
            SetPlayerInterior(playerid, 0);
            SetPlayerVirtualWorld(playerid, 0);
            
            PLAYER_TEMP[playerid][pt_NEGOCIO_ID] = -1;
            
            return 1;
        }

        // --- PUNTO DE VENTA ---
        if(NI[i][n_PickupVenta] > 0 && pickupid == NI[i][n_PickupVenta])
        {
            if(GetPlayerVirtualWorld(playerid) == (i + 100))
            {
                if(NI[i][n_Cerrado]) return ShowPlayerMessage(playerid, "El establecimiento se encuentra cerrado.");
                if(NI[i][n_Mercancia] <= 0) return ShowPlayerMessage(playerid, "Este negocio se ha quedado sin stock.");
                
                SetPVarInt(playerid, "ComprandoEnNeg", i); 
                APA[playerid][pi_AptoCooldown] = gettime() + 4;
                
                new type = NI[i][n_Tipo];
                static str_ventas[1500]; // Static para no saturar el stack
                str_ventas[0] = (EOS); 

                strcat(str_ventas, "{FFFFFF}Producto\t{FFFFFF}Precio\t{FFFFFF}Stock\n");
                
                for(new p = 0; p < 10; p++)
                {
                    if(ProductosNegocio[type][p][p_Nombre][0] == '\0') continue; 
                    
                    new fila[128];
                    format(fila, sizeof(fila), "{FFFFFF}%s\t{00FF00}${FFFFFF}%d\t{CCCCCC}%d uds\n", 
                        ProductosNegocio[type][p][p_Nombre], 
                        ProductosNegocio[type][p][p_Precio], 
                        ProductosNegocio[type][p][p_MercanciaCosto]);
                    strcat(str_ventas, fila); 
                }
                
                new titulo_neg[64];
                format(titulo_neg, sizeof(titulo_neg), "{828282}[Negocio] {ffffff}  %s", 
                    (type == 0 ? "24/7" : type == 1 ? "Restaurante" : type == 2 ? "Ammu-Nation" : "Bar"));
                
                ShowPlayerDialog(playerid, 15900, DIALOG_STYLE_TABLIST_HEADERS, titulo_neg, str_ventas, "Comprar", "xCancelar");
                return 1;
            }
        }
    }
    
	PLAYER_TEMP[playerid][pt_LAST_PICKUP_ID] = pickupid;

	new info[3], infox[3], infop[3], Float:pos[3], infoxp[3];
	new vehicleid = INVALID_VEHICLE_ID;
	new speed = GetPlayerSpeed(playerid);
	Streamer_GetArrayData(STREAMER_TYPE_PICKUP, pickupid, E_STREAMER_EXTRA_ID, info); // Trae la información de los info 
	Streamer_GetArrayData(STREAMER_TYPE_PICKUP, pickupid, E_STREAMER_EXTRA_ID, infox); // Trae la información de los info   
	Streamer_GetArrayData(STREAMER_TYPE_PICKUP, pickupid, E_STREAMER_EXTRA_ID, infoxp); // Trae la información de los info  
	Streamer_GetArrayData(STREAMER_TYPE_PICKUP, PLAYER_TEMP[playerid][pt_LAST_PICKUP_ID], E_STREAMER_EXTRA_ID, infop);
	vehicleid = GetPlayerVehicleID(playerid); 
	new infoh[3], Float:posh[3], infom[3], Float:posm[3], infohp[3], Float:poshp[3], infotk[3];
    Streamer_GetArrayData(STREAMER_TYPE_PICKUP, PLAYER_TEMP[playerid][pt_LAST_PICKUP_ID], E_STREAMER_EXTRA_ID, infoh);
    Streamer_GetArrayData(STREAMER_TYPE_PICKUP, PLAYER_TEMP[playerid][pt_LAST_PICKUP_ID], E_STREAMER_EXTRA_ID, infom);
    Streamer_GetArrayData(STREAMER_TYPE_PICKUP, PLAYER_TEMP[playerid][pt_LAST_PICKUP_ID], E_STREAMER_EXTRA_ID, infohp);
    Streamer_GetArrayData(STREAMER_TYPE_PICKUP, PLAYER_TEMP[playerid][pt_LAST_PICKUP_ID], E_STREAMER_EXTRA_ID, infotk);
    switch(infotk[0])
    {
    case PICKUP_TYPE_TRUCK_LOAD: {
						if(IsPlayerDriver(playerid)) {
							new Float:angle;
							GetVehicleZAngle(vehicleid, angle);
							if (angle > 180.0) angle -= 360.0;

							if (angle > (TruckLoadPoint[info[1]][3] - 15.0) && angle < (TruckLoadPoint[info[1]][3] + 15.0)) {	
								if (TRUCK_VEHICLE[vehicleid][truck_vehicle_LOADED]) return ShowPlayerMessage(playerid, "El camion ya esta ~b~cargado~w~.");
								if (TRUCK_VEHICLE[vehicleid][truck_vehicle_LOADING]) return ShowPlayerMessage(playerid, "El camion ya se esta ~b~cargando~w~.");
					
								TRUCK_VEHICLE[vehicleid][truck_vehicle_LOADING] = true;
								TRUCK_VEHICLE[vehicleid][truck_vehicle_DRIVER_USER_ID] = PI[playerid][pi_ID];
								
								SetVehicleVelocity(vehicleid, 0.0, 0.0, 0.0);
								
								GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_ENGINE] = 0;
								UpdateVehicleParams(vehicleid);
								
								ShowDialog(playerid, DIALOG_SELECT_TRUCK_TYPE);
							}
						}
					}
				}
	switch(infoxp[0])
    {
    case PICKUP_TYPE_DRIVER_PARKING_SLO: {
                           if((gettime() - TIME_DEALER[playerid]) < 12 * 1) return 1;
					       if (!PLAYER_VEHICLES[vehicleid][player_vehicle_VALID]) return ShowPlayerMessage(playerid, "Solo los vehiculos personales se pueden guardar.");
							if (PLAYER_VEHICLES[vehicleid][player_vehicle_OWNER_ID] != PI[playerid][pi_ID]) return ShowPlayerMessage(playerid, "Este no es tu vehiculo");
						//	if (GetVehicleSpeed(vehicleid) > MIN_VEHICLE_INTERACTION_SPEED) return ShowPlayerMessage(playerid, "Disminuye la ~b~Velocidad~w~.");
							new p_vehicle_id = GetValidParkingVehicleId(playerid);
							if (p_vehicle_id == -1) return 0;

							new veh_money = VEHICLE_INFO[GLOBAL_VEHICLES[vehicleid][gb_vehicle_MODELID] - 400][vehicle_info_PRICE] / 200;
							if (GivePlayerCash(playerid, -veh_money, true, true)) {
							    for(new i = 0; i < 3; i++) {
        if(IsValidDynamicObject(ObjCajasVehiculo[vehicleid][i])) {
            DestroyDynamicObject(ObjCajasVehiculo[vehicleid][i]);
            ObjCajasVehiculo[vehicleid][i] = -1;
        }
    }
    
    // Si también usas el sistema de barriles (3632) en los mismos vehículos:
    for(new i = 0; i < 5; i++) {
        if(IsValidDynamicObject(ObjBarrilVehiculo[vehicleid][i])) {
            DestroyDynamicObject(ObjBarrilVehiculo[vehicleid][i]);
            ObjBarrilVehiculo[vehicleid][i] = -1;
        }
    }
    BarrilVehiculo[vehicleid] = 0;
								ParkingVehicles[playerid][p_vehicle_id][pvValid] = true;
								ParkingVehicles[playerid][p_vehicle_id][pvId] = PLAYER_VEHICLES[vehicleid][player_vehicle_ID];
								ParkingVehicles[playerid][p_vehicle_id][pvModelid] = GLOBAL_VEHICLES[vehicleid][gb_vehicle_MODELID];
								ParkingVehicles[playerid][p_vehicle_id][pvOwnerId] = PI[playerid][pi_ID];
								ParkingVehicles[playerid][p_vehicle_id][pvParkingIndex] = infoxp[1];
								format(ParkingVehicles[playerid][p_vehicle_id][pvVehiclePlate], 32, "%s", GLOBAL_VEHICLES[vehicleid][gb_vehicle_NUMBER_PLATE]);
								PLAYER_VEHICLES[vehicleid][player_vehicle_PARKING] = infoxp[1];

								SavePlayerVehicle(playerid, vehicleid, true);  
								TIME_DEALER[playerid] = gettime();
								SendClientMessageEx(playerid, -1,"{"#GREEN_COLOR"}{F5F5F5}Has {ff0000}aparcado{F5F5F5} tu %s en el {"#YELLOW_COLOR"}Parking{F5F5F5} publico #%d, se te cobrara %d{ff0000}${F5F5F5} diaro.", VEHICLE_INFO[ParkingVehicles[playerid][p_vehicle_id][pvModelid] - 400][vehicle_info_NAME], infoxp[1], veh_money);
							}
							else SendClientMessageEx(playerid, -1, "No tienes %d~r~$~w~ para guardar tu vehiculo.", veh_money);
					}
				}
    switch(infohp[0])
	{
	        case PICKUP_TYPE_HEALTH_UP:  { 
	            Streamer_GetFloatData(STREAMER_TYPE_PICKUP, PLAYER_TEMP[playerid][pt_LAST_PICKUP_ID], E_STREAMER_X, poshp[0]);
                Streamer_GetFloatData(STREAMER_TYPE_PICKUP, PLAYER_TEMP[playerid][pt_LAST_PICKUP_ID], E_STREAMER_Y, poshp[1]);
                Streamer_GetFloatData(STREAMER_TYPE_PICKUP, PLAYER_TEMP[playerid][pt_LAST_PICKUP_ID], E_STREAMER_Z, poshp[2]);
                if (IsPlayerInRangeOfPoint(playerid, 1.5, poshp[0], poshp[1], poshp[2])) {
                    PLAYER_TEMP[playerid][pt_PICKUP_TIMER] = gettime() + 3;

                    if (PI[playerid][pi_HEALTH] >= 99.9) {
                        ShowPlayerMessage(playerid, "te encuentras en buen ~b~estado~w~.");
                    } else {
                        if (PI[playerid][pi_CASH] >= 2) {
                            if (GivePlayerCash(playerid, -2, true, true)) {
                                GivePlayerHealthEx(playerid, 1);
                                ShowPlayerMessage(playerid, "recuperando salud 1~b~hp");
                            }
                        } else {
                            ShowPlayerMessage(playerid, "~r~dinero insuficiente");
                        }
                    }
                }
            }
                    
      }
    switch(infom[0])
	{
	        case PICKUP_TYPE_MERCHANTS:  { 
	            Streamer_GetFloatData(STREAMER_TYPE_PICKUP, PLAYER_TEMP[playerid][pt_LAST_PICKUP_ID], E_STREAMER_X, posm[0]);
                Streamer_GetFloatData(STREAMER_TYPE_PICKUP, PLAYER_TEMP[playerid][pt_LAST_PICKUP_ID], E_STREAMER_Y, posm[1]);
                Streamer_GetFloatData(STREAMER_TYPE_PICKUP, PLAYER_TEMP[playerid][pt_LAST_PICKUP_ID], E_STREAMER_Z, posm[2]); 
                if((gettime() - TIME_DEALER[playerid]) < 8 * 1) return 1;
                if (IsPlayerInRangeOfPoint(playerid, 1.5, posm[0], posm[1], posm[2])) {
                    PLAYER_TEMP[playerid][pt_PICKUP_TIMER] = gettime() + 3;
                    if (MerchantsInfo[infom[1]][mValid]) {
                        if (MerchantsInfo[infom[1]][mSpawned]) {
                             ShowMerchantDialog(playerid, infom[1]); 
                             TIME_DEALER[playerid] = gettime();
                        }
                    }
                }
           }
                    
      }
	switch(infoh[0])
	{
	        case PICKUP_TYPE_DEALER_SHIP:  { 
                Streamer_GetFloatData(STREAMER_TYPE_PICKUP, PLAYER_TEMP[playerid][pt_LAST_PICKUP_ID], E_STREAMER_X, posh[0]);
                Streamer_GetFloatData(STREAMER_TYPE_PICKUP, PLAYER_TEMP[playerid][pt_LAST_PICKUP_ID], E_STREAMER_Y, posh[1]);
                Streamer_GetFloatData(STREAMER_TYPE_PICKUP, PLAYER_TEMP[playerid][pt_LAST_PICKUP_ID], E_STREAMER_Z, posh[2]); 
                if(PLAYER_TEMP[playerid][pt_EN_DEALER]) return 1;
                if (IsPlayerInRangeOfPoint(playerid, 1.5, posh[0], posh[1], posh[2])) {
 
                    PLAYER_TEMP[playerid][pt_DEALER_INDEX] = infoh[1];
                    ShowPlayerDealerShipMenu(playerid);  
                }
        }
      }
	switch(infop[0])
	{
	        case PICKUP_TYPE_RENT:  {
                Streamer_GetFloatData(STREAMER_TYPE_PICKUP, PLAYER_TEMP[playerid][pt_LAST_PICKUP_ID], E_STREAMER_X, pos[0]);
                Streamer_GetFloatData(STREAMER_TYPE_PICKUP, PLAYER_TEMP[playerid][pt_LAST_PICKUP_ID], E_STREAMER_Y, pos[1]);
                Streamer_GetFloatData(STREAMER_TYPE_PICKUP, PLAYER_TEMP[playerid][pt_LAST_PICKUP_ID], E_STREAMER_Z, pos[2]);
                if((gettime() - TIME_DEALER[playerid]) < 10 * 1) return 1;
                if (IsPlayerInRangeOfPoint(playerid, 1.5, pos[0], pos[1], pos[2])) {
                    PLAYER_TEMP[playerid][pt_PICKUP_TIMER] = gettime() + 3;

                    PLAYER_TEMP[playerid][pt_VEHICLE_REPAIR_INDEX] = infop[1];
                    SetRenter(playerid);
                    TIME_DEALER[playerid] = gettime();
               }
        }
      }
    switch(infox[0])
	{
	    case PICKUP_TYPE_ONFOOT_PARKING_SLO: {   
	                    if((gettime() - TIME_DEALER[playerid]) < 10 * 1) return 1; 
	                    TIME_DEALER[playerid] = gettime();
						ShowPlayerVehiclesParkDialog(playerid, infox[1]);
					}
					case PICKUP_TYPE_CENTRAL_PARKING_SL: {
					     if((gettime() - TIME_DEALER[playerid]) < 10 * 1) return 1; 
					     TIME_DEALER[playerid] = gettime();
						ShowPlayerVehiclesCentralParkDi(playerid, infox[1]);
					}
	    case PICKUP_TYPE_VEHICLE_SPAWN:
					{
						if (PLAYER_TEMP[playerid][pt_WORK_VEHICLE_SPAWN_TIMER] > gettime()) return ShowPlayerMessage(playerid, "Debes esperar para sacar otro vehiculo.", (PLAYER_TEMP[playerid][pt_WORK_VEHICLE_SPAWN_TIMER] - gettime()));
						SpawnPlayerWorkVehicle(playerid, infox[1]);
					}
	}
	switch(info[0])
	{
	    case PICKUP_TYPE_WORK: 
					{
					    if((gettime() - TIME_DEALER[playerid]) < 8 * 1) return 1;
						if (GetPlayerState(playerid) != PLAYER_STATE_ONFOOT) return 0;
						if (PI[playerid][pi_WANTED_LEVEL] > 0) return ShowPlayerMessage(playerid, "No puedes obtener un trabajo cuando estás en búsqueda.");
						
						if (!PI[playerid][pi_VIP])
						{
							if (gettime() < PLAYER_TEMP[playerid][pt_LAST_GOT_WORK_TIME] + NECESSARY_TIME_BETWEEN_WORKS)
							{
								new time = NECESSARY_TIME_BETWEEN_WORKS - (gettime() - PLAYER_TEMP[playerid][pt_LAST_GOT_WORK_TIME]);
								SendClientMessageEx(playerid, -1, "Debes de esperar %s para conseguir otro trabajo.", TimeConvertAsText(time)); 
								TIME_DEALER[playerid] = gettime();
								return 1;
							}
						}

						new player_jobs = CountPlayerJobs(playerid);
						if (PI[playerid][pi_VIP])
						{
							if (player_jobs >= MAX_SU_WORKS)
							{
								SendClientMessageEx(playerid, -1, "Actualmente tienes %d trabajos~n~usa /renunciar para dejar un trabajo.", player_jobs); 
								TIME_DEALER[playerid] = gettime();
								return 1;
							}
						}
						else
						{
							if (player_jobs >= MAX_NU_WORKS)
							{
								SendClientMessageEx(playerid, -1, "Actualmente tienes {"#YELLOW_COLOR"}%d trabajos{F5F5F5}, usa /renunciar para dejar un trabajo.", player_jobs);
								SendClientMessageEx(playerid, -1, "¡Los jugadores {"#YELLOW_COLOR"}VIP{F5F5F5} pueden tener hasta %d trabajos! Usa {"#YELLOW_COLOR"}/ayuda {F5F5F5}si quieres ser {"#YELLOW_COLOR"}VIP{F5F5F5}.", MAX_SU_WORKS);
								TIME_DEALER[playerid] = gettime();
								return 1;
							}
						}

						if (work_info[ info[1] ][work_info_LEVEL] > PI[playerid][pi_LEVEL])
						{
							SendClientMessageEx(playerid,  -1, "Debes ser ~b~nivel %d", work_info[ info[1] ][work_info_LEVEL]); 
							TIME_DEALER[playerid] = gettime();
							return 1;
						}
						
						if (PLAYER_WORKS[playerid][ info[1] ][pwork_SET])
						{
							SendFormatNotification(playerid, "Ya eres ~r~%s.", work_info[ info[1] ][work_info_NAME]);
							TIME_DEALER[playerid] = gettime();
							return 1;
						}

						ShowPlayerWorkContract(playerid, info[1]);
						TIME_DEALER[playerid] = gettime();
					}
		case PICKUP_V_SPAWN_WORK:
		{
			for(new i = 0; i < sizeof (San_Andreas_Vehicles); i ++)
			{
				new index_v = i;
				if(IsPlayerInRangeOfPoint(playerid, 2, San_Andreas_Vehicles[i][san_andreas_vehicle_SPAWN_X], San_Andreas_Vehicles[i][san_andreas_vehicle_SPAWN_Y], San_Andreas_Vehicles[index_v][san_andreas_vehicle_SPAWN_Z]))
				{
					if(!San_Andreas_Vehicles[i][san_andreas_vehicle_TIME_READY])
					{
						new bool: valid = true, string_no_valid[100];
						if(San_Andreas_Vehicles[index_v][san_andreas_vehicle_TYPE] == VEHICLE_TYPE_WORK)
						{
							new work_id = San_Andreas_Vehicles[index_v][san_andreas_vehicle_TYPE_IN];

							if(work_id >= 0 && work_id < sizeof(work_info))
							{
								valid = (PLAYER_WORKS[playerid][work_id][pwork_SET] == 1);
								format(string_no_valid, sizeof(string_no_valid), "No perteneces a este trabajo.");
							}
						}
						else if(San_Andreas_Vehicles[index_v][san_andreas_vehicle_TYPE] == VEHICLE_TYPE_DRIVING_SCHOOL)
						{
							if(!PLAYER_TEMP[playerid][pt_DL_EXAM])
							{
								valid = false;
								format(string_no_valid, sizeof(string_no_valid), "No estas en el examen de conducir.");
							}
						}

						if(valid)
						{
							if(San_Andreas_Vehicles[index_v][san_andreas_vehicle_COLOR_1] == -1) San_Andreas_Vehicles[index_v][san_andreas_vehicle_COLOR_1] = valid_work_vehicle_colors[random(sizeof(valid_work_vehicle_colors))];
							if(San_Andreas_Vehicles[index_v][san_andreas_vehicle_COLOR_2] == -1) San_Andreas_Vehicles[index_v][san_andreas_vehicle_COLOR_2] = valid_work_vehicle_colors[random(sizeof(valid_work_vehicle_colors))];

							new vehicle_id = INVALID_VEHICLE_ID, respawn_time = 300;

							if(San_Andreas_Vehicles[index_v][san_andreas_vehicle_TYPE] == VEHICLE_TYPE_WORK)
							{
								if(work_info[ San_Andreas_Vehicles[index_v][san_andreas_vehicle_TYPE_IN] ][work_info_TYPE] == WORK_TYPE_FAMILY)
								{
									respawn_time = 2700;
								}
							}

							vehicle_id = CreateVehicle(San_Andreas_Vehicles[index_v][san_andreas_vehicle_MODELID], San_Andreas_Vehicles[index_v][san_andreas_vehicle_SPAWN_X], San_Andreas_Vehicles[index_v][san_andreas_vehicle_SPAWN_Y], San_Andreas_Vehicles[index_v][san_andreas_vehicle_SPAWN_Z], San_Andreas_Vehicles[index_v][san_andreas_vehicle_SPAWN_ANGLE], San_Andreas_Vehicles[index_v][san_andreas_vehicle_COLOR_1], San_Andreas_Vehicles[index_v][san_andreas_vehicle_COLOR_2], respawn_time, false);

							if(vehicle_id != INVALID_VEHICLE_ID)
							{
								GLOBAL_VEHICLES[vehicle_id][gb_vehicle_VALID] = true;
								GLOBAL_VEHICLES[vehicle_id][gb_vehicle_TYPE] = San_Andreas_Vehicles[index_v][san_andreas_vehicle_TYPE];
								GLOBAL_VEHICLES[vehicle_id][gb_vehicle_MODELID] = San_Andreas_Vehicles[index_v][san_andreas_vehicle_MODELID];
								format(GLOBAL_VEHICLES[vehicle_id][gb_vehicle_NUMBER_PLATE], 32, "%c%c%c-%04d", getRandomLetter(), getRandomLetter(), getRandomLetter(), random(9999));
								GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_X] = San_Andreas_Vehicles[index_v][san_andreas_vehicle_SPAWN_X];
								GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_Y] = San_Andreas_Vehicles[index_v][san_andreas_vehicle_SPAWN_Y];
								GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_Z] = San_Andreas_Vehicles[index_v][san_andreas_vehicle_SPAWN_Z];
								GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_ANGLE] = San_Andreas_Vehicles[index_v][san_andreas_vehicle_SPAWN_ANGLE];

								GLOBAL_VEHICLES[vehicle_id][gb_vehicle_POS][0] = GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_X];
								GLOBAL_VEHICLES[vehicle_id][gb_vehicle_POS][1] = GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_Y];
								GLOBAL_VEHICLES[vehicle_id][gb_vehicle_POS][2] = GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_Z];

								GLOBAL_VEHICLES[vehicle_id][gb_vehicle_HEALTH] = 1000.0;
								GLOBAL_VEHICLES[vehicle_id][gb_vehicle_DAMAGE_PANELS] = 0;
								GLOBAL_VEHICLES[vehicle_id][gb_vehicle_DAMAGE_DOORS] = 0;
								GLOBAL_VEHICLES[vehicle_id][gb_vehicle_DAMAGE_LIGHTS] = 0;
								GLOBAL_VEHICLES[vehicle_id][gb_vehicle_DAMAGE_TIRES] = 0;
								GLOBAL_VEHICLES[vehicle_id][gb_vehicle_COLOR_1] = San_Andreas_Vehicles[index_v][san_andreas_vehicle_COLOR_1];
								GLOBAL_VEHICLES[vehicle_id][gb_vehicle_COLOR_2] = San_Andreas_Vehicles[index_v][san_andreas_vehicle_COLOR_2];
								GLOBAL_VEHICLES[vehicle_id][gb_vehicle_PAINTJOB] = 3; // No paintjob
								GLOBAL_VEHICLES[vehicle_id][gb_vehicle_MAX_GAS] = VEHICLE_INFO[ GLOBAL_VEHICLES[vehicle_id][gb_vehicle_MODELID] - 400][vehicle_info_MAX_GAS];
								GLOBAL_VEHICLES[vehicle_id][gb_vehicle_GAS] = frandom(GLOBAL_VEHICLES[vehicle_id][gb_vehicle_MAX_GAS], GLOBAL_VEHICLES[vehicle_id][gb_vehicle_MAX_GAS] / 3, 2);
								GLOBAL_VEHICLES[vehicle_id][gb_vehicle_STATE] = VEHICLE_STATE_NORMAL;
								GLOBAL_VEHICLES[vehicle_id][gb_vehicle_VIP] = San_Andreas_Vehicles[index_v][san_andreas_vehicle_vip];
								GLOBAL_VEHICLES[vehicle_id][gb_vehicle_WORLD] = San_Andreas_Vehicles[index_v][san_andreas_vehicle_WORLD];

								if(GLOBAL_VEHICLES[vehicle_id][gb_vehicle_TYPE] == VEHICLE_TYPE_WORK)
								{
									WORK_VEHICLES[vehicle_id][work_vehicle_VALID] = true;
									WORK_VEHICLES[vehicle_id][work_vehicle_WORK] = San_Andreas_Vehicles[index_v][san_andreas_vehicle_TYPE_IN];
									WORK_VEHICLES[vehicle_id][work_vehicle_EXP] = San_Andreas_Vehicles[index_v][san_andreas_vehicle_TYPE_IN_EXP];
									WORK_VEHICLES[vehicle_id][work_vehicle_NEED_DUTY] = work_info[ WORK_VEHICLES[vehicle_id][work_vehicle_WORK] ][work_info_NEED_DUTY];
								}

								SetVehicleToRespawnEx(vehicle_id);
								CallLocalFunction("OnSanAndreasVehicleLoad", "i", vehicle_id);

								GLOBAL_VEHICLES[vehicle_id][gb_vehicle_IS_RETURN] = true;
								GLOBAL_VEHICLES[vehicle_id][gb_vehicle_LINK_ID] = index_v;

								PutPlayerInVehicle(playerid, vehicle_id, 0);


								San_Andreas_Vehicles[i][san_andreas_vehicle_TIME_READY] = true;
								San_Andreas_Vehicles[i][san_andreas_vehicle_TIME_GET] = 30;

								San_Andreas_Vehicles[i][san_andreas_vehicle_TIMER] = SetTimerEx("SetVehicleGetTime", 1000, true, "i", i);
								break;
							}
							else
							SendNotification(playerid, "No fue posible crear el vehiculo.");
						}
						else ShowPlayerMessage(playerid, string_no_valid);
					}
					else {
						new stringtime[60]; format(stringtime, sizeof(stringtime), "debes esperar %d", San_Andreas_Vehicles[i][san_andreas_vehicle_TIME_GET]);
						SendNotification(playerid, stringtime);
					}
				}
			}
			return 1;
		}
		case PICKUP_TYPE_ENTER_EXIT:
		{
			if(speed > 0)
			{
				PLAYER_TEMP[playerid][pt_HOSPITAL] = GetNearestHospitalForPlayer(playerid);

				if(info[2] == 1) // Está en el Pickup Interior y quiere ir al exterior
				{
					PI[playerid][pi_STATE] = ROLEPLAY_STATE_NORMAL;
					PI[playerid][pi_LOCAL_INTERIOR] = 0;
					PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] = -1;
					SetPlayerPosEx(playerid, ENTER_EXIT[info[1]][ee_EXT_X], ENTER_EXIT[info[1]][ee_EXT_Y], ENTER_EXIT[info[1]][ee_EXT_Z], ENTER_EXIT[info[1]][ee_EXT_ANGLE], ENTER_EXIT[info[1]][ee_EXT_INTERIOR], ENTER_EXIT[info[1]][ee_EXT_WORLD], false, true);
					SetPlayerSpecialAction(playerid, SPECIAL_ACTION_NONE);
					//StopAudioStreamForPlayer(playerid);
					//FreezePlayer(playerid);
					CallLocalFunction("OnPlayerExitInterior", "ii", playerid, info[1]);
				}
				else if(info[2] == 2) // Está en el Pickup Exterior y quiere ir al interior
				{
				    if(ENTER_EXIT[info[1]][ee_INTERIOR_TYPE] == INTERIOR_BLACK_MARKET)
    {
        // Verificación 1: ¿Tiene banda?
        if(PI[playerid][pi_CREW] == 0 && PI[playerid][pi_ADMIN_LEVEL] < 1)
        {
            ShowPlayerMessage(playerid, "Solo las personas con banda pueden acceder a los mercados negros.");
            return 1; 
        }

        // Verificación 2: Buscamos la zona del PICKUP (info[1] es el índice del mercado)
        new zonaid = -1;
        new Float:pX = ENTER_EXIT[info[1]][ee_EXT_X];
        new Float:pY = ENTER_EXIT[info[1]][ee_EXT_Y];

        for(new z = 0; z < MAX_TERRITORIES; z++)
        {
            if(!TERRITORIES[z][territory_VALID]) continue;
            if(pX >= TERRITORIES[z][territory_MIN_X] && pX <= TERRITORIES[z][territory_MAX_X] &&
               pY >= TERRITORIES[z][territory_MIN_Y] && pY <= TERRITORIES[z][territory_MAX_Y])
            {
                zonaid = z;
                break;
            }
        }

        if(zonaid != -1 && TERRITORIES[zonaid][territory_CREW_ID] > 0)
        {
            if(PI[playerid][pi_CREW] != TERRITORIES[zonaid][territory_CREW_ID] && PI[playerid][pi_ADMIN_LEVEL] < 1)
            {
                new string[128];
                format(string, sizeof(string), "Este mercado es de la banda ~b~%s ~w~No puedes entrar.", 
                    CREW_INFO[TERRITORIES[zonaid][territory_CREW_INDEX]][crew_NAME]);
                
                ShowPlayerMessage(playerid, string);
                return 1;
            }
        }
    }
					if(ENTER_EXIT[info[1]][ee_TIME_OPEN] == 0 && ENTER_EXIT[info[1]][ee_TIME_CLOSE] == 0) // 24 horas
					{
						PI[playerid][pi_STATE] = ROLEPLAY_STATE_INTERIOR;
						PI[playerid][pi_LOCAL_INTERIOR] = ENTER_EXIT[info[1]][ee_ID];
						PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] = info[1];
						SetPlayerPosEx(playerid, ENTER_EXIT[info[1]][ee_INT_X], ENTER_EXIT[info[1]][ee_INT_Y], ENTER_EXIT[info[1]][ee_INT_Z], ENTER_EXIT[info[1]][ee_INT_ANGLE], ENTER_EXIT[info[1]][ee_INT_INTERIOR], ENTER_EXIT[info[1]][ee_INT_WORLD], false, true);
						FreezePlayer(playerid);
						CallLocalFunction("OnPlayerEnterInterior", "ii", playerid, info[1]);
					}
					else
					{
							PI[playerid][pi_STATE] = ROLEPLAY_STATE_INTERIOR;
							PI[playerid][pi_LOCAL_INTERIOR] = ENTER_EXIT[info[1]][ee_ID];
							PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] = info[1];
							SetPlayerPosEx(playerid, ENTER_EXIT[info[1]][ee_INT_X], ENTER_EXIT[info[1]][ee_INT_Y], ENTER_EXIT[info[1]][ee_INT_Z], ENTER_EXIT[info[1]][ee_INT_ANGLE], ENTER_EXIT[info[1]][ee_INT_INTERIOR], ENTER_EXIT[info[1]][ee_INT_WORLD], false, true);
							//FreezePlayer(playerid);
							CallLocalFunction("OnPlayerEnterInterior", "ii", playerid, info[1]);

						//	if(ENTER_EXIT[info[1]][ee_INTERIOR_TYPE] == INTERIOR_CLUB) PlayAudioStreamForPlayerEx(playerid, "https://www.dropbox.com/s/yeuwio26i7y00ly/striptease.mp3?dl=1");
					}
				}
			}
		}
		case PICKUP_TYPE_PROPERTY:
		{
			if(speed > 0)
			{
				PLAYER_TEMP[playerid][pt_HOSPITAL] = GetNearestHospitalForPlayer(playerid);

				if(info[2] == 1) // Está en el Pickup Interior y quiere ir al exterior
				{
					PI[playerid][pi_STATE] = ROLEPLAY_STATE_NORMAL;
					PI[playerid][pi_LOCAL_INTERIOR] = 0;
					PLAYER_TEMP[playerid][pt_PROPERTY_INDEX] = -1;
					SetPlayerPosEx(playerid, PROPERTY_INFO[info[1]][property_EXT_X], PROPERTY_INFO[info[1]][property_EXT_Y], PROPERTY_INFO[info[1]][property_EXT_Z], PROPERTY_INFO[info[1]][property_EXT_ANGLE], PROPERTY_INFO[info[1]][property_EXT_INTERIOR], 0, false, true);
					SetPlayerSpecialAction(playerid, SPECIAL_ACTION_NONE);
					FreezePlayer(playerid);
				}
				else if(info[2] == 2) // Está en el Pickup Exterior y quiere ir al interior
				{
					if(PROPERTY_INFO[info[1]][property_POLICE_FORCED] && (PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET] && PLAYER_TEMP[playerid][pt_WORKING_IN] == WORK_POLICE))
					{
					    PlayerTextDrawShow(playerid, TD_Cargando[playerid]);
                        SetTimerEx("QuitarCargando", 3000, false, "i", playerid); // Muestra el fondo negro
                        PlayerTextDrawShow(playerid, TD_TextoCarga[playerid]);
						new Float:z_pos = PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_Z];
						if(PROPERTY_INFO[info[1]][property_DIS_DEFAULT_INTERIOR]) z_pos += PROPERTY_EMPTY_INTERIOR_Z_OFFSET;
						SetPlayerPosEx(playerid, PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_X], PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_Y], z_pos, PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_ANGLE], PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_INTERIOR], PROPERTY_INFO[info[1]][property_ID], false /*PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_FREEZE]*/, true);
						FreezePlayer(playerid);
						return 1;
					}
					if(!PROPERTY_INFO[info[1]][property_SOLD]) return SendNotification(playerid, "Esta propiedad está en venta.");
					if(PROPERTY_INFO[info[1]][property_CREW])
					{
						if(!PI[playerid][pi_CREW]) return SendFormatNotification(playerid, "Solo miembros de la banda pueden entrar.");
						if(PI[playerid][pi_CREW] != PROPERTY_INFO[info[1]][property_CREW_ID]) return SendFormatNotification(playerid, "Solo miembros de la banda pueden entrar.");

						PI[playerid][pi_STATE] = ROLEPLAY_STATE_GUEST_PROPERTY;
						PI[playerid][pi_LOCAL_INTERIOR] = PROPERTY_INFO[info[1]][property_ID];
						PLAYER_TEMP[playerid][pt_PROPERTY_INDEX] = info[1];
						
						PlayerTextDrawShow(playerid, TD_Cargando[playerid]);
                        SetTimerEx("QuitarCargando", 3000, false, "i", playerid); // Muestra el fondo negro
                        PlayerTextDrawShow(playerid, TD_TextoCarga[playerid]);
						new Float:z_pos = PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_Z];
						if(PROPERTY_INFO[info[1]][property_DIS_DEFAULT_INTERIOR]) z_pos += PROPERTY_EMPTY_INTERIOR_Z_OFFSET;
						SetPlayerPosEx(playerid, PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_X], PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_Y], z_pos, PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_ANGLE], PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_INTERIOR], PROPERTY_INFO[info[1]][property_ID], false /*PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_FREEZE]*/, true);
						FreezePlayer(playerid);
					}
					else
					{
						if(PROPERTY_INFO[info[1]][property_OWNER_ID] == PI[playerid][pi_ID])
						{
							PI[playerid][pi_STATE] = ROLEPLAY_STATE_OWN_PROPERTY;
							PI[playerid][pi_LOCAL_INTERIOR] = PROPERTY_INFO[info[1]][property_ID];
							PLAYER_TEMP[playerid][pt_PROPERTY_INDEX] = info[1];
							
							PlayerTextDrawShow(playerid, TD_Cargando[playerid]);
                            SetTimerEx("QuitarCargando", 3000, false, "i", playerid); // Muestra el fondo negro
                            PlayerTextDrawShow(playerid, TD_TextoCarga[playerid]);
							new Float:z_pos = PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_Z];
							if(PROPERTY_INFO[info[1]][property_DIS_DEFAULT_INTERIOR]) z_pos += PROPERTY_EMPTY_INTERIOR_Z_OFFSET;
							SetPlayerPosEx(playerid, PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_X], PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_Y], z_pos, PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_ANGLE], PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_INTERIOR], PROPERTY_INFO[info[1]][property_ID], false /*PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_FREEZE]*/, true);
							FreezePlayer(playerid);
						}
						else
						{
							if(gettime() < PLAYER_TEMP[playerid][pt_ANTIFLOOD_KNOCK_PROPERTY] + 10) return SendNotification(playerid, "Espera para volver a tocar, si no te quieren abrir, vete.");

							new owner_playerid = GetOwnerIntProperty(PROPERTY_INFO[info[1]][property_ID]);
							if(owner_playerid == -1) return SendNotification(playerid, "Esta no es tu propiedad y el dueño no está dentro para dejarte entrar.");

							PLAYER_TEMP[playerid][pt_ANTIFLOOD_KNOCK_PROPERTY] = gettime();
							PLAYER_TEMP[owner_playerid][pt_KNOCK_PLAYER_ID] = playerid;
							SendFormatNotification(owner_playerid, "~b~%s ~w~está tocando la puerta, para dejarle entrar ve a la puerta y usa ~b~/puerta~w~.", PLAYER_TEMP[playerid][pt_RP_NAME]);
							SendNotification(playerid, "Has tocado en la puerta, espera para que te abran o vete.");
						}
					}
				}
			}
		}
		case PICKUP_TYPE_HQ:
					{
						
						PLAYER_TEMP[playerid][pt_HOSPITAL] = GetNearestHospitalForPlayer(playerid);

						if(info[2] == 1) // Está en el Pickup Interior y quiere ir al exterior
						{
							new i = info[1];
							APA[playerid][pi_AptoCooldown] = gettime() + 3;
							SetPlayerPosEx(playerid, Doors[i][dExterior][0], Doors[i][dExterior][1], Doors[i][dExterior][2] , Doors[i][dExterior][3] ,0, 0);
							PI[playerid][pi_STATE] = ROLEPLAY_STATE_NORMAL;
							PI[playerid][pi_LOCAL_INTERIOR] = 0;
							PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] = -1;
						}
						else if(info[2] == 2) // Está en el Pickup Exterior y quiere ir al interior
						{
							if(PI[playerid][pi_CREW])
							{	
							    APA[playerid][pi_AptoCooldown] = gettime() + 3;
								if(GetCrewIndexById(Doors[info[1]][dFaccion]) != PLAYER_TEMP[playerid][pt_CREW_INDEX] ) return SendNotification(playerid, "No perteneces a esta facción");
								if(CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_TYPE] != crew_TYPE_FACCION) return SendNotification(playerid, "No pertenece a tu facción");
								PI[playerid][pi_STATE] = ROLEPLAY_STATE_HQ;
								PI[playerid][pi_LOCAL_INTERIOR] = Doors[info[1]][dSQLID];
								PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] = info[1];

								new interiorid = Doors[info[1]][dInt];

								SetPlayerPosEx(playerid, EntradasHQ[interiorid][eX], EntradasHQ[interiorid][eY], EntradasHQ[interiorid][eZ], EntradasHQ[interiorid][eAngle] , EntradasHQ[interiorid][eInterior], info[1] + 50000);
							}

						}
						else return true;
					}
		case PICKUP_TYPE_REPAIR_VEHICLE: {
						if(IsPlayerDriver(playerid)) {
						    if((gettime() - TIME_DEALER[playerid]) < 12 * 1) return 1;
							SetPlayerInVehicleRepair(playerid, GetPlayerVehicleID(playerid), info[1]); 
							TIME_DEALER[playerid] = gettime();
						}
					}
		case PICKUP_TYPE_ATM:
					{
					    if((gettime() - TIME_DEALER[playerid]) < 10 * 1) return 1;
						if(PI[playerid][pi_MANO_DER] == 101) {
							SetPlayerATMRobbery(playerid, info[1]);  
							TIME_DEALER[playerid] = gettime();
							PLAYER_TEMP[playerid][pt_TIME_PICKUP] = gettime();
						} else {
							if (PI[playerid][pi_BANK_ACCOUNT] == 0) { 
							    if((gettime() - TIME_DEALER[playerid]) < 10 * 1) return 1;
								ShowPlayerMessage(playerid, "No tienes cuenta bancaria, puedes crearla en cualquier Banco.");
								return 1;
							}
							
							PLAYER_TEMP[playerid][pt_PLAYER_IN_ATM] = true;
							ShowDialog(playerid, DIALOG_BANK);
							TIME_DEALER[playerid] = gettime();
						}
					}
		case PICKUP_TYPE_HOTDOG:
		{
			if(gettime() < PLAYER_TEMP[playerid][pt_TIME_PICKUP] + 2) return 0;
			if(speed > 0)
			{
				PLAYER_TEMP[playerid][pt_TIME_PICKUP] = gettime();
				PC_EmulateCommand(playerid, "/comida");
				return 1;
			}
		}
	}
	return 1;
}


hook OnPlayerKeyStateChange(playerid, newkeys, oldkeys)
{		
	if(PLAYER_TEMP[playerid][pt_GAME_STATE] != GAME_STATE_NORMAL) return 1;
    if (newkeys & KEY_SUBMISSION)
	{
		if (GetPlayerState(playerid) == PLAYER_STATE_DRIVER) return PC_EmulateCommand(playerid, "/motor");
	}
	
	if((newkeys & KEY_YES) && GetPVarInt(playerid, "CargandoBarril"))
    {
    new veh = GetProxVehicle(playerid); 
    if(veh == INVALID_VEHICLE_ID) return 1;

    new model = GetVehicleModel(veh);
    if(model == 422 || model == 554 || model == 400 || model == 543 || model == 478) 
    {
        // 1. Quitar el objeto y la animación al jugador
        RemovePlayerAttachedObject(playerid, 7);
        SetPlayerSpecialAction(playerid, SPECIAL_ACTION_NONE);
        DeletePVar(playerid, "CargandoBarril");
        ApplyAnimation(playerid, "BOMBER", "BOM_Plant", 4.1, 0, 0, 0, 0, 0, 1);
        
        // 2. Sumar al vehículo y actualizar visualmente
        BarrilVehiculo[veh]++;
        ActualizarBarriles(veh); 
        
        // 3. Contar progreso del jugador
        new total = GetPVarInt(playerid, "BarrilesCargados") + 1;
        SetPVarInt(playerid, "BarrilesCargados", total);
        
        if(total >= 3) // Si ya subió los 3 barriles
        {
            new f = GetPVarInt(playerid, "ID_Fabrica_Pedido");
            if(f != -1) 
            {
                SendFormatNotification(playerid, "¡Camioneta cargada! Regresa a la entrada de la fábrica.");
                
                // Marcamos el checkpoint de regreso
                SetPlayerCheckpoint(playerid, Fabricas[f][pEntradaX], Fabricas[f][pEntradaY], Fabricas[f][pEntradaZ], 5.0);
                SetPVarInt(playerid, "RegresandoConQuimicos", 1); 
            }
            else 
            {
                SendFormatNotification(playerid, "Error: No se encontró el registro de tu fábrica.");
            }
        } // <--- Cierra if(total >= 3)
        else 
        {
            new str[128];
            format(str, sizeof(str), "~w~Barriles: ~g~%d/3", total);
            GameTextForPlayer(playerid, str, 3000, 3);
            SendFormatNotification(playerid, "Barril asegurado. Ve por el siguiente.");
        }
    } // <--- Cierra if(model == ...)
    else 
    {
        SendClientMessage(playerid, -1, "{FF0000}ERROR: {FFFFFF}Este vehículo no sirve para transportar químicos.");
    }
    } // <--- Cierra el bloque principal de KEY_YES

    
	if(PRESSED(KEY_YES))
	{
		if(IsPlayerInDynamicArea(playerid, Lumberjack_Area))
		{
			if(GetPlayerState(playerid) == PLAYER_STATE_ONFOOT)
			{
				if(PLAYER_TEMP[playerid][pt_WORKING_IN] == WORK_LUMBERJACK)
				{
					if(PLAYER_TEMP[playerid][pt_PLAYER_LUMBERJACK_TREE] == -1)
					{
						if(PLAYER_TEMP[playerid][pt_PLAYER_CARRYING_TREE]) return SendClientMessage(playerid,-1, "»Lleva la leña cortada al punto marcado para talar más árboles.");

						for(new i = 0; i != sizeof LUMBER_TREES; i ++)
						{
							if(IsPlayerInRangeOfPoint(playerid, 2.0, LUMBER_TREES[i][lumber_tree_X], LUMBER_TREES[i][lumber_tree_Y], LUMBER_TREES[i][lumber_tree_Z]))
							{
								if(LUMBER_TREES[i][lumber_tree_STATE] == LUMBER_TREE_STATE_NORMAL)
								{
									TogglePlayerControllableEx(playerid, false);
									SetCameraBehindPlayer(playerid);
									ApplyAnimation(playerid, "CHAINSAW", "WEAPON_csaw", 4.1, true, false, false, false, 0, 1);
									LUMBER_TREES[i][lumber_tree_STATE] = LUMBER_TREE_STATE_CUTTING;
									PLAYER_TEMP[playerid][pt_PLAYER_LUMBERJACK_TREE] = i;

									RemovePlayerAttachedObject(playerid, 8);
									SetPlayerAttachedObject(playerid, 8, 341, 6);
									SetPlayerArmedWeapon(playerid, 0);

									new label_str[256];
									format(label_str, sizeof label_str, "{66c4e4}Árbol (%d)\n\n"WHITE"Talando... {66c4e4}(%.1f%%)", PLAYER_TEMP[playerid][pt_PLAYER_LUMBERJACK_TREE], 0.0);
									UpdateDynamic3DTextLabelText(LUMBER_TREES[ PLAYER_TEMP[playerid][pt_PLAYER_LUMBERJACK_TREE] ][lumber_tree_LABEL], -1, label_str);
									SetPlayerKeyPress(playerid, minrand(30, 50));
								}
								return Y_HOOKS_BREAK_RETURN_1;
							}
						}
					}
			}	}
		  }

		if(IsPlayerInRangeOfPoint(playerid, 2, 154.4165,-83.0889,1001.8047)) //ropa gemas
		{
			PLAYER_TEMP[playerid][pt_CLOTHING_SHOP] = 5;
			SetPVarInt(playerid, "Player:On:Droids:Ropa", 2);
			PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] = 0;
			SetPlayerPosEx(playerid, 257.251373, -40.797775, 1002.023437, 135.0, 14, playerid + MAX_PLAYERS, false); // World = Playerid + Max_players
			TogglePlayerControllableEx(playerid, false);

			SetPlayerCameraPos(playerid, 254.988632, -43.060516, 1002.9131);
			SetPlayerCameraLookAt(playerid, 257.251373, -40.797775, 1002.023437);

			UpdateClothingShop(playerid);
			ShowClothingShopTextdraws(playerid);

			ShowPlayerMessage(playerid, "Pulsa ~r~'ESCAPE' ~w~para dejar de probarte ropa.", 2);
			SelectTextDrawEx(playerid, 0xe8d08fFF);
			return true;
		}
		//CallLocalFunction("DarCalabazaPremio", "i", playerid);
	}
    
    if (newkeys & KEY_YES)
	{

			if (PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK) {
				if (CountMedicsOnDuty() <= 0) {
					if (PI[playerid][pi_WANTED_LEVEL] > 0) ShowPlayerMessage(playerid, "Tienes ~r~nivel de busqueda~w~ espera a que la policia venga a por ti.");
					else Dialog_Show(playerid, "NoMedicsDeath", DIALOG_STYLE_MSGBOX, "[{ff0000}Morir{f5f5f5}]  Aceptar muerte", "{ff0000}{f5f5f5}No hay medicos disponibles. {ff0000}¿quieres aceptar tu muerte?{f5f5f5}.", "»Aceptar", "xSalir");
				} else {
					if (PLAYER_TEMP[playerid][pt_DEATH_HEALTH] <= 10.0) {
					    Auto_SendPlayerAction(playerid, "ha elegido la salida rápida.");
		PLAYER_TEMP[playerid][pt_DEATH_HEALTH] = 0;
	    PLAYER_TEMP[playerid][pt_GAME_STATE] = GAME_STATE_DEAD;
    PI[playerid][pi_STATE] = ROLEPLAY_STATE_HOSPITAL;
    PLAYER_TEMP[playerid][pt_HOSPITAL] = GetNearestHospitalForPlayer(playerid);
    PLAYER_TEMP[playerid][pt_PLAYER_FINISH_HOSPITAL] = false;
    SetPlayerHealthEx(playerid, 100.0);
    clearInjuredVars(playerid);
    ClearAnimations(playerid);
    SpawnPlayer(playerid);
						
					} else {
						ShowPlayerMessage(playerid, "Debes tener 10 de ~b~vida~w~.");
					}
				}
			}
			
			if (GetPlayerState(playerid) == PLAYER_STATE_ONFOOT)
		{
			if (PLAYER_WORKS[playerid][WORK_MEDIC][pwork_SET] && PLAYER_TEMP[playerid][pt_WORKING_IN] == WORK_MEDIC) {
					PC_EmulateCommand(playerid, "/curar");	
				}
			}

			if (PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return 1;
			
			return 1;
	}
	if(newkeys & KEY_YES)
    {
        // Si el jugador tiene una bocina colocada
        if(JBLInfo[playerid][jbl_COLOCADA])
        {
            // Verificamos si está cerca de su bocina (rango de 2.0 metros)
            if(IsPlayerInRangeOfPoint(playerid, 2.0, JBLInfo[playerid][jbl_X], JBLInfo[playerid][jbl_Y], JBLInfo[playerid][jbl_Z]))
            {
                PC_EmulateCommand(playerid, "/jbl");
            }
        }
    }
    if(newkeys & KEY_YES)
	{
        if(GetPlayerArma(playerid))
		{
            PC_EmulateCommand(playerid, "/recargar");
            return Y_HOOKS_BREAK_RETURN_1;
        }
    }
    if(newkeys &  KEY_CTRL_BACK)
	{

		for(new i; i != sizeof MechanicStartWorkingCoords; i++)
			if(IsPlayerInRangeOfPoint(playerid, 2.0, MechanicStartWorkingCoords[i][0], MechanicStartWorkingCoords[i][1], MechanicStartWorkingCoords[i][2])) return PC_EmulateCommand(playerid, "/mecanico");

		for(new i = 0; i != sizeof LoadTrucksPoints; i ++)
			if(IsPlayerInRangeOfPoint(playerid, 3.0, LoadTrucksPoints[i][0], LoadTrucksPoints[i][1], LoadTrucksPoints[i][2])) return PC_EmulateCommand(playerid, "/cargar");

		if(IsPlayerInRangeOfPoint(playerid, 2.0, 1063.718994, -343.093566, 2797.699951)) return PC_EmulateCommand(playerid, "/examen");

		if(IsPlayerInDynamicArea(playerid, Farmer_Area))
		{
			for(new i = 0; i != MAX_PLANTS; i ++)
			{
				new Float:pos[3];
				GetDynamicObjectPos(PLANTS[i][plant_OBJECT_ID], pos[0], pos[1], pos[2]);

				if(IsPlayerInRangeOfPoint(playerid, 1.5, pos[0], pos[1], pos[2]) && PLANTS[i][plant_VIRTUAL_WORLD] == GetPlayerVirtualWorld(playerid))
				{
					PC_EmulateCommand(playerid, "/recoger");
					return 1;
				}
			}
		}
		
		if(IsPlayerInRangeOfPoint(playerid, 5.0, 2216.8306, 721.9532, 647.1910))
		{
					PC_EmulateCommand(playerid, "/recoger");
					return 1;
		}

		if(PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] != -1 && ENTER_EXIT[ PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] ][ee_INTERIOR_TYPE] != INTERIOR_NO_INFO)
		{
			new index = GetBankLocalIndexByIntType(ENTER_EXIT[ PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] ][ee_INTERIOR_TYPE]);
			if(index != -1)
			{
				if(IsPlayerInRangeOfPoint(playerid, 1.0, Bank_Interior_Positions[index][bank_X], Bank_Interior_Positions[index][bank_Y], Bank_Interior_Positions[index][bank_Z]))
				{
					PC_EmulateCommand(playerid, "/banco");
					return 1;
				}
			}
		}
		
		if(IsPlayerInRangeOfPoint(playerid, 2.5, 1411.424, -31.484, 1000.96) || 
       IsPlayerInRangeOfPoint(playerid, 2.5, 1414.296, -31.473, 1000.96) || 
       IsPlayerInRangeOfPoint(playerid, 2.5, 1417.298, -31.485, 1000.96))
        {
            return PC_EmulateCommand(playerid, "/suministrar");
        }
        
        new f = PLAYER_TEMP[playerid][pt_FABRICA_ID];
    if(f != -1) // Si el jugador está en una fábrica
    {
        for(new i = 0; i < 3; i++)
        {
            new Float:ax, Float:ay, Float:az;
            GetDynamicActorPos(Fabricas[f][ActorFabrica][i], ax, ay, az);

            // Si está cerca de uno de los 3 cocineros
            if(IsPlayerInRangeOfPoint(playerid, 3.5, ax, ay, az))
            {
                // Solo emula el comando si el cocinero realmente terminó (Estado 2)
                // Esto evita que el comando se ejecute por error si aún están trabajando
                if(Fabricas[f][StatoCuoco][i] == 2)
                {
                    return PC_EmulateCommand(playerid, "/empaquetar");
                }
            }
        }
    }
    
            // --- SISTEMA EXCLUSIVO DE VENTA DE DROGA (CAJAS) ---
    if(VentaActorSeleccionado[playerid] != -1)
    {
    new id = VentaActorSeleccionado[playerid];
    new veh = GetProxVehicle(playerid); 
    
    // USAMOS PVAR PARA QUE NO SE RESETEE AL SALIR DE LA FÁBRICA
    new f = GetPVarInt(playerid, "FabricaVentaID"); 

    // --- 1. EN EL COMPRADOR (PUNTO ROJO): BAJAR O ENTREGAR CAJAS ---
    if(IsPlayerInRangeOfPoint(playerid, 6.0, CompradoresInfo[id][acX], CompradoresInfo[id][acY], CompradoresInfo[id][acZ])) 
    {
        if(GetPVarInt(playerid, "CargandoCaja")) 
        {
            new Float:px, Float:py, Float:pz;
            GetPlayerPos(playerid, px, py, pz);
            
            ObjetoCajaSuelo[playerid][CajasEntregadas[playerid]] = CreateDynamicObject(1271, px, py, pz-0.9, 0, 0, 0, .worldid = GetPlayerVirtualWorld(playerid));
            
            CajasEntregadas[playerid]++;
            RemovePlayerAttachedObject(playerid, 9);
            SetPlayerSpecialAction(playerid, SPECIAL_ACTION_NONE);
            DeletePVar(playerid, "CargandoCaja");

            // --- PAGO FINAL ---
            if(CajasEntregadas[playerid] >= 3) 
            {
                // Verificamos si la fábrica es válida desde la PVar
                if(f >= 0 && f < MAX_FABRICAS) 
                {
                    new paga_aleatoria = 70000 + random(80001); 
                    Fabricas[f][pCantidadDinero] += paga_aleatoria; 

                    new query[128];
                    mysql_format(srp_db, query, sizeof(query), "UPDATE fabricas SET dinero = %d WHERE id = %d", Fabricas[f][pCantidadDinero], Fabricas[f][pID]);
                    mysql_tquery(srp_db, query);

                    ActualizarLabelsFabrica(f);

                    new str_pago[140];
                    format(str_pago, sizeof(str_pago), "{3BF1B3}» {FFFFFF}Negocio cerrado. Ha recibido %d{53FF00}$ {FFFFFF}en la caja fuerte de la fábrica.", paga_aleatoria);
                    SendClientMessage(playerid, -1, str_pago);
                    
                    PlayerPlaySound(playerid, 1052, 0.0, 0.0, 0.0);
                }
                else {
                    // Si llega aquí, es porque no se seteó la PVar al inicio
                    SendClientMessage(playerid, -1, "{FF0000}ERROR: {FFFFFF}No se encontró la fábrica vinculada a esta venta.");
                }
                
                for(new o=0; o<3; o++) { 
                    if(IsValidDynamicObject(ObjetoCajaSuelo[playerid][o])) {
                        DestroyDynamicObject(ObjetoCajaSuelo[playerid][o]);
                        ObjetoCajaSuelo[playerid][o] = -1;
                    }
                }
                
                VentaActorSeleccionado[playerid] = -1;
                CajasCargadas[playerid] = 0; 
                CajasEntregadas[playerid] = 0;
                DeletePVar(playerid, "FabricaVentaID"); // Limpiamos la PVar al terminar
                DisablePlayerCheckpoint(playerid);
            }
            else 
            {
                new str_act[128];
                format(str_act, sizeof(str_act), "{F1C40F}%s dice: {FFFFFF}¡Bien! Ponla ahí. Faltan %d caja/s.", CompradoresInfo[id][cNombre], 3 - CajasEntregadas[playerid]);
                SendClientMessage(playerid, -1, str_act);
                PlayerPlaySound(playerid, 2103, 0.0, 0.0, 0.0);
            }
            return 1;
        }
        else if(veh != INVALID_VEHICLE_ID && CajasCargadas[playerid] > 0) 
        {
            if(PI[playerid][pi_MANO_DER] != 0) return SendNotification(playerid, "Debes tener la mano vacía.");
            
            CajasCargadas[playerid]--; 
            ActualizarCajasVisuales(veh, CajasCargadas[playerid]);
            
            ApplyAnimation(playerid, "BOMBER", "BOM_Plant", 4.1, 0, 0, 0, 0, 0, 1);
            SetPlayerSpecialAction(playerid, SPECIAL_ACTION_CARRY); 
            SetPlayerAttachedObject(playerid, 9, 1271, 1, 0.09, 0.32, 0.0, 0.0, 90.0, 0.0, 0.45, 0.45, 0.45);
            SetPVarInt(playerid, "CargandoCaja", 1);
            return 1;
        }
    }

    // --- 2. SUBIR CAJA A LA CAMIONETA ---
    if(veh != INVALID_VEHICLE_ID && GetPVarInt(playerid, "CargandoCaja")) 
    {
        new model = GetVehicleModel(veh);
        if(model == 422 || model == 554 || model == 400 || model == 543 || model == 478) 
        {
            if(CajasCargadas[playerid] < 3) 
            {
                CajasCargadas[playerid]++;
                RemovePlayerAttachedObject(playerid, 9);
                SetPlayerSpecialAction(playerid, SPECIAL_ACTION_NONE);
                DeletePVar(playerid, "CargandoCaja");
                
                ActualizarCajasVisuales(veh, CajasCargadas[playerid]);

                new str_g[64];
                format(str_g, sizeof(str_g), "~w~Cajas: ~g~%d / 3", CajasCargadas[playerid]);
                GameTextForPlayer(playerid, str_g, 3000, 3);
                ApplyAnimation(playerid, "BOMBER", "BOM_Plant", 4.1, 0, 0, 0, 0, 0, 1);

                if(CajasCargadas[playerid] == 3) {
                    SetPlayerCheckpoint(playerid, CompradoresInfo[id][acX], CompradoresInfo[id][acY], CompradoresInfo[id][acZ], 3.5);
                    SendClientMessage(playerid, -1, "{3BF1B3}» {FFFFFF}¡Camioneta llena! Entrega la mercancía al comprador.");
                }
            }
        }
        else {
            SendClientMessage(playerid, -1, "{FF0000}ERROR: {FFFFFF}Este vehículo no es apto para el transporte de mercancía.");
        }
        return 1;
    }
    }




		new info[3];
		new Float:pos[3];
		Streamer_GetArrayData(STREAMER_TYPE_PICKUP, PLAYER_TEMP[playerid][pt_LAST_PICKUP_ID], E_STREAMER_EXTRA_ID, info);
		if(info[0] == PICKUP_TYPE_ATM)
		{
			Streamer_GetFloatData(STREAMER_TYPE_PICKUP, PLAYER_TEMP[playerid][pt_LAST_PICKUP_ID], E_STREAMER_X, pos[0]);
			Streamer_GetFloatData(STREAMER_TYPE_PICKUP, PLAYER_TEMP[playerid][pt_LAST_PICKUP_ID], E_STREAMER_Y, pos[1]);
			Streamer_GetFloatData(STREAMER_TYPE_PICKUP, PLAYER_TEMP[playerid][pt_LAST_PICKUP_ID], E_STREAMER_Z, pos[2]);

			if(IsPlayerInRangeOfPoint(playerid, 1.0, pos[0], pos[1], pos[2]))
			{
				PC_EmulateCommand(playerid, "/cajero");
				return 1;
			}
		}

		new indexx = GetPlayerFastFoodIndex(playerid);
		if(indexx != -10) return PC_EmulateCommand(playerid, "/pedir");

		if(PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] != -1 && ENTER_EXIT[ PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] ][ee_INTERIOR_TYPE] != INTERIOR_NO_INFO)
		{
			PLAYER_TEMP[playerid][pt_CLOTHING_SHOP] = GetClothingShopIndexByIntType(ENTER_EXIT[ PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] ][ee_INTERIOR_TYPE]);
			if(PLAYER_TEMP[playerid][pt_CLOTHING_SHOP] != -1)
			{
				if(IsPlayerInRangeOfPoint(playerid, 1.0, Clothing_Shop_Positions[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP]][clothing_shop_X], Clothing_Shop_Positions[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP]][clothing_shop_Y], Clothing_Shop_Positions[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP]][clothing_shop_Z]))
				{
					ShowDialog(playerid, DIALOG_CLOTHES);
					return 1;
				}
			}
		}

		/*if(IsPlayerInRangeOfPoint(playerid, 1.0, 2119.059814, -2001.701904, 7.984375))
		{
			PC_EmulateCommand(playerid, "/mercado");
			return 1;
		}*/
		
		if(IsPlayerInRangeOfPoint(playerid, 1.0, 1291.0656, -64.7352, 1002.4962))
		{
			PC_EmulateCommand(playerid, "/nuevo");
			return 1;
		}
		
		if(IsPlayerInRangeOfPoint(playerid, 1.0, 416.432952, 2539.632080, 10.000000))
		{
			PC_EmulateCommand(playerid, "/nvxx");
			return 1;
		}

		if(IsPlayerInRangeOfPoint(playerid, 1.0, 1599.1902, -2172.2930, 13.5779))
		{
			PC_EmulateCommand(playerid, "/kit");
			return 1;
		}


		if(IsPlayerInRangeOfPoint(playerid, 2, 191.352035, 1851.500244, 994.372619))
		{
			ShowDialog(playerid, DIALOG_CHANGE_NAME);
		}

		if(IsPlayerInRangeOfPoint(playerid, 2, 189.188522, 1853.751831, 994.372619))
		{
			ShowDialog(playerid, DIALOG_VIP_2_MAIN);
		}

		if(IsPlayerInRangeOfPoint(playerid, 1.0, 253.280288, 76.219017, 1003.640625) || IsPlayerInRangeOfPoint(playerid, 1.0, 266.547180, 119.652816, 1004.617187) || IsPlayerInRangeOfPoint(playerid, 1.0, 217.816406, 187.667922, 1003.031250))
		{
			if(!PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET]) return ShowPlayerMessage(playerid, "No eres policía.", 2);
			if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_NONE && PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_POLICE)
			{
				SendFormatNotification(playerid, "Tienes que dejar de estar de servicio como %s primero.", work_info[ PLAYER_TEMP[playerid][pt_WORKING_IN] ][work_info_NAME]);
				return 1;
			}

			if(!PLAYER_TEMP[playerid][pt_WORKING_IN]) ShowDialog(playerid, DIALOG_SELECT_POLICE_SKIN);
			else CallLocalFunction("EndPlayerJob", "iib", playerid, PLAYER_TEMP[playerid][pt_WORKING_IN], true);

			return 1;
		}
	}
	if (newkeys == KEY_FIRE)
	{
		if(PI[playerid][pi_LEVEL] == 1 && GetPlayerState(playerid) == PLAYER_STATE_ONFOOT && GetPlayerSpecialAction(playerid) == SPECIAL_ACTION_NONE) ApplyAnimation(playerid, "PED", "IDLE_tired", 4.1, false, false, false, false, 0,1), ShowDialog(playerid, DIALOG_USER_NEW);
	}
	
	if (newkeys == KEY_FIRE)
	{
		if(PI[playerid][pi_LEVEL] == 2 && GetPlayerState(playerid) == PLAYER_STATE_ONFOOT && GetPlayerSpecialAction(playerid) == SPECIAL_ACTION_NONE) ApplyAnimation(playerid, "PED", "IDLE_tired", 4.1, false, false, false, false, 0,1), ShowDialog(playerid, DIALOG_USER_NEW);
	}

	else if(newkeys & KEY_CROUCH)
	{
		if(PLAYER_TEMP[playerid][pt_GAME_STATE] == GAME_STATE_NORMAL)
		{
			if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER)
			{
				for(new i = 0; i != sizeof San_Andreas_Barriers; i ++)
				{
					if(IsPlayerInRangeOfPoint(playerid, San_Andreas_Barriers[i][barrier_DISTANCE], San_Andreas_Barriers[i][barrier_PLAYER_X], San_Andreas_Barriers[i][barrier_PLAYER_Y], San_Andreas_Barriers[i][barrier_PLAYER_Z]))
					{
						if(GetPlayerInterior(playerid) == San_Andreas_Barriers[i][barrier_INTERIOR] && GetPlayerVirtualWorld(playerid) == San_Andreas_Barriers[i][barrier_WORLD])
						{
							if(San_Andreas_Barriers[i][barrier_VEHICLE_TYPE] == VEHICLE_TYPE_WORK)
							{
								if(!PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET] && PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_POLICE)
								{
									if(San_Andreas_Barriers[i][barrier_VEHICLE_TYPE_IN2] != WORK_NONE)
									{
										if(!PLAYER_WORKS[playerid][ San_Andreas_Barriers[i][barrier_VEHICLE_TYPE_IN] ][pwork_SET] && !PLAYER_WORKS[playerid][ San_Andreas_Barriers[i][barrier_VEHICLE_TYPE_IN2] ][pwork_SET]) break;
									}
									else
									{
										if(!PLAYER_WORKS[playerid][ San_Andreas_Barriers[i][barrier_VEHICLE_TYPE_IN] ][pwork_SET]) break;
									}
								}
							}
							if(IsDynamicObjectMoving(San_Andreas_Barriers[i][barrier_OBJECT_ID]) && !San_Andreas_Barriers[i][barrier_CLOSING]) break;
							if(San_Andreas_Barriers[i][barrier_PRICE] > 0) {
								if(GivePlayerCash(playerid, -San_Andreas_Barriers[i][barrier_PRICE], false, true)) {
									SendFormatNotification(playerid, "Has pagado el peaje por ~g~$%s", number_format_thousand(San_Andreas_Barriers[i][barrier_PRICE]));
								}
								else {
									ShowPlayerMessage(playerid, "No tienes suficiente dinero para pagar el peaje.", 2);
									break;
								}
							}

							KillTimer(San_Andreas_Barriers[i][barrier_TIMER]);
							San_Andreas_Barriers[i][barrier_TIMER] = SetTimerEx("CloseBarrier", 5000, false, "i", i);
							MoveDynamicObject(San_Andreas_Barriers[i][barrier_OBJECT_ID], San_Andreas_Barriers[i][barrier_X], San_Andreas_Barriers[i][barrier_Y], San_Andreas_Barriers[i][barrier_Z] + 0.72967 + 0.01, 0.0065, 0.0, 0.0, San_Andreas_Barriers[i][barrier_ROTATION]);
							San_Andreas_Barriers[i][barrier_CLOSING] = false;
							break;
						}
						else break;
					}
				}
			}

			if(IsPlayerInDynamicArea(playerid, Farmer_Area))
			{
					PC_EmulateCommand(playerid, "/plantar");
					return 1;
			}

			if(PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET])
			{
				if(GetPlayerInterior(playerid) == 0 && GetPlayerVirtualWorld(playerid) == 0)
				{
					for(new i = 0; i != sizeof POLICE_GARAGE_DOORS; i ++)
					{
						if(IsPlayerInRangeOfPoint(playerid, 20.0, POLICE_GARAGE_DOORS[i][police_gdoor_CLOSED_X], POLICE_GARAGE_DOORS[i][police_gdoor_CLOSED_Y], POLICE_GARAGE_DOORS[i][police_gdoor_CLOSED_Z]))
						{
							if(IsDynamicObjectMoving(POLICE_GARAGE_DOORS[i][police_gdoor_OBJECT_ID]) && !POLICE_GARAGE_DOORS[i][police_gdoor_CLOSING]) break;

							KillTimer(POLICE_GARAGE_DOORS[i][police_gdoor_TIMER]);
							POLICE_GARAGE_DOORS[i][police_gdoor_TIMER] = SetTimerEx("ClosePoliceGarageDoor", 5000, false, "i", i);
							MoveDynamicObject(POLICE_GARAGE_DOORS[i][police_gdoor_OBJECT_ID], POLICE_GARAGE_DOORS[i][police_gdoor_OPENED_X], POLICE_GARAGE_DOORS[i][police_gdoor_OPENED_Y], POLICE_GARAGE_DOORS[i][police_gdoor_OPENED_Z], POLICE_GARAGE_DOORS[i][police_gdoor_MOVE_SPEED], POLICE_GARAGE_DOORS[i][police_gdoor_OPENED_RX], POLICE_GARAGE_DOORS[i][police_gdoor_OPENED_RY], POLICE_GARAGE_DOORS[i][police_gdoor_OPENED_RZ]);
							POLICE_GARAGE_DOORS[i][police_gdoor_CLOSING] = false;
							break;
						}
					}
				}
			}
		}
		return 1;
	}
	else if(newkeys & KEY_SECONDARY_ATTACK)
	{
		if(GetPlayerState(playerid) == PLAYER_STATE_ONFOOT)
		{
			if(PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET])
			{
				for(new i = 0; i != sizeof POLICE_DOORS; i ++)
				{
					if(GetPlayerInterior(playerid) != POLICE_DOORS[i][police_door_INTERIOR] || GetPlayerVirtualWorld(playerid) != POLICE_DOORS[i][police_door_WORLD]) continue;
					if(IsDynamicObjectMoving(POLICE_DOORS[i][police_door_OBJECT_ID]) || !POLICE_DOORS[i][police_door_CLOSED]) continue;

					new Float:pos[4];

					pos[0] = POLICE_DOORS[i][police_door_X] + (1.0 * floatsin(-POLICE_DOORS[i][police_door_RZ], degrees));
					pos[1] = POLICE_DOORS[i][police_door_Y] + (1.0 * floatcos(-POLICE_DOORS[i][police_door_RZ], degrees));
					pos[2] = POLICE_DOORS[i][police_door_X] + (-1.0 * floatsin(-POLICE_DOORS[i][police_door_RZ], degrees));
					pos[3] = POLICE_DOORS[i][police_door_Y] + (-1.0 * floatcos(-POLICE_DOORS[i][police_door_RZ], degrees));

					if(IsPlayerInRangeOfPoint(playerid, 1.8, pos[0], pos[1], POLICE_DOORS[i][police_door_Z]))
					{
						KillTimer(POLICE_DOORS[i][police_door_TIMER]);
						POLICE_DOORS[i][police_door_TIMER] = SetTimerEx("ClosePoliceDoor", 3000, false, "i", i);
						MoveDynamicObject(POLICE_DOORS[i][police_door_OBJECT_ID], POLICE_DOORS[i][police_door_X], POLICE_DOORS[i][police_door_Y], POLICE_DOORS[i][police_door_Z] + 0.01, 0.0125, 0.0, 0.0, POLICE_DOORS[i][police_door_RZ] - 85.0);
						POLICE_DOORS[i][police_door_CLOSED] = false;
						break;
					}
					else if(IsPlayerInRangeOfPoint(playerid, 1.8, pos[2], pos[3], POLICE_DOORS[i][police_door_Z]))
					{
						KillTimer(POLICE_DOORS[i][police_door_TIMER]);
						POLICE_DOORS[i][police_door_TIMER] = SetTimerEx("ClosePoliceDoor", 3000, false, "i", i);
						MoveDynamicObject(POLICE_DOORS[i][police_door_OBJECT_ID], POLICE_DOORS[i][police_door_X], POLICE_DOORS[i][police_door_Y], POLICE_DOORS[i][police_door_Z] + 0.01, 0.0125, 0.0, 0.0, POLICE_DOORS[i][police_door_RZ] + 85.0);
						POLICE_DOORS[i][police_door_CLOSED] = false;
						break;
					}
				}
			}
		}
		return 1;
	}
	
	else if(newkeys & KEY_YES) {
		switch(GetPlayerState(playerid)) {
			case PLAYER_STATE_ONFOOT: {
				if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return 1;
				if(PLAYER_TEMP[playerid][pt_LAST_PICKUP_ID] == 0) return 1;

				new info[3];
				new Float:pos[3];
				Streamer_GetArrayData(STREAMER_TYPE_PICKUP, PLAYER_TEMP[playerid][pt_LAST_PICKUP_ID], E_STREAMER_EXTRA_ID, info);
				if(info[0] == PICKUP_TYPE_NONE) return 1;

				Streamer_GetFloatData(STREAMER_TYPE_PICKUP, PLAYER_TEMP[playerid][pt_LAST_PICKUP_ID], E_STREAMER_X, pos[0]);
				Streamer_GetFloatData(STREAMER_TYPE_PICKUP, PLAYER_TEMP[playerid][pt_LAST_PICKUP_ID], E_STREAMER_Y, pos[1]);
				Streamer_GetFloatData(STREAMER_TYPE_PICKUP, PLAYER_TEMP[playerid][pt_LAST_PICKUP_ID], E_STREAMER_Z, pos[2]);

				if(!IsPlayerInRangeOfPoint(playerid, 1.5, pos[0], pos[1], pos[2])) return 1;

				switch(info[0])
				{
					case PICKUP_TYPE_ENTER_EXIT:
					{
						PLAYER_TEMP[playerid][pt_HOSPITAL] = GetNearestHospitalForPlayer(playerid);

						if(info[2] == 1) // Está en el Pickup Interior y quiere ir al exterior
						{
							PI[playerid][pi_STATE] = ROLEPLAY_STATE_NORMAL;
							PI[playerid][pi_LOCAL_INTERIOR] = 0;
							PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] = -1;
							SetPlayerPosEx(playerid, ENTER_EXIT[info[1]][ee_EXT_X], ENTER_EXIT[info[1]][ee_EXT_Y], ENTER_EXIT[info[1]][ee_EXT_Z], ENTER_EXIT[info[1]][ee_EXT_ANGLE], ENTER_EXIT[info[1]][ee_EXT_INTERIOR], ENTER_EXIT[info[1]][ee_EXT_WORLD], false /*ENTER_EXIT[info[1]][ee_EXT_FREEZE]*/);
							SetPlayerSpecialAction(playerid, SPECIAL_ACTION_NONE);
							StopAudioStreamForPlayer(playerid);
							FreezePlayer(playerid);
							CallLocalFunction("OnPlayerExitInterior", "ii", playerid, info[1]);
						}
						else if(info[2] == 2) // Está en el Pickup Exterior y quiere ir al interior
						{
							if(ENTER_EXIT[info[1]][ee_TIME_OPEN] == 0 && ENTER_EXIT[info[1]][ee_TIME_CLOSE] == 0) // 24 horas
							{
								PI[playerid][pi_STATE] = ROLEPLAY_STATE_INTERIOR;
								PI[playerid][pi_LOCAL_INTERIOR] = ENTER_EXIT[info[1]][ee_ID];
								PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] = info[1];
								SetPlayerPosEx(playerid, ENTER_EXIT[info[1]][ee_INT_X], ENTER_EXIT[info[1]][ee_INT_Y], ENTER_EXIT[info[1]][ee_INT_Z], ENTER_EXIT[info[1]][ee_INT_ANGLE], ENTER_EXIT[info[1]][ee_INT_INTERIOR], ENTER_EXIT[info[1]][ee_INT_WORLD], false /*ENTER_EXIT[info[1]][ee_INT_FREEZE]*/, true);
								FreezePlayer(playerid);
								CallLocalFunction("OnPlayerEnterInterior", "ii", playerid, info[1]);
							}
							else
							{
									PI[playerid][pi_STATE] = ROLEPLAY_STATE_INTERIOR;
									PI[playerid][pi_LOCAL_INTERIOR] = ENTER_EXIT[info[1]][ee_ID];
									PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] = info[1];
									SetPlayerPosEx(playerid, ENTER_EXIT[info[1]][ee_INT_X], ENTER_EXIT[info[1]][ee_INT_Y], ENTER_EXIT[info[1]][ee_INT_Z], ENTER_EXIT[info[1]][ee_INT_ANGLE], ENTER_EXIT[info[1]][ee_INT_INTERIOR], ENTER_EXIT[info[1]][ee_INT_WORLD], false /*ENTER_EXIT[info[1]][ee_INT_FREEZE]*/, true);
									FreezePlayer(playerid);
									CallLocalFunction("OnPlayerEnterInterior", "ii", playerid, info[1]);

							}
						}
						else return 1;
					}
					case PICKUP_TYPE_HQ:
					{

						PLAYER_TEMP[playerid][pt_HOSPITAL] = GetNearestHospitalForPlayer(playerid);

						if(info[2] == 1) // Esta en el Pickup Interior y quiere ir al exterior
						{
							new i = info[1];
							SetPlayerPosEx(playerid, Doors[i][dExterior][0], Doors[i][dExterior][1], Doors[i][dExterior][2] , Doors[i][dExterior][3] ,0, 0);
							PI[playerid][pi_STATE] = ROLEPLAY_STATE_NORMAL;
							PI[playerid][pi_LOCAL_INTERIOR] = 0;
							PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] = -1;
						}
						else if(info[2] == 2) // Esta en el Pickup Exterior y quiere ir al interior
						{
							if(PI[playerid][pi_CREW])
							{
								if(GetCrewIndexById(Doors[info[1]][dFaccion]) != PLAYER_TEMP[playerid][pt_CREW_INDEX] ) return SendNotification(playerid, "No perteneces a esta faccin");
								if(CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_TYPE] != crew_TYPE_FACCION) return SendNotification(playerid, "No pertenece a tu faccin");
								PI[playerid][pi_STATE] = ROLEPLAY_STATE_HQ;
								PI[playerid][pi_LOCAL_INTERIOR] = Doors[info[1]][dSQLID];
								PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] = info[1];

								new interiorid = Doors[info[1]][dInt];

								SetPlayerPosEx(playerid, EntradasHQ[interiorid][eX], EntradasHQ[interiorid][eY], EntradasHQ[interiorid][eZ], EntradasHQ[interiorid][eAngle] , EntradasHQ[interiorid][eInterior], info[1] + 50000);
							}

						}
						else return true;
					}
					case PICKUP_TYPE_PROPERTY:
					{
						PLAYER_TEMP[playerid][pt_HOSPITAL] = GetNearestHospitalForPlayer(playerid);

						if(info[2] == 1) // Está en el Pickup Interior y quiere ir al exterior
						{
							PI[playerid][pi_STATE] = ROLEPLAY_STATE_NORMAL;
							PI[playerid][pi_LOCAL_INTERIOR] = 0;
							PLAYER_TEMP[playerid][pt_PROPERTY_INDEX] = -1;
							SetPlayerPosEx(playerid, PROPERTY_INFO[info[1]][property_EXT_X], PROPERTY_INFO[info[1]][property_EXT_Y], PROPERTY_INFO[info[1]][property_EXT_Z], PROPERTY_INFO[info[1]][property_EXT_ANGLE], PROPERTY_INFO[info[1]][property_EXT_INTERIOR], 0, false /*PROPERTY_INFO[info[1]][property_EXT_FREEZE]*/, false);
							SetPlayerSpecialAction(playerid, SPECIAL_ACTION_NONE);
							StopAudioStreamForPlayer(playerid);
							FreezePlayer(playerid);
						}
						else if(info[2] == 2) // Está en el Pickup Exterior y quiere ir al interior
						{
							if(PROPERTY_INFO[info[1]][property_POLICE_FORCED] && (PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET] && PLAYER_TEMP[playerid][pt_WORKING_IN] == WORK_POLICE)) {
								new Float:z_pos = PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_Z];
								if(PROPERTY_INFO[info[1]][property_DIS_DEFAULT_INTERIOR]) z_pos += PROPERTY_EMPTY_INTERIOR_Z_OFFSET;
								SetPlayerPosEx(playerid, PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_X], PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_Y], z_pos, PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_ANGLE], PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_INTERIOR], PROPERTY_INFO[info[1]][property_ID], false /*PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_FREEZE]*/, true);
								FreezePlayer(playerid);
								return 1;
							}
				            if(!PROPERTY_INFO[info[1]][property_SOLD]) return ShowPlayerMessage(playerid, "Esta propiedad está en venta.", 2);

				            if(PROPERTY_INFO[info[1]][property_EXTRA1] == 0)
							if(PROPERTY_INFO[info[1]][property_CREW])
							{
								if(!PI[playerid][pi_CREW]) return SendFormatNotification(playerid, "Solo miembros de la banda pueden entrar.");
								if(PI[playerid][pi_CREW] != PROPERTY_INFO[info[1]][property_CREW_ID]) return SendFormatNotification(playerid, "Solo miembros de la banda pueden entrar.");

								PI[playerid][pi_STATE] = ROLEPLAY_STATE_GUEST_PROPERTY;
								PI[playerid][pi_LOCAL_INTERIOR] = PROPERTY_INFO[info[1]][property_ID];
								PLAYER_TEMP[playerid][pt_PROPERTY_INDEX] = info[1];

								new Float:z_pos = PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_Z];
								if(PROPERTY_INFO[info[1]][property_DIS_DEFAULT_INTERIOR]) z_pos += PROPERTY_EMPTY_INTERIOR_Z_OFFSET;
								SetPlayerPosEx(playerid, PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_X], PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_Y], z_pos, PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_ANGLE], PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_INTERIOR], PROPERTY_INFO[info[1]][property_ID], false /*PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_FREEZE]*/, true);
								FreezePlayer(playerid);
							}
							else
							{
								if(PROPERTY_INFO[info[1]][property_OWNER_ID] == PI[playerid][pi_ID])
								{
									PI[playerid][pi_STATE] = ROLEPLAY_STATE_OWN_PROPERTY;
									PI[playerid][pi_LOCAL_INTERIOR] = PROPERTY_INFO[info[1]][property_ID];
									PLAYER_TEMP[playerid][pt_PROPERTY_INDEX] = info[1];

									new Float:z_pos = PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_Z];
									if(PROPERTY_INFO[info[1]][property_DIS_DEFAULT_INTERIOR]) z_pos += PROPERTY_EMPTY_INTERIOR_Z_OFFSET;
									SetPlayerPosEx(playerid, PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_X], PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_Y], z_pos, PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_ANGLE], PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_INTERIOR], PROPERTY_INFO[info[1]][property_ID], false /*PROPERTY_INTERIORS[ PROPERTY_INFO[info[1]][property_ID_INTERIOR] ][property_INT_FREEZE]*/, true);
									FreezePlayer(playerid);
								}
								else
								{
									if(gettime() < PLAYER_TEMP[playerid][pt_ANTIFLOOD_KNOCK_PROPERTY] + 10) return SendNotification(playerid, "Espera para volver a tocar, si no te quieren abrir, vete.");

									new owner_playerid = GetOwnerIntProperty(PROPERTY_INFO[info[1]][property_ID]);
									if(owner_playerid == -1) return SendNotification(playerid, "Esta no es tu propiedad y el dueño no está dentro para dejarte entrar.");

									PLAYER_TEMP[playerid][pt_ANTIFLOOD_KNOCK_PROPERTY] = gettime();
									PLAYER_TEMP[owner_playerid][pt_KNOCK_PLAYER_ID] = playerid;
									SendFormatNotification(owner_playerid, "~b~%s ~w~está tocando la puerta, para dejarle entrar ve a la puerta y usa ~b~/puerta~w~.", PLAYER_TEMP[playerid][pt_RP_NAME]);
									SendNotification(playerid, "Has tocado en la puerta, espera para que te abran o vete.");
								}
							}
						}
						else return 1;
					}
					default: return 1;
				}
			}
		}
	}
	return 1;
}

stock CountPolicesOnDutyX()
{
	new count = 0;
	foreach (new i : Player)
	{
		if (IsPlayerConnected(i))
		{
			if (PLAYER_TEMP[i][pt_GAME_STATE] == GAME_STATE_NORMAL)
			{
				if (PLAYER_WORKS[i][WORK_POLICE][pwork_SET] && PLAYER_TEMP[i][pt_WORKING_IN] == WORK_POLICE)
				{
					count ++;
				}
			}
		}
	}
	return count;
}

stock CountMedicsOnDuty()
{
	new count = 0;
	foreach (new i : Player)
	{
		if (IsPlayerConnected(i))
		{
			if (PLAYER_TEMP[i][pt_GAME_STATE] == GAME_STATE_NORMAL)
			{
				if (PLAYER_WORKS[i][WORK_MEDIC][pwork_SET] && PLAYER_TEMP[i][pt_WORKING_IN] == WORK_MEDIC)
				{
					count ++;
				}
			}
		}
	}
	return count;
}

stock BugTimeOut(playerid)
{
PlayerBugged[playerid]=0;
}

stock IsBugWeapon(playerid)
{
new weaponid = GetPlayerWeapon(playerid);
switch(weaponid){
case 24,25,27,34: return true;}
return false;
}

forward ClosePoliceDoor(i);
public ClosePoliceDoor(i)
{
	POLICE_DOORS[i][police_door_CLOSED] = true;
	MoveDynamicObject(POLICE_DOORS[i][police_door_OBJECT_ID], POLICE_DOORS[i][police_door_X], POLICE_DOORS[i][police_door_Y], POLICE_DOORS[i][police_door_Z], 0.0125, 0.0, 0.0, POLICE_DOORS[i][police_door_RZ]);
	return 1;
}

forward ClosePoliceGarageDoor(index);
public ClosePoliceGarageDoor(index)
{
	POLICE_GARAGE_DOORS[index][police_gdoor_CLOSING] = true;
	MoveDynamicObject(POLICE_GARAGE_DOORS[index][police_gdoor_OBJECT_ID], POLICE_GARAGE_DOORS[index][police_gdoor_CLOSED_X], POLICE_GARAGE_DOORS[index][police_gdoor_CLOSED_Y], POLICE_GARAGE_DOORS[index][police_gdoor_CLOSED_Z], POLICE_GARAGE_DOORS[index][police_gdoor_MOVE_SPEED], POLICE_GARAGE_DOORS[index][police_gdoor_CLOSED_RX], POLICE_GARAGE_DOORS[index][police_gdoor_CLOSED_RY], POLICE_GARAGE_DOORS[index][police_gdoor_CLOSED_RZ]);
	return 1;
}

forward CloseBarrier(i);
public CloseBarrier(i)
{
	San_Andreas_Barriers[i][barrier_CLOSING] = true;
	MoveDynamicObject(San_Andreas_Barriers[i][barrier_OBJECT_ID], San_Andreas_Barriers[i][barrier_X], San_Andreas_Barriers[i][barrier_Y], San_Andreas_Barriers[i][barrier_Z] + 0.72967, 0.0065, 0.0, -90.0, San_Andreas_Barriers[i][barrier_ROTATION]);
	return 1;
}

stock ActualizarPosObject(playerid)
{
	ToyEditorTD[playerid][f_Item_Pos][0] = PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_OFFSET_X];
	ToyEditorTD[playerid][f_Item_Pos][1] = PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_OFFSET_Y];
	ToyEditorTD[playerid][f_Item_Pos][2] = PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_OFFSET_Z];
	ToyEditorTD[playerid][f_Item_Esc][0] = PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_SCALE_X];
	ToyEditorTD[playerid][f_Item_Esc][1] = PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_SCALE_Y];
	ToyEditorTD[playerid][f_Item_Esc][2] = PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_SCALE_Z];
	return 1;
}

stock SaveAndroidObject(playerid)
{
	PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_OFFSET_X] = ToyEditorTD[playerid][f_Item_Pos][0];
	PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_OFFSET_Y] = ToyEditorTD[playerid][f_Item_Pos][1];
	PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_OFFSET_Z] = ToyEditorTD[playerid][f_Item_Pos][2];
	PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_SCALE_X]  = ToyEditorTD[playerid][f_Item_Esc][0];
	PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_SCALE_Y]  = ToyEditorTD[playerid][f_Item_Esc][1];
	PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_SCALE_Z]  = ToyEditorTD[playerid][f_Item_Esc][2];
	RemovePlayerAttachedObject(playerid, PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT]);
	SetPlayerAttachedObject
	(
		playerid,
		PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT],
		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_MODELID],
		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_BONE],
		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_OFFSET_X],
		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_OFFSET_Y],
		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_OFFSET_Z],
		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_ROT_X],
		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_ROT_Y],
		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_ROT_Z],
		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_SCALE_X],
		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_SCALE_Y],
		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_SCALE_Z],
		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_COLOR_1],
		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_COLOR_2]
	);
	SendFormatNotification(playerid, "Accesorio ~b~'%s' ~w~actualizado.", PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_NAME]);
	return 1;
}

stock RestartObjectAndroid(playerid)
{
	RemovePlayerAttachedObject(playerid, PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT]);
	SetPlayerAttachedObject
	(
		playerid,
		PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT],
		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_MODELID],
		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_BONE],
		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_OFFSET_X],
		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_OFFSET_Y],
		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_OFFSET_Z],
		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_ROT_X],
		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_ROT_Y],
		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_ROT_Z],
		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_SCALE_X],
		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_SCALE_Y],
		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_SCALE_Z],
		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_COLOR_1],
		PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_COLOR_2]
	);
	SendFormatNotification(playerid, "Has cancelado la edicion del accesorio ~b~'%s'", PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_NAME]);
	return 1;
}

stock EditAndroidObject(playerid, const bool:tipo) //tipo = false Restar | = true Sumar
{
	if(tipo)
	{
		switch(ToyEditorTD[playerid][i_Button_Select])
		{
			case 0: ToyEditorTD[playerid][f_Item_Pos][0] += 0.01;
			case 1: ToyEditorTD[playerid][f_Item_Pos][1] += 0.01;
			case 2: ToyEditorTD[playerid][f_Item_Pos][2] += 0.01;
			case 3:
			{
				ToyEditorTD[playerid][f_Item_Esc][0] += 0.1;
				ToyEditorTD[playerid][f_Item_Esc][1] += 0.1;
				ToyEditorTD[playerid][f_Item_Esc][2] += 0.1;
			}
		}
	}
	else
	{
		switch(ToyEditorTD[playerid][i_Button_Select])
		{
			case 0: ToyEditorTD[playerid][f_Item_Pos][0] -= 0.01;
			case 1: ToyEditorTD[playerid][f_Item_Pos][1] -= 0.01;
			case 2: ToyEditorTD[playerid][f_Item_Pos][2] -= 0.01;
			case 3:
			{
				ToyEditorTD[playerid][f_Item_Esc][0] -= 0.1;
				ToyEditorTD[playerid][f_Item_Esc][1] -= 0.1;
				ToyEditorTD[playerid][f_Item_Esc][2] -= 0.1;
			}
		}
	}
	RemovePlayerAttachedObject(playerid, PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT]);
	SetPlayerAttachedObject
				(
					playerid,
					PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT],
					PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_MODELID],
					PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_BONE],
					ToyEditorTD[playerid][f_Item_Pos][0],
					ToyEditorTD[playerid][f_Item_Pos][1],
					ToyEditorTD[playerid][f_Item_Pos][2],
					PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_ROT_X],
					PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_ROT_Y],
					PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_ROT_Z],
					ToyEditorTD[playerid][f_Item_Esc][0],
					ToyEditorTD[playerid][f_Item_Esc][1],
					ToyEditorTD[playerid][f_Item_Esc][2],
					PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_COLOR_1],
					PLAYER_TOYS[playerid][ PLAYER_TEMP[playerid][pt_SELECTED_TOY_SLOT] ][player_toy_COLOR_2]
				);
	return 1;
}

public OnPlayerUpdate(playerid)
{
	CheckRadar(playerid);
	
	new tiempo_actual = gettime();
    new dif_pausa = tiempo_actual - UltimoPaquete[playerid];

    if(dif_pausa > 2) 
    {
        /*if(!PLAYER_TEMP[playerid][pt_USER_LOGGED]) return 1;
        if(GetPlayerState(playerid) != PLAYER_STATE_ONFOOT) return 1;
        PLAYER_AC_INFO[playerid][CHEAT_POS][p_ac_info_IMMUNITY] = gettime() + 3;
	    PLAYER_AC_INFO[playerid][CHEAT_STATE_SPAMMER][p_ac_info_IMMUNITY] = gettime() + 3;
    	PLAYER_AC_INFO[playerid][CHEAT_UNOCCUPIED_VEHICLE_TP][p_ac_info_IMMUNITY] = gettime() + 5;
        // 1. RESTAURAR POSICIÓN (Lo regresamos a donde estaba antes de pausar)
        SetPlayerPos(playerid, PosAntesAFK_X[playerid], PosAntesAFK_Y[playerid], PosAntesAFK_Z[playerid]);
        
        // Actualizamos las variables de tu Anti-Cheat para que coincidan
        PI[playerid][pi_POS_X] = PosAntesAFK_X[playerid];
        PI[playerid][pi_POS_Y] = PosAntesAFK_Y[playerid];
        PI[playerid][pi_POS_Z] = PosAntesAFK_Z[playerid];

        printf("DEBUG: %d regresó. Posición y Vida restauradas al estado pre-AFK.", playerid);*/
        UltimoPaquete[playerid] = tiempo_actual;
        return 1; // Saltamos el Anti-Cheat este frame
    }

    UltimoPaquete[playerid] = tiempo_actual;
    
    new estado = GetPlayerState(playerid);

    // PLAYER_STATE_ONFOOT es cuando camina, pero SA-MP detecta el nado aquí
    if(estado == PLAYER_STATE_ONFOOT)
    {
        // 1. Verificamos si la animación actual es de nado
        new anim = GetPlayerAnimationIndex(playerid);
        
        // IDs de animaciones de nado: 1543 (nado lento), 1544 (nado rápido)
        if(anim == 1543 || anim == 1544)
        {
            SegundosNadando[playerid]++;

            // 15 minutos son 900 segundos (15 * 60)
            if(SegundosNadando[playerid] == 900)
            {
                OtorgarLogro(playerid, 22); // ID 22: Nadador
            }
        }
        else // Si deja de nadar, podemos resetearlo o dejarlo que acumule
        {
            // Si quieres que sean 15 minutos SEGUIDOS, activa la siguiente línea:
            // SegundosNadando[playerid] = 0; 
        }
    }
    
    if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER)
    {
        new vehid = GetPlayerVehicleID(playerid);
        new velocidad = GetVehicleSpeed(vehid);

        // Si la velocidad es mayor o igual a 200 km/h
        if(velocidad >= 200)
        {
            // Verificamos que no tenga el logro ya (para no saturar)
            if(LogrosJugador[playerid][7] == 0)
            {
                OtorgarLogro(playerid, 7); // ID 13: Velocidad Extrema
                // No es necesario GuardarLogros aquí si ya lo tienes en el OnPlayerDisconnect
            }
        }
    }

    if(GetPlayerState(playerid) == PLAYER_STATE_ONFOOT)
    {
        new Float:x, Float:y, Float:z;
        GetPlayerPos(playerid, x, y, z);
        
        // Calculamos la distancia entre la posición actual y la del segundo pasado
        new Float:dist = VectorSize(x - UltimaPos[playerid][0], y - UltimaPos[playerid][1], z - UltimaPos[playerid][2]);
        
        // Si se movió entre 0.1 y 15 metros (Anticheat para teleports)
        if(dist > 0.1 && dist < 15.0) 
        {
            PI[playerid][pi_DISTANCIA_PIE] += dist;

            // 10,000 metros = 10 Kilómetros
            if(PI[playerid][pi_DISTANCIA_PIE] >= 10000.0 && LogrosJugador[playerid][21] == 0)
            {
                OtorgarLogro(playerid, 21); // ID 21: Atleta
            }
        }
        
        // Actualizamos la "última posición" para el siguiente ciclo
        UltimaPos[playerid][0] = x;
        UltimaPos[playerid][1] = y;
        UltimaPos[playerid][2] = z;
    }
    
	if(cargadoTmp[playerid][esCargado])
	{
		if(IsPlayerConnected(cargadoTmp[playerid][cargadoPor]))
		{
			new Float:pos[3];
			GetPlayerPos(cargadoTmp[playerid][cargadoPor], pos[0], pos[1], pos[2]);
			SetPlayerPos(playerid, pos[0], pos[1], pos[2]+1.0);
		}	
	}
	
    PLAYER_TEMP[playerid][pt_TIME_PAUSE] = gettime();
    
	
	if(PLAYER_TEMP[playerid][pt_NIEVE_ACTION] ==1)
	{
		new Float:sx, Float:sy, Float:sz;
		GetPlayerCameraPos(playerid,sx,sy,sz);
		MovePlayerObject(playerid,PLAYER_TEMP[playerid][pt_NIEVE],sx,sy,sz-5,9999.0);
	}
	
	if(PLAYER_TEMP[playerid][pt_KICKED] || PLAYER_TEMP[playerid][pt_GAME_STATE] != GAME_STATE_NORMAL || PI[playerid][pi_ID] <= 0 || PI[playerid][pi_LEVEL] <= 0) return 0;

	new player_state = GetPlayerState(playerid);
	if(player_state == PLAYER_STATE_SPAWNED || player_state == PLAYER_STATE_SPECTATING) return 1;

	new player_action = GetPlayerSpecialAction(playerid), Float:player_health, Float:player_armour, player_weapon = GetPlayerWeapon(playerid), current_gettime = gettime();
	GetPlayerHealth(playerid, player_health);
	GetPlayerArmour(playerid, player_armour);
	if(player_weapon) 
    {
        if(current_gettime > PLAYER_AC_INFO[playerid][CHEAT_WEAPON][p_ac_info_IMMUNITY])
        {
            CheckWeaponAndAmmo(playerid, player_weapon);
        }
    }

	if(ac_Info[CHEAT_PLAYER_HEALTH][ac_Enabled])
	{
		if(player_health > PI[playerid][pi_HEALTH] + 5.0)
		{
			if(current_gettime > PLAYER_AC_INFO[playerid][CHEAT_PLAYER_HEALTH][p_ac_info_IMMUNITY])
			{
				if(!ac_Info[CHEAT_PLAYER_HEALTH][ac_Interval]) OnPlayerCheatDetected(playerid, CHEAT_PLAYER_HEALTH);
				else
				{
					if(current_gettime - PLAYER_AC_INFO[playerid][CHEAT_PLAYER_HEALTH][p_ac_info_LAST_DETECTION] > ac_Info[CHEAT_PLAYER_HEALTH][ac_Interval]) PLAYER_AC_INFO[playerid][CHEAT_PLAYER_HEALTH][p_ac_info_DETECTIONS] = 0;
					else PLAYER_AC_INFO[playerid][CHEAT_PLAYER_HEALTH][p_ac_info_DETECTIONS] ++;
					
					PLAYER_AC_INFO[playerid][CHEAT_PLAYER_HEALTH][p_ac_info_LAST_DETECTION] = current_gettime;
					if(PLAYER_AC_INFO[playerid][CHEAT_PLAYER_HEALTH][p_ac_info_DETECTIONS] >= ac_Info[CHEAT_PLAYER_HEALTH][ac_Detections]) OnPlayerCheatDetected(playerid, CHEAT_PLAYER_HEALTH);
				}
			}
		}
	}
	
	if(ac_Info[CHEAT_PLAYER_ARMOUR][ac_Enabled])
	{
		if(player_armour > PI[playerid][pi_ARMOUR] + 5.0)
		{
			if(current_gettime > PLAYER_AC_INFO[playerid][CHEAT_PLAYER_ARMOUR][p_ac_info_IMMUNITY])
			{
				if(!ac_Info[CHEAT_PLAYER_ARMOUR][ac_Interval]) OnPlayerCheatDetected(playerid, CHEAT_PLAYER_ARMOUR);
				else
				{
					if(current_gettime - PLAYER_AC_INFO[playerid][CHEAT_PLAYER_ARMOUR][p_ac_info_LAST_DETECTION] > ac_Info[CHEAT_PLAYER_ARMOUR][ac_Interval]) PLAYER_AC_INFO[playerid][CHEAT_PLAYER_ARMOUR][p_ac_info_DETECTIONS] = 0;
					else PLAYER_AC_INFO[playerid][CHEAT_PLAYER_ARMOUR][p_ac_info_DETECTIONS] ++;
					
					PLAYER_AC_INFO[playerid][CHEAT_PLAYER_ARMOUR][p_ac_info_LAST_DETECTION] = current_gettime;
					if(PLAYER_AC_INFO[playerid][CHEAT_PLAYER_ARMOUR][p_ac_info_DETECTIONS] >= ac_Info[CHEAT_PLAYER_ARMOUR][ac_Detections]) OnPlayerCheatDetected(playerid, CHEAT_PLAYER_ARMOUR);
				}
			}
		}
	}

	if(ac_Info[CHEAT_JETPACK][ac_Enabled])
	{
		if(player_action == SPECIAL_ACTION_USEJETPACK)
		{
			if(current_gettime > PLAYER_AC_INFO[playerid][CHEAT_JETPACK][p_ac_info_IMMUNITY])
			{
				if(!ac_Info[CHEAT_JETPACK][ac_Interval]) OnPlayerCheatDetected(playerid, CHEAT_JETPACK);
				else
				{
					if(current_gettime - PLAYER_AC_INFO[playerid][CHEAT_JETPACK][p_ac_info_LAST_DETECTION] > ac_Info[CHEAT_JETPACK][ac_Interval]) PLAYER_AC_INFO[playerid][CHEAT_JETPACK][p_ac_info_DETECTIONS] = 0;
					else PLAYER_AC_INFO[playerid][CHEAT_JETPACK][p_ac_info_DETECTIONS] ++;

					PLAYER_AC_INFO[playerid][CHEAT_JETPACK][p_ac_info_LAST_DETECTION] = current_gettime;
					if(PLAYER_AC_INFO[playerid][CHEAT_JETPACK][p_ac_info_DETECTIONS] >= ac_Info[CHEAT_JETPACK][ac_Detections]) OnPlayerCheatDetected(playerid, CHEAT_JETPACK);
				}
			}
		}
	}

	new Float:dis, Float:vehicle_health, vehicleid = GetPlayerVehicleID(playerid);
	if(!vehicleid) dis = GetPlayerDistanceFromPoint(playerid, PI[playerid][pi_POS_X], PI[playerid][pi_POS_Y], PI[playerid][pi_POS_Z]);
	else
	{
		dis = GetVehicleDistanceFromPoint(vehicleid, GLOBAL_VEHICLES[vehicleid][gb_vehicle_POS][0], GLOBAL_VEHICLES[vehicleid][gb_vehicle_POS][1], GLOBAL_VEHICLES[vehicleid][gb_vehicle_POS][2]);
		GetVehicleHealth(vehicleid, vehicle_health);
	}

	if(ac_Info[CHEAT_UNOCCUPIED_VEHICLE_TP][ac_Enabled] && vehicleid && player_state == PLAYER_STATE_PASSENGER)
	{
		if(floatabs(dis) > 20.0)
		{
			if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_DRIVER] == INVALID_PLAYER_ID)
			{
				GLOBAL_VEHICLES[vehicleid][gb_vehicle_TP_IMMUNITY] = current_gettime + 5;
			}
		}
	}

	if (ac_Info[CHEAT_HIGH_POS][ac_Enabled])
	{
		if (current_gettime > PLAYER_AC_INFO[playerid][CHEAT_POS][p_ac_info_IMMUNITY])
		{
			if (floatabs(dis) > 80.0 && PI[playerid][pi_POS_Z] > -97.0)
			{
				if (player_state != PLAYER_STATE_PASSENGER)
				{
					if (!ac_Info[CHEAT_HIGH_POS][ac_Interval]) OnPlayerCheatDetected(playerid, CHEAT_HIGH_POS, dis);
					else
					{
						if (current_gettime - PLAYER_AC_INFO[playerid][CHEAT_HIGH_POS][p_ac_info_LAST_DETECTION] > ac_Info[CHEAT_HIGH_POS][ac_Interval]) PLAYER_AC_INFO[playerid][CHEAT_HIGH_POS][p_ac_info_DETECTIONS] = 0;
						else PLAYER_AC_INFO[playerid][CHEAT_HIGH_POS][p_ac_info_DETECTIONS] ++;
						
						PLAYER_AC_INFO[playerid][CHEAT_HIGH_POS][p_ac_info_LAST_DETECTION] = current_gettime;
						if (PLAYER_AC_INFO[playerid][CHEAT_HIGH_POS][p_ac_info_DETECTIONS] >= ac_Info[CHEAT_HIGH_POS][ac_Detections]) OnPlayerCheatDetected(playerid, CHEAT_HIGH_POS, dis);
					}
				}
			}
		}
	}

	switch(player_state)
	{
		case PLAYER_STATE_ONFOOT:
		{
			if (ac_Info[CHEAT_PLAYER_SPEED][ac_Enabled])
			{
				if (current_gettime > PLAYER_AC_INFO[playerid][CHEAT_PLAYER_SPEED][p_ac_info_IMMUNITY])
				{
					new speed = GetPlayerSpeed(playerid);
					if (speed > 200)
					{
						if (!ac_Info[CHEAT_PLAYER_SPEED][ac_Interval]) OnPlayerCheatDetected(playerid, CHEAT_PLAYER_SPEED, speed);
						else
						{
							if (current_gettime - PLAYER_AC_INFO[playerid][CHEAT_PLAYER_SPEED][p_ac_info_LAST_DETECTION] > ac_Info[CHEAT_PLAYER_SPEED][ac_Interval]) PLAYER_AC_INFO[playerid][CHEAT_PLAYER_SPEED][p_ac_info_DETECTIONS] = 0;
							else PLAYER_AC_INFO[playerid][CHEAT_PLAYER_SPEED][p_ac_info_DETECTIONS] ++;
							
							PLAYER_AC_INFO[playerid][CHEAT_PLAYER_SPEED][p_ac_info_LAST_DETECTION] = current_gettime;
							if (PLAYER_AC_INFO[playerid][CHEAT_PLAYER_SPEED][p_ac_info_DETECTIONS] >= ac_Info[CHEAT_PLAYER_SPEED][ac_Detections]) OnPlayerCheatDetected(playerid, CHEAT_PLAYER_SPEED, speed);
						}
					}
				}
			}
			
			if (ac_Info[CHEAT_POS][ac_Enabled])
			{
				if (current_gettime > PLAYER_AC_INFO[playerid][CHEAT_POS][p_ac_info_IMMUNITY])
				{
					if (GetPlayerSurfingVehicleID(playerid) == INVALID_VEHICLE_ID && GetPlayerSurfingObjectID(playerid) == INVALID_OBJECT_ID && player_action != SPECIAL_ACTION_ENTER_VEHICLE && player_action != SPECIAL_ACTION_EXIT_VEHICLE)
					{
						if (floatabs(dis) > 6.0 && PI[playerid][pi_POS_Z] > -97.0)
						{
							if (!ac_Info[CHEAT_POS][ac_Interval]) OnPlayerCheatDetected(playerid, CHEAT_POS, dis);
							else
							{
								if (current_gettime - PLAYER_AC_INFO[playerid][CHEAT_POS][p_ac_info_LAST_DETECTION] > ac_Info[CHEAT_POS][ac_Interval]) PLAYER_AC_INFO[playerid][CHEAT_POS][p_ac_info_DETECTIONS] = 0;
								else PLAYER_AC_INFO[playerid][CHEAT_POS][p_ac_info_DETECTIONS] ++;
								
								PLAYER_AC_INFO[playerid][CHEAT_POS][p_ac_info_LAST_DETECTION] = current_gettime;
								if (PLAYER_AC_INFO[playerid][CHEAT_POS][p_ac_info_DETECTIONS] >= ac_Info[CHEAT_POS][ac_Detections]) OnPlayerCheatDetected(playerid, CHEAT_POS, dis);
							}
						}
					}
				}
			}
		}
		case PLAYER_STATE_DRIVER:
		{	
			
			new Float:vspeed = GetVehicleSpeed(vehicleid);

			if(!GLOBAL_VEHICLES[GetPlayerVehicleID(playerid)][gb_vehicle_PARAMS_ENGINE])
			{
				if(!PLAYER_TEMP[playerid][pt_MESSAGE_ENGINE])
				{
					PLAYER_TEMP[playerid][pt_MESSAGE_ENGINE] = 1;
				}

				//SetVehicleVelocity(vehicleid, 0.0, 0.0, 0.0);
			}
			
			if(ac_Info[CHEAT_VEHICLE_SPEED_HACK][ac_Enabled])
{
    if(current_gettime > PLAYER_AC_INFO[playerid][CHEAT_VEHICLE_SPEED_HACK][p_ac_info_IMMUNITY])
    {
        // 1. Límite base para TODOS (autos sin mejora, de trabajo, etc.)
        new Float:MaxSpeedLimit = 1000.0; 

        new vehid = GetPlayerVehicleID(playerid);
        
        // 2. Solo si es conductor de un vehiculo válido subimos el límite
        if(vehid != 0 && GetPlayerState(playerid) == PLAYER_STATE_DRIVER)
        {
            if(PLAYER_VEHICLES[vehid][player_vehicle_VALID])
            {
                new nivel = PLAYER_VEHICLES[vehid][player_vehicle_MOTOR_NIVEL];
                
                // Ajustamos el límite según el nivel de motor
                switch(nivel)
                {
                    case 1: MaxSpeedLimit = 1150.0; // +15% de margen
                    case 2: MaxSpeedLimit = 1350.0; // +35% de margen
                    case 3: MaxSpeedLimit = 1600.0; // +60% de margen
                }
            }
        }

        // 3. Verificación final (si no tiene mejora, usa los 1000.0)
        if(vspeed > MaxSpeedLimit)
        {
            if(!ac_Info[CHEAT_VEHICLE_SPEED_HACK][ac_Interval]) OnPlayerCheatDetected(playerid, CHEAT_VEHICLE_SPEED_HACK);
            else
            {
                if(current_gettime - PLAYER_AC_INFO[playerid][CHEAT_VEHICLE_SPEED_HACK][p_ac_info_LAST_DETECTION] > ac_Info[CHEAT_VEHICLE_SPEED_HACK][ac_Interval]) PLAYER_AC_INFO[playerid][CHEAT_VEHICLE_SPEED_HACK][p_ac_info_DETECTIONS] = 0;
                else PLAYER_AC_INFO[playerid][CHEAT_VEHICLE_SPEED_HACK][p_ac_info_DETECTIONS] ++;
                
                PLAYER_AC_INFO[playerid][CHEAT_VEHICLE_SPEED_HACK][p_ac_info_LAST_DETECTION] = current_gettime;
                if(PLAYER_AC_INFO[playerid][CHEAT_VEHICLE_SPEED_HACK][p_ac_info_DETECTIONS] >= ac_Info[CHEAT_VEHICLE_SPEED_HACK][ac_Detections]) OnPlayerCheatDetected(playerid, CHEAT_VEHICLE_SPEED_HACK);
            }
        }
    }
}


			if(ac_Info[CHEAT_VEHICLE_HEALTH][ac_Enabled])
			{
				if(vehicle_health > (GLOBAL_VEHICLES[vehicleid][gb_vehicle_HEALTH] + 20.0))
				{
					if(current_gettime > PLAYER_AC_INFO[playerid][CHEAT_VEHICLE_HEALTH][p_ac_info_IMMUNITY])
					{						
						if(!ac_Info[CHEAT_VEHICLE_HEALTH][ac_Interval]) OnPlayerCheatDetected(playerid, CHEAT_VEHICLE_HEALTH, (GLOBAL_VEHICLES[vehicleid][gb_vehicle_HEALTH] + 5.0) - vehicle_health);
						else
						{
							if(current_gettime - PLAYER_AC_INFO[playerid][CHEAT_VEHICLE_HEALTH][p_ac_info_LAST_DETECTION] > ac_Info[CHEAT_VEHICLE_HEALTH][ac_Interval]) PLAYER_AC_INFO[playerid][CHEAT_VEHICLE_HEALTH][p_ac_info_DETECTIONS] = 0;
							else PLAYER_AC_INFO[playerid][CHEAT_VEHICLE_HEALTH][p_ac_info_DETECTIONS] ++;
							
							PLAYER_AC_INFO[playerid][CHEAT_VEHICLE_HEALTH][p_ac_info_LAST_DETECTION] = current_gettime;
							if(PLAYER_AC_INFO[playerid][CHEAT_VEHICLE_HEALTH][p_ac_info_DETECTIONS] >= ac_Info[CHEAT_VEHICLE_HEALTH][ac_Detections]) OnPlayerCheatDetected(playerid, CHEAT_VEHICLE_HEALTH);
						}
					}
				}
			}

			if(ac_Info[CHEAT_POS][ac_Enabled])
			{
				if(current_gettime > PLAYER_AC_INFO[playerid][CHEAT_POS][p_ac_info_IMMUNITY])
				{
					if(vspeed < 20.0 && floatabs(dis) >= 10.0 && GLOBAL_VEHICLES[vehicleid][gb_vehicle_POS][2] > -97.0)
					{
						if(!ac_Info[CHEAT_POS][ac_Interval]) OnPlayerCheatDetected(playerid, CHEAT_POS, dis);
						else
						{
							if(current_gettime - PLAYER_AC_INFO[playerid][CHEAT_POS][p_ac_info_LAST_DETECTION] > ac_Info[CHEAT_POS][ac_Interval]) PLAYER_AC_INFO[playerid][CHEAT_POS][p_ac_info_DETECTIONS] = 0;
							else PLAYER_AC_INFO[playerid][CHEAT_POS][p_ac_info_DETECTIONS] ++;
							
							PLAYER_AC_INFO[playerid][CHEAT_POS][p_ac_info_LAST_DETECTION] = current_gettime;
							if(PLAYER_AC_INFO[playerid][CHEAT_POS][p_ac_info_DETECTIONS] >= ac_Info[CHEAT_POS][ac_Detections]) OnPlayerCheatDetected(playerid, CHEAT_POS, dis);
						}
					}
				}
			}

			if(ac_Info[CHEAT_VEHICLE_NOFUEL][ac_Enabled])
			{
				new Keys, ud, lr;
				GetPlayerKeys(playerid, Keys, ud, lr);
				if(Keys == KEY_SPRINT)
				{
					if(!GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_ENGINE] && vspeed > 60.0 && GLOBAL_VEHICLES[vehicleid][gb_vehicle_POS][2] > -97.0 && VEHICLE_INFO[ GLOBAL_VEHICLES[vehicleid][gb_vehicle_MODELID] - 400][vehicle_info_ENGINE])
					{
						if(current_gettime > PLAYER_AC_INFO[playerid][CHEAT_VEHICLE_NOFUEL][p_ac_info_IMMUNITY])
						{
							if(!ac_Info[CHEAT_VEHICLE_NOFUEL][ac_Interval]) OnPlayerCheatDetected(playerid, CHEAT_VEHICLE_NOFUEL);
							else
							{
								if(current_gettime - PLAYER_AC_INFO[playerid][CHEAT_VEHICLE_NOFUEL][p_ac_info_LAST_DETECTION] > ac_Info[CHEAT_VEHICLE_NOFUEL][ac_Interval]) PLAYER_AC_INFO[playerid][CHEAT_VEHICLE_NOFUEL][p_ac_info_DETECTIONS] = 0;
								else PLAYER_AC_INFO[playerid][CHEAT_VEHICLE_NOFUEL][p_ac_info_DETECTIONS] ++;

								PLAYER_AC_INFO[playerid][CHEAT_VEHICLE_NOFUEL][p_ac_info_LAST_DETECTION] = current_gettime;
								if(PLAYER_AC_INFO[playerid][CHEAT_VEHICLE_NOFUEL][p_ac_info_DETECTIONS] >= ac_Info[CHEAT_VEHICLE_NOFUEL][ac_Detections]) OnPlayerCheatDetected(playerid, CHEAT_VEHICLE_NOFUEL);
							}
						}
					}
				}
			}
		}
	}
	
	
	PI[playerid][pi_HEALTH] = player_health;
	PI[playerid][pi_ARMOUR] = player_armour;
	GetPlayerPos(playerid, PI[playerid][pi_POS_X], PI[playerid][pi_POS_Y], PI[playerid][pi_POS_Z]);
	if(vehicleid)
	{
		GetVehiclePos(vehicleid, GLOBAL_VEHICLES[vehicleid][gb_vehicle_POS][0], GLOBAL_VEHICLES[vehicleid][gb_vehicle_POS][1], GLOBAL_VEHICLES[vehicleid][gb_vehicle_POS][2]);
		GLOBAL_VEHICLES[vehicleid][gb_vehicle_HEALTH] = vehicle_health;
	}
	return 1;
}

forward TimerQuince();
public TimerQuince()
{
	for(new a; a < NA; a++)
	{
	    if(strlen(Anunciox[a][Texto]) > 0)
	    {
	    	format(Anunciox[a][Texto],35,"");
	    	TextDrawHideForAll(TextDrawx[a]);
		}
	}
	return 1;
}

stock TieneArmaCheat(playerid)
{
	switch(GetPlayerWeapon(playerid))
	{
	    case 35: return 1;
		case 36: return 1;
		case 37: return 1;
		case 38: return 1;
    }
    return 0;
}

forward TimerMedioSegundo_Global();
public TimerMedioSegundo_Global()
{
    foreach (new i : Player)
    {
        // 1. Validaciones de conexión y logueo (Seguridad básica)
        if(!IsPlayerConnected(i) || !PLAYER_TEMP[i][pt_USER_LOGGED]) continue;
        if(EnEventoDM[i] || PI[i][pi_ADMIN_LEVEL] > 0) continue; 
        if(TieneArmaCheat(i))
        {
            new ac_string[128], pName[MAX_PLAYER_NAME];
            GetPlayerName(i, pName, sizeof(pName));
            format(ac_string, sizeof(ac_string), "{DC1005}[A-C]{FFFFFF} %s[%d] expulsado por posible cheat de armas ('%d').", pName, i, GetPlayerWeapon(i));
            SendMessageToAdminsAC(-1, ac_string);
            KickEx(i, 500);
            continue; // Si lo kikeamos, no seguimos procesando este ID
        }

        // --- SECCIÓN: ANTI-FLYHACK ---
        // Solo si no es un admin de nivel alto
        if(PI[i][pi_ADMIN_LEVEL] <= 4 && GetPlayerAnimationIndex(i) == 1058)
        {
            new ac_string[128], pName[MAX_PLAYER_NAME];
            GetPlayerName(i, pName, sizeof(pName));
            format(ac_string, sizeof(ac_string), "{FFFFFF}BOT | {FFFFFF}ha expulsado a %s razon: Fly-Hack.", pName);
            SendMessageToAdminsAC(-1, ac_string);
            KickEx(i, 500);
            continue; 
        }

        // --- SECCIÓN: ANTI-SPEEDHACK / CHOQUE ---
        new Float:vel = ObtenerVelocidad(i);
        if(vel > 300.0 && PI[i][pi_ADMIN_LEVEL] <= 4)
        {
            new model = GetVehicleModel(GetPlayerVehicleID(i));
            // Filtramos vehiculos aéreos para evitar falsos positivos
            switch(model)
            {
                case 0, 460, 476, 511, 512, 513, 519, 520, 553, 577, 592, 593: { /* Aviones: No hacer nada */ }
                default:
                {
                    new pName[MAX_PLAYER_NAME], string[144];
                    GetPlayerName(i, pName, sizeof(pName));
                    format(string, sizeof(string), "Posible cheat de choque {FF3300}%s(ID: %d){FFFFFF} - Velocidad: %.2f", pName, i, vel);
                    SendMessageToAdmins(-1, string);
                }
            }
        }
            if(PI[i][pi_STATE] == ROLEPLAY_STATE_CRACK) 
{
    // Si está en crack, le forzamos el puño (ID 0)
    if(GetPlayerWeapon(i) != 0) 
    {
        SetPlayerArmedWeapon(i, 0); // Esto cambia el arma activa al puño
        // Opcional: ResetPlayerWeapons(i); // Si quieres ser más agresivo y quitárselas
    }
}
// Objetos en mano
            new ManoDer = PI[i][pi_MANO_DER];
if(ManoDer == 0) 
{
    ResetPlayerWeapons(i); 
    //RemovePlayerAttachedObject(i, 7); // Limpiar espalda si no hay nada
    //RemovePlayerAttachedObject(i, 9); // Limpiar mano si no hay nada
}
else 
{
    ActualizarManos(i);
}

    }
    foreach(new p : Player)
    {
    new v = AutoSiendoProcesado[p];

    // SI EL AUTO EN TURNO YA TIENE CONDUCTOR (Te subiste) O YA NO ES VÁLIDO
    if(v != 0 && (!GLOBAL_VEHICLES[v][gb_vehicle_VALID] || GetVehicleDriver(v) != INVALID_PLAYER_ID))
    {
        // Si te subiste (el conductor ya no es INVALID_PLAYER_ID)
        if(GetVehicleDriver(v) != INVALID_PLAYER_ID)
        {
            new msg[128];
            format(msg, sizeof(msg), "{3BF1B3}[GARAGE]: {FFFFFF}El auto {3BF1B3}%s{FFFFFF} ya no se parqueará porque te has subido.", 
                VEHICLE_INFO[ GLOBAL_VEHICLES[v][gb_vehicle_MODELID] - 400 ][vehicle_info_NAME]);
          //  SendClientMessage(p, -1, msg);
        }

        GLOBAL_VEHICLES[v][gb_vehicle_ABANDONED_TICKS] = 0; // Limpiamos ticks
        AutoSiendoProcesado[p] = 0; // Liberamos el turno para el siguiente
        v = 0; 
    }

    // SI NO HAY UN AUTO EN TURNO: Buscamos el siguiente en la fila
    if(v == 0)
    {
        for(new i = 1; i <= GetVehiclePoolSize(); i++)
        {
            if(PLAYER_VEHICLES[i][player_vehicle_VALID] && PLAYER_VEHICLES[i][player_vehicle_OWNER_ID] == PI[p][pi_ID])
            {
                if(GetVehicleDriver(i) == INVALID_PLAYER_ID)
                {
                    AutoSiendoProcesado[p] = i; 
                    v = i;

                    // MENSAJE DE DETECCIÓN (Solo sale una vez al entrar en la fila)
                    new msg[144];
                    format(msg, sizeof(msg), "{FF6600}[GARAGE]: {FFFFFF}El auto {FF6600}%s{FFFFFF} se detectó en la calle. Tienes 7 min. para subirte o se parqueará.", 
                        VEHICLE_INFO[ GLOBAL_VEHICLES[i][gb_vehicle_MODELID] - 400 ][vehicle_info_NAME]);
                  //  SendClientMessage(p, -1, msg);
                    break; 
                }
            }
        }
    }

    // SI YA TENEMOS UN AUTO EN TURNO (Vigilancia activa)
    if(v != 0)
    {
        GLOBAL_VEHICLES[v][gb_vehicle_ABANDONED_TICKS]++;

        if(GLOBAL_VEHICLES[v][gb_vehicle_ABANDONED_TICKS] >= 900)
        {
            new msg[128];
            format(msg, sizeof(msg), "{FF6600}[GARAGE]: {FFFFFF}Tu {FF6600}%s{FFFFFF} ha sido parqueado por abandono. El sistema buscará tu siguiente auto.", 
                VEHICLE_INFO[ GLOBAL_VEHICLES[v][gb_vehicle_MODELID] - 400 ][vehicle_info_NAME]);
           // SendClientMessage(p, -1, msg);

            AutoParquearVehiculo(v);
            GLOBAL_VEHICLES[v][gb_vehicle_ABANDONED_TICKS] = 0;
            AutoSiendoProcesado[p] = 0; 
        }
    }
}
return 1;
}




forward Rolea(playerid);
public Rolea(playerid)
{
	PLAYER_TEMP[playerid][pt_ROL]= 0; 
	return 1;
}

SetPlayerPosEx(playerid, Float:x, Float:y, Float:z, Float:angle, interior, world, freeze = 0, addoffset = 0)
{
	PLAYER_AC_INFO[playerid][CHEAT_POS][p_ac_info_IMMUNITY] = gettime() + 3;
	PLAYER_AC_INFO[playerid][CHEAT_STATE_SPAMMER][p_ac_info_IMMUNITY] = gettime() + 3;
	PLAYER_AC_INFO[playerid][CHEAT_UNOCCUPIED_VEHICLE_TP][p_ac_info_IMMUNITY] = gettime() + 5;
	
	if(addoffset)
	{
		x += (1.5 * floatsin(-angle, degrees));
		y += (1.5 * floatcos(-angle, degrees));
	}
	
	PI[playerid][pi_POS_X] = x;
	PI[playerid][pi_POS_Y] = y;
	PI[playerid][pi_POS_Z] = z;
	PI[playerid][pi_ANGLE] = angle;
	
	SetPlayerPos(playerid, x, y, z);
	SetPlayerFacingAngle(playerid, angle);
	SetPlayerInterior(playerid, interior);
	SetPlayerVirtualWorld(playerid, world);
	SetCameraBehindPlayer(playerid);
	
	if(freeze)
	{
		TogglePlayerControllableEx(playerid, false);
		KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][3]);
		PLAYER_TEMP[playerid][pt_TIMERS][3] = SetTimerEx("TogglePlayerControl", 2000, false, "ib", playerid, true);
	}
	return 1;
}

forward TogglePlayerControl(playerid, bool:controlable);
public TogglePlayerControl(playerid, bool:controlable)
{
	return TogglePlayerControllableEx(playerid, controlable);
}


GetNearestHospitalForPlayer(playerid)
{
	new Float:distance = 99999.0,
        Float:tmp_distance,
        closest = -1;

    for(new i = 0; i < sizeof Hospital_Spawn_Positions; i++)
	{
		tmp_distance = GetPlayerDistanceFromPoint(playerid, Hospital_Spawn_Positions[i][hspi_X], Hospital_Spawn_Positions[i][hspi_Y], Hospital_Spawn_Positions[i][hspi_Z]);
		if (tmp_distance < distance)
		{
			distance = tmp_distance;
			closest = i;
		}
	}

	if(closest == -1) closest = 1;
	return closest;
}

GetHospitalSpawnPosition(hospital, &Float:x, &Float:y, &Float:z, &Float:angle, &interior, &local_interior, &rp_state)
{
	x = Hospital_Spawn_Positions[hospital][hspi_X];
	y = Hospital_Spawn_Positions[hospital][hspi_Y];
	z = Hospital_Spawn_Positions[hospital][hspi_Z];
	angle = Hospital_Spawn_Positions[hospital][hspi_ANGLE];
	interior = 0;
	local_interior = 0;
	rp_state = ROLEPLAY_STATE_NORMAL;
	return 1;
}

UpdateHospitalSizeTextdrawLife(playerid)
{
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_HOSPITAL][2], 270.0 + ( PLAYER_TEMP[playerid][pt_HOSPITAL_LIFE] * 0.98), 0.000000);
	PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_HOSPITAL][2]);
	return 1;
}

forward HealthUp(playerid);
public HealthUp(playerid)
{
	if(PI[playerid][pi_STATE] != ROLEPLAY_STATE_HOSPITAL) return 1;

	if(PLAYER_TEMP[playerid][pt_HOSPITAL_LIFE] < 100.0)
	{
		if(PI[playerid][pi_VIP]) PLAYER_TEMP[playerid][pt_HOSPITAL_LIFE] += 5.0;
		else PLAYER_TEMP[playerid][pt_HOSPITAL_LIFE] += 1.0;

		if(PLAYER_TEMP[playerid][pt_HOSPITAL_LIFE] > 100.0) PLAYER_TEMP[playerid][pt_HOSPITAL_LIFE] = 100.0;
		UpdateHospitalSizeTextdrawLife(playerid);
		KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][4]);
		PLAYER_TEMP[playerid][pt_TIMERS][4] = SetTimerEx("HealthUp", 1000, false, "i", playerid);
	}
	else
	{
		if(PI[playerid][pi_VIP]) PI[playerid][pi_HEALTH] = 100.0;
		else PI[playerid][pi_HEALTH] = 50.0;
		

		SetPlayerHealthEx(playerid, PI[playerid][pi_HEALTH]);

		ClearPlayerChat(playerid);
		ShowPlayerMessage(playerid, "Te has recuperado.", 2);
		new price = PI[playerid][pi_LEVEL] * 200;
		if(price > 1200) price = 1200;
		price += minrand(100, 200);

		if(price > PI[playerid][pi_CASH])
		{
			price = PI[playerid][pi_CASH];
			if(price < 0) price = 0;
		}

		SendFormatNotification(playerid, "El coste de los servicios médicos ofrecidos es de ~r~%s dólares~w~.", number_format_thousand(price));
		GivePlayerCash(playerid, -price, false, true);
		PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_HOSPITAL][0]);
		PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_HOSPITAL][1]);
		PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_HOSPITAL][2]);
		PI[playerid][pi_LOCAL_INTERIOR] = 0;
		PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] = -1;

		if(PI[playerid][pi_WANTED_LEVEL] > 0 || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED)
		{
			PI[playerid][pi_STATE] = ROLEPLAY_STATE_JAIL;
			if(PI[playerid][pi_VIP]) PI[playerid][pi_POLICE_JAIL_TIME] = 50 * PI[playerid][pi_WANTED_LEVEL];
			else PI[playerid][pi_POLICE_JAIL_TIME] = 150 * PI[playerid][pi_WANTED_LEVEL];
			PI[playerid][pi_WANTED_LEVEL] = 0;
			PI[playerid][pi_POLICE_JAIL_ID] = 0;
			PLAYER_TEMP[playerid][pt_ENTER_JAIL_TIME] = gettime();
			SetSpawnInfo(playerid, NO_TEAM, PI[playerid][pi_SKIN], JAIL_POSITIONS[ PI[playerid][pi_POLICE_JAIL_ID] ][jail_X], JAIL_POSITIONS[ PI[playerid][pi_POLICE_JAIL_ID]  ][jail_Y], JAIL_POSITIONS[ PI[playerid][pi_POLICE_JAIL_ID]  ][jail_Z], JAIL_POSITIONS[ PI[playerid][pi_POLICE_JAIL_ID]  ][jail_ANGLE], 0, 0, 0, 0, 0, 0);
			PI[playerid][pi_INTERIOR] = JAIL_POSITIONS[ PI[playerid][pi_POLICE_JAIL_ID]  ][jail_INTERIOR];
			SetPlayerVirtualWorld(playerid, 0);

			new time = PI[playerid][pi_POLICE_JAIL_TIME] - (gettime() - PLAYER_TEMP[playerid][pt_ENTER_JAIL_TIME]);
			SendFormatNotification(playerid, "Te quedan %s minutos de condena.", TimeConvert(time));
			SendClientMessage(playerid, -1, "»Fueron retiradas las {ff1111}armas {ffffff}y {f6b900}sustancias  {ffffff}ilegales qué tenias.");

		}
		else
		{
			GetHospitalSpawnPosition(PLAYER_TEMP[playerid][pt_HOSPITAL], PI[playerid][pi_POS_X], PI[playerid][pi_POS_Y], PI[playerid][pi_POS_Z], PI[playerid][pi_ANGLE], PI[playerid][pi_INTERIOR], PI[playerid][pi_LOCAL_INTERIOR], PI[playerid][pi_STATE]);
			SetSpawnInfo(playerid, NO_TEAM, PI[playerid][pi_SKIN], PI[playerid][pi_POS_X], PI[playerid][pi_POS_Y], PI[playerid][pi_POS_Z], PI[playerid][pi_ANGLE], 0, 0, 0, 0, 0, 0);
		}
		PLAYER_TEMP[playerid][pt_PLAYER_FINISH_HOSPITAL] = true;
		TogglePlayerSpectatingEx(playerid, false);
	}
	return 1;
}

TogglePlayerSpectatingEx(playerid, bool:spectate)
{
	PLAYER_AC_INFO[playerid][CHEAT_STATE_SPAMMER][p_ac_info_IMMUNITY] = gettime() + 3;
	PLAYER_AC_INFO[playerid][CHEAT_POS][p_ac_info_IMMUNITY] = gettime() + 3;
	PLAYER_AC_INFO[playerid][CHEAT_SPECTATE][p_ac_info_IMMUNITY] = gettime() + 3;
	PLAYER_TEMP[playerid][pt_PLAYER_SPECTATE] = spectate;
	return TogglePlayerSpectating(playerid, spectate);
}

#define MAX_INTERIOR_ACTORS 10
enum Interior_Actor_Enum
{
	bool:ia_VALID,
	ia_SKIN,
	Float:ia_POS_X,
	Float:ia_POS_Y,
	Float:ia_POS_Z,
	Float:ia_POS_A,
}

CreateInteriorActor(interior_type, world, interior)
{
	if(interior_type == INTERIOR_NO_INFO) return INVALID_ACTOR_ID;

	new InteriorActorInfo[MAX_INTERIOR_ACTORS][Interior_Actor_Enum];

	switch(interior_type)
	{
		/*case INTERIOR_GENERAL_HOSPITAL:
		{
			InteriorActorInfo[0][ia_VALID]	= true;
			InteriorActorInfo[0][ia_SKIN]	= 308;
			InteriorActorInfo[0][ia_POS_X]	= 1969.236572;
			InteriorActorInfo[0][ia_POS_Y]	= 1169.541259;
			InteriorActorInfo[0][ia_POS_Z]	= -5.208700;
			InteriorActorInfo[0][ia_POS_A]	= 178.0;
		}*/
		case INTERIOR_BINCO:
		{
			InteriorActorInfo[0][ia_VALID]	= true;
			InteriorActorInfo[0][ia_SKIN]	= 119;
			InteriorActorInfo[0][ia_POS_X]	= 208.376373;
			InteriorActorInfo[0][ia_POS_Y]	= -98.703956;
			InteriorActorInfo[0][ia_POS_Z]	= 1005.257812;
			InteriorActorInfo[0][ia_POS_A]	= 180.0;
		}
		case INTERIOR_SUBURBAN:
		{
			InteriorActorInfo[0][ia_VALID]	= true;
			InteriorActorInfo[0][ia_SKIN]	= 191;
			InteriorActorInfo[0][ia_POS_X]	= 203.826187;
			InteriorActorInfo[0][ia_POS_Y]	= -41.667518;
			InteriorActorInfo[0][ia_POS_Z]	= 1001.804687;
			InteriorActorInfo[0][ia_POS_A]	= 180.0;
		}
		case INTERIOR_PROLAPS:
		{
			InteriorActorInfo[0][ia_VALID]	= true;
			InteriorActorInfo[0][ia_SKIN]	= 190;
			InteriorActorInfo[0][ia_POS_X]	= 207.139907;
			InteriorActorInfo[0][ia_POS_Y]	= -127.805473;
			InteriorActorInfo[0][ia_POS_Z]	= 1003.507812;
			InteriorActorInfo[0][ia_POS_A]	= 180.0;
		}
		case INTERIOR_DIDIER_SACHS:
		{
			InteriorActorInfo[0][ia_VALID]	= true;
			InteriorActorInfo[0][ia_SKIN]	= 169;
			InteriorActorInfo[0][ia_POS_X]	= 204.275909;
			InteriorActorInfo[0][ia_POS_Y]	= -157.829010;
			InteriorActorInfo[0][ia_POS_Z]	= 1000.523437;
			InteriorActorInfo[0][ia_POS_A]	= 180.0;
		}
		case INTERIOR_VICTIM:
		{
			InteriorActorInfo[0][ia_VALID]	= true;
			InteriorActorInfo[0][ia_SKIN]	= 217;
			InteriorActorInfo[0][ia_POS_X]	= 204.853225;
			InteriorActorInfo[0][ia_POS_Y]	= -8.764448;
			InteriorActorInfo[0][ia_POS_Z]	= 1001.210937;
			InteriorActorInfo[0][ia_POS_A]	= 270.0;
		}
		case INTERIOR_ZIP:
		{
			InteriorActorInfo[0][ia_VALID]	= true;
			InteriorActorInfo[0][ia_SKIN]	= 211;
			InteriorActorInfo[0][ia_POS_X]	= 162.226135;
			InteriorActorInfo[0][ia_POS_Y]	= -81.191978;
			InteriorActorInfo[0][ia_POS_Z]	= 1001.804687;
			InteriorActorInfo[0][ia_POS_A]	= 180.0;
		}
		case INTERIOR_247:
		{
			InteriorActorInfo[0][ia_VALID]	= true;
			InteriorActorInfo[0][ia_SKIN]	= 184;
			InteriorActorInfo[0][ia_POS_X]	= -27.483411;
			InteriorActorInfo[0][ia_POS_Y]	= -91.628837;
			InteriorActorInfo[0][ia_POS_Z]	= 1003.546875;
			InteriorActorInfo[0][ia_POS_A]	= 0.0;
		}
		case INTERIOR_PIZZA:
		{
			InteriorActorInfo[0][ia_VALID]	= true;
			InteriorActorInfo[0][ia_SKIN]	= 155;
			InteriorActorInfo[0][ia_POS_X] 	= 375.114501;
			InteriorActorInfo[0][ia_POS_Y] 	= -117.272621;
			InteriorActorInfo[0][ia_POS_Z] 	= 1001.492187;
			InteriorActorInfo[0][ia_POS_A]	= 180.0;
		}
		case INTERIOR_CLUCKIN_BELL:
		{
			InteriorActorInfo[0][ia_VALID]	= true;
			InteriorActorInfo[0][ia_SKIN]	= 167;
			InteriorActorInfo[0][ia_POS_X] 	= 368.652679;
			InteriorActorInfo[0][ia_POS_Y] 	= -4.492218;
			InteriorActorInfo[0][ia_POS_Z] 	= 1001.851562;
			InteriorActorInfo[0][ia_POS_A]	= 180.0;
		}
		case INTERIOR_BURGER_SHOT:
		{
			InteriorActorInfo[0][ia_VALID]	= true;
			InteriorActorInfo[0][ia_SKIN]	= 205;
			InteriorActorInfo[0][ia_POS_X] 	= 376.114227;
			InteriorActorInfo[0][ia_POS_Y] 	= -65.848991;
			InteriorActorInfo[0][ia_POS_Z] 	= 1001.507812;
			InteriorActorInfo[0][ia_POS_A]	= 180.0;
		}
		case INTERIOR_BANK_LS:
		{
			InteriorActorInfo[0][ia_VALID]	= true;
			InteriorActorInfo[0][ia_SKIN]	= 59;
			InteriorActorInfo[0][ia_POS_X] 	= 1407.526489;
			InteriorActorInfo[0][ia_POS_Y] 	= 1321.833496;
			InteriorActorInfo[0][ia_POS_Z] 	= 1501.091918;
			InteriorActorInfo[0][ia_POS_A]	= 180.0;
		}
		case INTERIOR_BANK_SF:
		{
			InteriorActorInfo[0][ia_VALID]	= true;
			InteriorActorInfo[0][ia_SKIN]	= 59;
			InteriorActorInfo[0][ia_POS_X] 	= 1104.802001;
			InteriorActorInfo[0][ia_POS_Y] 	= 1531.275634;
			InteriorActorInfo[0][ia_POS_Z] 	= 1452.475097;
			InteriorActorInfo[0][ia_POS_A]	= 180.0;
		}
		case INTERIOR_BANK_LV:
		{
			InteriorActorInfo[0][ia_VALID]	= true;
			InteriorActorInfo[0][ia_SKIN]	= 59;
			InteriorActorInfo[0][ia_POS_X] 	= 2692.497558;
			InteriorActorInfo[0][ia_POS_Y] 	= -610.933593;
			InteriorActorInfo[0][ia_POS_Z] 	= -71.658203;
			InteriorActorInfo[0][ia_POS_A]	= 90.0;
		}
		case INTERIOR_CITY_HALL_LS:
		{
			InteriorActorInfo[0][ia_VALID]	= true;
			InteriorActorInfo[0][ia_SKIN]	= 186;
			InteriorActorInfo[0][ia_POS_X] 	= -474.572387;
			InteriorActorInfo[0][ia_POS_Y] 	= 287.982879;
			InteriorActorInfo[0][ia_POS_Z] 	= 2004.584960;
			InteriorActorInfo[0][ia_POS_A]	= 0.0;
		}
		case INTERIOR_UNITY_STATION:
		{
			InteriorActorInfo[0][ia_VALID]	= true;
			InteriorActorInfo[0][ia_SKIN]	= 184;
			InteriorActorInfo[0][ia_POS_X] 	= 1489.038818;
			InteriorActorInfo[0][ia_POS_Y] 	= 1305.631591;
			InteriorActorInfo[0][ia_POS_Z] 	= 1093.296386;
			InteriorActorInfo[0][ia_POS_A]	= 270.0;
		}
		case INTERIOR_TRUCK:
		{
			InteriorActorInfo[0][ia_VALID]	= true;
			InteriorActorInfo[0][ia_SKIN]	= 127;
			InteriorActorInfo[0][ia_POS_X] 	= 1297.120117;
			InteriorActorInfo[0][ia_POS_Y] 	= -66.351226;
			InteriorActorInfo[0][ia_POS_Z] 	= 1002.497375;
			InteriorActorInfo[0][ia_POS_A]	= 0.0;
		}
		default: return INVALID_ACTOR_ID;
	}

	new mainActor = INVALID_ACTOR_ID;
	for(new i; i != sizeof InteriorActorInfo; i++) {
		if(InteriorActorInfo[i][ia_VALID]) {
			new tmp = CreateDynamicActor(InteriorActorInfo[i][ia_SKIN], InteriorActorInfo[i][ia_POS_X], InteriorActorInfo[i][ia_POS_Y], InteriorActorInfo[i][ia_POS_Z], InteriorActorInfo[i][ia_POS_A], true, 100.0, world, interior);
			if(i == 0) {
				mainActor = tmp;
			}
		}
	}

	return mainActor;
}

GetBuyPropertySiteIndexByIntTyp(interior_type)
{
	for(new i = 0; i != sizeof BUY_PROPERTIES_SITES; i ++)
	{
		if(BUY_PROPERTIES_SITES[i][site_INTERIOR_TYPE] == interior_type) return i;
	}
	return -1;
}

GetBankLocalIndexByIntType(interior_type)
{
	for(new i = 0; i != sizeof Bank_Interior_Positions; i ++)
	{
		if(Bank_Interior_Positions[i][bank_INTERIOR_TYPE] == interior_type) return i;
	}
	return -1;
}

GetPlayerFastFoodIndex(playerid)
{
	for(new i = 0; i != sizeof Fast_Food_Positions; i ++)
	{
		if(IsPlayerInRangeOfPoint(playerid, 1.0, Fast_Food_Positions[i][fast_food_X], Fast_Food_Positions[i][fast_food_Y], Fast_Food_Positions[i][fast_food_Z]))
		{
			return i;
		}
	}
	return -10;
}

GetNewIDPlayerToy(playerid)
{
	new ID = -1;
	for(new i = 0; i < MAX_SU_TOYS; i ++)
	{
		if(PLAYER_TOYS[playerid][i][player_toy_MODELID] == 0)
		{
			ID = i;
			break;
		}
	}
	return ID;
}

GetClothingShopIndexByIntType(interior_type)
{
	for(new i = 0; i != sizeof Clothing_Shop_Positions; i ++)
	{
		if(Clothing_Shop_Positions[i][clothing_shop_INTERIOR_TYPE] == interior_type) return i;
	}
	return -1;
}

ShowToysShopTextdraws(playerid)
{
	PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][0]);
	PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][1]);
	PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][2]);
	PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][3]);
	PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][4]);
	PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][5]);
	PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][6]);
	PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][7]);
	PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][8]);
	PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][9]);
	return 1;
}

HideToysShopTextdraws(playerid)
{
	PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][0]);
	PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][1]);
	PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][2]);
	PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][3]);
	PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][4]);
	PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][5]);
	PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][6]);
	PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][7]);
	PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][8]);
	PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][9]);
	return 1;
}

ClosePlayerToysMenu(playerid)
{
	SetPlayerVirtualWorld(playerid, ENTER_EXIT[ PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] ][ee_INT_WORLD] );
	TogglePlayerControllableEx(playerid, true);
	
	HideToysShopTextdraws(playerid);
	//PLAYER_TEMP[playerid][pt_TOYS_SHOP_TOY_SELECTED] = 0;
	PLAYER_TEMP[playerid][pt_TOYS_SHOP] = false;
	CancelSelectTextDrawEx(playerid);
	return 1;
}

GetNameObjeto(ID)
{
	new name[32] = "Desconocido";
	for(new i = 0; i < (sizeof OBJETOS_INFO); i ++)
	{
		if(OBJETOS_INFO[i][obj_ID] == ID)
		{
			format(name, sizeof name, "%s", OBJETOS_INFO[i][obj_NAME]);
			break;
		}
	}
	return name;
}

GetBoneObjeto(ID)
{
	new ID_BONE = 2;
	for(new i = 0; i < (sizeof OBJETOS_INFO); i ++)
	{
		if(OBJETOS_INFO[i][obj_ID] == ID)
		{
			ID_BONE = OBJETOS_INFO[i][obj_BONE];
			break;
		}
	}
	return ID_BONE;
}

GivePlayerToy(playerid, modelid)
{
	new slot = GetNewIDPlayerToy(playerid);
	if(slot == -1) return 1;

	PLAYER_TOYS[playerid][slot][player_toy_VALID] = true;
	PLAYER_TOYS[playerid][slot][player_toy_MODELID] = modelid;
	format(PLAYER_TOYS[playerid][slot][player_toy_NAME], 24, "%s", GetNameObjeto(modelid));
	PLAYER_TOYS[playerid][slot][player_toy_BONE] = GetBoneObjeto(modelid);
	PLAYER_TOYS[playerid][slot][player_toy_ATTACHED] = false;
	PLAYER_TOYS[playerid][slot][player_toy_OFFSET_X] = 0.085;
	PLAYER_TOYS[playerid][slot][player_toy_OFFSET_Y] = 0.017999;
	PLAYER_TOYS[playerid][slot][player_toy_OFFSET_Z] = 0.000999;
	PLAYER_TOYS[playerid][slot][player_toy_ROT_X] = 87.2;
	PLAYER_TOYS[playerid][slot][player_toy_ROT_Y] = 88.1;
	PLAYER_TOYS[playerid][slot][player_toy_ROT_Z] = -7.5;
	PLAYER_TOYS[playerid][slot][player_toy_SCALE_X] = 1;
	PLAYER_TOYS[playerid][slot][player_toy_SCALE_Y] = 1;
	PLAYER_TOYS[playerid][slot][player_toy_SCALE_Z] = 1;
 	PLAYER_TOYS[playerid][slot][player_toy_COLOR_1] = -1;
 	PLAYER_TOYS[playerid][slot][player_toy_COLOR_2] = -1;
 	RegisterNewPlayerToy(playerid, slot);
	
 	PlayerPlaySoundEx(playerid, 1058, 0.0, 0.0, 0.0);
	return 1;
}

RegisterNewPlayerToy(playerid, slot)
{
	inline OnPlayerToyInserted()
	{
		PLAYER_TOYS[playerid][slot][player_toy_ID] = cache_insert_id();
	}

	mysql_format
	(
		srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER,
		"\
			INSERT INTO ptoys(id_player, name, attached, modelid, bone, offset_x, offset_y, offset_z, rot_x, rot_y, rot_z, scale_x, scale_y, scale_z, color1, color2)\
			VALUES(%d, '%e', %d, %d, %d, %f, %f, %f, %f, %f, %f, %f, %f, %f, %d, %d);\
		",
			PI[playerid][pi_ID], PLAYER_TOYS[playerid][slot][player_toy_NAME], PLAYER_TOYS[playerid][slot][player_toy_ATTACHED], PLAYER_TOYS[playerid][slot][player_toy_MODELID],
			PLAYER_TOYS[playerid][slot][player_toy_BONE], PLAYER_TOYS[playerid][slot][player_toy_OFFSET_X], PLAYER_TOYS[playerid][slot][player_toy_OFFSET_Y],
			PLAYER_TOYS[playerid][slot][player_toy_OFFSET_Z], PLAYER_TOYS[playerid][slot][player_toy_ROT_X], PLAYER_TOYS[playerid][slot][player_toy_ROT_Y],
			PLAYER_TOYS[playerid][slot][player_toy_ROT_Z], PLAYER_TOYS[playerid][slot][player_toy_SCALE_X], PLAYER_TOYS[playerid][slot][player_toy_SCALE_Y],
			PLAYER_TOYS[playerid][slot][player_toy_SCALE_Z], PLAYER_TOYS[playerid][slot][player_toy_COLOR_1], PLAYER_TOYS[playerid][slot][player_toy_COLOR_2]
	);
	mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnPlayerToyInserted);
	return 1;
}


UpdateToysShop(playerid)
{
	if(!PLAYER_TEMP[playerid][pt_TOYS_SHOP]) return 0;
	
	PlayerTextDrawSetString(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][1], ENTER_EXIT[ PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] ][ee_NAME]);
	PlayerTextDrawSetPreviewModel(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][3], Toys_Shop[ PLAYER_TEMP[playerid][pt_TOYS_SHOP_TOY_SELECTED] ][shop_toy_modelid]);
	PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][3]);
	
	new td_str[128]; format(td_str, sizeof td_str, "Modelo:_%s~n~Precio:_$%s", Toys_Shop[ PLAYER_TEMP[playerid][pt_TOYS_SHOP_TOY_SELECTED] ][shop_toy_model], number_format_thousand( Toys_Shop[ PLAYER_TEMP[playerid][pt_TOYS_SHOP_TOY_SELECTED] ][shop_toy_price] ));
	PlayerTextDrawSetString(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][4], td_str);
	
	
	if(PI[playerid][pi_CASH] < Toys_Shop[ PLAYER_TEMP[playerid][pt_TOYS_SHOP_TOY_SELECTED] ][shop_toy_price]) PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][5], -900267777);
	else PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][5], 1855979775);
	PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][5]);
	
	format(td_str, sizeof td_str, "%d/%d", PLAYER_TEMP[playerid][pt_TOYS_SHOP_TOY_SELECTED] + 1, sizeof(Toys_Shop));
	PlayerTextDrawSetString(playerid, PlayerTextdraws[playerid][ptextdraw_TOYS_SHOP][8], td_str);
	return 1;
}


ShowClothingShopTextdraws(playerid)
{
	PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][0]);
	PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][1]);
	PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][2]);
	PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][3]);
	PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][4]);
	PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][5]);
	return 1;
}

HideClothingShopTextdraws(playerid)
{
	PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][0]);
	PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][1]);
	PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][2]);
	PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][3]);
	PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][4]);
	PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][5]);
	SetPVarInt(playerid, "Player:On:Droids:Ropa", 0);
	return 1;
}

ClosePlayerClothingMenu(playerid)
{
	PI[playerid][pi_POS_X] = Clothing_Shop_Positions[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP]][clothing_shop_X];
	PI[playerid][pi_POS_Y] = Clothing_Shop_Positions[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP]][clothing_shop_Y];
	PI[playerid][pi_POS_Z] = Clothing_Shop_Positions[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP]][clothing_shop_Z];
	PI[playerid][pi_ANGLE] = Clothing_Shop_Positions[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP]][clothing_shop_ANGLE];
	SetPlayerSkin(playerid, PI[playerid][pi_SKIN]);
	TogglePlayerControllableEx(playerid, true);
	
	HideClothingShopTextdraws(playerid);
	PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] = 0;
	PLAYER_TEMP[playerid][pt_CLOTHING_SHOP] = -1;
	CancelSelectTextDrawEx(playerid);
	return 1;
}

ExitPlayerWardrobe(playerid)
{
	SetPlayerPosEx(playerid, PI[playerid][pi_POS_X], PI[playerid][pi_POS_Y], PI[playerid][pi_POS_Z], PI[playerid][pi_ANGLE], ENTER_EXIT[ PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] ][ee_INT_INTERIOR], ENTER_EXIT[ PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] ][ee_INT_WORLD], false, true);
	return 1;
}

VerifyMask(playerid)
{
	for(new i;i<MAX_SU_TOYS; i++)
	{
		if(PLAYER_TOYS[playerid][ i ][player_toy_MODELID] == 19036 && PLAYER_TOYS[playerid][ i ][player_toy_ATTACHED]) {
			maskHideNameTagPlayer(playerid);
			break;
		}
		else maskShowNameTagPlayer(playerid);

	}
	return 1;
}


UpdateClothingShop(playerid)
{
	if(PLAYER_TEMP[playerid][pt_CLOTHING_SHOP] == -1) return 0;

	new cost, textdraw_str[128];
	PlayerTextDrawSetString(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][1], Clothing_Shop_Positions[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP]][clothing_shop_NAME]);

	switch(ENTER_EXIT[ PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] ][ee_INTERIOR_TYPE])
	{
		case INTERIOR_BINCO:
		{
			switch(PI[playerid][pi_GENDER])
			{
				case SEX_MALE:
				{
					SetPlayerSkin(playerid, Binco_Shop_Male_Skins[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN]][0]);
					cost = Binco_Shop_Male_Skins[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN]][2];

					if(PI[playerid][pi_CASH] < cost) PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][2], -1459617611);
					else PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][2], 9306312);

					format(textdraw_str, sizeof textdraw_str, "Precio:_$%s~n~Ropa:_%d/%d", number_format_thousand(cost), PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] + 1, sizeof(Binco_Shop_Male_Skins));
					PlayerTextDrawSetString(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][5], textdraw_str);
				}
				case SEX_FEMALE:
				{
					SetPlayerSkin(playerid, Binco_Shop_Female_Skins[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN]][0]);
					cost = Binco_Shop_Female_Skins[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN]][2];

					if(PI[playerid][pi_CASH] < cost) PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][2], -1459617611);
					else PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][2], 9306312);

					format(textdraw_str, sizeof textdraw_str, "Precio:_$%s~n~Ropa:_%d/%d", number_format_thousand(cost), PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] + 1, sizeof(Binco_Shop_Female_Skins));
					PlayerTextDrawSetString(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][5], textdraw_str);
				}
			}
		}
		case INTERIOR_SUBURBAN:
		{
			switch(PI[playerid][pi_GENDER])
			{
				case SEX_MALE:
				{
					SetPlayerSkin(playerid, Suburban_Shop_Male_Skins[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN]][0]);
					cost = Suburban_Shop_Male_Skins[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN]][2];

					if(PI[playerid][pi_CASH] < cost) PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][2], -1459617611);
					else PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][2], 9306312);

					format(textdraw_str, sizeof textdraw_str, "Precio:_$%s~n~Ropa:_%d/%d", number_format_thousand(cost), PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] + 1, sizeof(Suburban_Shop_Male_Skins));
					PlayerTextDrawSetString(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][5], textdraw_str);
				}
				case SEX_FEMALE:
				{
					SetPlayerSkin(playerid, Suburban_Shop_Female_Skins[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN]][0]);
					cost = Suburban_Shop_Female_Skins[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN]][2];

					if(PI[playerid][pi_CASH] < cost) PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][2], -1459617611);
					else PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][2], 9306312);

					format(textdraw_str, sizeof textdraw_str, "Precio:_$%s~n~Ropa:_%d/%d", number_format_thousand(cost), PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] + 1, sizeof(Suburban_Shop_Female_Skins));
					PlayerTextDrawSetString(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][5], textdraw_str);
				}
			}
		}
		case INTERIOR_PROLAPS:
		{
			switch(PI[playerid][pi_GENDER])
			{
				case SEX_MALE:
				{
					SetPlayerSkin(playerid, Prolaps_Shop_Male_Skins[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN]][0]);
					cost = Prolaps_Shop_Male_Skins[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN]][2];

					if(PI[playerid][pi_CASH] < cost) PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][2], -1459617611);
					else PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][2], 9306312);

					format(textdraw_str, sizeof textdraw_str, "Precio:_$%s~n~Ropa:_%d/%d", number_format_thousand(cost), PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] + 1, sizeof(Prolaps_Shop_Male_Skins));
					PlayerTextDrawSetString(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][5], textdraw_str);
				}
				case SEX_FEMALE:
				{
					SetPlayerSkin(playerid, Prolaps_Shop_Female_Skins[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN]][0]);
					cost = Prolaps_Shop_Female_Skins[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN]][2];

					if(PI[playerid][pi_CASH] < cost) PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][2], -1459617611);
					else PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][2], 9306312);

					format(textdraw_str, sizeof textdraw_str, "Precio:_$%s~n~Ropa:_%d/%d", number_format_thousand(cost), PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] + 1, sizeof(Prolaps_Shop_Female_Skins));
					PlayerTextDrawSetString(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][5], textdraw_str);
				}
			}
		}
		case INTERIOR_DIDIER_SACHS:
		{
			switch(PI[playerid][pi_GENDER])
			{
				case SEX_MALE:
				{
					SetPlayerSkin(playerid, Didier_Shop_Male_Skins[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN]][0]);
					cost = Didier_Shop_Male_Skins[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN]][2];

					if(PI[playerid][pi_CASH] < cost) PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][2], -1459617611);
					else PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][2], 9306312);

					format(textdraw_str, sizeof textdraw_str, "Precio:_$%s~n~Ropa:_%d/%d", number_format_thousand(cost), PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] + 1, sizeof(Didier_Shop_Male_Skins));
					PlayerTextDrawSetString(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][5], textdraw_str);
				}
				case SEX_FEMALE:
				{
					SetPlayerSkin(playerid, Didier_Shop_Female_Skins[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN]][0]);
					cost = Didier_Shop_Female_Skins[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN]][2];

					if(PI[playerid][pi_CASH] < cost) PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][2], -1459617611);
					else PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][2], 9306312);

					format(textdraw_str, sizeof textdraw_str, "Precio:_$%s~n~Ropa:_%d/%d", number_format_thousand(cost), PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] + 1, sizeof(Didier_Shop_Female_Skins));
					PlayerTextDrawSetString(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][5], textdraw_str);
				}
			}
		}
		case INTERIOR_VICTIM:
		{
			switch(PI[playerid][pi_GENDER])
			{
				case SEX_MALE:
				{
					SetPlayerSkin(playerid, Victim_Shop_Male_Skins[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN]][0]);
					cost = Victim_Shop_Male_Skins[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN]][2];

					if(PI[playerid][pi_CASH] < cost) PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][2], -1459617611);
					else PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][2], 9306312);

					format(textdraw_str, sizeof textdraw_str, "Precio:_$%s~n~Ropa:_%d/%d", number_format_thousand(cost), PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] + 1, sizeof(Victim_Shop_Male_Skins));
					PlayerTextDrawSetString(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][5], textdraw_str);
				}
				case SEX_FEMALE:
				{
					SetPlayerSkin(playerid, Victim_Shop_Female_Skins[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN]][0]);
					cost = Victim_Shop_Female_Skins[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN]][2];

					if(PI[playerid][pi_CASH] < cost) PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][2], -1459617611);
					else PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][2], 9306312);

					format(textdraw_str, sizeof textdraw_str, "Precio:_$%s~n~Ropa:_%d/%d", number_format_thousand(cost), PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] + 1, sizeof(Victim_Shop_Female_Skins));
					PlayerTextDrawSetString(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][5], textdraw_str);
				}
			}
		}
		case INTERIOR_ZIP:
		{
			if(GetPVarInt(playerid, "Player:On:Droids:Ropa") == 1)
			{
				switch(PI[playerid][pi_GENDER])
				{
					case SEX_MALE:
					{
						SetPlayerSkin(playerid, Droids_Shop_Male_Skin[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN]][0]);
						cost = Droids_Shop_Male_Skin[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN]][2];

						if(PI[playerid][pi_CASH] < cost) PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][2], -1459617611);
						else PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][2], 9306312);

						format(textdraw_str, sizeof textdraw_str, "Precio:_%d Coins~n~Ropa:_%d/%d", cost, PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] + 1, sizeof(Droids_Shop_Male_Skin));
						PlayerTextDrawSetString(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][5], textdraw_str);
					}
					case SEX_FEMALE:
					{
						SetPlayerSkin(playerid, Droids_Shop_Female_Skin[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN]][0]);
						cost = Droids_Shop_Female_Skin[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN]][2];

						if(PI[playerid][pi_CASH] < cost) PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][2], -1459617611);
						else PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][2], 9306312);

						format(textdraw_str, sizeof textdraw_str, "Precio:_%d Coins~n~Ropa:_%d/%d", cost, PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] + 1, sizeof(Droids_Shop_Female_Skin));
						PlayerTextDrawSetString(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][5], textdraw_str);
					}
				}
				return true;
			}
			switch(PI[playerid][pi_GENDER])
			{
				case SEX_MALE:
				{
					SetPlayerSkin(playerid, Zip_Shop_Male_Skins[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN]][0]);
					cost = Zip_Shop_Male_Skins[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN]][2];

					if(PI[playerid][pi_CASH] < cost) PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][2], -1459617611);
					else PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][2], 9306312);

					format(textdraw_str, sizeof textdraw_str, "Precio:_%s$~n~Ropa:_%d/%d", number_format_thousand(cost), PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] + 1, sizeof(Zip_Shop_Male_Skins));
					PlayerTextDrawSetString(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][5], textdraw_str);
				}
				case SEX_FEMALE:
				{
					SetPlayerSkin(playerid, Zip_Shop_Female_Skins[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN]][0]);
					cost = Zip_Shop_Female_Skins[PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN]][2];

					if(PI[playerid][pi_CASH] < cost) PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][2], -1459617611);
					else PlayerTextDrawBoxColor(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][2], 9306312);

					format(textdraw_str, sizeof textdraw_str, "Precio:_%s$~n~Ropa:_%d/%d", number_format_thousand(cost), PLAYER_TEMP[playerid][pt_CLOTHING_SHOP_SELECTED_SKIN] + 1, sizeof(Zip_Shop_Female_Skins));
					PlayerTextDrawSetString(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][5], textdraw_str);
				}
			}
		}
	}
	PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_CLOTHING_SHOP][2]);
	return 1;
}

stock EquiparManos(playerid)
{
    if(!IsPlayerConnected(playerid)) return 0;
    
    new ManoDer = PI[playerid][pi_MANO_DER];
    new Cantidad = PI[playerid][pi_DER_CANT];

    // 1. Limpiamos lo que tenga para evitar armas duplicadas visualmente
    ResetPlayerWeapons(playerid);

    // 2. Si tiene algo en la mano y tiene balas/cantidad
    if(ManoDer > 0 && Cantidad > 0)
    {
        new id_arma = ObjetoInfo[ManoDer][IDArma];
        
        // Si el objeto es un arma (ID > 0)
        if(id_arma > 0)
        {
            GivePlayerWeaponEx(playerid, id_arma, Cantidad);
        }
        
        // Ponemos el objeto pegado al cuerpo (visual)
        PonerObjeto(playerid, 1, ManoDer); 
    }
    
    // 3. Sincronizamos con el sistema general
    ActualizarManos(playerid);
    return 1;
}


stock GetPlayerCargadorID(playerid)
{
	switch(PI[playerid][pi_MANO_DER])
	{
	    case 19: return 39;
	    case 20: return 39;
	    case 21: return 40;
	    case 22: return 50;
	    case 23: return 50;
	    case 24: return 50;
	    case 25: return 41;
	    case 26: return 42;
		case 27: return 44;
	    case 28: return 45;
	    case 29: return 43;
	    case 30: return 46;
	    case 31: return 46;
	    case 102: return 105; 
	    case 103: return 106;
	    case 104: return 107;
	    case 195: return 196;
	    
    	case 214: return 220;
	    case 215: return 224;
	    case 216: return 224;
	    case 217: return 221;
	    case 218: return 222; 
    	case 219: return 223;
	}
	return 0;
}

stock GetOro(playerid)
{
	switch(PI[playerid][pi_MANO_DER])
	{
	    case 102: return 105;
	    case 103: return 106;
	    case 104: return 107;
	}
	return 0;
}

stock GetZafi(playerid)
{
	switch(PI[playerid][pi_MANO_DER])
	{
	    case 226: return 226;
	    case 227: return 227;
	    case 228: return 228; 
	    case 229: return 229;
	}
	return 0;
}

stock GetCuchi(playerid)
{
	switch(PI[playerid][pi_MANO_DER])
	{
	    case 116: return 116;
	    case 117: return 117;
	    case 118: return 118; 
	}
	return 0;
}

stock GetZafiX(playerid)
{
    for(new x = 0; x < MAX_SLOTS_INV; x++)
	{
	switch(PI[playerid][pi_BOL][x])
	{
	    case 226: return 226;
	    case 227: return 227;
	    case 228: return 228; 
	    case 229: return 229;
	}
	}
	return 0;
}

stock GetPD(playerid)
{
	switch(PI[playerid][pi_MANO_DER])
	{
	    case 214: return 220;
	    case 215: return 224;
	    case 216: return 224;
	    case 217: return 221;
	    case 218: return 222; 
    	case 219: return 223;
	}
	return 0;
}

stock GetBlack(playerid)
{
	switch(PI[playerid][pi_MANO_DER])
	{
	    case 177: return 177;
	}
	return 0;
}

stock GetAcc(playerid)
{
    for(new x = 0; x < MAX_SLOTS_INV; x++)
    switch(PI[playerid][pi_BOL][x])
	{
	    case 127: return 127;
	    case 128: return 128;
	    case 129: return 129;
	}
	return 0;
}

stock number_format_thousand(e_number) /* By adri1 - SFR3 4.3 */
{
	new f_string[24], bool:negative;
	format(f_string, sizeof f_string, "%d", e_number);
	if(e_number < 0)
	{
		negative = true;
		strdel(f_string, 0, 1);
	}

	new numbers = strlen(f_string);
	while(numbers > 3)
	{
		numbers -= 3;
		strins(f_string, ".", numbers);
	}

	if(negative) strins(f_string, "-", 0);
	return f_string;
}

stock number_format_dash(e_number) /* By adri1 - SFR3 4.3 */
{
	new f_string[24], bool:negative;
	format(f_string, sizeof f_string, "%d", e_number);
	if(e_number < 0)
	{
		negative = true;
		strdel(f_string, 0, 1);
	}

	new numbers = strlen(f_string);
	while(numbers > 3)
	{
		numbers -= 3;
		strins(f_string, "-", numbers);
	}

	if(negative) strins(f_string, "- ", 0);
	return f_string;
}

SelectTextDrawEx(playerid, color)
{
	PLAYER_TEMP[playerid][pt_SELECT_TEXTDRAW] = true;
	return SelectTextDraw(playerid, color);
}

CancelSelectTextDrawEx(playerid)
{
	PLAYER_TEMP[playerid][pt_SELECT_TEXTDRAW] = false;
	return CancelSelectTextDraw(playerid);
}

UpdatePlayerHud(playerid)
{
    if(!PLAYER_TEMP[playerid][pt_HUD_TEXTDRAWS]) return 0;
    
    new str_hud[10]; 

    // Usamos floatround para convertir el Float de Dini a un número entero
    // Hambre (Slot 2)
    format(str_hud, sizeof(str_hud), "%d", floatround(PI[playerid][pi_HUNGRY]));
    PlayerTextDrawSetString(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][2], str_hud);

    // Sed (Slot 3)
    format(str_hud, sizeof(str_hud), "%d", floatround(PI[playerid][pi_THIRST]));
    PlayerTextDrawSetString(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][3], str_hud);
    
    // Es necesario mostrar de nuevo para que el cambio de color surta efecto si cambió
    PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][2]);
    PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][3]);

    return 1;
}

#define INTERVAL_HUNGRY_THIRST_DOWN	20 // 20 segundos de timer
#define THIRST_HOURS_STOPPED	9 // 9 horas parado si agua esta a 100 va a 0
#define HUNGRY_HOURS_STOPPED	12 // 12 horas parado si alimentacion esta a 100 va a 0

forward HungryThirstDown(playerid);
public HungryThirstDown(playerid)
{
	if(PLAYER_TEMP[playerid][pt_GAME_STATE] != GAME_STATE_NORMAL) return HidePlayerHud(playerid);
	if(!PLAYER_TEMP[playerid][pt_HUD_TEXTDRAWS]) return HidePlayerHud(playerid);
	
	new current_gettime = gettime();
	
	if(PI[playerid][pi_VIP])
	{
		if(current_gettime - PLAYER_TEMP[playerid][pt_LAST_SU_CHECK] > 300)
		{
			CheckPlayerSuperUser(playerid);
		}
	}

	if(PI[playerid][pi_WANTED_LEVEL] > 0 && PI[playerid][pi_STATE] == ROLEPLAY_STATE_NORMAL && !PLAYER_TEMP[playerid][pt_CUFFED])
	{
		if(gettime() - PLAYER_TEMP[playerid][pt_LAST_SET_WANTED_LEVEL] > 600)
		{
			if(PI[playerid][pi_WANTED_LEVEL] == 1)
			{
				SendFormatNotification(playerid, "Has perdido de vista a la policía.");
				SetPlayerWantedLevelEx(playerid, 0);
			}
			else SetPlayerWantedLevelEx(playerid, PI[playerid][pi_WANTED_LEVEL] - 1);
		}
	}

	PI[playerid][pi_THIRST] -= floatdiv(float(INTERVAL_HUNGRY_THIRST_DOWN), floatmul(THIRST_HOURS_STOPPED, 36));
	PI[playerid][pi_HUNGRY] -= floatdiv(float(INTERVAL_HUNGRY_THIRST_DOWN), floatmul(HUNGRY_HOURS_STOPPED, 36));
	
	if(PI[playerid][pi_THIRST] <= 0.5) PI[playerid][pi_THIRST] = 0.5;
	if(PI[playerid][pi_HUNGRY] <= 0.5) PI[playerid][pi_HUNGRY] = 0.5;
	if(PI[playerid][pi_THIRST] < 20.0)
	{
		PI[playerid][pi_HEALTH] -= 0.5;
		SendNotification(playerid, "Estado ~b~desidratado.");
		
		if(PI[playerid][pi_THIRST] <= 1.0 || PI[playerid][pi_HEALTH] <= 0.5)
		{
		    SendClientMessage(playerid, -1, "{FF0000}» {FFFFFF}Te has desmayado por deshidratación.");
			SetPlayerHealthEx(playerid, 0.0);
			PI[playerid][pi_THIRST] = 25.0;
			return 1;
		}
		
		SetPlayerHealthEx(playerid, PI[playerid][pi_HEALTH]);
		
		if(!PLAYER_TEMP[playerid][pt_THIRST_MESSAGE])
		{
		    SendClientMessage(playerid, -1, "{FF0000}» {FFFFFF}Tienes sed, si no bebes agua pronto acabarás muriendo.");
			PLAYER_TEMP[playerid][pt_THIRST_MESSAGE] = true;
		}
	}
	
	if(PI[playerid][pi_HUNGRY] < 20.0)
	{
		PI[playerid][pi_HEALTH] -= 0.5;
		
		SendNotification(playerid, "Estado ~y~hambriento.");
		
		if(PI[playerid][pi_HUNGRY] <= 1.0 || PI[playerid][pi_HEALTH] <= 0.5)
		{
			SendClientMessage(playerid, -1, "{FF0000}» {FFFFFF}Te has desmayado por hambre.");
			SetPlayerHealthEx(playerid, 0.0);
			PI[playerid][pi_HUNGRY] = 25.0;
			return 1;
		}
		
		SetPlayerHealthEx(playerid, PI[playerid][pi_HEALTH]);
		
		if(!PLAYER_TEMP[playerid][pt_HUNGRY_MESSAGE])
		{
			SendClientMessage(playerid, -1, "{FF0000}» {FFFFFF}Tienes hambre, si no comes algo pronto acabarás muriendo.");
			PLAYER_TEMP[playerid][pt_HUNGRY_MESSAGE] = true;
		}
	}
	
	UpdatePlayerHud(playerid);
	return 1;
}

SetPlayerHud(playerid)
{
	PLAYER_TEMP[playerid][pt_HUD_TEXTDRAWS] = true;
	
	for(new i = 0; i < 5; i++)
    {
        // Solo lo mostramos si el TextDraw existe (para evitar errores)
        if(PlayerTextdraws[playerid][ptextdraw_NECESIDADES][i] != PlayerText:INVALID_TEXT_DRAW)
        {
            PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_NECESIDADES][i]);
        }
    }
	UpdatePlayerHud(playerid);
	
	PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_HUD][7]);
	
	KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][5]);
	PLAYER_TEMP[playerid][pt_TIMERS][5] = SetTimerEx("HungryThirstDown", INTERVAL_HUNGRY_THIRST_DOWN * 1000, true, "i", playerid);
	return 1;
}

HidePlayerHud(playerid)
{
	KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][5]);
	PLAYER_TEMP[playerid][pt_HUD_TEXTDRAWS] = false;
	
	for(new i = 0; i < HUD_TEXTDRAWS_SIZE; i ++) {
		TextDrawHideForPlayer(playerid, Textdraws[textdraw_HUD][i]);	
	}
	
	for(new i = 0; i < HUD_PTEXTDRAWS_SIZE; i ++) {
		PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_HUD][i]);
	}

	/*PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_WANTED_LEVEL][0]);
	PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_WANTED_LEVEL][1]);*/
	return 1;
}

Add_Hungry_Thirst(playerid, Float:hungry, Float:thirst)
{
	PI[playerid][pi_HUNGRY] += hungry;
	if(PI[playerid][pi_HUNGRY] > 30.0) PLAYER_TEMP[playerid][pt_HUNGRY_MESSAGE] = false;
	if(PI[playerid][pi_HUNGRY] > 100.0) PI[playerid][pi_HUNGRY] = 100.0;

	PI[playerid][pi_THIRST] += thirst;
	if(PI[playerid][pi_THIRST] > 30.0) PLAYER_TEMP[playerid][pt_THIRST_MESSAGE] = false;
	if(PI[playerid][pi_THIRST] > 100.0) PI[playerid][pi_THIRST] = 100.0;

	UpdatePlayerHud(playerid);
	return 1;
}

/*Add_cansancio(playerid, Float:cansancio)
{
	PI[playerid][pi_CANSADO] += cansancio;
	if(PI[playerid][pi_CANSADO] > 60.0) PLAYER_TEMP[playerid][pt_CANSANCIO_MESSAGE] = false;
	if(PI[playerid][pi_CANSADO] > 100.0) PI[playerid][pi_CANSADO] = 100.0;
	return 1;
}*/

stock SetActorFacingAngleEx(actorid, skin, Float:angle, &actor)
{
	actor = INVALID_ACTOR_ID;

    new Float:x, Float:y, Float:z, vw;
    GetActorPos(actorid, x, y, z);
	vw = GetActorVirtualWorld(actorid);
    DestroyActor(actorid);
    actor = CreateActor(skin, x, y, z, angle);
	SetActorVirtualWorld(actor, vw);
	return 1;
}

GetPlayerIdByBankAccountId(account_id)
{
	for(new i = 0; i != sizeof(PI); i ++)
	{
		if(PI[i][pi_BANK_ACCOUNT] == 0) continue;
		if(PI[i][pi_BANK_ACCOUNT] == account_id) return i;
	}
	return -1;
}

public OnPlayerStateChange(playerid, newstate, oldstate)
{
	if(PLAYER_TEMP[playerid][pt_KICKED]) return 1;
	
	if(newstate == PLAYER_STATE_DRIVER)
    {
        new v = GetPlayerVehicleID(playerid);
        if(v == INVALID_VEHICLE_ID) return 1; // Seguridad extra

        // --- 1. LÓGICA PARA AUTOS DE TRABAJO ---
        if(TimerAbandonoVeh[v] != 0)
        {
            KillTimer(TimerAbandonoVeh[v]);
            TimerAbandonoVeh[v] = 0;
            SendClientMessage(playerid, -1, "{00FF00}» {FFFFFF}Has regresado a tiempo, el vehículo de trabajo ya no se borrará.");
        }
        
        // --- 2. LÓGICA PARA AUTOS PERSONALES (SISTEMA NUEVO) ---
        if(PLAYER_VEHICLES[v][player_vehicle_VALID])
        {
            GLOBAL_VEHICLES[v][gb_vehicle_ABANDONED_TICKS] = 0;
            // No ponemos mensaje aquí porque el Timer de 500ms ya lo pondrá
            // o puedes ponerlo tú si prefieres que sea instantáneo.
        }
    }

	if(PLAYER_TEMP[playerid][pt_GAME_STATE] == GAME_STATE_NORMAL)
	{
		if(newstate != PLAYER_STATE_SPAWNED && oldstate != PLAYER_STATE_SPAWNED)
		{
			if(ac_Info[CHEAT_STATE_SPAMMER][ac_Enabled])
			{
				if(gettime() > PLAYER_AC_INFO[playerid][CHEAT_STATE_SPAMMER][p_ac_info_IMMUNITY])
				{
					new interval = GetTickDiff(GetTickCount(), PLAYER_TEMP[playerid][pt_ANTIFLOOD_STATE]);

					if(interval < 50)
					{
						if(!ac_Info[CHEAT_STATE_SPAMMER][ac_Interval]) OnPlayerCheatDetected(playerid, CHEAT_STATE_SPAMMER, float(interval));
						else
						{
							if(gettime() - PLAYER_AC_INFO[playerid][CHEAT_STATE_SPAMMER][p_ac_info_LAST_DETECTION] > ac_Info[CHEAT_STATE_SPAMMER][ac_Interval]) PLAYER_AC_INFO[playerid][CHEAT_STATE_SPAMMER][p_ac_info_DETECTIONS] = 0;
							else PLAYER_AC_INFO[playerid][CHEAT_STATE_SPAMMER][p_ac_info_DETECTIONS] ++;

							PLAYER_AC_INFO[playerid][CHEAT_STATE_SPAMMER][p_ac_info_LAST_DETECTION] = gettime();
							if(PLAYER_AC_INFO[playerid][CHEAT_STATE_SPAMMER][p_ac_info_DETECTIONS] >= ac_Info[CHEAT_STATE_SPAMMER][ac_Detections]) OnPlayerCheatDetected(playerid, CHEAT_STATE_SPAMMER, float(interval));
						}
					}
					PLAYER_TEMP[playerid][pt_ANTIFLOOD_STATE] = GetTickCount();
				}
			}
		}
	}

    if(newstate == PLAYER_STATE_DRIVER)
    {
		new vehicleid = GetPlayerVehicleID(playerid);
		if(ac_Info[CHEAT_CAR_JACKING][ac_Enabled])
		{
			if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_OCCUPIED] && GLOBAL_VEHICLES[vehicleid][gb_vehicle_DRIVER] != INVALID_PLAYER_ID)
			{
				if(gettime() > PLAYER_AC_INFO[playerid][CHEAT_CAR_JACKING][p_ac_info_IMMUNITY])
				{
					if(!ac_Info[CHEAT_CAR_JACKING][ac_Interval]) OnPlayerCheatDetected(playerid, CHEAT_CAR_JACKING);
					else
					{
						if(gettime() - PLAYER_AC_INFO[playerid][CHEAT_CAR_JACKING][p_ac_info_LAST_DETECTION] > ac_Info[CHEAT_CAR_JACKING][ac_Interval]) PLAYER_AC_INFO[playerid][CHEAT_CAR_JACKING][p_ac_info_DETECTIONS] = 0;
						else PLAYER_AC_INFO[playerid][CHEAT_CAR_JACKING][p_ac_info_DETECTIONS] ++;
						PLAYER_AC_INFO[playerid][CHEAT_CAR_JACKING][p_ac_info_LAST_DETECTION] = gettime();
						if(PLAYER_AC_INFO[playerid][CHEAT_CAR_JACKING][p_ac_info_DETECTIONS] >= ac_Info[CHEAT_CAR_JACKING][ac_Detections]) OnPlayerCheatDetected(playerid, CHEAT_CAR_JACKING);
					}

					PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] = INVALID_VEHICLE_ID;
					return 1;
				}
			}
		}

		SetPlayerArmedWeapon(playerid, 0);
		PLAYER_AC_INFO[playerid][CHEAT_VEHICLE_HEALTH][p_ac_info_IMMUNITY] = gettime() + 3;
		PLAYER_AC_INFO[playerid][CHEAT_POS][p_ac_info_IMMUNITY] = gettime() + 3;
		PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] = vehicleid;

		GLOBAL_VEHICLES[vehicleid][gb_vehicle_DRIVER] = playerid;
		GLOBAL_VEHICLES[vehicleid][gb_vehicle_LAST_DRIVER] = playerid;
		GLOBAL_VEHICLES[vehicleid][gb_vehicle_OCCUPIED] = true;
		GLOBAL_VEHICLES[vehicleid][gb_vehicle_RESPAWN_TIME] = gettime() + 600;

		if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_DOORS] && VEHICLE_INFO[ GLOBAL_VEHICLES[vehicleid][gb_vehicle_MODELID] - 400][vehicle_info_DRIVER_DOOR]) //cerrado
		{
			if(gettime() - GLOBAL_VEHICLES[vehicleid][gb_vehicle_LAST_CLOSED_TIME] > 5) // Si el tiempo que paso desde que cerro es mayor a 5
			{
				if(ac_Info[CHEAT_PLAYER_VEHICLE_DOORS][ac_Enabled])
				{
					if(gettime() > PLAYER_AC_INFO[playerid][CHEAT_PLAYER_VEHICLE_DOORS][p_ac_info_IMMUNITY])
					{
						if(!ac_Info[CHEAT_PLAYER_VEHICLE_DOORS][ac_Interval]) OnPlayerCheatDetected(playerid, CHEAT_PLAYER_VEHICLE_DOORS);
						else
						{
							if(gettime() - PLAYER_AC_INFO[playerid][CHEAT_PLAYER_VEHICLE_DOORS][p_ac_info_LAST_DETECTION] > ac_Info[CHEAT_PLAYER_VEHICLE_DOORS][ac_Interval]) PLAYER_AC_INFO[playerid][CHEAT_PLAYER_VEHICLE_DOORS][p_ac_info_DETECTIONS] = 0;
							else PLAYER_AC_INFO[playerid][CHEAT_PLAYER_VEHICLE_DOORS][p_ac_info_DETECTIONS] ++;

							PLAYER_AC_INFO[playerid][CHEAT_PLAYER_VEHICLE_DOORS][p_ac_info_LAST_DETECTION] = gettime();
							if(PLAYER_AC_INFO[playerid][CHEAT_PLAYER_VEHICLE_DOORS][p_ac_info_DETECTIONS] >= ac_Info[CHEAT_PLAYER_VEHICLE_DOORS][ac_Detections]) OnPlayerCheatDetected(playerid, CHEAT_PLAYER_VEHICLE_DOORS);
						}
					}
				}
			}
		}
		switch(GLOBAL_VEHICLES[vehicleid][gb_vehicle_TYPE])
		{
			case VEHICLE_TYPE_NONE:
			{
				if(!VEHICLE_INFO[ GLOBAL_VEHICLES[vehicleid][gb_vehicle_MODELID] - 400][vehicle_info_ENGINE])
				{
					GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_ENGINE] = 1;
					UpdateVehicleParams(vehicleid);
				}
			}
			case VEHICLE_TYPE_DRIVING_SCHOOL:
			{
				if(PLAYER_TEMP[playerid][pt_DL_EXAM])
				{
					ShowPlayerMessage(playerid, "Sigue los puntos de control para completar el examen.", 2);
					SetPlayerDrivingSchoolCP(playerid);
				}
			}
			case VEHICLE_TYPE_SELL:
			{
				PLAYER_TEMP[playerid][pt_SELECTED_BUY_VEHICLE_ID] = vehicleid;
				new pvehicles = CountPlayerVehicles(playerid);
				if(pvehicles >= MAX_SU_VEHICLES) return SendFormatNotification(playerid, "No puedes comprar más vehiculos, el límite es %d.", MAX_SU_VEHICLES);
				if(!PI[playerid][pi_VIP])
				{
					if(pvehicles >= MAX_NU_VEHICLES)
					{
						SendFormatNotification(playerid, "¡Los jugadores ~y~VIP ~w~pueden tener hasta %d vehiculos! Usa ~y~/ayuda ~w~si quieres ser ~y~VIP~w~.", MAX_SU_VEHICLES);
						return 1;
					}
				}

				ShowDialog(playerid, DIALOG_BUY_VEHICLE);
				return 1;
			}
			case VEHICLE_TYPE_WORK:
			{
				if(!PLAYER_WORKS[playerid][ WORK_VEHICLES[vehicleid][work_vehicle_WORK] ][pwork_SET])
				{
					if(ac_Info[CHEAT_PLAYER_VEHICLE_WORK][ac_Enabled])
					{
						if(gettime() > PLAYER_AC_INFO[playerid][CHEAT_PLAYER_VEHICLE_WORK][p_ac_info_IMMUNITY])
						{
							if(!ac_Info[CHEAT_PLAYER_VEHICLE_WORK][ac_Interval]) OnPlayerCheatDetected(playerid, CHEAT_PLAYER_VEHICLE_WORK);
							else
							{
								if(gettime() - PLAYER_AC_INFO[playerid][CHEAT_PLAYER_VEHICLE_WORK][p_ac_info_LAST_DETECTION] > ac_Info[CHEAT_PLAYER_VEHICLE_WORK][ac_Interval]) PLAYER_AC_INFO[playerid][CHEAT_PLAYER_VEHICLE_WORK][p_ac_info_DETECTIONS] = 0;
								else PLAYER_AC_INFO[playerid][CHEAT_PLAYER_VEHICLE_WORK][p_ac_info_DETECTIONS] ++;

								PLAYER_AC_INFO[playerid][CHEAT_PLAYER_VEHICLE_WORK][p_ac_info_LAST_DETECTION] = gettime();
								if(PLAYER_AC_INFO[playerid][CHEAT_PLAYER_VEHICLE_WORK][p_ac_info_DETECTIONS] >= ac_Info[CHEAT_PLAYER_VEHICLE_WORK][ac_Detections]) OnPlayerCheatDetected(playerid, CHEAT_PLAYER_VEHICLE_WORK);
							}
						}
					}
					return 1;
				}

				if(PLAYER_TEMP[playerid][pt_WORKING_IN] && PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_VEHICLES[vehicleid][work_vehicle_WORK])
				{
					if(ac_Info[CHEAT_PLAYER_VEHICLE_WORK][ac_Enabled])
					{
						if(gettime() > PLAYER_AC_INFO[playerid][CHEAT_PLAYER_VEHICLE_WORK][p_ac_info_IMMUNITY])
						{
							if(!ac_Info[CHEAT_PLAYER_VEHICLE_WORK][ac_Interval]) OnPlayerCheatDetected(playerid, CHEAT_PLAYER_VEHICLE_WORK);
							else
							{
								if(gettime() - PLAYER_AC_INFO[playerid][CHEAT_PLAYER_VEHICLE_WORK][p_ac_info_LAST_DETECTION] > ac_Info[CHEAT_PLAYER_VEHICLE_WORK][ac_Interval]) PLAYER_AC_INFO[playerid][CHEAT_PLAYER_VEHICLE_WORK][p_ac_info_DETECTIONS] = 0;
								else PLAYER_AC_INFO[playerid][CHEAT_PLAYER_VEHICLE_WORK][p_ac_info_DETECTIONS] ++;

								PLAYER_AC_INFO[playerid][CHEAT_PLAYER_VEHICLE_WORK][p_ac_info_LAST_DETECTION] = gettime();
								if(PLAYER_AC_INFO[playerid][CHEAT_PLAYER_VEHICLE_WORK][p_ac_info_DETECTIONS] >= ac_Info[CHEAT_PLAYER_VEHICLE_WORK][ac_Detections]) OnPlayerCheatDetected(playerid, CHEAT_PLAYER_VEHICLE_WORK);
							}
						}
					}
					return 1;
				}

				if(WORK_VEHICLES[vehicleid][work_vehicle_NEED_DUTY])
				{
					if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_VEHICLES[vehicleid][work_vehicle_WORK])
					{
						if(ac_Info[CHEAT_PLAYER_VEHICLE_WORK][ac_Enabled])
						{
							if(gettime() > PLAYER_AC_INFO[playerid][CHEAT_PLAYER_VEHICLE_WORK][p_ac_info_IMMUNITY])
							{
								if(!ac_Info[CHEAT_PLAYER_VEHICLE_WORK][ac_Interval]) OnPlayerCheatDetected(playerid, CHEAT_PLAYER_VEHICLE_WORK);
								else
								{
									if(gettime() - PLAYER_AC_INFO[playerid][CHEAT_PLAYER_VEHICLE_WORK][p_ac_info_LAST_DETECTION] > ac_Info[CHEAT_PLAYER_VEHICLE_WORK][ac_Interval]) PLAYER_AC_INFO[playerid][CHEAT_PLAYER_VEHICLE_WORK][p_ac_info_DETECTIONS] = 0;
									else PLAYER_AC_INFO[playerid][CHEAT_PLAYER_VEHICLE_WORK][p_ac_info_DETECTIONS] ++;

									PLAYER_AC_INFO[playerid][CHEAT_PLAYER_VEHICLE_WORK][p_ac_info_LAST_DETECTION] = gettime();
									if(PLAYER_AC_INFO[playerid][CHEAT_PLAYER_VEHICLE_WORK][p_ac_info_DETECTIONS] >= ac_Info[CHEAT_PLAYER_VEHICLE_WORK][ac_Detections]) OnPlayerCheatDetected(playerid, CHEAT_PLAYER_VEHICLE_WORK);
								}
							}
						}
						return 1;
					}
				}

				if(WORK_VEHICLES[vehicleid][work_vehicle_EXP] > PLAYER_WORKS[playerid][ WORK_VEHICLES[vehicleid][work_vehicle_WORK] ][pwork_LEVEL])
				{
					if(ac_Info[CHEAT_PLAYER_VEHICLE_WORK][ac_Enabled])
					{
						if(gettime() > PLAYER_AC_INFO[playerid][CHEAT_PLAYER_VEHICLE_WORK][p_ac_info_IMMUNITY])
						{
							if(!ac_Info[CHEAT_PLAYER_VEHICLE_WORK][ac_Interval]) OnPlayerCheatDetected(playerid, CHEAT_PLAYER_VEHICLE_WORK);
							else
							{
								if(gettime() - PLAYER_AC_INFO[playerid][CHEAT_PLAYER_VEHICLE_WORK][p_ac_info_LAST_DETECTION] > ac_Info[CHEAT_PLAYER_VEHICLE_WORK][ac_Interval]) PLAYER_AC_INFO[playerid][CHEAT_PLAYER_VEHICLE_WORK][p_ac_info_DETECTIONS] = 0;
								else PLAYER_AC_INFO[playerid][CHEAT_PLAYER_VEHICLE_WORK][p_ac_info_DETECTIONS] ++;

								PLAYER_AC_INFO[playerid][CHEAT_PLAYER_VEHICLE_WORK][p_ac_info_LAST_DETECTION] = gettime();
								if(PLAYER_AC_INFO[playerid][CHEAT_PLAYER_VEHICLE_WORK][p_ac_info_DETECTIONS] >= ac_Info[CHEAT_PLAYER_VEHICLE_WORK][ac_Detections]) OnPlayerCheatDetected(playerid, CHEAT_PLAYER_VEHICLE_WORK);
							}
						}
					}
					return 1;
				}

				switch(WORK_VEHICLES[vehicleid][work_vehicle_WORK])
				{
					case WORK_TAXI, WORK_HARVESTER, WORK_BUS: CallLocalFunction("StartPlayerJob", "iii", playerid, WORK_VEHICLES[vehicleid][work_vehicle_WORK], vehicleid);
					case WORK_TRUCK:
					{
						if(TRUCK_VEHICLE[vehicleid][truck_vehicle_LOADED])
						{
							if(TRUCK_VEHICLE[vehicleid][truck_vehicle_DRIVER_USER_ID] != PI[playerid][pi_ID])
							{
								ShowPlayerMessage(playerid, "No eres el conductor de este vehiculo.", 2);
								RemovePlayerFromVehicle(playerid);
								return 1;
							}
							else StartPlayerJob(playerid, WORK_VEHICLES[vehicleid][work_vehicle_WORK], vehicleid);
						}
						else StartPlayerJob(playerid, WORK_VEHICLES[vehicleid][work_vehicle_WORK], vehicleid);
					}
					case WORK_TRASH:
					{
						if(TRASH_VEHICLES[vehicleid][trash_vehicle_JOB_STARTED])
						{
							if(TRASH_VEHICLES[vehicleid][trash_vehicle_DRIVER_ID] != playerid)
							{
								ShowPlayerMessage(playerid, "No eres el conductor de este ~y~camión.", 2);
								RemovePlayerFromVehicle(playerid);
								return 1;
							}

							SetPlayerTrashCheckpoint(playerid, vehicleid);
						}
						else
						{
							if(PLAYER_TEMP[playerid][pt_TRASH_DRIVER] || PLAYER_TEMP[playerid][pt_TRASH_PASSENGER])
							{
								ShowPlayerMessage(playerid, "Ya estás trabajando con otro ~y~compañero.", 2);
								RemovePlayerFromVehicle(playerid);
								return 1;
							}

							PLAYER_TEMP[playerid][pt_TRASH_DRIVER] = true;
							PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] = vehicleid;
							TRASH_VEHICLES[vehicleid][trash_vehicle_DRIVER_ID] = playerid;

							if(TRASH_VEHICLES[vehicleid][trash_vehicle_PASSENGER_ID] == INVALID_PLAYER_ID) ShowPlayerMessage(playerid, "Necesitas un compañero para empezar con el trabajo.", 2);
							else
							{
								new route = random(MAX_ROUTES);
								while(!TRASH_OBJECTS[route][trash_route_VALID])
								{
									route = random(MAX_ROUTES);
								}

								TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_JOB_STARTED] = true;
								TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_ROUTE] = route;
								TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_CP] = 0;

								SetPlayerTrashCheckpoint(TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_DRIVER_ID], PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID]);
								SetPlayerTrashCheckpoint(TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_PASSENGER_ID], PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID]);

								CreatePlayerTrashRouteObjects(TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_DRIVER_ID], route);
								CreatePlayerTrashRouteObjects(TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_PASSENGER_ID], route);

								SendFormatNotification(TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_DRIVER_ID], "Ruta ~y~#%d ~w~establecida, pueden comenzar.", TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_ROUTE] + 1);
								SendFormatNotification(TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_PASSENGER_ID], "Ruta ~y~#%d ~w~establecida, pueden comenzar.", TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_ROUTE] + 1);

							}
						}
					}
					case WORK_PIZZA:
					{
						if(PIZZA_VEHICLE[vehicleid][pizza_vehicle_STARTED])
						{
							if(PIZZA_VEHICLE[vehicleid][pizza_vehicle_DRIVER_AID] != PI[playerid][pi_ID])
							{
								if(GetVehicleDistanceFromPoint(vehicleid, GLOBAL_VEHICLES[vehicleid][gb_vehicle_SPAWN_X], GLOBAL_VEHICLES[vehicleid][gb_vehicle_SPAWN_Y], GLOBAL_VEHICLES[vehicleid][gb_vehicle_SPAWN_Z]) < 20.0)
								{
									SetVehicleToRespawnEx(vehicleid);
								}

								ShowPlayerMessage(playerid, "No eres el conductor de esta ~y~moto.", 2);
								RemovePlayerFromVehicle(playerid);
								return 1;
							}

							if(!PLAYER_TEMP[playerid][pt_PIZZA_PROCCESS])
							{
								ShowPlayerMessage(playerid, "Ya has repartido todas las pizzas, vuelve a la pizzería para ~y~cobrar.", 2);
								SetPlayer_Pizza_Checkpoint(playerid, -1);
							}
							else
							{
								SendFormatNotification(playerid, "Te quedan %d pizzas por ~y~repartir.", PLAYER_TEMP[playerid][pt_PIZZA_PROCCESS]);
								if(PIZZA_VEHICLE[vehicleid][pizza_vehicle_PIZZA_POINT_DELI])
								{
									PIZZA_VEHICLE[vehicleid][pizza_vehicle_PIZZA_POINT] = randomEx(sizeof(PIZZA_DELIVERY_POINT), PIZZA_VEHICLE[vehicleid][pizza_vehicle_PIZZA_POINT]);
									PIZZA_VEHICLE[vehicleid][pizza_vehicle_PIZZA_POINT_DELI] = false;
								}
								SetPlayer_Pizza_Checkpoint(playerid, PIZZA_VEHICLE[vehicleid][pizza_vehicle_PIZZA_POINT]);
							}
						}
						else
						{
							PIZZA_VEHICLE[vehicleid][pizza_vehicle_STARTED] = true;
							PIZZA_VEHICLE[vehicleid][pizza_vehicle_DRIVER_AID] = PI[playerid][pi_ID];
							PIZZA_VEHICLE[vehicleid][pizza_vehicle_PIZZAS] = minrand(3, 6);
							PIZZA_VEHICLE[vehicleid][pizza_vehicle_PIZZA_POINT] = random( sizeof(PIZZA_DELIVERY_POINT) );
							PIZZA_VEHICLE[vehicleid][pizza_vehicle_PIZZA_POINT_DELI] = false;
							PLAYER_TEMP[playerid][pt_PIZZA_PROCCESS] = PIZZA_VEHICLE[vehicleid][pizza_vehicle_PIZZAS];
							PLAYER_TEMP[playerid][pt_DELIVERED_PIZZAS] = 0;

							SendFormatNotification(playerid, "Esta moto tiene %d pizzas, repartelas todas y vuelve a la pizzería para cobrar.", PIZZA_VEHICLE[vehicleid][pizza_vehicle_PIZZAS]);
							SetPlayer_Pizza_Checkpoint(playerid, PIZZA_VEHICLE[vehicleid][pizza_vehicle_PIZZA_POINT]);
						}
					}
				}
			}
		}
		if(VEHICLE_INFO[GetVehicleModel(vehicleid) - 400][vehicle_info_NORMAL_SPEEDO] && !PLAYER_TEMP[playerid][pt_IN_TUNING_GARAGE]) ShowPlayerSpeedoMeter(playerid);

		if(PLAYER_TEMP[playerid][pt_WANT_TAXI])
		{
			if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_STATE] == VEHICLE_STATE_NORMAL)
			{
				PLAYER_TEMP[playerid][pt_WANT_TAXI] = false;
				DisablePlayerTaxiMark(playerid);

				ShowPlayerMessage(playerid, "Tu taxi se ha cancelado porque te has subido a un ~y~vehiculo.", 2);
			}
		}
    }

	else if(newstate == PLAYER_STATE_PASSENGER)
	{
		PLAYER_AC_INFO[playerid][CHEAT_POS][p_ac_info_IMMUNITY] = gettime() + 3;

		new vehicleid = GetPlayerVehicleID(playerid);
		PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] = vehicleid;

		if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_DOORS] && VEHICLE_INFO[ GLOBAL_VEHICLES[vehicleid][gb_vehicle_MODELID] - 400][vehicle_info_PASSENGER_DOOR]) //cerrado
		{
			if(gettime() - GLOBAL_VEHICLES[vehicleid][gb_vehicle_LAST_CLOSED_TIME] > 5) // Si el tiempo que paso desde que cerro es mayor a 5
			{
				if(ac_Info[CHEAT_PLAYER_VEHICLE_DOORS][ac_Enabled])
				{
					if(gettime() > PLAYER_AC_INFO[playerid][CHEAT_PLAYER_VEHICLE_DOORS][p_ac_info_IMMUNITY])
					{
						if(!ac_Info[CHEAT_PLAYER_VEHICLE_DOORS][ac_Interval]) OnPlayerCheatDetected(playerid, CHEAT_PLAYER_VEHICLE_DOORS);
						else
						{
							if(gettime() - PLAYER_AC_INFO[playerid][CHEAT_PLAYER_VEHICLE_DOORS][p_ac_info_LAST_DETECTION] > ac_Info[CHEAT_PLAYER_VEHICLE_DOORS][ac_Interval]) PLAYER_AC_INFO[playerid][CHEAT_PLAYER_VEHICLE_DOORS][p_ac_info_DETECTIONS] = 0;
							else PLAYER_AC_INFO[playerid][CHEAT_PLAYER_VEHICLE_DOORS][p_ac_info_DETECTIONS] ++;

							PLAYER_AC_INFO[playerid][CHEAT_PLAYER_VEHICLE_DOORS][p_ac_info_LAST_DETECTION] = gettime();
							if(PLAYER_AC_INFO[playerid][CHEAT_PLAYER_VEHICLE_DOORS][p_ac_info_DETECTIONS] >= ac_Info[CHEAT_PLAYER_VEHICLE_DOORS][ac_Detections]) OnPlayerCheatDetected(playerid, CHEAT_PLAYER_VEHICLE_DOORS);
						}
					}
				}
			}
		}

		if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_TYPE] == VEHICLE_TYPE_WORK)
		{
			switch(WORK_VEHICLES[vehicleid][work_vehicle_WORK])
			{
				case WORK_TAXI:
				{
					if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_DRIVER] == INVALID_PLAYER_ID) return 1;
					if(TAXI_METER_VEHICLE[vehicleid][veh_taxi_meter_ENABLED])
					{
						if(PLAYER_TEMP[playerid][pt_WANT_TAXI])
						{
							PLAYER_TEMP[playerid][pt_WANT_TAXI] = false;
							DisablePlayerTaxiMark(playerid);
						}
						return 1;
					}

					ShowPlayerTaxiMeter(playerid);
					if(PLAYER_TEMP[playerid][pt_WANT_TAXI])
					{
						PLAYER_TEMP[playerid][pt_WANT_TAXI] = false;
						DisablePlayerTaxiMark(playerid);
					}

					TAXI_METER_VEHICLE[vehicleid][veh_taxi_meter_ENABLED] = true;
					GetVehiclePos(vehicleid, TAXI_METER_VEHICLE[vehicleid][veh_taxi_meter_OLD_X], TAXI_METER_VEHICLE[vehicleid][veh_taxi_meter_OLD_Y], TAXI_METER_VEHICLE[vehicleid][veh_taxi_meter_OLD_Z]);
					KillTimer(TAXI_METER_VEHICLE[vehicleid][veh_taxi_meter_TIMER]);
					TAXI_METER_VEHICLE[vehicleid][veh_taxi_meter_TIMER] = SetTimerEx("UpdateVehicleTaximeter", 4000, true, "iii", vehicleid, GLOBAL_VEHICLES[vehicleid][gb_vehicle_DRIVER], playerid);
				}
				case WORK_TRASH:
				{
					if(!PLAYER_WORKS[playerid][WORK_TRASH][pwork_SET])
					{
						SendFormatNotification(playerid, "Necesitas ser %s para poder conducir este ~y~vehiculo.", work_info[ WORK_VEHICLES[vehicleid][work_vehicle_WORK] ][work_info_NAME]);
						RemovePlayerFromVehicle(playerid);
						return 1;
					}

					if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_TRASH)
					{
						ShowPlayerMessage(playerid, "No estás de servicio como basurero, ve a vestirte en el puesto de la entrada del ~y~vertedero.", 2);
						RemovePlayerFromVehicle(playerid);
						return 1;
					}

					if(TRASH_VEHICLES[vehicleid][trash_vehicle_JOB_STARTED])
					{
						if(TRASH_VEHICLES[vehicleid][trash_vehicle_PASSENGER_ID] != playerid)
						{
							ShowPlayerMessage(playerid, "No eres el acompañante de este ~y~camión.", 2);
							RemovePlayerFromVehicle(playerid);
							return 1;
						}

						SetPlayerTrashCheckpoint(playerid, vehicleid);
					}
					else
					{
						if(PLAYER_TEMP[playerid][pt_TRASH_DRIVER] || PLAYER_TEMP[playerid][pt_TRASH_PASSENGER])
						{
							ShowPlayerMessage(playerid, "Ya estás trabajando con otro ~y~compañero.", 2);
							RemovePlayerFromVehicle(playerid);
							return 1;
						}

						PLAYER_TEMP[playerid][pt_TRASH_PASSENGER] = true;
						PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] = vehicleid;
						TRASH_VEHICLES[vehicleid][trash_vehicle_PASSENGER_ID] = playerid;

						if(TRASH_VEHICLES[vehicleid][trash_vehicle_DRIVER_ID] == INVALID_PLAYER_ID) ShowPlayerMessage(playerid, "Necesitas un compañero para empezar con el ~y~trabajo.", 2);
						else
						{
							new route = random(MAX_ROUTES);
							while(!TRASH_OBJECTS[route][trash_route_VALID])
							{
								route = random(MAX_ROUTES);
							}

							TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_JOB_STARTED] = true;
							TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_ROUTE] = route;
							TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_CP] = 0;

							SetPlayerTrashCheckpoint(TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_DRIVER_ID], PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID]);
							SetPlayerTrashCheckpoint(TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_PASSENGER_ID], PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID]);

							CreatePlayerTrashRouteObjects(TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_DRIVER_ID], route);
							CreatePlayerTrashRouteObjects(TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_PASSENGER_ID], route);

							SendFormatNotification(TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_DRIVER_ID], "Ruta ~y~#%d ~w~establecida, pueden comenzar.", TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_ROUTE] + 1);
							SendFormatNotification(TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_PASSENGER_ID], "Ruta ~y~#%d ~w~establecida, pueden comenzar.", TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_ROUTE] + 1);

						}
					}
				}
			}
		}

		if(PLAYER_TEMP[playerid][pt_WANT_TAXI])
		{
			if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_STATE] == VEHICLE_STATE_NORMAL)
			{
				PLAYER_TEMP[playerid][pt_WANT_TAXI] = false;
				DisablePlayerTaxiMark(playerid);

				ShowPlayerMessage(playerid, "Tu taxi se ha cancelado porque te has subido a un ~y~vehiculo.", 2);
			}
		}
	}
	else if(newstate == PLAYER_STATE_SPECTATING)
	{
		if(!PLAYER_TEMP[playerid][pt_PLAYER_SPECTATE])
		{
			if(ac_Info[CHEAT_SPECTATE][ac_Enabled])
			{
				if(gettime() > PLAYER_AC_INFO[playerid][CHEAT_SPECTATE][p_ac_info_IMMUNITY])
				{
					if(!ac_Info[CHEAT_SPECTATE][ac_Interval]) OnPlayerCheatDetected(playerid, CHEAT_SPECTATE);
					else
					{
						if(gettime() - PLAYER_AC_INFO[playerid][CHEAT_SPECTATE][p_ac_info_LAST_DETECTION] > ac_Info[CHEAT_SPECTATE][ac_Interval]) PLAYER_AC_INFO[playerid][CHEAT_SPECTATE][p_ac_info_DETECTIONS] = 0;
						else PLAYER_AC_INFO[playerid][CHEAT_SPECTATE][p_ac_info_DETECTIONS] ++;

						PLAYER_AC_INFO[playerid][CHEAT_SPECTATE][p_ac_info_LAST_DETECTION] = gettime();
						if(PLAYER_AC_INFO[playerid][CHEAT_SPECTATE][p_ac_info_DETECTIONS] >= ac_Info[CHEAT_SPECTATE][ac_Detections]) OnPlayerCheatDetected(playerid, CHEAT_SPECTATE);
					}
				}
			}
		}
	}

	if(oldstate == PLAYER_STATE_DRIVER)
	{
		PLAYER_AC_INFO[playerid][CHEAT_POS][p_ac_info_IMMUNITY] = gettime() + 3;
		if(PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] != INVALID_VEHICLE_ID)
		{
			KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][7]);
			TextDrawHideForPlayer(playerid, Velocimetro[playerid]);
			if(IsValidDynamicRaceCP(PLAYER_TEMP[playerid][pt_DL_EXAM_CP]))
			{
				DestroyDynamicRaceCP(PLAYER_TEMP[playerid][pt_DL_EXAM_CP]);
				PLAYER_TEMP[playerid][pt_DL_EXAM_CP] = INVALID_STREAMER_ID;
			}

			if(GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] ][gb_vehicle_ATTACHED_TO] != INVALID_VEHICLE_ID)
			{
				if(GLOBAL_VEHICLES[ GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] ][gb_vehicle_ATTACHED_TO] ][gb_vehicle_DRIVER] != INVALID_PLAYER_ID)
				{
					PLAYER_AC_INFO[ GLOBAL_VEHICLES[ GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] ][gb_vehicle_ATTACHED_TO] ][gb_vehicle_DRIVER] 	][CHEAT_FAKE_TRAILER_SYNC][p_ac_info_IMMUNITY] = gettime() + 5;
				}
				GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] ][gb_vehicle_ATTACHED_TO] = INVALID_VEHICLE_ID;
				DetachTrailerFromVehicle(PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID]);
			}

			GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] ][gb_vehicle_TP_IMMUNITY] = gettime() + 5;
			GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] ][gb_vehicle_DRIVER] = INVALID_PLAYER_ID;
			GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] ][gb_vehicle_LAST_DRIVER] = playerid;
			GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] ][gb_vehicle_OCCUPIED] = false;
			GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] ][gb_vehicle_RESPAWN_TIME] = gettime() + 600;

			StopAudioStreamForPlayer(playerid);


			if(GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] ][gb_vehicle_TYPE] == VEHICLE_TYPE_WORK)
			{
				switch(WORK_VEHICLES[ PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] ][work_vehicle_WORK])
				{
					case WORK_TAXI, WORK_HARVESTER, WORK_BUS, WORK_TRUCK: CallLocalFunction("EndPlayerJob", "iib", playerid, PLAYER_TEMP[playerid][pt_WORKING_IN], true);
					case WORK_PIZZA:
					{
						if(PIZZA_VEHICLE[ PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] ][pizza_vehicle_STARTED])
						{
							if(PLAYER_TEMP[playerid][pt_PIZZA_PROCCESS])
							{
								new Float:distance =	GetPlayerDistanceFromPoint
																(
																	playerid,
																	PIZZA_DELIVERY_POINT[ PIZZA_VEHICLE[ PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] ][pizza_vehicle_PIZZA_POINT] ][0],
																	PIZZA_DELIVERY_POINT[ PIZZA_VEHICLE[ PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] ][pizza_vehicle_PIZZA_POINT] ][1],
																	PIZZA_DELIVERY_POINT[ PIZZA_VEHICLE[ PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] ][pizza_vehicle_PIZZA_POINT] ][2]
																);

								if(distance > 20.0)
								{
									ShowPlayerMessage(playerid, "Vuelve a subir a la moto, aún estás muy lejos del ~y~cliente.", 2);
									if(IsValidDynamicActor(PLAYER_TEMP[playerid][pt_PIZZA_ACTOR]))
									{
										DestroyDynamicActor(PLAYER_TEMP[playerid][pt_PIZZA_ACTOR]);
										PLAYER_TEMP[playerid][pt_PIZZA_ACTOR] = INVALID_STREAMER_ID;
									}
									if(IsValidDynamicCP(PLAYER_TEMP[playerid][pt_PIZZA_CHECKPOINT]))
									{
										DestroyDynamicCP(PLAYER_TEMP[playerid][pt_PIZZA_CHECKPOINT]);
										PLAYER_TEMP[playerid][pt_PIZZA_CHECKPOINT] = INVALID_STREAMER_ID;
									}
								}
								else
								{
									if(IsPlayerInDynamicCP(playerid, PLAYER_TEMP[playerid][pt_PIZZA_CHECKPOINT]))
									{
										PLAYER_TEMP[playerid][pt_PIZZA_PROCCESS] --;
										PLAYER_TEMP[playerid][pt_DELIVERED_PIZZAS] ++;
										RemovePlayerAttachedObject(playerid, 8);
										SetPlayerSpecialAction(playerid, SPECIAL_ACTION_NONE);
										ApplyDynamicActorAnimation(PLAYER_TEMP[playerid][pt_PIZZA_ACTOR], "FOOD", "EAT_Pizza", 4.1, false, true, true, false, 0);
										ApplyDynamicActorAnimation(PLAYER_TEMP[playerid][pt_PIZZA_ACTOR], "FOOD", "EAT_Pizza", 4.1, false, true, true, false, 0);
										DestroyDynamicCP(PLAYER_TEMP[playerid][pt_PIZZA_CHECKPOINT]);
										PLAYER_TEMP[playerid][pt_PIZZA_CHECKPOINT] = INVALID_STREAMER_ID;
										PIZZA_VEHICLE[ PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] ][pizza_vehicle_PIZZA_POINT_DELI] = true;
										ShowPlayerMessage(playerid, "Genial, vuelve a subir a la moto para ~y~continuar.", 2);
									}
									else
									{
										SetPlayerArmedWeapon(playerid, 0);
										SetPlayerAttachedObject(playerid, 8, 1582, 6, 0.094, 0.077999, -0.165999, 72.0, 8.799999, 9.899992, 0.73, 0.774999, 1.0);
										SetPlayerSpecialAction(playerid, SPECIAL_ACTION_CARRY);
									}
								}
							}
							else
							{
								if(IsValidDynamicActor(PLAYER_TEMP[playerid][pt_PIZZA_ACTOR]))
								{
									DestroyDynamicActor(PLAYER_TEMP[playerid][pt_PIZZA_ACTOR]);
									PLAYER_TEMP[playerid][pt_PIZZA_ACTOR] = INVALID_STREAMER_ID;
								}
								if(IsValidDynamicCP(PLAYER_TEMP[playerid][pt_PIZZA_CHECKPOINT]))
								{
									DestroyDynamicCP(PLAYER_TEMP[playerid][pt_PIZZA_CHECKPOINT]);
									PLAYER_TEMP[playerid][pt_PIZZA_CHECKPOINT] = INVALID_STREAMER_ID;
								}
								ShowPlayerMessage(playerid, "Vuelve a subir a la moto y ve a la pizzería para ~y~cobrar.", 2);
							}
						}
					}
				}
			}
			if(PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] == PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID])
			{
				if(PLAYER_TEMP[playerid][pt_TRASH_DRIVER])
				{
					if(TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_JOB_STARTED])
					{
						if(TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_DRIVER_ID] == playerid) ShowPlayerMessage(playerid, "Si quieres dejar de trabajar ve al vertedero y ponte tu ~y~ropa.", 2);
					}
					else
					{
						TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_DRIVER_ID] = INVALID_PLAYER_ID;
						PLAYER_TEMP[playerid][pt_TRASH_DRIVER] = false;
						PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] = INVALID_VEHICLE_ID;
					}
				}
			}
		}
	}
	else if(oldstate == PLAYER_STATE_PASSENGER)
	{
		if(PLAYER_TEMP[playerid][pt_TAXI_METER_ENABLED])
		{
			new driver = GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] ][gb_vehicle_DRIVER];

			if(driver != INVALID_PLAYER_ID)
			{
				new work_extra_payment;
				if(work_info[WORK_TAXI][work_info_EXTRA_PAY] > 0 && work_info[WORK_TAXI][work_info_EXTRA_PAY_EXP] > 0)
				{
					work_extra_payment = (work_info[WORK_TAXI][work_info_EXTRA_PAY] * floatround(floatdiv(PLAYER_WORKS[ driver ][WORK_TAXI][pwork_LEVEL], work_info[WORK_TAXI][work_info_EXTRA_PAY_EXP])));
					if(work_info[WORK_TAXI][work_info_EXTRA_PAY_LIMIT] != 0) if(work_extra_payment > work_info[WORK_TAXI][work_info_EXTRA_PAY_LIMIT]) work_extra_payment = work_info[WORK_TAXI][work_info_EXTRA_PAY_LIMIT];

					if(PI[playerid][pi_VIP]) work_extra_payment += SU_WORK_EXTRA_PAY;
				}
				PLAYER_WORKS[driver][WORK_TAXI][pwork_LEVEL] ++;

				SendFormatNotification(driver, "Has ganado ~g~%s dólares~w~ con este viaje.", number_format_thousand(TAXI_METER_VEHICLE[ PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] ][veh_taxi_meter_PAYMENT] + work_extra_payment));
				GivePlayerCash(driver, TAXI_METER_VEHICLE[ PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] ][veh_taxi_meter_PAYMENT] + work_extra_payment, true, false);
				GivePlayerCash(playerid, -TAXI_METER_VEHICLE[ PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] ][veh_taxi_meter_PAYMENT], true, true);

				SendFormatNotification(playerid, "El taxi te costó $%s.", number_format_thousand(TAXI_METER_VEHICLE[ PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] ][veh_taxi_meter_PAYMENT]));
				ResetVehicleTaxiMeter(PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID]);
				HidePlayerTaxiMeter(playerid);
				UpdatePlayerTaxiMeterTextdraws(driver);
			}

			new passenger = GetVehicleFirstPassenger( PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] );
			if(passenger != INVALID_PLAYER_ID)
			{
				ShowPlayerTaxiMeter(passenger);
				if(PLAYER_TEMP[passenger][pt_WANT_TAXI])
				{
					PLAYER_TEMP[passenger][pt_WANT_TAXI] = false;
					DisablePlayerTaxiMark(passenger);
				}

				TAXI_METER_VEHICLE[ PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] ][veh_taxi_meter_ENABLED] = true;
				GetVehiclePos(PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID], TAXI_METER_VEHICLE[ PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] ][veh_taxi_meter_OLD_X], TAXI_METER_VEHICLE[ PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] ][veh_taxi_meter_OLD_Y], TAXI_METER_VEHICLE[ PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] ][veh_taxi_meter_OLD_Z]);
				KillTimer(TAXI_METER_VEHICLE[ PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] ][veh_taxi_meter_TIMER]);
				TAXI_METER_VEHICLE[ PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] ][veh_taxi_meter_TIMER] = SetTimerEx("UpdateVehicleTaximeter", 4000, true, "iii", PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID], GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] ][gb_vehicle_DRIVER], passenger);
			}
		}
		if(PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] == PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID])
		{
			if(PLAYER_TEMP[playerid][pt_TRASH_PASSENGER])
			{
				if(TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_JOB_STARTED])
				{
					if(TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_PASSENGER_ID] == playerid)
					{
						if(TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_CP] >= TRASH_OBJECTS[ TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_ROUTE] ][trash_route_OBJECTS]) ShowPlayerMessage(playerid, "Sube al camión para volver al vertedero y recibir la ~y~paga.", 2);
						else
						{
							new cp = TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_CP];
							new route = TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_ROUTE];
							new Float:distance =	GetPlayerDistanceFromPoint
													(
														playerid,
														TRASH_OBJECTS[ route ][trash_object_X][ cp ],
														TRASH_OBJECTS[ route ][trash_object_Y][ cp ],
														TRASH_OBJECTS[ route ][trash_object_Z][ cp ]
													);

							if(distance > 10.0) ShowPlayerMessage(playerid, "Vuelve a subir al camión, aún estás demasiado lejos del punto de recogida.", 2);
							else
							{
								if(IsPlayerInDynamicCP(playerid, PLAYER_TEMP[playerid][pt_TRASH_CHECKPOINT]))
								{
									if(!PLAYER_WORKS[playerid][WORK_TRASH][pwork_SET]) return DestroyPlayerTrashCheckpoint(playerid);
									if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_TRASH) return DestroyPlayerTrashCheckpoint(playerid);
									if(!PLAYER_TEMP[playerid][pt_TRASH_PASSENGER]) return 1;

									new driver = TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_DRIVER_ID];
									SendClientMessage(driver, -1, "»Espera mientras tu compañero recoge la basura.");

									new Float:offset = floatdiv(PLAYER_WORKS[playerid][WORK_TRASH][pwork_LEVEL], 10);
									if(offset > 30.0) offset = 30.0;

									PLAYER_TEMP[playerid][pt_RECYCLE_BIN_VALUE] = 10.0 + offset;
									UpdatePlayerTrashRecycleSize(playerid);
									PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_RECYCLE_TRASH][0]);
									PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_RECYCLE_TRASH][1]);
									PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_RECYCLE_TRASH][2]);

									TogglePlayerControllableEx(playerid, false);
									SetCameraBehindPlayer(playerid);
									ApplyAnimation(playerid, "ROB_BANK", "CAT_Safe_Rob", 4.1, true, false, false, false, 0);
									KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][10]);
									PLAYER_TEMP[playerid][pt_TIMERS][10] = SetTimerEx("RecycleUp", 1000, false, "i", playerid);
									return 1;
								}
								ShowPlayerMessage(playerid, "Recoge la basura y vuelve al camión para ~y~continuar.", 2);
							}
						}
					}
				}
				else
				{
					TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_PASSENGER_ID] = INVALID_PLAYER_ID;
					PLAYER_TEMP[playerid][pt_TRASH_PASSENGER] = false;
					PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] = INVALID_VEHICLE_ID;
				}
			}
		}
	}
    return 1;
}

public OnPlayerExitVehicle(playerid, vehicleid)
{
	PLAYER_AC_INFO[playerid][CHEAT_POS][p_ac_info_IMMUNITY] = gettime() + 3;
	PLAYER_AC_INFO[playerid][CHEAT_STATE_SPAMMER][p_ac_info_IMMUNITY] = gettime() + 3;
	
	if(VehiculoTrabajo[playerid] == vehicleid) {
        //ShowPlayerMessage(playerid, "Has abandonado el vehiculo. Mision fallida.");
        ResetTrabajo(playerid);
    }
    
    if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_TYPE] == VEHICLE_TYPE_WORK)
    {
        // Si ya había un timer (por si alguien más se bajó antes), lo reiniciamos
        if(TimerAbandonoVeh[vehicleid] != 0) KillTimer(TimerAbandonoVeh[vehicleid]);

        // 10 minutos = 600,000 milisegundos
        TimerAbandonoVeh[vehicleid] = SetTimerEx("TimerRespawnTrabajo", 600000, false, "i", vehicleid);
    }
    
	return 1;
}

stock GetVehicleHexColor(colorid)
{
    static const g_VehicleColors[] = {
        0x000000FF, 0xFFFFFFFF, 0x2A77A1FF, 0x840410FF, 0x263739FF, 0x86446EFF, 0xD78E10FF, 0x4C75B7FF, 0xBDBCB7FF, 0x5E7072FF, 0x46597AFF, 0x60686AFF, 0x484248FF, 0x8D8C88FF, 0x525661FF, 0x7A6956FF,
        0x8E8C87FF, 0x341A1EFF, 0x6A7A8CFF, 0xAAAD8EFF, 0x395A83FF, 0x6C1C44FF, 0x6D5C51FF, 0x5B5D5EFF, 0x9F9D94FF, 0x3B4E42FF, 0x732E27FF, 0x724037FF, 0x929387FF, 0x515459FF, 0x475D59FF, 0x272E3BFF,
        0x785333FF, 0x324566FF, 0x293A42FF, 0x737972FF, 0x564C3EFF, 0x313957FF, 0x3B4E45FF, 0x554D44FF, 0xA99000FF, 0xCB9F67FF, 0x9D2027FF, 0xB2A996FF, 0x5E3F28FF, 0x1E5186FF, 0x731417FF, 0xAF441BFF,
        0x9D683FFF, 0x7C6D5CFF, 0xAF8E60FF, 0x617562FF, 0x345E77FF, 0x323944FF, 0x454E50FF, 0x998E62FF, 0x47321EFF, 0x5D331EFF, 0x2D2C2CFF, 0x434847FF, 0x332821FF, 0x2352FAFF, 0xA0BD49FF, 0xD473D4FF,
        0xFF3333FF, 0xFF8113FF, 0x079E07FF, 0xFFD303FF, 0xE08500FF, 0x00A1A1FF, 0x36C900FF, 0xFF437DFF, 0xFF01B0FF, 0x3010F9FF, 0x32C3FFFF, 0xDC0047FF, 0x5DBA02FF, 0x2400C8FF, 0x01B981FF, 0xBDBE02FF,
        0x01FF01FF, 0x00E1E1FF, 0x008080FF, 0xD70000FF, 0x1A449CFF, 0xF4CC31FF, 0xFF4BC3FF, 0xF24646FF, 0x231460FF, 0x6E19E6FF, 0xED44E7FF, 0x19942AFF, 0x264109FF, 0x31BD99FF, 0x10AEEBFF, 0xBA7202FF,
        0x282361FF, 0xFAAD2FFF, 0x307A07FF, 0x01693CFF, 0x556064FF, 0xE2E0D1FF, 0xDADBD5FF, 0x744C26FF, 0xA1A4A0FF, 0x212121FF, 0x1B2024FF, 0x1F2228FF, 0x3E3F3EFF, 0x7B7A75FF, 0x9F9D94FF, 0x3B4E42FF,
        0x732E27FF, 0x724037FF, 0x929387FF, 0x515459FF, 0x475D59FF, 0x272E3BFF, 0x785333FF, 0x324566FF, 0x293A42FF, 0x737972FF, 0x564C3EFF, 0x313957FF, 0x3B4E45FF, 0x554D44FF, 0xA99000FF, 0xCB9F67FF,
        0x9D2027FF, 0xB2A996FF, 0x5E3F28FF, 0x1E5186FF, 0x731417FF, 0xAF441BFF, 0x9D683FFF, 0x7C6D5CFF, 0xAF8E60FF, 0x617562FF, 0x345E77FF, 0x323944FF, 0x454E50FF, 0x998E62FF, 0x47321EFF, 0x5D331EFF,
        0x2D2C2CFF, 0x434847FF, 0x332821FF, 0x2352FAFF, 0xA0BD49FF, 0xD473D4FF, 0xFF3333FF, 0xFF8113FF, 0x079E07FF, 0xFFD303FF, 0xE08500FF, 0x00A1A1FF, 0x36C900FF, 0xFF437DFF, 0xFF01B0FF, 0x3010F9FF,
        0x32C3FFFF, 0xDC0047FF, 0x5DBA02FF, 0x2400C8FF, 0x01B981FF, 0xBDBE02FF, 0x01FF01FF, 0x00E1E1FF, 0x008080FF, 0xD70000FF, 0x1A449CFF, 0xF4CC31FF, 0xFF4BC3FF, 0xF24646FF, 0x231460FF, 0x6E19E6FF,
        0xED44E7FF, 0x19942AFF, 0x264109FF, 0x31BD99FF, 0x10AEEBFF, 0xBA7202FF, 0x282361FF, 0xFAAD2FFF, 0x307A07FF, 0x01693CFF, 0x556064FF, 0xE2E0D1FF, 0xDADBD5FF, 0x744C26FF, 0xA1A4A0FF, 0x212121FF,
        0x1B2024FF, 0x1F2228FF, 0x3E3F3EFF, 0x7B7A75FF, 0x9F9D94FF, 0x3B4E42FF, 0x732E27FF, 0x724037FF, 0x929387FF, 0x515459FF, 0x475D59FF, 0x272E3BFF, 0x785333FF, 0x324566FF, 0x293A42FF, 0x737972FF,
        0x564C3EFF, 0x313957FF, 0x3B4E45FF, 0x554D44FF, 0xA99000FF, 0xCB9F67FF, 0x9D2027FF, 0xB2A996FF, 0x5E3F28FF, 0x1E5186FF, 0x731417FF, 0xAF441BFF, 0x9D683FFF, 0x7C6D5CFF, 0xAF8E60FF, 0x617562FF,
        0x345E77FF, 0x323944FF, 0x454E50FF, 0x998E62FF, 0x47321EFF, 0x5D331EFF, 0x2D2C2CFF, 0x434847FF, 0x332821FF, 0x2352FAFF, 0xA0BD49FF, 0xD473D4FF, 0xFF3333FF, 0xFF8113FF, 0x079E07FF, 0xFFD303FF,
        0xE08500FF, 0x00A1A1FF, 0x36C900FF, 0xFF437DFF, 0xFF01B0FF, 0x3010F9FF, 0x32C3FFFF, 0xDC0047FF, 0x5DBA02FF, 0x2400C8FF, 0x01B981FF, 0xBDBE02FF, 0x01FF01FF, 0x00E1E1FF, 0x008080FF, 0xD70000FF
    };
    
    if(colorid < 0 || colorid >= sizeof(g_VehicleColors)) return 0xFFFFFFFF; // Blanco por defecto
    return g_VehicleColors[colorid];
}

ShowPlayerSpeedoMeter(playerid)
{
	if(GetPlayerState(playerid) != PLAYER_STATE_DRIVER) return 0;
	new vehicleid = GetPlayerVehicleID(playerid), modelid = GetVehicleModel(vehicleid);
	if(!VEHICLE_INFO[modelid - 400][vehicle_info_NORMAL_SPEEDO]) return 0;
	KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][8]);
	
	new td_str[64];
	format(td_str, sizeof td_str, "Velocidad:_0_Km/h~n~gasolina:_%.1f_L~n~", GLOBAL_VEHICLES[vehicleid][gb_vehicle_GAS]);
	PlayerTextDrawSetString(playerid, PlayerTextdraws[playerid][ptextdraw_SPEEDO_METER][1], td_str);
	
	PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_SPEEDO_METER][0]);
	PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_SPEEDO_METER][1]);
	
	// ... dentro de ShowPlayerSpeedoMeter ...

    // 1. Obtenemos los colores del vehiculo
    new col1, col2;
    GetVehicleColor(vehicleid, col1, col2); 

    // 2. Convertimos el ID del color 1 a Hexadecimal RGBA
    new hexColor = GetVehicleHexColor(col1);

    // 3. Aplicamos el color al TextDraw [0]
    // Nota: hexColor ya trae el formato necesario (ej: 0xFF0000FF)
    PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_SPEEDO_METER][0], hexColor);

    // 4. Refrescamos el TextDraw para que el cambio sea visible
    PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_SPEEDO_METER][0]);
    
	PLAYER_TEMP[playerid][pt_FUEL_DOWN_TIME] = gettime();
	PLAYER_TEMP[playerid][pt_TIMERS][8] = SetTimerEx("UpdatePlayerSpeedo", 250, true, "iif", playerid, vehicleid, VEHICLE_INFO[modelid - 400][vehicle_info_MAX_VEL]);
	return 1;
}

HidePlayerSpeedoMeter(playerid)
{
	KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][8]);
	PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_SPEEDO_METER][0]);
	PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_SPEEDO_METER][1]);
	return 1;
}

public OnDynamicObjectMoved(objectid)
{
    return 1;
}

forward UpdatePlayerSpeedo(playerid, vehicleid, Float:maxvel);
public UpdatePlayerSpeedo(playerid, vehicleid, Float:maxvel)
{
	if(vehicleid != GetPlayerVehicleID(playerid))
	{
		HidePlayerSpeedoMeter(playerid);
		ShowPlayerSpeedoMeter(playerid);
		
		GLOBAL_VEHICLES[vehicleid][gb_vehicle_TP_IMMUNITY] = gettime() + 5;
		GLOBAL_VEHICLES[vehicleid][gb_vehicle_DRIVER] = INVALID_PLAYER_ID;
		GLOBAL_VEHICLES[vehicleid][gb_vehicle_LAST_DRIVER] = playerid;
		GLOBAL_VEHICLES[vehicleid][gb_vehicle_OCCUPIED] = false;
		PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] = GetPlayerVehicleID(playerid);
		GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] ][gb_vehicle_OCCUPIED] = true;
		return 0;
	}
	
	new Float:velx = GetVehicleSpeed(vehicleid);
	
	if(ac_Info[CHEAT_VEHICLE_SPEED_HACK][ac_Enabled])
{
    if(gettime() > PLAYER_AC_INFO[playerid][CHEAT_VEHICLE_SPEED_HACK][p_ac_info_IMMUNITY])
    {
        // --- AJUSTE PARA MEJORA DE MOTOR ---
        new Float:margen_motor = 0.0;
        new vehid = GetPlayerVehicleID(playerid);

        if(vehid != 0 && GetPlayerState(playerid) == PLAYER_STATE_DRIVER)
        {
            if(PLAYER_VEHICLES[vehid][player_vehicle_VALID])
            {
                // Aumentamos el margen permitido según el nivel de la mejora
                switch(PLAYER_VEHICLES[vehid][player_vehicle_MOTOR_NIVEL])
                {
                    case 1: margen_motor = 40.0;  // Permite un poco más de velocidad
                    case 2: margen_motor = 80.0;  // Permite más
                    case 3: margen_motor = 130.0; // Margen amplio para el boost máximo
                }
            }
        }
        // ------------------------------------

        // Sumamos el margen base (100.0) + el margen del motor mejorado
        if(velx > (maxvel + 100.0 + margen_motor))
        {
            if(!ac_Info[CHEAT_VEHICLE_SPEED_HACK][ac_Interval]) OnPlayerCheatDetected(playerid, CHEAT_VEHICLE_SPEED_HACK);
            else
            {
                if(gettime() - PLAYER_AC_INFO[playerid][CHEAT_VEHICLE_SPEED_HACK][p_ac_info_LAST_DETECTION] > ac_Info[CHEAT_VEHICLE_SPEED_HACK][ac_Interval]) PLAYER_AC_INFO[playerid][CHEAT_VEHICLE_SPEED_HACK][p_ac_info_DETECTIONS] = 0;
                else PLAYER_AC_INFO[playerid][CHEAT_VEHICLE_SPEED_HACK][p_ac_info_DETECTIONS] ++;
                
                PLAYER_AC_INFO[playerid][CHEAT_VEHICLE_SPEED_HACK][p_ac_info_LAST_DETECTION] = gettime();
                if(PLAYER_AC_INFO[playerid][CHEAT_VEHICLE_SPEED_HACK][p_ac_info_DETECTIONS] >= ac_Info[CHEAT_VEHICLE_SPEED_HACK][ac_Detections]) OnPlayerCheatDetected(playerid, CHEAT_VEHICLE_SPEED_HACK);
            }
        }
    }
}

	
	if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_STATE] == VEHICLE_STATE_NORMAL)
	{
		GetVehicleHealth(vehicleid, GLOBAL_VEHICLES[vehicleid][gb_vehicle_HEALTH]);
		if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_HEALTH] < MIN_VEHICLE_HEALTH)
		{	
			GLOBAL_VEHICLES[vehicleid][gb_vehicle_STATE] = VEHICLE_STATE_DAMAGED;
			GLOBAL_VEHICLES[vehicleid][gb_vehicle_HEALTH] = MIN_VEHICLE_HEALTH;
			SetVehicleHealthEx(vehicleid, GLOBAL_VEHICLES[vehicleid][gb_vehicle_HEALTH], playerid);
				
			GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_ENGINE] = 0;
			SendClientMessage(playerid, -1, "{CCCCCC}El motor del vehiculo está demasiado dañado, llama a un mecánico.");
			ApagarSoloMotor(vehicleid);
		}
	}
	
	if(gettime() > PLAYER_TEMP[playerid][pt_FUEL_DOWN_TIME] + 5)
	{
		if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_ENGINE])
		{
			GLOBAL_VEHICLES[vehicleid][gb_vehicle_GAS] -= floatmul(floatdiv(velx, maxvel), 0.1);
			
			if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_GAS] <= 0.1)
			{
				PLAYER_AC_INFO[playerid][CHEAT_VEHICLE_NOFUEL][p_ac_info_IMMUNITY] = gettime() + 15;
				GLOBAL_VEHICLES[vehicleid][gb_vehicle_GAS] = 0.0;
				GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_ENGINE] = 0;
				UpdateVehicleParams(vehicleid);
				
				SendClientMessage(playerid, -1, "{999999}El vehiculo se ha quedado sin gasolina...");
			}
		}
		PLAYER_TEMP[playerid][pt_FUEL_DOWN_TIME] = gettime();
	}

	new td_str[64];
	format(td_str, sizeof td_str, "Velocidad:_%d_Km/h~n~gasolina:_%.1f_L~n~", floatround(velx), GLOBAL_VEHICLES[vehicleid][gb_vehicle_GAS]);
	PlayerTextDrawSetString(playerid, PlayerTextdraws[playerid][ptextdraw_SPEEDO_METER][1], td_str);
	
	GetVehiclePos(vehicleid, GLOBAL_VEHICLES[vehicleid][gb_vehicle_POS][0], GLOBAL_VEHICLES[vehicleid][gb_vehicle_POS][1], GLOBAL_VEHICLES[vehicleid][gb_vehicle_POS][2]);
	return 1;
}

stock Float:GetVehicleSpeed(vehicleid)
{
    new Float:vx, Float:vy, Float:vz;
    GetVehicleVelocity(vehicleid, vx, vy, vz);
	new Float:velx = floatmul(floatsqroot(floatadd(floatadd(floatpower(vx, 2), floatpower(vy, 2)),  floatpower(vz, 2))), 181.5);
	return velx;
}

const CRASHER_PACKET = 228;
IPacket:CRASHER_PACKET(playerid, BitStream:bs)
{
	printf("[ADVERTENCIA] Packet 228 recibido!");
	KickEx(playerid);
}

forward ResyncPlayer(playerid);
public ResyncPlayer(playerid)
{
	new Float:x, Float:y, Float:z, Float:angle;
	GetPlayerFacingAngle(playerid, angle);

	new BitStream:bsr = BS_New();
	new BitStream:bsa = BS_New();

	BS_WriteValue(bsr, PR_UINT16, playerid);

	BS_WriteValue(
		bsa,
		PR_UINT16, playerid,
		PR_UINT8, NO_TEAM,
		PR_UINT32, GetPlayerSkin(playerid),
		PR_FLOAT, x,
		PR_FLOAT, y,
		PR_FLOAT, z,
		PR_FLOAT, angle,
		PR_UINT32, PLAYER_TEMP[playerid][pt_PLAYER_COLOR],
		PR_UINT8, GetPlayerFightingStyle(playerid)
	);

	for(new i, j = GetPlayerPoolSize(); i <= j; i++)
	{
		if(IsPlayerStreamedIn(playerid, i))
		{
			BS_RPC(bsr, i, 163); // RPC_WorldPlayerRemove
			BS_RPC(bsa, i, 32); // RPC_WorldPlayerAdd
		}
	}

	BS_Delete(bsr);
	BS_Delete(bsa);
}


hook OnPlayerEnterVehicle(playerid, vehicleid, ispassenger)
{
	PLAYER_AC_INFO[playerid][CHEAT_POS][p_ac_info_IMMUNITY] = gettime() + 3;
	PLAYER_AC_INFO[playerid][CHEAT_STATE_SPAMMER][p_ac_info_IMMUNITY] = gettime() + 3;
	
	if(PLAYER_VEHICLES[vehicleid][player_vehicle_VALID])
    {
        // Verificamos si el que intenta entrar es el dueño real
        if(PLAYER_VEHICLES[vehicleid][player_vehicle_OWNER_ID] == PI[playerid][pi_ID])
        {
            // Si el auto está cerrado (seguro puesto)
            if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_DOORS] == 1)
            {
                // Abrimos el vehiculo automáticamente
                GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_DOORS] = 0;
                UpdateVehicleParams(vehicleid);

                ShowPlayerMessage(playerid, "Has ~b~abierto~w~ tu vehiculo automáticamente.");
                Auto_SendPlayerAction(playerid, "ha abierto las puertas de su vehiculo al entrar.");
                
                // Opcional: Sonido de apertura de puertas
                PlayerPlaySoundEx(playerid, 1145, 0.0, 0.0, 0.0); 
                new Float:sx, Float:sy, Float:sz;
            	GetPlayerPos(playerid, sx, sy, sz);
                RemovePlayerFromVehicle(playerid);
    			SetPlayerPos(playerid, sx, sy, sz);
            }
        }
        else 
        {
            // Si NO es el dueño y el auto está cerrado, el personaje intentará abrir pero no podrá (lógica base de GTA)
            if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_DOORS] == 1)
            {
                new Float:sx, Float:sy, Float:sz;
            	GetPlayerPos(playerid, sx, sy, sz);
                RemovePlayerFromVehicle(playerid);
    			SetPlayerPos(playerid, sx, sy, sz);
                ShowPlayerMessage(playerid, "~w~vehiculo ~r~cerrado.", 1085);
            }
        }
    }

	if(PLAYER_TEMP[playerid][pt_GAME_STATE] == GAME_STATE_NORMAL)
	{
		if(ac_Info[CHEAT_VEHICLE_ENTER_SPAMMER][ac_Enabled])
		{
			if(gettime() > PLAYER_AC_INFO[playerid][CHEAT_VEHICLE_ENTER_SPAMMER][p_ac_info_IMMUNITY])
			{
				new interval = GetTickDiff(GetTickCount(), PLAYER_TEMP[playerid][pt_ANTIFLOOD_ENTER_VEHICLE]);

				if(interval < 50)
				{
					if(!ac_Info[CHEAT_VEHICLE_ENTER_SPAMMER][ac_Interval]) OnPlayerCheatDetected(playerid, CHEAT_VEHICLE_ENTER_SPAMMER, float(interval));
					else
					{
						if(gettime() - PLAYER_AC_INFO[playerid][CHEAT_VEHICLE_ENTER_SPAMMER][p_ac_info_LAST_DETECTION] > ac_Info[CHEAT_VEHICLE_ENTER_SPAMMER][ac_Interval]) PLAYER_AC_INFO[playerid][CHEAT_VEHICLE_ENTER_SPAMMER][p_ac_info_DETECTIONS] = 0;
						else PLAYER_AC_INFO[playerid][CHEAT_VEHICLE_ENTER_SPAMMER][p_ac_info_DETECTIONS] ++;

						PLAYER_AC_INFO[playerid][CHEAT_VEHICLE_ENTER_SPAMMER][p_ac_info_LAST_DETECTION] = gettime();
						if(PLAYER_AC_INFO[playerid][CHEAT_VEHICLE_ENTER_SPAMMER][p_ac_info_DETECTIONS] >= ac_Info[CHEAT_VEHICLE_ENTER_SPAMMER][ac_Detections]) OnPlayerCheatDetected(playerid, CHEAT_VEHICLE_ENTER_SPAMMER, float(interval));
					}
				}
				PLAYER_TEMP[playerid][pt_ANTIFLOOD_ENTER_VEHICLE] = GetTickCount();
			}
		}
	}

	if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_GAS] <= 0.1)
	{
	    GameTextForPlayer(playerid, "~R~MOTOR APAGADO", 2000, 4);
	    new lights,alarm,doors,bonnet,boot,objective;
	    SetVehicleParamsEx(vehicleid,VEHICLE_PARAMS_OFF,lights,alarm,doors,bonnet,boot,objective);
	}


	new Float:sx, Float:sy, Float:sz;
	GetPlayerPos(playerid, sx, sy, sz);

	if(PLAYER_TEMP[playerid][pt_WORKING_IN] == WORK_MEDIC)
	{
		if(WORK_VEHICLES[vehicleid][work_vehicle_WORK] != WORK_MEDIC)
		{
			ShowPlayerMessage(playerid, "~r~Estando de servicio como médico solo puedes llevar ~y~ambulancias.", 2);
			RemovePlayerFromVehicle(playerid);
			SetPlayerPos(playerid, sx, sy, sz);
			return 1;
		}
	}


	if(!ispassenger)
	{
		if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_OCCUPIED])
		{
			if(PLAYER_TEMP[playerid][pt_CJ_WARNINGS] >= 5)
			{
				KickEx(playerid);
				return 1;
			}
			PLAYER_TEMP[playerid][pt_CJ_WARNINGS] ++;
			SendFormatNotification(playerid, "~w~No puedes robar vehiculos así, congelado 5 segundos, aviso ~r~%d/5~w~.", PLAYER_TEMP[playerid][pt_CJ_WARNINGS]);
			RemovePlayerFromVehicle(playerid);
			SetPlayerPos(playerid, sx, sy, sz);

			TogglePlayerControllableEx(playerid, false);
			KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][19]);
			PLAYER_TEMP[playerid][pt_TIMERS][19] = SetTimerEx("CarJackingFinish", 5000, false, "i", playerid);

			SetTimerEx("ResyncPlayer", 0, false, "d", playerid);
			return 1;
		}


		if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_TYPE] == VEHICLE_TYPE_FACCION)
		{
			if( PLAYER_TEMP[playerid][pt_CREW_INDEX] != GetCrewIndexById(GLOBAL_VEHICLES[vehicleid][gb_vehicle_FACCION]))
			{
				ShowPlayerMessage(playerid, "No perteneces a esta ~y~facción.");
				RemovePlayerFromVehicle(playerid);
				SetPlayerPos(playerid, sx, sy, sz);
				return true;
			}
		}

		if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_TYPE] == VEHICLE_TYPE_WORK)
		{
			if(!PLAYER_WORKS[playerid][ WORK_VEHICLES[vehicleid][work_vehicle_WORK] ][pwork_SET])
			{
				SendFormatNotification(playerid, "Necesitas ser ~r~%s~w~ para poder conducir este ~y~vehiculo.", work_info[ WORK_VEHICLES[vehicleid][work_vehicle_WORK] ][work_info_NAME]);
				RemovePlayerFromVehicle(playerid);
				SetPlayerPos(playerid, sx, sy, sz);
				return 1;
			}
			if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_VIP] && !PI[playerid][pi_VIP])
			{
				ShowPlayerMessage(playerid, "Necesitas adquirir membresía VIP para usar este vehiculo. ~y~(/ayuda > membresía VIP)");
				RemovePlayerFromVehicle(playerid);
				SetPlayerPos(playerid, sx, sy, sz);
				return 1;
			}

			if(PLAYER_TEMP[playerid][pt_WORKING_IN] && PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_VEHICLES[vehicleid][work_vehicle_WORK])
			{
				SendFormatNotification(playerid, "Tienes que dejar de estar de servicio de ~r~%s~w~.", work_info[ PLAYER_TEMP[playerid][pt_WORKING_IN] ][work_info_NAME]);
				RemovePlayerFromVehicle(playerid);
				SetPlayerPos(playerid, sx, sy, sz);
				return 1;
			}

			if(WORK_VEHICLES[vehicleid][work_vehicle_NEED_DUTY])
			{
				if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_VEHICLES[vehicleid][work_vehicle_WORK])
				{
					SendFormatNotification(playerid, "Necesitas estar de servicio de ~r~%s~w~ para poder conducir este ~y~vehiculo.", work_info[ WORK_VEHICLES[vehicleid][work_vehicle_WORK] ][work_info_NAME]);
					RemovePlayerFromVehicle(playerid);
					SetPlayerPos(playerid, sx, sy, sz);
					return 1;
				}
			}

			if(WORK_VEHICLES[vehicleid][work_vehicle_EXP] > PLAYER_WORKS[playerid][ WORK_VEHICLES[vehicleid][work_vehicle_WORK] ][pwork_LEVEL])
			{
				SendFormatNotification(playerid, "Necesitas más experiencia en este trabajo para llevar este vehiculo. ~r~(%d/%d)", PLAYER_WORKS[playerid][ WORK_VEHICLES[vehicleid][work_vehicle_WORK] ][pwork_LEVEL], WORK_VEHICLES[vehicleid][work_vehicle_EXP]);
				RemovePlayerFromVehicle(playerid);
				SetPlayerPos(playerid, sx, sy, sz);
				return 1;
			}
		}
		else if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_TYPE] == VEHICLE_TYPE_DRIVING_SCHOOL)
		{
			if(!PLAYER_TEMP[playerid][pt_DL_EXAM])
			{
				ShowPlayerMessage(playerid, "~r~Necesitas estar haciendo el examen de conducir.", 2);
				RemovePlayerFromVehicle(playerid);
				SetPlayerPos(playerid, sx, sy, sz);
				return 1;
			}
		}
	}
	else
	{
		if(WORK_VEHICLES[vehicleid][work_vehicle_VALID] && WORK_VEHICLES[vehicleid][work_vehicle_WORK] == WORK_TRASH)
		{
			if(!PLAYER_WORKS[playerid][WORK_TRASH][pwork_SET])
			{
				SendFormatNotification(playerid, "Necesitas ser %s para poder entrar a este vehiculo.", work_info[ WORK_VEHICLES[vehicleid][work_vehicle_WORK] ][work_info_NAME]);
				RemovePlayerFromVehicle(playerid);
				SetPlayerPos(playerid, sx, sy, sz);
				return 1;
			}

			if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_VEHICLES[vehicleid][work_vehicle_WORK])
			{
				SendFormatNotification(playerid, "Necesitas estar de servicio como %s para poder conducir este vehiculo.", work_info[ WORK_VEHICLES[vehicleid][work_vehicle_WORK] ][work_info_NAME]);
				RemovePlayerFromVehicle(playerid);
				SetPlayerPos(playerid, sx, sy, sz);
				return 1;
			}
		}
	}
	return 1;
}

AddTestVehicle(id, modelid, Float:X, Float:Y, Float:Z, Float:Angle, Color1, Color2, interior = 0, world = 0)
{
	id = CreateVehicle(modelid, X, Y, Z, Angle, Color1, Color2, -1, false);

	GLOBAL_VEHICLES[id][gb_vehicle_VALID] = true;
	GLOBAL_VEHICLES[id][gb_vehicle_TYPE] = VEHICLE_TYPE_TEST;
	GLOBAL_VEHICLES[id][gb_vehicle_MODELID] = modelid;
	format(GLOBAL_VEHICLES[id][gb_vehicle_NUMBER_PLATE], 32, "Test Vehicle");
	GLOBAL_VEHICLES[id][gb_vehicle_SPAWN_X] = X;
	GLOBAL_VEHICLES[id][gb_vehicle_SPAWN_Y] = Y;
	GLOBAL_VEHICLES[id][gb_vehicle_SPAWN_Z] = Z;
	GLOBAL_VEHICLES[id][gb_vehicle_SPAWN_ANGLE] = Angle;

	GLOBAL_VEHICLES[id][gb_vehicle_POS][0] = GLOBAL_VEHICLES[id][gb_vehicle_SPAWN_X];
	GLOBAL_VEHICLES[id][gb_vehicle_POS][1] = GLOBAL_VEHICLES[id][gb_vehicle_SPAWN_Y];
	GLOBAL_VEHICLES[id][gb_vehicle_POS][2] = GLOBAL_VEHICLES[id][gb_vehicle_SPAWN_Z];

	GLOBAL_VEHICLES[id][gb_vehicle_HEALTH] = 1000.0;
	GLOBAL_VEHICLES[id][gb_vehicle_DAMAGE_PANELS] = 0;
	GLOBAL_VEHICLES[id][gb_vehicle_DAMAGE_DOORS] = 0;
	GLOBAL_VEHICLES[id][gb_vehicle_DAMAGE_LIGHTS] = 0;
	GLOBAL_VEHICLES[id][gb_vehicle_DAMAGE_TIRES] = 0;
	GLOBAL_VEHICLES[id][gb_vehicle_COLOR_1] = Color1;
	GLOBAL_VEHICLES[id][gb_vehicle_COLOR_2] = Color2;
	GLOBAL_VEHICLES[id][gb_vehicle_PAINTJOB] = 3; // No paintjob
	GLOBAL_VEHICLES[id][gb_vehicle_MAX_GAS] = VEHICLE_INFO[modelid - 400][vehicle_info_MAX_GAS];
	GLOBAL_VEHICLES[id][gb_vehicle_GAS] = GLOBAL_VEHICLES[id][gb_vehicle_MAX_GAS];
	GLOBAL_VEHICLES[id][gb_vehicle_STATE] = VEHICLE_STATE_NORMAL;
	GLOBAL_VEHICLES[id][gb_vehicle_INTERIOR] = interior;
	GLOBAL_VEHICLES[id][gb_vehicle_WORLD] = 0;
	SetVehicleVirtualWorldEx(id, world);
	SetVehicleToRespawnEx(id);
	return id;
}

AddPersonalVehicle(playerid, modelid, Float:X, Float:Y, Float:Z, Float:Angle, Color1, Color2, Float:max_gas)
{
	new vehicle_id = INVALID_VEHICLE_ID;
	vehicle_id = CreateVehicle(modelid, X, Y, Z, Angle, Color1, Color2, -1);

	if(vehicle_id == INVALID_VEHICLE_ID) return false;

	GLOBAL_VEHICLES[vehicle_id][gb_vehicle_VALID] = true;
	GLOBAL_VEHICLES[vehicle_id][gb_vehicle_TYPE] = VEHICLE_TYPE_PERSONAL;
	GLOBAL_VEHICLES[vehicle_id][gb_vehicle_MODELID] = modelid;
	GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_X] = X;
	GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_Y] = Y;
	GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_Z] = Z;
	GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_ANGLE] = Angle;

	GLOBAL_VEHICLES[vehicle_id][gb_vehicle_POS][0] = GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_X];
	GLOBAL_VEHICLES[vehicle_id][gb_vehicle_POS][1] = GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_Y];
	GLOBAL_VEHICLES[vehicle_id][gb_vehicle_POS][2] = GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_Z];

	GLOBAL_VEHICLES[vehicle_id][gb_vehicle_HEALTH] = 1000.0;
	GLOBAL_VEHICLES[vehicle_id][gb_vehicle_DAMAGE_PANELS] = 0;
	GLOBAL_VEHICLES[vehicle_id][gb_vehicle_DAMAGE_DOORS] = 0;
	GLOBAL_VEHICLES[vehicle_id][gb_vehicle_DAMAGE_LIGHTS] = 0;
	GLOBAL_VEHICLES[vehicle_id][gb_vehicle_DAMAGE_TIRES] = 0;
	GLOBAL_VEHICLES[vehicle_id][gb_vehicle_COLOR_1] = Color1;
	GLOBAL_VEHICLES[vehicle_id][gb_vehicle_COLOR_2] = Color2;
	GLOBAL_VEHICLES[vehicle_id][gb_vehicle_PAINTJOB] = 3; // No paintjob
	GLOBAL_VEHICLES[vehicle_id][gb_vehicle_MAX_GAS] = max_gas;
	GLOBAL_VEHICLES[vehicle_id][gb_vehicle_GAS] = max_gas;
	GLOBAL_VEHICLES[vehicle_id][gb_vehicle_STATE] = VEHICLE_STATE_NORMAL;
	GLOBAL_VEHICLES[vehicle_id][gb_vehicle_INTERIOR] = 0;
	GLOBAL_VEHICLES[vehicle_id][gb_vehicle_WORLD] = 0;
	

	PLAYER_VEHICLES[vehicle_id][player_vehicle_VALID] = true;
	PLAYER_VEHICLES[vehicle_id][player_vehicle_OWNER_ID] = PI[playerid][pi_ID];
	PLAYER_VEHICLES[vehicle_id][player_vehicle_PLAYERID] = playerid;
	RegisterNewPlayerVehicle(playerid, vehicle_id);

	SetVehicleToRespawnEx(vehicle_id);
	return vehicle_id;
}

RegisterNewPlayerVehicle(playerid, vehicleid)
{
	inline OnVehicleInserted()
	{
		PLAYER_VEHICLES[vehicleid][player_vehicle_ID] = cache_insert_id();
		if(PLAYER_VEHICLES[vehicleid][player_vehicle_ID])
		{
			format(GLOBAL_VEHICLES[vehicleid][gb_vehicle_NUMBER_PLATE], 32, "%04d %c%c%c", PLAYER_VEHICLES[vehicleid][player_vehicle_ID], getRandomLetter(), getRandomLetter(), getRandomLetter());
			mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE pvehicles SET plate = '%e' WHERE id = %d;", GLOBAL_VEHICLES[vehicleid][gb_vehicle_NUMBER_PLATE], PLAYER_VEHICLES[vehicleid][player_vehicle_ID]);
			mysql_tquery(srp_db, QUERY_BUFFER);
		}
	}

	mysql_format
	(
		srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER,
		"\
			INSERT INTO pvehicles (id_player, modelid, spawn_x, spawn_y, spawn_z, spawn_angle, color1, color2, gas, max_gas)\
			VALUES(%d, %d, %f, %f, %f, %f, %d, %d, %f, %f);\
		",
			PI[playerid][pi_ID], GLOBAL_VEHICLES[vehicleid][gb_vehicle_MODELID], GLOBAL_VEHICLES[vehicleid][gb_vehicle_SPAWN_X], GLOBAL_VEHICLES[vehicleid][gb_vehicle_SPAWN_Y], GLOBAL_VEHICLES[vehicleid][gb_vehicle_SPAWN_Z],
			GLOBAL_VEHICLES[vehicleid][gb_vehicle_SPAWN_ANGLE], GLOBAL_VEHICLES[vehicleid][gb_vehicle_COLOR_1], GLOBAL_VEHICLES[vehicleid][gb_vehicle_COLOR_2], GLOBAL_VEHICLES[vehicleid][gb_vehicle_GAS],
			GLOBAL_VEHICLES[vehicleid][gb_vehicle_MAX_GAS]
	);
	mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnVehicleInserted);
	return 1;
}

LoadPlayerVehicles(playerid)
{
	if (PI[playerid][pi_ID] == 0) return 0;
	
	inline OnPlayerVehiclesLoad()
	{
		new rows;
		if (cache_get_row_count(rows))
		{
			for (new i = 0; i != rows; i ++)
			{
				if (i >= MAX_SU_VEHICLES)
				{
					printf("---> MAX_SU_VEHICLES superado al cargar de base de datos.");
					break;
				}

				new id, plate[32], modelid, Float:spawn_x, Float:spawn_y, Float:spawn_z, Float:spawn_angle,
					Float:health, damage_panels, damage_doors, damage_lights, damage_tires, color1, color2,
					paintjob, Float:gas, Float:max_gas, closed, interior, eworld, veh_state,
					components[MAX_VEHICLE_COMPONENTS], vClamp, bool:isnull_plate, parking = -1,
					vExtraSlots; // <--- NUEVO: Variable temporal para la carga

				cache_get_value_name_int(i, "id", id);
				cache_is_value_name_null(i, "plate", isnull_plate);
				if (!isnull_plate) cache_get_value_name(i, "plate", plate, 32);
				cache_get_value_name_int(i, "modelid", modelid);
				cache_get_value_name_float(i, "spawn_x", spawn_x);
				cache_get_value_name_float(i, "spawn_y", spawn_y);
				cache_get_value_name_float(i, "spawn_z", spawn_z);
				cache_get_value_name_float(i, "spawn_angle", spawn_angle);
				cache_get_value_name_float(i, "health", health);
				cache_get_value_name_int(i, "damage_panels", damage_panels);
				cache_get_value_name_int(i, "damage_doors", damage_doors);
				cache_get_value_name_int(i, "damage_lights", damage_lights);
				cache_get_value_name_int(i, "damage_tires", damage_tires);
				cache_get_value_name_int(i, "color1", color1);
				cache_get_value_name_int(i, "color2", color2);
				cache_get_value_name_int(i, "paintjob", paintjob);
				cache_get_value_name_float(i, "gas", gas);
				cache_get_value_name_float(i, "max_gas", max_gas);
				cache_get_value_name_int(i, "closed", closed);
				cache_get_value_name_int(i, "interior", interior);
				cache_get_value_name_int(i, "world", eworld);
				cache_get_value_name_int(i, "state", veh_state);
				cache_get_value_name_int(i, "slot0", components[0]);
				cache_get_value_name_int(i, "slot1", components[1]);
				cache_get_value_name_int(i, "slot2", components[2]);
				cache_get_value_name_int(i, "slot3", components[3]);
				cache_get_value_name_int(i, "slot4", components[4]);
				cache_get_value_name_int(i, "slot5", components[5]);
				cache_get_value_name_int(i, "slot6", components[6]);
				cache_get_value_name_int(i, "slot7", components[7]);
				cache_get_value_name_int(i, "slot8", components[8]);
				cache_get_value_name_int(i, "slot9", components[9]);
				cache_get_value_name_int(i, "slot10", components[10]);
				cache_get_value_name_int(i, "slot11", components[11]);
				cache_get_value_name_int(i, "slot12", components[12]);
				cache_get_value_name_int(i, "slot13", components[13]);
				cache_get_value_name_int(i, "clamp", vClamp);
				cache_get_value_name_int(i, "parking", parking);
				cache_get_value_name_int(i, "espacio_extra", vExtraSlots); // <--- NUEVO: Cargamos el valor de la DB

				if (!IsValidParkingSlotIndex(parking)) parking = -1; 

				if (parking != -1) {
					new p_vehicle_id = GetValidParkingVehicleId(playerid);
					if (p_vehicle_id == -1) return printf("No hay mas indexes disponibles 'GetValidParkingVehicleId'.");

					ParkingVehicles[playerid][p_vehicle_id][pvValid] = true;
					ParkingVehicles[playerid][p_vehicle_id][pvId] = id;
					ParkingVehicles[playerid][p_vehicle_id][pvModelid] = modelid;
					ParkingVehicles[playerid][p_vehicle_id][pvOwnerId] = PI[playerid][pi_ID];
					ParkingVehicles[playerid][p_vehicle_id][pvParkingIndex] = parking;
					format(ParkingVehicles[playerid][p_vehicle_id][pvVehiclePlate], 32, "%s", plate);
				} else {
					new vehicle_id = CreateVehicle(modelid, spawn_x, spawn_y, spawn_z, spawn_angle, color1, color2, -1);
					if (vehicle_id != INVALID_VEHICLE_ID)
					{
						PLAYER_VEHICLES[vehicle_id][player_vehicle_VALID] = true;
						PLAYER_VEHICLES[vehicle_id][player_vehicle_OWNER_ID] = PI[playerid][pi_ID];
						PLAYER_VEHICLES[vehicle_id][player_vehicle_ID] = id;
						PLAYER_VEHICLES[vehicle_id][player_vehicle_EXTRA_SLOTS] = vExtraSlots; // <--- NUEVO: Asignamos el valor al vehículo
						CargarMejoraMotor(vehicle_id); 
						PLAYER_VEHICLES[vehicle_id][player_vehicle_ACCESSIBLE] = true;
						PLAYER_VEHICLES[vehicle_id][player_vehicle_CLAMP] = vClamp;

						GLOBAL_VEHICLES[vehicle_id][gb_vehicle_VALID] = true;
						GLOBAL_VEHICLES[vehicle_id][gb_vehicle_TYPE] = VEHICLE_TYPE_PERSONAL;
						format(GLOBAL_VEHICLES[vehicle_id][gb_vehicle_NUMBER_PLATE], 32, "%s", plate);
						GLOBAL_VEHICLES[vehicle_id][gb_vehicle_MODELID] = modelid;
						GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_X] = spawn_x;
						GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_Y] = spawn_y;
						GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_Z] = spawn_z;
						GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_ANGLE] = spawn_angle;
						GLOBAL_VEHICLES[vehicle_id][gb_vehicle_POS][0] = GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_X];
						GLOBAL_VEHICLES[vehicle_id][gb_vehicle_POS][1] = GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_Y];
						GLOBAL_VEHICLES[vehicle_id][gb_vehicle_POS][2] = GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_Z];
						GLOBAL_VEHICLES[vehicle_id][gb_vehicle_HEALTH] = health;
						GLOBAL_VEHICLES[vehicle_id][gb_vehicle_DAMAGE_PANELS] = damage_panels;
						GLOBAL_VEHICLES[vehicle_id][gb_vehicle_DAMAGE_DOORS] = damage_doors;
						GLOBAL_VEHICLES[vehicle_id][gb_vehicle_DAMAGE_LIGHTS] = damage_lights;
						GLOBAL_VEHICLES[vehicle_id][gb_vehicle_DAMAGE_TIRES] = damage_tires;
						GLOBAL_VEHICLES[vehicle_id][gb_vehicle_COLOR_1] = color1;
						GLOBAL_VEHICLES[vehicle_id][gb_vehicle_COLOR_2] = color2;
						GLOBAL_VEHICLES[vehicle_id][gb_vehicle_PAINTJOB] = paintjob;
						GLOBAL_VEHICLES[vehicle_id][gb_vehicle_MAX_GAS] = max_gas;
						GLOBAL_VEHICLES[vehicle_id][gb_vehicle_GAS] = gas;
						GLOBAL_VEHICLES[vehicle_id][gb_vehicle_PARAMS_DOORS] = closed;
						GLOBAL_VEHICLES[vehicle_id][gb_vehicle_STATE] = veh_state;
						GLOBAL_VEHICLES[vehicle_id][gb_vehicle_INTERIOR] = interior;
						GLOBAL_VEHICLES[vehicle_id][gb_vehicle_WORLD] = 0;
						GLOBAL_VEHICLES[vehicle_id][gb_vehicle_COMPONENTS] = components;
						GLOBAL_VEHICLES[vehicle_id][gb_vehicle_LAST_REPAIR_TIME] = gettime();
						PLAYER_VEHICLES[vehicle_id][player_vehicle_PARKING] = parking;
						PLAYER_VEHICLES[vehicle_id][player_vehicle_PLAYERID] = playerid;

						if (!PI[playerid][pi_VIP]) 
						{
							if (i >= MAX_NU_VEHICLES)
							{
								GLOBAL_VEHICLES[vehicle_id][gb_vehicle_PARAMS_DOORS] = 1;
								PLAYER_VEHICLES[vehicle_id][player_vehicle_ACCESSIBLE] = false;
							}
						}
						
						//vboot
					inline OnVbootLoad()
					{
						new vb_rows;
						if(cache_get_row_count(vb_rows))
						{
							for(new x = 0; x != vb_rows; x ++)
							{
								new vboot_id, type, int, int_extra;
								cache_get_value_name_int(x, "id", vboot_id);
								cache_get_value_name_int(x, "type", type);
								cache_get_value_name_int(x, "int", int);
								cache_get_value_name_int(x, "int_extra", int_extra);

								VEHICLE_BOOT[vehicle_id][x][vehicle_boot_VALID] = true;
								VEHICLE_BOOT[vehicle_id][x][vehicle_boot_OBJECT_ID] = vboot_id;
								VEHICLE_BOOT[vehicle_id][x][vehicle_boot_TYPE] = type;
								VEHICLE_BOOT[vehicle_id][x][vehicle_boot_INT] = int;
								VEHICLE_BOOT[vehicle_id][x][vehicle_boot_INT_EXTRA] = int_extra;
							}
						}
					}
                    
                    // NUEVO: Calculamos la suma del espacio base + el extra del mecánico
                    new total_slots = VEHICLE_INFO[GLOBAL_VEHICLES[vehicle_id][gb_vehicle_MODELID] - 400][vehicle_info_BOOT_SLOTS] + PLAYER_VEHICLES[vehicle_id][player_vehicle_EXTRA_SLOTS];

					mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT * FROM vboot WHERE id_vehicle = %d LIMIT %d;", PLAYER_VEHICLES[vehicle_id][player_vehicle_ID], total_slots);
					mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnVbootLoad);

						//vobjects (continua igual...)
						inline OnVobjectsLoad()
						{
							new vo_rows;
							if (cache_get_row_count(vo_rows))
							{
								for (new x = 0; x != vo_rows; x ++)
								{
									new vobject_id, type, name[32], vobject_modelid, Float:off_x, Float:off_y, Float:off_z,
										Float:rot_x, Float:rot_y, Float:rot_z, attached, vobject_color0, vobject_color1,
										vobject_color2, vobject_color3, vobject_color4, text[32], font[24], fontsize, fontbold, fontcolor,
										bool:isnull_text, bool:isnull_font;

									cache_get_value_name_int(x, "id", vobject_id);
									cache_get_value_name_int(x, "type", type);
									cache_get_value_name(x, "name", name);
									cache_get_value_name_int(x, "modelid", vobject_modelid);
									cache_get_value_name_float(x, "off_x", off_x);
									cache_get_value_name_float(x, "off_y", off_y);
									cache_get_value_name_float(x, "off_z", off_z);
									cache_get_value_name_float(x, "rot_x", rot_x);
									cache_get_value_name_float(x, "rot_y", rot_y);
									cache_get_value_name_float(x, "rot_z", rot_z);
									cache_get_value_name_int(x, "attached", attached);
									cache_get_value_name_int(x, "color0", vobject_color0);
									cache_get_value_name_int(i, "color1", vobject_color1);
									cache_get_value_name_int(x, "color2", vobject_color2);
									cache_get_value_name_int(x, "color3", vobject_color3);
									cache_get_value_name_int(x, "color4", vobject_color4);
									cache_is_value_name_null(x, "text", isnull_text);
									if (!isnull_text) cache_get_value_name(x, "text", text);
									cache_is_value_name_null(x, "font", isnull_font);
									if (!isnull_font) cache_get_value_name(x, "font", font);
									cache_get_value_name_int(x, "fontsize", fontsize);
									cache_get_value_name_int(x, "fontbold", fontbold);
									cache_get_value_name_int(x, "fontcolor", fontcolor);

									//ok
									VEHICLE_OBJECTS[vehicle_id][x][vobject_VALID] = true;
									VEHICLE_OBJECTS[vehicle_id][x][vobject_ID] = vobject_id;
									VEHICLE_OBJECTS[vehicle_id][x][vobject_TYPE] = type;
									format(VEHICLE_OBJECTS[vehicle_id][x][vobject_NAME], 32, "%s", name);
									VEHICLE_OBJECTS[vehicle_id][x][vobject_MODELID] = vobject_modelid;
									VEHICLE_OBJECTS[vehicle_id][x][vobject_OFFSET][0] = off_x;
									VEHICLE_OBJECTS[vehicle_id][x][vobject_OFFSET][1] = off_y;
									VEHICLE_OBJECTS[vehicle_id][x][vobject_OFFSET][2] = off_z;
									VEHICLE_OBJECTS[vehicle_id][x][vobject_ROT][0] = rot_x;
									VEHICLE_OBJECTS[vehicle_id][x][vobject_ROT][1] = rot_y;
									VEHICLE_OBJECTS[vehicle_id][x][vobject_ROT][2] = rot_z;
									VEHICLE_OBJECTS[vehicle_id][x][vobject_ATTACHED] = attached;
									VEHICLE_OBJECTS[vehicle_id][x][vobject_COLORS][0] = vobject_color0;
									VEHICLE_OBJECTS[vehicle_id][x][vobject_COLORS][1] = vobject_color1;
									VEHICLE_OBJECTS[vehicle_id][x][vobject_COLORS][2] = vobject_color2;
									VEHICLE_OBJECTS[vehicle_id][x][vobject_COLORS][3] = vobject_color3;
									VEHICLE_OBJECTS[vehicle_id][x][vobject_COLORS][4] = vobject_color4;
									format(VEHICLE_OBJECTS[vehicle_id][x][vobject_text_TEXT], 32, "%s", text);
									format(VEHICLE_OBJECTS[vehicle_id][x][vobject_text_FONT], 24, "%s", font);
									VEHICLE_OBJECTS[vehicle_id][x][vobject_text_FONT_SIZE] = fontsize;
									VEHICLE_OBJECTS[vehicle_id][x][vobject_text_BOLD] = fontbold;
									VEHICLE_OBJECTS[vehicle_id][x][vobject_text_FONT_COLOR] = fontcolor;
									UpdateVehicleAttachedObject(vehicle_id, x, true);
								}
								//loaded
								SetVehicleToRespawnEx(vehicle_id);
								//loaded
							}
						}
						mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT * FROM vobjects WHERE id_vehicle = %d LIMIT %d;", PLAYER_VEHICLES[vehicle_id][player_vehicle_ID], MAX_SU_VOBJECTS);
						mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnVobjectsLoad);
					}
				}
			}
		}
	}
	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT * FROM pvehicles WHERE id_player = %d;", PI[playerid][pi_ID]);
	mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnPlayerVehiclesLoad);
	return 1;
}


LoadPlayerVehicle(playerid, db_id)
{
	if (PI[playerid][pi_ID] == 0) return 0;
	
	new vehicle_id = INVALID_VEHICLE_ID;
	PLAYER_TEMP[playerid][pt_LAST_LOADED_VEHICLE] = INVALID_VEHICLE_ID;

	inline OnPlayerVehicleLoad()
	{
		if (cache_num_rows() > 0) {
			new 
				id, plate[32], modelid, Float:spawn_x, Float:spawn_y, Float:spawn_z, Float:spawn_angle,
				Float:health, damage_panels, damage_doors, damage_lights, damage_tires, color1, color2,
				paintjob, Float:gas, Float:max_gas, closed, interior, eworld, veh_state,
				components[MAX_VEHICLE_COMPONENTS], vClamp, bool:isnull_plate, parking = -1,
				vExtraSlots; // <--- NUEVO: Variable temporal

			cache_get_value_name_int(0, "id", id);
			cache_is_value_name_null(0, "plate", isnull_plate);
			if (!isnull_plate) cache_get_value_name(0, "plate", plate, 32);
			cache_get_value_name_int(0, "modelid", modelid);
			cache_get_value_name_int(0, "parking", parking);
			cache_get_value_name_int(0, "espacio_extra", vExtraSlots); // <--- NUEVO: Carga del valor

			if (!IsValidParkingSlotIndex(parking)) parking = -1; 

			if (parking != -1) {
				new p_vehicle_id = GetValidParkingVehicleId(playerid);
				if (p_vehicle_id == -1) return printf("No hay mas indexes disponibles 'GetValidParkingVehicleId'.");

				ParkingVehicles[playerid][p_vehicle_id][pvValid] = true;
				ParkingVehicles[playerid][p_vehicle_id][pvId] = id;
				ParkingVehicles[playerid][p_vehicle_id][pvModelid] = modelid;
				ParkingVehicles[playerid][p_vehicle_id][pvOwnerId] = PI[playerid][pi_ID];
				ParkingVehicles[playerid][p_vehicle_id][pvParkingIndex] = parking;
				format(ParkingVehicles[playerid][p_vehicle_id][pvVehiclePlate], 32, "%s", plate);
				
			} else {
				cache_get_value_name_float(0, "spawn_x", spawn_x);
				cache_get_value_name_float(0, "spawn_y", spawn_y);
				cache_get_value_name_float(0, "spawn_z", spawn_z);
				cache_get_value_name_float(0, "spawn_angle", spawn_angle);
				cache_get_value_name_float(0, "health", health);
				cache_get_value_name_int(0, "damage_panels", damage_panels);
				cache_get_value_name_int(0, "damage_doors", damage_doors);
				cache_get_value_name_int(0, "damage_lights", damage_lights);
				cache_get_value_name_int(0, "damage_tires", damage_tires);
				cache_get_value_name_int(0, "color1", color1);
				cache_get_value_name_int(0, "color2", color2);
				cache_get_value_name_int(0, "paintjob", paintjob);
				cache_get_value_name_float(0, "gas", gas);
				cache_get_value_name_float(0, "max_gas", max_gas);
				cache_get_value_name_int(0, "closed", closed);
				cache_get_value_name_int(0, "interior", interior);
				cache_get_value_name_int(0, "world", eworld);
				cache_get_value_name_int(0, "state", veh_state);
				cache_get_value_name_int(0, "slot0", components[0]);
				cache_get_value_name_int(0, "slot1", components[1]);
				cache_get_value_name_int(0, "slot2", components[2]);
				cache_get_value_name_int(0, "slot3", components[3]);
				cache_get_value_name_int(0, "slot4", components[4]);
				cache_get_value_name_int(0, "slot5", components[5]);
				cache_get_value_name_int(0, "slot6", components[6]);
				cache_get_value_name_int(0, "slot7", components[7]);
				cache_get_value_name_int(0, "slot8", components[8]);
				cache_get_value_name_int(0, "slot9", components[9]);
				cache_get_value_name_int(0, "slot10", components[10]);
				cache_get_value_name_int(0, "slot11", components[11]);
				cache_get_value_name_int(0, "slot12", components[12]);
				cache_get_value_name_int(0, "slot13", components[13]);
				cache_get_value_name_int(0, "clamp", vClamp);

				PLAYER_TEMP[playerid][pt_LAST_LOADED_VEHICLE] = CreateVehicle(modelid, spawn_x, spawn_y, spawn_z, spawn_angle, color1, color2, -1);
				vehicle_id = PLAYER_TEMP[playerid][pt_LAST_LOADED_VEHICLE];

				if (vehicle_id != INVALID_VEHICLE_ID) {
					PLAYER_VEHICLES[vehicle_id][player_vehicle_VALID] = true;
					PLAYER_VEHICLES[vehicle_id][player_vehicle_OWNER_ID] = PI[playerid][pi_ID];
					PLAYER_VEHICLES[vehicle_id][player_vehicle_ID] = id;
					PLAYER_VEHICLES[vehicle_id][player_vehicle_EXTRA_SLOTS] = vExtraSlots; // <--- NUEVO: Asignación
					CargarMejoraMotor(vehicle_id);
					PLAYER_VEHICLES[vehicle_id][player_vehicle_ACCESSIBLE] = true;
					PLAYER_VEHICLES[vehicle_id][player_vehicle_CLAMP] = vClamp;

					GLOBAL_VEHICLES[vehicle_id][gb_vehicle_VALID] = true;
					GLOBAL_VEHICLES[vehicle_id][gb_vehicle_TYPE] = VEHICLE_TYPE_PERSONAL;
					format(GLOBAL_VEHICLES[vehicle_id][gb_vehicle_NUMBER_PLATE], 32, "%s", plate);
					GLOBAL_VEHICLES[vehicle_id][gb_vehicle_MODELID] = modelid;
					GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_X] = spawn_x;
					GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_Y] = spawn_y;
					GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_Z] = spawn_z;
					GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_ANGLE] = spawn_angle;
					GLOBAL_VEHICLES[vehicle_id][gb_vehicle_POS][0] = GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_X];
					GLOBAL_VEHICLES[vehicle_id][gb_vehicle_POS][1] = GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_Y];
					GLOBAL_VEHICLES[vehicle_id][gb_vehicle_POS][2] = GLOBAL_VEHICLES[vehicle_id][gb_vehicle_SPAWN_Z];
					GLOBAL_VEHICLES[vehicle_id][gb_vehicle_HEALTH] = health;
					GLOBAL_VEHICLES[vehicle_id][gb_vehicle_DAMAGE_PANELS] = damage_panels;
					GLOBAL_VEHICLES[vehicle_id][gb_vehicle_DAMAGE_DOORS] = damage_doors;
					GLOBAL_VEHICLES[vehicle_id][gb_vehicle_DAMAGE_LIGHTS] = damage_lights;
					GLOBAL_VEHICLES[vehicle_id][gb_vehicle_DAMAGE_TIRES] = damage_tires;
					GLOBAL_VEHICLES[vehicle_id][gb_vehicle_COLOR_1] = color1;
					GLOBAL_VEHICLES[vehicle_id][gb_vehicle_COLOR_2] = color2;
					GLOBAL_VEHICLES[vehicle_id][gb_vehicle_PAINTJOB] = paintjob;
					GLOBAL_VEHICLES[vehicle_id][gb_vehicle_MAX_GAS] = max_gas;
					GLOBAL_VEHICLES[vehicle_id][gb_vehicle_GAS] = gas;
					GLOBAL_VEHICLES[vehicle_id][gb_vehicle_PARAMS_DOORS] = closed;
					GLOBAL_VEHICLES[vehicle_id][gb_vehicle_STATE] = veh_state;
					GLOBAL_VEHICLES[vehicle_id][gb_vehicle_INTERIOR] = interior;
					GLOBAL_VEHICLES[vehicle_id][gb_vehicle_WORLD] = 0;
					GLOBAL_VEHICLES[vehicle_id][gb_vehicle_COMPONENTS] = components;
					GLOBAL_VEHICLES[vehicle_id][gb_vehicle_LAST_REPAIR_TIME] = gettime();
					PLAYER_VEHICLES[vehicle_id][player_vehicle_PARKING] = parking; 
					
					//vboot
					inline OnVbootLoad()
					{
						new vb_rows;
						if(cache_get_row_count(vb_rows))
						{
							for(new x = 0; x != vb_rows; x ++)
							{
								new vboot_id, type, int, int_extra;
								cache_get_value_name_int(x, "id", vboot_id);
								cache_get_value_name_int(x, "type", type);
								cache_get_value_name_int(x, "int", int);
								cache_get_value_name_int(x, "int_extra", int_extra);

								VEHICLE_BOOT[vehicle_id][x][vehicle_boot_VALID] = true;
								VEHICLE_BOOT[vehicle_id][x][vehicle_boot_OBJECT_ID] = vboot_id;
								VEHICLE_BOOT[vehicle_id][x][vehicle_boot_TYPE] = type;
								VEHICLE_BOOT[vehicle_id][x][vehicle_boot_INT] = int;
								VEHICLE_BOOT[vehicle_id][x][vehicle_boot_INT_EXTRA] = int_extra;
							}
						}
					}
                    
                    // NUEVO: Suma dinámica de slots para un vehículo individual
                    new total_slots = VEHICLE_INFO[GLOBAL_VEHICLES[vehicle_id][gb_vehicle_MODELID] - 400][vehicle_info_BOOT_SLOTS] + PLAYER_VEHICLES[vehicle_id][player_vehicle_EXTRA_SLOTS];

					mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT * FROM vboot WHERE id_vehicle = %d LIMIT %d;", PLAYER_VEHICLES[vehicle_id][player_vehicle_ID], total_slots);
					mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnVbootLoad);

					//vobjects (continua igual...)
					inline OnVobjectsLoad() {
						new vo_rows;
						if (cache_get_row_count(vo_rows)) {
							for (new x = 0; x != vo_rows; x ++) {
								new vobject_id, type, name[32], vobject_modelid, Float:off_x, Float:off_y, Float:off_z,
									Float:rot_x, Float:rot_y, Float:rot_z, attached, vobject_color0, vobject_color1,
									vobject_color2, vobject_color3, vobject_color4, text[32], font[24], fontsize, fontbold, fontcolor,
									bool:isnull_text, bool:isnull_font;

								cache_get_value_name_int(x, "id", vobject_id);
								cache_get_value_name_int(x, "type", type);
								cache_get_value_name(x, "name", name);
								cache_get_value_name_int(x, "modelid", vobject_modelid);
								cache_get_value_name_float(x, "off_x", off_x);
								cache_get_value_name_float(x, "off_y", off_y);
								cache_get_value_name_float(x, "off_z", off_z);
								cache_get_value_name_float(x, "rot_x", rot_x);
								cache_get_value_name_float(x, "rot_y", rot_y);
								cache_get_value_name_float(x, "rot_z", rot_z);
								cache_get_value_name_int(x, "attached", attached);
								cache_get_value_name_int(x, "color0", vobject_color0);
								cache_get_value_name_int(x, "color1", vobject_color1);
								cache_get_value_name_int(x, "color2", vobject_color2);
								cache_get_value_name_int(x, "color3", vobject_color3);
								cache_get_value_name_int(x, "color4", vobject_color4);
								cache_is_value_name_null(x, "text", isnull_text);
								if (!isnull_text) cache_get_value_name(x, "text", text);
								cache_is_value_name_null(x, "font", isnull_font);
								if (!isnull_font) cache_get_value_name(x, "font", font);
								cache_get_value_name_int(x, "fontsize", fontsize);
								cache_get_value_name_int(x, "fontbold", fontbold);
								cache_get_value_name_int(x, "fontcolor", fontcolor);

								//ok
								VEHICLE_OBJECTS[vehicle_id][x][vobject_VALID] = true;
								VEHICLE_OBJECTS[vehicle_id][x][vobject_ID] = vobject_id;
								VEHICLE_OBJECTS[vehicle_id][x][vobject_TYPE] = type;
								format(VEHICLE_OBJECTS[vehicle_id][x][vobject_NAME], 32, "%s", name);
								VEHICLE_OBJECTS[vehicle_id][x][vobject_MODELID] = vobject_modelid;
								VEHICLE_OBJECTS[vehicle_id][x][vobject_OFFSET][0] = off_x;
								VEHICLE_OBJECTS[vehicle_id][x][vobject_OFFSET][1] = off_y;
								VEHICLE_OBJECTS[vehicle_id][x][vobject_OFFSET][2] = off_z;
								VEHICLE_OBJECTS[vehicle_id][x][vobject_ROT][0] = rot_x;
								VEHICLE_OBJECTS[vehicle_id][x][vobject_ROT][1] = rot_y;
								VEHICLE_OBJECTS[vehicle_id][x][vobject_ROT][2] = rot_z;
								VEHICLE_OBJECTS[vehicle_id][x][vobject_ATTACHED] = attached;
								VEHICLE_OBJECTS[vehicle_id][x][vobject_COLORS][0] = vobject_color0;
								VEHICLE_OBJECTS[vehicle_id][x][vobject_COLORS][1] = vobject_color1;
								VEHICLE_OBJECTS[vehicle_id][x][vobject_COLORS][2] = vobject_color2;
								VEHICLE_OBJECTS[vehicle_id][x][vobject_COLORS][3] = vobject_color3;
								VEHICLE_OBJECTS[vehicle_id][x][vobject_COLORS][4] = vobject_color4;
								format(VEHICLE_OBJECTS[vehicle_id][x][vobject_text_TEXT], 32, "%s", text);
								format(VEHICLE_OBJECTS[vehicle_id][x][vobject_text_FONT], 24, "%s", font);
								VEHICLE_OBJECTS[vehicle_id][x][vobject_text_FONT_SIZE] = fontsize;
								VEHICLE_OBJECTS[vehicle_id][x][vobject_text_BOLD] = fontbold;
								VEHICLE_OBJECTS[vehicle_id][x][vobject_text_FONT_COLOR] = fontcolor;
								UpdateVehicleAttachedObject(vehicle_id, x, true);
							}
							//loaded
							SetVehicleToRespawnEx(vehicle_id);
							//loaded
						}
					}
					mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT * FROM vobjects WHERE id_vehicle = %d LIMIT %d;", PLAYER_VEHICLES[vehicle_id][player_vehicle_ID], MAX_SU_VOBJECTS);
					mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnVobjectsLoad);
				}
			}
		}
	}

	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT * FROM pvehicles WHERE id_player = %d AND id = %d LIMIT 1;", PI[playerid][pi_ID], db_id);
	mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnPlayerVehicleLoad);
	return vehicle_id;
}

SavePlayerVehicle(playerid, vehicleid, destroy = false) {
	if (PI[playerid][pi_ID] == 0) return 0;

	if (!PLAYER_VEHICLES[vehicleid][player_vehicle_VALID]) return 0;
	if (PLAYER_VEHICLES[vehicleid][player_vehicle_OWNER_ID] != PI[playerid][pi_ID]) return 0;

	GetVehiclePos(vehicleid, GLOBAL_VEHICLES[vehicleid][gb_vehicle_SPAWN_X], GLOBAL_VEHICLES[vehicleid][gb_vehicle_SPAWN_Y], GLOBAL_VEHICLES[vehicleid][gb_vehicle_SPAWN_Z]);
	GetVehicleZAngle(vehicleid, GLOBAL_VEHICLES[vehicleid][gb_vehicle_SPAWN_ANGLE]);
	GetVehicleHealth(vehicleid, GLOBAL_VEHICLES[vehicleid][gb_vehicle_HEALTH]);
	if (GLOBAL_VEHICLES[vehicleid][gb_vehicle_HEALTH] > 1000.0) GLOBAL_VEHICLES[vehicleid][gb_vehicle_HEALTH] = 1000.0;
	if (GLOBAL_VEHICLES[vehicleid][gb_vehicle_HEALTH] < MIN_VEHICLE_HEALTH) GLOBAL_VEHICLES[vehicleid][gb_vehicle_HEALTH] = MIN_VEHICLE_HEALTH;
	GetVehicleDamageStatus(vehicleid, GLOBAL_VEHICLES[vehicleid][gb_vehicle_DAMAGE_PANELS], GLOBAL_VEHICLES[vehicleid][gb_vehicle_DAMAGE_DOORS], GLOBAL_VEHICLES[vehicleid][gb_vehicle_DAMAGE_LIGHTS], GLOBAL_VEHICLES[vehicleid][gb_vehicle_DAMAGE_TIRES]);
	GLOBAL_VEHICLES[vehicleid][gb_vehicle_WORLD] = 0;

	mysql_format
	(
		srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER,
		"\
			UPDATE pvehicles SET \
				id_player = %d,\
				plate = '%e',\
				modelid = %d,\
				spawn_x = %f,\
				spawn_y = %f,\
				spawn_z = %f,\
				spawn_angle = %f,\
				health = %f,\
				damage_panels = %d,\
				damage_doors = %d,\
				damage_lights = %d,\
				damage_tires = %d,\
				color1 = %d,\
				color2 = %d,\
				paintjob = %d,\
				gas = %f,\
				max_gas = %f,\
				closed = %d,\
				interior = %d,\
				world = %d,\
				state = %d,\
				slot0 = %d,\
				slot1 = %d,\
				slot2 = %d,\
				slot3 = %d,\
				slot4 = %d,\
				slot5 = %d,\
				slot6 = %d,\
				slot7 = %d,\
				slot8 = %d,\
				slot9 = %d,\
				slot10 = %d,\
				slot11 = %d,\
				slot12 = %d,\
				slot13 = %d,\
				clamp = %d,\
				parking = %d \
			WHERE id = %d;\
		",
			PLAYER_VEHICLES[vehicleid][player_vehicle_OWNER_ID], GLOBAL_VEHICLES[vehicleid][gb_vehicle_NUMBER_PLATE], GLOBAL_VEHICLES[vehicleid][gb_vehicle_MODELID],
			GLOBAL_VEHICLES[vehicleid][gb_vehicle_SPAWN_X], GLOBAL_VEHICLES[vehicleid][gb_vehicle_SPAWN_Y], GLOBAL_VEHICLES[vehicleid][gb_vehicle_SPAWN_Z], GLOBAL_VEHICLES[vehicleid][gb_vehicle_SPAWN_ANGLE], GLOBAL_VEHICLES[vehicleid][gb_vehicle_HEALTH],
			GLOBAL_VEHICLES[vehicleid][gb_vehicle_DAMAGE_PANELS], GLOBAL_VEHICLES[vehicleid][gb_vehicle_DAMAGE_DOORS], GLOBAL_VEHICLES[vehicleid][gb_vehicle_DAMAGE_LIGHTS], GLOBAL_VEHICLES[vehicleid][gb_vehicle_DAMAGE_TIRES],
			GLOBAL_VEHICLES[vehicleid][gb_vehicle_COLOR_1], GLOBAL_VEHICLES[vehicleid][gb_vehicle_COLOR_2], GLOBAL_VEHICLES[vehicleid][gb_vehicle_PAINTJOB], GLOBAL_VEHICLES[vehicleid][gb_vehicle_GAS], GLOBAL_VEHICLES[vehicleid][gb_vehicle_MAX_GAS],
			GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_DOORS], GLOBAL_VEHICLES[vehicleid][gb_vehicle_INTERIOR], GLOBAL_VEHICLES[vehicleid][gb_vehicle_WORLD], GLOBAL_VEHICLES[vehicleid][gb_vehicle_STATE],
			GLOBAL_VEHICLES[vehicleid][gb_vehicle_COMPONENTS][0], GLOBAL_VEHICLES[vehicleid][gb_vehicle_COMPONENTS][1], GLOBAL_VEHICLES[vehicleid][gb_vehicle_COMPONENTS][2], GLOBAL_VEHICLES[vehicleid][gb_vehicle_COMPONENTS][3],
			GLOBAL_VEHICLES[vehicleid][gb_vehicle_COMPONENTS][4], GLOBAL_VEHICLES[vehicleid][gb_vehicle_COMPONENTS][5], GLOBAL_VEHICLES[vehicleid][gb_vehicle_COMPONENTS][6], GLOBAL_VEHICLES[vehicleid][gb_vehicle_COMPONENTS][7],
			GLOBAL_VEHICLES[vehicleid][gb_vehicle_COMPONENTS][8], GLOBAL_VEHICLES[vehicleid][gb_vehicle_COMPONENTS][9], GLOBAL_VEHICLES[vehicleid][gb_vehicle_COMPONENTS][10], GLOBAL_VEHICLES[vehicleid][gb_vehicle_COMPONENTS][11],
			GLOBAL_VEHICLES[vehicleid][gb_vehicle_COMPONENTS][12], GLOBAL_VEHICLES[vehicleid][gb_vehicle_COMPONENTS][13], PLAYER_VEHICLES[vehicleid][player_vehicle_CLAMP], PLAYER_VEHICLES[vehicleid][player_vehicle_PARKING],

			PLAYER_VEHICLES[vehicleid][player_vehicle_ID]
	);
	mysql_tquery(srp_db, QUERY_BUFFER);

	if (destroy) {
		DestroyVehicleEx(vehicleid);
		vehicleid = INVALID_VEHICLE_ID;
	}
	
	return vehicleid;
}

SavePlayerVehicles(playerid, destroy = false)
{
	if (PI[playerid][pi_ID] == 0) return 0;
	
	for (new i = 0; i != MAX_VEHICLES; i ++)
	{
		if (!PLAYER_VEHICLES[i][player_vehicle_VALID]) continue;
		if (PLAYER_VEHICLES[i][player_vehicle_OWNER_ID] != PI[playerid][pi_ID]) continue;
		
		GetVehiclePos(i, GLOBAL_VEHICLES[i][gb_vehicle_SPAWN_X], GLOBAL_VEHICLES[i][gb_vehicle_SPAWN_Y], GLOBAL_VEHICLES[i][gb_vehicle_SPAWN_Z]);
		GetVehicleZAngle(i, GLOBAL_VEHICLES[i][gb_vehicle_SPAWN_ANGLE]);
		GetVehicleHealth(i, GLOBAL_VEHICLES[i][gb_vehicle_HEALTH]);
		if (GLOBAL_VEHICLES[i][gb_vehicle_HEALTH] > 1000.0) GLOBAL_VEHICLES[i][gb_vehicle_HEALTH] = 1000.0;
		if (GLOBAL_VEHICLES[i][gb_vehicle_HEALTH] < MIN_VEHICLE_HEALTH) GLOBAL_VEHICLES[i][gb_vehicle_HEALTH] = MIN_VEHICLE_HEALTH;
		GetVehicleDamageStatus(i, GLOBAL_VEHICLES[i][gb_vehicle_DAMAGE_PANELS], GLOBAL_VEHICLES[i][gb_vehicle_DAMAGE_DOORS], GLOBAL_VEHICLES[i][gb_vehicle_DAMAGE_LIGHTS], GLOBAL_VEHICLES[i][gb_vehicle_DAMAGE_TIRES]);
		GLOBAL_VEHICLES[i][gb_vehicle_WORLD] = 0;//GetVehicleVirtualWorld(i);
		
		mysql_format
		(
			srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER,
			"\
				UPDATE pvehicles SET \
					id_player = %d,\
					plate = '%e',\
					modelid = %d,\
					spawn_x = %f,\
					spawn_y = %f,\
					spawn_z = %f,\
					spawn_angle = %f,\
					health = %f,\
					damage_panels = %d,\
					damage_doors = %d,\
					damage_lights = %d,\
					damage_tires = %d,\
					color1 = %d,\
					color2 = %d,\
					paintjob = %d,\
					gas = %f,\
					max_gas = %f,\
					closed = %d,\
					interior = %d,\
					world = %d,\
					state = %d,\
					slot0 = %d,\
					slot1 = %d,\
					slot2 = %d,\
					slot3 = %d,\
					slot4 = %d,\
					slot5 = %d,\
					slot6 = %d,\
					slot7 = %d,\
					slot8 = %d,\
					slot9 = %d,\
					slot10 = %d,\
					slot11 = %d,\
					slot12 = %d,\
					slot13 = %d,\
					clamp = %d,\
					parking = %d \
				WHERE id = %d;\
			",
				PLAYER_VEHICLES[i][player_vehicle_OWNER_ID], GLOBAL_VEHICLES[i][gb_vehicle_NUMBER_PLATE], GLOBAL_VEHICLES[i][gb_vehicle_MODELID],
				GLOBAL_VEHICLES[i][gb_vehicle_SPAWN_X], GLOBAL_VEHICLES[i][gb_vehicle_SPAWN_Y], GLOBAL_VEHICLES[i][gb_vehicle_SPAWN_Z], GLOBAL_VEHICLES[i][gb_vehicle_SPAWN_ANGLE], GLOBAL_VEHICLES[i][gb_vehicle_HEALTH],
				GLOBAL_VEHICLES[i][gb_vehicle_DAMAGE_PANELS], GLOBAL_VEHICLES[i][gb_vehicle_DAMAGE_DOORS], GLOBAL_VEHICLES[i][gb_vehicle_DAMAGE_LIGHTS], GLOBAL_VEHICLES[i][gb_vehicle_DAMAGE_TIRES],
				GLOBAL_VEHICLES[i][gb_vehicle_COLOR_1], GLOBAL_VEHICLES[i][gb_vehicle_COLOR_2], GLOBAL_VEHICLES[i][gb_vehicle_PAINTJOB], GLOBAL_VEHICLES[i][gb_vehicle_GAS], GLOBAL_VEHICLES[i][gb_vehicle_MAX_GAS],
				GLOBAL_VEHICLES[i][gb_vehicle_PARAMS_DOORS], GLOBAL_VEHICLES[i][gb_vehicle_INTERIOR], GLOBAL_VEHICLES[i][gb_vehicle_WORLD], GLOBAL_VEHICLES[i][gb_vehicle_STATE],
				GLOBAL_VEHICLES[i][gb_vehicle_COMPONENTS][0], GLOBAL_VEHICLES[i][gb_vehicle_COMPONENTS][1], GLOBAL_VEHICLES[i][gb_vehicle_COMPONENTS][2], GLOBAL_VEHICLES[i][gb_vehicle_COMPONENTS][3],
				GLOBAL_VEHICLES[i][gb_vehicle_COMPONENTS][4], GLOBAL_VEHICLES[i][gb_vehicle_COMPONENTS][5], GLOBAL_VEHICLES[i][gb_vehicle_COMPONENTS][6], GLOBAL_VEHICLES[i][gb_vehicle_COMPONENTS][7],
				GLOBAL_VEHICLES[i][gb_vehicle_COMPONENTS][8], GLOBAL_VEHICLES[i][gb_vehicle_COMPONENTS][9], GLOBAL_VEHICLES[i][gb_vehicle_COMPONENTS][10], GLOBAL_VEHICLES[i][gb_vehicle_COMPONENTS][11],
				GLOBAL_VEHICLES[i][gb_vehicle_COMPONENTS][12], GLOBAL_VEHICLES[i][gb_vehicle_COMPONENTS][13], PLAYER_VEHICLES[i][player_vehicle_CLAMP], PLAYER_VEHICLES[i][player_vehicle_PARKING],

				PLAYER_VEHICLES[i][player_vehicle_ID]
		);
		mysql_tquery(srp_db, QUERY_BUFFER);

		if (destroy) DestroyVehicleEx(i);
	}
	return 1;
}

public OnVehicleSpawn(vehicleid)
{
    for(new i = 0; i < 3; i++) {
        if(IsValidDynamicObject(ObjCajasVehiculo[vehicleid][i])) {
            DestroyDynamicObject(ObjCajasVehiculo[vehicleid][i]);
            ObjCajasVehiculo[vehicleid][i] = -1;
        }
    }
    
    // Si también usas el sistema de barriles (3632) en los mismos vehículos:
    for(new i = 0; i < 5; i++) {
        if(IsValidDynamicObject(ObjBarrilVehiculo[vehicleid][i])) {
            DestroyDynamicObject(ObjBarrilVehiculo[vehicleid][i]);
            ObjBarrilVehiculo[vehicleid][i] = -1;
        }
    }
    BarrilVehiculo[vehicleid] = 0;
    
	GLOBAL_VEHICLES[vehicleid][gb_vehicle_TP_IMMUNITY] = gettime() + 5;
	GLOBAL_VEHICLES[vehicleid][gb_vehicle_SPAWNED] = true;
	GLOBAL_VEHICLES[vehicleid][gb_vehicle_ATTACHED_TO] = INVALID_VEHICLE_ID;
	GLOBAL_VEHICLES[vehicleid][gb_vehicle_DRIVER] = INVALID_PLAYER_ID;
	GLOBAL_VEHICLES[vehicleid][gb_vehicle_LAST_DRIVER] = INVALID_PLAYER_ID;
	GLOBAL_VEHICLES[vehicleid][gb_vehicle_OCCUPIED] = false;
	GLOBAL_VEHICLES[vehicleid][gb_vehicle_RESPAWN_TIME] = gettime() + 600;
	
	if (GLOBAL_VEHICLES[vehicleid][gb_vehicle_HEALTH] < MIN_VEHICLE_HEALTH) GLOBAL_VEHICLES[vehicleid][gb_vehicle_HEALTH] = MIN_VEHICLE_HEALTH;

	if(IsValidDynamic3DTextLabel(GLOBAL_VEHICLES[vehicleid][gb_vehicle_LABEL]))
	{
		DestroyDynamic3DTextLabel(GLOBAL_VEHICLES[vehicleid][gb_vehicle_LABEL]);
		GLOBAL_VEHICLES[vehicleid][gb_vehicle_LABEL] = Text3D:INVALID_STREAMER_ID;
	}

	if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_TYPE] == VEHICLE_TYPE_WORK)
	{
		if(WORK_VEHICLES[vehicleid][work_vehicle_WORK] == WORK_TRASH)
		{
			if(TRASH_VEHICLES[vehicleid][trash_vehicle_JOB_STARTED])
			{
				CancelTrashWork(TRASH_VEHICLES[vehicleid][trash_vehicle_DRIVER_ID], TRASH_VEHICLES[vehicleid][trash_vehicle_PASSENGER_ID], vehicleid);
			}
		}

		GLOBAL_VEHICLES[vehicleid][gb_vehicle_STATE] = VEHICLE_STATE_NORMAL;
		if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_MAX_GAS] <= 0.0) GLOBAL_VEHICLES[vehicleid][gb_vehicle_GAS] = 0.0;
		else GLOBAL_VEHICLES[vehicleid][gb_vehicle_GAS] = frandom(GLOBAL_VEHICLES[vehicleid][gb_vehicle_MAX_GAS], GLOBAL_VEHICLES[vehicleid][gb_vehicle_MAX_GAS] / 3, 2);
		GLOBAL_VEHICLES[vehicleid][gb_vehicle_HEALTH] = 1000.0;
		GLOBAL_VEHICLES[vehicleid][gb_vehicle_DAMAGE_PANELS] = 0;
		GLOBAL_VEHICLES[vehicleid][gb_vehicle_DAMAGE_DOORS] = 0;
		GLOBAL_VEHICLES[vehicleid][gb_vehicle_DAMAGE_LIGHTS] = 0;
		GLOBAL_VEHICLES[vehicleid][gb_vehicle_DAMAGE_TIRES] = 0;

		switch(WORK_VEHICLES[vehicleid][work_vehicle_WORK])
		{
			case WORK_TAXI: ResetVehicleTaxiMeter(vehicleid);
			case WORK_TRUCK: ResetTruckInfo(vehicleid);
			case WORK_TRASH: ResetTrashInfo(vehicleid);
			case WORK_PIZZA: ResetPizzaInfo(vehicleid);
		}
	}

	if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_IS_RETURN])
	{
		new index_v = GLOBAL_VEHICLES[vehicleid][gb_vehicle_LINK_ID];
		GLOBAL_VEHICLES[vehicleid][gb_vehicle_TIME_OUT] = 0;
		GLOBAL_VEHICLES[vehicleid][gb_vehicle_IS_RETURN] = false;

		if(index_v >= 0 && index_v < sizeof(San_Andreas_Vehicles))
		{
			UpdateDynamic3DTextLabelText(San_Andreas_Vehicles[index_v][san_andreas_vehicle_Text3D], 0xFFFFFFFF, GetTextSpawnVehicle(index_v, 0));
		}

		GLOBAL_VEHICLES[vehicleid][gb_vehicle_LINK_ID] = 0;
		DestroyVehicleEx(vehicleid);
	}
	else
	{

		if((PLAYER_VEHICLES[vehicleid][player_vehicle_VALID]) || !PLAYER_VEHICLES[vehicleid][player_vehicle_VALID])
		{
			SetVehicleNumberPlate(vehicleid, GLOBAL_VEHICLES[vehicleid][gb_vehicle_NUMBER_PLATE]);
			SetVehicleHealthEx(vehicleid, GLOBAL_VEHICLES[vehicleid][gb_vehicle_HEALTH]);
			UpdateVehicleDamageStatus(vehicleid, GLOBAL_VEHICLES[vehicleid][gb_vehicle_DAMAGE_PANELS], GLOBAL_VEHICLES[vehicleid][gb_vehicle_DAMAGE_DOORS], GLOBAL_VEHICLES[vehicleid][gb_vehicle_DAMAGE_LIGHTS], GLOBAL_VEHICLES[vehicleid][gb_vehicle_DAMAGE_TIRES]);
			ChangeVehicleColor(vehicleid, GLOBAL_VEHICLES[vehicleid][gb_vehicle_COLOR_1], GLOBAL_VEHICLES[vehicleid][gb_vehicle_COLOR_2]);
			ChangeVehiclePaintjob(vehicleid, GLOBAL_VEHICLES[vehicleid][gb_vehicle_PAINTJOB]);

				SetVehiclePosEx(vehicleid, GLOBAL_VEHICLES[vehicleid][gb_vehicle_SPAWN_X], GLOBAL_VEHICLES[vehicleid][gb_vehicle_SPAWN_Y], GLOBAL_VEHICLES[vehicleid][gb_vehicle_SPAWN_Z]);
				SetVehicleZAngle(vehicleid, GLOBAL_VEHICLES[vehicleid][gb_vehicle_SPAWN_ANGLE]);

			LinkVehicleToInteriorEx(vehicleid, GLOBAL_VEHICLES[vehicleid][gb_vehicle_INTERIOR]);
			SetVehicleVirtualWorldEx(vehicleid, GLOBAL_VEHICLES[vehicleid][gb_vehicle_WORLD]);//GLOBAL_VEHICLES[vehicleid][gb_vehicle_WORLD]);
			AddVehicleComponents(vehicleid);

			GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_ENGINE] = 0;
			GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_LIGHTS] = 0;
			GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_ALARM] = 0;
			if(!PLAYER_VEHICLES[vehicleid][player_vehicle_VALID]) GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_DOORS] = 0;
			GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_BONNET] = 0;
			GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_BOOT] = 0;
			GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_OBJECTIVE] = 0;
			GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_GLOVE] = 0;
			UpdateVehicleParams(vehicleid);
			SetClampVehicleLabel(vehicleid);
		}
			else
		{
			SetVehicleVirtualWorld(vehicleid, (vehicleid + 1000));
		}
	}
	return 1;
}



SetClampVehicleLabel(vehicleid) {
	if(PLAYER_VEHICLES[vehicleid][player_vehicle_VALID]) {
		if(IsValidDynamic3DTextLabel(GLOBAL_VEHICLES[vehicleid][gb_vehicle_LABEL]))
		{
			DestroyDynamic3DTextLabel(GLOBAL_VEHICLES[vehicleid][gb_vehicle_LABEL]);
			GLOBAL_VEHICLES[vehicleid][gb_vehicle_LABEL] = Text3D:INVALID_STREAMER_ID;
		}

		if(PLAYER_VEHICLES[vehicleid][player_vehicle_CLAMP] > 0) {
			new string[256];
			format(string, sizeof string, "Cepo\nUsa "YELLOW"/pagar "WHITE"para pagar la multa por $%s", number_format_thousand(PLAYER_VEHICLES[vehicleid][player_vehicle_CLAMP]));

			new Float:wX, Float:wY, Float:wZ;
			GetVehicleModelInfo(GLOBAL_VEHICLES[vehicleid][gb_vehicle_MODELID], VEHICLE_MODEL_INFO_WHEELSREAR, wX, wY, wZ);
			GLOBAL_VEHICLES[vehicleid][gb_vehicle_LABEL] = CreateDynamic3DTextLabel(string, -1, wX, wY, wZ, 20.0, .attachedvehicle = vehicleid);
		}
	}
}

UpdateVehicleParams(vehicleid)
{
	return
		SetVehicleParamsEx(vehicleid, GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_ENGINE], GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_LIGHTS], GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_ALARM], GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_DOORS], GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_BONNET], GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_BOOT], GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_OBJECTIVE]);
}

SetVehicleHealthEx(vehicleid, Float:health, forplayerid = INVALID_PLAYER_ID)
{
	if(forplayerid != INVALID_PLAYER_ID) PLAYER_AC_INFO[forplayerid][CHEAT_VEHICLE_HEALTH][p_ac_info_IMMUNITY] = gettime() + 3;
	
	GLOBAL_VEHICLES[vehicleid][gb_vehicle_HEALTH] = health;
	SetVehicleHealth(vehicleid, health);
	return 1;
}

RepairVehicleEx(vehicleid, forplayerid = INVALID_PLAYER_ID, Float:health = 1000.0)
{
	if(forplayerid != INVALID_PLAYER_ID) PLAYER_AC_INFO[forplayerid][CHEAT_VEHICLE_HEALTH][p_ac_info_IMMUNITY] = gettime() + 3;

	GLOBAL_VEHICLES[vehicleid][gb_vehicle_LAST_REPAIR_TIME] = gettime();
	GLOBAL_VEHICLES[vehicleid][gb_vehicle_STATE] = VEHICLE_STATE_NORMAL;
	GLOBAL_VEHICLES[vehicleid][gb_vehicle_HEALTH] = health;
	GLOBAL_VEHICLES[vehicleid][gb_vehicle_DAMAGE_PANELS] = 0;
	GLOBAL_VEHICLES[vehicleid][gb_vehicle_DAMAGE_DOORS] = 0;
	GLOBAL_VEHICLES[vehicleid][gb_vehicle_DAMAGE_LIGHTS] = 0;
	GLOBAL_VEHICLES[vehicleid][gb_vehicle_DAMAGE_TIRES] = 0;
	SetVehicleHealthEx(vehicleid, GLOBAL_VEHICLES[vehicleid][gb_vehicle_HEALTH]);
	if(health >= 1000.0) RepairVehicle(vehicleid);
	return 1;
}

SetVehiclePosEx(vehicleid, Float:x, Float:y, Float:z)
{
	GLOBAL_VEHICLES[vehicleid][gb_vehicle_TP_IMMUNITY] = gettime() + 5;
	GLOBAL_VEHICLES[vehicleid][gb_vehicle_POS][0] = x;
	GLOBAL_VEHICLES[vehicleid][gb_vehicle_POS][1] = y;
	GLOBAL_VEHICLES[vehicleid][gb_vehicle_POS][2] = z;
	GLOBAL_VEHICLES[vehicleid][gb_vehicle_ATTACHED_TO] = INVALID_VEHICLE_ID;
	return SetVehiclePos(vehicleid, x, y, z);
}

LinkVehicleToInteriorEx(vehicleid, interior)
{
	GLOBAL_VEHICLES[vehicleid][gb_vehicle_TP_IMMUNITY] = gettime() + 5;
	GLOBAL_VEHICLES[vehicleid][gb_vehicle_INTERIOR] = interior;
	GLOBAL_VEHICLES[vehicleid][gb_vehicle_ATTACHED_TO] = INVALID_VEHICLE_ID;
	return LinkVehicleToInterior(vehicleid, interior);
}

SetVehicleToRespawnEx(vehicleid)
{
	GLOBAL_VEHICLES[vehicleid][gb_vehicle_SPAWNED] = false;
	GLOBAL_VEHICLES[vehicleid][gb_vehicle_ATTACHED_TO] = INVALID_VEHICLE_ID;

    SetVehicleToRespawn(vehicleid);
}


public OnVehicleDeath(vehicleid, killerid)
{
    for(new i = 0; i < MAX_PLAYERS; i++) {
        if(IsPlayerConnected(i) && VehiculoTrabajo[i] == vehicleid) {
            ShowPlayerMessage(i, "Tu vehiculo de trabajo ha sido destruido. Mision fallida.");
            ResetTrabajo(i);
            break;
        }
    }
    
    for(new i = 0; i < MAX_PLAYERS; i++)
    {
        if(IsPlayerConnected(i) && PLAYER_TEMP[i][pt_TRAILER_OBJ] == vehicleid)
        {
            PLAYER_TEMP[i][pt_CARGADO] = false;
            PLAYER_TEMP[i][pt_TRAILER_OBJ] = 0;
            DisablePlayerCheckpoint(i);
            SendNotification(i, "Tu remolque ha sido destruido. El trabajo se ha cancelado.");
            break;
        }
    }
        
		if (GLOBAL_VEHICLES[vehicleid][gb_vehicle_TEMP])
	{
		DestroyVehicleEx(vehicleid);

		if (GLOBAL_VEHICLES[vehicleid][gb_vehicle_DRIVER] != INVALID_PLAYER_ID)
		{
			PLAYER_TEMP[ GLOBAL_VEHICLES[vehicleid][gb_vehicle_DRIVER] ][pt_WORK_VEHICLE_ID] = INVALID_VEHICLE_ID;
			PLAYER_TEMP[ GLOBAL_VEHICLES[vehicleid][gb_vehicle_DRIVER] ][pt_RENT_VEHICLE_ID] = INVALID_VEHICLE_ID;
		}

		if (GLOBAL_VEHICLES[vehicleid][gb_vehicle_LAST_DRIVER] != INVALID_PLAYER_ID)
		{
			PLAYER_TEMP[ GLOBAL_VEHICLES[vehicleid][gb_vehicle_LAST_DRIVER] ][pt_WORK_VEHICLE_ID] = INVALID_VEHICLE_ID;
			PLAYER_TEMP[ GLOBAL_VEHICLES[vehicleid][gb_vehicle_LAST_DRIVER] ][pt_RENT_VEHICLE_ID] = INVALID_VEHICLE_ID;
		}
	}
	
	GLOBAL_VEHICLES[vehicleid][gb_vehicle_SPAWNED] = false;
	GLOBAL_VEHICLES[vehicleid][gb_vehicle_DRIVER] = INVALID_PLAYER_ID;
	GLOBAL_VEHICLES[vehicleid][gb_vehicle_LAST_DRIVER] = INVALID_PLAYER_ID;
	GLOBAL_VEHICLES[vehicleid][gb_vehicle_OCCUPIED] = false;
	GLOBAL_VEHICLES[vehicleid][gb_vehicle_ATTACHED_TO] = INVALID_VEHICLE_ID;
	
	if(IsValidDynamic3DTextLabel(GLOBAL_VEHICLES[vehicleid][gb_vehicle_LABEL]))
	{
		DestroyDynamic3DTextLabel(GLOBAL_VEHICLES[vehicleid][gb_vehicle_LABEL]);
		GLOBAL_VEHICLES[vehicleid][gb_vehicle_LABEL] = Text3D:INVALID_STREAMER_ID;
	}
    
	switch(GLOBAL_VEHICLES[vehicleid][gb_vehicle_TYPE])
	{
		case VEHICLE_TYPE_TEST: DestroyVehicleEx(vehicleid);
		case VEHICLE_TYPE_PERSONAL:
		{
			if(VEHICLE_INFO[GLOBAL_VEHICLES[vehicleid][gb_vehicle_MODELID] - 400][vehicle_info_NORMAL_SPEEDO])
			{
				GLOBAL_VEHICLES[vehicleid][gb_vehicle_STATE] = VEHICLE_STATE_DAMAGED;
				GLOBAL_VEHICLES[vehicleid][gb_vehicle_HEALTH] = MIN_VEHICLE_HEALTH;
			}
			else
			{
				GLOBAL_VEHICLES[vehicleid][gb_vehicle_STATE] = VEHICLE_STATE_NORMAL;
				GLOBAL_VEHICLES[vehicleid][gb_vehicle_HEALTH] = 1000.0;
			}

			new playerid = GetPlayerIdFromAccountId(PLAYER_VEHICLES[vehicleid][player_vehicle_OWNER_ID]);
			if(playerid != INVALID_PLAYER_ID)
			{
				if(PI[playerid][pi_PHONE_NUMBER])
				{
					new message[64]; format(message, sizeof message, "vehiculo de sustitución entregado en últ. estacionamiento.", 2);
					RegisterPhoneMessage(0, PI[playerid][pi_ID], message);
					if(PI[playerid][pi_PHONE_STATE] == PHONE_STATE_ON)
					{
						if((PLAYER_TEMP[playerid][pt_GAME_STATE] == GAME_STATE_NORMAL || PLAYER_TEMP[playerid][pt_GAME_STATE] == GAME_STATE_DEAD))
						{
							SendClientMessageEx(playerid, -1, "{"#PRIMARY_COLOR"}[SMS] {"#SILVER_COLOR"}Remitente: {FFFFFF}%s {"#SILVER_COLOR"}Mensaje: {FFFFFF}%s", convertPhoneNumber(playerid, 38350), message);
						}
					}
				}
			}
		}
		case VEHICLE_TYPE_FACCION:
		{
			GLOBAL_VEHICLES[vehicleid][gb_vehicle_STATE] = VEHICLE_STATE_NORMAL;
			if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_MAX_GAS] <= 0.0) GLOBAL_VEHICLES[vehicleid][gb_vehicle_GAS] = 0.0;
			else GLOBAL_VEHICLES[vehicleid][gb_vehicle_GAS] = frandom(GLOBAL_VEHICLES[vehicleid][gb_vehicle_MAX_GAS], GLOBAL_VEHICLES[vehicleid][gb_vehicle_MAX_GAS] / 3, 2);
			GLOBAL_VEHICLES[vehicleid][gb_vehicle_HEALTH] = 1000.0;
			GLOBAL_VEHICLES[vehicleid][gb_vehicle_DAMAGE_PANELS] = 0;
			GLOBAL_VEHICLES[vehicleid][gb_vehicle_DAMAGE_DOORS] = 0;
			GLOBAL_VEHICLES[vehicleid][gb_vehicle_DAMAGE_LIGHTS] = 0;
			GLOBAL_VEHICLES[vehicleid][gb_vehicle_DAMAGE_TIRES] = 0;
			GLOBAL_VEHICLES[vehicleid][gb_vehicle_SPAWNED] = true;
			SetVehicleToRespawn(vehicleid);
		}
		default:
		{
			GLOBAL_VEHICLES[vehicleid][gb_vehicle_STATE] = VEHICLE_STATE_NORMAL;
			if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_MAX_GAS] <= 0.0) GLOBAL_VEHICLES[vehicleid][gb_vehicle_GAS] = 0.0;
			else GLOBAL_VEHICLES[vehicleid][gb_vehicle_GAS] = frandom(GLOBAL_VEHICLES[vehicleid][gb_vehicle_MAX_GAS], GLOBAL_VEHICLES[vehicleid][gb_vehicle_MAX_GAS] / 3, 2);
			GLOBAL_VEHICLES[vehicleid][gb_vehicle_HEALTH] = 1000.0;
			GLOBAL_VEHICLES[vehicleid][gb_vehicle_DAMAGE_PANELS] = 0;
			GLOBAL_VEHICLES[vehicleid][gb_vehicle_DAMAGE_DOORS] = 0;
			GLOBAL_VEHICLES[vehicleid][gb_vehicle_DAMAGE_LIGHTS] = 0;
			GLOBAL_VEHICLES[vehicleid][gb_vehicle_DAMAGE_TIRES] = 0;
		}
	}
    return 1;
}



public OnTrailerUpdate(playerid, vehicleid)
{
    new towing_vehicle;
	towing_vehicle = GetPlayerVehicleID(playerid);
	if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_ATTACHED_TO] != towing_vehicle)
	{
		if(ac_Info[CHEAT_FAKE_TRAILER_SYNC][ac_Enabled])
		{
			if(gettime() > PLAYER_AC_INFO[playerid][CHEAT_FAKE_TRAILER_SYNC][p_ac_info_IMMUNITY])
			{
				if(!ac_Info[CHEAT_FAKE_TRAILER_SYNC][ac_Interval]) OnPlayerCheatDetected(playerid, CHEAT_FAKE_TRAILER_SYNC, vehicleid);
				else
				{
					if(gettime() - PLAYER_AC_INFO[playerid][CHEAT_FAKE_TRAILER_SYNC][p_ac_info_LAST_DETECTION] > ac_Info[CHEAT_FAKE_TRAILER_SYNC][ac_Interval]) PLAYER_AC_INFO[playerid][CHEAT_FAKE_TRAILER_SYNC][p_ac_info_DETECTIONS] = 0;
					else PLAYER_AC_INFO[playerid][CHEAT_FAKE_TRAILER_SYNC][p_ac_info_DETECTIONS] ++;

					PLAYER_AC_INFO[playerid][CHEAT_FAKE_TRAILER_SYNC][p_ac_info_LAST_DETECTION] = gettime();
					if(PLAYER_AC_INFO[playerid][CHEAT_FAKE_TRAILER_SYNC][p_ac_info_DETECTIONS] >= ac_Info[CHEAT_FAKE_TRAILER_SYNC][ac_Detections]) OnPlayerCheatDetected(playerid, CHEAT_FAKE_TRAILER_SYNC, vehicleid);
					return 0;
				}

			}
		}
	}
	return 1;
}

public OnUnoccupiedVehicleUpdate(vehicleid, playerid, passenger_seat, Float:new_x, Float:new_y, Float:new_z, Float:vel_x, Float:vel_y, Float:vel_z)
{
    if (gettime() > GLOBAL_VEHICLES[vehicleid][gb_vehicle_RESPAWN_TIME])
		{
			if (GLOBAL_VEHICLES[vehicleid][gb_vehicle_TEMP] && !PLAYER_VEHICLES[vehicleid][player_vehicle_VALID])
			{
				if (GLOBAL_VEHICLES[vehicleid][gb_vehicle_DRIVER] != INVALID_PLAYER_ID)
				{
					PLAYER_TEMP[ GLOBAL_VEHICLES[vehicleid][gb_vehicle_DRIVER] ][pt_WORK_VEHICLE_ID] = INVALID_VEHICLE_ID;
					PLAYER_TEMP[ GLOBAL_VEHICLES[vehicleid][gb_vehicle_DRIVER] ][pt_RENT_VEHICLE_ID] = INVALID_VEHICLE_ID;
				}

				if (GLOBAL_VEHICLES[vehicleid][gb_vehicle_LAST_DRIVER] != INVALID_PLAYER_ID)
				{
					PLAYER_TEMP[ GLOBAL_VEHICLES[vehicleid][gb_vehicle_LAST_DRIVER] ][pt_WORK_VEHICLE_ID] = INVALID_VEHICLE_ID;
					PLAYER_TEMP[ GLOBAL_VEHICLES[vehicleid][gb_vehicle_LAST_DRIVER] ][pt_RENT_VEHICLE_ID] = INVALID_VEHICLE_ID;
				}

				DestroyVehicleEx(vehicleid);
			}
		}
/*		if (PLAYER_VEHICLES[vehicleid][player_vehicle_VALID]) {
				new p_vehicle_id = -1, v_playerid = GetPlayerIdFromAccountId(PLAYER_VEHICLES[vehicleid][player_vehicle_OWNER_ID]);
				
				if (v_playerid != INVALID_PLAYER_ID) {
					p_vehicle_id = GetValidParkingVehicleId(v_playerid);
				}

				new parking_index = GetVehicleNearParkingIndex(vehicleid);

				if (p_vehicle_id != -1) {
					if (v_playerid != INVALID_PLAYER_ID) {
						new veh_money = VEHICLE_INFO[GLOBAL_VEHICLES[vehicleid][gb_vehicle_MODELID] - 400][vehicle_info_PRICE] / 200;

						ParkingVehicles[v_playerid][p_vehicle_id][pvValid] = true;
						ParkingVehicles[v_playerid][p_vehicle_id][pvId] = PLAYER_VEHICLES[vehicleid][player_vehicle_ID];
						ParkingVehicles[v_playerid][p_vehicle_id][pvModelid] = GLOBAL_VEHICLES[vehicleid][gb_vehicle_MODELID];
						ParkingVehicles[v_playerid][p_vehicle_id][pvOwnerId] = PI[v_playerid][pi_ID];
						ParkingVehicles[v_playerid][p_vehicle_id][pvParkingIndex] = parking_index;
						format(ParkingVehicles[v_playerid][p_vehicle_id][pvVehiclePlate], 32, "%s", GLOBAL_VEHICLES[vehicleid][gb_vehicle_NUMBER_PLATE]);
						PLAYER_VEHICLES[vehicleid][player_vehicle_PARKING] = parking_index;

						SavePlayerVehicle(v_playerid, vehicleid, true);

						SendClientMessageEx(v_playerid, -1, "{"#GREEN_COLOR"}{F5F5F5}tu %s ha sido {ff0000}aparcado{F5F5F5} en el {"#YELLOW_COLOR"}Parking{F5F5F5} publico #%d, se te cobrara %d{ff0000}${F5F5F5} diaro.", VEHICLE_INFO[ ParkingVehicles[v_playerid][p_vehicle_id][pvModelid] - 400 ][vehicle_info_NAME], parking_index, veh_money);
					}
				}
			}*/
	if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_VALID])
	{
		if(ac_Info[CHEAT_UNOCCUPIED_VEHICLE_TP][ac_Enabled])
		{
			if(PLAYER_TEMP[playerid][pt_KICKED]) return 0;

			new Float:veh_x, Float:veh_y, Float:veh_z, Float:veh_dis;
			GetVehiclePos(vehicleid, veh_x, veh_y, veh_z);
			veh_dis = GetVehicleDistanceFromPoint(vehicleid, new_x, new_y, new_z);

			if(gettime() > GLOBAL_VEHICLES[vehicleid][gb_vehicle_TP_IMMUNITY] && GLOBAL_VEHICLES[vehicleid][gb_vehicle_SPAWNED])
			{
				if(veh_dis > 20.0 && veh_z > -70.0)
				{
					if(gettime() > PLAYER_AC_INFO[playerid][CHEAT_UNOCCUPIED_VEHICLE_TP][p_ac_info_IMMUNITY])
					{
						if(!ac_Info[CHEAT_UNOCCUPIED_VEHICLE_TP][ac_Interval]) OnPlayerCheatDetected(playerid, CHEAT_UNOCCUPIED_VEHICLE_TP, veh_dis);
						else
						{
							if(gettime() - PLAYER_AC_INFO[playerid][CHEAT_UNOCCUPIED_VEHICLE_TP][p_ac_info_LAST_DETECTION] > ac_Info[CHEAT_UNOCCUPIED_VEHICLE_TP][ac_Interval]) PLAYER_AC_INFO[playerid][CHEAT_UNOCCUPIED_VEHICLE_TP][p_ac_info_DETECTIONS] = 0;
							else PLAYER_AC_INFO[playerid][CHEAT_UNOCCUPIED_VEHICLE_TP][p_ac_info_DETECTIONS] ++;

							PLAYER_AC_INFO[playerid][CHEAT_UNOCCUPIED_VEHICLE_TP][p_ac_info_LAST_DETECTION] = gettime();
							if(PLAYER_AC_INFO[playerid][CHEAT_UNOCCUPIED_VEHICLE_TP][p_ac_info_DETECTIONS] >= ac_Info[CHEAT_UNOCCUPIED_VEHICLE_TP][ac_Detections]) OnPlayerCheatDetected(playerid, CHEAT_UNOCCUPIED_VEHICLE_TP, veh_dis);
						}
					}

					SetVehicleVelocity(vehicleid, 0.0, 0.0, 0.0);
					return 0;
				}
			}
		}
		
		new Float:spawn_distance = GetVehicleDistanceFromPoint(vehicleid, GLOBAL_VEHICLES[vehicleid][gb_vehicle_SPAWN_X], GLOBAL_VEHICLES[vehicleid][gb_vehicle_SPAWN_Y], GLOBAL_VEHICLES[vehicleid][gb_vehicle_SPAWN_Z]);
		switch(GLOBAL_VEHICLES[vehicleid][gb_vehicle_TYPE])
		{
			case VEHICLE_TYPE_SELL:
			{
				if(spawn_distance > 10.0) SetVehicleToRespawnEx(vehicleid);
			}
			case VEHICLE_TYPE_WORK:
			{
				if (TRASH_VEHICLES[vehicleid][trash_vehicle_JOB_STARTED]) return 1;
				if (spawn_distance < 25.0)
				{
					if (GLOBAL_VEHICLES[vehicleid][gb_vehicle_TEMP])
					{
						if (spawn_distance > 10.0)
						{
							if (GLOBAL_VEHICLES[vehicleid][gb_vehicle_DRIVER] != INVALID_PLAYER_ID)
							{
								PLAYER_TEMP[ GLOBAL_VEHICLES[vehicleid][gb_vehicle_DRIVER] ][pt_WORK_VEHICLE_ID] = INVALID_VEHICLE_ID;
								PLAYER_TEMP[ GLOBAL_VEHICLES[vehicleid][gb_vehicle_DRIVER] ][pt_RENT_VEHICLE_ID] = INVALID_VEHICLE_ID;
							}

							if (GLOBAL_VEHICLES[vehicleid][gb_vehicle_LAST_DRIVER] != INVALID_PLAYER_ID)
							{
								PLAYER_TEMP[ GLOBAL_VEHICLES[vehicleid][gb_vehicle_LAST_DRIVER] ][pt_WORK_VEHICLE_ID] = INVALID_VEHICLE_ID;
								PLAYER_TEMP[ GLOBAL_VEHICLES[vehicleid][gb_vehicle_LAST_DRIVER] ][pt_RENT_VEHICLE_ID] = INVALID_VEHICLE_ID;
							}

							DestroyVehicleEx(vehicleid);
						}
					}
					else
					{
						if (spawn_distance > 10.0) SetVehicleToRespawnEx(vehicleid);
					}
				}
			}
		}
	}
    return 1;
}

GetPlayerIdFromAccountId(accountid)
{
	for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
	{
		if(IsPlayerConnected(i))
		{
			if(PI[i][pi_ID] == accountid)
			{
				return i;
			}
		}
	}
	return INVALID_PLAYER_ID;
}

CMD:vmenu(playerid, params[])
{
	if(!PLAYER_WORKS[playerid][WORK_MECHANIC][pwork_SET]) return ShowPlayerMessage(playerid, "No eres mecánico.", 2);
	if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_MECHANIC) return ShowPlayerMessage(playerid, "No estás de servicio como mecánico.", 2);
	new vehicleid = VehMasCercano(playerid, 5.0);
	if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_ENGINE]) return ShowPlayerMessage(playerid, "Para trabajar sobre el vehiculo el motor debe estar apagado.");
	PLAYER_TEMP[playerid][pt_SELECTED_MECHANIC_VEHICLE_ID] = vehicleid;
	ShowDialog(playerid, DIALOG_MECHANIC_MENU);
	return 1;
}

CMD:borrarra(playerid, params[])
{
    new id, strpasta[200];
    if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 0;
    
    if(sscanf(params, "d", id)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /borrarra <id>", 2);
    
    format(strpasta, sizeof(strpasta), PastaRadares, id);
    if(dini_Exists(strpasta))
    {
        dini_Remove(strpasta);
        format(lString, sizeof(lString), "Borraste el radar: %d.", id);
        ShowPlayerMessage(playerid, lString);

        // Cambiamos DestroyObject por la versión Dynamic del Streamer
        if(IsValidDynamicObject(ObjetoRadar[0][id])) DestroyDynamicObject(ObjetoRadar[0][id]);
        if(IsValidDynamicObject(ObjetoRadar[1][id])) DestroyDynamicObject(ObjetoRadar[1][id]);

        // Cambiamos Delete3DTextLabel por la versión Dynamic
        if(IsValidDynamic3DTextLabel(TRadar[id])) DestroyDynamic3DTextLabel(TRadar[id]);

        // Limpiamos las variables del array
        ObjetoRadar[0][id] = INVALID_STREAMER_ID;
        ObjetoRadar[1][id] = INVALID_STREAMER_ID;
        TRadar[id] = Text3D:INVALID_STREAMER_ID;

        InfoRadar[id][lPosXX] = 0.0;
        InfoRadar[id][lPosYY] = 0.0;
        InfoRadar[id][lPosZZ] = 0.0;
        InfoRadar[id][lAngulo] = 0.0;
        InfoRadar[id][lVelocidade] = 999;
        return 1;
    }
    else
    {
        format(lString, sizeof(lString), "Radar de ID: %d no existe.", id);
        ShowPlayerMessage(playerid, lString);
    }
    return 1;
}


CMD:crearradar(playerid, params[])
{
	new velocidade;
	if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 0;
	if(CriandoRadar == 1) return ShowPlayerMessage(playerid, "~r~ Ya estas creando uno", 2);
	if(sscanf(params,"d",velocidade)) return ShowPlayerMessage(playerid, "~r~ /crearradar<velocidad>", 2);
	vel = velocidade;
	GetPlayerPos(playerid, PosXX,PosYY,PosZZ);
	GetPlayerFacingAngle(playerid, Angulo);
	TogglePlayerControllable(playerid, true);
	SetPlayerPos(playerid, PosXX,PosYY,PosZZ);
	format(lString, sizeof(lString),"{FFFFFF}Deseas crear un radar aqu?\n\n");
	format(lString, sizeof(lString),"%s{00B6F6}Pos X: {FFFFFF}%0.4f\n{00B6F6}Pos Y: {FFFFFF} %0.4f\n{00B6F6}Pos Z: {FFFFFF} %0.4f\n{00B6F6}Angulo: {FFFFFF}%0.4f\n{00B6F6}Velocidad: {FFFFFF}%d",lString,PosXX,PosYY,PosZZ,Angulo,velocidade);
	CriandoRadar = 1;
	ShowPlayerDialog(playerid, 3030, DIALOG_STYLE_MSGBOX, "{828282}[Crear] {ffffff}  Radar",lString, "Crear","xCancelar");
	return 1;
}
forward RezetarRadar(playerid);
public RezetarRadar(playerid)
{
	PlayerInfo[playerid][PPassouRadar] = 0;
}
forward Flex(playerid);
public Flex(playerid)
{
    if(IsPlayerConnected(playerid))
    {
        TextDrawHideForPlayer (playerid, Flash);
    }
}

forward CarregarRadares();
public CarregarRadares()
{
    new
        strradar[128],
        strpasta[200];

    for(new rad=0; rad < MAX_RADAR; rad++)
    {
        format(strpasta, sizeof(strpasta), PastaRadares, rad);
        if(dini_Exists(strpasta))
        {
            InfoRadar[rad][lVelocidade] = dini_Int(strpasta, "Velocidade");
            InfoRadar[rad][lPosXX] = dini_Float(strpasta, "PosXX");
            InfoRadar[rad][lPosYY] = dini_Float(strpasta, "PosYY");
            InfoRadar[rad][lPosZZ] = dini_Float(strpasta, "PosZZ");
            InfoRadar[rad][lAngulo] = dini_Float(strpasta, "Angulo");

            // Usamos -1 en worldid e interiorid para que se vean SIEMPRE
            ObjetoRadar[0][rad] = CreateDynamicObject(18880, InfoRadar[rad][lPosXX], InfoRadar[rad][lPosYY], InfoRadar[rad][lPosZZ], 0.0, 0.0, InfoRadar[rad][lAngulo], -1, -1);
            ObjetoRadar[1][rad] = CreateDynamicObject(18880, InfoRadar[rad][lPosXX], InfoRadar[rad][lPosYY], InfoRadar[rad][lPosZZ], 0.0, 0.0, InfoRadar[rad][lAngulo] + 180.0, -1, -1); 
            
            CreateDynamicMapIcon(InfoRadar[rad][lPosXX], InfoRadar[rad][lPosYY], InfoRadar[rad][lPosZZ], 34, -1, -1, -1, -1, 200.0);

            format(strradar, sizeof(strradar), "{00ff00} {FFFFFF}Radar limite de velocidad: {FFD700}%d KM/H", InfoRadar[rad][lVelocidade]);
            
            // Remplazamos el Label nativo por CreateDynamic3DTextLabel
            // El -1, -1 al final asegura que se vea en cualquier mundo/interior
            TRadar[rad] = Text3D:CreateDynamic3DTextLabel(strradar, -1, InfoRadar[rad][lPosXX], InfoRadar[rad][lPosYY], InfoRadar[rad][lPosZZ]+5.0, 30.0, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, -1, -1);
        }
    }
    printf("Sistema de Radares: %d radares cargados dinámicamente.", MAX_RADAR);
    return 1;
}


forward SalvarRadares();
public SalvarRadares()
{
	new
		strpasta[200];

	for(new rad=0;rad<MAX_RADAR; rad++)
	{
		format(strpasta,sizeof(strpasta),PastaRadares,rad);
	    if(dini_Exists(strpasta))
	    {
			dini_IntSet(strpasta,"Velocidade",InfoRadar[rad][lVelocidade]);
			dini_FloatSet(strpasta,"PosXX",InfoRadar[rad][lPosXX]);
			dini_FloatSet(strpasta,"PosYY",InfoRadar[rad][lPosYY]);
			dini_FloatSet(strpasta,"PosZZ",InfoRadar[rad][lPosZZ]);
			dini_FloatSet(strpasta,"Angulo",InfoRadar[rad][lAngulo]);
		}
	}
	return 1;
}

forward CheckRadar(playerid);
public CheckRadar(playerid)
{
    new Float:Speed;
	GetVehicleVelocity(GetPlayerVehicleID(playerid), PosXX, PosYY, PosZZ);
	Speed = floatmul(floatsqroot(floatadd(floatadd(floatpower(PosXX, 2), floatpower(PosYY, 2)),  floatpower(PosZZ, 2))), 100.0);
	new velocid;
	new vid = GetPlayerVehicleID(playerid);
 	new modelo = GetVehicleModel(vid);
     if(PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET]) return 1;
  	if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER && !(modelo == 509 || modelo == 510 || modelo == 481 || modelo == 519 || modelo == 487  || modelo == 520 || modelo == 497))
	{
		velocid = floatround(Speed, floatround_floor);
		for(new rad = 0; rad < MAX_RADAR; rad++)
		{
				if(IsPlayerInRangeOfPoint(playerid, 10 ,InfoRadar[rad][lPosXX],InfoRadar[rad][lPosYY], InfoRadar[rad][lPosZZ]))
			    {
					if(velocid > InfoRadar[rad][lVelocidade])
					{
						    if(PlayerInfo[playerid][PPassouRadar] == 0)
						    {
	      						SendClientMessage(playerid,Verde,"------------------------------------------------------------ Radar ---------------------------------------------------------------------");
								TextDrawShowForPlayer(playerid, Flash);
								PlayerPlaySound(playerid,1132,0.0,0.0,0.0);
								format(gstring, 128," {FF0000}{ffffff}RADAR Velocidad Registrada: %iKm/h",velocid);
								SendClientMessage(playerid,Amarelo,gstring);
								GivePlayerCash(playerid, -1500, true, true);
								format(gstring, 128," {FFFFFF}» Pagaste por pasar el limite, velocidad maximo es de: {FF0000} (%d KM/h)",InfoRadar[rad][lVelocidade]);
								SendClientMessage(playerid,Vermelho,gstring);
				    			SendClientMessage(playerid,Branco,"»INFO Fuiste multado pagaste 1500{00FF00}$.");
				    			PlayerInfo[playerid][PPassouRadar] = 1;
								SetTimerEx("RezetarRadar", 1000, false, "i", playerid);
								SetTimerEx("Flex", 1000, false, "i", playerid);
								SendClientMessage(playerid,Verde,"------------------------------------------------------------ Radar ---------------------------------------------------------------------");
								
							}
					}
                    else
					{
     						if(PlayerInfo[playerid][PPassouRadar] == 0)
 							{
								//format(gstring, 256," {FF0000} | RADAR | Velocidad Registrada: %iKm/h",velocid);
								PlayerInfo[playerid][PPassouRadar] = 1;
								SetTimerEx("RezetarRadar", 1000, false, "i", playerid);
								//SendClientMessage(playerid,AmareloClaro,gstring);
							//	Bit1_Set(aradar,playerid,1);
       						}
					}
				}
		}
	}
	return 1;
}

stock IdRadarLivre(playerid)
{
	static
	    rstring[74];
	for(new i; i< MAX_RADAR; i++)
	{
	    format(rstring, sizeof rstring, PastaRadares, i);
        if(!dini_Exists(rstring))
	    {
			radarid[playerid] = i;
			dini_Create(rstring);
			return 1;
		}
	}
	return 0;
}

CMD:tab(playerid, params[])
{
	new total_player = GetPlayerPoolSize();
	SendFormatNotification(playerid, "Nombre: %s~w~ID: %d ~n~Total de usuarios: %d", PLAYER_TEMP[playerid][pt_NAME] , playerid, total_player);
	return true;
}

CMD:addvipdays(playerid, params[])
{
	if(PI[playerid][pi_ADMIN_LEVEL] < 4) return false;
	new days, player;

	if(sscanf(params, "ii", player, days)) return ShowPlayerMessage(playerid, "/addvipdays [playerid] [days]", 2);

	if(PI[player][pi_VIP])
	{
		inline OnInfoQueryLoad()
		{
			inline OnCountQueryLoad()
			{
				new rows;
				if(cache_get_row_count(rows))
				{
					if(rows)
					{
						cache_get_value_index(0, 0, PI[player][pi_VIP_EXPIRE_DATE]);
						SendFormatNotification(playerid, "Se te dieron %d dias VIP", days);
					}
				}
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT vip_expire_date FROM player WHERE id = %d;", PI[player][pi_ID]);
				mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnCountQueryLoad);
			}
		}
		mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET  vip = %d, vip_expire_date = DATE_ADD(NOW(), INTERVAL %d DAY) WHERE id = %d;", PI[player][pi_VIP], days, PI[playerid][pi_ID]);
		mysql_tquery(srp_db, QUERY_BUFFER, using inline OnInfoQueryLoad);
	}
	else ShowPlayerMessage(playerid, "El usuario no tiene vip, para darle usa /setvip");
	return true;
}

CMD:darvipall(playerid, params[])
{
	if(PI[playerid][pi_ADMIN_LEVEL] < 4) return false;
	new days;
	if(sscanf(params, "i", days)) return ShowPlayerMessage(playerid, "/darvipall [dias]", 2);
	SendFormatNotification(playerid, "Regalaste %d dias VIP a todo el servidor", days);
	for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
	{
		if(PI[i][pi_VIP])
		{
			inline OnInfoQueryLoad()
			{
				inline OnCountQueryLoad()
				{
					new rows;
					if(cache_get_row_count(rows))
					{
						if(rows)
						{
								cache_get_value_index(0, 0, PI[i][pi_VIP_EXPIRE_DATE]);
								//SendClientMessageEx(playerid, -1, "{"#PRIMARY_COLOR"}¡Felicidades! {FFFFFF}Has renovado tu VIP (%d) por 30 días, fecha de caducidad: %s.", PI[i][pi_VIP], PI[playerid][pi_VIP_EXPIRE_DATE]);
								//SendClientMessage(playerid, -1, "Puedes utilizar {"#PRIMARY_COLOR"}/vip {FFFFFF}para ver el tiempo restante o renovar.", 2);
						}
					}
					mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT vip_expire_date FROM player WHERE id = %d;", PI[i][pi_ID]);
					mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnCountQueryLoad);
				}
			}
			mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET  vip = %d, vip_expire_date = DATE_ADD(NOW(), INTERVAL %d DAY) WHERE id = %d;", PI[i][pi_VIP], days, PI[i][pi_ID]);
			mysql_tquery(srp_db, QUERY_BUFFER, using inline OnInfoQueryLoad);
		}
		else
		{
			SetPlayerVip(i, 1, 0, days);
		}
		SendFormatNotification(playerid, "Te regalaron %d dias VIP", days);
	}
	return true;
}

CMD:darmoneyall(playerid, params[])
{
	if (PI[playerid][pi_ADMIN_LEVEL] < 4) return false;
	new notifyString[128], value;
	if (sscanf(params, "i", value)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /darmoneyall <cantidad>", 2);
	for (new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
	{
		if (playerid == i)
		{
			format(notifyString, sizeof(notifyString), "~r~Atencion~w~ Regalaste %d ~g~%d$ de dinero", value);
			ShowPlayerMessage(i, notifyString);
			continue;
		}

		format(notifyString, sizeof(notifyString), "~r~Atencion~w~ Recibiste ~g~%d$ de dinero ", value);
		ShowPlayerMessage(i, notifyString);

		GivePlayerCash(i, value, true, value < 0 ? true : false);
	}
	SendCmdLogToAdmins(playerid, "darmoneyall", params);
	return true;
}


CMD:darcoinsall(playerid, params[])
{
	if(PI[playerid][pi_ADMIN_LEVEL] < 4) return false;
	new notifyString[128], coins;
	if(sscanf(params,"i", coins)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /darcoinsall <cantidad>", 2);
	for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
	{
		PI[i][pi_COINS] += coins;
		mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET coins = %d WHERE id = %d;", PI[i][pi_COINS], PI[i][pi_ID]);
		mysql_tquery(srp_db, QUERY_BUFFER);
		if(playerid == i)
		{
			format(notifyString, sizeof(notifyString), "~r~Atencion~w~ Regalaste %d a todos los coins", coins);
			ShowPlayerMessage(i, notifyString);
			continue;
		}

		format(notifyString, sizeof(notifyString), "~r~Atencion~w~ Recibiste %d coins", coins);
		ShowPlayerMessage(i, notifyString);
	}
	SendCmdLogToAdmins(playerid, "darcoinsall", params);
	return true;
}

/**

	cache_get_value_name_int(0, "medicine", PI[playerid][pi_MEDICINE]);
	cache_get_value_name_int(0, "cannabis", PI[playerid][pi_CANNABIS]);
	cache_get_value_name_int(0, "crack", PI[playerid][pi_CRACK]);
 */

CMD:darcracktosall(playerid, params[])
{
	if (PI[playerid][pi_ADMIN_LEVEL] < 4) return false;
	new notifyString[128], medis;
	if (sscanf(params, "i", medis)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /darcracktosall <cantidad>", 2);
	for (new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
	{
		PI[i][pi_CRACK] += medis;
		if (playerid == i)
		{
			format(notifyString, sizeof(notifyString), "~w~Atencion~w~ Regalaste ~y~%d ~w~gr de crack a todos", 2, medis);
			ShowPlayerMessage(i, notifyString);
			continue;
		}

		format(notifyString, sizeof(notifyString), "~w~Atencion~w~ Recibiste y~%d ~w~gr de crack", 2, medis);
		ShowPlayerMessage(i, notifyString);

	}
	SendCmdLogToAdmins(playerid, "darmedicamentosall", params);
	return true;
}

CMD:darmedicamentosall(playerid, params[])
{
	if (PI[playerid][pi_ADMIN_LEVEL] < 4) return false;
	new notifyString[128], medis;
	if (sscanf(params, "i", medis)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /darmedicamentosall <cantidad>", 2);
	for (new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
	{
		PI[i][pi_MEDICINE] += medis;
		if (playerid == i)
		{
			format(notifyString, sizeof(notifyString), "~w~Atencion~w~ Regalaste ~y~%d ~w~gr de medicamentos a todos", 2, medis);
			ShowPlayerMessage(i, notifyString);
			continue;
		}

		format(notifyString, sizeof(notifyString), "~w~Atencion~w~ Recibiste y~%d ~w~gr de medicamentos", 2, medis);
		ShowPlayerMessage(i, notifyString);

	}
	SendCmdLogToAdmins(playerid, "darmedicamentosall", params);
	return true;
}

public OnPlayerClickMap(playerid, Float:fX, Float: fY, Float: fZ)
{
	//StartTracing(playerid, fX, fY, fZ);
	Auto_SendPlayerAction(playerid, "ha marcado una ruta en su GPS.");
	if (PI[playerid][pi_ADMIN_LEVEL] >= 1 && PLAYER_TEMP[playerid][pt_ADMIN_SERVICE])
	{
		if (IsPlayerInAnyVehicle(playerid))
		{
			SetVehiclePos(GetPlayerVehicleID(playerid), fX, fY, fZ);
			Auto_SendPlayerAction(playerid, "ha marcado una ruta en su GPS.");
		}
		else
		{
			SetPlayerPos(playerid, fX, fY, fZ);
			SetPlayerInterior(playerid, 0);
			SetPlayerVirtualWorld(playerid, 0);
			Auto_SendPlayerAction(playerid, "ha marcado una ruta en su GPS.");
			//StartTracing(playerid, fX, fY, fZ);
		}
	}
	return 1;
}

CMD:all(playerid, params[])
{
	if(PI[playerid][pi_ADMIN_LEVEL] < 4) return false;
	for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
	{
		AddPlayerReputation(i);
	}
	SendCmdLogToAdmins(playerid, "all", params);
	return true;
}

CMD:renunciar(playerid, params[])
{
	new player_jobs = CountPlayerJobs(playerid);
	if(!player_jobs) return SendNotification(playerid, "No tienes ningún trabajo.");

	if(GetPlayerState(playerid) != PLAYER_STATE_ONFOOT) return SendNotification(playerid, "No estás depie.");

	ShowDialog(playerid, DIALOG_PLAYER_RENUNCIO);

	/*new work;
	if(sscanf(params, "d", work))
	{
		new works[32 * sizeof(work_info)], line_str[32], count;
		for(new i = 1; i != sizeof(work_info); i ++)
		{
			if(PLAYER_WORKS[playerid][i][pwork_SET])
			{
				if(count > 0) strcat(works, "~w~, ");

				format(line_str, sizeof line_str, "~b~%s (%d)", work_info[i][work_info_NAME], i);
				strcat(works, line_str);

				count ++;
			}
		}
		SendFormatNotification(playerid, "Tus trabajos: ~b~%s", works);
		SendNotification(playerid, "Utiliza ~b~/renunciar~w~ <id del trabajo> para renunciar a un trabajo.");
		return 1;
	}

	if(work < 1 || work >= sizeof work_info) return SendNotification(playerid, "El trabajo no es válido.");

	if(!PLAYER_WORKS[playerid][work][pwork_SET]) return SendFormatNotification(playerid, "No eres %s.", work_info[work][work_info_NAME]);
	if(PLAYER_TEMP[playerid][pt_WORKING_IN] == work) return SendNotification(playerid, "Ahora mismo estás de servicio en ese trabajo, deja de trabajar para abandonar el trabajo.");

	if(work == WORK_POLICE)
	{
		mysql_format(mysql_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE pworks SET `set` = 0, level = 0 WHERE id_player = %d AND id_work = %d;", PI[playerid][pi_ID], work);
		mysql_tquery(mysql_db, QUERY_BUFFER);
		PLAYER_WORKS[playerid][work][pwork_LEVEL] = 0;
	}
	else
	{
		mysql_format(mysql_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE pworks SET `set` = 0 WHERE id_player = %d AND id_work = %d;", PI[playerid][pi_ID], work);
		mysql_tquery(mysql_db, QUERY_BUFFER);
	}
	SendFormatNotification(playerid, "Has abandonado tu trabajo de ~b~%s~w~.", work_info[work][work_info_NAME]);
	PLAYER_WORKS[playerid][work][pwork_SET] = false;*/
	return 1;
}
alias:renunciar("dimitir");

CMD:pagar(playerid, params[])
{
	new vehicleid = INVALID_VEHICLE_ID;
	if(GetPlayerState(playerid) == PLAYER_STATE_ONFOOT) vehicleid = VehMasCercano(playerid, 5.0);
	if(vehicleid == INVALID_VEHICLE_ID) return ShowPlayerMessage(playerid, "No estás en el lugar ~y~adecuado.", 2);

	if(!PLAYER_VEHICLES[vehicleid][player_vehicle_VALID] || PLAYER_VEHICLES[vehicleid][player_vehicle_CLAMP] <= 0) return ShowPlayerMessage(playerid, "Este vehiculo no tiene ninguna multa.", 2);

	if(GivePlayerCash(playerid, -PLAYER_VEHICLES[vehicleid][player_vehicle_CLAMP], true, true)) {
		PLAYER_VEHICLES[vehicleid][player_vehicle_CLAMP] = 0;
		ShowPlayerMessage(playerid, "Has pagado la multa y se ha quitado el ~y~cepo.", 2);
		SetClampVehicleLabel(vehicleid);
	}
	else ShowPlayerMessage(playerid, "No tienes suficiente dinero para pagar la ~y~multa.", 2);
	return 1;
}

CMD:cepo(playerid, params[]) {
	if(!PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET]) return ShowPlayerMessage(playerid, "No eres policía O militar.", 2);
	if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_POLICE) return ShowPlayerMessage(playerid, "No estás de servicio como policía o Militar.", 2);

	new price;
	if(sscanf(params, "d", price)) return ShowPlayerMessage(playerid, "~r~Modo de uso: ~w~/cepo [multa]", 2);
	if(price < 0 || price > 2000) return ShowPlayerMessage(playerid, "El precio de la multa no es ~y~válido.", 2);

	new vehicleid = INVALID_VEHICLE_ID;
	if(GetPlayerState(playerid) == PLAYER_STATE_ONFOOT) vehicleid = VehMasCercano(playerid, 5.0);
	if(vehicleid == INVALID_VEHICLE_ID) return ShowPlayerMessage(playerid, "No estás cerca de un ~y~vehiculo.", 2);

	if(!PLAYER_VEHICLES[vehicleid][player_vehicle_VALID]) return ShowPlayerMessage(playerid, "No puedes multar a este ~y~vehiculo.", 2);
	if(!VEHICLE_INFO[ GLOBAL_VEHICLES[vehicleid][gb_vehicle_MODELID] - 400 ][vehicle_info_NORMAL_SPEEDO]) return ShowPlayerMessage(playerid, "No puedes multar a este ~y~vehiculo.", 2);
	if(PLAYER_VEHICLES[vehicleid][player_vehicle_CLAMP] > 0 && price != 0) return ShowPlayerMessage(playerid, "Este vehiculo ya tiene una ~y~multa.", 2);

	if(PLAYER_VEHICLES[vehicleid][player_vehicle_CLAMP] > 0 && price == 0) {
		PLAYER_VEHICLES[vehicleid][player_vehicle_CLAMP] = 0;
		SetClampVehicleLabel(vehicleid);

		ShowPlayerMessage(playerid, "Se ha quitado la multa a este vehiculo.", 2);
		Streamer_Update(playerid, STREAMER_TYPE_3D_TEXT_LABEL);
	}
	else {
		if(price == 0) return ShowPlayerMessage(playerid, "El precio de la multa no es ~y~válido.", 2);
		if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_DRIVER] != INVALID_PLAYER_ID) return ShowPlayerMessage(playerid, "No puedes multar a un vehiculo si hay un conductor en él.", 2);

		GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_ENGINE] = 0;
		UpdateVehicleParams(vehicleid);

		PLAYER_VEHICLES[vehicleid][player_vehicle_CLAMP] = price;
		SetClampVehicleLabel(vehicleid);

		ShowPlayerMessage(playerid, "vehiculo multado.", 2);
		Streamer_Update(playerid, STREAMER_TYPE_3D_TEXT_LABEL);
	}
	return 1;
}

GetProxVehicle(playerid)
{
    new Float:pos[3],result = INVALID_VEHICLE_ID;
    for(new i; i < MAX_VEHICLES; i++)
    {
        GetVehiclePos(i, pos[0],pos[1],pos[2]);
        if(IsPlayerInRangeOfPoint(playerid, 4.0, pos[0],pos[1],pos[2]))
        {
            result = i;
            break;
        }
    }
    return result;
}

CMD:seguro(playerid, params[]) {
	new vehicleid = INVALID_VEHICLE_ID;
	if (GetPlayerState(playerid) == PLAYER_STATE_DRIVER || GetPlayerState(playerid) == PLAYER_STATE_PASSENGER) vehicleid = GetPlayerVehicleID(playerid);
	else if (GetPlayerState(playerid) == PLAYER_STATE_ONFOOT) vehicleid = GetPlayerNearVehicle(playerid);
		
	if (vehicleid == INVALID_VEHICLE_ID) return SendClientMessageEx(playerid, -1, "No estás en tu vehiculo o cerca de él para abrirlo.");
	if (!PLAYER_VEHICLES[vehicleid][player_vehicle_VALID]) return SendClientMessageEx(playerid, -1, "Este no es tú vehiculo.");
	if (PLAYER_VEHICLES[vehicleid][player_vehicle_OWNER_ID] != PI[playerid][pi_ID]) return SendClientMessageEx(playerid, -1, "Este no es tú vehiculo.");
	
	if (GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_DOORS]) {
		GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_DOORS] = 0;
		UpdateVehicleParams(vehicleid);

		ShowPlayerMessage(playerid, "Has ~b~abierto~w~ las puertas de tu vehiculo.");
		Auto_SendPlayerAction(playerid, "ha abierto las puertas de su vehiculo.");
	} else {
		GLOBAL_VEHICLES[vehicleid][gb_vehicle_LAST_CLOSED_TIME] = gettime();
		GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_DOORS] = 1;
		UpdateVehicleParams(vehicleid);

		ShowPlayerMessage(playerid, "Has ~r~cerrado~w~ las puertas de tu vehiculo.");
		Auto_SendPlayerAction(playerid, "ha cerrado las puertas de su vehiculo.");
	}
	return 1;
}

CMD:aparcar(playerid, params[])
{
	new vehicleid = INVALID_VEHICLE_ID;
	if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER || GetPlayerState(playerid) == PLAYER_STATE_PASSENGER) vehicleid = GetPlayerVehicleID(playerid);

	if(vehicleid == INVALID_VEHICLE_ID) return ShowPlayerMessage(playerid, "No estás en tu vehiculo para aparcarlo.", 2);
	if(!PLAYER_VEHICLES[vehicleid][player_vehicle_VALID]) return ShowPlayerMessage(playerid, "Este no es tú vehiculo.", 2);
	if(PLAYER_VEHICLES[vehicleid][player_vehicle_OWNER_ID] != PI[playerid][pi_ID]) return ShowPlayerMessage(playerid, "Este no es tú vehiculo.", 2);

	new Float:pos[3], Float:angle;
	GetVehiclePos(vehicleid, pos[0], pos[1], pos[2]);
	GetVehicleZAngle(vehicleid, angle);

	GLOBAL_VEHICLES[vehicleid][gb_vehicle_SPAWN_X] = pos[0];
	GLOBAL_VEHICLES[vehicleid][gb_vehicle_SPAWN_Y] = pos[1];
	GLOBAL_VEHICLES[vehicleid][gb_vehicle_SPAWN_Z] = pos[2];
	GLOBAL_VEHICLES[vehicleid][gb_vehicle_SPAWN_ANGLE] = angle;

	GLOBAL_VEHICLES[vehicleid][gb_vehicle_LAST_CLOSED_TIME] = gettime();
	GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_ENGINE] = 0;
	GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_LIGHTS] = 0;
	GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_DOORS] = 1;
	UpdateVehicleParams(vehicleid);
	SendFormatNotification(playerid, "Has estacionado tu vehiculo, cuando sea destruido volverá a aparecer aquí.", 2);
	return 1;
}
alias:aparcar("estacionar");

CMD:luces(playerid, params[])
{
	if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER)
	{
		new vehicleid = GetPlayerVehicleID(playerid);
		if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_LIGHTS])
		{
			GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_LIGHTS] = 0;
			UpdateVehicleParams(vehicleid);

			if(PLAYER_VEHICLES[vehicleid][player_vehicle_OWNER_ID] == PI[playerid][pi_ID]) Auto_SendPlayerAction(playerid, "ha apagado las luces de su vehiculo.");
			else Auto_SendPlayerAction(playerid, "ha apagado las luces de el vehiculo.");
		}
		else
		{
			GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_LIGHTS] = 1;
			UpdateVehicleParams(vehicleid);

			if(PLAYER_VEHICLES[vehicleid][player_vehicle_OWNER_ID] == PI[playerid][pi_ID]) Auto_SendPlayerAction(playerid, "ha encendido las luces de su vehiculo.");
			else Auto_SendPlayerAction(playerid, "ha encendido las luces de el vehiculo.");
		}
	}
	else SendFormatNotification(playerid, "No estás conduciendo ningún vehiculo.", 2);
	return 1;
}

CMD:motor(playerid, params[])
{
	
	if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER)
	{
		new vehicleid = GetPlayerVehicleID(playerid);

		if(!GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_ENGINE]) {
			if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_TYPE] == VEHICLE_TYPE_WORK)
			{
				if(TRUCK_VEHICLE[vehicleid][truck_vehicle_LOADING]) return ShowPlayerMessage(playerid, "Debes esperar a que se cargue el camión para arrancar.", 2);
				if(TRUCK_VEHICLE[vehicleid][truck_vehicle_UNLOADING]) return ShowPlayerMessage(playerid, "Debes esperar a que se descargue el camión para arrancar.", 2);
			}

			if(PLAYER_TEMP[playerid][pt_IN_TUNING_GARAGE]) return SendFormatNotification(playerid, "Termina primero.", 2);
			if (PLAYER_TEMP[playerid][pt_IN_VEHICLE_REPAIR]) return 0;
		}

		KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][7]);
		if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_ENGINE])
		{
			PLAYER_AC_INFO[playerid][CHEAT_VEHICLE_NOFUEL][p_ac_info_IMMUNITY] = gettime() + 15;
			GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_ENGINE] = 0;
			UpdateVehicleParams(vehicleid);

			if(PLAYER_VEHICLES[vehicleid][player_vehicle_OWNER_ID] == PI[playerid][pi_ID]) Auto_SendPlayerAction(playerid, "ha detenido su vehiculo.");
			else Auto_SendPlayerAction(playerid, "ha detenido el vehiculo.");
		}
		else
		{
			if(PLAYER_VEHICLES[vehicleid][player_vehicle_VALID] && PLAYER_VEHICLES[vehicleid][player_vehicle_CLAMP] > 0) {
				SendFormatNotification(playerid, "El vehiculo tiene un cepo y no puede arrancar.");
				return 1;
			}
			PLAYER_TEMP[playerid][pt_TIMERS][7] = SetTimerEx("StartVehicleEngine", 500, false, "ii", playerid, vehicleid);
		}
	}
	else ShowPlayerMessage(playerid, "No estás conduciendo ningún vehiculo.", 2);
	return 1;
}
alias:motor("arrancar");

forward StartVehicleEngine(playerid, vehicleid);
public StartVehicleEngine(playerid, vehicleid)
{
	if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_STATE] == VEHICLE_STATE_DAMAGED) return Auto_SendPlayerAction(playerid, "intentó arrancar el vehiculo pero el motor está dañado.");
	if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_GAS] <= 0.1) return Auto_SendPlayerAction(playerid, "intentó arrancar el vehiculo pero no tiene gasolina.");

	GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_ENGINE] = 1;
	UpdateVehicleParams(vehicleid);

	if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_ATTACHED_TO] != INVALID_VEHICLE_ID)
	{
		if(GLOBAL_VEHICLES[ GLOBAL_VEHICLES[vehicleid][gb_vehicle_ATTACHED_TO] ][gb_vehicle_DRIVER] != INVALID_PLAYER_ID)
			PLAYER_AC_INFO[ GLOBAL_VEHICLES[ GLOBAL_VEHICLES[vehicleid][gb_vehicle_ATTACHED_TO] ][gb_vehicle_DRIVER] ][CHEAT_FAKE_TRAILER_SYNC][p_ac_info_IMMUNITY] = gettime() + 5;

		GLOBAL_VEHICLES[vehicleid][gb_vehicle_ATTACHED_TO] = INVALID_VEHICLE_ID;
		DetachTrailerFromVehicle(vehicleid);
	}

	if(PLAYER_VEHICLES[vehicleid][player_vehicle_OWNER_ID] == PI[playerid][pi_ID]) Auto_SendPlayerAction(playerid, "ha arrancado su vehiculo.");
	else Auto_SendPlayerAction(playerid, "ha arrancado el vehiculo.");
	return 1;
}


AddVehicleComponents(vehicleid)
{
	for(new i = 0; i != MAX_VEHICLE_COMPONENTS; i ++)
	{
		RemoveVehicleComponent(vehicleid, i);

		if(!GLOBAL_VEHICLES[vehicleid][gb_vehicle_COMPONENTS][i]) continue;
		AddVehicleComponent(vehicleid, GLOBAL_VEHICLES[vehicleid][gb_vehicle_COMPONENTS][i]);
	}
	return 1;
}

public OnEnterExitModShop(playerid, enterexit, interiorid)
{
    if(enterexit) // Entra
    {
		SendClientMessage(playerid, -1, " ");
		ShowPlayerMessage(playerid, "Solo puedes tunear vehiculos en el mecánico, búscalo con el /GPS.", 2);
		SendClientMessage(playerid, -1, "{ffff35}[ATENCION] »Si realizas alguna modificación al vehiculo en este garaje serás expulsado.");
    }
	else
	{
		new vehicleid = GetPlayerVehicleID(playerid);
		if(vehicleid != INVALID_VEHICLE_ID)
		{
			ChangeVehicleColor(vehicleid, GLOBAL_VEHICLES[vehicleid][gb_vehicle_COLOR_1], GLOBAL_VEHICLES[vehicleid][gb_vehicle_COLOR_2]);
			ChangeVehiclePaintjob(vehicleid, GLOBAL_VEHICLES[vehicleid][gb_vehicle_PAINTJOB]);
			AddVehicleComponents(vehicleid);
		}
	}
    return 1;
}

public OnVehicleMod(playerid, vehicleid, componentid)
{
	if(ac_Info[CHEAT_CAR_MOD][ac_Enabled])
	{
		if(gettime() > PLAYER_AC_INFO[playerid][CHEAT_CAR_MOD][p_ac_info_IMMUNITY])
		{
			if(!ac_Info[CHEAT_CAR_MOD][ac_Interval]) OnPlayerCheatDetected(playerid, CHEAT_CAR_MOD);
			else
			{
				if(gettime() - PLAYER_AC_INFO[playerid][CHEAT_CAR_MOD][p_ac_info_LAST_DETECTION] > ac_Info[CHEAT_CAR_MOD][ac_Interval]) PLAYER_AC_INFO[playerid][CHEAT_CAR_MOD][p_ac_info_DETECTIONS] = 0;
				else PLAYER_AC_INFO[playerid][CHEAT_CAR_MOD][p_ac_info_DETECTIONS] ++;

				PLAYER_AC_INFO[playerid][CHEAT_CAR_MOD][p_ac_info_LAST_DETECTION] = gettime();
				if(PLAYER_AC_INFO[playerid][CHEAT_CAR_MOD][p_ac_info_DETECTIONS] >= ac_Info[CHEAT_CAR_MOD][ac_Detections]) OnPlayerCheatDetected(playerid, CHEAT_CAR_MOD);
			}
		}
	}
    return 0;
}

public OnVehiclePaintjob(playerid, vehicleid, paintjobid)
{
	if(ac_Info[CHEAT_CAR_MOD][ac_Enabled])
	{
		if(gettime() > PLAYER_AC_INFO[playerid][CHEAT_CAR_MOD][p_ac_info_IMMUNITY])
		{
			if(!(-1 < paintjobid < 3) && paintjobid != 255)
			{
				if(!ac_Info[CHEAT_CAR_MOD][ac_Interval]) OnPlayerCheatDetected(playerid, CHEAT_CAR_MOD);
				else
				{
					if(gettime() - PLAYER_AC_INFO[playerid][CHEAT_CAR_MOD][p_ac_info_LAST_DETECTION] > ac_Info[CHEAT_CAR_MOD][ac_Interval]) PLAYER_AC_INFO[playerid][CHEAT_CAR_MOD][p_ac_info_DETECTIONS] = 0;
					else PLAYER_AC_INFO[playerid][CHEAT_CAR_MOD][p_ac_info_DETECTIONS] ++;

					PLAYER_AC_INFO[playerid][CHEAT_CAR_MOD][p_ac_info_LAST_DETECTION] = gettime();
					if(PLAYER_AC_INFO[playerid][CHEAT_CAR_MOD][p_ac_info_DETECTIONS] >= ac_Info[CHEAT_CAR_MOD][ac_Detections]) OnPlayerCheatDetected(playerid, CHEAT_CAR_MOD);
				}
			}
		}
	}
	return 1;
}

DestroyVehicleEx(vehicleid)
{
	if(!GLOBAL_VEHICLES[vehicleid][gb_vehicle_VALID]) return false;

	if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_DRIVER] != INVALID_PLAYER_ID)
	{
		PLAYER_AC_INFO[ GLOBAL_VEHICLES[vehicleid][gb_vehicle_DRIVER] ][CHEAT_VEHICLE_HEALTH][p_ac_info_IMMUNITY] = gettime() + 3;
		PLAYER_AC_INFO[ GLOBAL_VEHICLES[vehicleid][gb_vehicle_DRIVER] ][CHEAT_STATE_SPAMMER][p_ac_info_IMMUNITY] = gettime() + 3;
	}

	if(DestroyVehicle(vehicleid))
	{
		if(IsValidDynamic3DTextLabel(GLOBAL_VEHICLES[vehicleid][gb_vehicle_LABEL]))
		{
			DestroyDynamic3DTextLabel(GLOBAL_VEHICLES[vehicleid][gb_vehicle_LABEL]);
			GLOBAL_VEHICLES[vehicleid][gb_vehicle_LABEL] = Text3D:INVALID_STREAMER_ID;
		}

		new temp_GLOBAL_VEHICLES[Global_Vehicles_Info]; GLOBAL_VEHICLES[vehicleid] = temp_GLOBAL_VEHICLES;
		new temp_PLAYER_VEHICLES[Player_Vehicles_Info]; PLAYER_VEHICLES[vehicleid] = temp_PLAYER_VEHICLES;
		
		GLOBAL_VEHICLES[vehicleid][gb_vehicle_RENT_DRIVER] = INVALID_PLAYER_ID;

		new temp_VEHICLE_BOOT[enum_VEHICLE_BOOT];
		for(new i = 0; i != MAX_BOOT_SLOTS; i ++) VEHICLE_BOOT[vehicleid][i] = temp_VEHICLE_BOOT;
		
		PLAYER_VEHICLES[vehicleid][player_vehicle_PLAYERID] = INVALID_PLAYER_ID;

		new temp_VEHICLE_OBJECTS[e_VEHICLE_OBJECTS];
		for(new i = 0; i != MAX_SU_VOBJECTS; i ++)
		{
			if(VEHICLE_OBJECTS[vehicleid][i][vobject_OBJECT_ID] != INVALID_STREAMER_ID) DestroyDynamicObject(VEHICLE_OBJECTS[vehicleid][i][vobject_OBJECT_ID]);
			VEHICLE_OBJECTS[vehicleid][i] = temp_VEHICLE_OBJECTS;
		}

		return true;
	}
	return false;
}

stock GetPlayerNearVehicle(playerid, Float:radi = 5.0)
{
	if (!IsPlayerConnected(playerid)) return INVALID_VEHICLE_ID;

	new vehicle = INVALID_VEHICLE_ID, Float:PosPlayer[3];
	GetPlayerPos(playerid, PosPlayer[0], PosPlayer[1], PosPlayer[2]);

	for (new i; i < MAX_VEHICLES; i++)
	{
		if (GLOBAL_VEHICLES[i][gb_vehicle_VALID])
		{
			new Float:PosVehicle[3], Float:PosRelative[3], Float:tempDis;
			GetVehiclePos(i, PosVehicle[0], PosVehicle[1], PosVehicle[2]);

			for (new z; z < sizeof(PosVehicle); z++)
			{
				PosRelative[z] = PosVehicle[z] - PosPlayer[z];
			}
				
			tempDis = floatsqroot((floatpower(PosRelative[0], 2)) + (floatpower(PosRelative[1], 2)) + (floatpower(PosRelative[2], 2)));

			if (tempDis <= radi)
			{
				radi = tempDis;
				vehicle = i;
			}
		}
	}
	return vehicle;
}


stock getRandomLetter()
{
    return 65 + random(25);
}

EmpezarNieve(playerid)
{
	new Float:sx, Float:sy, Float:sz;
	GetPlayerCameraPos(playerid,sx,sy,sz);
	PLAYER_TEMP[playerid][pt_NIEVE] = CreatePlayerObject(playerid,18864, sx, sy, sz-5, 0.0, 0.0, 0.0, 300.0);
	PLAYER_TEMP[playerid][pt_NIEVE_ACTION] = 1;
	return;
}

TerminarNieve(playerid)
{
	DestroyPlayerObject(playerid, PLAYER_TEMP[playerid][pt_NIEVE]);
	PLAYER_TEMP[playerid][pt_NIEVE_ACTION] = 0;
	return 1;
}

UpdatePlayerPropertyContructor(playerid)
{
	SetPlayerPosEx
	(
		playerid,
		PROPERTY_INTERIORS[ PLAYER_PROPERTY_CONSTRUCTOR[playerid][player_property_creator_INTERIO] ][property_INT_X],
		PROPERTY_INTERIORS[ PLAYER_PROPERTY_CONSTRUCTOR[playerid][player_property_creator_INTERIO] ][property_INT_Y],
		PROPERTY_INTERIORS[ PLAYER_PROPERTY_CONSTRUCTOR[playerid][player_property_creator_INTERIO] ][property_INT_Z],
		PROPERTY_INTERIORS[ PLAYER_PROPERTY_CONSTRUCTOR[playerid][player_property_creator_INTERIO] ][property_INT_ANGLE],
		PROPERTY_INTERIORS[ PLAYER_PROPERTY_CONSTRUCTOR[playerid][player_property_creator_INTERIO] ][property_INT_INTERIOR],
		0, false, true
	);

	new td_str[45]; format(td_str, sizeof td_str, "Interior:_%d/%d", PLAYER_PROPERTY_CONSTRUCTOR[playerid][player_property_creator_INTERIO], sizeof PROPERTY_INTERIORS - 1);
	PlayerTextDrawSetString(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][1], td_str);
	SelectTextDrawEx(playerid, 0xe8d08fFF);
	return 1;
}

ExitPlayerPropertyConstructor(playerid)
{
	CancelSelectTextDrawEx(playerid);
	PLAYER_PROPERTY_CONSTRUCTOR[playerid][player_property_creator_ENABLED] = false;

	SetPlayerPosEx
	(
		playerid,
		PLAYER_PROPERTY_CONSTRUCTOR[playerid][player_property_creator_EXT_X],
		PLAYER_PROPERTY_CONSTRUCTOR[playerid][player_property_creator_EXT_Y],
		PLAYER_PROPERTY_CONSTRUCTOR[playerid][player_property_creator_EXT_Z],
		PLAYER_PROPERTY_CONSTRUCTOR[playerid][player_property_creator_EXT_ANG],
		PLAYER_PROPERTY_CONSTRUCTOR[playerid][player_property_creator_EXT_INT],
		0, false, true
	);

	for(new i = 0; i != 6; i ++) PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][i]);
	return 1;
}

Create_PlayerPropertyConstructo(playerid)
{
	new slot = GetEmptyPropertySlot();
	if(slot == -1)
	{
		ShowPlayerMessage(playerid, "No hay mas slots.", 2);
		ExitPlayerPropertyConstructor(playerid);
		return 1;
	}

	PROPERTY_INFO[slot][property_VALID] = true;
	PROPERTY_INFO[slot][property_EXT_X] = PLAYER_PROPERTY_CONSTRUCTOR[playerid][player_property_creator_EXT_X];
	PROPERTY_INFO[slot][property_EXT_Y] = PLAYER_PROPERTY_CONSTRUCTOR[playerid][player_property_creator_EXT_Y];
	PROPERTY_INFO[slot][property_EXT_Z] = PLAYER_PROPERTY_CONSTRUCTOR[playerid][player_property_creator_EXT_Z];
	PROPERTY_INFO[slot][property_EXT_ANGLE] = PLAYER_PROPERTY_CONSTRUCTOR[playerid][player_property_creator_EXT_ANG];
	PROPERTY_INFO[slot][property_EXT_INTERIOR] = PLAYER_PROPERTY_CONSTRUCTOR[playerid][player_property_creator_EXT_INT];
	PROPERTY_INFO[slot][property_EXT_FREEZE] = false;
	PROPERTY_INFO[slot][property_ID_INTERIOR] = PLAYER_PROPERTY_CONSTRUCTOR[playerid][player_property_creator_INTERIO];

	PROPERTY_INFO[slot][property_SOLD] = false;
	PROPERTY_INFO[slot][property_OWNER_ID] = 0;
	PROPERTY_INFO[slot][property_PRICE] = PLAYER_TEMP[playerid][pt_PROPERTY_CINFO][1];
	PROPERTY_INFO[slot][property_LEVEL] = PLAYER_TEMP[playerid][pt_PROPERTY_CINFO][0];
	PROPERTY_INFO[slot][property_EXTRA] = PLAYER_TEMP[playerid][pt_PROPERTY_CINFO][3];
	PROPERTY_INFO[slot][property_VIP_LEVEL] = PLAYER_TEMP[playerid][pt_PROPERTY_CINFO][2];
	PROPERTY_INFO[slot][property_PRICE_BASE] = floatround(floatdiv(PROPERTY_INFO[slot][property_PRICE], MULTIPLIER_PROPERITES));
	PROPERTY_INFO[slot][property_TYPE] = PROPERTY_INTERIORS[ PLAYER_PROPERTY_CONSTRUCTOR[playerid][player_property_creator_INTERIO] ][property_creator_TYPE];
	PROPERTY_INFO[slot][property_EXTRA1] = PROPERTY_INTERIORS[ PLAYER_PROPERTY_CONSTRUCTOR[playerid][player_property_creator_INTERIO] ][property_creator_TYPE];

	if(PROPERTY_INFO[slot][property_EXTRA]) PROPERTY_INFO[slot][property_PRICE] = 0;
	if(PROPERTY_INFO[slot][property_VIP_LEVEL]) PROPERTY_INFO[slot][property_LEVEL] = 1;

	inline OnPropertyInserted()
	{
		PROPERTY_INFO[slot][property_ID] = cache_insert_id();
		CreatePropertyInfo(slot, 0, "", 0, "");

		SendFormatNotification(playerid, "Propiedad creada, id: %d (%d/%d).", PROPERTY_INFO[slot][property_ID], slot, MAX_PROPERTIES);
		ExitPlayerPropertyConstructor(playerid);
	}
	mysql_format
	(
		srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER,
		"\
			INSERT INTO properties (ext_x, ext_y, ext_z, ext_angle, ext_interior, ext_freeze, id_interior, price, level, extra, vip_level)\
			VALUES (%f, %f, %f, %f, %d, %d, %d, %d, %d, %d, %d);\
		",
			PROPERTY_INFO[slot][property_EXT_X], PROPERTY_INFO[slot][property_EXT_Y], PROPERTY_INFO[slot][property_EXT_Z], PROPERTY_INFO[slot][property_EXT_ANGLE],
			PROPERTY_INFO[slot][property_EXT_INTERIOR], PROPERTY_INFO[slot][property_EXT_FREEZE], PROPERTY_INFO[slot][property_ID_INTERIOR],
			PROPERTY_INFO[slot][property_PRICE_BASE], PROPERTY_INFO[slot][property_LEVEL], PROPERTY_INFO[slot][property_EXTRA], PROPERTY_INFO[slot][property_VIP_LEVEL]
	);
	mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnPropertyInserted);
	return 1;
}

GetEmptyPropertySlot()
{
	for(new i = 0; i != MAX_PROPERTIES; i ++)
	{
		if(!PROPERTY_INFO[i][property_VALID]) return i;
	}
	return -1;
}

SpaceFix(text[])
{
	new str[100 + 1]; format(str, sizeof str, "%s", text);
    for(new i = 0; i < strlen(str); i++)
	{
		if(str[i] == ' ') str[i] = '+';
	}
	return str;
}

GivePlayerDrunkLevel(playerid, amount)
{
	return SetPlayerDrunkLevel(playerid, GetPlayerDrunkLevel(playerid) + amount);
}

/*RotateDynamicObject(objectid, Float:rotX, Float:rotY, Float:rotZ, Float:Speed)
{

		Rotation Speeds:
		0.01 - Very very slow speed
		1.00 - Normal speed
		5.00 - Fast speed

	new Float:X, Float:Y, Float:Z;
	new Float:SpeedConverted = floatdiv(floatmul(Speed, 0.01), 2);

	if(IsDynamicObjectMoving(objectid)) StopDynamicObject(objectid);
	GetDynamicObjectPos(objectid, X, Y, Z);
	SetDynamicObjectPos(objectid, X, Y, Z + 0.01);
	MoveDynamicObject(objectid, X, Y, Z, SpeedConverted, rotX, rotY, rotZ);
	return 1;
}*/

stock Float:frandom(Float:max, Float:min, dp)
{
	new
		Float:mul = floatpower(10.0, dp),
		imin = floatround(min * mul),
		imax = floatround(max * mul);
	return float(random(imax - imin) + imin) / mul;
}

SendAlertToTaxiDrivers(playerid)
{
	new Float:pos[3];
	GetPlayerPos(playerid, pos[0], pos[1], pos[2]);

	for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
	{
		if(IsPlayerConnected(i))
		{
			if(PLAYER_TEMP[i][pt_GAME_STATE] == GAME_STATE_NORMAL)
			{
				if(i == playerid) continue;
				if(GetPlayerState(i) != PLAYER_STATE_DRIVER) continue;
				if(!PLAYER_WORKS[i][WORK_TAXI][pwork_SET]) continue;
				if(PLAYER_TEMP[i][pt_WORKING_IN] != WORK_TAXI) continue;

				SetPlayerMarkerForPlayer(i, playerid, 0xf2f224FF);
				format(PLAYER_TEMP[playerid][pt_TAXI_CALL_NAME_STR], 24, "%s");
				SendClientMessageEx(i, -1, "{ffe500}{ffffff}Cliente {ffe500}%s {ffffff}está solicitado un taxi en la distancia: {ffe500}%.2f Km.", PLAYER_TEMP[playerid][pt_TAXI_CALL_NAME_STR], (GetPlayerDistanceFromPoint(i, pos[0], pos[1], pos[2]) * 0.01));
			}
		}
	}
	return 1;
}

DisablePlayerTaxiMark(playerid)
{
	for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
	{
		if(IsPlayerConnected(i))
		{
			if(PLAYER_TEMP[i][pt_GAME_STATE] == GAME_STATE_NORMAL)
			{
				if(i == playerid) continue;
				if(GetPlayerState(i) != PLAYER_STATE_DRIVER) continue;
				if(!PLAYER_WORKS[i][WORK_TAXI][pwork_SET]) continue;
				if(PLAYER_TEMP[i][pt_WORKING_IN] != WORK_TAXI) continue;

				SetPlayerMarkerForPlayer(i, playerid, PLAYER_COLOR);
			}
		}
	}
	return 1;
}

SetTaxiPlayerMarkers(playerid)
{
	for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
	{
		if(IsPlayerConnected(i))
		{
			if(PLAYER_TEMP[i][pt_GAME_STATE] == GAME_STATE_NORMAL)
			{
				if(PLAYER_TEMP[i][pt_WANT_TAXI])
				{
					SetPlayerMarkerForPlayer(playerid, i, 0xf2f224FF);
				}
			}
		}
	}
	return 1;
}

SetMechanicPlayerMarkers(playerid)
{
	for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
	{
		if(IsPlayerConnected(i))
		{
			if(PLAYER_TEMP[i][pt_GAME_STATE] == GAME_STATE_NORMAL)
			{
				if(PLAYER_TEMP[i][pt_WANT_MECHANIC])
				{
					SetPlayerMarkerForPlayer(playerid, i, 0xf4c242FF);
				}
			}
		}
	}
	return 1;
}


SendAlertToMechanic(playerid)
{
	new Float:pos[3];
	GetPlayerPos(playerid, pos[0], pos[1], pos[2]);

	for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
	{
		if(IsPlayerConnected(i))
		{
			if(PLAYER_TEMP[i][pt_GAME_STATE] == GAME_STATE_NORMAL)
			{
				if(i == playerid) continue;
				if(!PLAYER_WORKS[i][WORK_MECHANIC][pwork_SET]) continue;
				if(PLAYER_TEMP[i][pt_WORKING_IN] != WORK_MECHANIC) continue;

				SetPlayerMarkerForPlayer(i, playerid, 0xf2f224FF);
				SendClientMessageEx(i, -1, "Hay un nuevo cliente solicitando un mecánico, distancia: "RED"[%.2f] Km.", (GetPlayerDistanceFromPoint(i, pos[0], pos[1], pos[2]) * 0.01));
			}
		}
	}
	return 1;
}

DisablePlayerMechanicMark(playerid)
{
	for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
	{
		if(IsPlayerConnected(i))
		{
			if(PLAYER_TEMP[i][pt_GAME_STATE] == GAME_STATE_NORMAL)
			{
				if(i == playerid) continue;
				if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_NONE && PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_MECHANIC) continue;
				if(PLAYER_TEMP[i][pt_WORKING_IN] != WORK_MECHANIC) continue;
				SetPlayerMarkerForPlayer(i, playerid, PLAYER_COLOR);
			}
		}
	}
	return 1;
}

SetNormalPlayerMarkers(playerid)
{
	for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
	{
		if(IsPlayerConnected(i))
		{
			SetPlayerMarkerForPlayer(playerid, i, PLAYER_TEMP[i][pt_PLAYER_COLOR]);
		}
	}
	return 1;
}

LoadPlayerCrewInfo(playerid)
{
	if(PI[playerid][pi_ID] == 0) return 0;

	if(PI[playerid][pi_CREW])
	{
		new crew_index = GetCrewIndexById(PI[playerid][pi_CREW]);
		if(crew_index == -1)
		{
			PI[playerid][pi_CREW] = 0;
			PI[playerid][pi_CREW_RANK] = 0;
			PLAYER_TEMP[playerid][pt_CREW_INDEX] = 0;
			ShowPlayerMessage(playerid, "La banda a la que pertenecías ya no existe.", 2);

			mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET crew = NULL WHERE id = %d;", PI[playerid][pi_ID]);
			mysql_tquery(srp_db, QUERY_BUFFER);
		}
		else
		{
			PLAYER_TEMP[playerid][pt_CREW_INDEX] = crew_index;
			CREW_INFO[crew_index][crew_ONLINE_MEMBERS] ++;
		}
	}
	return 1;
}

LoadPlayerWorks(playerid)
{
	if(PI[playerid][pi_ID] == 0) return 0;

	inline OnPworksLoad()
	{
		new rows, count;
		if(cache_get_row_count(rows))
		{
			for(new i = 0; i != rows; i ++)
			{
				new work;
				cache_get_value_name_int(i, "id_work", work);
				cache_get_value_name_int(i, "set", PLAYER_WORKS[playerid][work][pwork_SET]);
				cache_get_value_name_int(i, "level", PLAYER_WORKS[playerid][work][pwork_LEVEL]);

				if(PLAYER_WORKS[playerid][work][pwork_SET] && !PI[playerid][pi_VIP])
				{
					if(count >= MAX_NU_WORKS)
					{
						PLAYER_WORKS[playerid][work][pwork_SET] = false;
						if(work == WORK_POLICE)
						{
							mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE pworks SET `set` = 0, level = 0 WHERE id_player = %d AND id_work = %d;", PI[playerid][pi_ID], work);
							mysql_tquery(srp_db, QUERY_BUFFER);
							PLAYER_WORKS[playerid][work][pwork_LEVEL] = 0;
						}
						else
						{
							mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE pworks SET `set` = 0 WHERE id_player = %d AND id_work = %d;", PI[playerid][pi_ID], work);
							mysql_tquery(srp_db, QUERY_BUFFER);
						}
					}
					count ++;
				}

			}
		}
	}
	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT * FROM pworks WHERE id_player = %d;", PI[playerid][pi_ID]);
	mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnPworksLoad);
	return 1;
}

LoadPlayerFactions(playerid)
{
	if(PI[playerid][pi_ID] == 0) return 0;

	inline OnPfactionsLoad()
	{
		new rows;
		if(cache_get_row_count(rows))
		{
			for(new i = 0; i != rows; i ++)
			{
				new work;
				cache_get_value_name_int(i, "id_faction", work);
				cache_get_value_name_int(i, "level", PLAYER_FACTIONS[playerid][work][pfact_LEVEL]);
				PLAYER_FACTIONS[playerid][work][pfact_SET] = 1;
			}
		}
	}
	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT * FROM pfactions WHERE id_player = %d;", PI[playerid][pi_ID]);
	mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnPfactionsLoad);
	return 1;
}

ResetTruckInfo(vehicleid)
{
	new tmp_TRUCK_VEHICLE[TRUCK_VEHICLE_Info]; TRUCK_VEHICLE[vehicleid] = tmp_TRUCK_VEHICLE;
	return 1;
}

ResetPizzaInfo(vehicleid)
{
	new tmp_PIZZA_VEHICLE[PIZZA_VEHICLE_Info]; PIZZA_VEHICLE[vehicleid] = tmp_PIZZA_VEHICLE;
	return 1;
}

ResetTrashInfo(vehicleid)
{
	new tmp_TRASH_VEHICLES[TRASH_VEHICLES_INFO]; TRASH_VEHICLES[vehicleid] = tmp_TRASH_VEHICLES;

	TRASH_VEHICLES[vehicleid][trash_vehicle_DRIVER_ID] = INVALID_PLAYER_ID;
	TRASH_VEHICLES[vehicleid][trash_vehicle_PASSENGER_ID] = INVALID_PLAYER_ID;
	return 1;
}

forward TruckLoadUp(playerid, vehicleid);
public TruckLoadUp(playerid, vehicleid)
{
	if(PLAYER_TEMP[playerid][pt_TRUCK_LOADING_VALUE] < 100.0)
	{
		PLAYER_TEMP[playerid][pt_TRUCK_LOADING_VALUE] += 10.0;
		if(PLAYER_TEMP[playerid][pt_TRUCK_LOADING_VALUE] > 100.0) PLAYER_TEMP[playerid][pt_TRUCK_LOADING_VALUE] = 100.0;

		KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][9]);
		PLAYER_TEMP[playerid][pt_TIMERS][9] = SetTimerEx("TruckLoadUp", 1000, false, "ii", playerid, vehicleid);
		return 1;
	}

	PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][0]);
	PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][1]);
	PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][2]);
	PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][3]);

	GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_ENGINE] = 1;
	UpdateVehicleParams(vehicleid);

	TRUCK_VEHICLE[vehicleid][truck_vehicle_LOADED] = true;
	TRUCK_VEHICLE[vehicleid][truck_vehicle_LOADING] = false;
	TRUCK_VEHICLE[vehicleid][truck_vehicle_DELIVERED] = false;

	ShowPlayerMessage(playerid, "El camión ha sido cargado, dirígite al checkpoint para entregar la mercancía.", 2);
	SetPlayerTruckCheckpoint(playerid, vehicleid);
	return 1;
}

forward TruckUnLoadUp(playerid, vehicleid);
public TruckUnLoadUp(playerid, vehicleid)
{
	if(PLAYER_TEMP[playerid][pt_TRUCK_LOADING_VALUE] < 100.0)
	{
		PLAYER_TEMP[playerid][pt_TRUCK_LOADING_VALUE] += 10.0;
		if(PLAYER_TEMP[playerid][pt_TRUCK_LOADING_VALUE] > 100.0) PLAYER_TEMP[playerid][pt_TRUCK_LOADING_VALUE] = 100.0;

		KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][9]);
		PLAYER_TEMP[playerid][pt_TIMERS][9] = SetTimerEx("TruckUnLoadUp", 1000, false, "ii", playerid, vehicleid);
		return 1;
	}

	PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][0]);
	PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][1]);
	PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][2]);
	PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][3]);

	GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_ENGINE] = 1;
	UpdateVehicleParams(vehicleid);

	TRUCK_VEHICLE[vehicleid][truck_vehicle_UNLOADING] = false;
	TRUCK_VEHICLE[vehicleid][truck_vehicle_DELIVERED] = true;

	ShowPlayerMessage(playerid, "La mercancía ha sido entregada, regresa al punto de partida para cobrar.", 2);
	SetPlayerTruckCheckpoint(playerid, vehicleid);
	return 1;
}

SetPlayerTruckCheckpoint(playerid, vehicleid)
{
	if(IsValidDynamicCP(PLAYER_TEMP[playerid][pt_TRUCK_CHECKPOINT]))
	{
		DestroyDynamicCP(PLAYER_TEMP[playerid][pt_TRUCK_CHECKPOINT]);
		PLAYER_TEMP[playerid][pt_TRUCK_CHECKPOINT] = INVALID_STREAMER_ID;
	}

	if(TRUCK_VEHICLE[vehicleid][truck_vehicle_DELIVERED])
	{
		PLAYER_TEMP[playerid][pt_TRUCK_CHECKPOINT] = CreateDynamicCP(Truck_Return_Positions[0], Truck_Return_Positions[1], Truck_Return_Positions[2], 5.0, 0, 0, playerid, 9999999999.0);

		new info[1];
		info[0] = CHECKPOINT_TYPE_FINISH_TRUCK;
		Streamer_SetArrayData(STREAMER_TYPE_CP, PLAYER_TEMP[playerid][pt_TRUCK_CHECKPOINT], E_STREAMER_EXTRA_ID, info);
	}
	else
	{
		PLAYER_TEMP[playerid][pt_TRUCK_CHECKPOINT] = CreateDynamicCP(Truck_Contents[ TRUCK_VEHICLE[vehicleid][truck_vehicle_POINT] ][truck_content_X], Truck_Contents[ TRUCK_VEHICLE[vehicleid][truck_vehicle_POINT] ][truck_content_Y], Truck_Contents[ TRUCK_VEHICLE[vehicleid][truck_vehicle_POINT] ][truck_content_Z], 5.0, 0, 0, playerid, 9999999999.0);

		new info[1];
		info[0] = CHECKPOINT_TYPE_UNLOAD_TRUCK;
		//StartTracing(playerid, Truck_Contents[ TRUCK_VEHICLE[vehicleid][truck_vehicle_POINT] ][truck_content_X], Truck_Contents[ TRUCK_VEHICLE[vehicleid][truck_vehicle_POINT] ][truck_content_Y], Truck_Contents[ TRUCK_VEHICLE[vehicleid][truck_vehicle_POINT] ][truck_content_Z]);
		Streamer_SetArrayData(STREAMER_TYPE_CP, PLAYER_TEMP[playerid][pt_TRUCK_CHECKPOINT], E_STREAMER_EXTRA_ID, info);
	}
	Streamer_Update(playerid, STREAMER_TYPE_CP);
	return 1;
}

CMD:basurero(playerid, params[])
{
	if(!PLAYER_WORKS[playerid][WORK_TRASH][pwork_SET]) return ShowPlayerMessage(playerid, "No eres basurero.", 2);
	if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_NONE && PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_TRASH)
	{
		SendFormatNotification(playerid, "Tienes que dejar de estar de servicio como %s primero.", work_info[ PLAYER_TEMP[playerid][pt_WORKING_IN] ][work_info_NAME]);
		return 1;
	}

	if(GetPlayerVirtualWorld(playerid) != 0) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);
	if(GetPlayerInterior(playerid) != 0) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);
	if(GetPlayerState(playerid) != PLAYER_STATE_ONFOOT) return ShowPlayerMessage(playerid, "No estás depie.", 2);
	if(!IsPlayerInRangeOfPoint(playerid, 1.0, -1906.577514, -1756.457519, 22.079319)) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);

	if(!PLAYER_TEMP[playerid][pt_WORKING_IN]) CallLocalFunction("StartPlayerJob", "iii", playerid, WORK_TRASH, INVALID_VEHICLE_ID);
	else CallLocalFunction("EndPlayerJob", "iib", playerid, PLAYER_TEMP[playerid][pt_WORKING_IN], true);
	return 1;
}

CMD:reparal(playerid, params[]) {
    if(GetPlayerState(playerid) != PLAYER_STATE_DRIVER) return ShowPlayerMessage(playerid, "No estas dentro de un autol.", 2);
	new vehicleid = GetPlayerVehicleID(playerid);
	
	if(PLAYER_WORKS[playerid][WORK_MECHANIC][pwork_SET])
	{
		PI[ PLAYER_TEMP[playerid][pt_MECHANIC_PID] ][pi_MECHANIC_PIECES] -= PLAYER_TEMP[playerid][pt_MECHANIC_PIECES];
		PLAYER_WORKS[ PLAYER_TEMP[playerid][pt_MECHANIC_PID] ][WORK_MECHANIC][pwork_LEVEL] ++;
		//AddPlayerJobPoints(PLAYER_TEMP[playerid][pt_MECHANIC_PID], WORK_MECHANIC);
	}
	
	PLAYER_AC_INFO[playerid][CHEAT_VEHICLE_HEALTH][p_ac_info_IMMUNITY] = gettime() + 3;
	RepairVehicleEx(vehicleid);
	ShowPlayerMessage(playerid, "~w~Has usado ~y~1 kit de reparación ~w~para arreglar este vehiculo.", 2);
	if(PI[playerid][pi_DER_CANT] > 1) {
	PI[playerid][pi_DER_CANT] --;
	}
	else {
	    PI[playerid][pi_DER_CANT] = 0;
	    PI[playerid][pi_MANO_DER] = 0;
	}
	return 1;
}

CMD:limpiar(playerid, params[])
{
    new to_player;
    if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 0;
	if(sscanf(params, "ud", to_player)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /limpiar <player_id>", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);
	PI[to_player][pi_DER_CANT] = 0;
	PI[to_player][pi_MANO_DER] = 0;
	for(new x = 0; x<MAX_SLOTS_INV; x++) //Coloca el objeto en el primer bolsillo libre que encuentra
	{
	    PI[to_player][pi_BOL][x] = 0;
	    PI[to_player][pi_BOL_CANT][x] = 0;
    }
    ActualizarManos(to_player);
    SetPlayerToys(to_player);
    
    SendCmdLogToAdmins(playerid, "limpiar", params);
	return 1;
}

CMD:voz(playerid, params[])
{
    if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 0;
	if(isnull(params)) return SendNotification(playerid, "Usa /voz [Texto]");
	new string[300];
	format(string, sizeof string , "http://audio1.spanishdict.com/audio?lang=es&voice=Ximena&speed=25&text=%s", params);
	for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
	{
		PlayAudioStreamForPlayer(i, string);
	}
	return 1;
}

CMD:tt(playerid, params[])
{
	new to_player;
	if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 0;
	if(sscanf(params, "ud", to_player)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /tt <player_id>", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);
	
	SetPlayerArmourEx(to_player, 100.0);
	SetPlayerHealthEx(to_player, 100.0);
	
	SendCmdLogToAdmins(playerid, "tt", params);
	return 1;
}


CMD:policia(playerid, params[])
{
	if(!PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET]) return ShowPlayerMessage(playerid, "No eres policía.", 2);
	if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_NONE)
	{
		SendFormatNotification(playerid, "Tienes que dejar de estar de servicio como %s primero.", work_info[ PLAYER_TEMP[playerid][pt_WORKING_IN] ][work_info_NAME]);
		return 1;
	}
	if(GetPlayerVirtualWorld(playerid) != 0) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);
	if(GetPlayerState(playerid) != PLAYER_STATE_ONFOOT) return ShowPlayerMessage(playerid, "No estás depie.", 2);
	if(IsPlayerInRangeOfPoint(playerid, 1.0, 253.280288, 76.219017, 1003.640625) || IsPlayerInRangeOfPoint(playerid, 1.0, 266.547180, 119.652816, 1004.617187) || IsPlayerInRangeOfPoint(playerid, 1.0, 217.816406, 187.667922, 1003.031250))
	{
		if(!PLAYER_TEMP[playerid][pt_WORKING_IN]) ShowDialog(playerid, DIALOG_SELECT_POLICE_SKIN);
		else CallLocalFunction("EndPlayerJob", "iib", playerid, PLAYER_TEMP[playerid][pt_WORKING_IN], true);
		return 1;
	}

	ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);
	return 1;
}

CMD:talar(playerid, params[])
{
	if(!PLAYER_WORKS[playerid][WORK_LUMBERJACK][pwork_SET]) return ShowPlayerMessage(playerid, "No eres leñador.", 2);
	if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_NONE && PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_LUMBERJACK)
	{
		SendFormatNotification(playerid, "Tienes que dejar de estar de servicio como %s primero.", work_info[ PLAYER_TEMP[playerid][pt_WORKING_IN] ][work_info_NAME]);
		return 1;
	}

	if(GetPlayerVirtualWorld(playerid) != 0) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);
	if(GetPlayerInterior(playerid) != 0) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);
	if(GetPlayerState(playerid) != PLAYER_STATE_ONFOOT) return ShowPlayerMessage(playerid, "No estás depie.", 2);
	if(!IsPlayerInRangeOfPoint(playerid, 1.0, -527.670349, -97.338562, 63.176174)) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);

	if(!PLAYER_TEMP[playerid][pt_WORKING_IN]) CallLocalFunction("StartPlayerJob", "iii", playerid, WORK_LUMBERJACK, INVALID_VEHICLE_ID);
	else CallLocalFunction("EndPlayerJob", "iib", playerid, PLAYER_TEMP[playerid][pt_WORKING_IN], true);
	return 1;
}

CMD:mecanico(playerid, params[])
{
	if(!PLAYER_WORKS[playerid][WORK_MECHANIC][pwork_SET]) return ShowPlayerMessage(playerid, "No eres mecánico.", 2);
	if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_NONE && PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_MECHANIC)
	{
		SendFormatNotification(playerid, "Tienes que dejar de estar de servicio como %s primero.", work_info[ PLAYER_TEMP[playerid][pt_WORKING_IN] ][work_info_NAME]);
		return 1;
	}

	if(GetPlayerInterior(playerid) != 0) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);
	if(GetPlayerState(playerid) != PLAYER_STATE_ONFOOT) return ShowPlayerMessage(playerid, "No estás depie.", 2);

	for(new i; i != sizeof MechanicStartWorkingCoords; i++)
		if(IsPlayerInRangeOfPoint(playerid, 1.0, MechanicStartWorkingCoords[i][0], MechanicStartWorkingCoords[i][1], MechanicStartWorkingCoords[i][2]))
		{
			if(!PLAYER_TEMP[playerid][pt_WORKING_IN]) CallLocalFunction("StartPlayerJob", "iii", playerid, WORK_MECHANIC, INVALID_VEHICLE_ID);
			else CallLocalFunction("EndPlayerJob", "iib", playerid, PLAYER_TEMP[playerid][pt_WORKING_IN], true);

			return 1;
		}


	ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);
	return 1;
}

CMD:medico(playerid, params[])
{
	for(new i = 0; i < sizeof PLAYER_WEAPONS[]; i ++)
	{
	if(!PLAYER_WEAPONS[playerid][i][player_weapon_VALID]) return ShowPlayerMessage(playerid, "Tienes armas.", 2);
	}
	if(!PLAYER_WORKS[playerid][WORK_MEDIC][pwork_SET]) return ShowPlayerMessage(playerid, "No eres médico.", 2);
	if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_NONE && PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_MEDIC)
	{
		SendFormatNotification(playerid, "Tienes que dejar de estar de servicio como %s primero.", work_info[ PLAYER_TEMP[playerid][pt_WORKING_IN] ][work_info_NAME]);
		return 1;
	}

	if(PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] == -1 || ENTER_EXIT[ PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] ][ee_INTERIOR_TYPE] != INTERIOR_HOSPITAL) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);
	if(GetPlayerState(playerid) != PLAYER_STATE_ONFOOT) return ShowPlayerMessage(playerid, "No estás depie.", 2);
	if(!IsPlayerInRangeOfPoint(playerid, 1.0, -1182.1735,-1325.5317, 13.5760)) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);

	if(!PLAYER_TEMP[playerid][pt_WORKING_IN]) CallLocalFunction("StartPlayerJob", "iii", playerid, WORK_MEDIC, INVALID_VEHICLE_ID);
	else CallLocalFunction("EndPlayerJob", "iib", playerid, PLAYER_TEMP[playerid][pt_WORKING_IN], true);
	return 1;
}

CMD:pizzero(playerid, params[])
{
	if(!PLAYER_WORKS[playerid][WORK_PIZZA][pwork_SET]) return ShowPlayerMessage(playerid, "No eres pizzero, el trabajo se consigue dentro de la pizzería.", 2);
	if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_NONE && PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_PIZZA)
	{
		SendFormatNotification(playerid, "Tienes que dejar de estar de servicio como %s primero.", work_info[ PLAYER_TEMP[playerid][pt_WORKING_IN] ][work_info_NAME]);
		return 1;
	}

	if(GetPlayerVirtualWorld(playerid) != 0) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);
	if(GetPlayerState(playerid) != PLAYER_STATE_ONFOOT) return ShowPlayerMessage(playerid, "No estás depie.", 2);
	if(!IsPlayerInRangeOfPoint(playerid, 1.0, 2097.355712, -1818.040771, 13.382812)) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);

	if(!PLAYER_TEMP[playerid][pt_WORKING_IN]) CallLocalFunction("StartPlayerJob", "iii", playerid, WORK_PIZZA, INVALID_VEHICLE_ID);
	else CallLocalFunction("EndPlayerJob", "iib", playerid, PLAYER_TEMP[playerid][pt_WORKING_IN], true);
	return 1;
}

CMD:semillas(playerid, params[])
{
	if(!PLAYER_WORKS[playerid][WORK_FARMER][pwork_SET]) return ShowPlayerMessage(playerid, "No eres agricultor.", 2);
	ShowDialog(playerid, DIALOG_SEED_LIST);
	if(GetPlayerVirtualWorld(playerid) != 0) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);
	if(GetPlayerInterior(playerid) != 0) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);
	if(GetPlayerState(playerid) != PLAYER_STATE_ONFOOT) return ShowPlayerMessage(playerid, "No estás depie.", 2);
	if(!IsPlayerInRangeOfPoint(playerid, 1.0, 1566.521606, 31.370532, 24.16406)) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);

	ShowDialog(playerid, DIALOG_SEED_LIST);
	return 1;
}

CMD:hombro(playerid, params[])
{
	new to_player;
	if(sscanf(params, "i", to_player)) return SendNotification(playerid, "Forma de uso: ~r~/hombro [ID]");
	if(!IsPlayerConnected(to_player) || to_player == playerid) return SendNotification(playerid, "~R~Jugador invalido!");
	if(PLAYER_TEMP[playerid][pt_GAME_STATE] != GAME_STATE_NORMAL) return SendNotification(playerid, "~r~No puedes usar este comando ahora!");
	new Float:pos[3];
	GetPlayerPos(to_player, pos[0], pos[1], pos[2]);
	if(!IsPlayerInRangeOfPoint(playerid, 4.0, pos[0], pos[1], pos[2])) return SendNotification(playerid, "~r~Estas muy lejos de esta persona!");
	if(PLAYER_TEMP[to_player][pt_GAME_STATE] != GAME_STATE_NORMAL) return SendNotification(playerid, "~r~No puedes cargar a esta persona!");
	if(!availableToCharge(to_player) || !availableToCharge(playerid)) return SendNotification(playerid, "~r~No puedes usar el comando ahora!");
	cargadoTmp[playerid][ofertaCargar] = true;
	cargadoTmp[to_player][ofertaCargar] = true;
	cargadoTmp[playerid][pOfertadoTo] = to_player;
	cargadoTmp[to_player][pOfertante] = playerid;
	ShowDialog(to_player, DIALOG_OFERTA_CARGAR);
	return 1;
}

CMD:soltarc(playerid)
{
	if(!verifyCharged(playerid)) return SendNotification(playerid, "~r~No estas cargando a nadie y no estas siendo cargado!");
	return 1;
}

availableToCharge(playerid)
{
	if(!IsPlayerConnected(playerid)) return 0;
	if(PLAYER_TEMP[playerid][pt_GAME_STATE] != GAME_STATE_NORMAL) return 0;
	if(cargadoTmp[playerid][ofertaCargar] || cargadoTmp[playerid][esCargado] || cargadoTmp[playerid][estaCargando]) return 0;
	return 1;
}

startCharge(playerid, cargado)
{
	cargadoTmp[playerid][playerCargado] = cargado;
	cargadoTmp[playerid][estaCargando] = true;
	cargadoTmp[cargado][cargadoPor] = playerid;
	cargadoTmp[cargado][esCargado] = true;
	TogglePlayerControllable(cargado, 0);
	new action[50];
	format(action, sizeof action, "carga al hombro a %s", PLAYER_TEMP[cargado][pt_RP_NAME]);
	Auto_SendPlayerAction(playerid, action);
	SendNotification(playerid, "Para deja de cargar usa ~r~/soltarc");
	SendNotification(cargado, "Para que te dejen de cargar, usa ~r~/soltarc");
	return 1;
}

verifyCharged(playerid)
{
	new action[60];
	if(cargadoTmp[playerid][estaCargando])
	{
		TogglePlayerControllable(cargadoTmp[playerid][playerCargado], 1);
		format(action, sizeof action, "dejar de cargar a %s", PLAYER_TEMP[cargadoTmp[playerid][playerCargado]][pt_RP_NAME]);
		Auto_SendPlayerAction(playerid, action);
		cleanChargeVars(cargadoTmp[playerid][playerCargado]);
		cleanChargeVars(playerid);
	} else if(cargadoTmp[playerid][esCargado]) {
		TogglePlayerControllable(playerid, 1);
		format(action, sizeof action, "se suelta de %s", PLAYER_TEMP[cargadoTmp[playerid][cargadoPor]][pt_RP_NAME]);
		Auto_SendPlayerAction(playerid, action);
		cleanChargeVars(cargadoTmp[playerid][cargadoPor]);
		cleanChargeVars(playerid);
	} else return 0;
	return 1;
}

cleanChargeVars(playerid)
{
	cargadoTmp[playerid][ofertaCargar] = false;
	cargadoTmp[playerid][esCargado] = false;
	cargadoTmp[playerid][estaCargando] = false;
	cargadoTmp[playerid][pOfertante] = -1;
	cargadoTmp[playerid][pOfertadoTo] = -1;
	cargadoTmp[playerid][playerCargado] = -1;
	cargadoTmp[playerid][cargadoPor] = -1;
	return 1;
}


CMD:plantar(playerid, params[])
{
	if(IsPlayerInDynamicArea(playerid, Farmer_Area) || IsPlayerInRangeOfPoint(playerid, 5.0, 2216.8306, 721.9532, 647.1910))
	{
		if(PLAYER_TEMP[playerid][pt_PLANTING]) return SendNotification(playerid, "Ahora mismo ya estás plantando algo.");

		if(gettime() < PLAYER_TEMP[playerid][pt_LAST_PLANT_TIME] + 30)
		{
			new time = (30-(gettime()-PLAYER_TEMP[playerid][pt_LAST_PLANT_TIME]));
			SendFormatNotification(playerid, "Tienes que esperar %s segundos para volver a plantar.", TimeConvert(time));
			return 1;
		}

		if(GetPlayerPlantedPlants(playerid) > 50) return SendNotification(playerid, "Por favor, recoge tus otras plantas para poder plantar más.");

		for(new i = 0; i != MAX_PLANTS; i ++)
		{
			if(!PLANTS[i][plant_VALID]) continue;

			new Float:pos[3];
			GetDynamicObjectPos(PLANTS[i][plant_OBJECT_ID], pos[0], pos[1], pos[2]);
			if(IsPlayerInRangeOfPoint(playerid, 1.0, pos[0], pos[1], pos[2]) && GetPlayerVirtualWorld(playerid) == PLANTS[i][plant_VIRTUAL_WORLD])
			{
				SendNotification(playerid, "Aquí ya hay una planta, aléjate un poco para plantar.");
				return 1;
			}
		}

		ShowDialog(playerid, DIALOG_PLANT_PLANTS);
	}
	else SendNotification(playerid, "No estas en una zona de plantar");
	return 1;
}

CMD:kit(playerid, params[])
{
    new player_slot = GetEmptyInvSlot(playerid);
    if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
	if(GetPlayerInterior(playerid) != 0) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);
	if(GetPlayerState(playerid) != PLAYER_STATE_ONFOOT) return ShowPlayerMessage(playerid, "No estás depie.", 2);

	for(new i; i != sizeof MechanicBuyKitsCoords; i++)
		if(IsPlayerInRangeOfPoint(playerid, 1.0, MechanicBuyKitsCoords[i][0], MechanicBuyKitsCoords[i][1], MechanicBuyKitsCoords[i][2]))
		{
			if(GivePlayerCash(playerid, -1000, true, true)) {
			    new checki = 114;
		        PI[playerid][pi_BOL][player_slot] = checki;
		        PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
				ShowPlayerMessage(playerid, "~w~Has comprado un kit de reparación, para usararlo ponlo en mano y usa ~y~Y ~w~cerca del vehiculo que quieras reparar.", 2);
			}
			else ShowPlayerMessage(playerid, "No tienes suficiente dinero.", 2);
			return 1;
		}

	ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);
	return 1;
}

VehiclePaintjob(modelid)
{
	switch(modelid)
	{
		case 483: return 1;
		case 534..536: return 3;
		case 558..562: return 3;
		case 565, 567: return 3;
		case 575: return 2;
		case 576: return 3;
	}
	return false;
}

Set_BUS_Checkpoint(playerid) //aca
{
	if(IsValidDynamicRaceCP(PLAYER_TEMP[playerid][pt_BUS_CHECKPOINT]))
	{
		DestroyDynamicRaceCP(PLAYER_TEMP[playerid][pt_BUS_CHECKPOINT]);
		PLAYER_TEMP[playerid][pt_BUS_CHECKPOINT] = INVALID_STREAMER_ID;
	}

	if(PLAYER_TEMP[playerid][pt_BUS_PROCCESS] == sizeof(BUS_CHECKPOINTS) - 1)
	{
		CargandoEx(playerid);
		PLAYER_TEMP[playerid][pt_BUS_CHECKPOINT] = CreateDynamicRaceCP (1, BUS_CHECKPOINTS[ PLAYER_TEMP[playerid][pt_BUS_PROCCESS] ][0], BUS_CHECKPOINTS[ PLAYER_TEMP[playerid][pt_BUS_PROCCESS] ][1], BUS_CHECKPOINTS[ PLAYER_TEMP[playerid][pt_BUS_PROCCESS] ][2], 0.0, 0.0, 0.0, 5.0, 0, 0, playerid);
	}
	else
	{
		CargandoEx(playerid);
		PLAYER_TEMP[playerid][pt_BUS_CHECKPOINT] = CreateDynamicRaceCP (0, BUS_CHECKPOINTS[ PLAYER_TEMP[playerid][pt_BUS_PROCCESS] ][0], BUS_CHECKPOINTS[ PLAYER_TEMP[playerid][pt_BUS_PROCCESS] ][1], BUS_CHECKPOINTS[ PLAYER_TEMP[playerid][pt_BUS_PROCCESS] ][2], BUS_CHECKPOINTS[ PLAYER_TEMP[playerid][pt_BUS_PROCCESS] + 1 ][0], BUS_CHECKPOINTS[ PLAYER_TEMP[playerid][pt_BUS_PROCCESS] + 1 ][1], BUS_CHECKPOINTS[ PLAYER_TEMP[playerid][pt_BUS_PROCCESS] + 1 ][2], 5.0, 0, 0, playerid);
	}

	new info[1];
	info[0] = CHECKPOINT_TYPE_BUS;
	Streamer_SetArrayData(STREAMER_TYPE_RACE_CP, PLAYER_TEMP[playerid][pt_BUS_CHECKPOINT], E_STREAMER_EXTRA_ID, info);

	return 1;
}

Set_HARVEST_Checkpoint(playerid)
{
	if(IsValidDynamicRaceCP(PLAYER_TEMP[playerid][pt_HARVERT_CHECKPOINT]))
	{
		DestroyDynamicRaceCP(PLAYER_TEMP[playerid][pt_HARVERT_CHECKPOINT]);
		PLAYER_TEMP[playerid][pt_HARVERT_CHECKPOINT] = INVALID_STREAMER_ID;
	}

	if(PLAYER_TEMP[playerid][pt_HARVERT_PROCCESS] == sizeof(HARVEST_CHECKPOINTS) - 1)
	{
		PLAYER_TEMP[playerid][pt_HARVERT_CHECKPOINT] =	CreateDynamicRaceCP
														(
															1,
															HARVEST_CHECKPOINTS[ PLAYER_TEMP[playerid][pt_HARVERT_PROCCESS] ][0],
															HARVEST_CHECKPOINTS[ PLAYER_TEMP[playerid][pt_HARVERT_PROCCESS] ][1],
															HARVEST_CHECKPOINTS[ PLAYER_TEMP[playerid][pt_HARVERT_PROCCESS] ][2],
															0.0,
															0.0,
															0.0,
															5.0,
															0,
															0,
															playerid
														);
	}
	else
	{
		PLAYER_TEMP[playerid][pt_HARVERT_CHECKPOINT] =	CreateDynamicRaceCP
														(
															0,
															HARVEST_CHECKPOINTS[ PLAYER_TEMP[playerid][pt_HARVERT_PROCCESS] ][0],
															HARVEST_CHECKPOINTS[ PLAYER_TEMP[playerid][pt_HARVERT_PROCCESS] ][1],
															HARVEST_CHECKPOINTS[ PLAYER_TEMP[playerid][pt_HARVERT_PROCCESS] ][2],
															HARVEST_CHECKPOINTS[ PLAYER_TEMP[playerid][pt_HARVERT_PROCCESS] + 1 ][0],
															HARVEST_CHECKPOINTS[ PLAYER_TEMP[playerid][pt_HARVERT_PROCCESS] + 1 ][1],
															HARVEST_CHECKPOINTS[ PLAYER_TEMP[playerid][pt_HARVERT_PROCCESS] + 1 ][2],
															5.0,
															0,
															0,
															playerid
														);
	}

	new info[1];
	info[0] = CHECKPOINT_TYPE_HARVEST;
	Streamer_SetArrayData(STREAMER_TYPE_RACE_CP, PLAYER_TEMP[playerid][pt_HARVERT_CHECKPOINT], E_STREAMER_EXTRA_ID, info);

	return 1;
}

public OnPlayerEnterDynamicRaceCP(playerid, checkpointid)
{
	new info[1];
	Streamer_GetArrayData(STREAMER_TYPE_RACE_CP, checkpointid, E_STREAMER_EXTRA_ID, info);

	switch(info[0])
	{
		case CHECKPOINT_TYPE_HARVEST:
		{
			if(PLAYER_TEMP[playerid][pt_HARVERT_PROCCESS] == sizeof(HARVEST_CHECKPOINTS) - 1)
			{
				new vehicleid = GetPlayerVehicleID(playerid);
				if(vehicleid == INVALID_VEHICLE_ID) return 1;

				new work_extra_payment;
				if(work_info[WORK_HARVESTER][work_info_EXTRA_PAY] > 0 && work_info[WORK_HARVESTER][work_info_EXTRA_PAY_EXP] > 0)
				{
					work_extra_payment = (work_info[WORK_HARVESTER][work_info_EXTRA_PAY] * floatround(floatdiv(PLAYER_WORKS[playerid][WORK_HARVESTER][pwork_LEVEL], work_info[WORK_HARVESTER][work_info_EXTRA_PAY_EXP])));
					if(work_info[WORK_HARVESTER][work_info_EXTRA_PAY_LIMIT] != 0) if(work_extra_payment > work_info[WORK_HARVESTER][work_info_EXTRA_PAY_LIMIT]) work_extra_payment = work_info[WORK_HARVESTER][work_info_EXTRA_PAY_LIMIT];

					if(PI[playerid][pi_VIP]) work_extra_payment += SU_WORK_EXTRA_PAY;
				}

				new money = minrand(350, 410) + WORK_HARVESTER;
				GivePlayerCash(playerid, money, true, false);

				PLAYER_WORKS[playerid][WORK_HARVESTER][pwork_LEVEL] ++;
				//AddPlayerJobPoints(playerid, WORK_HARVESTER);
				SendFormatNotification(playerid, "Has ganado $%s con esta cosecha.", number_format_thousand(money));
				CallLocalFunction("EndPlayerJob", "iib", playerid, PLAYER_TEMP[playerid][pt_WORKING_IN], true);
				dcuchi(playerid);
				PLAYER_TEMP[playerid][pt_WORK_VEHICLE_ID] = INVALID_VEHICLE_ID;
		    	DestroyVehicleEx(vehicleid);
				return 1;
			}

			new str[50];
			format(str, sizeof str, "~n~~n~~n~~n~~n~~n~~n~~w~~h~checkpoint_~y~%d/%d", PLAYER_TEMP[playerid][pt_HARVERT_PROCCESS] + 1, sizeof(HARVEST_CHECKPOINTS));
			GameTextForPlayer(playerid, str, 2000, 3);

			PLAYER_TEMP[playerid][pt_HARVERT_PROCCESS] ++;
			Set_HARVEST_Checkpoint(playerid);
		}

		case CHECKPOINT_TYPE_BUS:
		{
			if(PLAYER_TEMP[playerid][pt_BUS_PROCCESS] == sizeof(BUS_CHECKPOINTS) - 1)
			{
				new vehicleid = GetPlayerVehicleID(playerid);
				if(vehicleid == INVALID_VEHICLE_ID) return 1;

				new work_extra_payment;
				if(work_info[WORK_BUS][work_info_EXTRA_PAY] > 0 && work_info[WORK_BUS][work_info_EXTRA_PAY_EXP] > 0)
				{
					work_extra_payment = (work_info[WORK_BUS][work_info_EXTRA_PAY] * floatround(floatdiv(PLAYER_WORKS[playerid][WORK_BUS][pwork_LEVEL], work_info[WORK_HARVESTER][work_info_EXTRA_PAY_EXP])));
					if(work_info[WORK_BUS][work_info_EXTRA_PAY_LIMIT] != 0) if(work_extra_payment > work_info[WORK_BUS][work_info_EXTRA_PAY_LIMIT]) work_extra_payment = work_info[WORK_HARVESTER][work_info_EXTRA_PAY_LIMIT];

					if(PI[playerid][pi_VIP]) work_extra_payment += SU_WORK_EXTRA_PAY;
				}

				new money = minrand(500, 750) + WORK_BUS;
				GivePlayerCash(playerid, money, true, false);

				PLAYER_WORKS[playerid][WORK_BUS][pwork_LEVEL] ++;
				//AddPlayerJobPoints(playerid, WORK_BUS);
				SendFormatNotification(playerid, "Has ganado $%s con esta recorrido.", number_format_thousand(money));
				CallLocalFunction("EndPlayerJob", "iib", playerid, PLAYER_TEMP[playerid][pt_WORKING_IN], true); 
				PLAYER_TEMP[playerid][pt_WORK_VEHICLE_ID] = INVALID_VEHICLE_ID;
				DestroyVehicleEx(vehicleid);
				return 1;
			}

			new str[50];
			format(str, sizeof str, "~n~~n~~n~~n~~n~~n~~n~~w~~h~checkpoint_~y~%d/%d", PLAYER_TEMP[playerid][pt_BUS_PROCCESS] + 1, sizeof(BUS_CHECKPOINTS));
			CargandoEx(playerid);
			GameTextForPlayer(playerid, str, 2000, 3);

			PLAYER_TEMP[playerid][pt_BUS_PROCCESS] ++;
			Set_BUS_Checkpoint(playerid);
		}
		case CHECKPOINT_TYPE_DRIVING_SCHOOL:
		{
			if(GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] ][gb_vehicle_TYPE] == VEHICLE_TYPE_DRIVING_SCHOOL)
			{
				if(PLAYER_TEMP[playerid][pt_DL_EXAM_PROCCESS] == sizeof(Driving_School_Points) - 1)
				{
					new Float:vhealth;
					GetVehicleHealth(PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID], vhealth);

					if(vhealth >= 800.0)
					{
						PI[playerid][pi_DRIVE_LICENSE_POINTS] = 12;
						ShowPlayerMessage(playerid, "¡Felicidades! te has sacado el carnet de conducir, cuentas con 12 puntos.", 2);
						
						if(PI[playerid][pi_A7] == 0) 
                                 { 
                                     new Mision[500];
                                     GivePlayerCash(playerid, 500, true, false); 
                                     SendFormatNotification(playerid, "Has completado una ~g~mision"); 
                                     PI[playerid][pi_A7] = 1; 
                                     TextDrawShowForPlayer(playerid,BoxMisiones);
                                     TextDrawShowForPlayer(playerid,MisionCo);
                                     TextDrawShowForPlayer(playerid,MisionRe);
                                     format(Mision,sizeof(Mision),"~w~Sacar Licencia 500~g~$");
                                     TextDrawSetString(MisionRe, Mision); 
                                     SetTimerEx("ActualizarTextDraw",4500,false,"i",playerid);//
                                 }
					}
					else ShowPlayerMessage(playerid, "No has superado el examen.", 2);

					if(IsValidDynamicRaceCP(PLAYER_TEMP[playerid][pt_DL_EXAM_CP]))
					{
						DestroyDynamicRaceCP(PLAYER_TEMP[playerid][pt_DL_EXAM_CP]);
						PLAYER_TEMP[playerid][pt_DL_EXAM_CP] = INVALID_STREAMER_ID;
					}
					PLAYER_TEMP[playerid][pt_DL_EXAM] = false;
					PLAYER_TEMP[playerid][pt_DL_EXAM_PROCCESS] = 0;
					SetVehicleToRespawnEx(PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID]);
					return 1;
				}

				new str[50];
				format(str, sizeof str, "~n~~n~~n~~n~~n~~n~~n~~w~~h~checkpoint_~y~%d/%d", PLAYER_TEMP[playerid][pt_DL_EXAM_PROCCESS] + 1, sizeof(Driving_School_Points));
				GameTextForPlayer(playerid, str, 2000, 3);

				PLAYER_TEMP[playerid][pt_DL_EXAM_PROCCESS] ++;
				SetPlayerDrivingSchoolCP(playerid);
			}
		}
	}
	return 1;
}

SetPlayerTrashCheckpoint(playerid, vehicleid)
{
	DestroyPlayerTrashCheckpoint(playerid);

	new cp = TRASH_VEHICLES[ vehicleid ][trash_vehicle_CP];
	new route = TRASH_VEHICLES[ vehicleid ][trash_vehicle_ROUTE];

	if(cp >= TRASH_OBJECTS[route][trash_route_OBJECTS])
	{
		PLAYER_TEMP[playerid][pt_TRASH_CHECKPOINT] = CreateDynamicCP(-1872.575073, -1720.129394, 22.30542, 5.0, 0, 0, playerid, 9999999999.0);
		new info[1];
		info[0] = CHECKPOINT_TYPE_FINISH_TRASH;
		Streamer_SetArrayData(STREAMER_TYPE_CP, PLAYER_TEMP[playerid][pt_TRASH_CHECKPOINT], E_STREAMER_EXTRA_ID, info);
	}
	else
	{
		PLAYER_TEMP[playerid][pt_TRASH_CHECKPOINT] = CreateDynamicCP(TRASH_OBJECTS[ route ][trash_object_X][ cp ], TRASH_OBJECTS[ route ][trash_object_Y][ cp ], TRASH_OBJECTS[ route ][trash_object_Z][ cp ], 1.5, 0, 0, playerid, 9999999999.0);

		new info[1];
		info[0] = CHECKPOINT_TYPE_TRASH;
		Streamer_SetArrayData(STREAMER_TYPE_CP, PLAYER_TEMP[playerid][pt_TRASH_CHECKPOINT], E_STREAMER_EXTRA_ID, info);
	}
	return 1;
}

DestroyPlayerTrashCheckpoint(playerid)
{
	if(IsValidDynamicCP(PLAYER_TEMP[playerid][pt_TRASH_CHECKPOINT]))
	{
		DestroyDynamicCP(PLAYER_TEMP[playerid][pt_TRASH_CHECKPOINT]);
		PLAYER_TEMP[playerid][pt_TRASH_CHECKPOINT] = INVALID_STREAMER_ID;
	}
	return 1;
}

CancelTrashWork(driver, mate, vehicleid)
{
	DestroyPlayerTrashCheckpoint(driver);
	DestroyPlayerTrashCheckpoint(mate);

	DestroyPlayerTrashRouteObjects(driver);
	DestroyPlayerTrashRouteObjects(mate);

	PLAYER_TEMP[driver][pt_TRASH_DRIVER] = false;
	PLAYER_TEMP[driver][pt_TRASH_PASSENGER] = false;
	PLAYER_TEMP[driver][pt_TRASH_VEHICLE_ID] = INVALID_VEHICLE_ID;

	PLAYER_TEMP[mate][pt_TRASH_DRIVER] = false;
	PLAYER_TEMP[mate][pt_TRASH_PASSENGER] = false;
	PLAYER_TEMP[mate][pt_TRASH_VEHICLE_ID] = INVALID_VEHICLE_ID;

	KillTimer(PLAYER_TEMP[mate][pt_TIMERS][10]);
	PlayerTextDrawHide(mate, PlayerTextdraws[mate][ptextdraw_RECYCLE_TRASH][0]);
	PlayerTextDrawHide(mate, PlayerTextdraws[mate][ptextdraw_RECYCLE_TRASH][1]);
	PlayerTextDrawHide(mate, PlayerTextdraws[mate][ptextdraw_RECYCLE_TRASH][2]);
	ClearAnimations(mate);
	TogglePlayerControllableEx(mate, true);

	ResetTrashInfo(vehicleid);
	SetVehicleToRespawnEx(vehicleid);
	return 1;
}

UpdatePlayerTrashRecycleSize(playerid)
{
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_RECYCLE_TRASH][2], 0.0, PLAYER_TEMP[playerid][pt_RECYCLE_BIN_VALUE] * 1.3);
	PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_RECYCLE_TRASH][2]);
	return 1;
}

forward RecycleUp(playerid);
public RecycleUp(playerid)
{
	if(PLAYER_TEMP[playerid][pt_RECYCLE_BIN_VALUE] < 100.0)
	{
		PLAYER_TEMP[playerid][pt_RECYCLE_BIN_VALUE] += 15.0;
		if(PLAYER_TEMP[playerid][pt_RECYCLE_BIN_VALUE] > 100.0) PLAYER_TEMP[playerid][pt_RECYCLE_BIN_VALUE] = 100.0;

		ApplyAnimation(playerid, "ROB_BANK", "CAT_Safe_Rob", 4.1, true, false, false, false, 0);
		UpdatePlayerTrashRecycleSize(playerid);
		KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][10]);
		PLAYER_TEMP[playerid][pt_TIMERS][10] = SetTimerEx("RecycleUp", 1000, false, "i", playerid);
		return 1;
	}

	TogglePlayerControllableEx(playerid, true);
	ClearAnimations(playerid);
	PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_RECYCLE_TRASH][0]);
	PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_RECYCLE_TRASH][1]);
	PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_RECYCLE_TRASH][2]);

	new driver = TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_DRIVER_ID];
	new cp = TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_CP];
	new route = TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_ROUTE];

	DestroyDynamicObject(TRASH_PLAYER_OBJECTS[playerid][cp]);
	TRASH_PLAYER_OBJECTS[playerid][cp] = INVALID_STREAMER_ID;

	DestroyDynamicObject(TRASH_PLAYER_OBJECTS[driver][cp]);
	TRASH_PLAYER_OBJECTS[driver][cp] = INVALID_STREAMER_ID;

	CreatePlayerFlashObject(
								playerid,
								TRASH_OBJECTS[ route ][trash_object_X][ cp ],
								TRASH_OBJECTS[ route ][trash_object_Y][ cp ],
								TRASH_OBJECTS[ route ][trash_object_Z][ cp ] - 1.5
							);

	CreatePlayerFlashObject(
								driver,
								TRASH_OBJECTS[ route ][trash_object_X][ cp ],
								TRASH_OBJECTS[ route ][trash_object_Y][ cp ],
								TRASH_OBJECTS[ route ][trash_object_Z][ cp ] - 1.5
							);

	PlayerPlaySoundEx(playerid, 1190, 0.0, 0.0, 0.0);

	TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_CP] ++;
	if(TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_CP] >= TRASH_OBJECTS[ TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_ROUTE] ][trash_route_OBJECTS])
	{
		ShowPlayerMessage(playerid, "Sube al camión para volver al vertedero y recibir la paga.", 2);
		ShowPlayerMessage(driver, "Espera a que se suba tu compañero y vuelve al vertedero para recibir la paga.", 2);
	}
	else ShowPlayerMessage(playerid, "Sube al camión y sigue con la ruta.", 2);

	SetPlayerTrashCheckpoint(driver, PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID]);
	SetPlayerTrashCheckpoint(playerid, PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID]);

	Streamer_Update(driver);
	Streamer_Update(playerid);
	return 1;
}

CancelLumberjackWork(playerid)
{
	if(PLAYER_TEMP[playerid][pt_PLAYER_LUMBERJACK_TREE] != -1)
	{
		DestroyDynamicObject(LUMBER_TREES[ PLAYER_TEMP[playerid][pt_PLAYER_LUMBERJACK_TREE] ][lumber_tree_OBJECT_ID]);
		LUMBER_TREES[ PLAYER_TEMP[playerid][pt_PLAYER_LUMBERJACK_TREE] ][lumber_tree_OBJECT_ID] = CreateDynamicObject(LUMBER_TREES[ PLAYER_TEMP[playerid][pt_PLAYER_LUMBERJACK_TREE] ][lumber_tree_MODELID], LUMBER_TREES[ PLAYER_TEMP[playerid][pt_PLAYER_LUMBERJACK_TREE] ][lumber_tree_X], LUMBER_TREES[ PLAYER_TEMP[playerid][pt_PLAYER_LUMBERJACK_TREE] ][lumber_tree_Y], LUMBER_TREES[ PLAYER_TEMP[playerid][pt_PLAYER_LUMBERJACK_TREE] ][lumber_tree_Z], LUMBER_TREES[ PLAYER_TEMP[playerid][pt_PLAYER_LUMBERJACK_TREE] ][lumber_tree_RX], LUMBER_TREES[ PLAYER_TEMP[playerid][pt_PLAYER_LUMBERJACK_TREE] ][lumber_tree_RY], LUMBER_TREES[ PLAYER_TEMP[playerid][pt_PLAYER_LUMBERJACK_TREE] ][lumber_tree_RZ], 0, 0);
		LUMBER_TREES[ PLAYER_TEMP[playerid][pt_PLAYER_LUMBERJACK_TREE] ][lumber_tree_STATE] = LUMBER_TREE_STATE_NORMAL;

		new label_str[256];
		format(label_str, sizeof label_str, "{66c4e4}Árbol (%d)\n\n"WHITE"Pulsa "CYAN"'~k~~CONVERSATION_YES~' "WHITE"para talar el árbol.", PLAYER_TEMP[playerid][pt_PLAYER_LUMBERJACK_TREE]);
		UpdateDynamic3DTextLabelText(LUMBER_TREES[ PLAYER_TEMP[playerid][pt_PLAYER_LUMBERJACK_TREE] ][lumber_tree_LABEL], -1, label_str);
	}

	if(IsValidDynamicCP(PLAYER_TEMP[playerid][pt_LUMBERJACK_CHECKPOINT]))
	{
		DestroyDynamicCP(PLAYER_TEMP[playerid][pt_LUMBERJACK_CHECKPOINT]);
		PLAYER_TEMP[playerid][pt_LUMBERJACK_CHECKPOINT] = INVALID_STREAMER_ID;
	}

	RemovePlayerAttachedObject(playerid, 8);
	RemovePlayerAttachedObject(playerid, 8);
	KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][11]);
	//ClearAnimations(playerid);
	SetPlayerSpecialAction(playerid, SPECIAL_ACTION_NONE);
	TogglePlayerControllableEx(playerid, true);
	PLAYER_TEMP[playerid][pt_PLAYER_CARRYING_TREE] = false;
	PLAYER_TEMP[playerid][pt_PLAYER_LUMBERJACK_TREE] = -1;
	DestroyPlayerKeyPress(playerid);
	SetPlayerToys(playerid);
	return 1;
}

forward ContinueTreeAnimation(playerid, tree, Float:rotation);
public ContinueTreeAnimation(playerid, tree, Float:rotation)
{
	new Float:pos[3];
	pos[0] = LUMBER_TREES[ tree ][lumber_tree_X];
	pos[1] = LUMBER_TREES[ tree ][lumber_tree_Y];
	pos[2] = LUMBER_TREES[ tree ][lumber_tree_Z];

	pos[0] += (1.5 * floatsin(-rotation, degrees));
	pos[1] += (1.5 * floatcos(-rotation, degrees));

	CreateFlashObject(pos[0], pos[1], pos[2] - 0.4);
	DestroyDynamicObject(LUMBER_TREES[ tree ][lumber_tree_OBJECT_ID]);
	PlayerPlaySoundEx(playerid, 1190, 0.0, 0.0, 0.0);

	LUMBER_TREES[ tree ][lumber_tree_OBJECT_ID] = CreateDynamicObject(841, pos[0], pos[1], pos[2] + 0.2, 0.0, 0.0, rotation, 0, 0);

	SetPlayerSpecialAction(playerid, SPECIAL_ACTION_CARRY);
	PLAYER_TEMP[playerid][pt_PLAYER_CARRYING_TREE] = true;
	PLAYER_TEMP[playerid][pt_PLAYER_LUMBERJACK_TREE] = -1;

	RemovePlayerAttachedObject(playerid, 8);
	SetPlayerAttachedObject(playerid, 8, 19793, 6, 0.077999, 0.043999, -0.170999, -13.799953, 79.70, 0.0);

	if(IsValidDynamicCP(PLAYER_TEMP[playerid][pt_LUMBERJACK_CHECKPOINT]))
	{
		DestroyDynamicCP(PLAYER_TEMP[playerid][pt_LUMBERJACK_CHECKPOINT]);
		PLAYER_TEMP[playerid][pt_LUMBERJACK_CHECKPOINT] = INVALID_STREAMER_ID;
	}
	PLAYER_TEMP[playerid][pt_LUMBERJACK_CHECKPOINT] = CreateDynamicCP(-504.353912, -88.591995, 62.086818, 5.0, 0, 0, playerid, 9999999999.0);

	new info[1];
	info[0] = CHECKPOINT_TYPE_LUMBERJACK;
	Streamer_SetArrayData(STREAMER_TYPE_CP, PLAYER_TEMP[playerid][pt_LUMBERJACK_CHECKPOINT], E_STREAMER_EXTRA_ID, info);

	ShowPlayerMessage(playerid, "Ve a llevar la leña al punto marcado para recibir la paga.", 2);


	LUMBER_TREES[ tree ][lumber_tree_GROW_COUNTER] = 90;
	new label_str[256];
	format(label_str, sizeof label_str, "{66c4e4}Árbol (%d)\n\n{66c4e4}(%s)", tree, TimeConvert(LUMBER_TREES[ tree ][lumber_tree_GROW_COUNTER]));
	UpdateDynamic3DTextLabelText(LUMBER_TREES[ tree ][lumber_tree_LABEL], -1, label_str);

	LUMBER_TREES[ tree ][lumber_tree_STATE] = LUMBER_TREE_STATE_CUTTED;
	KillTimer(LUMBER_TREES[ tree ][lumber_tree_GROW_TIMER]);
	LUMBER_TREES[ tree ][lumber_tree_GROW_TIMER] = SetTimerEx("GrowTreeUp", 1000, false, "i", tree);

	Streamer_Update(playerid);
	return 1;
}

forward GrowMeatUp(meat);
public GrowMeatUp(meat)
{
	if(CARNICERO[ meat ][meat_STATE] != MEAT_STATE_CUTTED) return 0;

	if(CARNICERO[ meat ][meat_GROW_COUNTER] > 0)
	{
		CARNICERO[ meat ][meat_GROW_COUNTER] --;
		new label_str[256];
		format(label_str, sizeof label_str, "{66c4e4}Carne (%d)\n\n Disponible en: {66c4e4}(%s)", meat, TimeConvert(CARNICERO[ meat ][meat_GROW_COUNTER]));
		UpdateDynamic3DTextLabelText(CARNICERO[ meat ][meat_LABEL], -1, label_str);

		KillTimer(CARNICERO[ meat ][meat_GROW_TIMER]);
		CARNICERO[ meat ][meat_GROW_TIMER] = SetTimerEx("GrowMeatUp", 1000, false, "i", meat);
		return 1;
	}

	CARNICERO[ meat ][meat_STATE] = LUMBER_TREE_STATE_NORMAL;

	new label_str[256];
	format(label_str, sizeof label_str, "{66c4e4}Carne (%d)\n\n"WHITE"Pulsa "CYAN"'~k~~CONVERSATION_YES~' "WHITE"para cortar la carne.", meat);
	UpdateDynamic3DTextLabelText(CARNICERO[ meat ][meat_LABEL], -1, label_str);
	return 1;
}

forward GrowTreeUp(tree);
public GrowTreeUp(tree)
{
	if(LUMBER_TREES[ tree ][lumber_tree_STATE] != LUMBER_TREE_STATE_CUTTED) return 0;

	if(LUMBER_TREES[ tree ][lumber_tree_GROW_COUNTER] > 0)
	{
		LUMBER_TREES[ tree ][lumber_tree_GROW_COUNTER] --;
		new label_str[256];
		format(label_str, sizeof label_str, "{66c4e4}Árbol (%d)\n\n{66c4e4}(%s)", tree, TimeConvert(LUMBER_TREES[ tree ][lumber_tree_GROW_COUNTER]));
		UpdateDynamic3DTextLabelText(LUMBER_TREES[ tree ][lumber_tree_LABEL], -1, label_str);

		KillTimer(LUMBER_TREES[ tree ][lumber_tree_GROW_TIMER]);
		LUMBER_TREES[ tree ][lumber_tree_GROW_TIMER] = SetTimerEx("GrowTreeUp", 1000, false, "i", tree);
		return 1;
	}

	DestroyDynamicObject(LUMBER_TREES[ tree ][lumber_tree_OBJECT_ID]);
	LUMBER_TREES[ tree ][lumber_tree_OBJECT_ID] = CreateDynamicObject(LUMBER_TREES[ tree ][lumber_tree_MODELID], LUMBER_TREES[ tree ][lumber_tree_X], LUMBER_TREES[ tree ][lumber_tree_Y], LUMBER_TREES[ tree ][lumber_tree_Z], LUMBER_TREES[ tree ][lumber_tree_RX], LUMBER_TREES[ tree ][lumber_tree_RY], LUMBER_TREES[ tree ][lumber_tree_RZ], 0, 0);
	LUMBER_TREES[ tree ][lumber_tree_STATE] = LUMBER_TREE_STATE_NORMAL;

	new label_str[256];
	format(label_str, sizeof label_str, "{66c4e4}Árbol (%d)\n\n"WHITE"Pulsa "CYAN"'~k~~CONVERSATION_YES~' "WHITE"para talar el árbol.", tree);
	UpdateDynamic3DTextLabelText(LUMBER_TREES[ tree ][lumber_tree_LABEL], -1, label_str);
	return 1;
}

CreateFlashObject(Float:x, Float:y, Float:z)
{
    // Usamos CreateDynamicObject
    // El -1, -1 asegura que el flash se vea incluso si te están tomando una foto dentro de un interior
    new oid = CreateDynamicObject(18680, x, y, z, 0.0, 0.0, 0.0, -1, -1);
    
    SetTimerEx("DestroyFlashObject", 1000, false, "i", oid);
    return 1;
}

forward DestroyFlashObject(objectid);
public DestroyFlashObject(objectid)
{
    // Usamos IsValidDynamicObject para evitar warnings en la consola
    if(IsValidDynamicObject(objectid))
    {
        DestroyDynamicObject(objectid);
    }
    return 1;
}


// Definimos identificadores de ítems para el inventario
enum {
    INV_NONE = 0,
    INV_MEDICINE,
    INV_MARIHUANA,
    INV_CRACK,
    INV_BOLSILLO,
    INV_UTILIDADES,
    INV_MOVIL
}

ShowPlayerInventory(playerid, pid)
{
    if(!IsPlayerConnected(pid)) return 0;
    if(PI[pid][pi_ID] == 0) return 0;

    new caption[64], dialog[2100], line_str[150], listitem_id = 0;
    format(caption, sizeof caption, "{00FF3A}[Inventario] {ffffff} %s", PLAYER_TEMP[pid][pt_RP_NAME]);

    // Limpiamos el array temporal
    for(new i = 0; i < MAX_LISTITEMS; i++) PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][i] = INV_NONE;

    // --- DINERO Y LICENCIAS ---
    format(line_str, sizeof line_str, "{C0C0C0}Dinero:\t\t{FFFFFF}%s{00FF00}$\n", number_format_thousand(PI[pid][pi_CASH]));
    strcat(dialog, line_str);
    listitem_id++; 
    
    if(PI[pid][pi_DRIVE_LICENSE_POINTS] > 0) {
        format(line_str, sizeof line_str, "{C0C0C0}Lic. Conducir:\t{FFFFFF}Sí, %d puntos\n", PI[pid][pi_DRIVE_LICENSE_POINTS]);
    }
    else {
        format(line_str, sizeof line_str, "{C0C0C0}Lic. Conducir:\t{FF5555}No tiene\n");
    }
    strcat(dialog, line_str);
    listitem_id++;

    // --- TELÉFONO ---
    if(PI[pid][pi_PHONE_NUMBER] > 0) {
        format(line_str, sizeof line_str, "{C0C0C0}Teléfono:\t\t{FFFFFF}#%d\n", PI[pid][pi_PHONE_NUMBER]);
        strcat(dialog, line_str);
        PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem_id] = INV_MOVIL;
        listitem_id++;
    }

    // --- PIEZAS DE MECÁNICO ---
    if(PI[pid][pi_MECHANIC_PIECES] > 0) {
        format(line_str, sizeof line_str, "{C0C0C0}Piezas de mecánico:\t{FFFFFF}%s\n", number_format_thousand(PI[pid][pi_MECHANIC_PIECES]));
        strcat(dialog, line_str);
        listitem_id++;
    }

    // --- DROGAS (CON ACCIÓN DE CONSUMO) ---
    if(PI[pid][pi_MEDICINE] > 0) {
        format(line_str, sizeof line_str, "{FFFFFF}Medicamentos: \t{FFFFFF}%dg\n", PI[pid][pi_MEDICINE]);
        strcat(dialog, line_str);
        PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem_id] = INV_MEDICINE;
        listitem_id++;
    }

    if(PI[pid][pi_CANNABIS] > 0) {
        format(line_str, sizeof line_str, "{FFFFFF}Marihuana: \t{FFFFFF}%dg\n", PI[pid][pi_CANNABIS]);
        strcat(dialog, line_str);
        PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem_id] = INV_MARIHUANA;
        listitem_id++;
    }

    if(PI[pid][pi_CRACK] > 0) {
        format(line_str, sizeof line_str, "{FFFFFF}Crack \t{FFFFFF}%dg\n", PI[pid][pi_CRACK]);
        strcat(dialog, line_str);
        PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem_id] = INV_CRACK;
        listitem_id++;
    }

    // --- SEMILLAS (INFORMATIVO) ---
    if(PI[pid][pi_SEED_MEDICINE] > 0) {
        format(line_str, sizeof line_str, "{42ADFF}Semillas Medicina:\t{FFFFFF}%d\n", PI[pid][pi_SEED_MEDICINE]);
        strcat(dialog, line_str);
        listitem_id++;
    }

    if(PI[pid][pi_SEED_CANNABIS] > 0) {
        format(line_str, sizeof line_str, "{FF5555}Semillas Marihuana:\t{FFFFFF}%d\n", PI[pid][pi_SEED_CANNABIS]);
        strcat(dialog, line_str);
        listitem_id++;
    }

    if(PI[pid][pi_SEED_CRACK] > 0) {
        format(line_str, sizeof line_str, "{FF5555}Semillas Coca:\t{FFFFFF}%d\n", PI[pid][pi_SEED_CRACK]);
        strcat(dialog, line_str);
        listitem_id++;
    }

        // --- ACCIÓN ESPECIAL AL FINAL (CORREGIDO) ---
    
    // 1. Añadimos el espacio vacío primero y le damos su ID de lista
    strcat(dialog, " \n"); 
    listitem_id++; // Esto ocupa el slot del espacio en blanco

    // 2. Ahora las opciones SIN el \n al principio para que no creen slots extra
    strcat(dialog, "{FFFFFF}» Ver Bolsillos\n");
    PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem_id] = INV_BOLSILLO;
    listitem_id++;
    
    strcat(dialog, "{FFFFFF}» Ver Utilidades");
    PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem_id] = INV_UTILIDADES; // Corregido el : por ;
    listitem_id++;
    
    Auto_SendPlayerAction(playerid, "mira su inventario.");

    Dialog_Show(playerid, "InventoryResponse", DIALOG_STYLE_LIST, caption, dialog, "Seleccionar", "xCerrar");
    return 1;
}

Dialog:InventoryResponse(playerid, response, listitem, inputtext[])
{
    if(!response) return 1;

    new item_action = PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem];

    switch(item_action)
    {
        case INV_MOVIL:
        {
            PC_EmulateCommand(playerid, "/tlf");
        }
        case INV_MEDICINE:
        {
            if(PLAYER_TEMP[playerid][pt_COOLDOWN_MEDICINE] > gettime()) 
                return SendFormatNotification(playerid, "Espera %d segundos.", PLAYER_TEMP[playerid][pt_COOLDOWN_MEDICINE] - gettime());

            if(PI[playerid][pi_MEDICINE] <= 0) return ShowPlayerMessage(playerid, "No tienes.", 2);

            PLAYER_TEMP[playerid][pt_COOLDOWN_MEDICINE] = gettime() + 20;
            PI[playerid][pi_MEDICINE] --;
            GivePlayerHealthEx(playerid, 20.0);
            Auto_SendPlayerAction(playerid, "se toma un medicamento.");
            ApplyAnimation(playerid, "FOOD", "EAT_Burger", 4.1, false, true, true, false, 1000, 1);
        }
        case INV_MARIHUANA:
        {
            if(PLAYER_TEMP[playerid][pt_COOLDOWN_WEED] > gettime()) 
                return SendFormatNotification(playerid, "Espera %d segundos.", PLAYER_TEMP[playerid][pt_COOLDOWN_WEED] - gettime());

            if(PI[playerid][pi_CANNABIS] <= 0) return ShowPlayerMessage(playerid, "No tienes.", 2);

            PLAYER_TEMP[playerid][pt_COOLDOWN_WEED] = gettime() + 30;
            PI[playerid][pi_CANNABIS] --;
            GivePlayerHealthEx(playerid, 20.0);
            Auto_SendPlayerAction(playerid, "consume marihuana.");
            GivePlayerDrunkLevel(playerid, 1000);
            ApplyAnimation(playerid, "FOOD", "EAT_Burger", 4.1, false, true, true, false, 1000, 1);
        }
        case INV_CRACK:
        {
            if(PLAYER_TEMP[playerid][pt_COOLDOWN_CRACK] > gettime()) 
                return SendFormatNotification(playerid, "Espera %d segundos.", PLAYER_TEMP[playerid][pt_COOLDOWN_CRACK] - gettime());

            if(PI[playerid][pi_CRACK] <= 0) return ShowPlayerMessage(playerid, "No tienes.", 2);

            PLAYER_TEMP[playerid][pt_COOLDOWN_CRACK] = gettime() + 40;
            PI[playerid][pi_CRACK] --;
            GivePlayerArmourEx(playerid, 20.0);
            Auto_SendPlayerAction(playerid, "consume crack.");
            GivePlayerDrunkLevel(playerid, 2000);
            ApplyAnimation(playerid, "FOOD", "EAT_Burger", 4.1, false, true, true, false, 1000, 1);
        }
        case INV_BOLSILLO:
        {
            PC_EmulateCommand(playerid, "/bolsillo");
        }
        case (INV_UTILIDADES):
        {
            PC_EmulateCommand(playerid, "/utilidades");
        }
    }
    return 1;
}


CountPlayerToys(playerid)
{
	new toys;

	for(new i = 0; i != MAX_SU_TOYS; i ++)
	{
		if(PLAYER_TOYS[playerid][i][player_toy_VALID])
		{
			toys ++;
		}
	}
	return toys;
}

// Puedes añadir esto a tu enum de IDs temporales
enum {
    SKILL_NONE = 0,
    SKILL_BOLSILLOS,
    SKILL_UTILIDADES
}

ShowPlayerSkills(playerid, pid) 
{
    if(!IsPlayerConnected(pid)) return 0;
    if(PI[pid][pi_ID] == 0) return 0;
    
    new caption[64], line_str[128], dialog[2000], listitem_id = 0;
    format(caption, sizeof caption, "{00FF3A}[Experiencia] {ffffff} %s", PLAYER_TEMP[pid][pt_RP_NAME]);
    
    // Limpiamos el array para evitar bugs de clicks anteriores
    for(new i = 0; i < MAX_LISTITEMS; i++) PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][i] = SKILL_NONE;

    // --- SECCIÓN CUENTA ---
    strcat(dialog, "{42ADFF}>> CUENTA <<\n");
    listitem_id++;

    format(line_str, sizeof line_str, "{C0C0C0}Nivel: \t\t{FFFFFF}%d\n", PI[pid][pi_LEVEL]);
    strcat(dialog, line_str); listitem_id++;
    
    new neccessary_rep = PI[pid][pi_LEVEL] * REP_MULTIPLIER;
    format(line_str, sizeof line_str, "{C0C0C0}Reputación: \t{FFFFFF}%d/%d\n", PI[pid][pi_REP], neccessary_rep);
    strcat(dialog, line_str); listitem_id++;
    
    new Float:hours;
    ConvertTime_SecondsToHoursFloat(PI[pid][pi_TIME_PLAYING], hours);
    format(line_str, sizeof line_str, "{C0C0C0}Horas totales: \t{FFFFFF}%.1f horas\n", hours);
    strcat(dialog, line_str); listitem_id++;
    
    // --- SECCIÓN TRABAJOS ---
    strcat(dialog, "{42ADFF}>> TRABAJOS <<\n");
    listitem_id++;
    
    for(new i = 1; i < sizeof work_info; i++)
    {
        if(i == WORK_POLICE)
        {
            if(PLAYER_WORKS[pid][WORK_POLICE][pwork_SET])
            {
                format(line_str, sizeof line_str, "{C0C0C0}%c%s: \t{3BF1B3}%s\n", toupper(work_info[i][work_info_NAME][0]), work_info[i][work_info_NAME][1], POLICE_RANKS[PLAYER_WORKS[pid][i][pwork_LEVEL]]);
                strcat(dialog, line_str); listitem_id++;
            }
        }
        else
        {
            format(line_str, sizeof line_str, "{C0C0C0}%c%s: \t{FFFFFF}%s exp.\n", toupper(work_info[i][work_info_NAME][0]), work_info[i][work_info_NAME][1], number_format_thousand(PLAYER_WORKS[pid][i][pwork_LEVEL]));
            strcat(dialog, line_str); listitem_id++;
        }
    }
    
        // --- OPCIONES FINALES (HASTA ABAJO) ---
    
    // 1. Añadimos una línea vacía para separar
    strcat(dialog, " \n"); 
    listitem_id++; // SUMAMOS UNO para que el click en el vacío no rompa los siguientes

    // 2. Ahora sí, Bolsillos
    strcat(dialog, "{FFFFFF}» Ver Bolsillos\n");
    PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem_id] = SKILL_BOLSILLOS;
    listitem_id++;

    // 3. Utilidades
    strcat(dialog, "{FFFFFF}» Ver Utilidades");
    PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem_id] = SKILL_UTILIDADES;
    listitem_id++;
   
    Dialog_Show(playerid, "SkillsResponse", DIALOG_STYLE_LIST, caption, dialog, "Seleccionar", "xCerrar");    
    return 1;
}

Dialog:SkillsResponse(playerid, response, listitem, inputtext[])
{
    if(!response) return 1;

    new action = PLAYER_TEMP[playerid][pt_PLAYER_LISTITEM][listitem];

    if(action == SKILL_BOLSILLOS) {
        PC_EmulateCommand(playerid, "/bolsillo");
    }
    else if(action == SKILL_UTILIDADES) {
        PC_EmulateCommand(playerid, "/utilidades");
    }
    return 1;
}

stock ConvertTime_SecondsToHoursFloat(sec, &Float:hours)
{
	hours = floatdiv(float(sec), 3600);
   	return 1;
}

CreatePlayerTrashRouteObjects(playerid, route)
{
	for(new i = 0; i != MAX_OBJECTS_PER_ROUTE; i ++)
	{
		TRASH_PLAYER_OBJECTS[playerid][i] = INVALID_STREAMER_ID;

		if(TRASH_OBJECTS[route][trash_object_MODELID][i] != 0)
		{
			TRASH_PLAYER_OBJECTS[playerid][i] = CreateDynamicObject(TRASH_OBJECTS[route][trash_object_MODELID][i], TRASH_OBJECTS[route][trash_object_X][i], TRASH_OBJECTS[route][trash_object_Y][i], TRASH_OBJECTS[route][trash_object_Z][i], TRASH_OBJECTS[route][trash_object_RX][i], TRASH_OBJECTS[route][trash_object_RY][i], TRASH_OBJECTS[route][trash_object_RZ][i], 0, 0, playerid);
		}
	}
	return 1;
}

DestroyPlayerTrashRouteObjects(playerid)
{
	for(new i = 0; i != MAX_OBJECTS_PER_ROUTE; i ++)
	{
		if(TRASH_PLAYER_OBJECTS[playerid][i] != INVALID_STREAMER_ID) DestroyDynamicObject(TRASH_PLAYER_OBJECTS[playerid][i]);
		TRASH_PLAYER_OBJECTS[playerid][i] = INVALID_STREAMER_ID;
	}
	return 1;
}

CreatePlayerFlashObject(playerid, Float:x, Float:y, Float:z)
{
	new oid = CreatePlayerObject(playerid, 18680, x, y, z, 0.0, 0.0, 0.0);
	SetTimerEx("DestroyPlayerFlashObject", 1000, false, "ii", playerid, oid);
	return 1;
}

forward DestroyPlayerFlashObject(playerid, objectid);
public DestroyPlayerFlashObject(playerid, objectid)
{
	return DestroyPlayerObject(playerid, objectid);
}

GetVehicleFirstPassenger(vehicleid)
{
	for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
	{
		if(IsPlayerConnected(i))
		{
			if(GetPlayerState(i) == PLAYER_STATE_PASSENGER)
			{
				if(PLAYER_TEMP[i][pt_GAME_STATE] == GAME_STATE_NORMAL)
				{
					if(GetPlayerVehicleID(i) == vehicleid)
					{
						return i;
					}
				}
			}
		}
	}
	return INVALID_PLAYER_ID;
}

CancelPlayerPlanting(playerid)
{
	KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][12]);
	PLAYER_TEMP[playerid][pt_PLANTING] = false;
	DestroyPlayerKeyPress(playerid);
	TogglePlayerControllableEx(playerid, true);
	ClearAnimations(playerid);
	return 1;
}

GetAvaiblePlantIndex()
{
	for(new i = 0; i != sizeof PLANTS; i ++)
	{
		if(!PLANTS[i][plant_VALID]) return i;
	}
	return -1;
}

forward GrowPlantUp(plant);
public GrowPlantUp(plant)
{
	if (!PLANTS[plant][plant_VALID] || !PLANTS[plant][plant_GROWING]) return 0;
	
	if (PLANTS[plant][plant_GROWING_PROGRESS] < 100.0)
	{
		PLANTS[plant][plant_GROWING_PROGRESS] += floatdiv(15, plant_info[ PLANTS[plant][plant_TYPE] ][plant_info_SEEDS]);
		if (PLANTS[plant][plant_GROWING_PROGRESS] > 100.0) PLANTS[plant][plant_GROWING_PROGRESS] = 100.0;
		
		if (PLANTS[plant][plant_INVISIBLE] && PLANTS[plant][plant_GROWING_PROGRESS] > 50.0)
		{
			PLANTS[plant][plant_INVISIBLE] = false;
		}
		
		new label_str[256];
		if (seed_info[ PLANTS[plant][plant_TYPE] ][seed_info_TYPE] == TYPE_LEGAL) format(label_str, sizeof label_str, "{009900}%s\n\n{F5F5F5}Agricultor: %s\n{F5F5F5}Creciendo... [%.1f]", plant_info[ PLANTS[plant][plant_TYPE] ][plant_info_NAME], PLANTS[plant][plant_PLANTED_BY_NAME], PLANTS[plant][plant_GROWING_PROGRESS]);
		else format(label_str, sizeof label_str, "{FF3300}%s\n\n{F5F5F5}Agricultor: %s\n{F5F5F5}Creciendo... [%.1f]", plant_info[ PLANTS[plant][plant_TYPE] ][plant_info_NAME], PLANTS[plant][plant_PLANTED_BY_NAME], PLANTS[plant][plant_GROWING_PROGRESS]);
		UpdateDynamic3DTextLabelText(PLANTS[plant][plant_LABEL_ID], -1, label_str);
		
		KillTimer(PLANTS[plant][plant_TIMER]);
		PLANTS[plant][plant_TIMER] = SetTimerEx("GrowPlantUp", 5000, false, "d", plant);
		return 1;
	}
	
	PLANTS[plant][plant_GROWING] = false;
	PLANTS[plant][plant_EXPIRE_TIME] = 600;
		
	new label_str[256];
	if (seed_info[ PLANTS[plant][plant_TYPE] ][seed_info_TYPE] == TYPE_LEGAL) format(label_str, sizeof label_str, "{009900}%s\n\n{F5F5F5}Agricultor: %s\n{F5F5F5}Usa {daef1c}H {F5F5F5}para recogerla\n\n{F5F5F5}Expira en %sm", plant_info[ PLANTS[plant][plant_TYPE] ][plant_info_NAME], PLANTS[plant][plant_PLANTED_BY_NAME], TimeConvert(PLANTS[plant][plant_EXPIRE_TIME]));
	else format(label_str, sizeof label_str, "{FF3300}%s\n\n{F5F5F5}Agricultor: %s\n{F5F5F5}Usa {daef1c}Y {F5F5F5}para recogerla\n\n{F5F5F5}Expira en %sm", plant_info[ PLANTS[plant][plant_TYPE] ][plant_info_NAME], PLANTS[plant][plant_PLANTED_BY_NAME], TimeConvert(PLANTS[plant][plant_EXPIRE_TIME]));
	UpdateDynamic3DTextLabelText(PLANTS[plant][plant_LABEL_ID], -1, label_str);
	
	KillTimer(PLANTS[plant][plant_TIMER]);
	PLANTS[plant][plant_TIMER] = SetTimerEx("ExpirePlantTime", 1000, false, "d", plant);
	return 1;
}

forward ExpirePlantTime(plant);
public ExpirePlantTime(plant)
{
	if (!PLANTS[plant][plant_VALID]) return 0;
	
	if (PLANTS[plant][plant_EXPIRE_TIME] > 0)
	{
		PLANTS[plant][plant_EXPIRE_TIME] --;
		
		new label_str[256];
		if (seed_info[ PLANTS[plant][plant_TYPE] ][seed_info_TYPE] == TYPE_LEGAL) format(label_str, sizeof label_str, "{009900}%s\n\n{F5F5F5}Agricultor: %s\n{F5F5F5}Usa {daef1c}H {F5F5F5}para recogerla\n\n{F5F5F5}Expira en %sm", plant_info[ PLANTS[plant][plant_TYPE] ][plant_info_NAME], PLANTS[plant][plant_PLANTED_BY_NAME], TimeConvert(PLANTS[plant][plant_EXPIRE_TIME]));
		else format(label_str, sizeof label_str, "{FF3300}%s\n\n{F5F5F5}Agricultor: %s\n{F5F5F5}Usa {daef1c}Y {F5F5F5}para recogerla\n\n{F5F5F5}Expira en %sm", plant_info[ PLANTS[plant][plant_TYPE] ][plant_info_NAME], PLANTS[plant][plant_PLANTED_BY_NAME], TimeConvert(PLANTS[plant][plant_EXPIRE_TIME]));
		UpdateDynamic3DTextLabelText(PLANTS[plant][plant_LABEL_ID], -1, label_str);
		
		KillTimer(PLANTS[plant][plant_TIMER]);
		PLANTS[plant][plant_TIMER] = SetTimerEx("ExpirePlantTime", 1000, false, "d", plant);
		return 1;
	}
	
	new Float:pos[3];
	GetDynamicObjectPos(PLANTS[plant][plant_OBJECT_ID], pos[0], pos[1], pos[2]);
	CreateFlashObject(pos[0], pos[1], pos[2] - 1.3);
	
	DestroyDynamicObject(PLANTS[plant][plant_OBJECT_ID]);
	DestroyDynamic3DTextLabel(PLANTS[plant][plant_LABEL_ID]);
	
	new tmp_PLANTS[PLANTS_ENUM]; PLANTS[plant] = tmp_PLANTS;
	return 1;
}

CMD:recoger(playerid, params[])
{
	//if(!IsPlayerInDynamicArea(playerid, Farmer_Area)) return 1;
	
	if(PI[playerid][pi_MANO_DER] != 118) return SendNotification(playerid, "No tienes ~y~cuchillo ~w~para cortar la planta.");
	if(GetPlayerState(playerid) != PLAYER_STATE_ONFOOT) return SendNotification(playerid, "No estás depie.");

	for(new i = 0; i != MAX_PLANTS; i ++)
	{
		if(!PLANTS[i][plant_VALID] || PLANTS[i][plant_GROWING]) continue;

		new Float:pos[3];
		GetDynamicObjectPos(PLANTS[i][plant_OBJECT_ID], pos[0], pos[1], pos[2]);

		if(IsPlayerInRangeOfPoint(playerid, 1.5, pos[0], pos[1], pos[2]) && PLANTS[i][plant_VIRTUAL_WORLD] == GetPlayerVirtualWorld(playerid))
		{
			if(PLANTS[i][plant_IMMUNITY] > 0 && PLANTS[i][plant_PLANTED_BY_ACCOUNT_ID] != PI[playerid][pi_ID]) return SendFormatNotification(playerid, "Esta planta tiene tiempo de inmunidad.");

			KillTimer(PLANTS[i][plant_TIMER]);
			switch(seed_info[ PLANTS[i][plant_TYPE] ][seed_info_PLANT_TYPE])
			{
				case PLANT_TYPE_MEDICINE:
				{
					PI[playerid][pi_MEDICINE] += 2;
					SendNotification(playerid, "Has recogido la planta y has obtenido ~g~2 gramos de medicamento~w~.");
				}
				case PLANT_TYPE_CANNABIS:
				{
					PI[playerid][pi_CANNABIS] += 6;
					SendNotification(playerid, "Has recogido la planta y has obtenido ~g~6 gramos de marihuana~w~.");
				}
				case PLANT_TYPE_CRACK:
				{
					PI[playerid][pi_CRACK] += 4;
					SendNotification(playerid, "Has recogido la planta y has obtenido ~g~4 gramos de crack~w~.");
				}
			}
			
			if(PI[playerid][pi_DER_CANT] > 1) {PI[playerid][pi_DER_CANT] --;}else{PI[playerid][pi_DER_CANT] = 0;PI[playerid][pi_MANO_DER] = 0;}

			DestroyDynamicObject(PLANTS[i][plant_OBJECT_ID]);
			DestroyDynamic3DTextLabel(PLANTS[i][plant_LABEL_ID]);
			ApplyAnimation(playerid, "CARRY", "putdwn05", 4.1, 0, 1, 1, 0, 0, 1);

			new tmp_PLANTS[PLANTS_ENUM]; PLANTS[i] = tmp_PLANTS;
			return 1;
		}
	}
	return 1;
}

public OnPlayerShootDynamicObject(playerid, weaponid, objectid, Float:x, Float:y, Float:z)
{
	if(IsPlayerInDynamicArea(playerid, Farmer_Area))
	{
		new info[3];
		Streamer_GetArrayData(STREAMER_TYPE_OBJECT, objectid, E_STREAMER_EXTRA_ID, info);

		if(info[0] == OBJECT_TYPE_PLANT)
		{
			KillTimer(PLANTS[info[1]][plant_TIMER]);

			new Float:pos[3];
			GetDynamicObjectPos(PLANTS[info[1]][plant_OBJECT_ID], pos[0], pos[1], pos[2]);
			CreateFlashObject(pos[0], pos[1], pos[2] - 1.3);

			DestroyDynamicObject(PLANTS[info[1]][plant_OBJECT_ID]);
			DestroyDynamic3DTextLabel(PLANTS[info[1]][plant_LABEL_ID]);

			new tmp_PLANTS[PLANTS_ENUM]; PLANTS[info[1]] = tmp_PLANTS;
		}
	}
	return 1;
}

ShowPlayerGpsMap(playerid)
{
	PLAYER_TEMP[playerid][pt_GPS_MAP] = true;
	TextDrawShowForPlayer(playerid, Textdraws[textdraw_GPS_MAP][0]);
	TextDrawShowForPlayer(playerid, Textdraws[textdraw_GPS_MAP][2]);
	TextDrawShowForPlayer(playerid, Textdraws[textdraw_GPS_MAP][1]);

	UpdatePlayer_GPS_Map(playerid);

	KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][13]);
	PLAYER_TEMP[playerid][pt_TIMERS][13] = SetTimerEx("UpdatePlayer_GPS_Map", 1000, true, "i", playerid);
	return 1;
}

HidePlayerGpsMap(playerid)
{
	KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][13]);
	PLAYER_TEMP[playerid][pt_GPS_MAP] = false;
	TextDrawHideForPlayer(playerid, Textdraws[textdraw_GPS_MAP][0]);
	TextDrawHideForPlayer(playerid, Textdraws[textdraw_GPS_MAP][1]);
	TextDrawHideForPlayer(playerid, Textdraws[textdraw_GPS_MAP][2]);
	TextDrawHideForPlayer(playerid, Textdraws[textdraw_GPS_MAP][3]);

	for(new i = 0; i != MAX_PLAYER_MAP_GPS_POINTS; i ++)
	{
		if(PlayerTextdraws[playerid][ptextdraw_PLAYER_GPS_MAP][i] != PlayerText:INVALID_TEXT_DRAW)
		{
			PlayerTextDrawDestroy(playerid, PlayerTextdraws[playerid][ptextdraw_PLAYER_GPS_MAP][i]);
			PlayerTextdraws[playerid][ptextdraw_PLAYER_GPS_MAP][i] = PlayerText:INVALID_TEXT_DRAW;
		}
	}
	return 1;
}

forward UpdatePlayer_GPS_Map(playerid);
public UpdatePlayer_GPS_Map(playerid)
{
	/*
		0 - playerpos
		1 - cp gps
		2 - cp works
		3 > cp works

	*/
	if(!PLAYER_TEMP[playerid][pt_GPS_MAP]) return KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][13]);

	new Float:pos[3];

	switch(PI[playerid][pi_STATE])
	{
		case ROLEPLAY_STATE_INTERIOR:
		{
			pos[0] = ENTER_EXIT[ PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] ][ee_EXT_X];
			pos[1] = ENTER_EXIT[ PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] ][ee_EXT_Y];
		}
		case ROLEPLAY_STATE_OWN_PROPERTY, ROLEPLAY_STATE_GUEST_PROPERTY:
		{
			pos[0] = PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PROPERTY_INDEX] ][property_EXT_X];
			pos[1] = PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PROPERTY_INDEX] ][property_EXT_Y];
		}
		default: GetPlayerPos(playerid, pos[0], pos[1], pos[2]);
	}
	SetPlayerPoint_GPS_Map(0, playerid, "hud:radar_waypoint", -1, 5.0, 5.0, pos[0], pos[1]);

	if(IsValidDynamicCP(PLAYER_TEMP[playerid][pt_GPS_CHECKPOINT]))
	{
		new Float:gps_cp_pos[2];
		Streamer_GetFloatData(STREAMER_TYPE_CP, PLAYER_TEMP[playerid][pt_GPS_CHECKPOINT], E_STREAMER_X, gps_cp_pos[0]);
		Streamer_GetFloatData(STREAMER_TYPE_CP, PLAYER_TEMP[playerid][pt_GPS_CHECKPOINT], E_STREAMER_Y, gps_cp_pos[1]);
		SetPlayerPoint_GPS_Map(1, playerid, "LD_SPAC:white", 0xaa0000ff, 3.0, 3.0, gps_cp_pos[0], gps_cp_pos[1]);
	}
	else
	{
		if(PlayerTextdraws[playerid][ptextdraw_PLAYER_GPS_MAP][1] != PlayerText:INVALID_TEXT_DRAW)
		{
			PlayerTextDrawDestroy(playerid, PlayerTextdraws[playerid][ptextdraw_PLAYER_GPS_MAP][1]);
			PlayerTextdraws[playerid][ptextdraw_PLAYER_GPS_MAP][1] = PlayerText:INVALID_TEXT_DRAW;
		}
	}

	switch(PLAYER_TEMP[playerid][pt_WORKING_IN])
	{
		case WORK_NONE:
		{
			if(PlayerTextdraws[playerid][ptextdraw_PLAYER_GPS_MAP][2] != PlayerText:INVALID_TEXT_DRAW)
			{
				PlayerTextDrawDestroy(playerid, PlayerTextdraws[playerid][ptextdraw_PLAYER_GPS_MAP][2]);
				PlayerTextdraws[playerid][ptextdraw_PLAYER_GPS_MAP][2] = PlayerText:INVALID_TEXT_DRAW;
			}
		}
		case WORK_TRUCK:
		{
			if(IsValidDynamicCP(PLAYER_TEMP[playerid][pt_TRUCK_CHECKPOINT]))
			{
				new Float:gps_cp_pos[2];
				Streamer_GetFloatData(STREAMER_TYPE_CP, PLAYER_TEMP[playerid][pt_TRUCK_CHECKPOINT], E_STREAMER_X, gps_cp_pos[0]);
				Streamer_GetFloatData(STREAMER_TYPE_CP, PLAYER_TEMP[playerid][pt_TRUCK_CHECKPOINT], E_STREAMER_Y, gps_cp_pos[1]);
				SetPlayerPoint_GPS_Map(2, playerid, "LD_SPAC:white", 0xaa0000ff, 3.0, 3.0, gps_cp_pos[0], gps_cp_pos[1]);
			}
			else
			{
				if(PlayerTextdraws[playerid][ptextdraw_PLAYER_GPS_MAP][2] != PlayerText:INVALID_TEXT_DRAW)
				{
					PlayerTextDrawDestroy(playerid, PlayerTextdraws[playerid][ptextdraw_PLAYER_GPS_MAP][2]);
					PlayerTextdraws[playerid][ptextdraw_PLAYER_GPS_MAP][2] = PlayerText:INVALID_TEXT_DRAW;
				}
			}
		}
		case WORK_BUS:
		{
			if(IsValidDynamicRaceCP(PLAYER_TEMP[playerid][pt_BUS_CHECKPOINT]))
			{
				new Float:gps_cp_pos[2];
				Streamer_GetFloatData(STREAMER_TYPE_RACE_CP, PLAYER_TEMP[playerid][pt_BUS_CHECKPOINT], E_STREAMER_X, gps_cp_pos[0]);
				Streamer_GetFloatData(STREAMER_TYPE_RACE_CP, PLAYER_TEMP[playerid][pt_BUS_CHECKPOINT], E_STREAMER_Y, gps_cp_pos[1]);
				SetPlayerPoint_GPS_Map(2, playerid, "LD_SPAC:white", 0xaa0000ff, 3.0, 3.0, gps_cp_pos[0], gps_cp_pos[1]);
			}
			else
			{
				if(PlayerTextdraws[playerid][ptextdraw_PLAYER_GPS_MAP][2] != PlayerText:INVALID_TEXT_DRAW)
				{
					PlayerTextDrawDestroy(playerid, PlayerTextdraws[playerid][ptextdraw_PLAYER_GPS_MAP][2]);
					PlayerTextdraws[playerid][ptextdraw_PLAYER_GPS_MAP][2] = PlayerText:INVALID_TEXT_DRAW;
				}
			}
		}
		case WORK_TRASH:
		{
			if(IsValidDynamicCP(PLAYER_TEMP[playerid][pt_TRASH_CHECKPOINT]))
			{
				new Float:gps_cp_pos[2];
				Streamer_GetFloatData(STREAMER_TYPE_CP, PLAYER_TEMP[playerid][pt_TRASH_CHECKPOINT], E_STREAMER_X, gps_cp_pos[0]);
				Streamer_GetFloatData(STREAMER_TYPE_CP, PLAYER_TEMP[playerid][pt_TRASH_CHECKPOINT], E_STREAMER_Y, gps_cp_pos[1]);
				SetPlayerPoint_GPS_Map(2, playerid, "LD_SPAC:white", 0xaa0000ff, 3.0, 3.0, gps_cp_pos[0], gps_cp_pos[1]);
			}
			else
			{
				if(PlayerTextdraws[playerid][ptextdraw_PLAYER_GPS_MAP][2] != PlayerText:INVALID_TEXT_DRAW)
				{
					PlayerTextDrawDestroy(playerid, PlayerTextdraws[playerid][ptextdraw_PLAYER_GPS_MAP][2]);
					PlayerTextdraws[playerid][ptextdraw_PLAYER_GPS_MAP][2] = PlayerText:INVALID_TEXT_DRAW;
				}
			}
		}
		case WORK_LUMBERJACK:
		{
			if(IsValidDynamicCP(PLAYER_TEMP[playerid][pt_LUMBERJACK_CHECKPOINT]))
			{
				new Float:gps_cp_pos[2];
				Streamer_GetFloatData(STREAMER_TYPE_CP, PLAYER_TEMP[playerid][pt_LUMBERJACK_CHECKPOINT], E_STREAMER_X, gps_cp_pos[0]);
				Streamer_GetFloatData(STREAMER_TYPE_CP, PLAYER_TEMP[playerid][pt_LUMBERJACK_CHECKPOINT], E_STREAMER_Y, gps_cp_pos[1]);
				SetPlayerPoint_GPS_Map(2, playerid, "LD_SPAC:white", 0xaa0000ff, 3.0, 3.0, gps_cp_pos[0], gps_cp_pos[1]);
			}
			else
			{
				if(PlayerTextdraws[playerid][ptextdraw_PLAYER_GPS_MAP][2] != PlayerText:INVALID_TEXT_DRAW)
				{
					PlayerTextDrawDestroy(playerid, PlayerTextdraws[playerid][ptextdraw_PLAYER_GPS_MAP][2]);
					PlayerTextdraws[playerid][ptextdraw_PLAYER_GPS_MAP][2] = PlayerText:INVALID_TEXT_DRAW;
				}
			}
		}
		case WORK_PIZZA:
		{
			if(IsValidDynamicCP(PLAYER_TEMP[playerid][pt_PIZZA_CHECKPOINT]))
			{
				new Float:gps_cp_pos[2];
				Streamer_GetFloatData(STREAMER_TYPE_CP, PLAYER_TEMP[playerid][pt_PIZZA_CHECKPOINT], E_STREAMER_X, gps_cp_pos[0]);
				Streamer_GetFloatData(STREAMER_TYPE_CP, PLAYER_TEMP[playerid][pt_PIZZA_CHECKPOINT], E_STREAMER_Y, gps_cp_pos[1]);
				SetPlayerPoint_GPS_Map(2, playerid, "LD_SPAC:white", 0xaa0000ff, 3.0, 3.0, gps_cp_pos[0], gps_cp_pos[1]);
			}
			else
			{
				if(PlayerTextdraws[playerid][ptextdraw_PLAYER_GPS_MAP][2] != PlayerText:INVALID_TEXT_DRAW)
				{
					PlayerTextDrawDestroy(playerid, PlayerTextdraws[playerid][ptextdraw_PLAYER_GPS_MAP][2]);
					PlayerTextdraws[playerid][ptextdraw_PLAYER_GPS_MAP][2] = PlayerText:INVALID_TEXT_DRAW;
				}
			}
		}
	}

	new cp_counts = 3;
	for(new d = cp_counts; d != MAX_PLAYER_MAP_GPS_POINTS; d ++)
	{
		if(PlayerTextdraws[playerid][ptextdraw_PLAYER_GPS_MAP][d] != PlayerText:INVALID_TEXT_DRAW)
		{
			PlayerTextDrawDestroy(playerid, PlayerTextdraws[playerid][ptextdraw_PLAYER_GPS_MAP][d]);
			PlayerTextdraws[playerid][ptextdraw_PLAYER_GPS_MAP][d] = PlayerText:INVALID_TEXT_DRAW;
		}
	}

	if(cp_counts >= MAX_PLAYER_MAP_GPS_POINTS) return 1;
	switch(PLAYER_TEMP[playerid][pt_WORKING_IN])
	{
		case WORK_TAXI:
		{
			for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
			{
				if(IsPlayerConnected(i))
				{
					if(PLAYER_TEMP[i][pt_GAME_STATE] == GAME_STATE_NORMAL)
					{
						if(PLAYER_TEMP[i][pt_WANT_TAXI])
						{
							if(cp_counts >= MAX_PLAYER_MAP_GPS_POINTS) break;

							new Float:player_pos[3];
							switch(PI[i][pi_STATE])
							{
								case ROLEPLAY_STATE_INTERIOR:
								{
									player_pos[0] = ENTER_EXIT[ PLAYER_TEMP[i][pt_INTERIOR_INDEX] ][ee_EXT_X];
									player_pos[1] = ENTER_EXIT[ PLAYER_TEMP[i][pt_INTERIOR_INDEX] ][ee_EXT_Y];
								}
								case ROLEPLAY_STATE_OWN_PROPERTY, ROLEPLAY_STATE_GUEST_PROPERTY:
								{
									player_pos[0] = PROPERTY_INFO[ PLAYER_TEMP[i][pt_PROPERTY_INDEX] ][property_EXT_X];
									player_pos[1] = PROPERTY_INFO[ PLAYER_TEMP[i][pt_PROPERTY_INDEX] ][property_EXT_Y];
								}
								default: GetPlayerPos(i, player_pos[0], player_pos[1], player_pos[2]);
							}
							SetPlayerPoint_GPS_Map(cp_counts, playerid, "LD_SPAC:white", 0xf2f224FF, 3.0, 3.0, player_pos[0], player_pos[1]);
							cp_counts ++;
						}
					}
				}
			}
		}
		case WORK_POLICE:
		{
			for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
			{
				if(IsPlayerConnected(i))
				{
					if(PLAYER_TEMP[i][pt_GAME_STATE] == GAME_STATE_NORMAL)
					{
						if(PI[i][pi_WANTED_LEVEL] > 0)
						{
							if(cp_counts >= MAX_PLAYER_MAP_GPS_POINTS) break;

							new Float:player_pos[3];
							switch(PI[i][pi_STATE])
							{
								case ROLEPLAY_STATE_INTERIOR:
								{
									if(PLAYER_TEMP[i][pt_INTERIOR_INDEX] == -1)
									{
										printf("[debug] Player id %d tiene interior index -1 estando en ROLEPLAY_STATE_INTERIOR");
										//PrintBacktrace();
										continue;
									}
									player_pos[0] = ENTER_EXIT[ PLAYER_TEMP[i][pt_INTERIOR_INDEX] ][ee_EXT_X];
									player_pos[1] = ENTER_EXIT[ PLAYER_TEMP[i][pt_INTERIOR_INDEX] ][ee_EXT_Y];
								}
								case ROLEPLAY_STATE_OWN_PROPERTY, ROLEPLAY_STATE_GUEST_PROPERTY:
								{
									if(PLAYER_TEMP[i][pt_PROPERTY_INDEX] == -1)
									{
										printf("[debug] Player id %d tiene property index -1 estando en pt_PROPERTY_INDEX");
										//PrintBacktrace();
										continue;
									}
									player_pos[0] = PROPERTY_INFO[ PLAYER_TEMP[i][pt_PROPERTY_INDEX] ][property_EXT_X];
									player_pos[1] = PROPERTY_INFO[ PLAYER_TEMP[i][pt_PROPERTY_INDEX] ][property_EXT_Y];
								}
								default: GetPlayerPos(i, player_pos[0], player_pos[1], player_pos[2]);
							}
							SetPlayerPoint_GPS_Map(cp_counts, playerid, "LD_SPAC:white", PlayerWantedColor(i), 3.0, 3.0, player_pos[0], player_pos[1]);
							cp_counts ++;
						}
					}
				}
			}
		}
		case WORK_MEDIC:
		{
			for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
			{
				if(IsPlayerConnected(i))
				{
					if(PLAYER_TEMP[i][pt_GAME_STATE] == GAME_STATE_NORMAL)
					{
						if(PI[i][pi_STATE] == ROLEPLAY_STATE_CRACK)
						{
							if(cp_counts >= MAX_PLAYER_MAP_GPS_POINTS) break;

							new Float:player_pos[3];
							GetPlayerPos(i, player_pos[0], player_pos[1], player_pos[2]);
							SetPlayerPoint_GPS_Map(cp_counts, playerid, "LD_SPAC:white", 0x4aba00FF, 3.0, 3.0, player_pos[0], player_pos[1]);
							cp_counts ++;
						}
					}
				}
			}
		}
	}
	return 1;
}

SetPlayerPoint_GPS_Map(index, playerid, icon[], color, Float:icon_size_X, Float:icon_size_Y, Float:x, Float:y)
{
	new Float:td_X, Float:td_Y,
		Float:converted_MAP_SIZE_X = floatdiv(map_td_SIZE_X, 2),
		Float:converted_MAP_SIZE_Y = floatdiv(map_td_SIZE_Y, 2),
		Float:converted_ICON_SIZE_X = floatdiv(icon_size_X, 2),
		Float:converted_ICON_SIZE_Y = floatdiv(icon_size_Y, 2);

	if(x > 3000.0) x = 3000.0;
	else if(x < -3000.0) x = -3000.0;

	if(y > 3000.0) y = 3000.0;
	else if(y < -3000.0) y = -3000.0;

	td_X = map_td_X + floatmul(floatdiv(converted_MAP_SIZE_X, 3000), x) + converted_MAP_SIZE_X - converted_ICON_SIZE_X;
	td_Y = map_td_Y + floatmul(floatdiv(-converted_MAP_SIZE_Y, 3000), y) + converted_MAP_SIZE_Y- converted_ICON_SIZE_Y;

	if(PlayerTextdraws[playerid][ptextdraw_PLAYER_GPS_MAP][index] != PlayerText:INVALID_TEXT_DRAW)
	{
		PlayerTextDrawDestroy(playerid, PlayerTextdraws[playerid][ptextdraw_PLAYER_GPS_MAP][index]);
		PlayerTextdraws[playerid][ptextdraw_PLAYER_GPS_MAP][index] = PlayerText:INVALID_TEXT_DRAW;
	}

	PlayerTextdraws[playerid][ptextdraw_PLAYER_GPS_MAP][index] = CreatePlayerTextDraw(playerid, td_X, td_Y, icon);
	PlayerTextDrawLetterSize(playerid, PlayerTextdraws[playerid][ptextdraw_PLAYER_GPS_MAP][index], 0.160333, 1.280592);
	PlayerTextDrawTextSize(playerid, PlayerTextdraws[playerid][ptextdraw_PLAYER_GPS_MAP][index], icon_size_X, icon_size_Y);
	PlayerTextDrawAlignment(playerid, PlayerTextdraws[playerid][ptextdraw_PLAYER_GPS_MAP][index], 1);
	PlayerTextDrawColor(playerid, PlayerTextdraws[playerid][ptextdraw_PLAYER_GPS_MAP][index], color);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_PLAYER_GPS_MAP][index], 0);
	PlayerTextDrawSetOutline(playerid, PlayerTextdraws[playerid][ptextdraw_PLAYER_GPS_MAP][index], 0);
	PlayerTextDrawBackgroundColor(playerid, PlayerTextdraws[playerid][ptextdraw_PLAYER_GPS_MAP][index], 255);
	PlayerTextDrawFont(playerid, PlayerTextdraws[playerid][ptextdraw_PLAYER_GPS_MAP][index], 4);
	PlayerTextDrawSetProportional(playerid, PlayerTextdraws[playerid][ptextdraw_PLAYER_GPS_MAP][index], 0);
	PlayerTextDrawSetShadow(playerid, PlayerTextdraws[playerid][ptextdraw_PLAYER_GPS_MAP][index], 0);
	PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_PLAYER_GPS_MAP][index]);
	return 1;
}

#define lc_limit_X_WEST 4000.0
#define lc_limit_X_EAST 7500.0
#define lc_limit_Y_NORTH 6900.0
#define lc_limit_Y_SOUTH 4150.0

stock Lc3dTo2d(Float:map_x, Float:map_y, Float:map_size_x, Float:map_size_y, Float:x, Float:y, Float:z, &Float:td_x, &Float:td_y)
{
	#pragma unused z

	/* Map limits */
	if(x > lc_limit_X_EAST) x = lc_limit_X_EAST;
	else if(x < lc_limit_X_WEST) x = lc_limit_X_WEST;

	if(y > lc_limit_Y_NORTH) y = lc_limit_Y_NORTH;
	else if(y < lc_limit_Y_SOUTH) y = lc_limit_Y_SOUTH;

	/* Calculations */
	new Float:map_width = floatsub(lc_limit_X_EAST, lc_limit_X_WEST),
		Float:prop_X = floatdiv(map_size_x, map_width),
		Float:mv_X = floatsub(map_width, lc_limit_X_EAST);

	new Float:map_height = floatsub(lc_limit_Y_SOUTH, lc_limit_Y_NORTH),
		Float:prop_Y = floatdiv(map_size_y, map_height),
		Float:mv_Y = floatsub(map_height, lc_limit_Y_SOUTH);

	/* Conversion */
	x += mv_X;
	y += mv_Y;

	/* Result */
	td_x = map_x + floatmul(prop_X, x),
	td_y = map_y + floatmul(prop_Y, y);
	return 1;
}

/*stock GetIconTextdraw(iconid)
{
	new td_icon[24];

	switch(iconid)
	{
		case 2: td_icon = "hud:radar_centre";
		case 3: td_icon = "hud:arrow";
		case 4: td_icon = "hud:radar_north";
		case 5: td_icon = "hud:radar_airyard";
		case 6: td_icon = "hud:radar_ammugun";
		case 7: td_icon = "hud:radar_barbers";
		case 8: td_icon = "hud:radar_bigsmoke";
		case 9: td_icon = "hud:radar_boatyard";
		case 10: td_icon = "hud:radar_burgershot";
		case 11: td_icon = "hud:radar_bulldozer";
		case 12: td_icon = "hud:radar_catalinapink";
		case 13: td_icon = "hud:radar_cesarviapando";
		case 14: td_icon = "hud:radar_chicken";
		case 15: td_icon = "hud:radar_cj";
		case 16: td_icon = "hud:radar_crash1";
		case 17: td_icon = "hud:radar_diner";
		case 18: td_icon = "hud:radar_emmetgun";
		case 19: td_icon = "hud:radar_enemyattack";
		case 20: td_icon = "hud:radar_fire";
		case 21: td_icon = "hud:radar_girlfriend";
		case 22: td_icon = "hud:radar_hostpital";
		case 23: td_icon = "hud:radar_locosyndicate";
		case 24: td_icon = "hud:radar_maddog";
		case 25: td_icon = "hud:radar_mafiacasino";
		case 26: td_icon = "hud:radar_mcstrap";
		case 27: td_icon = "hud:radar_modgarage";
		case 28: td_icon = "hud:radar_ogloc";
		case 29: td_icon = "hud:radar_pizza";
		case 30: td_icon = "hud:radar_police";
		case 31: td_icon = "hud:radar_propertyg";
		case 32: td_icon = "hud:radar_propertyr";
		case 33: td_icon = "hud:radar_race";
		case 34: td_icon = "hud:radar_ryder";
		case 35: td_icon = "hud:radar_savegame";
		case 36: td_icon = "hud:radar_school";
		case 37: td_icon = "hud:radar_qmark";
		case 38: td_icon = "hud:radar_sweet";
		case 39: td_icon = "hud:radar_tattoo";
		case 40: td_icon = "hud:radar_thetruth";
		case 41: td_icon = "hud:radar_waypoint";
		case 42: td_icon = "hud:radar_toreno";
		case 43: td_icon = "hud:radar_triads";
		case 44: td_icon = "hud:radar_triadscasino";
		case 45: td_icon = "hud:radar_tshirt";
		case 46: td_icon = "hud:radar_woozie";
		case 47: td_icon = "hud:radar_zero";
		case 48: td_icon = "hud:radar_datedisco";
		case 49: td_icon = "hud:radar_datedrink";
		case 50: td_icon = "hud:radar_datefood";
		case 51: td_icon = "hud:radar_truck";
		case 52: td_icon = "hud:radar_cash";
		case 53: td_icon = "hud:radar_flag";
		case 54: td_icon = "hud:radar_gym";
		case 55: td_icon = "hud:radar_impound";
		case 56: td_icon = "hud:radar_light";
		case 57: td_icon = "hud:radar_runway";
		case 58: td_icon = "hud:radar_gangb";
		case 59: td_icon = "hud:radar_gangp";
		case 60: td_icon = "hud:radar_gangy";
		case 61: td_icon = "hud:radar_gangn";
		case 62: td_icon = "hud:radar_gangg";
		case 63: td_icon = "hud:radar_spray";
	}

	return td_icon;
}*/

GivePlayerWeaponEx(playerid, weapon_id, ammo)
{
	PLAYER_AC_INFO[playerid][CHEAT_WEAPON][p_ac_info_IMMUNITY] = gettime() + 2;
	PLAYER_AC_INFO[playerid][CHEAT_AMMO][p_ac_info_IMMUNITY] = gettime() + 2;

	GivePlayerWeapon(playerid, weapon_id, ammo);

	if(PLAYER_WEAPONS[playerid][ WEAPON_INFO[weapon_id][weapon_info_SLOT] ][player_weapon_ID] == weapon_id) PLAYER_WEAPONS[playerid][ WEAPON_INFO[weapon_id][weapon_info_SLOT] ][player_weapon_AMMO] += ammo;
	else PLAYER_WEAPONS[playerid][ WEAPON_INFO[weapon_id][weapon_info_SLOT] ][player_weapon_AMMO] = ammo;

	PLAYER_WEAPONS[playerid][ WEAPON_INFO[weapon_id][weapon_info_SLOT] ][player_weapon_VALID] = true;
	PLAYER_WEAPONS[playerid][ WEAPON_INFO[weapon_id][weapon_info_SLOT] ][player_weapon_ID] = weapon_id;
	
	new ManoDer = PI[playerid][pi_MANO_DER];
	PonerObjeto(playerid, 2, ManoDer);
	return 1;
}

ResetPlayerWeaponsEx(playerid)
{
	PLAYER_AC_INFO[playerid][CHEAT_WEAPON][p_ac_info_IMMUNITY] = gettime() + 3;
	PLAYER_AC_INFO[playerid][CHEAT_AMMO][p_ac_info_IMMUNITY] = gettime() + 3; 
	PLAYER_AC_INFO[playerid][CHEAT_UNDETECTED_WEAPON][p_ac_info_IMMUNITY] = gettime() + 3;

	new tmp_PLAYER_WEAPONS[enum_PLAYER_WEAPONS];
	for(new i = 0; i != sizeof PLAYER_WEAPONS[]; i ++) PLAYER_WEAPONS[playerid][i] = tmp_PLAYER_WEAPONS;

	ResetPlayerWeapons(playerid);
	return 1;
}

SetWeaponsForPlayer(playerid)
{
	PLAYER_AC_INFO[playerid][CHEAT_WEAPON][p_ac_info_IMMUNITY] = gettime() + 3;
	PLAYER_AC_INFO[playerid][CHEAT_AMMO][p_ac_info_IMMUNITY] = gettime() + 3;

	ResetPlayerWeapons(playerid);

	for(new i = 0; i != sizeof PLAYER_WEAPONS[]; i ++)
	{
		if(PLAYER_WEAPONS[playerid][i][player_weapon_ID] != 0)
		{
			SetPlayerWeapon(playerid, i);
		}
	}
	return 1;
}

SetPlayerWeapon(playerid, slot) {
	if(WEAPON_INFO[ PLAYER_WEAPONS[playerid][slot][player_weapon_ID] ][weapon_info_SPECIAL]) {
		switch(WEAPON_INFO[ PLAYER_WEAPONS[playerid][slot][player_weapon_ID] ][weapon_info_TYPE]) {
			case WEAPON_TASER_GUN: {
				GivePlayerWeapon(playerid, 23, PLAYER_WEAPONS[playerid][slot][player_weapon_AMMO]);
			}
		}
	}
	else {
		if(PLAYER_WEAPONS[playerid][slot][player_weapon_AMMO] > 0) GivePlayerWeapon(playerid, PLAYER_WEAPONS[playerid][slot][player_weapon_ID], PLAYER_WEAPONS[playerid][slot][player_weapon_AMMO]);
	}
}

public OnPlayerWeaponShot(playerid, weaponid, hittype, hitid, Float:fX, Float:fY, Float:fZ)
{	
	if(ac_Info[CHEAT_UNDETECTED_WEAPON][ac_Enabled])
	{
		if(GetPlayerWeapon(playerid) > 0 && ObjetoInfo[PI[playerid][pi_MANO_DER]][IDArma] == 0)
		{
			if(gettime() > PLAYER_AC_INFO[playerid][CHEAT_UNDETECTED_WEAPON][p_ac_info_IMMUNITY])
			{
				if(!ac_Info[CHEAT_UNDETECTED_WEAPON][ac_Interval]) OnPlayerCheatDetected(playerid, CHEAT_UNDETECTED_WEAPON);
				else
				{
					if(gettime() - PLAYER_AC_INFO[playerid][CHEAT_UNDETECTED_WEAPON][p_ac_info_LAST_DETECTION] > ac_Info[CHEAT_UNDETECTED_WEAPON][ac_Interval]) PLAYER_AC_INFO[playerid][CHEAT_UNDETECTED_WEAPON][p_ac_info_DETECTIONS] = 0;
					else PLAYER_AC_INFO[playerid][CHEAT_UNDETECTED_WEAPON][p_ac_info_DETECTIONS] ++;

					PLAYER_AC_INFO[playerid][CHEAT_UNDETECTED_WEAPON][p_ac_info_LAST_DETECTION] = gettime();
					if(PLAYER_AC_INFO[playerid][CHEAT_UNDETECTED_WEAPON][p_ac_info_DETECTIONS] >= ac_Info[CHEAT_UNDETECTED_WEAPON][ac_Detections]) OnPlayerCheatDetected(playerid, CHEAT_UNDETECTED_WEAPON);
				}
			}
		}
	}
	
	if (PLAYER_TEMP[playerid][pt_LAST_TERRITORY] != INVALID_STREAMER_ID) {
		if (IsPlayerInDynamicArea(playerid, TERRITORIES[ PLAYER_TEMP[playerid][pt_LAST_TERRITORY] ][territory_AREA])) {
			if (TERRITORIES[ PLAYER_TEMP[playerid][pt_LAST_TERRITORY] ][territory_OCCUPIED]) {
				if(
					(!PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET] && PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_POLICE) &&
					(TERRITORIES[ PLAYER_TEMP[playerid][pt_LAST_TERRITORY] ][territory_CREW_ID] != PI[playerid][pi_CREW]) &&
					(TERRITORIES[ PLAYER_TEMP[playerid][pt_LAST_TERRITORY] ][territory_ATTACKER_CREW_INDEX] != PLAYER_TEMP[playerid][pt_CREW_INDEX])
				) {
					if (TERRITORIES[ PLAYER_TEMP[playerid][pt_LAST_TERRITORY] ][territory_WAR]) {
						JailPlayer(playerid, 300);

						new str[1000];
						format(str, sizeof(str), "{9a8080}[JAIL] "WHITE"%s | {39ff00}[LAN-BOT] "WHITE"| razón: Alianza. | Minutos: [5:00]",PI[playerid][pi_NAME]); 
						SendClientMessageToAll(-1, str);

					}
				}
			}
		}
	}
	
	PLAYER_TEMP[playerid][pt_LAST_SHOT_TICK] = GetTickCount();

	CheckConquista(playerid);
    return 1;
}

public OnPlayerGiveDamage(playerid, damagedid, Float: amount, weaponid, bodypart)
{
    if(PLAYER_TEMP[playerid][pt_USER_LOGGED] == false)
    {
        printf("[SEGURIDAD]: ID %d intentó hacer daño sin loguear (POSIBLE CHEATER).", playerid);
        Kick(playerid);
        return 0;
    }
	return 1;
}

public OnPlayerTakeDamage(playerid, issuerid, Float: amount, weaponid, bodypart) {
	return 0;
}

forward DamageReset(playerid);
public DamageReset(playerid)
{
	PLAYER_TEMP[playerid][pt_DAMAGE_DANIO] = 0;
	PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_DAMAGE][0]);
	PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_DAMAGE][1]);
	KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][18]);
	return 1;
}

// Dentro del bucle for de tu timer...


public TimerPlayer() 
{
    new tiempo_actual = gettime();

    for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
    {
        if(!IsPlayerConnected(i) || !PLAYER_TEMP[i][pt_USER_LOGGED]) continue;
        // Si por alguna razón el label se perdió, lo recreamos para evitar el bug
        if(LabelNombre[i] == Text3D:INVALID_3DTEXT_ID) {
             LabelNombre[i] = CreateDynamic3DTextLabel("Cargando...", 0xFFFFFFFF, 0.0, 0.0, 0.35, 15.0, i);
             continue; 
        }
        
        // --- 0. ESTADO PERSONALIZADO ---
        new estado_str[128];
        estado_str[0] = '\0';
        if(strcmp(PI[i][pi_Estado], "Ninguno", true) != 0 && strlen(PI[i][pi_Estado]) > 0)
        {
            format(estado_str, sizeof(estado_str), "{%06x}%s\n", PI[i][pi_ColorEstado] >>> 8, PI[i][pi_Estado]);
        }

        // --- 1. ADMIN EN SERVICIO ---
        new admin_str[100];
        admin_str[0] = '\0';
        if(PLAYER_TEMP[i][pt_ADMIN_SERVICE]) 
        {
            new ad_color[8];
            switch(PI[i][pi_ADMIN_LEVEL])
            {
                case 1: ad_color = "f88888";
                case 2: ad_color = "f15151";
                case 3: ad_color = "f22222";
                case 4: ad_color = "ff0000";
                default: ad_color = "D50000";
            }
            format(admin_str, sizeof(admin_str), "{%s}%s "WHITE"en servicio.\n", ad_color, ADMIN_LEVELS[ PI[i][pi_ADMIN_LEVEL] ]);
        }

        // --- 2. AFK ---
        new segundos_afk = tiempo_actual - UltimoPaquete[i];
        new afk_str[60];
        if(segundos_afk > 3) {
            format(afk_str, sizeof(afk_str), ""WHITE"AFK: [{B1EBF6}%s"WHITE"]\n", TimeConvert(segundos_afk));
        } else {
            afk_str[0] = '\0';
            GetPlayerPos(i, PosAntesAFK_X[i], PosAntesAFK_Y[i], PosAntesAFK_Z[i]);
            GetPlayerHealth(i, VidaAntesAFK[i]);
            GetPlayerArmour(i, ChalecoAntesAFK[i]);
        }

        // --- 3. VARIABLES DE TEXTO Y VIDA ---
        new up_str[1024], name[MAX_PLAYER_NAME], vip_label[20], extra_info[64], heridas_str[80], dots_str[128];
        new Float:h, Float:a;
        
        GetPlayerHealth(i, h);
        GetPlayerArmour(i, a);
        dots_str[0] = '\0';
        
        if(PI[i][pi_MASK_ON] == 1)
        {
            format(name, sizeof(name), "Anonimo %d", PI[i][pi_ID]);
        }
        else 
        {
            GetPlayerName(i, name, sizeof(name));
            for(new n = 0; n < strlen(name); n++) if(name[n] == '_') name[n] = ' ';
        }

        // --- 4. TRABAJO / BANDA ---
        extra_info[0] = '\0';
        if(PLAYER_WORKS[i][WORK_POLICE][pwork_SET]) {
            format(extra_info, sizeof(extra_info), "{0063FF}Policía\n");
        } else {
            new crew_id = PI[i][pi_CREW];
            new crew_idx = GetCrewIndexById(crew_id);
            if(crew_idx != -1) {
                format(extra_info, sizeof(extra_info), "{%06x}%s\n", CREW_INFO[crew_idx][crew_COLOR] >>> 8, CREW_INFO[crew_idx][crew_NAME]);
            }
        }

        // --- 5. VIP Y HERIDAS ---
        if(PI[i][pi_VIP] > 0) format(vip_label, sizeof(vip_label), "{FFFF00}VIP ");
        else vip_label[0] = '\0';

        if(dmgInfoState[i]) format(heridas_str, sizeof(heridas_str), "\n{E56D4A}Herido {F1E181}(/heridas %d)", i);
        else heridas_str[0] = '\0';

        // --- 6. LÓGICA DE PUNTITOS (DAÑO RECIENTE) ---
        // Si recibió daño hace menos de 180 segundos (3 minutos)
        if(tiempo_actual - TimeDmgDots[i] < 180)
        {
            strcat(dots_str, "\n"); // Salto inicial
            
            // Vida (Rojos)
            strcat(dots_str, "{FF0000}");
            new dots_h = floatround(h / 10.0);
            for(new d = 0; d < dots_h; d++) strcat(dots_str, "");

            // Chaleco (Blancos) - CON SALTO DE LÍNEA NUEVO
            if(a > 1.0)
            {
                strcat(dots_str, "\n{FFFFFF}"); // <--- Añadimos \n aquí
                new dots_a = floatround(a / 10.0);
                for(new d = 0; d < dots_a; d++) strcat(dots_str, "");
            }
        }

        // --- 7. FORMATEO FINAL ---
        format(up_str, sizeof(up_str), "%s%s%s%s%s %s"WHITE"%s (%d)%s%s", 
            estado_str, // Estado personalizado
            admin_str,  // Admin service
            afk_str,    // Tiempo AFK
            extra_info, // Policía o Banda
            (PLAYER_TEMP[i][pt_MODE] ? "{00ACFF}" : "{E936FC}"), // Modo
            vip_label,  // VIP
            name, i,    // Nombre e ID
            heridas_str,// Texto de heridas si está herido
            dots_str    // Los puntitos (Vida y Chaleco)
        );

        // --- 8. ACTUALIZAR ---
        UpdateDynamic3DTextLabelText(LabelNombre[i], 0xFFFFFFFF, up_str);
    }
    return 1;
}

CheckWeaponAndAmmo(playerid, weaponid)
{
    if(WEAPON_INFO[weaponid][weapon_info_ANTI_CHEAT])
    {
        new weapon_id, weapon_ammo;
        // Obtenemos los datos del slot correspondiente al arma detectada
        GetPlayerWeaponData(playerid, WEAPON_INFO[weaponid][weapon_info_SLOT], weapon_id, weapon_ammo);

        // --- VALIDACIÓN DE ARMA (CHEAT_WEAPON) ---
        if(ac_Info[CHEAT_WEAPON][ac_Enabled])
        {
            if(gettime() > PLAYER_AC_INFO[playerid][CHEAT_WEAPON][p_ac_info_IMMUNITY])
            {
                if(weapon_id != PLAYER_WEAPONS[playerid][ WEAPON_INFO[weapon_id][weapon_info_SLOT] ][player_weapon_ID])
                {
                    if(!ac_Info[CHEAT_WEAPON][ac_Interval]) OnPlayerCheatDetected(playerid, CHEAT_WEAPON);
                    else
                    {
                        if(gettime() - PLAYER_AC_INFO[playerid][CHEAT_WEAPON][p_ac_info_LAST_DETECTION] > ac_Info[CHEAT_WEAPON][ac_Interval]) PLAYER_AC_INFO[playerid][CHEAT_WEAPON][p_ac_info_DETECTIONS] = 0;
                        else PLAYER_AC_INFO[playerid][CHEAT_WEAPON][p_ac_info_DETECTIONS] ++;

                        PLAYER_AC_INFO[playerid][CHEAT_WEAPON][p_ac_info_LAST_DETECTION] = gettime();
                        if(PLAYER_AC_INFO[playerid][CHEAT_WEAPON][p_ac_info_DETECTIONS] >= ac_Info[CHEAT_WEAPON][ac_Detections]) OnPlayerCheatDetected(playerid, CHEAT_WEAPON);
                    }
                }
            }
        }

        // --- VALIDACIÓN DE MUNICIÓN (CHEAT_AMMO) ---
        if(WEAPON_INFO[weapon_id][weapon_info_AMMO])
        {
            if(ac_Info[CHEAT_AMMO][ac_Enabled])
            {
                if(gettime() > PLAYER_AC_INFO[playerid][CHEAT_AMMO][p_ac_info_IMMUNITY])
                {
                    // Comparamos contra la cantidad que el servidor tiene registrada en la mano derecha
                    if(weapon_ammo > PI[playerid][pi_DER_CANT]) 
                    {
                        if(!ac_Info[CHEAT_AMMO][ac_Interval]) OnPlayerCheatDetected(playerid, CHEAT_AMMO);
                        else
                        {
                            if(gettime() - PLAYER_AC_INFO[playerid][CHEAT_AMMO][p_ac_info_LAST_DETECTION] > ac_Info[CHEAT_AMMO][ac_Interval]) PLAYER_AC_INFO[playerid][CHEAT_AMMO][p_ac_info_DETECTIONS] = 0;
                            else PLAYER_AC_INFO[playerid][CHEAT_AMMO][p_ac_info_DETECTIONS] ++;

                            PLAYER_AC_INFO[playerid][CHEAT_AMMO][p_ac_info_LAST_DETECTION] = gettime();
                            if(PLAYER_AC_INFO[playerid][CHEAT_AMMO][p_ac_info_DETECTIONS] >= ac_Info[CHEAT_AMMO][ac_Detections]) OnPlayerCheatDetected(playerid, CHEAT_AMMO);
                        }
                    }
                    else 
                    {
                        // Si es legal, actualizamos el registro del servidor para que no haya desfase
                        PI[playerid][pi_DER_CANT] = weapon_ammo;
                        PLAYER_WEAPONS[playerid][ WEAPON_INFO[weapon_id][weapon_info_SLOT] ][player_weapon_AMMO] = weapon_ammo;
                    }
                }
            }
        }
    } // Cierra el primer IF (WEAPON_INFO...ANTI_CHEAT)
    return 1;
}



new ADMIN_LEVEL_AC_IMMUNITY = 1; //nivel 3 en adelante
OnPlayerCheatDetected(playerid, cheat, Float:extra = 0.0)
{
	if (PI[playerid][pi_ADMIN_LEVEL] >= ADMIN_LEVEL_AC_IMMUNITY) return 1;
	if (PLAYER_TEMP[playerid][pt_KICKED]) return 1;
	if (PI[playerid][pi_ID] <= 0) return 1;
	
	if (gettime() < PLAYER_TEMP[playerid][pt_LAST_CHEAT_DETECTED_TIME] + 5) return 1;

	new ac_message[145], acd_message[2048], player_state = GetPlayerState(playerid);
	
	if (ac_Info[cheat][ac_Kick]) {	
		new bad_history[24];
		format(bad_history, sizeof bad_history, "ac, cheat (%02d)", cheat);
		AddPlayerBadHistory(PI[playerid][pi_ID], -1, TYPE_KICK, bad_history);
		
		if (extra != 0.0) format(ac_message, sizeof ac_message, "{"#RED_COLOR"}[AC-KICK] {F5F5F5}%s (%d): %s (cd: %02d, ps: %02d, ping: %d, dec: %d:%d, extra: %.1f)", PI[playerid][pi_NAME], playerid, ac_Info[cheat][ac_Name], cheat, player_state, GetPlayerPing(playerid), PLAYER_AC_INFO[playerid][cheat][p_ac_info_DETECTIONS], ac_Info[cheat][ac_Interval], extra);
		else format(ac_message, sizeof ac_message, "{"#RED_COLOR"}[AC-KICK] {F5F5F5}%s (%d): %s (cd: %02d, ps: %02d, ping: %d, dec: %d:%d)", PI[playerid][pi_NAME], playerid, ac_Info[cheat][ac_Name], cheat, player_state, GetPlayerPing(playerid), PLAYER_AC_INFO[playerid][cheat][p_ac_info_DETECTIONS], ac_Info[cheat][ac_Interval]);
		
		if (extra != 0.0) format(acd_message, sizeof acd_message, "```[AC-KICK] %s (%d): %s (cd: %02d, ps: %02d, ping: %d, dec: %d:%d, extra: %.1f)```", PI[playerid][pi_NAME], playerid, ac_Info[cheat][ac_Name], cheat, player_state, GetPlayerPing(playerid), PLAYER_AC_INFO[playerid][cheat][p_ac_info_DETECTIONS], ac_Info[cheat][ac_Interval], extra);
		else format(acd_message, sizeof acd_message, "```[AC-KICK] %s (%d): %s (cd: %02d, ps: %02d, ping: %d, dec: %d:%d)```", PI[playerid][pi_NAME], playerid, ac_Info[cheat][ac_Name], cheat, player_state, GetPlayerPing(playerid), PLAYER_AC_INFO[playerid][cheat][p_ac_info_DETECTIONS], ac_Info[cheat][ac_Interval]);
		
		if (cheat == CHEAT_PLAYER_ARMOUR) {
		PI[playerid][pi_ARMOUR] = 0.0;
        PI[playerid][pi_HEALTH] = 20.0;
		SetPlayerArmourEx(playerid, 0.0);
		SetPlayerHealthEx(playerid, 0.0); 
		PI[playerid][pi_CHEAT] = 1;
	}

		KickEx(playerid, 500);
		
	} else {
		if (extra != 0.0) format(ac_message, sizeof ac_message, "{"#RED_COLOR"}[AC-AVISO] {F5F5F5}%s (%d): %s (cd: %02d, ps: %02d, ping: %d, dec: %d:%d, extra: %.1f)", PI[playerid][pi_NAME], playerid, ac_Info[cheat][ac_Name], cheat, player_state, GetPlayerPing(playerid), PLAYER_AC_INFO[playerid][cheat][p_ac_info_DETECTIONS], ac_Info[cheat][ac_Interval], extra);
		else format(ac_message, sizeof ac_message, "{"#RED_COLOR"}[AC-AVISO] {F5F5F5}%s (%d): %s (cd: %02d, ps: %02d, ping: %d, dec: %d:%d)", PI[playerid][pi_NAME], playerid, ac_Info[cheat][ac_Name], cheat, player_state, GetPlayerPing(playerid), PLAYER_AC_INFO[playerid][cheat][p_ac_info_DETECTIONS], ac_Info[cheat][ac_Interval]);
	
		if (extra != 0.0) format(acd_message, sizeof acd_message, "```[AC-AVISO] %s (%d): %s (cd: %02d, ps: %02d, ping: %d, dec: %d:%d, extra: %.1f)```", PI[playerid][pi_NAME], playerid, ac_Info[cheat][ac_Name], cheat, player_state, GetPlayerPing(playerid), PLAYER_AC_INFO[playerid][cheat][p_ac_info_DETECTIONS], ac_Info[cheat][ac_Interval], extra);
		else format(acd_message, sizeof acd_message, "```[AC-AVISO] %s (%d): %s (cd: %02d, ps: %02d, ping: %d, dec: %d:%d)```", PI[playerid][pi_NAME], playerid, ac_Info[cheat][ac_Name], cheat, player_state, GetPlayerPing(playerid), PLAYER_AC_INFO[playerid][cheat][p_ac_info_DETECTIONS], ac_Info[cheat][ac_Interval]);
	}
	
	if (cheat == CHEAT_PLAYER_SPEED) {
		FreezePlayer(playerid, 1000);
		ShowPlayerMessage(playerid, "Estas siendo muy ~r~rapido~w~.");
	}

	SendMessageToAdminsAC(-1, ac_message);
	PLAYER_TEMP[playerid][pt_LAST_CHEAT_DETECTED_TIME] = gettime();

	return 1;
}

SavePlayerWeaponsData(playerid)
{
	if(!PLAYER_TEMP[playerid][pt_USER_EXIST] || !PLAYER_TEMP[playerid][pt_USER_LOGGED]) return 0;

	for(new i = 0; i != sizeof PLAYER_WEAPONS[]; i ++)
	{
		if(!PLAYER_WEAPONS[playerid][i][player_weapon_DB_ID]) continue;

		mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE pweapons SET weaponid = %d, ammo = %d WHERE id = %d;", PLAYER_WEAPONS[playerid][i][player_weapon_ID], PLAYER_WEAPONS[playerid][i][player_weapon_AMMO], PLAYER_WEAPONS[playerid][i][player_weapon_DB_ID]);
		mysql_tquery(srp_db, QUERY_BUFFER);
	}
	return 1;
}

RemovePlayerSlotWeapon(playerid, slot, bool:db_delete = false)
{
	if(db_delete)
	{
		mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "DELETE FROM pweapons WHERE id = %d;", PLAYER_WEAPONS[playerid][slot][player_weapon_DB_ID]);
		mysql_tquery(srp_db, QUERY_BUFFER);
	}

	new current_weapon = GetPlayerWeapon(playerid);
	if(current_weapon == PLAYER_WEAPONS[playerid][slot][player_weapon_ID]) current_weapon = 0;

	PLAYER_WEAPONS[playerid][slot][player_weapon_VALID] = false;
	PLAYER_WEAPONS[playerid][slot][player_weapon_DB_ID] = 0;
	PLAYER_WEAPONS[playerid][slot][player_weapon_ID] = 0;
	PLAYER_WEAPONS[playerid][slot][player_weapon_AMMO] = 0;

	SetWeaponsForPlayer(playerid);
	SetPlayerArmedWeapon(playerid, current_weapon);
	return 1;
}

LoadManoIsWeapon(playerid)
{
    new ManoDer = PI[playerid][pi_MANO_DER];
    if(ManoDer > 0) //Si tiene algo en la mano derecha
	{
		PonerObjeto(playerid, 1, ManoDer);
		PonerObjeto(playerid, 2, ManoDer);
		if(ObjetoInfo[ManoDer][IDArma] > 0) //Es un arma
		{
			GivePlayerWeaponEx(playerid, ObjetoInfo[ManoDer][IDArma], PI[playerid][pi_DER_CANT]); //Le da el arma
		}
	}
	return 1;
}

SetPlayerHealthEx(playerid, Float:health)
{
    PLAYER_AC_INFO[playerid][CHEAT_PLAYER_HEALTH][p_ac_info_IMMUNITY] = gettime() + 3;
    PI[playerid][pi_HEALTH] = health;
    return SetPlayerHealth(playerid, health);
}

SetPlayerArmourEx(playerid, Float:armour)
{
    PLAYER_AC_INFO[playerid][CHEAT_PLAYER_ARMOUR][p_ac_info_IMMUNITY] = gettime() + 3;
    PI[playerid][pi_ARMOUR] = armour;
    return SetPlayerArmour(playerid, armour);
}


GivePlayerHealthEx(playerid, Float:health)
{
    PLAYER_AC_INFO[playerid][CHEAT_PLAYER_HEALTH][p_ac_info_IMMUNITY] = gettime() + 3;
    
    PI[playerid][pi_HEALTH] += health;
    if(PI[playerid][pi_HEALTH] > 100.0) PI[playerid][pi_HEALTH] = 100.0;
    
    SetPlayerHealth(playerid, PI[playerid][pi_HEALTH]);
    return 1;
}

GivePlayerArmourEx(playerid, Float:armour)
{
    PLAYER_AC_INFO[playerid][CHEAT_PLAYER_ARMOUR][p_ac_info_IMMUNITY] = gettime() + 3;
    
    PI[playerid][pi_ARMOUR] += armour;
    if(PI[playerid][pi_ARMOUR] > 100.0) PI[playerid][pi_ARMOUR] = 100.0;
    
    SetPlayerArmour(playerid, PI[playerid][pi_ARMOUR]);
    return 1;
}


TransferPlayerWeapon(from_playerid, slot, to_playerid)
{
	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE pweapons SET id_player = %d WHERE id = %d;", PI[to_playerid][pi_ID], PLAYER_WEAPONS[from_playerid][slot][player_weapon_DB_ID]);
	mysql_tquery(srp_db, QUERY_BUFFER);

	PLAYER_WEAPONS[to_playerid][slot][player_weapon_VALID] = true;
	PLAYER_WEAPONS[to_playerid][slot][player_weapon_DB_ID] = PLAYER_WEAPONS[from_playerid][slot][player_weapon_DB_ID];
	PLAYER_WEAPONS[to_playerid][slot][player_weapon_ID] = PLAYER_WEAPONS[from_playerid][slot][player_weapon_ID];
	PLAYER_WEAPONS[to_playerid][slot][player_weapon_AMMO] = PLAYER_WEAPONS[from_playerid][slot][player_weapon_AMMO];
	SetWeaponsForPlayer(to_playerid);

	RemovePlayerSlotWeapon(from_playerid, slot);
	return 1;
}

PlayerPayday(playerid)
{
	new 
		money = 300 * PI[playerid][pi_LEVEL],
		moneyl = 300 * PI[playerid][pi_LEVEL];
		new name_p[MAX_PLAYER_NAME];
GetPlayerName(playerid, name_p, sizeof(name_p));

// Creamos la versión con ESPACIO para Negocios/Empresas que lo necesiten
new name_espacio[MAX_PLAYER_NAME];
format(name_espacio, sizeof(name_espacio), "%s", name_p);
for(new i = 0; i < strlen(name_espacio); i++) {
    if(name_espacio[i] == '_') name_espacio[i] = ' '; 
}

	SendClientMessageEx(playerid, -1, "{"#GREEN_COLOR"}.......................................................");
	SendClientMessageEx(playerid, -1, "..... {"#BLUE_COLOR"}Spain + RolePlay{F5F5F5} .....");

	SendClientMessageEx(playerid, -1, "{"#GREEN_COLOR"}{F5F5F5} Subsidios Gubernamentales: %s{"#GREEN_COLOR"}$", number_format_thousand(money));
	
	if (!PI[playerid][pi_VIP])
	{
		// --- SEGURO DE vehiculoS ---
		for (new i = 0; i != MAX_VEHICLES; i ++)
		{
			if (!PLAYER_VEHICLES[i][player_vehicle_VALID]) continue;
			if (PLAYER_VEHICLES[i][player_vehicle_OWNER_ID] != PI[playerid][pi_ID]) continue;
			
			new veh_money = VEHICLE_INFO[GLOBAL_VEHICLES[i][gb_vehicle_MODELID] - 400][vehicle_info_PRICE] / 100;
			money -= veh_money;
			
			SendClientMessageEx(playerid, -1, "{"#RED_COLOR"}{F5F5F5} Seguro del vehiculo %s: -%s{"#RED_COLOR"}$\n", VEHICLE_INFO[GLOBAL_VEHICLES[i][gb_vehicle_MODELID] - 400][vehicle_info_NAME], number_format_thousand(veh_money));
		}
		
		if(APA[playerid][pi_AptoID] != -1) // Si tiene apartamento
        {
                new impuesto_ap = random(6001) + 8000; 
                money -= impuesto_ap;
                SendClientMessageEx(playerid, -1, "{"#RED_COLOR"}{F5F5F5} Impuesto de Apartamento (ID: %d): -%s{"#RED_COLOR"}$$", APA[playerid][pi_AptoID], number_format_thousand(impuesto_ap)); 
        }
		
		// --- IMPUESTOS DE NEGOCIOS ---
		for (new i = 0; i < MAX_NEGOCIOS; i++)
    {
        if (NI[i][n_Comprado] == true)
        {
            // Compara con "Nombre_Apellido" O "Nombre Apellido"
            if (strcmp(NI[i][n_Owner], name_p, true) == 0 || strcmp(NI[i][n_Owner], name_espacio, true) == 0)
            {
                new impuesto_negocio = random(2001) + 2000; 
                money -= impuesto_negocio;
                SendClientMessageEx(playerid, -1, "{"#RED_COLOR"}{F5F5F5} Impuesto de Negocio (ID: %d): -%s{"#RED_COLOR"}$$", i, number_format_thousand(impuesto_negocio));
            }
        }
    }

    // 2. --- IMPUESTOS DE LABORATORIOS --- (Usan guion bajo según dijiste)
    foreach(new l : Laboratorios)
    {
        if (LI[l][l_Comprado] == true)
        {
            // Los laboratorios suelen guardar el nombre real con _
            if (strcmp(LI[l][l_Owner], name_p, true) == 0 || strcmp(LI[l][l_Owner], name_espacio, true) == 0)
            {
                new impuesto_lab = random(3001) + 5000; 
                money -= impuesto_lab;
                SendClientMessageEx(playerid, -1, "{"#RED_COLOR"}{F5F5F5} Impuesto de Laboratorio (ID: %d): -%s{"#RED_COLOR"}$$", l, number_format_thousand(impuesto_lab));
            }
        }
    }

    for (new e = 0; e < MAX_EMPRESAS; e++)
{
    // Verificamos si la empresa existe en la memoria
    if (EmpresaData[e][eComprada] == true)
    {
        // Debug para consola: esto te dirá si el script encuentra la empresa
        // printf("DEBUG: Empresa ID %d encontrada. Dueño: %s", e, EmpresaData[e][eDuenio]);

        if (strcmp(EmpresaData[e][eDuenio], name_p, true) == 0 || strcmp(EmpresaData[e][eDuenio], name_espacio, true) == 0)
        {
            new impuesto_empresa = random(3001) + 4000;
            money -= impuesto_empresa;

            SendClientMessageEx(playerid, -1, "{"#RED_COLOR"}{F5F5F5} Impuesto de Empresa (ID: %d): -%s{"#RED_COLOR"}$", 
                e, number_format_thousand(impuesto_empresa));
        }
    }
}

		// --- SEGURO DE GARAGE ---
		for (new i = 0; i != MAX_SU_VEHICLES; i ++) {
			if (!ParkingVehicles[playerid][i][pvValid]) continue;
			if (ParkingVehicles[playerid][i][pvOwnerId] != PI[playerid][pi_ID]) continue;
			
			new veh_money = VEHICLE_INFO[ParkingVehicles[playerid][i][pvModelid] - 400][vehicle_info_PRICE] / 100;
			money -= veh_money;

			SendClientMessageEx(playerid, -1, "{"#RED_COLOR"}{F5F5F5} precio del garage %s: -%s{"#RED_COLOR"}$\n", VEHICLE_INFO[ParkingVehicles[playerid][i][pvModelid] - 400][vehicle_info_NAME], number_format_thousand(veh_money));
		}
		
		// --- SEGURO DE PROPIEDADES ---
		for (new i = 0; i != MAX_PROPERTIES; i ++)
		{
			if (!PROPERTY_INFO[i][property_VALID]) continue;
			if (PROPERTY_INFO[i][property_OWNER_ID] != PI[playerid][pi_ID]) continue;
		
			if (PROPERTY_INFO[i][property_VIP_LEVEL]) SendClientMessageEx(playerid, -1, "{"#RED_COLOR"}{F5F5F5} Seguro de la propiedad %s: 0{"#RED_COLOR"}$\n", PROPERTY_INFO[i][property_NAME]);
			else
			{
				new property_money = PROPERTY_INFO[i][property_PRICE_BASE] / 200;
				money -= property_money;
				
				SendClientMessageEx(playerid, -1, "{"#RED_COLOR"}{F5F5F5} Seguro de la propiedad %s: -%s{"#RED_COLOR"}$\n", PROPERTY_INFO[i][property_NAME], number_format_thousand(property_money));
			}
		}
	}
	
	// --- PAGA POLICIAL ---
	if (PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET])
	{
		new work_payment;
		if (work_info[WORK_POLICE][work_info_EXTRA_PAY] > 0 && work_info[WORK_POLICE][work_info_EXTRA_PAY_EXP] > 0)
		{
			work_payment = (work_info[WORK_POLICE][work_info_EXTRA_PAY] * floatround(floatdiv(PLAYER_WORKS[playerid][WORK_POLICE][pwork_LEVEL], work_info[WORK_POLICE][work_info_EXTRA_PAY_EXP])));
			if (work_info[WORK_POLICE][work_info_EXTRA_PAY_LIMIT] != 0) if (work_payment > work_info[WORK_POLICE][work_info_EXTRA_PAY_LIMIT]) work_payment = work_info[WORK_POLICE][work_info_EXTRA_PAY_LIMIT];
		}
		
		money += work_payment;
		SendClientMessageEx(playerid, -1, "{"#GREEN_COLOR"}{F5F5F5} Paga por ser policia: %s{"#GREEN_COLOR"}$\n", number_format_thousand(work_payment));
	}

	// --- PAGA POR TERRITORIOS (MAFIAS) ---
	if (PI[playerid][pi_CREW])
	{
		new territories = GetCrewTerritories(PI[playerid][pi_CREW]);
		new black_markets = 0;
		new BlackCash = 0;

		if (territories > 0)
		{
			// 1. Calculamos cuántos de esos territorios tienen un Mercado Negro
			for(new t = 0; t < MAX_TERRITORIES; t++)
			{
				if(TERRITORIES[t][territory_VALID] && TERRITORIES[t][territory_CREW_ID] == PI[playerid][pi_CREW])
				{
					for(new i = 0; i < sizeof ENTER_EXIT; i++)
					{
						if(ENTER_EXIT[i][ee_INTERIOR_TYPE] == INTERIOR_BLACK_MARKET)
						{
							// Verificamos si el mercado está físicamente en este territorio
							if(ENTER_EXIT[i][ee_EXT_X] >= TERRITORIES[t][territory_MIN_X] && ENTER_EXIT[i][ee_EXT_X] <= TERRITORIES[t][territory_MAX_X] &&
							   ENTER_EXIT[i][ee_EXT_Y] >= TERRITORIES[t][territory_MIN_Y] && ENTER_EXIT[i][ee_EXT_Y] <= TERRITORIES[t][territory_MAX_Y])
							{
								black_markets++;
								break; 
							}
						}
					}
				}
			}

			// 2. Calculamos la paga: Base por territorios + Bono por cada Mercado Negro
			// Ejemplo: 900 por territorio + 1500 extra por cada mercado negro encontrado
			BlackCash = (territories * 900) + (black_markets * 1500) + random(100);

			if(black_markets > 0) {
				SendClientMessageEx(playerid, -1, "{"#GREEN_COLOR"}{F5F5F5} Paga por territorios (%d) y Mercados (%d): %d{666666}B$\n", territories, black_markets, BlackCash); 
			} else {
				SendClientMessageEx(playerid, -1, "{"#GREEN_COLOR"}{F5F5F5} Paga por territorios en posesión (%d): %d{666666}B$\n", territories, BlackCash); 
			}

			// 3. Entrega del Item de Dinero Negro
			new player_slot = GetEmptyInvSlot(playerid);
        	if(player_slot != -1) 
			{
				PI[playerid][pi_BOL][player_slot] = 177; // Item de dinero negro
				PI[playerid][pi_BOL_CANT][player_slot] = BlackCash; 
			}
			else {
				SendClientMessageEx(playerid, -1, "{FF0000}{F5F5F5} No tienes espacio en el inventario para tu pago de banda.");
			}
		}
	}
	
	// --- MENSAJE FINAL DE BALANCE ---
	if (money > 0) SendClientMessageEx(playerid, -1, "{"#GREEN_COLOR"}»{F5F5F5} Has ganado: %s{"#GREEN_COLOR"}$", number_format_thousand(money));
	else SendClientMessageEx(playerid, -1, "{"#GREEN_COLOR"}»{F5F5F5} Has perdido: %s{"#RED_COLOR"}$", number_format_thousand(money));
	
	SendClientMessageEx(playerid, -1, "{"#GREEN_COLOR"}.......................................................");

	// ENTREGA FINAL DEL DINERO ACUMULADO
	GivePlayerCash(playerid, money, true, money < 0 ? true : false); 
	// Asumiendo que pi_TIME_PLAYING cuenta MINUTOS:
    if(PI[playerid][pi_TIME_PLAYING] >= 300) // 5 horas * 60 min
    {
    OtorgarLogro(playerid, 1); // ID 1 es Ciudadano Fiel
    }
    if(PI[playerid][pi_LEVEL] >= 20) 
    {
        OtorgarLogro(playerid, 31);
    }

	
	// --- NOTA VISUAL (TABLETA) ---
	new stringa[512];
	format (stringa, sizeof(stringa), "------- ~g~$~w~ PAGO DIARIO -------~n~") ;
	format (stringa, sizeof(stringa), "%s~w~Paga diaria: ~g~%s$~n~",stringa,number_format_thousand(moneyl)) ;
	format (stringa, sizeof(stringa), "%s~w~Paga Total: ~g~%s$~n~",stringa,number_format_thousand(money)) ;
	format (stringa, sizeof(stringa), "%s~w~Cuenta bancaria: ~g~%s$~n~",stringa,number_format_thousand(PI[playerid][pi_BANK_MONEY]) ) ;
	if (money > 0) format (stringa, sizeof(stringa), "%s~w~Balance: ~g~Ganancia~n~",stringa) ;
	else format (stringa, sizeof(stringa), "%s~w~Balance: ~r~Impuestos~n~",stringa) ;
	format (stringa, sizeof(stringa), "%s-------------- FIN --------------",stringa) ;
	return 1;
}

//Animaciones
//ANIMACIONES
CMD:animaciones(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return ShowPlayerMessage(playerid, "Ahora no puedes usar este comando.", 2);
	ShowDialog(playerid, DIALOG_ANIMS);
	return 1;
}
alias:animaciones("anims", "acciones");
CMD:parar(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return ShowPlayerMessage(playerid, "Ahora no puedes usar este comando.", 2);
	ApplyAnimation(playerid, "CARRY", "crry_prtial", 4.1, 0, 0, 0, 0, 0, true);
	ClearAnimations(playerid);
	return 1;
}

CMD:rendirse(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return SendNotification(playerid, "Ahora no puedes usar este comando.");
    ApplyAnimation(playerid, "PED", "HANDSUP", 4.1, 0, 1, 1, 1, 1, 1);
    SendNotification(playerid, "Para cancelar la animacion utiliza /parar.");
	return 1;
}
CMD:blowjob(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return SendNotification(playerid, "Ahora no puedes usar este comando.");
	ApplyAnimation(playerid,"BLOWJOBZ", "BJ_COUCH_START_W", 4.0, 0, 0, 0, 1, 1, 1);//blowjob
	SendNotification(playerid, "Para cancelar la animacion utiliza /parar.");
	return 1;
}
CMD:rodar(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return SendNotification(playerid, "Ahora no puedes usar este comando.");
	ApplyAnimation(playerid,"PED","BIKE_fallR",4.0,0, 1, 1, 1, 1, 1);
	SendNotification(playerid, "Para cancelar la animacion utiliza /parar.");
	return 1;
}
CMD:borracho(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return SendNotification(playerid, "Ahora no puedes usar este comando.");
    ApplyAnimation(playerid,"PED", "WALK_DRUNK", 4.0, 1, 1, 1, 1, 10, 1);//borracho
    ApplyAnimation(playerid,"PED", "WALK_DRUNK", 4.1, 0, 1, 1, 1, 500, 1);//borracho
    SendNotification(playerid, "Para cancelar la animacion utiliza /parar.");
	return 1;
}
CMD:bomba(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return SendNotification(playerid, "Ahora no puedes usar este comando.");
    ApplyAnimation(playerid, "BOMBER", "BOM_Plant", 4.0, 0, 1, 1, 0, 1, 1);//bomba
    SendNotification(playerid, "Para cancelar la animacion utiliza /parar.");
	return 1;
}
CMD:apuntar(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return SendNotification(playerid, "Ahora no puedes usar este comando.");
	ApplyAnimation( playerid,"ped", "ARRESTgun", 4.0, 0, 1, 1, 1,500, 1);
	SendNotification(playerid, "Para cancelar la animacion utiliza /parar.");
	return 1;
}
CMD:reir(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return SendNotification(playerid, "Ahora no puedes usar este comando.");
    ApplyAnimation(playerid, "RAPPING", "Laugh_01", 4.0, 0, 0, 0, 0, 0, 1);//reir
    SendNotification(playerid, "Para cancelar la animacion utiliza /parar.");
	return 1;
}
CMD:amenazar(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return SendNotification(playerid, "Ahora no puedes usar este comando.");
    ApplyAnimation(playerid, "SHOP", "ROB_Loop_Threat", 4.0, 0, 0, 0, 1,500, 1);//amenazar
    SendNotification(playerid, "Para cancelar la animacion utiliza /parar.");
	return 1;
}
CMD:paja(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return SendNotification(playerid, "Ahora no puedes usar este comando.");
	ApplyAnimation(playerid, "PAULNMAC", "wank_loop", 4.0, 1, 0, 0, 1, 1, 1);
	SendNotification(playerid, "Para cancelar la animacion utiliza /parar.");
	return 1;
}
CMD:herido(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return SendNotification(playerid, "Ahora no puedes usar este comando.");
	ApplyAnimation(playerid, "CRACK", "crckdeth1", 4.0, 0, 0, 0, 1, 1, 1);
	SendNotification(playerid, "Para cancelar la animacion utiliza /parar.");
	return 1;
}
CMD:cruzarbrazos(playerid, params[])
{ 
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return SendNotification(playerid, "Ahora no puedes usar este comando.");
	ApplyAnimation(playerid, "COP_AMBIENT", "Coplook_loop", 4.0, 1, 1, 1, 0, 4000, 1);
	SendNotification(playerid, "Para cancelar la animacion utiliza /parar.");
	return 1;
}
CMD:recostarse(playerid, params[]) 
{ 
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return SendNotification(playerid, "Ahora no puedes usar este comando.");
	ApplyAnimation(playerid,"SUNBATHE", "Lay_Bac_in", 4.0, 0, 0, 0, 1, 0, 1);//recostarse
	SendNotification(playerid, "Para cancelar la animacion utiliza /parar.");
	return 1;
}
CMD:cubrirse(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return SendNotification(playerid, "Ahora no puedes usar este comando.");
    ApplyAnimation(playerid, "ped", "cower", 4.0, 1, 0, 0, 0, 0, 1);//crubrirse
    SendNotification(playerid, "Para cancelar la animacion utiliza /parar.");
	return 1;
}
CMD:vomitar(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return SendNotification(playerid, "Ahora no puedes usar este comando.");
    ApplyAnimation(playerid, "FOOD", "EAT_Vomit_P", 3.0, 0, 0, 0, 0, 0, 1);//vomitar
    SendNotification(playerid, "Para cancelar la animacion utiliza /parar.");
	return 1;
}
CMD:comer(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return SendNotification(playerid, "Ahora no puedes usar este comando.");
	ApplyAnimation(playerid, "FOOD", "EAT_Burger", 3.00, 0, 0, 0, 0, 0, 1);
	SendNotification(playerid, "Para cancelar la animacion utiliza /parar.");
	return 1;
}
CMD:despedir(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return SendNotification(playerid, "Ahora no puedes usar este comando.");
	ApplyAnimation(playerid, "KISSING", "BD_GF_Wave", 3.0, 0, 0, 0, 0, 0, 1);//despedir
	SendNotification(playerid, "Para cancelar la animacion utiliza /parar.");
	return 1;
}
CMD:nalgada(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return SendNotification(playerid, "Ahora no puedes usar este comando.");
	ApplyAnimation(playerid, "SWEET", "sweet_ass_slap", 4.0, 0, 0, 0, 0, 0, 1);//nalgada
	SendNotification(playerid, "Para cancelar la animacion utiliza /parar.");
	return 1;
}
CMD:agonizar(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return SendNotification(playerid, "Ahora no puedes usar este comando.");
	ApplyAnimation(playerid, "WUZI", "CS_Dead_Guy", 4.0, 0, 0, 0, 1, 0, 1);//agonizar
	SendNotification(playerid, "Para cancelar la animacion utiliza /parar.");
	return 1;
}
CMD:besar(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return SendNotification(playerid, "Ahora no puedes usar este comando.");
	ApplyAnimation(playerid, "KISSING", "Playa_Kiss_02", 4.0, 0, 0, 0, 0, 0, 1);//besar
	SendNotification(playerid, "Para cancelar la animacion utiliza /parar.");
	return 1;
}
CMD:crack(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return SendNotification(playerid, "Ahora no puedes usar este comando.");
    ApplyAnimation(playerid, "CRACK", "crckdeth1", 4.0, 0, 0, 0, 1, 0, 1);
    SendNotification(playerid, "Para cancelar la animacion utiliza /parar.");
	return 1;
}
CMD:mear(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return SendNotification(playerid, "Ahora no puedes usar este comando.");
    SetPlayerSpecialAction(playerid, SPECIAL_ACTION_PISSING);//mear
    SendNotification(playerid, "Para cancelar la animacion utiliza /parar.");
	return 1;
}
CMD:sentarse(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return SendNotification(playerid, "Ahora no puedes usar este comando.");
    ApplyAnimation(playerid, "SUNBATHE", "ParkSit_M_in", 4.000000, 0, 1, 1, 1, 0, 1);//sentarse
    SendNotification(playerid, "Para cancelar la animacion utiliza /parar.");
	return 1;
}
CMD:asiento(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return SendNotification(playerid, "Ahora no puedes usar este comando.");
    ApplyAnimation(playerid, "Attractors", "Stepsit_in", 4.1, 0, 0, 0, 1, 1, 1);
    SendNotification(playerid, "Para cancelar la animacion utiliza /parar.");
	return 1;
}
CMD:fucku(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return SendNotification(playerid, "Ahora no puedes usar este comando.");
    ApplyAnimation( playerid,"ped", "fucku", 4.0, 0, 1, 1, 1, 1, 1);//fucku
    SendNotification(playerid, "Para cancelar la animacion utiliza /parar.");
	return 1;
}
CMD:taichi(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return SendNotification(playerid, "Ahora no puedes usar este comando.");
	ApplyAnimation(playerid, "PARK", "Tai_Chi_Loop",  4.1,7,5,1,1,1, 1);//taichi
	SendNotification(playerid, "Para cancelar la animacion utiliza /parar.");
	return 1;
}
CMD:beber(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return SendNotification(playerid, "Ahora no puedes usar este comando.");
	ApplyAnimation(playerid, "BAR", "dnk_stndM_loop", 4.0, 0, 1, 1, 0, 4000, 1);//beber
	SendNotification(playerid, "Para cancelar la animacion utiliza /parar.");
	return 1;
}
CMD:boxear(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return SendNotification(playerid, "Ahora no puedes usar este comando.");
	ApplyAnimation(playerid, "GYMNASIUM", "gym_shadowbox",  4.1,7,5,1,1,1, 1);//boxear
	SendNotification(playerid, "Para cancelar la animacion utiliza /parar.");
	return 1;
}
CMD:saludar(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return SendNotification(playerid, "Ahora no puedes usar este comando.");
	ApplyAnimation(playerid,"GANGS","hndshkfa_swt",4.1,0,0,0,0,0, 1);//saludar
	SendNotification(playerid, "Para cancelar la animacion utiliza /parar.");
	return 1;
}
CMD:llorar(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return SendNotification(playerid, "Ahora no puedes usar este comando.");
	ApplyAnimation(playerid,"GRAVEYARD", "mrnF_loop", 4.1, 1, 1, 1, 1, 1, 1);//llorar
	SendNotification(playerid, "Para cancelar la animacion utiliza /parar.");
	return 1;
}
CMD:dormir(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return SendNotification(playerid, "Ahora no puedes usar este comando.");
	if(!GetPlayerInterior(playerid)) return SendNotification(playerid, "Solo puedes hacer esto en un interior");
	ApplyAnimation(playerid,"INT_HOUSE", "BED_In_R", 4.1, 0, 0, 0, 1, 0, 1);//dormir
	SendNotification(playerid, "Para cancelar la animacion utiliza /parar.");
	return 1;
}
CMD:rapear(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return SendNotification(playerid, "Ahora no puedes usar este comando.");
	ApplyAnimation(playerid,"RAPPING","RAP_B_Loop",4.0,1,0,0,0,8000, 1);//rapear
	SendNotification(playerid, "Para cancelar la animacion utiliza /parar.");
	return 1;
}
CMD:astrip(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return SendNotification(playerid, "Ahora no puedes usar este comando.");
	ApplyAnimation(playerid,"STRIP","strip_A",4.1,7,5,1,1,1, 1);//strip
	SendNotification(playerid, "Para cancelar la animacion utiliza /parar.");
	return 1;
}
CMD:bailar(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return SendNotification(playerid, "Ahora no puedes usar este comando.");
    if(sscanf(params, "d", params[0])) return SendClientMessage(playerid, 0xFF4500FF, "ERROR: /bailar [1-4]");

	switch(params[0])
	{
	    case 1: SetPlayerSpecialAction(playerid,SPECIAL_ACTION_DANCE1);
		case 2: SetPlayerSpecialAction(playerid,SPECIAL_ACTION_DANCE2);
		case 3: SetPlayerSpecialAction(playerid,SPECIAL_ACTION_DANCE3);
		case 4: SetPlayerSpecialAction(playerid,SPECIAL_ACTION_DANCE4);
		default: SendClientMessage(playerid, 0xFF4500FF, "ERROR: /bailar [1-4]");
	}
	return 1;
}

CMD:fumar(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return SendNotification(playerid, "Ahora no puedes usar este comando.");
	ApplyAnimation(playerid, "GANGS", "smkcig_prtl_F", 3.0, 0, 0, 0, 0, 0, 1);//fumar
	Auto_SendPlayerAction(playerid, "enciende un cigarro y empieza a fumarlo.");
	SendNotification(playerid, "Para cancelar la animacion utiliza /parar.");
	return 1;
}

CMD:trato(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return SendNotification(playerid, "Ahora no puedes usar este comando.");
	ApplyAnimation(playerid, "DEALER", "DEALER_DEAL", 3.0, 0, 0, 0, 0, 0, 1);//trato
	SendNotification(playerid, "Para cancelar la animacion utiliza /parar.");
	return 1;
}

CMD:saludo(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return SendNotification(playerid, "Ahora no puedes usar este comando.");
	ApplyAnimation(playerid, "GANGS", "hndshkfa", 4.1, 0, 1, 1, 1, 1, 1);//saludo
	SendNotification(playerid, "Para cancelar la animacion utiliza /parar.");
	return 1;
}

CMD:adios(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return SendNotification(playerid, "Ahora no puedes usar este comando.");
	ApplyAnimation(playerid, "BD_FIRE", "BD_GF_Wave", 4.0, 0, 0, 0, 0, 0, 1);//adios
	SendNotification(playerid, "Para cancelar la animacion utiliza /parar.");
	return 1;
}

CMD:facepalm(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return SendNotification(playerid, "Ahora no puedes usar este comando.");
	ApplyAnimation(playerid, "MISC", "plyr_shkhead", 4.1, 0, 0, 0, 0, 0, 1);//facepalm
	SendNotification(playerid, "Para cancelar la animacion utiliza /parar.");
	return 1;
}

CMD:bate(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return SendNotification(playerid, "Ahora no puedes usar este comando.");
	ApplyAnimation(playerid, "CRACK", "Bbalbat_Idle_01", 4.1, 0, 1, 1, 1, 1, 1);//bate
	SendNotification(playerid, "Para cancelar la animacion utiliza /parar.");
	return 1;
}

CMD:gritando(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return SendNotification(playerid, "Ahora no puedes usar este comando.");
	ApplyAnimation(playerid, "RIOT", "RIOT_shout", 4.0, 1, 1, 1, 1, 1, 1);//gritando
	SendNotification(playerid, "Para cancelar la animacion utiliza /parar.");
	return 1;
}

CMD:cacheado(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return SendNotification(playerid, "Ahora no puedes usar este comando.");
	ApplyAnimation(playerid, "POLICE", "crm_drgbst_01", 4.0, 0, 1, 1, 1, 1, 1);//gritando
	SendNotification(playerid, "Para cancelar la animacion utiliza /parar.");
	return 1;
}
CMD:alentar(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return SendNotification(playerid, "Ahora no puedes usar este comando.");
	ApplyAnimation(playerid,"ON_LOOKERS","shout_02",4.1,7,5,1,1,1, 1);//alentar
	SendNotification(playerid, "Para cancelar la animacion utiliza /parar.");
	return 1;
}
CMD:hablar(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return SendNotification(playerid, "Ahora no puedes usar este comando.");
    ApplyAnimation(playerid,"PED","IDLE_chat",4.1,7,5,1,1,1, 1);//hablar
    SendNotification(playerid, "Para cancelar la animacion utiliza /parar.");
	return 1;
}

forward Hablando(playerid, text[]);
public Hablando(playerid, text[]) {
    if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return 1;
    if(PLAYER_TEMP[playerid][pt_PLAYER_PHONE_CALL_STATE] == CALL_STATE_ESTABLISHED) return 1;
	new anim = GetPlayerAnimationIndex(playerid);
    if (!IsPlayerInAnyVehicle(playerid)) {
        if ((anim != 1538 || anim != 1539 || anim != 1540 || anim != 1541 || anim != 1542)) {
            ApplyAnimation(playerid, "PED", "IDLE_chat", 4.1, 7, 5, 1, 1, 1, 1);
            SetTimerEx("FinHablar", strlen(text) * 300, false, "d", playerid);
            return 1;
        }
    }
    return 1;
}

forward FinHablar(playerid);
public FinHablar(playerid) {
    ApplyAnimation(playerid, "CARRY", "crry_prtial", 4.0, 0, 0, 0, 0, 0, 1);
    return 1;
}

//GetPlayerVehicleAvaibleBootSlot(vehicleid)
/*GetPlayerVehicleAvaibleBootSlot(vehicleid, playerid)
{
	//new max_slots = VEHICLE_INFO[GLOBAL_VEHICLES[vehicleid][gb_vehicle_MODELID] - 400][vehicle_info_BOOT_SLOTS];
	//if(max_slots > MAX_BOOT_SLOTS) max_slots = MAX_BOOT_SLOTS;

	new max_slots = VEHICLE_INFO[GLOBAL_VEHICLES[vehicleid][gb_vehicle_MODELID] - 400][vehicle_info_BOOT_SLOTS];
	if(GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_DIALOG_BOT_VEHICLE] ][gb_vehicle_TRUNK_EXTEND]) max_slots = MAX_BOOT_SLOTS;
	else max_slots = MAX_BOOT_SLOTS - 5;

	for(new i = 0; i != max_slots; i ++)
	{
		if(!VEHICLE_BOOT[vehicleid][i][vehicle_boot_VALID]) return i;
	}
	return -1;
}
*/

GetPlayerVehicleAvaibleBootSlot(vehicleid)
{
    // 1. Obtenemos el espacio base del modelo
    new max_slots = VEHICLE_INFO[GLOBAL_VEHICLES[vehicleid][gb_vehicle_MODELID] - 400][vehicle_info_BOOT_SLOTS];
    
    // 2. Le sumamos los espacios extra que compramos (el +7, +14, etc.)
    max_slots += PLAYER_VEHICLES[vehicleid][player_vehicle_EXTRA_SLOTS];

    // 3. Seguridad: No buscar más allá del límite definido (100)
    if(max_slots > MAX_BOOT_SLOTS) max_slots = MAX_BOOT_SLOTS;

    // 4. Buscamos el primer slot que no tenga un objeto válido
    for(new i = 0; i != max_slots; i ++)
    {
        if(!VEHICLE_BOOT[vehicleid][i][vehicle_boot_VALID]) return i;
    }
    
    // Si recorrió todos los slots (base + extras) y todos están ocupados
    return -1;
}



RegisterVehicleBootObject(vehicleid, boot_slot, type, int, extra)
{
	if(!PLAYER_VEHICLES[vehicleid][player_vehicle_ID]) return 0;

	VEHICLE_BOOT[vehicleid][boot_slot][vehicle_boot_VALID] = false;
	VEHICLE_BOOT[vehicleid][boot_slot][vehicle_boot_TYPE] = type;
	VEHICLE_BOOT[vehicleid][boot_slot][vehicle_boot_INT] = int;
	VEHICLE_BOOT[vehicleid][boot_slot][vehicle_boot_INT_EXTRA] = extra;

	inline OnVbootInserted()
	{
		VEHICLE_BOOT[vehicleid][boot_slot][vehicle_boot_OBJECT_ID] = cache_insert_id();
		if(VEHICLE_BOOT[vehicleid][boot_slot][vehicle_boot_OBJECT_ID]) VEHICLE_BOOT[vehicleid][boot_slot][vehicle_boot_VALID] = true;
	}
	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "INSERT INTO vboot (id_vehicle, type, `int`, int_extra) VALUES (%d, %d, %d, %d);", PLAYER_VEHICLES[vehicleid][player_vehicle_ID], VEHICLE_BOOT[vehicleid][boot_slot][vehicle_boot_TYPE], VEHICLE_BOOT[vehicleid][boot_slot][vehicle_boot_INT], VEHICLE_BOOT[vehicleid][boot_slot][vehicle_boot_INT_EXTRA]);
	mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnVbootInserted);
	return 1;
}

GetPropertyAvaibleClosetSlot(index)
{
	new max_slots = MAX_CLOSET_SLOTS;
	for(new i = 0; i != max_slots; i ++)
	{
		if(!PROPERTY_CLOSET[index][i][property_closet_VALID]) return i;
	}
	return -1;
}

RegisterPropertyClosetObject(index, closet_slot, type, int, extra)
{
	PROPERTY_CLOSET[index][closet_slot][property_closet_VALID] = false;
	PROPERTY_CLOSET[index][closet_slot][property_closet_TYPE] = type;
	PROPERTY_CLOSET[index][closet_slot][property_closet_INT] = int;
	PROPERTY_CLOSET[index][closet_slot][property_closet_INT_EXTRA] = extra;

	inline OnPropertyClosetInserted()
	{
		PROPERTY_CLOSET[index][closet_slot][property_closet_OBJECT_ID] = cache_insert_id();
		if(PROPERTY_CLOSET[index][closet_slot][property_closet_OBJECT_ID]) PROPERTY_CLOSET[index][closet_slot][property_closet_VALID] = true;
	}
	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "INSERT INTO property_closet (id_property, type, `int`, int_extra) VALUES (%d, %d, %d, %d);", PROPERTY_INFO[index][property_ID], type, int, extra);
	mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnPropertyClosetInserted);
	return 1;
}

CMD:guardarm(playerid)
{
	if(PI[playerid][pi_MANO_DER] == 0){ShowPlayerMessage(playerid, "Tu mano derecha esta vacia"); PlayerPlaySound(playerid,1085,0.0,0.0,0.0); return 1;}
	new objeto = PI[playerid][pi_MANO_DER], objetocant = PI[playerid][pi_DER_CANT], string[254];
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_NORMAL || PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK)
	{
		new vehicleid = GetNearVehicle(playerid);
		if(vehicleid == INVALID_VEHICLE_ID) return ShowPlayerMessage(playerid, "No estas cerca de tu vehiculo.");

		if(!PLAYER_VEHICLES[vehicleid][player_vehicle_VALID]) return ShowPlayerMessage(playerid, "Este no es tu vehiculo.");
		if(PLAYER_VEHICLES[vehicleid][player_vehicle_OWNER_ID] != PI[playerid][pi_ID]) return ShowPlayerMessage(playerid, "Este no es tu vehiculo.");

		new boot_slot = GetPlayerVehicleAvaibleBootSlot(vehicleid);
		if(boot_slot == -1) return ShowPlayerMessage(playerid, "No tienes suficiente espacio en tu /maletero.");

        PLAYER_AC_INFO[playerid][CHEAT_WEAPON][p_ac_info_IMMUNITY] = gettime() + 3; 
        PLAYER_AC_INFO[playerid][CHEAT_AMMO][p_ac_info_IMMUNITY] = gettime() + 3;
	    format(string, sizeof(string), "guarda %s en su maletero", ObjetoInfo[objeto][NombreObjeto]);
		Auto_SendPlayerAction(playerid, string);

	    PI[playerid][pi_MANO_DER] = 0;
	    PI[playerid][pi_DER_CANT] = 0;
	    ActualizarManos(playerid);
	    SetPlayerToys(playerid);
	
	   ApplyAnimation(playerid, "CARRY", "putdwn105", 4.1, 0, 1, 1, 0, 0, 1);
	    
		RegisterVehicleBootObject(vehicleid, boot_slot, BOOT_TYPE_OBJECT, objeto, objetocant);
		PlayerPlaySoundEx(playerid, 1083, 0.0, 0.0, 0.0);
	}
	else if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_OWN_PROPERTY)
	{
		new index = GetPropertyIndexByID(PI[playerid][pi_LOCAL_INTERIOR]);
		if(index == -1) return SendNotification(playerid, "BUG: CMD /guardar (casa), Tome captura y contacte con administrador.");
		if(PROPERTY_INFO[index][property_OWNER_ID] != PI[playerid][pi_ID]) return ShowPlayerMessage(playerid, "Esta no es tu casa");
		
		PLAYER_AC_INFO[playerid][CHEAT_WEAPON][p_ac_info_IMMUNITY] = gettime() + 3; 
        PLAYER_AC_INFO[playerid][CHEAT_AMMO][p_ac_info_IMMUNITY] = gettime() + 3;
		new Float:z_pos = PROPERTY_CLOSET_POS[ PROPERTY_INFO[index][property_ID_INTERIOR] ][property_closet_Z];
		if(PROPERTY_INFO[index][property_DIS_DEFAULT_INTERIOR]) z_pos += PROPERTY_EMPTY_INTERIOR_Z_OFFSET;
		if(IsPlayerInRangeOfPoint(playerid, NEARS_PLAYERS_DISTANCE, PROPERTY_CLOSET_POS[ PROPERTY_INFO[index][property_ID_INTERIOR] ][property_closet_X], PROPERTY_CLOSET_POS[ PROPERTY_INFO[index][property_ID_INTERIOR] ][property_closet_Y], z_pos))
		{
			new closet_slot = GetPropertyAvaibleClosetSlot(index);
			if(closet_slot == -1) return ShowPlayerMessage(playerid, "No tienes suficiente espacio en tu /armario.");

            PLAYER_AC_INFO[playerid][CHEAT_WEAPON][p_ac_info_IMMUNITY] = gettime() + 3;
			format(string, sizeof(string), "guarda %s en su armario", ObjetoInfo[objeto][NombreObjeto]);
			Auto_SendPlayerAction(playerid, string);

			ResetPlayerWeapons(playerid);
			PI[playerid][pi_MANO_DER] = 0;
			PI[playerid][pi_DER_CANT] = 0;
			ActualizarManos(playerid);
			SetPlayerToys(playerid);

			RegisterPropertyClosetObject(index, closet_slot, BOOT_TYPE_OBJECT, objeto, objetocant);
			PlayerPlaySoundEx(playerid, 1083, 0.0, 0.0, 0.0);
		}
	}
	else ShowPlayerMessage(playerid, "Ahora no puedes usar este comando.");
	return 1;
}

CMD:robarmale(playerid, params[])
{
	new vehicleid = VehMasCercano(playerid, 5.0);
	if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER || GetPlayerState(playerid) == PLAYER_STATE_PASSENGER) vehicleid = GetPlayerVehicleID(playerid);
	else if(GetPlayerState(playerid) == PLAYER_STATE_ONFOOT) vehicleid = VehMasCercano(playerid, 5.0);
	if(vehicleid == INVALID_VEHICLE_ID) return ShowPlayerMessage(playerid, "No estás cerca de tu vehiculo.", 2);
    
    if(PI[playerid][pi_LEVEL] < 3) return ShowPlayerMessage(playerid, "Debes ser al menos nivel 3 Para robar.", 2);
    if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_DOORS]) return ShowPlayerMessage(playerid, "Las puertas de este auto estan ~y~cerradas.", 2);
    if(PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET]) return SendNotification(playerid, "Los policías no pueden robar maleteros.");
    
    if(PLAYER_TEMP[playerid][pt_ROL] == 0)
	                {
	                ShowPlayerMessage(playerid, "~y~-~w~Rolea ~y~Entorno.", 2);
	                return 1;
	                 }

	if((PLAYER_TEMP[playerid][pt_WORKING_IN] == WORK_POLICE) && PLAYER_VEHICLES[vehicleid][player_vehicle_OWNER_ID] != PI[playerid][pi_ID])
	{
		if(!PLAYER_VEHICLES[vehicleid][player_vehicle_VALID]) return ShowPlayerMessage(playerid, "Este vehiculo es del gobierno o de un consecionario.", 2);
		new pid = -1;
		for(new i, j = GetPlayerPoolSize(); i <= j; i++)
		{
			if(PLAYER_TEMP[i][pt_USER_LOGGED] && PI[i][pi_ID] == PLAYER_VEHICLES[vehicleid][player_vehicle_OWNER_ID])
			pid = i;
		}

		if(pid == -1) return ShowPlayerMessage(playerid, "Error del juego: No se ha podido encontrar al dueño de este vehiculo.", 2);
		if(!PLAYER_TEMP[pid][pt_CUFFED]) return ShowPlayerMessage(playerid, "El dueño de este vehiculo debe estar esposado para poder revisar su vehiculo.", 2);

		PLAYER_TEMP[playerid][pt_DIALOG_BOT_VEHICLE] = vehicleid;
		ShowDialog(playerid, DIALOG_VEHICLE_BOOT);

		Auto_SendPlayerAction(playerid, "revisa el maltero del vehiculo");
		return 1;
	}
    
    Auto_SendPlayerAction(playerid, "Usa un destornillador.");
	PLAYER_TEMP[playerid][pt_DIALOG_BOT_VEHICLE] = vehicleid;
	OtorgarLogro(playerid, 27);
	ShowDialog(playerid, DIALOG_VEHICLE_BOOT);
	if(PI[playerid][pi_DER_CANT] > 1) {
	PI[playerid][pi_DER_CANT] --;
	}
	else {
	    PI[playerid][pi_DER_CANT] = 0;
	    PI[playerid][pi_MANO_DER] = 0;
	}
	return 1;
}
alias:robarmaletero("robarm");

CMD:forzarc(playerid, params[])
{
	if(GetPlayerState(playerid) == PLAYER_STATE_ONFOOT)
	{
		new vehicleid = VehMasCercano(playerid, 5.0);
		if(vehicleid == INVALID_VEHICLE_ID) return SendNotification(playerid, "No estas cerca de ningun vehiculo.");
		if(!PLAYER_VEHICLES[vehicleid][player_vehicle_VALID]) return SendNotification(playerid, "No puedes forzar este vehiculo.");
		if(PLAYER_TEMP[playerid][pt_ROL] == 0)
	                {
	                ShowPlayerMessage(playerid, "~y~-~w~Rolea ~y~Entorno.", 2);
	                return 1;
	                 }

		if(!GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_DOORS]) return SendNotification(playerid, "Las puertas de este vehiculo ya estan abiertas.");

		Auto_SendPlayerAction(playerid, "Usa su palanca.");
		SendClientMessage(playerid, -1, "{EEEEEE}Si te alejas del vehiculo se cancelara y perderas la ganzua!");
		GameTextForPlayer(playerid, "~r~Forzando vehiculo...", 5000, 4);
		SetTimerEx("ForzarVehiculo", 3000, false, "ii", playerid, vehicleid);
	    TogglePlayerControllable(playerid, 0);
	    if(PI[playerid][pi_DER_CANT] > 1) {PI[playerid][pi_DER_CANT] --;}else{PI[playerid][pi_DER_CANT] = 0;PI[playerid][pi_MANO_DER] = 0;}
	} else SendNotification(playerid, "~r~No puedes usar esto ahora!");
	return 1;
}

forward ForzarVehiculo(playerid, vehicleid);
public ForzarVehiculo(playerid, vehicleid)
{
	new Float:pos[3];
	GetVehiclePos(vehicleid, pos[0], pos[1], pos[2]);
	if(!IsPlayerInRangeOfPoint(playerid, 5.0, pos[0], pos[1], pos[2])) return SendClientMessage(playerid, -1, "{FF0000}Te alejaste mucho del vehiculo que estabas forzando!");
	TogglePlayerControllable(playerid, 1);
	new rand = Random(100);
	if((rand % 45) == 0)
	{
		GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_DOORS] = 0;
		UpdateVehicleParams(vehicleid);
		SendNotification(playerid, "~g~Lograste forzar las puertas de este vehiculo!");
		TogglePlayerControllable(playerid, 1);

	} else SendNotification(playerid, "~r~No lograste forzar las puertas de este vehiculo, razon seguro 20%!");
	TogglePlayerControllable(playerid, 1);
	return 1;
}

CMD:maletero(playerid, params[])
{
	new vehicleid = VehMasCercano(playerid, 5.0);
	if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER || GetPlayerState(playerid) == PLAYER_STATE_PASSENGER) vehicleid = GetPlayerVehicleID(playerid);
	else if(GetPlayerState(playerid) == PLAYER_STATE_ONFOOT) vehicleid = VehMasCercano(playerid, 5.0);

	if(vehicleid == INVALID_VEHICLE_ID) return ShowPlayerMessage(playerid, "No estás cerca de tu vehiculo.", 2);

	if((PLAYER_TEMP[playerid][pt_WORKING_IN] == WORK_POLICE) && PLAYER_VEHICLES[vehicleid][player_vehicle_OWNER_ID] != PI[playerid][pi_ID])
	{
		if(!PLAYER_VEHICLES[vehicleid][player_vehicle_VALID]) return ShowPlayerMessage(playerid, "Este vehiculo es del gobierno o de un consecionario.", 2);
		new pid = -1;
		for(new i, j = GetPlayerPoolSize(); i <= j; i++)
		{
			if(PLAYER_TEMP[i][pt_USER_LOGGED] && PI[i][pi_ID] == PLAYER_VEHICLES[vehicleid][player_vehicle_OWNER_ID])
			pid = i;
		}

		if(pid == -1) return ShowPlayerMessage(playerid, "Error del juego: No se ha podido encontrar al dueño de este vehiculo.", 2);
		if(!PLAYER_TEMP[pid][pt_CUFFED]) return ShowPlayerMessage(playerid, "El dueño de este vehiculo debe estar esposado para poder revisar su vehiculo.", 2);

		PLAYER_TEMP[playerid][pt_DIALOG_BOT_VEHICLE] = vehicleid;
		ShowDialog(playerid, DIALOG_VEHICLE_BOOT);

		Auto_SendPlayerAction(playerid, "revisa el maltero del vehiculo");
		return 1;
	}

	if(!PLAYER_VEHICLES[vehicleid][player_vehicle_VALID]) return ShowPlayerMessage(playerid, "Este no es tú vehiculo.", 2);
	if(PLAYER_VEHICLES[vehicleid][player_vehicle_OWNER_ID] != PI[playerid][pi_ID]) return ShowPlayerMessage(playerid, "Este no es tú vehiculo.", 2);
    
    Auto_SendPlayerAction(playerid, "Abre el maletero de su vehiculo");
	PLAYER_TEMP[playerid][pt_DIALOG_BOT_VEHICLE] = vehicleid;
	ShowDialog(playerid, DIALOG_VEHICLE_BOOT);
	return 1;
}
alias:maletero("baul");

CMD:revisarm(playerid, params[])
{
	new vehicleid = VehMasCercano(playerid, 5.0);
	if(!PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET]) return ShowPlayerMessage(playerid, "No eres policía o Militar.", 2);
	if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_POLICE) return ShowPlayerMessage(playerid, "No estás de servicio como policía o Militar.", 2);
	if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER || GetPlayerState(playerid) == PLAYER_STATE_PASSENGER) vehicleid = GetPlayerVehicleID(playerid);
	else if(GetPlayerState(playerid) == PLAYER_STATE_ONFOOT) vehicleid = VehMasCercano(playerid, 5.0);

	if(vehicleid == INVALID_VEHICLE_ID) return ShowPlayerMessage(playerid, "No estás cerca de tu vehiculo.", 2);

	if((PLAYER_TEMP[playerid][pt_WORKING_IN] == WORK_POLICE) && PLAYER_VEHICLES[vehicleid][player_vehicle_OWNER_ID] != PI[playerid][pi_ID])
	{
		if(!PLAYER_VEHICLES[vehicleid][player_vehicle_VALID]) return ShowPlayerMessage(playerid, "Este vehiculo es del gobierno o de un consecionario.", 2);
		new pid = -1;
		for(new i, j = GetPlayerPoolSize(); i <= j; i++)
		{
			if(PLAYER_TEMP[i][pt_USER_LOGGED] && PI[i][pi_ID] == PLAYER_VEHICLES[vehicleid][player_vehicle_OWNER_ID])
			pid = i;
		}

		if(pid == -1) return ShowPlayerMessage(playerid, "Error del juego: No se ha podido encontrar al dueño de este vehiculo.", 2);
		if(!PLAYER_TEMP[pid][pt_CUFFED]) return ShowPlayerMessage(playerid, "El dueño de este vehiculo debe estar esposado para poder revisar su vehiculo.", 2);

		PLAYER_TEMP[playerid][pt_DIALOG_BOT_VEHICLE] = vehicleid;
		ShowDialog(playerid, DIALOG_VEHICLE_BOOT);

		Auto_SendPlayerAction(playerid, "revisa el maltero del vehiculo");
		return 1;
	}
    
    Auto_SendPlayerAction(playerid, "revisa el maltero del vehiculo");
	PLAYER_TEMP[playerid][pt_DIALOG_BOT_VEHICLE] = vehicleid;
	ShowDialog(playerid, DIALOG_VEHICLE_BOOT);
	return 1;
}
alias:revisarm("revisarmaletero");

SetWantedPlayerMarkers(playerid)
{
	for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
	{
		if(IsPlayerConnected(i))
		{
			if(PLAYER_TEMP[i][pt_GAME_STATE] == GAME_STATE_NORMAL)
			{
				if(PI[i][pi_WANTED_LEVEL] > 0)
				{
					SetPlayerMarkerForPlayer(playerid, i, PlayerWantedColor(i));
				}
			}
		}
	}
	return 1;
}

PlayerWantedColor(playerid)
{
	if(PI[playerid][pi_WANTED_LEVEL] > 0)
	{
		if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return 0x009900ff;
		else
		{
			switch(PI[playerid][pi_WANTED_LEVEL])
			{
				case 1: return 0xfffdbaff;
				case 2: return 0xf7f254ff;
				case 3: return 0xd98900ff;
				case 4: return 0xce4202ff;
				case 5: return 0xff00ffff;
				case 6: return 0x9900ccff;
				default: return 0x9900ccff;
			}
		}
	}
	return PLAYER_COLOR;
}

CMD:esposar(playerid, params[])
{
	if (!PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET]) return ShowPlayerMessage(playerid, "No eres policia.");
	if (PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_POLICE) return ShowPlayerMessage(playerid, "No estás de servicio como policia.");
	if (sscanf(params, "u", params[0])) return ShowPlayerMessage(playerid, "~>~ /esposar [PlayerID/Nombre]");
	if (GetPlayerState(playerid) != PLAYER_STATE_ONFOOT) return ShowPlayerMessage(playerid, "No estás depie.");
	
	if (!IsPlayerConnected(params[0])) return ShowPlayerMessage(playerid, "El jugador no está conectado.");
	new Float:pos[3]; GetPlayerPos(params[0], pos[0], pos[1], pos[2]);
	if (!IsPlayerInRangeOfPoint(playerid, NEARS_PLAYERS_DISTANCE, pos[0], pos[1], pos[2])) return ShowPlayerMessage(playerid, "Este jugador no está cerca tuya.");
	if (PLAYER_TEMP[params[0]][pt_GAME_STATE] != GAME_STATE_NORMAL) return ShowPlayerMessage(playerid, "No puedes esposar a este jugador ahora.");
	if (GetPlayerState(params[0]) != PLAYER_STATE_ONFOOT) return ShowPlayerMessage(playerid, "Para esposar a esta persona tiene que estar depie.");
	if (PI[params[0]][pi_WANTED_LEVEL] == 0) return ShowPlayerMessage(playerid, "Esta persona no tiene nivel de búsqueda.");

	GetPlayerPos(playerid, PLAYER_TEMP[params[0]][pt_INJURED_POS][0], PLAYER_TEMP[params[0]][pt_INJURED_POS][1], PLAYER_TEMP[params[0]][pt_INJURED_POS][2]);
	GetPlayerFacingAngle(playerid, PLAYER_TEMP[params[0]][pt_INJURED_POS][3]);

	GetPlayerHealth(params[0], PLAYER_TEMP[params[0]][pt_ARRESTED_HEALTH]);

	DisablePlayerInjuredMark(params[0]);
	PI[params[0]][pi_STATE] = ROLEPLAY_STATE_NORMAL;
	ApplyAnimation(params[0], "CARRY", "crry_prtial", 4.1, 0, 0, 0, 0, 0, true);
	ClearAnimations(params[0]);

	if (PLAYER_TEMP[params[0]][pt_CUFFED]) {
		KillTimer(PLAYER_TEMP[params[0]][pt_CUFFED_TIMER]);
		PLAYER_TEMP[params[0]][pt_CUFFED_TIMER] = -1;
		
		TogglePlayerControllableEx(params[0], true);
		PLAYER_TEMP[params[0]][pt_CUFFED] = false;
		PLAYER_TEMP[params[0]][pt_CUFFING] = false;
		PLAYER_TEMP[params[0]][pt_ESPOSADO] = 0;
		PI[params[0]][pi_KANA] = 0;
		SetPlayerSpecialAction(params[0], SPECIAL_ACTION_NONE);
		
		new action[64];
		format(action, sizeof action, "le quita las esposas a %s.", PLAYER_TEMP[params[0]][pt_NAME]);
		Auto_SendPlayerAction(playerid, action);
		return 1;
	}
	
	if (!PLAYER_TEMP[params[0]][pt_CUFFING]) {
	    new string[220];
	    format(string, sizeof string, "~b~%s~w~ te ha colocado unas esposas.", PLAYER_TEMP[playerid][pt_NAME]);
		ShowPlayerMessage(params[0], string); 
		new string2[220];
	    format(string2, sizeof string2, "Le has colocado esposas a ~y~%s~w~.", PLAYER_TEMP[params[0]][pt_NAME]);
		ShowPlayerMessage(playerid, string2);
		
		PLAYER_TEMP[params[0]][pt_CUFFED] = false;
		PLAYER_TEMP[params[0]][pt_CUFFING] = true;
		PLAYER_TEMP[params[0]][pt_ESPOSADO] = 1; 
		PI[params[0]][pi_KANA] = 1;
		TogglePlayerControllableEx(params[0], false);
		CuffPlayer(params[0]);
	}
	return 1;
}

CMD:placa(playerid, params[])
{
	if(!PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET]) return ShowPlayerMessage(playerid, "No eres policía.", 2);
	if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_POLICE) return ShowPlayerMessage(playerid, "No estás de servicio como policía.", 2);
	if(sscanf(params, "u", params[0])) return ShowPlayerMessage(playerid, "Error: /placa [PlayerID/Nombre]", 2);

	if(!IsPlayerConnected(params[0])) return ShowPlayerMessage(playerid, "El jugador no está conectado.", 2);
	new Float:pos[3]; GetPlayerPos(params[0], pos[0], pos[1], pos[2]);
	if(!IsPlayerInRangeOfPoint(playerid, 2.0, pos[0], pos[1], pos[2])) return ShowPlayerMessage(playerid, "Este jugador no está cerca tuya.", 2);
	if(PLAYER_TEMP[params[0]][pt_GAME_STATE] != GAME_STATE_NORMAL) return ShowPlayerMessage(playerid, "No puedes enseñarle tu placa a este jugador ahora.", 2);

	new action[64];
	format(action, sizeof action, "le enseña su placa a %s.", PLAYER_TEMP[params[0]][pt_RP_NAME]);
	Auto_SendPlayerAction(playerid, action);

	SendClientMessageEx(params[0], -1, ""YELLOW"%s %c. %s {A9C4E4}[Placa: %d]", POLICE_RANKS[ PLAYER_WORKS[playerid][WORK_POLICE][pwork_LEVEL] ], PLAYER_TEMP[playerid][pt_FIRST_NAME][0], PLAYER_TEMP[playerid][pt_SUB_NAME], PI[playerid][pi_PLACA_PD]);
	return 1;
}

CMD:licencia(playerid, params[])
{
	if(sscanf(params, "u", params[0])) return ShowPlayerMessage(playerid, "Error: /licencia [PlayerID/Nombre]", 2);
	if(!IsPlayerConnected(params[0])) return ShowPlayerMessage(playerid, "El jugador no está conectado.", 2);
	new Float:pos[3]; GetPlayerPos(params[0], pos[0], pos[1], pos[2]);
	if(!IsPlayerInRangeOfPoint(playerid, 2.0, pos[0], pos[1], pos[2])) return ShowPlayerMessage(playerid, "Este jugador no está cerca tuya.", 2);

	if(PI[playerid][pi_DRIVE_LICENSE_POINTS] == 0) SendFormatNotification(params[0], "~r~%s~w~ no tiene licencia de conducción.", PLAYER_TEMP[playerid][pt_RP_NAME]);
	else
	{
		new action[128];
		format(action, 128, "le muestra su licencia de conducir a %s.", PLAYER_TEMP[params[0]][pt_RP_NAME]);
		Auto_SendPlayerAction(playerid, action);
		SendClientMessageEx(params[0], -1, ""YELLOW"Licencia de conducir de %s, puntos: %d.", PLAYER_TEMP[playerid][pt_RP_NAME], PI[playerid][pi_DRIVE_LICENSE_POINTS]);
	}
	return 1;
}

CMD:c(playerid, params[])
{
	if(!PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET]) return ShowPlayerMessage(playerid,"No eres policía.", 2);
	if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_POLICE) return ShowPlayerMessage(playerid,"{999999}No estás de servicio.", 2);
	if(sscanf(params, "ud", params[0], params[1])) return ShowPlayerMessage(playerid, "/cargos [PlayerID/Nombre] [nivel de búsqueda 0-6]", 2);
	if(params[1] < 0 || params[1] > 6) return ShowPlayerMessage(playerid,"/cargos {FFFFFF}[PlayerID/Nombre] [nivel de búsqueda 0-6]", 2);
	if(PLAYER_WORKS[params[0]][WORK_POLICE][pwork_SET]) return ShowPlayerMessage(playerid, "Este jugador es policía.", 2);

	new Float:pos[3]; GetPlayerPos(params[0], pos[0], pos[1], pos[2]);
	if(!IsPlayerInRangeOfPoint(playerid, 100.0, pos[0], pos[1], pos[2])) return ShowPlayerMessage(playerid,"Este jugador no está cerca tuyo. (El está a más de 100 metros)");

	if(!IsPlayerConnected(params[0])) return ShowPlayerMessage(playerid,"El jugador no está conectado.", 2);
	if(PI[params[0]][pi_STATE] == ROLEPLAY_STATE_JAIL) return ShowPlayerMessage(playerid,"Esta persona está en la cárcel.", 2);
	new str5_text[500],texto[500];
	PI[params[0]][pi_WANTED_LEVEL] = params[1];
	SetPlayerWantedLevelEx(params[0], PI[params[0]][pi_WANTED_LEVEL]);

    new
    	zone[45],
    	city[45];

    GetPlayerZones(playerid, city, zone);

	SendFormatNotification(playerid,"Has asignado nivel de búsqueda %d a %s.", PI[params[0]][pi_WANTED_LEVEL], PLAYER_TEMP[params[0]][pt_RP_NAME]);
    switch(params[1])
	{
		case 0: format(str5_text,sizeof(str5_text),"tiene todo en orden, lo dejo continuar.", 2);
		case 1:	format(str5_text,sizeof(str5_text),"parece sospechoso, lo voy a interrogar.", 1), SendFormatNotification(params[0],"Un oficial de la ley te coloco cargos, ve hablar con unos para qué te los quite.", 2);
		case 2: format(str5_text,sizeof(str5_text),"se da a la fuga, procedemos a su persecución.", 2);
		case 3: format(str5_text,sizeof(str5_text),"se encuentra armado, procedan con precaución.", 2);
		case 4: format(str5_text,sizeof(str5_text),"abrió fuego, necesito refuerzos.", 2);
		case 5: format(str5_text,sizeof(str5_text),"asesinó, detener vivo o muerto.", 2);
		case 6: format(str5_text,sizeof(str5_text),"es extremadamente peligroso, disparen a matar.", 2);
	}

	format(texto, sizeof(texto), "%s %s dice: (por radio) %s %s", POLICE_RANKS[PLAYER_WORKS[playerid][WORK_POLICE][pwork_LEVEL]], PLAYER_TEMP[playerid][pt_RP_NAME], PLAYER_TEMP[params[0]][pt_RP_NAME], str5_text);
	ProxDetector(playerid, 15.0, texto, COLOR_FADE1, COLOR_FADE2, COLOR_FADE3, COLOR_FADE4, COLOR_FADE5, 85);
	SendPoliceRadioMessage(PLAYER_TEMP[playerid][pt_POLICE_RADIO], 0x0087ffFF, texto);
	return 1;
}

CMD:desarmar(playerid,params[])
{
	if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 0;
	new to_player;
	if(sscanf(params, "u", to_player)) return SendClientMessage(playerid, -1, "* Uso: /desarmar <ammount>");
	if(!IsPlayerConnected(to_player)) return SendClientMessageEx(playerid, -1, "* ERROR: Jugador (%d) desconectado", to_player);
	if(PI[to_player][pi_ADMIN_LEVEL] > PI[playerid][pi_ADMIN_LEVEL]) return SendClientMessage(playerid, -1, "* ERROR: El rango administrativo de este jugador es superior al tuyo.");

	ResetPlayerWeapons(to_player);
	SendClientMessage(playerid, -1, "* Usuario desarmado.");

	SendCmdLogToAdmins(playerid, "disarm", params);
	if(PI[to_player][pi_DER_CANT] > 1) {PI[to_player][pi_DER_CANT] --;}else{PI[to_player][pi_DER_CANT] = 0;PI[to_player][pi_MANO_DER] = 0;}
	return 1;
}

CMD:dararma(playerid, params[])
{
	if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 0;
	new to_player, value;
	if(sscanf(params, "ud", to_player, value)) return SendClientMessage(playerid, -1, "* Uso: /dar arma <id> <arma>");
	if(!IsPlayerConnected(to_player)) return SendClientMessageEx(playerid, -1, "* ERROR: Jugador (%d) desconectado", to_player);
	if(PI[to_player][pi_ADMIN_LEVEL] > PI[playerid][pi_ADMIN_LEVEL]) return SendClientMessage(playerid, -1, "* ERROR: El rango administrativo de este jugador es superior al tuyo.");

    new player_slot = GetEmptyInvSlot(to_player);
    if(player_slot == -1) return SendNotification(playerid, "No tiene mas espacio en sus bolsillos.");
    
    new checki = value;
    PI[playerid][pi_BOL][player_slot] = checki;
    PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
	SendClientMessageEx(playerid, -1, "Diste a {bfbfbf}%s{edcf2a} el arma %d.", PI[to_player][pi_NAME], value);
	SendCmdLogToAdmins(playerid, "giveweapon", params);
	return 1;
}

CMD:revisar(playerid, params[])
{
	if(!PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET]) return ShowPlayerMessage(playerid, "No eres policía o Militar.", 2);
	if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_POLICE) return ShowPlayerMessage(playerid, "No estás de servicio como policía o Militar.", 2);
	if(sscanf(params, "u", params[0])) return ShowPlayerMessage(playerid, "Error: /revisar [PlayerID/Nombre]", 2);
	if(GetPlayerState(playerid) != PLAYER_STATE_ONFOOT) return ShowPlayerMessage(playerid, "No estás depie.", 2);

	if(!IsPlayerConnected(params[0])) return ShowPlayerMessage(playerid, "El jugador no está conectado.", 2);
	new Float:pos[3]; GetPlayerPos(params[0], pos[0], pos[1], pos[2]);
	if(!IsPlayerInRangeOfPoint(playerid, 2.0, pos[0], pos[1], pos[2])) return ShowPlayerMessage(playerid, "Este jugador no está cerca tuya.", 2);
	if(PLAYER_TEMP[params[0]][pt_GAME_STATE] != GAME_STATE_NORMAL) return ShowPlayerMessage(playerid, "No puedes revisar a este jugador ahora.", 2);
	if(GetPlayerState(params[0]) != PLAYER_STATE_ONFOOT) return ShowPlayerMessage(playerid, "Para revisar a esta persona tiene que estar depie.", 2);
	if(PI[params[0]][pi_WANTED_LEVEL] == 0) return ShowPlayerMessage(playerid, "Esta persona no tiene nivel de búsqueda.", 2);
	if(!PLAYER_TEMP[params[0]][pt_CUFFED]) return ShowPlayerMessage(playerid, "Para revisar a esta persona tiene que estar esposada.", 2);

	ShowPlayerInventory(playerid, params[0]);

	new action[64];
	format(action, sizeof action, "revisa a %s.", PLAYER_TEMP[params[0]][pt_RP_NAME]);
	Auto_SendPlayerAction(playerid, action);
	return 1;
}

CMD:puntos(playerid, params[])
{
	if(!PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET]) return ShowPlayerMessage(playerid, "No eres policía.", 2);
	if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_POLICE) return ShowPlayerMessage(playerid, "No estás de servicio como policía.", 2);
	if(sscanf(params, "ud", params[0], params[1])) return ShowPlayerMessage(playerid, "Error: /puntos [PlayerID/Nombre] [cantidad]", 2);
	if(params[1] < 1 || params[1] > 12) return ShowPlayerMessage(playerid, "Error: cantidad de puntos no válida.", 2);
	if(GetPlayerState(playerid) != PLAYER_STATE_ONFOOT) return ShowPlayerMessage(playerid, "No estás depie.", 2);

	if(!IsPlayerConnected(params[0])) return ShowPlayerMessage(playerid, "El jugador no está conectado.", 2);
	new Float:pos[3]; GetPlayerPos(params[0], pos[0], pos[1], pos[2]);
	if(!IsPlayerInRangeOfPoint(playerid, 2.0, pos[0], pos[1], pos[2])) return ShowPlayerMessage(playerid, "Este jugador no está cerca tuya.", 2);
	if(PLAYER_TEMP[params[0]][pt_GAME_STATE] != GAME_STATE_NORMAL) return ShowPlayerMessage(playerid, "No puedes quitarle puntos a este jugador ahora.", 2);

	PI[params[0]][pi_DRIVE_LICENSE_POINTS] -= params[1];
	if(PI[params[0]][pi_DRIVE_LICENSE_POINTS] < 0) PI[params[0]][pi_DRIVE_LICENSE_POINTS] = 0;

	SendFormatNotification(playerid, "Le has quitado ~r~%d puntos~w~ del carnet a %s, ahora tiene ~r~%d puntos~w~.", params[1], PLAYER_TEMP[params[0]][pt_RP_NAME], PI[params[0]][pi_DRIVE_LICENSE_POINTS]);
	SendFormatNotification(params[0], "El policía %s te ha quitado ~r~%d puntos~w~ del carnet de conducir, te quedan ~r~%d puntos~w~.", PLAYER_TEMP[playerid][pt_RP_NAME], params[1], PI[params[0]][pi_DRIVE_LICENSE_POINTS]);
	return 1;
}

CMD:requisar(playerid, params[])
{
	if(!PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET]) return ShowPlayerMessage(playerid, "No eres policía o Militar.", 2);
	if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_POLICE) return ShowPlayerMessage(playerid, "No estás de servicio como policía o Militar.", 2);
	if(sscanf(params, "u", params[0])) return ShowPlayerMessage(playerid, "Error: /requisar [PlayerID/Nombre]", 2);
	if(GetPlayerState(playerid) != PLAYER_STATE_ONFOOT) return ShowPlayerMessage(playerid, "No estás depie.", 2);

	if(!IsPlayerConnected(params[0])) return ShowPlayerMessage(playerid, "El jugador no está conectado.", 2);
	new Float:pos[3]; GetPlayerPos(params[0], pos[0], pos[1], pos[2]);
	if(!IsPlayerInRangeOfPoint(playerid, 2.0, pos[0], pos[1], pos[2])) return ShowPlayerMessage(playerid, "Este jugador no está cerca tuya.", 2);
	if(PLAYER_TEMP[params[0]][pt_GAME_STATE] != GAME_STATE_NORMAL) return ShowPlayerMessage(playerid, "No puedes revisar a este jugador ahora.", 2);
	if(GetPlayerState(params[0]) != PLAYER_STATE_ONFOOT) return ShowPlayerMessage(playerid, "Para revisar a esta persona tiene que estar depie.", 2);
	if(PI[params[0]][pi_WANTED_LEVEL] == 0) return ShowPlayerMessage(playerid, "Esta persona no tiene nivel de búsqueda.", 2);
	if(!PLAYER_TEMP[params[0]][pt_CUFFED]) return ShowPlayerMessage(playerid, "Para revisar a esta persona tiene que estar esposada.", 2);

	DeleteIlegalInv(params[0]);

	new action[64];
	format(action, sizeof action, "requisa las pertenencias ilegales de %s.", PLAYER_TEMP[params[0]][pt_RP_NAME]);
	Auto_SendPlayerAction(playerid, action);
	return 1;
}

CMD:vp(playerid, params[])
{
	if(!PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET]) return SendNotification(playerid, "No eres policía.");
	if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_POLICE) return SendNotification(playerid, "No estás de servicio como policía.");
	if(PLAYER_WORKS[playerid][WORK_POLICE][pwork_LEVEL] < 9) return SendNotification(playerid, "Tienes que ser sargento para hacer esto");

	new modelid;

	if(sscanf(params, "d", modelid)) return SendNotification(playerid, "Aviso~r~ /vp ~w~[modelid] ");

	if(modelid >= 400 || modelid <= 611)
	{
		for(new i = 0; i < 10; i++)
		{
			if(Vehicles_SAPD[playerid][i] == INVALID_VEHICLE_ID)
			{
				new Float:p[4];
				GetPlayerPos(playerid, p[0], p[1], p[2]);
				GetPlayerFacingAngle(playerid, p[3]);

				new vid = AddTestVehicle(false, modelid, p[0], p[1], p[2], p[3], 0, 1, GetPlayerInterior(playerid), GetPlayerVirtualWorld(playerid));
				PutPlayerInVehicleEx(playerid, vid, 0);

				GLOBAL_VEHICLES[vid][gb_vehicle_PARAMS_ENGINE] = 1;
				UpdateVehicleParams(vid);

				SendNotification(playerid, "Creaste un vehiculo policial");
				Vehicles_SAPD[playerid][i] = vid;
				return true;
			}
		}
	}
	else SendNotification(playerid, "Modelo incorrecto");
	return true;
}


CMD:dvp(playerid, params[])
{
	if(!PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET]) return SendNotification(playerid, "No eres policía.");
	if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_POLICE) return SendNotification(playerid, "No estás de servicio como policía.");
	if(PLAYER_WORKS[playerid][WORK_POLICE][pwork_LEVEL] < 12) return SendNotification(playerid, "Tienes que ser sargento para hacer esto");

	if(IsPlayerInAnyVehicle(playerid))
	{
		for(new i = 0; i < 10; i++)
		{
			if(Vehicles_SAPD[playerid][i] == GetPlayerVehicleID(playerid))
			{
				DestroyVehicleEx(Vehicles_SAPD[playerid][i]);
				return true;
			}
		}
	}
	else SendNotification(playerid, "Tienes que estar en un vehiculo");
	SendNotification(playerid, "Este vehiculo no fue creado por ti");
	return true;
}

CMD:ref(playerid, params[])
{
	if(PI[playerid][pi_CREW]) return Crew_RequestHelp(playerid, PI[playerid][pi_CREW]);

	if(!PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET]) return ShowPlayerMessage(playerid, "No eres policía.", 2);
	if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_POLICE) return ShowPlayerMessage(playerid, "No estás de servicio como policía.", 2);

	if(PLAYER_TEMP[playerid][pt_REF_CALLED] == 0)
	{
		PLAYER_TEMP[playerid][pt_REF_CALLED] = 1;
		new city[45], zone[45];
		GetPlayerZones(playerid, city, zone);
		new message[145];
		format(message, sizeof message, "{1886e9}[Central policía] {FFFFFF}%s %s necesita refuerzos en {29f90f}[%s, %s]", POLICE_RANKS[ PLAYER_WORKS[playerid][WORK_POLICE][pwork_LEVEL] ], PLAYER_TEMP[playerid][pt_RP_NAME], city, zone);
		SendPoliceRadioMessage(-1, -1, message);
		for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
		{
			if(IsPlayerConnected(i))
			{
				if(PLAYER_WORKS[i][WORK_POLICE][pwork_SET] && PLAYER_TEMP[i][pt_WORKING_IN] == WORK_POLICE)
				{
					SetPlayerMarkerForPlayer(i, playerid, 0x1B85C8FF);
				}
			}
		}
	}
	else
	{
		for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
		{
			SetPlayerMarkerForPlayer(i, playerid, 0xFFFFFF00);
		}
		SendClientMessage(playerid, -1, "{1886e9}[Central de policía] {ffffff}Dejaste de compartir tu ubicación");
		PLAYER_TEMP[playerid][pt_REF_CALLED] = 0;
	}
	return true;
}
alias:ref("refuerzos");

CMD:control(playerid, params[])
{
	if(!PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET]) return ShowPlayerMessage(playerid, "No eres policía.", 2);
	if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_POLICE) return ShowPlayerMessage(playerid, "No estás de servicio como policía.", 2);
	if(PLAYER_WORKS[playerid][WORK_POLICE][pwork_LEVEL] < 8) return SendFormatNotification(playerid, "Debes ser al menos rango ~r~%s~w~ para colocar objetos policiales.", POLICE_RANKS[8]);

	if(GetPlayerVirtualWorld(playerid) != 0 || GetPlayerInterior(playerid) != 0) return ShowPlayerMessage(playerid, "No puedes colocar objetos policiales aquí.", 2);

	new type;
	if(sscanf(params, "d", type)) return ShowPlayerMessage(playerid, "~r~Modo de uso: ~w~/control [Tipo 1-5]", 2);

	new modelid;
	switch(type)
	{
		case 1: modelid = 1459;
		case 2: modelid = 1238;
		case 3: modelid = 1425;
		case 4: modelid = 3265;
		case 5: modelid = 3091;
		default: return ShowPlayerMessage(playerid, "Tipo de objeto no válido.", 2);
	}

	new index = GetFreePoliceObjectSlot();
	if(index == -1) return ShowPlayerMessage(playerid, "No se pueden crear más objetos policiales.", 2);

	POLICE_OBJECTS[index][police_object_VALID] = true;
	format(POLICE_OBJECTS[index][police_object_USER], 24, "%s", PI[playerid][pi_NAME]);

	new Float:pos[3], Float:angle;
	GetPlayerPos(playerid, pos[0], pos[1], pos[2]);
	GetPlayerFacingAngle(playerid, angle);
	pos[0] += (1.5 * floatsin(-angle, degrees));
	pos[1] += (1.5 * floatcos(-angle, degrees));

	POLICE_OBJECTS[index][police_object_OBJECT_ID] = CreateDynamicObject(modelid, pos[0], pos[1], pos[2], 0.0, 0.0, angle, GetPlayerVirtualWorld(playerid), 0);
	Streamer_Update(playerid);
	new info[3];
	info[0] = OBJECT_TYPE_POLICE;
	info[1] = index; // Index
	Streamer_SetArrayData(STREAMER_TYPE_OBJECT, POLICE_OBJECTS[index][police_object_OBJECT_ID], E_STREAMER_EXTRA_ID, info);
	PLAYER_TEMP[playerid][pt_SELECTED_POLICE_OBJECT_INDEX] = index;
	EditDynamicObject(playerid, POLICE_OBJECTS[index][police_object_OBJECT_ID]);

	ShowPlayerMessage(playerid, "Coloca el objeto, posteriormente puedes usar /econtrol para moverlo o eliminarlo.", 2);
	return 1;
}

CMD:econtrol(playerid, params[])
{
	if(!PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET]) return ShowPlayerMessage(playerid, "No eres policía.", 2);
	if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_POLICE) return ShowPlayerMessage(playerid, "No estás de servicio como policía.", 2);
	if(PLAYER_WORKS[playerid][WORK_POLICE][pwork_LEVEL] < 8) return SendFormatNotification(playerid, "Debes ser al menos rango ~r~%s~w~ para editar objetos policiales.", POLICE_RANKS[8]);

	if(GetPlayerVirtualWorld(playerid) != 0 || GetPlayerInterior(playerid) != 0) return ShowPlayerMessage(playerid, "No puedes editar objetos policiales aquí.", 2);

	SelectObject(playerid);
	return 1;
}

public OnPlayerSelectDynamicObject(playerid, STREAMER_TAG_OBJECT objectid, modelid, Float:x, Float:y, Float:z)
{
	new info[3];
	Streamer_GetArrayData(STREAMER_TYPE_OBJECT, objectid, E_STREAMER_EXTRA_ID, info);

	switch(info[0])
	{
		case OBJECT_TYPE_POLICE:
		{
			if(!PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET])
			{
				CancelEdit(playerid);
				ShowPlayerMessage(playerid, "No eres policía.", 2);
				return 1;
			}
			if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_POLICE)
			{
				CancelEdit(playerid);
				ShowPlayerMessage(playerid, "No estás de servicio como policía.", 2);
				return 1;
			}
			if(PLAYER_WORKS[playerid][WORK_POLICE][pwork_LEVEL] < 8)
			{
				CancelEdit(playerid);
				SendFormatNotification(playerid, "Debes ser al menos rango ~r~%s~w~ para colocar objetos policiales.", POLICE_RANKS[8]);
				return 1;
			}

			SendFormatNotification(playerid, "Este objeto fue colocado por ~g~%s.~n~~n~~w~ Usa ~g~'ESC'~w~ para borrar el objeto, o usa los controles para moverlo.", POLICE_OBJECTS[ info[1] ][police_object_USER]);
			PLAYER_TEMP[playerid][pt_SELECTED_POLICE_OBJECT_INDEX] = info[1];
			EditDynamicObject(playerid, objectid);
			return 1;
		}
		default: {
			if(PI[playerid][pi_ADMIN_LEVEL] == CMD_DEVELOPER) {
				EditDynamicObject(playerid, objectid);
			}
		}
	}

	return 1;
}

SetCorrectObjectPos(objectid)
{
	new Float:x, Float:y, Float:z, Float:rx, Float:ry, Float:rz;
	GetDynamicObjectPos(objectid, x, y, z);
	GetDynamicObjectRot(objectid, rx, ry, rz);

	SetDynamicObjectPos(objectid, x, y, z);
	SetDynamicObjectRot(objectid, rx, ry, rz);
}

public OnPlayerEditDynamicObject(playerid, STREAMER_TAG_OBJECT objectid, response, Float:x, Float:y, Float:z, Float:rx, Float:ry, Float:rz)
{
	switch(response)
	{
		case EDIT_RESPONSE_CANCEL:
		{
			new info[3];
			Streamer_GetArrayData(STREAMER_TYPE_OBJECT, objectid, E_STREAMER_EXTRA_ID, info);
			switch(info[0])
			{
				case OBJECT_TYPE_POLICE:
				{
					if(!PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET])
					{
						CancelEdit(playerid);
						ShowPlayerMessage(playerid, "No eres policía.", 2);
						return 1;
					}
					if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_POLICE)
					{
						CancelEdit(playerid);
						ShowPlayerMessage(playerid, "No estás de servicio como policía.", 2);
						return 1;
					}
					if(PLAYER_WORKS[playerid][WORK_POLICE][pwork_LEVEL] < 8)
					{
						CancelEdit(playerid);
						SendFormatNotification(playerid, "Debes ser al menos rango ~r~%s~w~ para colocar objetos policiales.", POLICE_RANKS[8]);
						return 1;
					}

					DestroyDynamicObject(POLICE_OBJECTS[ info[1] ][police_object_OBJECT_ID]);
					POLICE_OBJECTS[ info[1] ][police_object_VALID] = false;
					POLICE_OBJECTS[ info[1] ][police_object_USER][0] = EOS;
					POLICE_OBJECTS[ info[1] ][police_object_OBJECT_ID] = INVALID_STREAMER_ID;
					ShowPlayerMessage(playerid, "Objeto policial eliminado.", 2);
				}
			}
		}
		case EDIT_RESPONSE_FINAL:
		{
			new info[3];
			Streamer_GetArrayData(STREAMER_TYPE_OBJECT, objectid, E_STREAMER_EXTRA_ID, info);

			switch(info[0])
			{
				case OBJECT_TYPE_POLICE:
				{
					if(!PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET])
					{
						CancelEdit(playerid);
						ShowPlayerMessage(playerid, "No eres policía.", 2);
						SetCorrectObjectPos(objectid);
						return 1;
					}
					if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_POLICE)
					{
						CancelEdit(playerid);
						ShowPlayerMessage(playerid, "No estás de servicio como policía.", 2);
						SetCorrectObjectPos(objectid);
						return 1;
					}
					if(PLAYER_WORKS[playerid][WORK_POLICE][pwork_LEVEL] < 8)
					{
						CancelEdit(playerid);
						SendFormatNotification(playerid, "Debes ser al menos rango ~r~%s~w~ para colocar objetos policiales.", POLICE_RANKS[8]);
						SetCorrectObjectPos(objectid);
						return 1;
					}

					SetDynamicObjectPos(objectid, x, y, z);
					SetDynamicObjectRot(objectid, rx, ry, rz);

					ShowPlayerMessage(playerid, "Objeto movido correctamente");

					format(POLICE_OBJECTS[ info[1] ][police_object_USER], 24, "%s", PI[playerid][pi_NAME]);

				}
				case OBJECT_TYPE_TEST: {
					printf("CreateDynamicObject(%d, %f, %f, %f, %f, %f, %f);", Streamer_GetIntData(STREAMER_TYPE_OBJECT, objectid, E_STREAMER_MODEL_ID), x, y, z, rx, ry, rz);
				}
			}
		}
	}
	
	if(response == EDIT_RESPONSE_UPDATE)
    {
    // Actualizamos la posición y rotación en el Streamer 
    // para que el cliente (Android) reciba la actualización de red
    Streamer_SetFloatData(STREAMER_TYPE_OBJECT, objectid, E_STREAMER_X, x);
    Streamer_SetFloatData(STREAMER_TYPE_OBJECT, objectid, E_STREAMER_Y, y);
    Streamer_SetFloatData(STREAMER_TYPE_OBJECT, objectid, E_STREAMER_Z, z);
    Streamer_SetFloatData(STREAMER_TYPE_OBJECT, objectid, E_STREAMER_R_X, rx);
    Streamer_SetFloatData(STREAMER_TYPE_OBJECT, objectid, E_STREAMER_R_Y, ry);
    Streamer_SetFloatData(STREAMER_TYPE_OBJECT, objectid, E_STREAMER_R_Z, rz);
    }

    if(PLAYER_TEMP[playerid][pt_EDITING_BASURERO] != -1)
    {
        new i = PLAYER_TEMP[playerid][pt_EDITING_BASURERO];
    if(response == EDIT_RESPONSE_FINAL) // Si le dio a Guardar
    {
        BasureroData[i][ba_X] = x;
        BasureroData[i][ba_Y] = y;
        BasureroData[i][ba_Z] = z;
        BasureroData[i][ba_RX] = rx;
        BasureroData[i][ba_RY] = ry;
        BasureroData[i][ba_RZ] = rz;
        PLAYER_TEMP[playerid][pt_EDITING_BASURERO] = -1;
        // Ahora lo insertamos en la DB
        new query[256];
    // Mandamos el ID manual a la columna 'id'
    mysql_format(srp_db, query, sizeof(query), 
        "INSERT INTO basureros (id, pos_x, pos_y, pos_z, rot_x, rot_y, rot_z) VALUES (%d, %f, %f, %f, %f, %f, %f)", 
        i, x, y, z, rx, ry, rz);
    
    mysql_tquery(srp_db, query, "OnBasureroConfirmado", "ii", playerid, i);
    }
    else if(response == EDIT_RESPONSE_CANCEL) // Si le dio a la X (cancelar)
    {
        PLAYER_TEMP[playerid][pt_EDITING_BASURERO] = -1;
        DestroyDynamicObject(BasureroData[i][ba_OBJETO_ID]);
        SendClientMessage(playerid, -1, "Creación de basurero cancelada.");
    }
    }
    
	return 1;
}
CMD:multar(playerid, params[])
{
	if(!PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET]) return ShowPlayerMessage(playerid, "No eres policía.", 2);
	if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_POLICE) return ShowPlayerMessage(playerid, "No estás de servicio como policía.", 2);
	if(sscanf(params, "ud", params[0], params[1])) return ShowPlayerMessage(playerid, "~r~Modo de uso: ~w~/multar [PlayerID/Nombre] [precio$]", 2);
	if(params[1] < 0) return ShowPlayerMessage(playerid, "El precio no puede ser menor a 0$.", 2);
	else if(params[1] > 100000) return ShowPlayerMessage(playerid, "El precio no puede ser mayor a 100.000$.", 2);

	if(!IsPlayerConnected(params[0])) return ShowPlayerMessage(playerid, "El jugador no está conectado.", 2);
	new Float:pos[3]; GetPlayerPos(params[0], pos[0], pos[1], pos[2]);
	if(!IsPlayerInRangeOfPoint(playerid, 5.0, pos[0], pos[1], pos[2])) return ShowPlayerMessage(playerid, "Este jugador no está cerca tuya.", 2);
	if(PLAYER_TEMP[params[0]][pt_GAME_STATE] != GAME_STATE_NORMAL) return ShowPlayerMessage(playerid, "No puedes multar a este jugador ahora.", 2);
	if(PI[params[0]][pi_STATE] == ROLEPLAY_STATE_ARRESTED || PI[params[0]][pi_STATE] == ROLEPLAY_STATE_JAIL) return ShowPlayerMessage(playerid, "No puedes multar a este jugador ahora.", 2);

	PLAYER_TEMP[params[0]][pt_POLICE_PEN_PID] = playerid;
	PLAYER_TEMP[params[0]][pt_POLICE_PEN_AID] = PI[playerid][pi_ID];
	PLAYER_TEMP[params[0]][pt_POLICE_PEN_IM] = params[1];
	PLAYER_TEMP[params[0]][pt_POLICE_PEN_TIME] = gettime();
	ShowDialog(params[0], DIALOG_POLICE_PENALTY);

	ShowPlayerMessage(playerid, "La multa ha sido enviada, espera para ver si el jugador la acepta.", 2);
	return 1;
}


CMD:arrestar(playerid, params[])
{
	if(!PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET]) return ShowPlayerMessage(playerid, "No eres policía O militar.", 2);
	if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_POLICE) return ShowPlayerMessage(playerid, "No estás de servicio como policía o Militar.", 2);

	if(sscanf(params, "ud", params[0], params[1])) return ShowPlayerMessage(playerid, "Error: /acoche [PlayerID/Nombre] [Asiento 1 - 2 - 3]", 2);
	if(params[1] < 1 || params[1] > 3) return ShowPlayerMessage(playerid, "Error: /acoche [PlayerID/Nombre] [Asiento 1 - 2 - 3]", 2);
	params[1] ++;

	if(!IsPlayerInAnyVehicle(playerid)) return ShowPlayerMessage(playerid, "Para arrestar tienes que estar dentro de un vehiculo policial.", 2);

	new vehicleid = GetPlayerVehicleID(playerid);
	if(!WORK_VEHICLES[vehicleid][work_vehicle_VALID]) return ShowPlayerMessage(playerid, "Para arrestar tienes que estar dentro de un vehiculo policial.", 2);
	if(WORK_VEHICLES[vehicleid][work_vehicle_WORK] != WORK_POLICE) return ShowPlayerMessage(playerid, "Para arrestar tienes que estar dentro de un vehiculo policial.", 2);
	if(!AsientoLibre(vehicleid, params[1])) return  ShowPlayerMessage(playerid, "Error: El asiento seleccionado no esta libre");
	if( (params[1] + 1) > VEHICLE_INFO[ GLOBAL_VEHICLES[vehicleid][gb_vehicle_MODELID] - 400 ][vehicle_info_SEATS]) return SendFormatNotification(playerid, "Este vehiculo es de %d pasajeros, así que no puedes llevar arrestados en él.", VEHICLE_INFO[ GLOBAL_VEHICLES[vehicleid][gb_vehicle_MODELID] - 400 ][vehicle_info_SEATS]);
	if(!IsPlayerConnected(params[0])) return ShowPlayerMessage(playerid, "El jugador no está conectado.", 2);
	new Float:pos[3]; GetPlayerPos(params[0], pos[0], pos[1], pos[2]);
	if(!IsPlayerInRangeOfPoint(playerid, 5.0, pos[0], pos[1], pos[2])) return ShowPlayerMessage(playerid, "Este jugador no está cerca tuya.", 2);
	if(PLAYER_TEMP[params[0]][pt_GAME_STATE] != GAME_STATE_NORMAL) return ShowPlayerMessage(playerid, "No puedes arrestar a este jugador ahora.", 2);
	if(PI[params[0]][pi_WANTED_LEVEL] == 0) return ShowPlayerMessage(playerid, "Esta persona no tiene nivel de búsqueda.", 2);
	if(!PLAYER_TEMP[params[0]][pt_CUFFED] && PI[params[0]][pi_STATE] != ROLEPLAY_STATE_CRACK) return ShowPlayerMessage(playerid, "Para arrestar a esta persona tiene que estar esposada.", 2);
	
	KillTimer(PLAYER_TEMP[params[0]][pt_CUFFED_TIMER]);
	PLAYER_TEMP[params[0]][pt_CUFFED_TIMER] = -1;

	if(PI[params[0]][pi_STATE] == ROLEPLAY_STATE_ARRESTED)
	{
		TogglePlayerControllableEx(params[0], true);
		PLAYER_TEMP[params[0]][pt_CUFFED] = false;
		PLAYER_TEMP[params[0]][pt_CUFFING] = false;
		PI[params[0]][pi_STATE] = ROLEPLAY_STATE_NORMAL;

		SendFormatNotification(playerid, "Has soltado a ~r~%s~w~.", PLAYER_TEMP[params[0]][pt_RP_NAME]);
		return 1;
	}
	else
	{
		if(PI[params[0]][pi_STATE] == ROLEPLAY_STATE_CRACK) {
			DisablePlayerInjuredMark(params[0]);
			ApplyAnimation(params[0], "CARRY", "crry_prtial", 4.1, 0, 0, 0, 0, 0, true);
			ClearAnimations(params[0]);
		}

		PI[params[0]][pi_STATE] = ROLEPLAY_STATE_ARRESTED;
		TogglePlayerControllableEx(params[0], false);
		PutPlayerInVehicleEx(params[0], vehicleid, params[1]);
	}
	return 1;
}

CMD:off(playerid, params[])
{
	if(PI[playerid][pi_ADMIN_LEVEL] < 4)return ShowPlayerMessage(playerid,"No estás autorizado para usar este comando.", 2);
	twAvalible = !twAvalible;
	if(twAvalible) SendFormatNotification(playerid, "~w~El canal de ~y~[/t] y [/ta] (twitter) ~w~ha sido habilitado por un administrador");
	else SendFormatNotification(playerid, "~w~El canal de ~y~[/t] y [/ta] (twitter) ~w~ha sido deshabilitado por un administrador.", 2);
	return 1;
}

CMD:scoche(playerid, params[])
{
	if(!PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET]) return ShowPlayerMessage(playerid, "No eres policía O Militar.", 2);
	if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_POLICE) return ShowPlayerMessage(playerid, "No estás de servicio como policía o militar.", 2);
	new to_player;
	if(IsPlayerInAnyVehicle(playerid))
	{
		if(GetPlayerState(playerid) != PLAYER_STATE_DRIVER) return ShowPlayerMessage(playerid, "No eres piloto de la unidad");
		if(sscanf(params, "u", to_player)) return ShowPlayerMessage(playerid, "~r~Modo de uso~w~ /scoche [playerid]", 2);
		if(playerid == to_player) return false;
		if(IsPlayerConnected(to_player))
		{
				if(GetPlayerVehicleID(playerid) == GetPlayerVehicleID(to_player))
				{
					new messageToAme[128];
					format(messageToAme, sizeof(messageToAme), "toma a %s y lo expulsa del vehiculo", PLAYER_TEMP[to_player][pt_RP_NAME]);
					Auto_SendPlayerAction(playerid, messageToAme);
					RemovePlayerFromVehicle(to_player);
					return true;
				}
				else ShowPlayerMessage(playerid, "Usuario no comparte vehiculo contigo");
		}
		else ShowPlayerMessage(playerid, "Usuario no conectado");
	}
	else ShowPlayerMessage(playerid, "No estas en ningún vehiculo");
	return true;
}


new InfoAsientos[38] =
{
425, 430, 432, 441, 446, 448, 452, 453,
454, 464, 465, 472, 473, 476, 481, 484,
485, 486, 493, 501, 509, 510, 519, 520,
530, 531, 532, 539, 553, 564, 568, 571,
572, 574, 583, 592, 594, 595
};

stock AsientoLibre(vehicleid, seat)
{
new carmodel = GetVehicleModel(vehicleid);
for (new i = 0; i < sizeof( InfoAsientos ); i++ )
{
    if( carmodel == InfoAsientos[i] ) return 0;
}
for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
{
    if(GetPlayerVehicleID(i) == vehicleid && GetPlayerVehicleSeat(i) == seat) return 0;
}
return 1;
}


CMD:derechos(playerid, params[])
{
	if(!PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET]) return ShowPlayerMessage(playerid, "No eres policía o Militar.", 2);
	if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_POLICE) return ShowPlayerMessage(playerid, "No estás de servicio como policía o militar..", 2);
	new string[128];
    format(string, sizeof(string),"%s dice: Tiene derecho a saber porque se le detiene.", PLAYER_TEMP[playerid][pt_RP_NAME]);
    ProxDetector(playerid, 15.0, string, COLOR_FADE1, COLOR_FADE2, COLOR_FADE3, COLOR_FADE4, COLOR_FADE5, 85);
    format(string, sizeof(string),"%s dice: Tiene derecho a comida y bebida una vez estè en su respectiva celda.", PLAYER_TEMP[playerid][pt_RP_NAME]);
    ProxDetector(playerid, 15.0, string, COLOR_FADE1, COLOR_FADE2, COLOR_FADE3, COLOR_FADE4, COLOR_FADE5, 85);
    format(string, sizeof(string),"%s dice: Tiene derecho a recibir asistencia mèdica, ùnicamente si lo necesita.",PLAYER_TEMP[playerid][pt_RP_NAME]);
    ProxDetector(playerid, 15.0, string, COLOR_FADE1, COLOR_FADE2, COLOR_FADE3, COLOR_FADE4, COLOR_FADE5, 85);
    format(string, sizeof(string),"%s dice: Tiene derecho a guardar silencio, de lo contrario todo lo que diga puede ser usado en su contra.",PLAYER_TEMP[playerid][pt_RP_NAME]);
    ProxDetector(playerid, 15.0, string, COLOR_FADE1, COLOR_FADE2, COLOR_FADE3, COLOR_FADE4, COLOR_FADE5, 85);

	return true;
}

CMD:callsing(playerid, params[])
{
	if(!PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET]) return ShowPlayerMessage(playerid, "No eres policía.", 2);
	if(isnull(params)) return ShowPlayerMessage(playerid, "Error: /callsing [Texto]", 2);
	if(!IsPlayerInAnyVehicle(playerid)) return ShowPlayerMessage(playerid, "Para asignar callsing tienes que estar dentro de un vehiculo policial.", 2);

	new vehicleid = GetPlayerVehicleID(playerid);
	if(!WORK_VEHICLES[vehicleid][work_vehicle_VALID]) return ShowPlayerMessage(playerid, "Para asignar callsing tienes que estar dentro de un vehiculo policial.", 2);
	if(WORK_VEHICLES[vehicleid][work_vehicle_WORK] != WORK_POLICE) return ShowPlayerMessage(playerid, "Para asignar callsing tienes que estar dentro de un vehiculo policial.", 2);

	if(IsValidDynamic3DTextLabel(GLOBAL_VEHICLES[vehicleid][gb_vehicle_LABEL]))
	{
		DestroyDynamic3DTextLabel(GLOBAL_VEHICLES[vehicleid][gb_vehicle_LABEL]);
		GLOBAL_VEHICLES[vehicleid][gb_vehicle_LABEL] = Text3D:INVALID_STREAMER_ID;
	}
	GLOBAL_VEHICLES[vehicleid][gb_vehicle_LABEL] = CreateDynamic3DTextLabel(params, 0xCCCCCCCC, -0.7, -1.9, -0.3, 20.0, .attachedvehicle = vehicleid);
	return 1;
}

CMD:m(playerid, params[])
{
	if(!PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET]) return ShowPlayerMessage(playerid, "No eres policía.", 2);
	if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_POLICE) return ShowPlayerMessage(playerid, "No estás de servicio como policía o militar.", 2);

	if(!IsPlayerInAnyVehicle(playerid)) return ShowPlayerMessage(playerid, "Para usar el megáfono tienes que estar dentro de un vehiculo oficial.", 2);

	new vehicleid = GetPlayerVehicleID(playerid);
	if(!WORK_VEHICLES[vehicleid][work_vehicle_VALID]) return ShowPlayerMessage(playerid, "Para usar el megáfono tienes que estar dentro de un vehiculo oficial.", 2);
	if(isnull(params)) return ShowPlayerMessage(playerid, "Error: /m [Mensaje]", 2);

	new str_text[190];
	format(str_text, 190, "{FCBC2D}[Megafono] %s: "WHITE"%s", PLAYER_TEMP[playerid][pt_RP_NAME], params);
	ProxDetector(playerid, 40.0, str_text, 0xFF9B6AFF, 0xFF9B6AFF, 0xFF9B6AFF, 0xFF9B6AFF, 0xFF9B6AFF, 85);
	return 1;
}

PutPlayerInVehicleEx(playerid, vehicleid, seat)
{
	PLAYER_AC_INFO[playerid][CHEAT_POS][p_ac_info_IMMUNITY] = gettime() + 3;
	PLAYER_AC_INFO[playerid][CHEAT_STATE_SPAMMER][p_ac_info_IMMUNITY] = gettime() + 3;
	PLAYER_AC_INFO[playerid][CHEAT_PLAYER_VEHICLE_DOORS][p_ac_info_IMMUNITY] = gettime() + 5;
	PLAYER_AC_INFO[playerid][CHEAT_VEHICLE_NOFUEL][p_ac_info_IMMUNITY] = gettime() + 15;
	return PutPlayerInVehicle(playerid, vehicleid, seat);
}

CMD:entregar(playerid, params[])
{
	if(!PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET]) return ShowPlayerMessage(playerid, "No eres policía o Militar.", 2);
	if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_POLICE) return ShowPlayerMessage(playerid, "No estás de servicio como policía o militar..", 2);

	if(sscanf(params, "u", params[0])) return ShowPlayerMessage(playerid, "Error: /entregar [PlayerID/Nombre]", 2);

	if(GetPlayerState(playerid) != PLAYER_STATE_DRIVER) return ShowPlayerMessage(playerid, "Para entregar tienes que estar dentro de un vehiculo oficial.", 2);

	new vehicleid = GetPlayerVehicleID(playerid);
	if(!WORK_VEHICLES[vehicleid][work_vehicle_VALID]) return ShowPlayerMessage(playerid, "Para entregar tienes que estar dentro de un vehiculo oficial.", 2);
	if(WORK_VEHICLES[vehicleid][work_vehicle_WORK] != WORK_POLICE ) return ShowPlayerMessage(playerid, "Para entregar tienes que estar dentro de un vehiculo paramilitar.", 2);

	if(!IsPlayerConnected(params[0])) return ShowPlayerMessage(playerid, "El jugador no está conectado.", 2);
	new Float:pos[3]; GetPlayerPos(params[0], pos[0], pos[1], pos[2]);
	if(!IsPlayerInRangeOfPoint(playerid, 5.0, pos[0], pos[1], pos[2])) return ShowPlayerMessage(playerid, "Este jugador no está cerca tuya.", 2);
	if(PLAYER_TEMP[params[0]][pt_GAME_STATE] != GAME_STATE_NORMAL) return ShowPlayerMessage(playerid, "No puedes arrestar a este jugador ahora.", 2);
	if(GetPlayerState(params[0]) != PLAYER_STATE_PASSENGER) return ShowPlayerMessage(playerid, "Para entregar a esta persona tiene que estar dentro del vehiculo policial o militar.", 2);
	if(GetPlayerVehicleID(params[0]) != vehicleid) return ShowPlayerMessage(playerid, "Para entregar a esta persona tiene que estar dentro del vehiculo policial o militar.", 2);
	if(PI[params[0]][pi_WANTED_LEVEL] == 0) return ShowPlayerMessage(playerid, "Esta persona no tiene nivel de búsqueda.", 2);

	if(IsPlayerInRangeOfPoint(playerid, 20.0, 1564.971923, -1694.916381, 5.617697) || IsPlayerInRangeOfPoint(playerid, 20.0, 6808.6948, 5335.9800 ,14.9625))
	{
		ShowPlayerMessage(playerid, "La persona ahora está en la cárcel.", 2);
		PI[params[0]][pi_POLICE_JAIL_ID] = 0;
		ShowPlayerMessage(playerid, "Acabas de recibir $2000 por el arresto.", 2);
		GivePlayerCash(playerid, 2000);
		JailPlayer(params[0]);
	}
	else if(IsPlayerInRangeOfPoint(playerid, 20.0, -1589.333496, 716.759521, -5.515106) || IsPlayerInRangeOfPoint(playerid, 20.0, 6005.6670, 4917.3179, 23.0543))
	{
		ShowPlayerMessage(playerid, "La persona ahora está en la cárcel.", 2);
		PI[params[0]][pi_POLICE_JAIL_ID] = 0;
		ShowPlayerMessage(playerid, "Acabas de recibir $2000 por el arresto.", 2);
		GivePlayerCash(playerid, 2000);
		JailPlayer(params[0]);
	}
	else if(IsPlayerInRangeOfPoint(playerid, 20.0, 2282.200439, 2431.598632, 3.000518) || IsPlayerInRangeOfPoint(playerid, 20.0, 4405.0625, 5969.0493, 59.0018))
	{
		ShowPlayerMessage(playerid, "La persona ahora está en la cárcel.", 2);
		PI[params[0]][pi_POLICE_JAIL_ID] = 0;
		ShowPlayerMessage(playerid, "Acabas de recibir $2000 por el arresto.", 2);
		GivePlayerCash(playerid, 2000);
		JailPlayer(params[0]);
	}

	else if(IsPlayerInRangeOfPoint(playerid, 20.0,343.297515, 2537.837158, 16.772514) || IsPlayerInRangeOfPoint(playerid, 20.0, 4405.0625, 5969.0493, 59.0018))
	{
		ShowPlayerMessage(playerid, "La persona ahora está en la cárcel.", 2);
		PI[params[0]][pi_POLICE_JAIL_ID] = 0;
		ShowPlayerMessage(playerid, "Acabas de recibir $2000 por el arresto.", 2);
		GivePlayerCash(playerid, 2000);
		JailPlayer(params[0]);
	}
	else if(IsPlayerInRangeOfPoint(playerid, 20.0, 294.1199, -1546.6669, 24.5938) || IsPlayerInRangeOfPoint(playerid, 20.0, 4405.0625, 5969.0493, 59.0018))
	{
		ShowPlayerMessage(playerid, "La persona ahora está en la cárcel.", 2);
		PI[params[0]][pi_POLICE_JAIL_ID] = 0;
		ShowPlayerMessage(playerid, "Acabas de recibir $2000 por el arresto.", 2);
		GivePlayerCash(playerid, 2000);
		JailPlayer(params[0]);
	}
	else if(IsPlayerInRangeOfPoint(playerid, 20.0, 1824.5709, -1538.0658, 13.5469) || IsPlayerInRangeOfPoint(playerid, 20.0, 4405.0625, 5969.0493, 59.0018))
	{
		ShowPlayerMessage(playerid, "La persona ahora está en la cárcel.", 2);
		PI[params[0]][pi_POLICE_JAIL_ID] = 0;
		ShowPlayerMessage(playerid, "Acabas de recibir $2000 por el arresto.", 2);
		GivePlayerCash(playerid, 2000);
		JailPlayer(params[0]);
	}

	else ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);
	return 1;
}

CMD:policias(playerid, params[])
{
	if(!PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET]) return ShowPlayerMessage(playerid, "No eres policía.", 2);

	PLAYER_TEMP[playerid][pt_DIALOG_DB_LIMIT] = 10;
	PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] = 0;
	ShowDialog(playerid, DIALOG_POLICE_LIST);
	return 1;
}

CMD:resistirse(playerid, params[])
{
	if(PLAYER_TEMP[playerid][pt_CUFFING])
	{
		KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][14]);
		PLAYER_TEMP[playerid][pt_CUFFING] = false;
		TogglePlayerControllableEx(playerid, true);
		SetPlayerSpecialAction(playerid, SPECIAL_ACTION_NONE);
		Auto_SendPlayerAction(playerid, "se resiste.");
	}
	return 1;
}

forward CuffPlayer(playerid);
public CuffPlayer(playerid)
{
	StopAudioStreamForPlayer(playerid);
	SetPlayerDrunkLevel(playerid, 0);
	SetPlayerSpecialAction(playerid, SPECIAL_ACTION_NONE);
	CancelEdit(playerid);
	HidePlayerDialog(playerid);
	CallLocalFunction("EndPlayerJob", "iib", playerid, PLAYER_TEMP[playerid][pt_WORKING_IN], true);
	PLAYER_TEMP[playerid][pt_HUNGRY_MESSAGE] = false;
	PLAYER_TEMP[playerid][pt_THIRST_MESSAGE] = false;
	PLAYER_TEMP[playerid][pt_PLAYER_IN_ATM] = false;
	PLAYER_TEMP[playerid][pt_CUFFED] = false;
	PLAYER_TEMP[playerid][pt_CUFFING] = false;
	if(PLAYER_TEMP[playerid][pt_WANT_TAXI])
	{
		PLAYER_TEMP[playerid][pt_WANT_TAXI] = false;
		DisablePlayerTaxiMark(playerid);
	}
	if(PLAYER_TEMP[playerid][pt_PLAYER_IN_CALL]) EndPhoneCall(playerid);
	if(PLAYER_TEMP[playerid][pt_GPS_MAP]) HidePlayerGpsMap(playerid);
	if(PI[playerid][pi_WANTED_LEVEL] > 0) DisablePlayerPoliceMark(playerid);
	
	PLAYER_TEMP[playerid][pt_CUFFED] = true;
	PLAYER_TEMP[playerid][pt_CUFFING] = false;
	TogglePlayerControllableEx(playerid, false);
	SetPlayerSpecialAction(playerid, SPECIAL_ACTION_CUFFED);
	
	OnPlayerCuffed(playerid);
	return 1;
}

forward OnPlayerCuffed(playerid);
public OnPlayerCuffed(playerid) {
	KillTimer(PLAYER_TEMP[playerid][pt_CUFFED_TIMER]);
	PLAYER_TEMP[playerid][pt_CUFFED_TIMER] = -1;

	if (PLAYER_TEMP[playerid][pt_CUFFED] && GetPlayerState(playerid) == PLAYER_STATE_ONFOOT) {
        if(GetPlayerDistanceFromPoint(playerid, PLAYER_TEMP[playerid][pt_INJURED_POS][0], PLAYER_TEMP[playerid][pt_INJURED_POS][1], PLAYER_TEMP[playerid][pt_INJURED_POS][2]) > 0.7)
        {
            SetPlayerPosEx(playerid, PLAYER_TEMP[playerid][pt_INJURED_POS][0], PLAYER_TEMP[playerid][pt_INJURED_POS][1], PLAYER_TEMP[playerid][pt_INJURED_POS][2], PLAYER_TEMP[playerid][pt_INJURED_POS][3], GetPlayerInterior(playerid), GetPlayerVirtualWorld(playerid), false);
			SetPlayerSpecialAction(playerid, SPECIAL_ACTION_CUFFED);
		}

		if(GetPlayerSpecialAction(playerid) != SPECIAL_ACTION_CUFFED) SetPlayerSpecialAction(playerid, SPECIAL_ACTION_CUFFED);

		PLAYER_TEMP[playerid][pt_CUFFED_TIMER] = SetTimerEx("OnPlayerCuffed", 1000, false, "d", playerid);
	}
	return 1;
}

CMD:frecuencias(playerid, params[])
{
	if(!PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET]) return ShowPlayerMessage(playerid, "No eres policía.", 2);
	if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_POLICE) return ShowPlayerMessage(playerid, "No estás de servicio como policía.", 2);

	ShowDialog(playerid, DIALOG_POLICE_RADIOS);
	return 1;
}

SendPoliceRadioMessage(radio, color, message[])
{
	for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
	{
		if(IsPlayerConnected(i) && PLAYER_TEMP[i][pt_USER_LOGGED])
		{
			if(PLAYER_TEMP[i][pt_GAME_STATE] == GAME_STATE_NORMAL)
			{
				if(PLAYER_WORKS[i][WORK_POLICE][pwork_SET])
				{
					if(PLAYER_TEMP[i][pt_WORKING_IN] == WORK_POLICE)
					{
						if(radio == -1) SendClientMessage(i, color, message);
						else
						{
							if(PLAYER_TEMP[i][pt_POLICE_RADIO] == radio)
							{
								SendClientMessage(i, color, message);
							}
						}
					}
				}
			}
		}
	}
	return 1;
}


SendTaxiRadioMessage(radio, color, message[])
{
	for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
	{
		if(IsPlayerConnected(i) && PLAYER_TEMP[i][pt_USER_LOGGED])
		{
			if(PLAYER_TEMP[i][pt_GAME_STATE] == GAME_STATE_NORMAL)
			{
				if(PLAYER_WORKS[i][WORK_TAXI][pwork_SET])
				{
					if(PLAYER_TEMP[i][pt_WORKING_IN] == WORK_TAXI)
					{
						if(radio == -1) SendClientMessage(i, color, message);
						else
						{
							if(PLAYER_TEMP[i][pt_TAXI_RADIO] == radio)
							{
								SendClientMessage(i, color, message);
							}
						}
					}
				}
			}
		}
	}
	return 1;
}

SendMecaRadioMessage(radio, color, message[])
{
	for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
	{
		if(IsPlayerConnected(i) && PLAYER_TEMP[i][pt_USER_LOGGED])
		{
			if(PLAYER_TEMP[i][pt_GAME_STATE] == GAME_STATE_NORMAL)
			{
				if(PLAYER_WORKS[i][WORK_MECHANIC][pwork_SET])
				{
					if(PLAYER_TEMP[i][pt_WORKING_IN] == WORK_MECHANIC)
					{
						if(radio == -1) SendClientMessage(i, color, message);
						else
						{
							if(PLAYER_TEMP[i][pt_MECHANIC_RADIO] == radio)
							{
								SendClientMessage(i, color, message);
							}
						}
					}
				}
			}
		}
	}
	return 1;
}

SendMediRadioMessage(radio, color, message[])
{
	for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
	{
		if(IsPlayerConnected(i) && PLAYER_TEMP[i][pt_USER_LOGGED])
		{
			if(PLAYER_TEMP[i][pt_GAME_STATE] == GAME_STATE_NORMAL)
			{
				if(PLAYER_WORKS[i][WORK_MEDIC][pwork_SET])
				{
					if(PLAYER_TEMP[i][pt_WORKING_IN] == WORK_MEDIC)
					{
						if(radio == -1) SendClientMessage(i, color, message);
						else
						{
							if(PLAYER_TEMP[i][pt_MEDIC_RADIO] == radio)
							{
								SendClientMessage(i, color, message);
							}
						}
					}
				}
			}
		}
	}
	return 1;
}
/*MarkPoliceForPolices(playerid)
{
	new Float:pos[3];
	GetPlayerPos(playerid, pos[0], pos[1], pos[2]);
	for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
	{
		if(IsPlayerConnected(i) && PLAYER_TEMP[i][pt_USER_LOGGED])
		{
			if(i == playerid) continue;
			if(PLAYER_TEMP[i][pt_GAME_STATE] == GAME_STATE_NORMAL)
			{
				if(PLAYER_WORKS[i][WORK_POLICE][pwork_SET])
				{
					if(PLAYER_TEMP[i][pt_WORKING_IN] == WORK_POLICE)
					{
						SetPlayer_GPS_Checkpoint(i, pos[0], pos[1], pos[2], 0, 0);
					}
				}
			}
		}
	}
	return 1;
}*/


CountPoliceRadioPlayers(radio)
{
	new total;
	for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
	{
		if(IsPlayerConnected(i))
		{
			if(PLAYER_TEMP[i][pt_GAME_STATE] == GAME_STATE_NORMAL)
			{
				if(PLAYER_WORKS[i][WORK_POLICE][pwork_SET])
				{
					if(PLAYER_TEMP[i][pt_WORKING_IN] == WORK_POLICE)
					{
						if(PLAYER_TEMP[i][pt_POLICE_RADIO] == radio)
						{
							total ++;
						}
					}
				}
			}
		}
	}
	return total;
}

GetPlayerZones(playerid, city[], zone[])
{
	new Float:f_Pos[3];
	
	switch(PI[playerid][pi_STATE])
	{
		case ROLEPLAY_STATE_INTERIOR:
		{
			f_Pos[0] = ENTER_EXIT[ PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] ][ee_EXT_X];
			f_Pos[1] = ENTER_EXIT[ PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] ][ee_EXT_Y];
			f_Pos[2] = ENTER_EXIT[ PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] ][ee_EXT_Z];
		}
		case ROLEPLAY_STATE_OWN_PROPERTY, ROLEPLAY_STATE_GUEST_PROPERTY:
		{
			f_Pos[0] = PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PROPERTY_INDEX] ][property_EXT_X];
			f_Pos[1] = PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PROPERTY_INDEX] ][property_EXT_Y];
			f_Pos[2] = PROPERTY_INFO[ PLAYER_TEMP[playerid][pt_PROPERTY_INDEX] ][property_EXT_Z];
		}
		default: GetPlayerPos(playerid, f_Pos[0], f_Pos[1], f_Pos[2]);
	}

    format(city, 45, "San Andreas");
    format(zone, 45, "Desconocida");

	for(new i = 0; i < sizeof(g_Cities); i++)
	{
	    if(	(f_Pos[0] >= g_Cities[i][z_MinX] && f_Pos[0] < g_Cities[i][z_MaxX]) && (f_Pos[1] >= g_Cities[i][z_MinY] && f_Pos[1] < g_Cities[i][z_MaxY]) )
		{
			format(city, 45, g_Cities[i][z_Name]);
		    break;
		}
	}

	for(new i = 0; i < sizeof(g_Zones); i++)
	{
	    if(	(f_Pos[0] >= g_Zones[i][z_MinX] && f_Pos[0] < g_Zones[i][z_MaxX]) && (f_Pos[1] >= g_Zones[i][z_MinY] && f_Pos[1] < g_Zones[i][z_MaxY]) )
		{
			format(zone, 45, g_Zones[i][z_Name]);
		    break;
		}
	}
	
	return 1;
}


SetPlayerWantedLevelEx(playerid, level)
{
	PI[playerid][pi_WANTED_LEVEL] = level;

	if(PI[playerid][pi_WANTED_LEVEL] == 0)
	{
	    OtorgarLogro(playerid, 17);
		DisablePlayerPoliceMark(playerid);
		PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_WANTED_LEVEL][0]);
		PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_WANTED_LEVEL][1]);
	}
	else
	{
		new td_str[24];
		for(new i = 0; i != PI[playerid][pi_WANTED_LEVEL]; i ++) strcat(td_str, "]");
		PlayerTextDrawSetString(playerid, PlayerTextdraws[playerid][ptextdraw_WANTED_LEVEL][1], td_str);

		PLAYER_TEMP[playerid][pt_LAST_SET_WANTED_LEVEL] = gettime();

		PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_WANTED_LEVEL][0]);
		PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_WANTED_LEVEL][1]);
		SetWantedMarkerToPolice(playerid);
	}
	OtorgarLogro(playerid, 23);
	return 1;
}

GetPointZone(Float:f_Pos_X, Float:f_Pos_Y, city[], zone[])
{
	format(city, 45, "San Andreas");
    format(zone, 45, "Desconocida");

	for(new i = 0; i < sizeof(g_Cities); i++)
	{
	    if(	(f_Pos_X >= g_Cities[i][z_MinX] && f_Pos_X < g_Cities[i][z_MaxX]) && (f_Pos_Y >= g_Cities[i][z_MinY] && f_Pos_Y < g_Cities[i][z_MaxY]) )
		{
			format(city, 45, g_Cities[i][z_Name]);
		    break;
		}
	}

	for(new i = 0; i < sizeof(g_Zones); i++)
	{
	    if(	(f_Pos_X >= g_Zones[i][z_MinX] && f_Pos_X < g_Zones[i][z_MaxX]) && (f_Pos_Y >= g_Zones[i][z_MinY] && f_Pos_Y < g_Zones[i][z_MaxY]) )
		{
			format(zone, 45, g_Zones[i][z_Name]);
		    break;
		}
	}

	return 1;
}

GetAreaZone(Float:min_x, Float:min_y, zone[])
{
    format(zone, 45, "Desconocida");

    for (new i = 0; i < sizeof(g_Zones); i++)
    {
        if (
			(min_x >= g_Zones[i][z_MinX] && min_x < g_Zones[i][z_MaxX]) &&
        	(min_y >= g_Zones[i][z_MinY] && min_y < g_Zones[i][z_MaxY])
		) {
			format(zone, 45, g_Zones[i][z_Name]);
            break;
        }
    }
    return 1;
}

JailPlayer(playerid, time = 0)
{
	PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_WANTED_LEVEL][0]);
	PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_WANTED_LEVEL][1]);

	PI[playerid][pi_STATE] = ROLEPLAY_STATE_JAIL;

	if(time)
		PI[playerid][pi_POLICE_JAIL_TIME] = time;
	else
	{
		if(PI[playerid][pi_VIP]) PI[playerid][pi_POLICE_JAIL_TIME] = 200 * PI[playerid][pi_WANTED_LEVEL];
		else PI[playerid][pi_POLICE_JAIL_TIME] = 250 * PI[playerid][pi_WANTED_LEVEL];
	}

	SetPlayerWantedLevelEx(playerid, 0);
	PLAYER_TEMP[playerid][pt_DO]= 0; 
	PLAYER_TEMP[playerid][pt_ENTER_JAIL_TIME] = gettime();
	SetPlayerPosEx(playerid, 265.070129, 77.518280, 1001.039062, JAIL_POSITIONS[ PI[playerid][pi_POLICE_JAIL_ID]  ][jail_ANGLE], 6, 0, false);
	KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][15]);
	PLAYER_TEMP[playerid][pt_TIMERS][15] = SetTimerEx("UnjailPlayer", PI[playerid][pi_POLICE_JAIL_TIME] * 500, false, "i", playerid);

	SendFormatNotification(playerid, "Te quedan %s minutos de condena.", TimeConvert( PI[playerid][pi_POLICE_JAIL_TIME] - (gettime() - PLAYER_TEMP[playerid][pt_ENTER_JAIL_TIME]) ));
	SendClientMessage(playerid, -1, "Fueron retiradas las {ff1111}armas {ffffff}y {f6b900}sustancias  {ffffff}ilegales qué tenias.");
	ResetPlayerWeaponsEx(playerid);
	DisablePlayerPoliceMark(playerid);
	DeleteIlegalInv(playerid);
	PI[playerid][pi_MANO_DER] = 0;
	PI[playerid][pi_DER_CANT] = 0;
	PI[playerid][pi_KANA] = 0;	
	SetPlayerToys(playerid);
	PLAYER_TEMP[playerid][pt_CUFFED] = false;
    PLAYER_TEMP[playerid][pt_CUFFING] = false;
    PLAYER_TEMP[playerid][pt_ESPOSADO] = 0;
	return 1;
}

forward UnjailPlayer(playerid);
public UnjailPlayer(playerid)
{
	KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][15]);
	PI[playerid][pi_POLICE_JAIL_TIME] = 0;
	SetPlayerWantedLevelEx(playerid, 0);
	PI[playerid][pi_STATE] = ROLEPLAY_STATE_INTERIOR;
	SetWeaponsForPlayer(playerid);
	SetPlayerArmedWeapon(playerid, 0);

	for(new i = 0; i != sizeof ENTER_EXIT; i ++)
	{
		if(ENTER_EXIT[i][ee_INTERIOR_TYPE] == JAIL_POSITIONS[ PI[playerid][pi_POLICE_JAIL_ID] ][jail_INT])
		{
			PI[playerid][pi_LOCAL_INTERIOR] = ENTER_EXIT[i][ee_ID];
			PLAYER_TEMP[playerid][pt_PROPERTY_INDEX] = -1;
			SetPlayerPosEx(playerid, ENTER_EXIT[i][ee_INT_X], ENTER_EXIT[i][ee_INT_Y], ENTER_EXIT[i][ee_INT_Z], ENTER_EXIT[i][ee_INT_ANGLE] + 180.0, ENTER_EXIT[i][ee_INT_INTERIOR], ENTER_EXIT[i][ee_INT_WORLD], true);
			StopAudioStreamForPlayer(playerid);
			break;
		}
	}

	SendFormatNotification(playerid, "Has cumplido tu condena.", 2);
	PI[playerid][pi_MANO_DER] = 0;
	PI[playerid][pi_DER_CANT] = 0;
	PLAYER_TEMP[playerid][pt_ESPOSADO] = 0;
	PI[playerid][pi_KANA] = 0;	
	OtorgarLogro(playerid, 24);
	return 1;
}

DisablePlayerPoliceMark(playerid)
{
	for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
	{
		if(IsPlayerConnected(i))
		{
			if(PLAYER_TEMP[i][pt_GAME_STATE] == GAME_STATE_NORMAL)
			{
				if(i == playerid) continue;
				if(!PLAYER_WORKS[i][WORK_POLICE][pwork_SET]) continue;
				if(PLAYER_TEMP[i][pt_WORKING_IN] != WORK_POLICE) continue;

				SetPlayerMarkerForPlayer(i, playerid, PLAYER_COLOR);
			}
		}
	}
	return 1;
}

Crew_RequestHelp(playerid, crew_id)
{
	new
		city[45],
		zone[45],
		crew_message[128];

	GetPlayerZones(playerid, city, zone);

	if(!PLAYER_TEMP[playerid][pt_CREW_HELP])
	{
		for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
		{
			if(IsPlayerConnected(i))
			{
				if(PLAYER_TEMP[i][pt_GAME_STATE] == GAME_STATE_NORMAL)
				{
					if(i == playerid) continue;
					if(PI[i][pi_CREW] != crew_id) continue;

					SetPlayerMarkerForPlayer(i, playerid, 0xDD4C4FFF);
				}
			}
		}
		format(crew_message, sizeof crew_message, "{%06x}[Banda] "WHITE"%s está pidiendo refuerzos en {29f90f}[%s, %s]", CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_COLOR] >>> 8, PLAYER_TEMP[playerid][pt_RP_NAME], city, zone);
		SendMessageToCrewMembers(crew_id, -1, crew_message);

		PLAYER_TEMP[playerid][pt_CREW_HELP] = true;
	}
	else
	{
		for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
		{
			if(IsPlayerConnected(i))
			{
				if(PLAYER_TEMP[i][pt_GAME_STATE] == GAME_STATE_NORMAL)
				{
					if(i == playerid) continue;
					if(PI[i][pi_CREW] != crew_id) continue;

					SetPlayerMarkerForPlayer(i, playerid, PLAYER_COLOR);
				}
			}
		}
		format(crew_message, sizeof crew_message, "{%06x}[Banda] "WHITE"%s ya no necesita refuerzos.", CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_COLOR] >>> 8, PLAYER_TEMP[playerid][pt_RP_NAME]);
		SendMessageToCrewMembers(crew_id, -1, crew_message);

		PLAYER_TEMP[playerid][pt_CREW_HELP] = false;
	}
	return 1;
}


SetWantedMarkerToPolice(playerid)
{
	for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
	{
		if(IsPlayerConnected(i))
		{
			if(PLAYER_TEMP[i][pt_GAME_STATE] == GAME_STATE_NORMAL)
			{
				if(i == playerid) continue;
				if(!PLAYER_WORKS[i][WORK_POLICE][pwork_SET]) continue;
				if(PLAYER_TEMP[i][pt_WORKING_IN] != WORK_POLICE) continue;

				SetPlayerMarkerForPlayer(i, playerid, PlayerWantedColor(playerid));
			}
		}
	}
	return 1;
}

ShowPlayerStats(playerid, pid)
{
	if(!IsPlayerConnected(pid)) return 0;
	if(PI[pid][pi_ID] == 0) return 0;

	new Float:hours;
	ConvertTime_SecondsToHoursFloat(PI[pid][pi_TIME_PLAYING], hours);

	new next_rep[24], neccessary_rep = PI[pid][pi_LEVEL] * REP_MULTIPLIER;
	if(PI[pid][pi_REP] < neccessary_rep)
	{
		new time = (PI[pid][pi_TIME_FOR_REP] - (gettime() * 1000 - PLAYER_TEMP[pid][pt_TIME_PASSED_LAST_REP])) / 1000;
		if(time < 3) time = 3;

		format(next_rep, sizeof next_rep, "%sm", TimeConvert(time));
	}
	else format(next_rep, sizeof next_rep, "/comprarnivel");

	new caption[48], dialog[445 + (27 * sizeof(work_info))];
	format(caption, sizeof caption, "Estadísticas de %s", PLAYER_TEMP[pid][pt_RP_NAME]);

	format(dialog, sizeof dialog,

		"\
			{ffffff}ID: %d\n\
			{ffffff}Nombre:%s\n\
			{ffffff}Correo electrónico: %s\n\
			{ffffff}Fecha registro: %s\n\
			{ffffff}Últ. conexión: %s\n\
			{ffffff}Tiempo jugando: %.1f horas\n\
			{ffffff}Nivel: %d\n\
			{ffffff}Reputación: %d/%d\n\
			{ffffff}Siguiente reputación: %s\n\
			\n\
			Vida: {d12f1c}%d{F5F5F5} Chaleco: {6d6d6d}%d{F5F5F5} Hambre: {ff9a19}%d{F5F5F5} Sed: {1ba5ff}%d{F5F5F5}\n\
			\n\
			{ffffff}Trabajo(s): {66c4e4}%s\n\
			{ffffff}Banda: %s\n\
			{ffffff}Dinero: %s{"#GREEN_COLOR"}${F5F5F5}\n\
			{ffffff}Dinero bancario: %s{"#BLUE_COLOR"}${F5F5F5}\n\
			{ffffff}Gemas: {F5F5F5}%ds\n\
			{ffffff}VIP: {F5F5F5}%s\n\
			{FFFFFF}Plataforma: %s\n\
			\n\
			{ffffff}Para estadísticas de tus trabajos utiliza /exp.\n\
			Para ver tus pertenencias usa /inv o pulsa N.\n\
			\n\
		",

			PI[pid][pi_ID],
			PI[pid][pi_NAME],
			PI[pid][pi_EMAIL],
			PI[pid][pi_REG_DATE],
			PI[pid][pi_LAST_CONNECTION],
			TimeConvertAsText(PI[pid][pi_TIME_PLAYING]),
			PI[pid][pi_LEVEL],
			PI[pid][pi_REP], neccessary_rep,
			next_rep,
			floatround(PI[pid][pi_HEALTH]),
			floatround(PI[pid][pi_ARMOUR]),
			floatround(PI[pid][pi_HUNGRY]),
			floatround(PI[pid][pi_THIRST]),
			getPlayerWorks(pid),
			getPlayerCrew(pid),
			number_format_thousand(PI[pid][pi_CASH]),
			number_format_thousand(PI[pid][pi_BANK_MONEY]),
			PI[pid][pi_COINS],
			getPlayerVipX(pid),
			(PLAYER_TEMP[pid][pt_MODE] ? "{00FFFF}Android" : "{00FF00}PC")

	);

	ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, caption, dialog, "xCerrar", "");
	return 1;
}

getPlayerCrew(playerid)
{
	new crew[32];
	if(!PI[playerid][pi_CREW]) crew = "ninguna";
	else format(crew, sizeof crew, "%s", CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_NAME]);
	return crew;
}

getPlayerVip(playerid)
{
	new vip[16];
	if(!PI[playerid][pi_VIP]) vip = "VIP NO";
	else format(vip, sizeof vip, "VIP(%d)", PI[playerid][pi_VIP]);
	return vip;
}

getPlayerVipX(playerid)
{
	new vip[16];
	if(!PI[playerid][pi_VIP]) vip = "{D50000}VIP NO";
	else format(vip, sizeof vip, "{F5F5F5}VIP (%d)", PI[playerid][pi_VIP]);
	return vip;
}

getPlayerCrewColor(playerid)
{
    return !PI[playerid][pi_CREW] ? -1 : CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_COLOR];
}

AddPlayerBadHistory(account_id, by_account_id, type, text[])
{
	new date[24];
	getDateTime(date);
	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "INSERT INTO bad_history (id_player, type, `by`, `text`, `date`) VALUES (%d, %d, %d, '%e', '%e');", account_id, type, by_account_id, text, date);
	mysql_tquery(srp_db, QUERY_BUFFER);
	return 1;
}

AddPlayerBan(account_id, account_name[], account_ip[], by_account_id, type, text[], days = 0)
{
	new date[24], account_name_fix[24], account_ip_fix[24];
	getDateTime(date);
	format(account_name_fix, 24, "%s", account_name);
	format(account_ip_fix, 16, "%s", account_ip);

	if(!days)
	{
		inline OnBadHistoryInserted1()
		{
			new id = cache_insert_id();
			if(id)
			{
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "INSERT INTO bans (name, ip, id_history) VALUES ('%e', '%e', %d);", account_name_fix, account_ip_fix, id);
				mysql_tquery(srp_db, QUERY_BUFFER);
			}
		}
		mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "INSERT INTO bad_history (id_player, type, `by`, `text`, `date`) VALUES (%d, %d, %d, '%e', '%e');", account_id, type, by_account_id, text, date);
		mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnBadHistoryInserted1);
	}
	else
	{
		inline OnBadHistoryInserted2()
		{
			new id = cache_insert_id();
			if(id)
			{
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "INSERT INTO bans (name, ip, id_history, expire_date) VALUES ('%e', '%e', %d, DATE_ADD(NOW(), INTERVAL %d DAY));", account_name_fix, account_ip_fix, id, days);
				mysql_tquery(srp_db, QUERY_BUFFER);
			}
		}
		mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "INSERT INTO bad_history (id_player, type, `by`, `text`, `date`) VALUES (%d, %d, %d, '%e', '%e');", account_id, type, by_account_id, text, date);
		mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnBadHistoryInserted2);
	}
	return 1;
}

// Comandos admins
CMD:reportar(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return ShowPlayerMessage(playerid, "Ahora no puedes usar este comando.", 2);
	if(gettime() < PLAYER_TEMP[playerid][pt_ANTIFLOOD_REPORT] + 5) return ShowPlayerMessage(playerid, "Cálmate.", 2);
	PLAYER_TEMP[playerid][pt_ANTIFLOOD_REPORT] = gettime();

	new reason[128];
	if(sscanf(params, "us[128]", params[0], reason)) return ShowPlayerMessage(playerid, "~r~Modo de uso: ~w~/reportar [PlayerID/Nombre] [Razón]", 2);
    if(!IsPlayerConnected(params[0])) return ShowPlayerMessage(playerid, "Jugador desconectado.", 2);

	ShowPlayerMessage(playerid, "Tu reporte ha sido enviado a los administradores en línea.", 2);

	new str[145], string2[145];
    format(str, 145, ""RED"[REPORTE] "WHITE"%s (%d) > %s (%d): %s", PI[playerid][pi_NAME], playerid, PI[params[0]][pi_NAME], params[0], reason);
	re= DCC_FindChannelById("1010234780614393968");
	format(str, sizeof str, "`[REPORTE]` %s (%d) > %s (%d): %s",  PI[playerid][pi_NAME], playerid, PI[params[0]][pi_NAME], params[0], reason);
    new DCC_Embed:embed = DCC_CreateEmbed("Reportes IC", "", "https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png", "", 129310, "Spain+ RolePlay", "Spain+ RolePlay", "", "https://media.discordapp.net/attachments/928653343415472168/1006955276840214638/IMG_20220509_134508.png");
    DCC_AddEmbedField(embed, "Reporte", string2, true);
    DCC_SendChannelEmbedMessage(re,embed);
    DCC_SendChannelMessage(re, string2);
	SendMessageToAdmins(-1, str);
	return 1;
}
CMD:r(playerid, params[])
{
	new message[128];
	if(sscanf(params, "s[128]", message)) return ShowPlayerMessage(playerid, "~r~Modo de uso: ~w~/r [MENSAJE]", 2);

	if(PLAYER_TEMP[playerid][pt_ADMIN_PM_PID] == INVALID_PLAYER_ID || !PLAYER_TEMP[playerid][pt_ADMIN_PM_AID]) return ShowPlayerMessage(playerid, "Nada para responder.", 2);
	if(PI[ PLAYER_TEMP[playerid][pt_ADMIN_PM_PID] ][pi_ID] != PLAYER_TEMP[playerid][pt_ADMIN_PM_AID])
	{
		PLAYER_TEMP[playerid][pt_ADMIN_PM_PID] = INVALID_PLAYER_ID;
		PLAYER_TEMP[playerid][pt_ADMIN_PM_AID] = 0;
		PLAYER_TEMP[playerid][pt_ADMIN_PM_TIME] = 0;
		ShowPlayerMessage(playerid, "El administrador que te envió el mensaje está desconectado.", 2);
		return 1;
	}
	if(gettime() > PLAYER_TEMP[playerid][pt_ADMIN_PM_TIME] + 60)
	{
		PLAYER_TEMP[playerid][pt_ADMIN_PM_PID] = INVALID_PLAYER_ID;
		PLAYER_TEMP[playerid][pt_ADMIN_PM_AID] = 0;
		PLAYER_TEMP[playerid][pt_ADMIN_PM_TIME] = 0;
		ShowPlayerMessage(playerid, "Has tardado demasiado en responser.", 2);
		return 1;
	}

	SendClientMessageEx(PLAYER_TEMP[playerid][pt_ADMIN_PM_PID], -1, "Respuesta de %s (%d): %s", PI[playerid][pi_NAME], playerid, message);
	ShowPlayerMessage(playerid, "Tu mensaje ha sido enviado al administrador.", 2);
	PLAYER_TEMP[playerid][pt_ADMIN_PM_PID] = INVALID_PLAYER_ID;
	PLAYER_TEMP[playerid][pt_ADMIN_PM_AID] = 0;
	PLAYER_TEMP[playerid][pt_ADMIN_PM_TIME] = 0;
	return 1;
}

/*CMD:id(playerid, params[]) {
	new to_playerid;
	if (sscanf(params, "u", to_playerid)) return ShowPlayerMessageEx(playerid, "~>~ ~w~/id [PlayerID/Nombre]");
	if (!IsPlayerConnected(to_playerid)) return 1;
	
	new db_id = PI[to_playerid][pi_ID];
	
	ShowPlayerMessageEx(playerid, "Nombre ~g~%s~w~ DBID: %d~n~Playerid: %d Nivel: %d Dispositivo: ~g~UKNWON~w~", PLAYER_TEMP[to_playerid][pt_NAME], db_id, to_playerid, PI[to_playerid][pi_LEVEL]);
	return 1;
}*/

CMD:id(playerid, params[])
{
	new to_player;
	if(sscanf(params, "u", to_player)) return SendNotification(playerid, "~r~Modo de uso: ~w~/id [PlayerID/Nombre]");
	if(!IsPlayerConnected(to_player)) return SendNotification(playerid, "Jugador desconectado.");
	
	SendFormatNotification(playerid, "Nombre: '%s'~n~DB-ID: '%d'~n~Playerid: '%d'~n~Nivel: %d~n~Ping: %d Plataforma: %s", PI[to_player][pi_NAME], PI[to_player][pi_ID], to_player, PI[to_player][pi_LEVEL], GetPlayerPing(to_player), (PLAYER_TEMP[to_player][pt_MODE] ? "~g~Android" : "~b~PC"));
	return 1;
}

CMD:admins(playerid, params[])
{
	if(PI[playerid][pi_ADMIN_LEVEL] < 2) return SendClientMessageEx(playerid, -1, "{D50000}» {FFFFFF}Comando introducido incorrecto usa el comando {66c4e4}/ayuda.");
	PLAYER_TEMP[playerid][pt_DIALOG_DB_LIMIT] = 10;
	PLAYER_TEMP[playerid][pt_DIALOG_DB_PAGE] = 0;
	ShowDialog(playerid, DIALOG_ADMIN_LIST);
	return 1;
}

CMD:trabajos(playerid)
{
    if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL) return ShowPlayerMessage(playerid, "No puedes usar este comando en la carcel.");
    if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK) return ShowPlayerMessage(playerid, "No puedes usar este comando herido.");
	ShowDialog(playerid, DIALOG_WORKS_TELEPORTS);
	return 1;
}

CMD:cancelar(playerid)
{
	if (!PLAYER_TEMP[playerid][pt_WORKING_IN]) return ShowPlayerMessage(playerid, "NO ESTAS TRABAJANDO");
	
	new Float:sx, Float:sy, Float:sz;
	GetPlayerPos(playerid, sx, sy, sz);
	RemovePlayerFromVehicle(playerid);
	SetPlayerPos(playerid, sx, sy, sz);

	if (PLAYER_TEMP[playerid][pt_WORK_VEHICLE_ID] != INVALID_VEHICLE_ID)
	{
		if (GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_WORK_VEHICLE_ID] ][gb_vehicle_TEMP])
		{
			DestroyVehicleEx(PLAYER_TEMP[playerid][pt_WORK_VEHICLE_ID]);
			PLAYER_TEMP[playerid][pt_WORK_VEHICLE_ID] = INVALID_VEHICLE_ID;
		}
	}

	CallLocalFunction("EndPlayerJob", "iib", playerid, PLAYER_TEMP[playerid][pt_WORKING_IN], true);
	return 1;
}

CMD:getid(playerid, params[])
{
	new findname[24];
	if(sscanf(params, "s[24]", findname)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /getid <nombre o parte del nombre>", 2);
	inline OnInfoQueryLoad()
	{
		new rows;
		if(cache_get_row_count(rows))
		{
			for(new i = 0; i != rows; i ++)
			{
				new id, name[24], connected, pid;
				cache_get_value_name_int(i, "id", id);
				cache_get_value_name(i, "name", name);
				cache_get_value_name_int(i, "connected", connected);
				cache_get_value_name_int(i, "playerid", pid);
				SendClientMessageEx(playerid, -1, "Nombre: '%s' DB-ID: '%d' Conectado: '%d' Playerid: '%d'", name, id, connected, pid);
			}
			SendClientMessageEx(playerid, -1, "Se encontraron %d coincidencias, el límite es 20.", rows);
		}
	}
	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT id, name, connected, playerid FROM player WHERE name LIKE '%%%e%%' LIMIT 20;", findname);
	mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnInfoQueryLoad);
	return 1;
}

DCMD:id(user, channel, params[])
{
	new string2[125];
	new findname[24];

    new
    bool: hasPermission;

    DCC_HasGuildMemberRole(discordGuild, user, discordRoleModerador, hasPermission);

    if ( hasPermission )
    { 
		new DCC_Embed:embeds = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","Modo de uso $id [Nombre_Apellido]","","",0x00ff00,"Spain+ RolePlay","","https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png","");
		if(sscanf(params, "s[24]", findname)) return DCC_SendChannelEmbedMessage(channel,embeds);
		inline OnInfoQueryLoad()
		{
			new rows;
			if(cache_get_row_count(rows))
			{
				for(new i = 0; i != rows; i ++)
				{
					new id, name[24], connected, pid;
					cache_get_value_name_int(i, "id", id);
					cache_get_value_name(i, "name", name);
					cache_get_value_name_int(i, "connected", connected);
					cache_get_value_name_int(i, "playerid", pid);
					format(string2, sizeof(string2), "```Nombre: '%s' DB-ID: '%d' Conectado: '%d' Playerid: '%d'```", name, id, connected, pid);
				 	DCC_SendChannelMessage(channel, string2);
				}
				format(string2, sizeof(string2), "Se encontraron %d coincidencias, el límite es 20", rows);
				new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","","","",0x00ff00,"Spain+ RolePlay","","https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png","");
			    DCC_AddEmbedField(embed, " :bust_in_silhouette: ID", string2, true);
			    DCC_SendChannelEmbedMessage(channel,embed);
			}
		}
		mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT id, name, connected, playerid FROM player WHERE name LIKE '%%%e%%' LIMIT 20;", findname);
		mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnInfoQueryLoad);
	    new DCC_Message:koman;
		koman = DCMD_GetCommandMessageId();
	    DCC_DeleteMessage(koman);
	}
	else {
	    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :gear:","Upss, permisos insuficientes. :shield:","","",0x00ff00,"Spain+ RolePlay","","https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png","");
	    DCC_SendChannelEmbedMessage(channel, embed, "");
	}
    return 1;
}


CMD:getname(playerid, params[])
{
	new db_id;
	if(sscanf(params, "d", db_id)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /getname <DB-ID>", 2);

	inline OnInfoQueryLoad()
	{
		new rows;
		if(cache_get_row_count(rows))
		{
			for(new i = 0; i != rows; i ++)
			{
				new id, name[24], connected, pid;
				cache_get_value_name_int(i, "id", id);
				cache_get_value_name(i, "name", name);
				cache_get_value_name_int(i, "connected", connected);
				cache_get_value_name_int(i, "playerid", pid);
				SendClientMessageEx(playerid, -1, "Nombre: '%s' DB-ID: '%d' Conectado: '%d' Playerid: '%d'", name, id, connected, pid);
			}
			SendClientMessageEx(playerid, -1, "Se encontraron %d coincidencias, el límite es 20.", rows);
		}
	}
	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT id, name, connected, playerid FROM player WHERE id = %d LIMIT 20;", db_id);
	mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnInfoQueryLoad);
	return 1;
}

CMD:aka(playerid, params[])
{
	new to_player;
	if(sscanf(params, "u", to_player)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /aka <player_id>", 2);
	if(!IsPlayerConnected(to_player)) return ShowPlayerMessage(playerid, "Jugador desconectado.", 2);
	if(isnull(PI[to_player][pi_IP])) return ShowPlayerMessage(playerid, "IP no válida.", 2);

	inline OnInfoQueryLoad()
	{
		new rows;
		if(cache_get_row_count(rows))
		{
			SendFormatNotification(playerid, "AKA de %s (%d):", PI[to_player][pi_NAME], to_player);
			for(new i = 0; i != rows; i ++)
			{
				new id, name[24];
				cache_get_value_name_int(i, "id", id);
				cache_get_value_name(i, "name", name);
				SendClientMessageEx(playerid, -1, "Nombre: {f4f442}'%s' "WHITE"DB-ID: '%d'", name, id);
			}
			SendClientMessageEx(playerid, -1, "Se encontraron %d coincidencias, el límite es 20.", rows);
		}
	}
	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT id, name FROM player WHERE ip = '%e' LIMIT 20;", PI[to_player][pi_IP]);
	mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnInfoQueryLoad);
	return 1;
}
alias:aka("cuentas", "multicuentas");


CMD:adv(playerid, params[])
{
	new to_player, reason[128];
	if(sscanf(params, "us[128]", to_player, reason)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /adv <player_id> <razon>", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);
	if(PI[to_player][pi_ADMIN_LEVEL] > PI[playerid][pi_ADMIN_LEVEL]) return ShowPlayerMessage(playerid, "El rango administrativo de este jugador es superior al tuyo.", 2);
	
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL) return ShowPlayerMessage(playerid, "No puedes usar este comando en la carcel.");
    if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK) return ShowPlayerMessage(playerid, "No puedes usar este comando herido.");

	AddPlayerBadHistory(PI[to_player][pi_ID], PI[playerid][pi_ID], TYPE_WARNING, reason);

	new dialog[170];
	format(dialog, sizeof dialog, ""WHITE" Has recibido una advertencia, razón:\n"WHITE"%s\n", reason);
	ShowPlayerDialog(to_player, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{D50000}[Admin] {ffffff}  Aviso", dialog, "Entiendo", "");
	PI[to_player][pi_ADV] ++;

	SendFormatNotification(playerid, "Jugador (nick: '%s' dbid: '%d', pid: '%d') advertido.", PI[to_player][pi_NAME], PI[to_player][pi_ID], to_player);

	new player_version[32];
	GetPlayerVersion(to_player, player_version, sizeof player_version);
	new str[250];
	switch(PI[playerid][pi_ADMIN_LEVEL])
	{
	case 1: format(str, 145, "{9a8080}[ADV]"WHITE"%s [%d] | %s{ff8000}[%s]{FFFfFF} razón: %s ", PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason);
 	case 2: format(str, 145, "{9a8080}[ADV]"WHITE"%s [%d] | %s{f88888}[%s]{FFFfFF} razón: %s ", PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason);
	case 3: format(str, 145, "{9a8080}[ADV]"WHITE"%s [%d] | %s{f15151}[%s]{FFFfFF} razón: %s ", PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason);
	case 4: format(str, 145, "{9a8080}[ADV]"WHITE"%s [%d] | %s{f22222}[%s]{FFFfFF} razón: %s ", PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason);
	case 5: format(str, 145, "{9a8080}[ADV]"WHITE"%s [%d] | %s{ff0000}[%s]{FFFfFF} razón: %s ", PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason);
	case 6: format(str, 145, "{9a8080}[ADV]"WHITE"%s [%d] | %s{ff4a00}[%s]{FFFfFF} razón: %s ", PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason);
	case 7: format(str, 145, "{9a8080}[ADV]"WHITE"%s [%d] | %s{ff4a00}[%s]{FFFfFF} razón: %s ", PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason);
	case 8: format(str, 145, "{9a8080}[ADV]"WHITE"%s [%d] | %s{ff4a00}[%s]{FFFfFF} razón: %s ", PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason);
	case 9: format(str, 145, "{9a8080}[ADV]"WHITE"%s [%d] | %s{ff4a00}[%s]{FFFfFF} razón: %s ", PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason);
	case 10: format(str, 145, "{9a8080}[ADV]"WHITE"%s [%d] | %s{ff4a00}[%s]{FFFfFF} razón: %s ", PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason);

	}
	SendAdminAd(-1, str);
	return 1;
}
alias:adv("advertencia", "san");

CMD:kick(playerid, params[])
{
	new to_player, reason[128];
	if(sscanf(params, "us[128]", to_player, reason)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /kick <player_id> <razon>", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);
	if(PI[to_player][pi_ADMIN_LEVEL] > PI[playerid][pi_ADMIN_LEVEL]) return ShowPlayerMessage(playerid, "El rango administrativo de este jugador es superior al tuyo.", 2);
	
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL) return ShowPlayerMessage(playerid, "No puedes usar este comando en la carcel.");
    if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK) return ShowPlayerMessage(playerid, "No puedes usar este comando herido.");

	if(PLAYER_TEMP[to_player][pt_KICKED]) return ShowPlayerMessage(playerid, "El jugador ya está expulsado.", 2);
	if(!PI[to_player][pi_ID]) return Kick(to_player);


	AddPlayerBadHistory(PI[to_player][pi_ID], PI[playerid][pi_ID], TYPE_KICK, reason);

	new dialog[170];
	format(dialog, sizeof dialog, ""WHITE" Has sido expulsado, razón:\n"WHITE"%s\n", reason);
	ShowPlayerDialog(to_player, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{D50000}[Admin] {ffffff}  Aviso", dialog, "Entiendo", "");
	KickEx(to_player, 500);
	PI[to_player][pi_KICK] ++;

	SendFormatNotification(playerid, "Jugador (nick: '%s' dbid: '%d', pid: '%d') expulsado.", PI[to_player][pi_NAME], PI[to_player][pi_ID], to_player);

	new player_version[32];
	GetPlayerVersion(to_player, player_version, sizeof player_version);
	new str[250];
	switch(PI[playerid][pi_ADMIN_LEVEL])
	{
	case 1: format(str, 145, "{9a8080}[KICK]"WHITE"%s | {f88888}[%s] "WHITE"%s {FFFFFF}razón: %s "PURPLE"[SAMP %s]", PI[to_player][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], PI[playerid][pi_NAME], reason, player_version);
	case 2: format(str, 145, "{9a8080}[KICK]"WHITE"%s | {f15151}[%s] "WHITE"%s {FFFFFF}razón: %s "PURPLE"[SAMP %s]", PI[to_player][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], PI[playerid][pi_NAME], reason, player_version);
	case 3: format(str, 145, "{9a8080}[KICK]"WHITE"%s | {f22222}[%s] "WHITE"%s {FFFFFF}razón: %s "PURPLE"[SAMP %s]", PI[to_player][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], PI[playerid][pi_NAME], reason, player_version);
	case 4: format(str, 145, "{9a8080}[KICK]"WHITE"%s | {ff0000}[%s] "WHITE"%s {FFFFFF}razón: %s "PURPLE"[SAMP %s]", PI[to_player][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], PI[playerid][pi_NAME], reason, player_version);
	case 5: format(str, 145, "{9a8080}[KICK]"WHITE"%s | {ff0000}[%s] "WHITE"%s {FFFFFF}razón: %s "PURPLE"[SAMP %s]", PI[to_player][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], PI[playerid][pi_NAME], reason, player_version);
	case 6: format(str, 145, "{9a8080}[KICK]"WHITE"%s | {ff4a00}[%s] "WHITE"%s {FFFFFF}razón: %s "PURPLE"[SAMP %s]", PI[to_player][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], PI[playerid][pi_NAME], reason, player_version);
	case 7: format(str, 145, "{9a8080}[KICK]"WHITE"%s | {ff4a00}[%s] "WHITE"%s {FFFFFF}razón: %s "PURPLE"[SAMP %s]", PI[to_player][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], PI[playerid][pi_NAME], reason, player_version);
	case 8: format(str, 145, "{9a8080}[KICK]"WHITE"%s | {ff4a00}[%s] "WHITE"%s {FFFFFF}razón: %s "PURPLE"[SAMP %s]", PI[to_player][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], PI[playerid][pi_NAME], reason, player_version);
	case 9: format(str, 145, "{9a8080}[KICK]"WHITE"%s | {ff4a00}[%s] "WHITE"%s {FFFFFF}razón: %s "PURPLE"[SAMP %s]", PI[to_player][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], PI[playerid][pi_NAME], reason, player_version);
	case 10: format(str, 145, "{9a8080}[KICK]"WHITE"%s | {ff4a00}[%s] "WHITE"%s {FFFFFF}razón: %s "PURPLE"[SAMP %s]", PI[to_player][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], PI[playerid][pi_NAME], reason, player_version);
	}
	SendAdminAd(-1, str);
	return 1;
}

CMD:spec(playerid, params[])
{
	new to_player;
	if(sscanf(params, "u", to_player)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /spec <player_id>", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);
	if(PI[to_player][pi_ADMIN_LEVEL] > PI[playerid][pi_ADMIN_LEVEL]) return ShowPlayerMessage(playerid, "El rango administrativo de este jugador es superior al tuyo.", 2);
	
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL) return ShowPlayerMessage(playerid, "No puedes usar este comando en la carcel.");
    if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK) return ShowPlayerMessage(playerid, "No puedes usar este comando herido.");

	if(GetPlayerState(playerid) != PLAYER_STATE_SPECTATING)
    {
		new Float:p[4];
		GetPlayerPos(playerid, p[0], p[1], p[2]);
		GetPlayerFacingAngle(playerid, p[3]);
		SetSpawnInfo(playerid, NO_TEAM, GetPlayerSkin(playerid), p[0], p[1], p[2], p[3], 0, 0, 0, 0, 0, 0);
		PI[playerid][pi_INTERIOR] = GetPlayerInterior(playerid);
		PLAYER_TEMP[playerid][pt_VIRTUAL_WORLD] = GetPlayerVirtualWorld(playerid);
	}

	TogglePlayerSpectatingEx(playerid, true);
	SetPlayerVirtualWorld(playerid, GetPlayerVirtualWorld(to_player));
	SetPlayerInterior(playerid, GetPlayerInterior(to_player));
	if(IsPlayerInAnyVehicle(to_player)) PlayerSpectateVehicle(playerid, GetPlayerVehicleID(to_player));
	else PlayerSpectatePlayer(playerid, to_player);
	ShowPlayerMessage(playerid, "Utiliza /specoff para terminar este modo.", 2);
    
    new string[250], oSistema[20];

	if(g_PValidOS[to_player][e_G_VALID_OS_TYPE]) format(oSistema, sizeof(oSistema), "Android");
	else format(oSistema, sizeof(oSistema), "PC");

	format(string, sizeof(string), "{FF0000}%s {FFFFFF}| Nivel: {FF0000}%d {FFFFFF}| Exp: {FF0000}%d {FFFFFF}| %s{00FF00}$ {FFFFFF}| IP {FF0000}%s", PI[to_player][pi_NAME], PI[to_player][pi_LEVEL], PI[to_player][pi_REP], number_format_thousand(PI[to_player][pi_CASH]), PI[to_player][pi_IP]);
	SendClientMessage(playerid, -1, string);
	new Float:hours;
	ConvertTime_SecondsToHoursFloat(PI[to_player][pi_TIME_PLAYING], hours);
	format(string, sizeof(string), "Horas de juego: {00FF00}%.1f {FFFFFF}| Plataforma: %s", hours, (PLAYER_TEMP[to_player][pt_MODE] ? "{00FFFF}Android" : "{00FF00}PC"));
	SendClientMessage(playerid, -1, string);

	SendCmdLogToAdmins(playerid, "spec", params);
	return 1;
}
alias:spec("specp", "spp");

CMD:specoff(playerid, params[])
{
	SetPlayerInterior(playerid, PI[playerid][pi_INTERIOR]);
	SetPlayerVirtualWorld(playerid, PLAYER_TEMP[playerid][pt_VIRTUAL_WORLD]);
	TogglePlayerSpectatingEx(playerid, false);
	KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][3]);
	PLAYER_TEMP[playerid][pt_TIMERS][3] = SetTimerEx("TogglePlayerControl", 2000, false, "ib", playerid, true);
	return 1;
}
alias:specoff("listo");

CMD:freeze(playerid, params[])
{
	new to_player;
	if(sscanf(params, "u", to_player)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /freeze <player_id>", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);
	
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL) return ShowPlayerMessage(playerid, "No puedes usar este comando en la carcel.");
    if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK) return ShowPlayerMessage(playerid, "No puedes usar este comando herido.");

	SendFormatNotification(playerid, "Jugador '%s' (%d) congelado.", PI[to_player][pi_NAME], to_player);
	TogglePlayerControllableEx(to_player, false);
	return 1;
}
alias:freeze("congelar");

CMD:unfreeze(playerid, params[])
{
	new to_player;
	if(sscanf(params, "u", to_player)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /unfreeze <player_id>", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);

	SendFormatNotification(playerid, "Jugador '%s' (%d) descongelado.", PI[to_player][pi_NAME], to_player);
	TogglePlayerControllableEx(to_player, true);
	return 1;
}
alias:unfreeze("descongelar");

CMD:pest(playerid, params[])
{
	new to_player;
	if(sscanf(params, "u", to_player)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /pest <player_id>", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);
	if(PI[to_player][pi_ADMIN_LEVEL] > PI[playerid][pi_ADMIN_LEVEL]) return ShowPlayerMessage(playerid, "El rango administrativo de este jugador es superior al tuyo.", 2);

	ShowPlayerStats(playerid, to_player);
	return 1;
}

CMD:pinv(playerid, params[])
{
	new to_player;
	if(sscanf(params, "u", to_player)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /pinv <player_id>", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);
	if(PI[to_player][pi_ADMIN_LEVEL] > PI[playerid][pi_ADMIN_LEVEL]) return ShowPlayerMessage(playerid, "El rango administrativo de este jugador es superior al tuyo.", 2);

	ShowPlayerInventory(playerid, to_player);
	return 1;
}

CMD:pexp(playerid, params[])
{
	new to_player;
	if(sscanf(params, "u", to_player)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /pexp <player_id>", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);
	if(PI[to_player][pi_ADMIN_LEVEL] > PI[playerid][pi_ADMIN_LEVEL]) return ShowPlayerMessage(playerid, "El rango administrativo de este jugador es superior al tuyo.", 2);

	ShowPlayerSkills(playerid, to_player);
	return 1;
}

CMD:parmas(playerid, params[])
{
	new to_player;
	if(sscanf(params, "u", to_player)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /parmas <player_id>", 2);

	new dialog[95 * 15], line_str[95];
	format(dialog, sizeof dialog, ""YELLOW"Arma\t"BLUE"Munición\t"YELLOW"Slot\n");

	for(new i = 0; i < sizeof PLAYER_WEAPONS[]; i ++)
	{
		if(!PLAYER_WEAPONS[to_player][i][player_weapon_VALID]) continue;

		format(line_str, sizeof line_str, ""YELLOW"%s\t"BLUE"%s\t"YELLOW"%d\n", WEAPON_INFO[ PLAYER_WEAPONS[to_player][i][player_weapon_ID] ][weapon_info_NAME], number_format_thousand(PLAYER_WEAPONS[to_player][i][player_weapon_AMMO]), i);
		strcat(dialog, line_str);
	}

	format(line_str, sizeof line_str, "Armas de %s", PLAYER_TEMP[playerid][pt_RP_NAME]);

	ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_TABLIST_HEADERS, line_str, dialog, "»Siguiente", "xCerrar");
	return 1;
}

CMD:pbank(playerid, params[])
{
	new to_player;
	if(sscanf(params, "u", to_player)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /pbank <player_id>", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);
	if(PI[to_player][pi_ADMIN_LEVEL] > PI[playerid][pi_ADMIN_LEVEL]) return ShowPlayerMessage(playerid, "El rango administrativo de este jugador es superior al tuyo.", 2);

	if(!PI[to_player][pi_BANK_ACCOUNT]) ShowPlayerMessage(playerid, "El jugador no tiene cuenta bancaria.", 2);
	else SendFormatNotification(playerid, "Cuenta bancaria ID: '%d' Balance: '%s'", PI[to_player][pi_BANK_ACCOUNT], number_format_thousand(PI[to_player][pi_BANK_MONEY]));
	return 1;
}

CMD:unjail(playerid, params[])
{
	new to_player;
	if(sscanf(params, "u", to_player)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /unjail <player_id>", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);
	if(PI[to_player][pi_ADMIN_LEVEL] > PI[playerid][pi_ADMIN_LEVEL]) return ShowPlayerMessage(playerid, "El rango administrativo de este jugador es superior al tuyo.", 2);

	if(PI[to_player][pi_STATE] != ROLEPLAY_STATE_JAIL) return ShowPlayerMessage(playerid, "El jugador no está en el cárcel.", 2);

	UnjailPlayer(to_player);
	SendFormatNotification(playerid, "El jugador %s (%d) ahora está en libertad.", PI[to_player][pi_NAME], to_player);


	SendCmdLogToAdmins(playerid, "unjail", params);
	return 1;
}

CMD:ip(playerid, params[])
{
	new to_player;
	if(sscanf(params, "u", to_player)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /ip <player_id>", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);
	if(PI[to_player][pi_ADMIN_LEVEL] > PI[playerid][pi_ADMIN_LEVEL]) return ShowPlayerMessage(playerid, "El rango administrativo de este jugador es superior al tuyo.", 2);

	SendFormatNotification(playerid, "IP %s (%d): %s", PI[to_player][pi_NAME], to_player, PI[to_player][pi_IP]);
	return 1;
}

CMD:traerveh(playerid, params[])
{
	new to_car;
	if(sscanf(params, "i", to_car)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /traerveh <car_id>", 2);
	if(to_car >= MAX_VEHICLES) return 1;

	if(!GLOBAL_VEHICLES[to_car][gb_vehicle_VALID]) return ShowPlayerMessage(playerid, "vehiculo no válido.", 2);
	if(GLOBAL_VEHICLES[to_car][gb_vehicle_OCCUPIED]) return ShowPlayerMessage(playerid, "vehiculo está ocupado.", 2);

    new Float:gPos[3];
    GetPlayerPos(playerid, gPos[0], gPos[1], gPos[2]);
    SetVehiclePosEx(to_car, gPos[0] + 2.0, gPos[1], gPos[2]);
    return 1;
}
alias:traerveh("mover", "getveh", "traervehiculo", "traerauto", "getcar");

CMD:gotoveh(playerid, params[])
{
	new to_car;
	if(sscanf(params, "i", to_car)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /gotoveh <car_id>", 2);
	if(to_car >= MAX_VEHICLES) return 1;

	if(!GLOBAL_VEHICLES[to_car][gb_vehicle_VALID]) return ShowPlayerMessage(playerid, "vehiculo no válido.", 2);

    new Float:gPos[3];
    GetVehiclePos(to_car, gPos[0], gPos[1], gPos[2]);
    SetPlayerPosEx(playerid, gPos[0], gPos[1], gPos[2], 0.0, GLOBAL_VEHICLES[to_car][gb_vehicle_INTERIOR], 0);//GLOBAL_VEHICLES[to_car][gb_vehicle_WORLD]);
    return 1;
}
alias:gotoveh("irvehiculo", "gotocar", "iracarro");

CMD:duty(playerid)
{
	if(PI[playerid][pi_ADMIN_LEVEL] < 1) return ShowPlayerMessage(playerid, "No estás autorizado para utilizar este comando, [Solo STAFF]", 2);
	if(PLAYER_TEMP[playerid][pt_ADMIN_SERVICE])
	{
		PLAYER_TEMP[playerid][pt_ADMIN_SERVICE] = false;
		SetPlayerNormalColor(playerid);
		SetPlayerSkin(playerid, PI[playerid][pi_SKIN]);
		SetPlayerToys(playerid);
		SetNormalPlayerMarkers(playerid);
		SendFormatNotification(playerid, "Ahora no estás de servicio como %s.", ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ]);
	}
	else
	{
		PLAYER_TEMP[playerid][pt_ADMIN_SERVICE] = true;
		
		if(PLAYER_TEMP[playerid][pt_WORKING_IN]) SendFormatNotification(playerid, "Deberías dejar de estar de servicio como %s para administrar mejor...", work_info[ PLAYER_TEMP[playerid][pt_WORKING_IN] ][work_info_NAME]);
		if(PI[playerid][pi_GENDER] == SEX_MALE){
		}
		
		SendFormatNotification(playerid, "Ahora estás de servicio como %s.", ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ]);
		duty= DCC_FindChannelById("1440968190652977163");
        new DCC_Embed:embed = DCC_CreateEmbed("Duty Servicio Spain+ RolePlay","Un Administrador Se Coloco En Servicio","","",0x00ff00,"Spain+ RolePlay","","https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png","");
		DCC_SendChannelEmbedMessage(duty,embed);
	}
	return 1;
}

CMD:goto(playerid, params[])
{
	new to_player;
	if(sscanf(params, "u", to_player)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /goto <player_id>", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);
	if(PI[to_player][pi_ADMIN_LEVEL] > PI[playerid][pi_ADMIN_LEVEL]) return ShowPlayerMessage(playerid, "El rango administrativo de este jugador es superior al tuyo.", 2);
	
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL) return ShowPlayerMessage(playerid, "No puedes usar este comando en la carcel.");
    if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK) return ShowPlayerMessage(playerid, "No puedes usar este comando herido.");

	new Float:p[4];
	GetPlayerPos(to_player, p[0], p[1], p[2]);
	GetPlayerFacingAngle(to_player, p[3]);

	SetPlayerPosEx(playerid, p[0], p[1], p[2], p[3], GetPlayerInterior(to_player), GetPlayerVirtualWorld(to_player), false, true);
	SetPlayerFacingAngle(playerid, p[3] + 180.0);

    //SetPlayerCityWeather(playerid);

	SendCmdLogToAdmins(playerid, "goto", params);
	return 1;
}
alias:goto("ir");

CMD:get(playerid, params[])
{
	new to_player;
	if(sscanf(params, "u", to_player)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /get <player_id>", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);
	if(PI[to_player][pi_ADMIN_LEVEL] > PI[playerid][pi_ADMIN_LEVEL]) return ShowPlayerMessage(playerid, "El rango administrativo de este jugador es superior al tuyo.", 2);
	
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL) return ShowPlayerMessage(playerid, "No puedes usar este comando en la carcel.");
    if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK) return ShowPlayerMessage(playerid, "No puedes usar este comando herido."); 
    
    if(PI[to_player][pi_STATE] == ROLEPLAY_STATE_JAIL) return ShowPlayerMessage(playerid, "Esta persona esta en la carcel.");
    if(PI[to_player][pi_STATE] == ROLEPLAY_STATE_CRACK) return ShowPlayerMessage(playerid, "Esta persna esta herida.");

	new Float:p[4];
	GetPlayerPos(playerid, p[0], p[1], p[2]);
	GetPlayerFacingAngle(playerid, p[3]);

	SetPlayerPosEx(to_player, p[0], p[1], p[2], p[3], GetPlayerInterior(playerid), GetPlayerVirtualWorld(playerid), false, true);
	SetPlayerFacingAngle(to_player, p[3] + 180.0);

    //SetPlayerCityWeather(to_player);

	SendCmdLogToAdmins(playerid, "get", params);
	return 1;
}
alias:get("traer");

CMD:unban(playerid, params[])
{
	new name[24];
	if(sscanf(params, "s[24]", name)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /unban <nombre completo o ip>", 2);

	inline OnInfoQueryLoad()
	{
		new rows;
		if(cache_get_row_count(rows))
		{
			if(rows)
			{
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "DELETE FROM bans WHERE name = '%e' OR ip = '%e';", name, name);
				mysql_tquery(srp_db, QUERY_BUFFER);

				SendFormatNotification(playerid, "'%s' ha sido desbaneado.", name);

				new str[145]; format(str, 145, ""WHITE"%s (%d) ha desbaneado a '%s'.", PI[playerid][pi_NAME], playerid, name);
				SendMessageToAdmins(-1, str);

				inline OnCountQueryLoad()
				{
					new crows;
					if(cache_get_row_count(crows))
					{
						if(crows)
						{
							new id_player;
							cache_get_value_index_int(0, 0, id_player);
							if(id_player) AddPlayerBadHistory(id_player, PI[playerid][pi_ID], TYPE_UNBAN, "/unban");
						}
					}
				}
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT id FROM player WHERE name = '%e' OR ip = '%e';", name, name);
				mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnCountQueryLoad);
			}
			else SendFormatNotification(playerid, "'%s' no está en la lista de baneados.", name);
		}
	}
	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT * FROM bans WHERE name = '%e' OR ip = '%e';", name, name);
	mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnInfoQueryLoad);
	return 1;
}

DCMD:desbanear(user, channel, params[])
{
	new targetid;
	new username[33], msg2[128];
	new gname[MAX_PLAYER_NAME],string[250];
	DCC_GetUserName(user, username, sizeof(username));
	GetPlayerName(targetid,gname,sizeof(gname));

    new bool:hasPermission;

    DCC_HasGuildMemberRole(discordGuild, user, discordRoleModeradorG, hasPermission);

    if ( hasPermission )
    {
		new name[24];
		new DCC_Embed:embeds = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","Modo de uso $desbanear [Nombre_Apellido]","","",0x00ff00,"Spain+ RolePlay","","https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png","");
	    if(sscanf(params, "s[24]", name)) return DCC_SendChannelEmbedMessage(channel,embeds);

		inline OnInfoQueryLoad()
		{
			new rows;
			if(cache_get_row_count(rows))
			{
				if(rows)
				{
					mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "DELETE FROM bans WHERE name = '%e' OR ip = '%e';", name, name);
					mysql_tquery(srp_db, QUERY_BUFFER);
					format(msg2, sizeof(msg2), ":palm_tree: [Lan-Bot] Usuario [OFF] [%s] desbaneado con exito a [%s] :video_game:", username, name);
					new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","","","",0x00ff00,"Spain+ RolePlay","","https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png","");
	                DCC_AddEmbedField(embed, " :video_game: Desbaneo", msg2, true);
	                DCC_SendChannelEmbedMessage(channel,embed);

	      		    format(string, sizeof(string), "{9a8080}[U-BAN] "WHITE"%s | ha sido desbaneado del servidor por [%s] ", gname, username);
	    	  	    SendClientMessageToAll(-1, string);

					inline OnCountQueryLoad()
					{
						new crows;
						if(cache_get_row_count(crows))
						{
							if(crows)
							{
								new id_player;
								cache_get_value_index_int(0, 0, id_player);
								if(id_player) AddPlayerBadHistory(id_player, PI[targetid][pi_ID], TYPE_UNBAN, "/unban");
							}
						}
					}
					mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT id FROM player WHERE name = '%e' OR ip = '%e';", name, name);
					mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnCountQueryLoad);
				}
			}
		}
		mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT * FROM bans WHERE name = '%e' OR ip = '%e';", name, name);
		mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnInfoQueryLoad);
	}
	else {
	    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :gear:","Upss, permisos insuficientes. :shield:","","",0x00ff00,"Spain+ RolePlay","","https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png","");
	    DCC_SendChannelEmbedMessage(channel, embed, "");
	}
    return 1;
}

CMD:jail(playerid, params[])
{
   new to_player, reason[128], time;
   if(sscanf(params, "uds[128]", to_player, time, reason)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /jail <player_id> <minutos> <razón>", 2);
   if(time < 0 || time > 1440) return ShowPlayerMessage(playerid, "Intervalo de minutos incorrecto.", 2);
   if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);
   if(PI[to_player][pi_ADMIN_LEVEL] > PI[playerid][pi_ADMIN_LEVEL]) return ShowPlayerMessage(playerid, "El rango administrativo de este jugador es superior al tuyo.", 2);
   if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL) return ShowPlayerMessage(playerid, "No puedes usar este comando en la carcel.");
    if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK) return ShowPlayerMessage(playerid, "No puedes usar este comando herido.");

   StopAudioStreamForPlayer(to_player);
   CancelEdit(to_player);
   HidePlayerDialog(to_player);
   CallLocalFunction("EndPlayerJob", "iib", to_player, PLAYER_TEMP[to_player][pt_WORKING_IN], true);
   PLAYER_TEMP[to_player][pt_HUNGRY_MESSAGE] = false;
   PLAYER_TEMP[to_player][pt_THIRST_MESSAGE] = false;
   PLAYER_TEMP[to_player][pt_PLAYER_IN_ATM] = false;
   PLAYER_TEMP[to_player][pt_CUFFED] = false;
   PLAYER_TEMP[to_player][pt_CUFFING] = false;
   if(PLAYER_TEMP[to_player][pt_WANT_TAXI])
   {
        PLAYER_TEMP[to_player][pt_WANT_TAXI] = false;
        DisablePlayerTaxiMark(to_player);
   }

   if(PLAYER_TEMP[to_player][pt_WANT_MECHANIC])
   {
	   PLAYER_TEMP[to_player][pt_WANT_MECHANIC] = false;
	   DisablePlayerMechanicMark(to_player);
   }

   if(PLAYER_TEMP[to_player][pt_PLAYER_IN_CALL]) EndPhoneCall(to_player);
   if(PLAYER_TEMP[to_player][pt_GPS_MAP]) HidePlayerGpsMap(to_player);

   PI[params[0]][pi_POLICE_JAIL_ID] = 0;

   new SkinID[99];
   new dialog[170];
	format(dialog, sizeof dialog, ""WHITE" Has sido sancionado razon:\n{828282}%s\n", reason);
	ShowPlayerDialog(to_player, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{D50000}[Admin] {ffffff}  Sancion", dialog, "Entiendo", "");
   JailPlayer(to_player, time * 60);
   GivePlayerCash(to_player, -2500);
   SendClientMessageEx(to_player, -1, "{2e5eff}[Lan-Bo]: "WHITE"Te quedan {56DB98}%s {FFFFFF}minutos de sanción, razón: {56DB98}%s.", TimeConvert(time * 60), reason);
   SendClientMessageEx(playerid, -1, "» Fueron retiradas las {ff1111}armas {ffffff}y {f6b900}sustancias {ffffff}ilegales qué tenias.");
   SetPlayerSpecialAction(to_player, SPECIAL_ACTION_NONE);
   new player_version[32];
   GetPlayerVersion(to_player, player_version, sizeof player_version);
   new str[250], string2[145];
   sanc= DCC_FindChannelById("1440967607464366132");
   format(string2, sizeof(string2), "Staff- [**%s**]\nUsuario Sancionado- [**%s**]\nRazon- [**%s**]\nMinutos- [**%s**]", PI[playerid][pi_NAME], PI[to_player][pi_NAME], reason, TimeConvert(time * 60));
   new DCC_Embed:embed = DCC_CreateEmbed();
   DCC_SetEmbedColour(embed, 0x00ff00);
   DCC_SetEmbedTitle(embed, ":palm_tree: - Spain+ RolePlay +");
   DCC_SetEmbedDescription(embed, string2);
   DCC_SetEmbedFooter(embed, ""SERVER_NAME"");
   format(SkinID, sizeof(SkinID), "https://assets.open.mp/assets/images/skins/%d.png", PI[to_player][pi_SKIN]);
   DCC_SetEmbedThumbnail(embed, SkinID);
   DCC_SendChannelEmbedMessage(sanc, embed);
   switch(PI[playerid][pi_ADMIN_LEVEL])
	 {
			case 2: format(str, 145, "{9a8080}[JAIL] "WHITE"%s | %s {f88888}[%s] "WHITE"razón: %s | Minutos:[%s]", PI[to_player][pi_NAME], PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, TimeConvert(time * 60));
			case 3: format(str, 145, "{9a8080}[JAIL] "WHITE"%s | %s {f15151}[%s] "WHITE"razón: %s | Minutos:[%s]", PI[to_player][pi_NAME], PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, TimeConvert(time * 60));
			case 4: format(str, 145, "{9a8080}[JAIL] "WHITE"%s | %s {f22222}[%s] "WHITE"razón: %s | Minutos:[%s]", PI[to_player][pi_NAME], PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, TimeConvert(time * 60));
			case 5: format(str, 145, "{9a8080}[JAIL] "WHITE"%s | %s {ff0000}[%s] "WHITE"razón: %s | Minutos:[%s]", PI[to_player][pi_NAME], PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, TimeConvert(time * 60));
			case 6: format(str, 145, "{9a8080}[JAIL] "WHITE"%s | %s {ff4a00}[%s] "WHITE"razón: %s | Minutos:[%s]", PI[to_player][pi_NAME], PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, TimeConvert(time * 60));
			case 7: format(str, 145, "{9a8080}[JAIL] "WHITE"%s | %s {ff4a00}[%s] "WHITE"razón: %s | Minutos:[%s]", PI[to_player][pi_NAME], PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, TimeConvert(time * 60));
			case 8: format(str, 145, "{9a8080}[JAIL] "WHITE"%s | %s {ff4a00}[%s] "WHITE"razón: %s | Minutos:[%s]", PI[to_player][pi_NAME], PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, TimeConvert(time * 60));
			case 9: format(str, 145, "{9a8080}[JAIL] "WHITE"%s | %s {ff4a00}[%s] "WHITE"razón: %s | Minutos:[%s]", PI[to_player][pi_NAME], PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, TimeConvert(time * 60));
			case 10: format(str, 145, "{9a8080}[JAIL] "WHITE"%s | %s {ff4a00}[%s] "WHITE"razón: %s | Minutos:[%s]", PI[to_player][pi_NAME], PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, TimeConvert(time * 60));
	 }

   SendAdminAd(-1, str);
   ShowPlayerMessage(playerid, "Acabas de recibir $2500 por el mut/sanción.", 2);
   GivePlayerCash(playerid, 2500);
   return 1;
}

CMD:jailoff(playerid, params[])
{
	new name[24], time, reason[128];
	if(sscanf(params, "s[24]ds[128]", name, time, reason)) return SendNotification(playerid, "Error: ~r~/jailoff~w~ [name] [tiempo] [razon]");
	inline OnInfoQueryLoad()
	{
		new rows;
		if(cache_get_row_count(rows))
		{
			if(rows)
			{
				new connected;
				cache_get_value_name_int(0, "connected", connected);
				if(connected) return SendNotification(playerid, "El usuario esta conectado");
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE `player` SET state = %d, police_jail_time = %d WHERE name = '%e';",ROLEPLAY_STATE_JAIL, (time * 60) , name);
				mysql_query(srp_db, QUERY_BUFFER);
				new str[250]; format(str, 250, "{9a8080}[ADMIN] "WHITE"%s | {9a8080}[JAIL] "WHITE"%s | {8fce00}[LAN-BOT]{ffffff} | Minutos: [%d]", PI[playerid][pi_NAME], name, time);
    			SendAdminAd(-1, str);
			}
			else SendNotification(playerid, "El usuario indicado no existe");
		}
	}
	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT * FROM player WHERE name = '%e';", name);
	mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnInfoQueryLoad);
	return true;
}

DCMD:jail(user, channel, params[])
{
    new to_player, reason[150], time;
    new username[33], msg2[128], SkinID[99];
    DCC_GetUserName(user, username, sizeof(username));
    new gname [MAX_PLAYER_NAME];
    GetPlayerName(to_player,gname,sizeof(gname));
    
    new
    bool: hasPermission;

    DCC_HasGuildMemberRole(discordGuild, user, discordRoleModerador, hasPermission);

    if ( hasPermission )
    {
	    if(IsPlayerConnected(to_player))
	    {
	        new DCC_Embed:embeds = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","Modo de uso $jail [ID] [RAZON]","","",0x00ff00,"Spain+ RolePlay","","","");
	        if(sscanf(params, "uds[128]", to_player, time, reason)) return DCC_SendChannelEmbedMessage(channel,embeds);
	    	if(to_player == INVALID_PLAYER_ID || !IsPlayerConnected(to_player)) return DCC_SendChannelMessage(channel," **La identificación que ha ingresado no es válida**");
	        GetPlayerName(to_player,gname,sizeof(gname));
	        new str[250]; format(str, 250, "{9a8080}[JAIL] "WHITE"%s [%d] | {8fce00}[LAN-BOT]{ffffff} | Razón : %s | Minutos: [%s]|", PI[to_player][pi_NAME], to_player, reason,  TimeConvert(time * 60));
	    	SendAdminAd(-1, str);
	        format(msg2, sizeof(msg2), ":palm_tree: [Lan-Bot] Usuario [ON] [%s] jaileo exitosamente por el administrador [%s] :skull: Minutos [%s:00]", PI[to_player][pi_NAME], username, time);
	        //new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","","","",0x00ff00,"Spain+ RolePlay","","","");
	        //DCC_AddEmbedField(embed, " :skull: Sancion", msg2, true);
	        //DCC_SendChannelEmbedMessage(channel,embed);
	        
	        new DCC_Embed:embed = DCC_CreateEmbed();
            DCC_SetEmbedColour(embed, 0x00ff00);
            DCC_SetEmbedTitle(embed, ":palm_tree: - Spain+ RolePlay +");
            DCC_SetEmbedDescription(embed, msg2);
            DCC_SetEmbedFooter(embed, ""SERVER_NAME"");
            format(SkinID, sizeof(SkinID), "https://assets.open.mp/assets/images/skins/%d.png", PI[to_player][pi_SKIN]);
            DCC_SetEmbedThumbnail(embed, SkinID);
            DCC_SendChannelEmbedMessage(channel, embed);
            
	        StopAudioStreamForPlayer(to_player);
		    CancelEdit(to_player);
		    HidePlayerDialog(to_player);
			CallLocalFunction("EndPlayerJob", "iib", to_player, PLAYER_TEMP[to_player][pt_WORKING_IN], true);
		    PLAYER_TEMP[to_player][pt_HUNGRY_MESSAGE] = false;
		    PLAYER_TEMP[to_player][pt_THIRST_MESSAGE] = false;
			PLAYER_TEMP[to_player][pt_PLAYER_IN_ATM] = false;
			PLAYER_TEMP[to_player][pt_CUFFED] = false;
		    PLAYER_TEMP[to_player][pt_CUFFING] = false;
		    if(PLAYER_TEMP[to_player][pt_WANT_TAXI])
		    {
		        PLAYER_TEMP[to_player][pt_WANT_TAXI] = false;
		        DisablePlayerTaxiMark(to_player);
		    }

		    if(PLAYER_TEMP[to_player][pt_WANT_MECHANIC])
	    	{
		  		PLAYER_TEMP[to_player][pt_WANT_MECHANIC] = false;
		   		DisablePlayerMechanicMark(to_player);
	   	 	}
		    if(PLAYER_TEMP[to_player][pt_PLAYER_IN_CALL]) EndPhoneCall(to_player);
		    if(PLAYER_TEMP[to_player][pt_GPS_MAP]) HidePlayerGpsMap(to_player);
			PI[params[0]][pi_POLICE_JAIL_ID] = 0;

			JailPlayer(to_player, time * 60);
		    SendClientMessageEx(to_player, -1, "{2e5eff}[Lan-Bot]: "WHITE"Te quedan {56DB98}%s {FFFFFF}minutos de sanción, razón: {56DB98}%s.", TimeConvert(time * 60), reason);
	    	SetPlayerSpecialAction(to_player, SPECIAL_ACTION_NONE);
		    new DCC_Message:koman;
			koman = DCMD_GetCommandMessageId();
		    DCC_DeleteMessage(koman);
		    return 1;
		}
		else return DCC_SendChannelMessage(channel, "**No hay usuarios dentro del servidor**");
	}
	else {
	    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :gear:","Upss, permisos insuficientes. :shield:","","",0x00ff00,"Spain+ RolePlay","","","");
	    DCC_SendChannelEmbedMessage(channel, embed, "");
	}
    return 1;
}

	
CMD:say(playerid, params[])
{
	new
		to_player,
		command[128];

	if(sscanf(params, "us[128]", to_player, command)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /say <player_id> <comando>", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);
	if(PI[to_player][pi_ADMIN_LEVEL] > PI[playerid][pi_ADMIN_LEVEL]) return ShowPlayerMessage(playerid, "El rango administrativo de este jugador es superior al tuyo.", 2);

	if(strfind(command, "/", true) == -1) CallLocalFunction("OnPlayerText", "is", to_player, command);
	else
	{
		PLAYER_TEMP[to_player][pt_ANTIFLOOD_TALK] = GetTickCount();
		PC_EmulateCommand(to_player, command);
	}

	SendCmdLogToAdmins(playerid, "say", params);
	return 1;
}

CMD:nieve(playerid)
{
	if(PLAYER_TEMP[playerid][pt_NIEVE_ACTION] == 1)
	{
		TerminarNieve(playerid);
		SendNotification(playerid, "~r~Has desactivado la nieve.");
	}
	else
	{
		EmpezarNieve(playerid);
		SendNotification(playerid, "~g~Has activado la nieve.");
	}
	return 1;
}

CMD:ban(playerid, params[])
{
	new to_player, reason[128];
	if(sscanf(params, "us[128]", to_player, reason)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /ban <player_id> <razon>", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);
	if(PI[to_player][pi_ADMIN_LEVEL] > PI[playerid][pi_ADMIN_LEVEL]) return ShowPlayerMessage(playerid, "El rango administrativo de este jugador es superior al tuyo.", 2);

	if(PLAYER_TEMP[to_player][pt_KICKED]) return ShowPlayerMessage(playerid, "El jugador ya está expulsado.", 2);
	if(!PI[to_player][pi_ID]) return Kick(to_player);

	AddPlayerBan(PI[to_player][pi_ID], PI[to_player][pi_NAME], PI[to_player][pi_IP], PI[playerid][pi_ID], TYPE_BAN, reason);

	new dialog[250];
	new player_version[32];
	GetPlayerVersion(to_player, player_version, sizeof player_version);
	new str[250];
	switch(PI[playerid][pi_ADMIN_LEVEL])
	 {
			case 1: format(str, 145, "{9a8080}[BAN] "WHITE"%s [%d] | %s {f88888}[%s] {FFFFFF} razón: %s | [%s] ",PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, player_version);
			case 2: format(str, 145, "{9a8080}[BAN] "WHITE"%s [%d] | %s {f15151}[%s] {FFFFFF} razón: %s | [%s] ",PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, player_version);
			case 3: format(str, 145, "{9a8080}[BAN] "WHITE"%s [%d] | %s {f22222}[%s] {FFFFFF} razón: %s | [%s] ",PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, player_version);
			case 4: format(str, 145, "{9a8080}[BAN] "WHITE"%s [%d] | %s {ff0000}[%s] {FFFFFF} razón: %s | [%s] ",PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, player_version);
			case 5: format(str, 145, "{9a8080}[BAN] "WHITE"%s [%d] | %s {ff4a00}[%s] {FFFFFF} razón: %s | [%s] ",PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, player_version);
			case 6: format(str, 145, "{9a8080}[BAN] "WHITE"%s [%d] | %s {ff4a00}[%s] {FFFFFF} razón: %s | [%s] ",PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, player_version);
			case 7: format(str, 145, "{9a8080}[BAN] "WHITE"%s [%d] | %s {ff4a00}[%s] {FFFFFF} razón: %s | [%s] ",PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, player_version);
			case 8: format(str, 145, "{9a8080}[BAN] "WHITE"%s [%d] | %s {ff4a00}[%s] {FFFFFF} razón: %s | [%s] ",PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, player_version);
			case 9: format(str, 145, "{9a8080}[BAN] "WHITE"%s [%d] | %s {ff4a00}[%s] {FFFFFF} razón: %s | [%s] ",PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, player_version);
			case 10: format(str, 145, "{9a8080}[BAN] "WHITE"%s [%d] | %s {ff4a00}[%s] {FFFFFF} razón: %s | [%s] ",PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, player_version);
	 }
	SendAdminAd(-1, str);
	format(dialog, sizeof dialog, ""WHITE"Has sido baneado, razón:\n{828282}%s\n", reason);
	ShowPlayerDialog(to_player, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{D50000}[BAN] {ffffff}  Aviso", dialog, "Entiendo", "");
	KickEx(to_player, 750);
	SendFormatNotification(playerid, "Jugador (nick: '%s' dbid: '%d', id: '%d') baneado.", PI[to_player][pi_NAME], PI[to_player][pi_ID], to_player);
	ban= DCC_FindChannelById("998112244380479508");
    new DCC_Embed:embed = DCC_CreateEmbed("Duty Admin", "Un Admin Se acaba de colocar en servicio", "https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png", "", 129310, "Spain+ RP", "Spain+ RP", "", "https://media.discordapp.net/attachments/928653343415472168/1006955276840214638/IMG_20220509_134508.png");
    DCC_SendChannelEmbedMessage(ban, embed, "");
    DCC_SendChannelMessage(ban, "Un administrador acaba de banear a un usuario IC");
	return 1;
}

CMD:cls(playerid,params[])
{
	for(new i = 0; i != 80; i ++) SendClientMessageToAll(-1, " ");

	SendCmdLogToAdmins(playerid, "cls", params);
	return 1;
}
alias:cls("log");

CMD:tban(playerid, params[])
{
	new to_player, days, reason[128];
	if(sscanf(params, "uds[128]", to_player, days, reason)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /tban <player_id> <dias> <razon>", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);
	if(PI[to_player][pi_ADMIN_LEVEL] > PI[playerid][pi_ADMIN_LEVEL]) return ShowPlayerMessage(playerid, "El rango administrativo de este jugador es superior al tuyo.", 2);
	if(days <= 0 || days > 9999) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /ban <player_id> <dias> <razon>", 2);

	if(PLAYER_TEMP[to_player][pt_KICKED]) return ShowPlayerMessage(playerid, "El jugador ya está expulsado.", 2);
	if(!PI[to_player][pi_ID]) return Kick(to_player);
	AddPlayerBan(PI[to_player][pi_ID], PI[to_player][pi_NAME], PI[to_player][pi_IP], PI[playerid][pi_ID], TYPE_TEMP_BAN, reason, days);

	new dialog[250];
	format(dialog, sizeof dialog, ""WHITE"Has sido baneado por %d días, razón:\n {828282}%s\n", days, reason);
	ShowPlayerDialog(to_player, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{D50000}[BAN] {ffffff}  Aviso", dialog, "Entiendo", "");
	KickEx(to_player, 500);
	new player_version[32];
	GetPlayerVersion(to_player, player_version, sizeof player_version);
	new str[250];
	switch(PI[playerid][pi_ADMIN_LEVEL])
	 {
			case 1: format(str, 145, "{9a8080}[TBAN] "WHITE"%s [%d] | %s {f88888}[%s] {FFFFFF} razón: %s | Dias: [%s] ",PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, days);
			case 2: format(str, 145, "{9a8080}[TBAN] "WHITE"%s [%d] | %s {f15151}[%s] {FFFFFF} razón: %s | Dias: [%s] ",PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, days);
			case 3: format(str, 145, "{9a8080}[TBAN] "WHITE"%s [%d] | %s {f22222}[%s] {FFFFFF} razón: %s | Dias: [%s] ",PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, days);
			case 4: format(str, 145, "{9a8080}[TBAN] "WHITE"%s [%d] | %s {ff0000}[%s] {FFFFFF} razón: %s | Dias: [%s] ",PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, days);
			case 5: format(str, 145, "{9a8080}[TBAN] "WHITE"%s [%d] | %s {ff4a00}[%s] {FFFFFF} razón: %s | Dias: [%s] ",PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, days);
			case 6: format(str, 145, "{9a8080}[TBAN] "WHITE"%s [%d] | %s {ff4a00}[%s] {FFFFFF} razón: %s | Dias: [%s] ",PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, days);
			case 7: format(str, 145, "{9a8080}[TBAN] "WHITE"%s [%d] | %s {ff4a00}[%s] {FFFFFF} razón: %s | Dias: [%s] ",PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, days);
			case 8: format(str, 145, "{9a8080}[TBAN] "WHITE"%s [%d] | %s {ff4a00}[%s] {FFFFFF} razón: %s | Dias: [%s] ",PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, days);
			case 9: format(str, 145, "{9a8080}[TBAN] "WHITE"%s [%d] | %s {ff4a00}[%s] {FFFFFF} razón: %s | Dias: [%s] ",PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, days);
			case 10: format(str, 145, "{9a8080}[TBAN] "WHITE"%s [%d] | %s {ff4a00}[%s] {FFFFFF} razón: %s | Dias: [%s] ",PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, days);

	 }
	SendFormatNotification(playerid, "Jugador (nick: '%s' dbid: '%d', pid: '%d') baneado por %d días.", PI[to_player][pi_NAME], PI[to_player][pi_ID], to_player, days);
	ban= DCC_FindChannelById("998112244380479508");
    new DCC_Embed:embed = DCC_CreateEmbed("Duty Admin", "Un Admin Se acaba de colocar en servicio", "https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png", "", 129310, "Spain+ RP", "Spain+ RP", "", "https://media.discordapp.net/attachments/928653343415472168/1006955276840214638/IMG_20220509_134508.png");
    DCC_SendChannelEmbedMessage(ban, embed, "");
    DCC_SendChannelMessage(ban, "Un administrador acaba de banear a un usuario IC");
	SendAdminAd(-1, str);
	return 1;
}

CMD:setcargos(playerid, params[]) {
	new to_player, level;
	if(sscanf(params, "ud", to_player, level)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /setwlevel <to_player> <level>", 2);
	SetPlayerWantedLevelEx(to_player, level);
	return 1;
}

CMD:sound(playerid, params[]) {
	new id;
	if(sscanf(params, "d", id)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /sound <id>", 2);
	PlayerPlaySound(playerid, id, 0.0, 0.0, 0.0);
	return 1;
}

CMD:anim(playerid, params[]) {
	new animLib[32], animName[32];
	if(sscanf(params, "s[32]s[32]", animLib, animName)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /anim <animLib> <animName>", 2);
	ApplyAnimation(playerid, animLib, animName, 4.1, 1, 0, 0, 0, 0, 1);
	return 1;
}

CMD:dban(playerid, params[])
{
	new reason[128], to_account;
	if(sscanf(params, "ds[128]", to_account, reason)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /dban <DB-ID> <razon>", 2);

	inline OnInfoQueryLoad()
	{
		new rows;
		if(cache_get_row_count(rows))
		{
			if(rows)
			{
				new id, ip[16], name[24], connected, pid, admin_level;
				cache_get_value_name_int(0, "id", id);
				cache_get_value_name(0, "ip", ip);
				cache_get_value_name(0, "name", name);
				cache_get_value_name_int(0, "connected", connected);
				cache_get_value_name_int(0, "playerid", pid);
				cache_get_value_name_int(0, "admin_level", admin_level);

				if(PI[playerid][pi_ADMIN_LEVEL] >= admin_level)
				{
					if(connected) SendFormatNotification(playerid, "JUGADOR '%s' DB-ID '%d' conectado utilice /ban, su player_id: %d.", name, id, pid);
					else
					{
						inline OnCountQueryLoad()
						{
							new crows;
							if(cache_get_row_count(crows))
							{
								if(crows)
								{
									new expire_date[24];
									cache_get_value_name(0, "expire_date", expire_date);

									if(isnull(expire_date)) SendFormatNotification(playerid, "JUGADOR (Nombre: '%s' DB-ID: '%d') ya está baneado (permanentemente).", name, id);
									else SendFormatNotification(playerid, "JUGADOR (Nombre: '%s' DB-ID: '%d') ya está baneado (temporalmente, fecha de readmisión: %s).", name, id, expire_date);
								}
								else
								{
									AddPlayerBan(id, name, ip, PI[playerid][pi_ID], TYPE_BAN, reason);
									SendFormatNotification(playerid, "Jugador (nick: '%s' db_id: '%d') baneado.", name, id);
									new player_version[32];
									GetPlayerVersion(to_account, player_version, sizeof player_version);
									new str[250];
									switch(PI[playerid][pi_ADMIN_LEVEL])
									{
									case 1: format(str, 145, "{9a8080}[DBAN]{ff8000}[%s] "WHITE"%s [%d] baneó a %s {FFFFFF}(offline, db_id: %d)| razón: %s", ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], PI[playerid][pi_NAME], playerid, name, id, reason);
									case 2: format(str, 145, "{9a8080}[DBAN]{0000ff}[%s] "WHITE"%s [%d] baneó a %s {FFFFFF}(offline, db_id: %d)| razón: %s", ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], PI[playerid][pi_NAME], playerid, name, id, reason);
									case 3: format(str, 145, "{9a8080}[DBAN]{008f39}[%s] "WHITE"%s [%d] baneó a %s {FFFFFF}(offline, db_id: %d)| razón: %s", ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], PI[playerid][pi_NAME], playerid, name, id, reason);
									case 4: format(str, 145, "{9a8080}[DBAN]{ff0000}[%s] "WHITE"%s [%d] baneó a %s {FFFFFF}(offline, db_id: %d)| razón: %s", ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], PI[playerid][pi_NAME], playerid, name, id, reason);
									case 5: format(str, 145, "{9a8080}[DBAN]{ff4a00}[%s] "WHITE"%s [%d] baneó a %s {FFFFFF}(offline, db_id: %d)| razón: %s", ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], PI[playerid][pi_NAME], playerid, name, id, reason);
									case 6: format(str, 145, "{9a8080}[DBAN]{ff4a00}[%s] "WHITE"%s [%d] baneó a %s {FFFFFF}(offline, db_id: %d)| razón: %s", ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], PI[playerid][pi_NAME], playerid, name, id, reason);
									case 7: format(str, 145, "{9a8080}[DBAN]{ff4a00}[%s] "WHITE"%s [%d] baneó a %s {FFFFFF}(offline, db_id: %d)| razón: %s", ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], PI[playerid][pi_NAME], playerid, name, id, reason);
									case 8: format(str, 145, "{9a8080}[DBAN]{ff4a00}[%s] "WHITE"%s [%d] baneó a %s {FFFFFF}(offline, db_id: %d)| razón: %s", ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], PI[playerid][pi_NAME], playerid, name, id, reason);
									case 9: format(str, 145, "{9a8080}[DBAN]{ff4a00}[%s] "WHITE"%s [%d] baneó a %s {FFFFFF}(offline, db_id: %d)| razón: %s", ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], PI[playerid][pi_NAME], playerid, name, id, reason);
									case 10: format(str, 145, "{9a8080}[DBAN]{ff4a00}[%s] "WHITE"%s [%d] baneó a %s {FFFFFF}(offline, db_id: %d)| razón: %s", ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], PI[playerid][pi_NAME], playerid, name, id, reason);
									}
									SendAdminAd(-1, str);
									ban= DCC_FindChannelById("998112244380479508");
                                    new DCC_Embed:embed = DCC_CreateEmbed("Duty Admin", "Un Admin Se acaba de colocar en servicio", "https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png", "", 129310, "Spain+ RP", "Spain+ RP", "", "https://media.discordapp.net/attachments/928653343415472168/1006955276840214638/IMG_20220509_134508.png");
                                    DCC_SendChannelEmbedMessage(ban, embed, "");
                                    DCC_SendChannelMessage(ban, "Un administrador acaba de banear a un usuario IC");
								}
							}
						}
						mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT * FROM bans WHERE name = '%e' OR ip = '%e';", name, ip);
						mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnCountQueryLoad);
					}
				}
				else ShowPlayerMessage(playerid, "El rango administrativo de este jugador es superior al tuyo.", 2);
			}
			else ShowPlayerMessage(playerid, "No se encontro la DB-ID.", 2);
		}
	}
	
	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT id, ip, name, connected, playerid, admin_level FROM player WHERE id = %d;", to_account);
	mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnInfoQueryLoad);
	return 1;
}

CMD:dtban(playerid, params[])
{
	new reason[128], to_account, days;
	if(sscanf(params, "dds[128]", to_account, days, reason)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /dtban <DB-ID> <dias> <razon>", 2);
	if(days <= 0 || days > 9999) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /dtban <DB-ID> <dias> <razon>", 2);

	inline OnInfoQueryLoad()
	{
		new rows;
		if(cache_get_row_count(rows))
		{
			if(rows)
			{
				new id, ip[16], name[24], connected, pid, admin_level;
				cache_get_value_name_int(0, "id", id);
				cache_get_value_name(0, "ip", ip);
				cache_get_value_name(0, "name", name);
				cache_get_value_name_int(0, "connected", connected);
				cache_get_value_name_int(0, "playerid", pid);
				cache_get_value_name_int(0, "admin_level", admin_level);

				if(PI[playerid][pi_ADMIN_LEVEL] >= admin_level)
				{
					if(connected) SendFormatNotification(playerid, "JUGADOR '%s' DB-ID '%d' conectado utilice /ban, su player_id: %d.", name, id, pid);
					else
				{
						inline OnCountQueryLoad()
						{
							new crows;
							if(cache_get_row_count(crows))
							{
								if(crows)
								{
									new expire_date[24];
									cache_get_value_name(0, "expire_date", expire_date);

									if(isnull(expire_date)) SendFormatNotification(playerid, "JUGADOR (Nombre: '%s' DB-ID: '%d') ya está baneado (permanentemente).", name, id);
									else SendFormatNotification(playerid, "JUGADOR (Nombre: '%s' DB-ID: '%d') ya está baneado (temporalmente, fecha de readmisión: %s).", name, id, expire_date);
								}
								else
								{
									AddPlayerBan(id, name, ip, PI[playerid][pi_ID], TYPE_BAN, reason, days);
									SendFormatNotification(playerid, "Jugador (nick: '%s' dbid: '%d') baneado por %d días.", name, id, days);

									new str[145]; format(str, 145, ""WHITE"%s (%d) baneó %d días a %s (offline, db_id: %d): %s", PI[playerid][pi_NAME], playerid, days, name, id, reason);
									SendMessageToAdmins(-1, str);
								}
							}
						}
						mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT * FROM bans WHERE name = '%e' OR ip = '%e';", name, ip);
						mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnCountQueryLoad);
					}
				}
				else ShowPlayerMessage(playerid, "El rango administrativo de este jugador es superior al tuyo.", 2);
			}
			else ShowPlayerMessage(playerid, "No se encontro la DB-ID.", 2);
		}
	}
	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT id, ip, name, connected, playerid, admin_level FROM player WHERE id = %d;", to_account);
	mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnInfoQueryLoad);
	return 1;
}

CMD:rac(playerid, params[])
{
	RespawnGlobalUnoccupiedVehicles();
	ShowPlayerMessage(playerid, "Todos los vehiculos no personales y sin ocupar han sido re-spawneados.", 2);

	SendCmdLogToAdmins(playerid, "rac", params);
	return 1;
}

CMD:rac2(playerid, params[])
{
	RespawnAllUnoccupiedVehicles();
	ShowPlayerMessage(playerid, "Todos los vehiculos sin ocupar han sido re-spawneados.", 2);

	SendCmdLogToAdmins(playerid, "rac2", params);
	return 1;
}

CMD:rv(playerid, params[])
{
	new vehicleid = GetPlayerVehicleID(playerid);
	if(!vehicleid) return ShowPlayerMessage(playerid, "No estás en un vehiculo.", 2);

	SetVehicleToRespawnEx(vehicleid);
	SendFormatNotification(playerid, "vehiculo (%d) re-spawneado.", vehicleid);
	return 1;
}

CMD:embargar(playerid, params[])
{
	new vehicleid = GetPlayerVehicleID(playerid);
	if(!PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET]) return ShowPlayerMessage(playerid, "No eres de la ley.", 2);
    if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_POLICE) return SendNotification(playerid, "Debes estar en servicio de policia/militar/goe.");
	if(!vehicleid) return ShowPlayerMessage(playerid, "No estás en un vehiculo.", 2);

	SetVehicleToRespawnEx(vehicleid);
	SendFormatNotification(playerid, "vehiculo (%d) embargado.", vehicleid);
	return 1;
}

CMD:atender(playerid, params[])
{
	if(PI[playerid][pi_ADMIN_LEVEL] < 2) return ShowPlayerMessage(playerid, "~w~No estás autorizado para utilizar este comando, ~w~[Solo STAFF]", 2);
	if(sscanf(params, "u", params[0])) return ShowPlayerMessage(playerid, "~r~Error: ~w~/at ~y~[PlayerID/Nombre]", 2);
    if(!IsPlayerConnected(params[0])) return ShowPlayerMessage(playerid, "~w~Jugador ~b~desconectado.", 2);
    SendClientMessageEx(playerid, -1, "@»Se le aviso a \"%s\" que le estas atendiendo su reporte.",PLAYER_TEMP[params[0]][pt_NAME]);
    SendClientMessageEx(params[0],-1,"@»: Admnistrador, {f6b900}\"%s\" {ffffff}está atendiendo tu reporte.",PLAYER_TEMP[playerid][pt_NAME]);
	new str[145]; format(str, 145, ""RED"[ADMIN] "WHITE"%s (%d) está atendiendo el reporte de  %s ", PLAYER_TEMP[playerid][pt_NAME], playerid, PLAYER_TEMP[params[0]][pt_NAME]);
	SendMessageToAdmins(-1, str);
	
	return 1;
}

CMD:pm(playerid, params[])
{
	new to_player, message[128];
	if(sscanf(params, "us[128]", to_player, message)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /pm <player_id> <mensaje>", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);

	SendFormatNotification(playerid, "Mensaje enviado a %s (%d): %s", PI[to_player][pi_NAME], to_player, message);

	PLAYER_TEMP[to_player][pt_ADMIN_PM_PID] = playerid;
	PLAYER_TEMP[to_player][pt_ADMIN_PM_AID] = PI[playerid][pi_ID];
	PLAYER_TEMP[to_player][pt_ADMIN_PM_TIME] = gettime();
	SendClientMessageEx(to_player, -1, "»Mensaje de un administrador (/r para responder): "WHITE"%s", message);

	SendCmdLogToAdmins(playerid, "pm", params);
	return 1;
}

CMD:deletead(playerid, params[])
{
	new ad_id;
	if(sscanf(params, "d", ad_id)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /deletead <ID>", 2);

	inline OnShopChecked()
	{
		new rows;
		if(cache_get_row_count(rows))
		{
			if(rows)
			{
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "DELETE FROM shop WHERE id = %d;", ad_id);
				mysql_tquery(srp_db, QUERY_BUFFER);
				SendFormatNotification(playerid, "Anuncio '%d' eliminado.", ad_id);
				SendCmdLogToAdmins(playerid, "deletead", params);
			}
			else ShowPlayerMessage(playerid, "No se encontro la ID de ese anuncio.", 2);
		}
	}
	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT id FROM shop WHERE id = %d;", ad_id);
	mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnShopChecked);
	return 1;
}
alias:deletead("borrarad");

CMD:settime(playerid, params[])
{
	new hour, minute;
	if(sscanf(params, "dd", hour, minute)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /settime <hora> <minuto>", 2);
	SetWorldTime(hour, minute);
	ShowPlayerMessage(playerid, "El tiempo se ajustará cuando el reloj avance.", 2);
	SendCmdLogToAdmins(playerid, "settime", params);
	return 1;
}

CMD:setweather(playerid, params[])
{
	new weather;
	if(sscanf(params, "d", weather)) return SendNotification(playerid, "~r~Modo de uso:~w~ /setweather <ID>");
	//InterpolateWeather(weather);
	SetWeather(weather);
	SendCmdLogToAdmins(playerid, "setweather", params);
	return 1;
}

DCMD:setweather(user, channel, params[])
{
	new string2[125], weather;
	
    new
	bool: hasPermission;

	DCC_HasGuildMemberRole(discordGuild, user, discordRoleDueno, hasPermission);

	if ( hasPermission )
	{

	new DCC_Embed:embeds = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","Modo de uso $setweather [ID]","","",0x00ff00,"Spain+ RolePlay","","https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png","");
    if(sscanf(params, "d", weather)) return DCC_SendChannelEmbedMessage(channel,embeds);
	format(string2, sizeof(string2),":palm_tree: [Lan-Bot] Cambio de clima exitoso :cloud_rain:");
	new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","","","",0x00ff00,"Spain+ RolePlay","","https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png","");
    DCC_AddEmbedField(embed, " :cloud: Clima", string2, true);
    DCC_SendChannelEmbedMessage(channel,embed);
	//InterpolateWeather(weather);
	SetWeather(weather);
	return 1;
	}
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :gear:","Upss, permisos insuficientes. :shield:","","",0x00ff00,"Spain+ RolePlay","","https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png","");
    DCC_SendChannelEmbedMessage(channel, embed, "");
    return 1;
}


CMD:givemod(playerid, params[])
{
	new to_player, level;
	if(sscanf(params, "ud", to_player, level)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /givemod <player_id> <rango>", 1, 1);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);
	if(PI[to_player][pi_ADMIN_LEVEL] > PI[playerid][pi_ADMIN_LEVEL]) return ShowPlayerMessage(playerid, "El rango administrativo de este jugador es superior al tuyo.", 2);
	if(level < 0 || level >= sizeof ADMIN_LEVELS) return ShowPlayerMessage(playerid, "El rango no es válido.", 2);
	if(level > PI[playerid][pi_ADMIN_LEVEL]) return ShowPlayerMessage(playerid, "No puedes dar este rango por ser un rango superior al tuyo.", 2);

	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET admin_level = %d WHERE id = %d;", level, PI[to_player][pi_ID]);
	mysql_tquery(srp_db, QUERY_BUFFER);

	PI[to_player][pi_ADMIN_LEVEL] = level;
	SendClientMessageEx(to_player, -1, "%s cambió tu rango administrativo a: %s.", PI[playerid][pi_NAME], ADMIN_LEVELS[level]);
	SendFormatNotification(playerid, "El rango administrativo de %s (%d) ahora es %s.", PI[to_player][pi_NAME], to_player, ADMIN_LEVELS[level]);

	SendCmdLogToAdmins(playerid, "givemod", params);
	return 1;
}
alias:givemod("staff");

DCMD:staff(user, channel, params[])
{
	new gname[MAX_PLAYER_NAME],string2[250];
	new to_player, level;
	new username[33],SkinID[99];
	DCC_GetUserName(user, username, sizeof(username));
	GetPlayerName(to_player,gname,sizeof(gname));
	
	new
	bool: hasPermission;

	DCC_HasGuildMemberRole(discordGuild, user, discordRoleDueno, hasPermission);

	if ( hasPermission )
	{

	new DCC_Embed:embeds = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","Modo de uso $staff [ID] [RANGO]","","",0x00ff00,"Spain+ RolePlay","","","");
    if(sscanf(params, "ud", to_player, level)) return DCC_SendChannelEmbedMessage(channel,embeds);
	if(level < 0 || level >= sizeof ADMIN_LEVELS) return DCC_SendChannelMessage(channel, "El rango no es válido.");
	PI[to_player][pi_ADMIN_LEVEL] = level;

	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET admin_level = %d WHERE id = %d;", level, PI[to_player][pi_ID]);
	mysql_tquery(srp_db, QUERY_BUFFER);

	format(string2, sizeof(string2), ":palm_tree: [Lan-Bot] Usuario [ON] [%s] recibio el rango [%s] Por el administrador [%s]", PI[to_player][pi_NAME], ADMIN_LEVELS[level], username);
	new DCC_Embed:embed = DCC_CreateEmbed();
    DCC_SetEmbedColour(embed, 0x00ff00);
    DCC_SetEmbedTitle(embed, ":palm_tree: - Spain+ RolePlay +");
    DCC_SetEmbedDescription(embed, string2);
    DCC_SetEmbedFooter(embed, ""SERVER_NAME"");
    format(SkinID, sizeof(SkinID), "https://assets.open.mp/assets/images/skins/%d.png", PI[to_player][pi_SKIN]);
    DCC_SetEmbedThumbnail(embed, SkinID);
    DCC_SendChannelEmbedMessage(channel, embed);
	SendFormatNotification(to_player,"%s cambió tu rango administrativo a: %s.", PI[to_player][pi_NAME], ADMIN_LEVELS[level]);
	new DCC_Message:koman;
	koman = DCMD_GetCommandMessageId();
	DCC_DeleteMessage(koman);
	return 1;
	}
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :gear:","Upss, permisos insuficientes. :shield:","","",0x00ff00,"Spain+ RolePlay","","","");
    DCC_SendChannelEmbedMessage(channel, embed, "");
    return 1;
}

CMD:ac(playerid, params[])
{
	ShowDialog(playerid, DIALOG_ANTI_CHEAT);
	return 1;
}

CMD:setthirst(playerid, params[])
{
	new to_player, Float:amount;
	if(sscanf(params, "uf", to_player, amount)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /setthirst <player_id> <valor>", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);
	if(amount < 0.0 || amount > 100.0) return ShowPlayerMessage(playerid, "Cantidad no válida.", 2);
	if(PI[to_player][pi_ADMIN_LEVEL] > PI[playerid][pi_ADMIN_LEVEL]) return ShowPlayerMessage(playerid, "El rango administrativo de este jugador es superior al tuyo.", 2);

	PI[to_player][pi_THIRST] = amount;
	SendFormatNotification(playerid, "La hidratación de %s (%d) ahora es %.1f.", PI[to_player][pi_NAME], to_player, amount);

	SendCmdLogToAdmins(playerid, "setthirst", params);
	return 1;
}
alias:setthirst("setsed");

CMD:sethunger(playerid, params[])
{
	new to_player, Float:amount;
	if(sscanf(params, "uf", to_player, amount)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /sethungry <player_id> <valor>", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);
	if(amount < 0.0 || amount > 100.0) return ShowPlayerMessage(playerid, "Cantidad no válida.", 2);
	if(PI[to_player][pi_ADMIN_LEVEL] > PI[playerid][pi_ADMIN_LEVEL]) return ShowPlayerMessage(playerid, "El rango administrativo de este jugador es superior al tuyo.", 2);

	PI[to_player][pi_HUNGRY] = amount;
	SendFormatNotification(playerid, "La alimentación de %s (%d) ahora es %.1f.", PI[to_player][pi_NAME], to_player, amount);

	SendCmdLogToAdmins(playerid, "sethunger", params);
	return 1;
}
alias:sethunger("sethambre", "sethungry");

CMD:setgas(playerid, params[])
{
	new Float:val;
	if(sscanf(params, "f", val)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /setgas <valor>", 2);
	if(val < 0.0) return ShowPlayerMessage(playerid, "Valor no válido.", 2);

	new vehicleid = GetPlayerVehicleID(playerid);
	if(!vehicleid) return ShowPlayerMessage(playerid, "No estás en un vehiculo.", 2);

	if(val > GLOBAL_VEHICLES[vehicleid][gb_vehicle_MAX_GAS]) val = GLOBAL_VEHICLES[vehicleid][gb_vehicle_MAX_GAS];
	GLOBAL_VEHICLES[vehicleid][gb_vehicle_GAS] = val;

	SendFormatNotification(playerid, "La gasolina del vehiculo (%d) ahora es %.1f.", vehicleid, GLOBAL_VEHICLES[vehicleid][gb_vehicle_GAS]);

	SendCmdLogToAdmins(playerid, "setgas", params);
	return 1;
}

CMD:fix(playerid, params[])
{
	new vehicleid = GetPlayerVehicleID(playerid);
	if(!vehicleid) return ShowPlayerMessage(playerid, "No estás en un vehiculo.", 2);

	if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER) RepairVehicleEx(vehicleid, playerid);
	else {
		if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_DRIVER] != INVALID_PLAYER_ID) RepairVehicleEx(vehicleid, GLOBAL_VEHICLES[vehicleid][gb_vehicle_DRIVER]);
		else RepairVehicleEx(vehicleid);
	}
	SendFormatNotification(playerid, "vehiculo (%d) reparado.", vehicleid);

	SendCmdLogToAdmins(playerid, "repairveh", params);
	return 1;
}

CMD:sethealth(playerid, params[])
{
	new to_player, Float:amount;
	if(sscanf(params, "uf", to_player, amount)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /sethealth <player_id> <valor>", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);
	if(amount < 0.0 || amount > 100.0) return ShowPlayerMessage(playerid, "Valor no válido.", 2);
	if(PI[to_player][pi_ADMIN_LEVEL] > PI[playerid][pi_ADMIN_LEVEL]) return ShowPlayerMessage(playerid, "El rango administrativo de este jugador es superior al tuyo.", 2);
	
	SetPlayerHealthEx(to_player, amount);
	SendFormatNotification(playerid, "La vida de %s (%d) ahora es %.1f.", PI[to_player][pi_NAME], to_player, amount);

	SendCmdLogToAdmins(playerid, "sethealth", params);
	return 1;
}
alias:sethealth("setvida");

CMD:setarmour(playerid, params[])
{
	new to_player, Float:amount;
	if(sscanf(params, "uf", to_player, amount)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /setarmour <player_id> <valor>", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);
	if(amount < 0.0 || amount > 100.0) return ShowPlayerMessage(playerid, "Valor no válido.", 2);
	if(PI[to_player][pi_ADMIN_LEVEL] > PI[playerid][pi_ADMIN_LEVEL]) return ShowPlayerMessage(playerid, "El rango administrativo de este jugador es superior al tuyo.", 2);
	
	SetPlayerArmourEx(to_player, amount);
	SendFormatNotification(playerid, "El chaleco de %s (%d) ahora es %.1f.", PI[to_player][pi_NAME], to_player, amount);

	SendCmdLogToAdmins(playerid, "setarmour", params);
	return 1;
}
alias:setarmour("setchaleco");

CMD:stat(playerid, params[])
{
	new to_player, Float:amount;
	if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 0;
	if(sscanf(params, "uf", to_player)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /setarmour <player_id> <valor>", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);
	if(amount < 0.0 || amount > 100.0) return ShowPlayerMessage(playerid, "Valor no válido.", 2);
	if(PI[to_player][pi_ADMIN_LEVEL] > PI[playerid][pi_ADMIN_LEVEL]) return ShowPlayerMessage(playerid, "El rango administrativo de este jugador es superior al tuyo.", 2);
	
	SetPlayerArmourEx(to_player, 100.0);
	SetPlayerHealthEx(to_player, 100.0);
	SendFormatNotification(playerid, "El chaleco de %s (%d) ahora es %.1f.", PI[to_player][pi_NAME], to_player, amount);

	return 1;
}

CMD:setlevel(playerid, params[])
{
	new to_player, level;
	if(sscanf(params, "ud", to_player, level)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /level <player_id> <nivel>", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);
	if(PI[to_player][pi_ADMIN_LEVEL] > PI[playerid][pi_ADMIN_LEVEL]) return ShowPlayerMessage(playerid, "El rango administrativo de este jugador es superior al tuyo.", 2);

	KillTimer(PLAYER_TEMP[to_player][pt_TIMERS][2]);

	PI[to_player][pi_REP] = 1;
	PI[to_player][pi_LEVEL] = level;
	UpdateReputationTextDraws(to_player);
	SetPlayerSkillLevels(to_player);

	SendFormatNotification(to_player, "~g~¡Felicidades! ~w~Has subido al nivel %d.", PI[to_player][pi_LEVEL]);
	SetPlayerScore(to_player, PI[to_player][pi_LEVEL]);
	PlayerPlaySoundEx(to_player, 1058, 0.0, 0.0, 0.0);

	PI[to_player][pi_TIME_FOR_REP] = TIME_FOR_REP;
	PLAYER_TEMP[to_player][pt_TIME_PASSED_LAST_REP] = gettime() * 1000;

	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET level = %d, rep = %d, time_for_rep = %d, payday_rep = %d WHERE id = %d;",PI[to_player][pi_LEVEL], PI[to_player][pi_REP], TIME_FOR_REP, PI[to_player][pi_PAYDAY_REP], PI[to_player][pi_ID]);
	mysql_tquery(srp_db, QUERY_BUFFER);

	KillTimer(PLAYER_TEMP[to_player][pt_TIMERS][2]);
	PLAYER_TEMP[to_player][pt_TIMERS][2] = SetTimerEx("AddPlayerReputation", PI[to_player][pi_TIME_FOR_REP], false, "i", to_player);

	SendFormatNotification(playerid, "El nivel de %s (%d) ahora es %d.", PI[to_player][pi_NAME], to_player, PI[to_player][pi_LEVEL]);

	SendCmdLogToAdmins(playerid, "setlevel", params);
	return 1;
}

DCMD:setlevel(user, channel, params[])
{
	new string2[150],SkinID[99]; 
	new to_player, level;
	new gname[MAX_PLAYER_NAME];
	GetPlayerName(to_player,gname,sizeof(gname));
	
	new
	bool: hasPermission;

	DCC_HasGuildMemberRole(discordGuild, user, discordRoleDueno, hasPermission);

	if ( hasPermission )
	{
    
	new DCC_Embed:embeds = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","Modo de uso $setlevel [ID] [NIVEL]","","",0x00ff00,"Spain+ RolePlay","","","");
    if(sscanf(params, "ud", to_player, level)) return DCC_SendChannelEmbedMessage(channel,embeds);
	if(to_player == INVALID_PLAYER_ID)
	{
	format(string2, sizeof(string2), "Jugador no conectado");
	DCC_SendChannelMessage(channel, string2);
	}
	KillTimer(PLAYER_TEMP[to_player][pt_TIMERS][2]);
	PI[to_player][pi_REP] = 1;
	PI[to_player][pi_LEVEL] = level;
	UpdateReputationTextDraws(to_player);
	SetPlayerSkillLevels(to_player);
	format(string2, sizeof(string2),":palm_tree: [Lan-Bot] Ahora El nivel de %s [ON] (%d) ahora es %d", PI[to_player][pi_NAME], to_player, PI[to_player][pi_LEVEL]);
	logs= DCC_FindChannelById("1005591526027575316");
    new DCC_Embed:embed = DCC_CreateEmbed();
    DCC_SetEmbedColour(embed, 0x00ff00);
    DCC_SetEmbedTitle(embed, ":palm_tree: - Spain+ RolePlay +");
    DCC_SetEmbedDescription(embed, string2);
    DCC_SetEmbedFooter(embed, ""SERVER_NAME"");
    format(SkinID, sizeof(SkinID), "https://assets.open.mp/assets/images/skins/%d.png", PI[to_player][pi_SKIN]);
    DCC_SetEmbedThumbnail(embed, SkinID);
    DCC_SendChannelEmbedMessage(channel, embed);
	SendFormatNotification(to_player, "~g~¡Felicidades! ~w~Has subido al nivel %d.", PI[to_player][pi_LEVEL]);
	SetPlayerScore(to_player, PI[to_player][pi_LEVEL]);
	PlayerPlaySoundEx(to_player, 1058, 0.0, 0.0, 0.0);

	PI[to_player][pi_TIME_FOR_REP] = TIME_FOR_REP;
	PLAYER_TEMP[to_player][pt_TIME_PASSED_LAST_REP] = gettime() * 1000;

	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET time_playing = %d, level = %d, rep = %d, time_for_rep = %d, payday_rep = %d WHERE id = %d;", PI[to_player][pi_TIME_PLAYING], PI[to_player][pi_LEVEL], PI[to_player][pi_REP], TIME_FOR_REP, PI[to_player][pi_PAYDAY_REP], PI[to_player][pi_ID]);
	mysql_tquery(srp_db, QUERY_BUFFER);

	KillTimer(PLAYER_TEMP[to_player][pt_TIMERS][2]);
	PLAYER_TEMP[to_player][pt_TIMERS][2] = SetTimerEx("AddPlayerReputation", PI[to_player][pi_TIME_FOR_REP], false, "i", to_player);
	return 1;
	}
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :gear:","Upss, permisos insuficientes. :shield:","","",0x00ff00,"Spain+ RolePlay","","","");
    DCC_SendChannelEmbedMessage(channel, embed, "");
    return 1;
}


CMD:setwork(playerid, params[])
{
	new to_player, work, set;
	if(sscanf(params, "udd", to_player, work, set)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /setwork <player_id> <work> <set>", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);
	if(PI[to_player][pi_ADMIN_LEVEL] > PI[playerid][pi_ADMIN_LEVEL]) return ShowPlayerMessage(playerid, "El rango administrativo de este jugador es superior al tuyo.", 2);

	if(work < 0 || work >= sizeof work_info) return ShowPlayerMessage(playerid, "El trabajo no es válido, para verlos usa /works.", 2);

	if(PLAYER_TEMP[to_player][pt_WORKING_IN]) return ShowPlayerMessage(playerid, "No se puede cambiar el trabajo del jugador porque está de servicio en su trabajo.", 2);


	new player_jobs = CountPlayerJobs(to_player);
	if(PI[to_player][pi_VIP])
	{
		if(player_jobs >= MAX_SU_WORKS && set)
		{
			SendFormatNotification(playerid, "El limite de trabajos para este jugador es %d.", player_jobs);
			return 1;
		}
	}
	else
	{
		if(player_jobs >= MAX_NU_WORKS && set)
		{
			SendFormatNotification(playerid, "El limite de trabajos para este jugador es %d.", player_jobs);
			return 1;
		}
	}

	if(set)
	{
		if(work == WORK_POLICE)
		{
			mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "INSERT INTO pworks (id_player, id_work, `set`, level) VALUES(%d, %d, 1, 1) ON DUPLICATE KEY UPDATE `set` = 1, level = 1;", PI[to_player][pi_ID], work);
			mysql_tquery(srp_db, QUERY_BUFFER);

			PI[to_player][pi_PLACA_PD] = random(10000000);
			PLAYER_WORKS[to_player][work][pwork_LEVEL] = 1;
			mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET placa_pd = %d WHERE id = %d;", PI[to_player][pi_PLACA_PD], PI[to_player][pi_ID]);
			mysql_tquery(srp_db, QUERY_BUFFER);
		}

		else
		{
			mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "INSERT INTO pworks (id_player, id_work, `set`, level) VALUES(%d, %d, 1, 1) ON DUPLICATE KEY UPDATE `set` = 1;", PI[to_player][pi_ID], work);
			mysql_tquery(srp_db, QUERY_BUFFER);
		}

		PLAYER_WORKS[to_player][work][pwork_SET] = 1;
		SendFormatNotification(to_player,"~y~¡Felicidades!~y~ ~w~Has conseguido tu trabajo de ~y~%s~y~.", work_info[work][work_info_NAME]);
		ShowPlayerMessage(to_player, "Puedes utilizar ~y~/ayuda~y~ ~w~trabajo para ver como trabajar aquí.", 2);

	}
	else
	{
		if(work == WORK_POLICE)
		{
			mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE pworks SET `set` = 0, level = 0 WHERE id_player = %d AND id_work = %d;", PI[to_player][pi_ID], work);
			mysql_tquery(srp_db, QUERY_BUFFER);

			PI[to_player][pi_PLACA_PD] = 0;
			PLAYER_WORKS[to_player][work][pwork_LEVEL] = 0;
			mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET placa_pd = %d WHERE id = %d;", PI[to_player][pi_PLACA_PD], PI[to_player][pi_ID]);
			mysql_tquery(srp_db, QUERY_BUFFER);
		}
		else
		{
			mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE pworks SET `set` = 0 WHERE id_player = %d AND id_work = %d;", PI[to_player][pi_ID], work);
			mysql_tquery(srp_db, QUERY_BUFFER);
		}

		PLAYER_WORKS[to_player][work][pwork_SET] = 0;
		SendClientMessageEx(to_player, -1, "Has abandonado tu trabajo de %s.", work_info[work][work_info_NAME]);
	}

	SendFormatNotification(playerid, "El trabajo %s de %s (%d) es: '%d'.", work_info[ work ][work_info_NAME], PI[to_player][pi_NAME], to_player, set);
	SendCmdLogToAdmins(playerid, "setwork", params);
	return 1;
}

CMD:setworkexp(playerid, params[])
{
	new to_player, work, exp;
	if(sscanf(params, "udd", to_player, work, exp)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /setworkexp <player_id> <work, para verlos /works> <exp>", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);
	if(PI[to_player][pi_ADMIN_LEVEL] > PI[playerid][pi_ADMIN_LEVEL]) return ShowPlayerMessage(playerid, "El rango administrativo de este jugador es superior al tuyo.", 2);

	if(work < 0 || work >= sizeof work_info) return ShowPlayerMessage(playerid, "El trabajo no es válido, para verlos usa /works.", 2);

	if(PLAYER_WORKS[to_player][ work ][pwork_SET])
	{
		mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE pworks SET level = %d WHERE id_player = %d AND id_work = %d;", exp, PI[to_player][pi_ID], work);
		mysql_tquery(srp_db, QUERY_BUFFER);

		PLAYER_WORKS[to_player][ work ][pwork_LEVEL] = exp;
		SendFormatNotification(playerid, "La experiencia de %s (%d) en el trabajo '%s' ahora es %d.", PI[to_player][pi_NAME], to_player, work_info[ work ][work_info_NAME], exp);
		SendCmdLogToAdmins(playerid, "setworkexp", params);
	}
	else ShowPlayerMessage(playerid, "El jugador no tiene el trabajo", 2);
	return 1;
}


DCMD:setexp(user, channel, params[])
{
	new string2[150],SkinID[99]; 
	new to_player, work, exp;
	
    new
	bool: hasPermission;

	DCC_HasGuildMemberRole(discordGuild, user, discordRoleDueno, hasPermission);

	if ( hasPermission )
	{
    
	new DCC_Embed:embeds = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","Modo de uso $setworkexp [ID] [WORK] [EXP]","","",0x00ff00,"Spain+ RolePlay","","","");
    if(sscanf(params, "udd", to_player, work, exp)) return DCC_SendChannelEmbedMessage(channel,embeds);
	if(to_player == INVALID_PLAYER_ID)
	{
	format(string2, sizeof(string2), "Jugador no conectado");
	DCC_SendChannelMessage(channel, string2);
	}
	format(string2, sizeof(string2),":palm_tree: [Lan-Bot]La experiencia de %s [ON] (%d) en el trabajo '%s' ahora es %d", PI[to_player][pi_NAME], to_player, work_info[ work ][work_info_NAME], exp);
	new DCC_Embed:embed = DCC_CreateEmbed();
    DCC_SetEmbedColour(embed, 0x00ff00);
    DCC_SetEmbedTitle(embed, ":palm_tree: - Spain+ RolePlay +");
    DCC_SetEmbedDescription(embed, string2);
    DCC_SetEmbedFooter(embed, ""SERVER_NAME"");
    format(SkinID, sizeof(SkinID), "https://assets.open.mp/assets/images/skins/%d.png", PI[to_player][pi_SKIN]);
    DCC_SetEmbedThumbnail(embed, SkinID);
    DCC_SendChannelEmbedMessage(channel, embed);

	if(PLAYER_WORKS[to_player][ work ][pwork_SET])
	{
		mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE pworks SET level = %d WHERE id_player = %d AND id_work = %d;", exp, PI[to_player][pi_ID], work);
		mysql_tquery(srp_db, QUERY_BUFFER);
		PLAYER_WORKS[to_player][ work ][pwork_LEVEL] = exp;

	}

	return 1;
	}
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :gear:","Upss, permisos insuficientes. :shield:","","",0x00ff00,"Spain+ RolePlay","","","");
    DCC_SendChannelEmbedMessage(channel, embed, "");
    return 1;
}

CMD:setgender(playerid, params[])
{
	new to_player, gender;
	if(sscanf(params, "udd", to_player, gender)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /setgender <player_id> <genero> (0 - masculino, 1 - femenino)");
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);
	if(PI[to_player][pi_ADMIN_LEVEL] > PI[playerid][pi_ADMIN_LEVEL]) return ShowPlayerMessage(playerid, "El rango administrativo de este jugador es superior al tuyo.", 2);

	if(gender < 0 || gender >= 2) return ShowPlayerMessage(playerid, "El genero es invalido.", 2);

	switch(gender)
	{
		case 0:
		{
			PI[to_player][pi_GENDER] = SEX_MALE;
			PI[to_player][pi_SKIN] = 170;
			SendClientMessage(to_player, -1, "Te han cambiado tu genero a "YELLOW"Masculino.");
			SendClientMessageEx(playerid, -1, "Has cambiado el genero de "YELLOW"%s "WHITE"a "YELLOW"Masculino.", PI[to_player][pi_NAME]);
		}
		case 1:
		{
			PI[to_player][pi_GENDER] = SEX_FEMALE;
			PI[to_player][pi_SKIN] = 192;
			SendClientMessage(to_player, -1, "Te han cambiado tu genero a "YELLOW"Femenino.");
			SendClientMessageEx(playerid, -1, "Has cambiado el genero de "YELLOW"%s "WHITE"a "YELLOW"Femenino.", PI[to_player][pi_NAME]);
		}
	}
	//mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "INSERT INTO pfactions (id_player, id_faction, level) VALUES(%d, %d, %d)", PI[to_player][pi_ID], fact, level);
	//mysql_tquery(srp_db, QUERY_BUFFER);
	return 1;
}

CMD:setfacc(playerid, params[])
{
	new to_player, fact, level, range[60];
	if(sscanf(params, "udd", to_player, fact, level)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /setfacc <player_id> <faccion> <rango>", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);
	if(PI[to_player][pi_ADMIN_LEVEL] > PI[playerid][pi_ADMIN_LEVEL]) return ShowPlayerMessage(playerid, "El rango administrativo de este jugador es superior al tuyo.", 2);

	if(fact < 1 || fact >= sizeof faction_info) return ShowPlayerMessage(playerid, "La facción no es válida, para verlos usa /facciones.", 2);

	if(PLAYER_TEMP[to_player][pt_WORKING_FACT]) return ShowPlayerMessage(playerid, "No se puede cambiar la facción del jugador porque está de servicio en su facción.", 2);


	new player_factions = CountPlayerFactions(to_player);
	if(player_factions == 1)
	{
		SendFormatNotification(playerid, "El limite de facciones los jugadores es de: 1");
		return 1;
	}

	if(fact == FACTIONS_SAPD) format(range, sizeof(range), POLICE_RANKS[level]);

	PLAYER_FACTIONS[to_player][fact][pfact_SET] = 1;
	SendClientMessageEx(to_player, -1, ""WHITE"¡Felicidades! "WHITE"Haz entrado a la faccion de: %s y tu rango es: %s.", faction_info[fact][faction_info_NAME], range);
	//SendClientMessage(to_player, -1, "Puedes utilizar "YELLOW"/ayuda facciones "WHITE"para ver tu facción aquí.", 2);


	SendFormatNotification(playerid, "La faccion de %s (%d) es: %s y su rango es: %s.", PI[to_player][pi_NAME], to_player, faction_info[ fact ][faction_info_NAME], range);
	SendCmdLogToAdmins(playerid, "setfact", params);

	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "INSERT INTO pfactions (id_player, id_faction, level) VALUES(%d, %d, %d)", PI[to_player][pi_ID], fact, level);
	mysql_tquery(srp_db, QUERY_BUFFER);
	return 1;
}

CMD:delfacc(playerid, params[])
{
	new to_player;
	if(sscanf(params, "ud", to_player)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /delfacc<player_id>", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);

	new player_factions = CountPlayerFactions(to_player);
	if(player_factions == 0)
	{
		SendFormatNotification(playerid, "Este jugador no esta en ninguna facción");
		return 1;
	}

	SendClientMessage(to_player, -1, "{FF0000}¡Lamentablemente! "WHITE"Te han sacado de tu faccion y tu rango fue removido.");
	SendFormatNotification(playerid, "Sacaste a %s (%d) de su faccion y su rango", PI[to_player][pi_NAME], to_player);

	for(new i=0; i < sizeof PLAYER_FACTIONS; ++i)
	{
		PLAYER_FACTIONS[playerid][i][pfact_LEVEL] = 0;
		PLAYER_FACTIONS[playerid][i][pfact_SET] = false;
	}

	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "INSERT INTO pfactions (id_player, id_faction, level) VALUES(0, 0, 0)");
	mysql_tquery(srp_db, QUERY_BUFFER);
	return 1;
}

CMD:setcash(playerid, params[])
{
	new to_player, value;
	if(sscanf(params, "ud", to_player, value)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /setcash <player_id> <amount>", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);
	if(PI[to_player][pi_ADMIN_LEVEL] > PI[playerid][pi_ADMIN_LEVEL]) return ShowPlayerMessage(playerid, "El rango administrativo de este jugador es superior al tuyo.", 2);

	SetPlayerCash(to_player, value);
	SendFormatNotification(playerid, "El dinero de %s (%d) ahora es %d.", PI[to_player][pi_NAME], to_player, value);

	SendCmdLogToAdmins(playerid, "setcash", params);
	return 1;
}

CMD:givecash(playerid, params[])
{
	new to_player, value;
	if(sscanf(params, "ud", to_player, value)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /givecash <player_id> <amount>", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);
	if(PI[to_player][pi_ADMIN_LEVEL] > PI[playerid][pi_ADMIN_LEVEL]) return ShowPlayerMessage(playerid, "El rango administrativo de este jugador es superior al tuyo.", 2);

	GivePlayerCash(to_player, value, true, value < 0 ? true : false);
	SendFormatNotification(playerid, "El jugador %s (%d) ha recibido %d.", PI[to_player][pi_NAME], to_player, value);

	SendCmdLogToAdmins(playerid, "givecash", params);
	return 1;
}

CMD:darobjeto(playerid, params[])
{
    new to_player, item_id;
    if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 0;
    if(sscanf(params, "ui", to_player, item_id)) return SendClientMessage(playerid, -1, "Uso: /darobjeto [ID/Nombre] [ID Objeto]");
    
    if(!IsPlayerConnected(to_player)) return SendNotification(playerid, "Jugador desconectado.");
    if(item_id < 0 || item_id >= sizeof(ObjetoInfo)) 
    {
        new str[128];
        format(str, sizeof(str), "~r~ID Invalido! ~w~Usa de 0 a %d", sizeof(ObjetoInfo) - 1);
        return ShowPlayerMessage(playerid, str, 2);
    }

    new slot = GetEmptyInvSlot(to_player);
    if(slot == -1) return SendNotification(playerid, "Sin espacio en su inventario.");
    
    SendCmdLogToAdmins(playerid, "objetounico", params);
    
    new query[256];
    // EXPLICACIÓN: Incrementamos el contador de ese objeto específico y lo obtenemos.
    // Si no existe el registro del objeto en la tabla de contadores, lo crea con 1.
    mysql_format(srp_db, query, sizeof(query), 
        "INSERT INTO contadores_objetos (tipo_objeto_id, ultimo_id) VALUES (%d, 1) \
        ON DUPLICATE KEY UPDATE ultimo_id = ultimo_id + 1", item_id);
    
    mysql_tquery(srp_db, query, "OnContadorActualizado", "iiii", playerid, to_player, item_id, slot);
    return 1;
}

forward OnContadorActualizado(adminid, to_player, item_id, slot);
public OnContadorActualizado(adminid, to_player, item_id, slot)
{
    // Consultamos cuál es el nuevo ID que se acaba de generar para ese objeto
    new query[128];
    mysql_format(srp_db, query, sizeof(query), "SELECT ultimo_id FROM contadores_objetos WHERE tipo_objeto_id = %d", item_id);
    mysql_tquery(srp_db, query, "AsignarObjetoAlJugador", "iiii", adminid, to_player, item_id, slot);
    return 1;
}

forward AsignarObjetoAlJugador(adminid, to_player, item_id, slot);
public AsignarObjetoAlJugador(adminid, to_player, item_id, slot)
{
    new id_interno;
    // Usamos el nombre de la columna que definimos en el SELECT ("ultimo_id")
    cache_get_value_name_int(0, "ultimo_id", id_interno); 

    // Guardamos en la tabla de posesiones (SQL)
    new query[256];
    mysql_format(srp_db, query, sizeof(query), 
        "INSERT INTO objetos_jugadores (owner_id, tipo_objeto_id, id_interno) VALUES (%d, %d, %d)", 
        PI[to_player][pi_ID], item_id, id_interno);
    mysql_tquery(srp_db, query);

    // Actualizamos las variables del jugador en el servidor
    PI[to_player][pi_BOL][slot] = item_id;      // El ID del enum ObjetoInfo
    PI[to_player][pi_BOL_CANT][slot] = id_interno; // El #1, #2, #3 correlativo

    // Notificaciones
    new str[140];
    format(str, sizeof(str), "Diste: %s ID%d a %s", ObjetoInfo[item_id][NombreObjeto], id_interno, PLAYER_TEMP[to_player][pt_RP_NAME]);
    SendNotification(adminid, str);

    format(str, sizeof(str), "Recibiste: %s ID %d", ObjetoInfo[item_id][NombreObjeto], id_interno);
    SendNotification(to_player, str);
    SetPlayerToys(to_player);
    return 1;
}

CMD:objetos(playerid, params[])
{
    if(PI[playerid][pi_ADMIN_LEVEL] < 1) return 0;
    PaginaObjetos[playerid] = 0; // Empezamos en la página 0
    MostrarMenuObjetos(playerid, 0);
    return 1;
}

stock MostrarMenuObjetos(playerid, pagina)
{
    new lista[3500], item_str[128], inicio, fin;
    inicio = pagina * 60;
    fin = inicio + 60;

    if(fin > sizeof(ObjetoInfo)) fin = sizeof(ObjetoInfo);

    format(lista, sizeof(lista), "{FFFFFF}ID\t{FFFFFF}Obj\t{FFFFFF}Cant\n");

    for(new i = inicio; i < fin; i++)
    {
        format(item_str, sizeof(item_str), "{828282}%d\t{FFFFFF}%s\t{00FF00}%d\n", i, ObjetoInfo[i][NombreObjeto], ObjetoInfo[i][Capacidad]);
        strcat(lista, item_str);
    }

    // Botones de navegación al final de la lista de 60
    if(fin < sizeof(ObjetoInfo)) strcat(lista, "{FFFF00}»\tSiguiente\t \n");
    if(pagina > 0) strcat(lista, "{cccccc}«\tAnterior\t \n");

    new tit[64];
    format(tit, sizeof(tit), "{D50000}[Objetos] {ffffff}  Pagina | %d", pagina + 1);
    ShowPlayerDialog(playerid, DIALOG_LISTA_OBJETOS, DIALOG_STYLE_TABLIST_HEADERS, tit, lista, "Seleccionar", "xCerrar");
    return 1;
}



CMD:objeto(playerid, params[])
{
    new to_player, value;
    if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 0;
    
    // 1. Verificamos que se ingresen los parámetros correctamente
    if(sscanf(params, "ud", to_player, value)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /objeto <player_id> <ID_Objeto>", 2);
    
    // 2. Verificamos si el jugador está conectado
    if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);
    
    // 3. ¡ESTA ES LA VALIDACIÓN!: Verificamos que el ID no sea menor a 0 ni mayor al máximo de tu lista
    if(value < 0 || value >= sizeof(ObjetoInfo)) 
    {
        new str[128];
        format(str, sizeof(str), "~r~ID Invalido! ~w~Usa de 0 a %d", sizeof(ObjetoInfo) - 1);
        return ShowPlayerMessage(playerid, str, 2);
    }

    if(PI[to_player][pi_ADMIN_LEVEL] > PI[playerid][pi_ADMIN_LEVEL]) return ShowPlayerMessage(playerid, "El rango administrativo de este jugador es superior al tuyo.", 2);

    new player_slot = GetEmptyInvSlot(to_player);
    if(player_slot == -1) return SendNotification(playerid, "No tiene mas espacio en sus bolsillos.");
    
    if(value == 200)
    {
        generar_mochila(playerid);
        SendCmdLogToAdmins(playerid, "objeto", params);
        return 1;
    }
    
    // Asignamos el objeto de forma segura porque ya sabemos que el ID existe
    PI[to_player][pi_BOL][player_slot] = value;
    PI[to_player][pi_BOL_CANT][player_slot] = ObjetoInfo[value][Capacidad];

    SendCmdLogToAdmins(playerid, "darobjeto", params);
    
    new str_notif[128];
    format(str_notif, sizeof(str_notif), "Has dado un(a) %s a %s", ObjetoInfo[value][NombreObjeto], PLAYER_TEMP[to_player][pt_RP_NAME]);
    SendNotification(playerid, str_notif);
    
    new str_notifi[128];
    format(str_notifi, sizeof(str_notifi), "Te han dado un(a) %s el usuario %s", ObjetoInfo[value][NombreObjeto], PLAYER_TEMP[playerid][pt_RP_NAME]);
    SendNotification(to_player, str_notifi);
    
    SetPlayerToys(to_player);
    
    return 1;
}

CMD:darkills(playerid, params[])
{
	new to_player, value;
	if(sscanf(params, "ud", to_player, value)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /darkills <player_id> <amount>", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);
	if(PI[to_player][pi_ADMIN_LEVEL] > PI[playerid][pi_ADMIN_LEVEL]) return ShowPlayerMessage(playerid, "El rango administrativo de este jugador es superior al tuyo.", 2);

	PI[to_player][pi_KILLS] += value;

	SendCmdLogToAdmins(playerid, "darkills", params);
	return 1;
}

CMD:levantart(playerid, params[])
{
    if(PI[playerid][pi_ADMIN_LEVEL] < 3) return 0;
	foreach(new i  : Player)
		{
			if(IsPlayerConnected(i))
			{
				if(PLAYER_TEMP[i][pt_GAME_STATE] == GAME_STATE_NORMAL)
				{
					if(PI[i][pi_STATE] == ROLEPLAY_STATE_CRACK)
					{
					     ShowPlayerMessage(i, "Fuiste curado por un administrador", 2);
			 		    GivePlayerCash(i, -2500, true, true);
                         DisablePlayerInjuredMark(i);
	                     PI[i][pi_STATE] = ROLEPLAY_STATE_NORMAL;
                     	if(PI[i][pi_VIP]) SetPlayerHealthEx(i, 20.0);
	                     else SetPlayerHealthEx(i, 20.0);
	                     ApplyAnimation(i, "CARRY", "crry_prtial", 4.1, 0, 0, 0, 0, 0, true);
	                     ClearAnimations(i);   
                     	clearInjuredVars(i);
	                     SendCmdLogToAdmins(playerid, "levantart", params);
	                     EquiparManos(i);
                             
					}
				}
			}
		}
	ShowPlayerMessage(playerid, "Fueron Levantados todos", 2);
	return 1;
}

CMD:stats(playerid, params[])
{
    if(PI[playerid][pi_ADMIN_LEVEL] < 3) return 0;
    new to_player;
	if(sscanf(params, "ud", to_player)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /stats <player_id>", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);
	
	GivePlayerCash(to_player, 50000);
    PI[to_player][pi_MEDICINE] += 10;
    PI[to_player][pi_MEDICINE] += 10;
	KillTimer(PLAYER_TEMP[to_player][pt_TIMERS][2]);
    PI[to_player][pi_REP] = 1;
	PI[to_player][pi_LEVEL] += 3;
    SetPlayerScore(to_player, PI[to_player][pi_LEVEL]);
    UpdateReputationTextDraws(to_player);
    SetPlayerVip(to_player, 3, 0, 3);
    
    new pvehicles = CountPlayerVehicles(to_player);
	if(pvehicles >= MAX_SU_VEHICLES) return SendFormatNotification(playerid, "El jugador no puede tener más vehiculos, su límite es %d.", MAX_SU_VEHICLES);
	if(!PI[to_player][pi_VIP])
	{
		if(pvehicles >= MAX_NU_VEHICLES)
		{
			SendFormatNotification(playerid, "El jugador no puede tener más vehiculos, su límite es %d.", MAX_NU_VEHICLES);
			return 1;
		}
	}

	new Float:pos[4];
	GetPlayerPos(to_player, pos[0], pos[1], pos[2]);
	GetPlayerFacingAngle(to_player, pos[3]);

	new vidp = AddPersonalVehicle
	(
		to_player,
		543,
		pos[0],
		pos[1],
		pos[2],
		pos[3],
		1,
		1,
		VEHICLE_INFO[ 543 - 400 ][vehicle_info_MAX_GAS]
	);
	if(!vidp) return ShowPlayerMessage(playerid, "No se pueden añadir más vehiculos.", 2);
	
	PLAYER_VEHICLES[vidp][player_vehicle_PARKING] = -1;
	SavePlayerVehicle(playerid, vidp, false); 
	
	SendFormatNotification(to_player,"¡Felicidades! Te han dado tus stats, ~g~10 MEDICAMENTOS 10G DE CRACK", 2);
	PI[to_player][pi_TIME_PLAYING] += gettime() - PI[to_player][pi_TIME_PLAYING];
	PI[to_player][pi_TIME_PLAYING] = gettime();
	SendCmdLogToAdmins(playerid, "stats", params);
	return 1;
}

CMD:objetox(playerid, params[])
{
	new to_player, value, valuex;
	if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 0;
	if(sscanf(params, "udd", to_player, value, valuex)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /objetox <player_id> <objeto> <capacidad>", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);
	if(PI[to_player][pi_ADMIN_LEVEL] > PI[playerid][pi_ADMIN_LEVEL]) return ShowPlayerMessage(playerid, "El rango administrativo de este jugador es superior al tuyo.", 2);
	
	if(value < 0 || value >= sizeof(ObjetoInfo)) 
    {
        new str[128];
        format(str, sizeof(str), "~r~ID Invalido! ~w~Usa de 0 a %d", sizeof(ObjetoInfo) - 1);
        return ShowPlayerMessage(playerid, str, 2);
    }
    
	new player_slot = GetEmptyInvSlot(to_player);
    if(player_slot == -1) return SendNotification(playerid, "No tiene mas espacio en sus bolsillos.");
    
    new checki = value;
    PI[to_player][pi_BOL][player_slot] = checki;
    PI[to_player][pi_BOL_CANT][player_slot] = valuex;
    
    new str_notif[128];
    format(str_notif, sizeof(str_notif), "Has dado un(a) %s a %s cantidad %d", ObjetoInfo[value][NombreObjeto], PLAYER_TEMP[to_player][pt_RP_NAME], valuex);
    SendNotification(playerid, str_notif);
    
    new str_notifi[128];
    format(str_notifi, sizeof(str_notifi), "Te han dado un(a) %s el usuario %s", ObjetoInfo[value][NombreObjeto], PLAYER_TEMP[playerid][pt_RP_NAME]);
    SendNotification(to_player, str_notifi);
    
    SetPlayerToys(to_player);

	return 1;
}

CMD:givebank(playerid, params[])
{
	new to_player, value;
	if(sscanf(params, "ud", to_player, value)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /givebank <player_id> <amount>", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);
	if(PI[to_player][pi_ADMIN_LEVEL] > PI[playerid][pi_ADMIN_LEVEL]) return ShowPlayerMessage(playerid, "El rango administrativo de este jugador es superior al tuyo.", 2);

    PI[to_player][pi_BANK_MONEY] += value;
	SendFormatNotification(playerid, "El jugador %s (%d) ha recibido %d.", PI[to_player][pi_NAME], to_player, value);

	SendCmdLogToAdmins(playerid, "givebank", params);
	return 1;
}


CMD:ao(playerid, params[])
{
	if(isnull(params)) return SendFormatNotification(playerid, "/ao [Mensaje]", 2);
	new str[145]; format(str, 145, "{e0d20f}[Administrador - %s (%d)]:{FFFFFF} %s",PLAYER_TEMP[playerid][pt_RP_NAME],playerid, params);
	SendClientMessageToAll(-1, str);
	SendCmdLogToAdmins(playerid, "ao", params);
	return 1;
}

CMD:setmerca(playerid, params[])
{
	new to_player, value;
	if(sscanf(params, "ud", to_player, value)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /setmerca <player_id> <level>", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);
	if(PI[to_player][pi_ADMIN_LEVEL] > PI[playerid][pi_ADMIN_LEVEL]) return ShowPlayerMessage(playerid, "El rango administrativo de este jugador es superior al tuyo.", 2);

	PI[to_player][pi_BLACK_MARKET_LEVEL] = value;
	SendFormatNotification(playerid, "El nivel 'black_market' de %s (%d) ahora es %d.", PI[to_player][pi_NAME], to_player, value);

	SendCmdLogToAdmins(playerid, "setmerca", params);
	return 1;
}

CMD:asay(playerid, params[])
{
	if(isnull(params)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /asay <message>", 2);
	new str[145]; format(str, 145, "{ff4a00}@Administrador{FFFFFF} %s", params);
	SendClientMessageToAll(0x2587CEFF, str);

	SendCmdLogToAdmins(playerid, "asay", params);
	return 1;
}
alias:asay("global");

CMD:irpos(playerid, params[])
{
	new Float:p[4], interior, vw;
	if(sscanf(params, "p<,>ffffdd", p[0], p[1], p[2], p[3], interior, vw)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /spos [X], [Y], [Z], [ANGLE], [INTERIOR], [VIRTUAL WORLD]", 2);

	SetPlayerPosEx(playerid, p[0], p[1], p[2], p[3], interior, vw);
	return 1;
}

GetVehicleModelByName(vehname[]) {
	new modelid = -1;
	for(new i = 0; i < sizeof VEHICLE_INFO; i ++) {
		if(strfind(VEHICLE_INFO[i][vehicle_info_NAME], vehname, true) != -1) {
			modelid = i + 400;
			break;
		}
	}
	return modelid;
}

stock ObtenerVelocidad(playerid)
{
	new Float:PosX, Float:PosY, Float:PosZ, Float:PlayerSpeedDistance;
	GetVehicleVelocity(GetPlayerVehicleID(playerid), PosX, PosY, PosZ);
	PlayerSpeedDistance = floatmul(floatsqroot(floatadd(floatadd(floatpower( PosX, 2), floatpower(PosY, 2)), floatpower(PosZ, 2))), 170.0);
	new spe = floatround(PlayerSpeedDistance * 1);
	return spe;
}

CMD:v(playerid, params[])
{
	new modelid, vehname[24], color1 = 1, color2 = 1;
	if(!sscanf(params, "ddd", modelid, color1, color2)) { }
	else if(!sscanf(params, "d", modelid)) { }
	else if(!sscanf(params, "s[24]dd", vehname, color1, color2)) { modelid = GetVehicleModelByName(vehname); }
	else if(!sscanf(params, "s[24]", vehname)) { modelid = GetVehicleModelByName(vehname); }
	else return SendNotification(playerid, "~r~Modo de uso:~w~ /v <modelid/name> <color 1 = 1> <color 2 = 1>");
	
	if(modelid < 400 || modelid > 611) return SendNotification(playerid, "Modelo de vehiculo no vlido.");
		
	new Float:p[4];
	GetPlayerPos(playerid, p[0], p[1], p[2]);
	GetPlayerFacingAngle(playerid, p[3]);
	
	new vid = AddTestVehicle(false, modelid, p[0], p[1], p[2], p[3], color1, color2, GetPlayerInterior(playerid), GetPlayerVirtualWorld(playerid));
	PutPlayerInVehicleEx(playerid, vid, 0);

	GLOBAL_VEHICLES[vid][gb_vehicle_PARAMS_ENGINE] = 1;
	UpdateVehicleParams(vid);
	
	SendCmdLogToAdmins(playerid, "v", params);
	return 1;
}

CMD:destrv(playerid)
{
	if(!PI_CAR_TEST[playerid]) return ShowPlayerMessage(playerid, "No tienes ningun vehiculo de test. Usa: /v <model>", 2);
	PI_CAR_TEST[playerid]=false;
	DestroyVehicle(PI_CAR_TEST_ID[playerid]);
	PI_CAR_TEST_ID[playerid] = -1;
	ShowPlayerMessage(playerid, "~g~¡Tu vehiculo se destruyo correctamente!");
	return 1;
}

CMD:dv(playerid, params[])
{
	new vehicleid = GetPlayerVehicleID(playerid);
	if(!vehicleid) return ShowPlayerMessage(playerid, "Error: no estás en ningún vehiculo de prueba.", 2);
	if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_TYPE] != VEHICLE_TYPE_TEST) return ShowPlayerMessage(playerid, "Error: no estás en ningún vehiculo de prueba.", 2);

	DestroyVehicleEx(vehicleid);
	ShowPlayerMessage(playerid, "vehiculo de prueba destruido.", 2);
	return 1;
}

CMD:nombre(playerid, params[])
{
	if(!IsPlayerInRangeOfPoint(playerid, 3.0, 191.352035, 1851.500244, 994.372619)) return ShowPlayerMessage(playerid, "~w~No estás en el lugar adecuado.", 2);
	if(CHANGE_NAME_SD_PRICE > PI[playerid][pi_COINS])
	{
		SendFormatNotification(playerid, "Te faltan %d "SERVER_COIN" para poder cambiarte el nombre.", CHANGE_NAME_SD_PRICE - PI[playerid][pi_COINS]);
		return 1;
	}

	ShowDialog(playerid, DIALOG_CHANGE_NAME);
	return 1;
}
alias:nombre("cname");

CMD:correo(playerid, params[])
{
	ShowDialog(playerid, DIALOG_CHANGE_EMAIL);
	return 1;
}
alias:correo("email", "mail");

CMD:setnametemp(playerid, params[])
{
	new to_player, new_name[24];
	if(sscanf(params, "us[24]", to_player, new_name)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /setnametemp <player_id> <nuevo nombre>", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);

	if(SetPlayerName(to_player, new_name) == 1)
	{
		for(new i = 0; i < 24; i++)
		{
			if(new_name[i] == '_')
			{
				new_name[i] = ' ';
			}
		}

		format(PLAYER_TEMP[to_player][pt_RP_NAME], 24, "%s", new_name);
		ShowPlayerMessage(playerid, "Nombre cambiado temporalmente.", 2);
	}
	else ShowPlayerMessage(playerid, "Nombre no válido.", 2);
	return 1;
}

CMD:setnameplayer(playerid, params[])
{
	new to_player;
	if(sscanf(params, "u", to_player)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /setnameplayer <player_id>", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);

	SetRolePlayNames(to_player);
	SetPlayerName(to_player, PI[to_player][pi_NAME]);
	ShowPlayerMessage(playerid, "Nombre cambiado.", 2);
	return 1;
}

CMD:setname(playerid, params[])
{
	new to_player, new_name[24];
	if(sscanf(params, "us[24]", to_player, new_name)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /setname <player_id> <nuevo nombre>", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);

	inline OnInfoQueryLoad(data[])
	{
		new rows;
		if(cache_get_row_count(rows))
		{
			if(rows) SendFormatNotification(playerid, "El nombre '%s' está en uso.", new_name);
			else
			{
				format(PLAYER_TEMP[to_player][pt_NAME], 24, "%s", new_name);
				format(PI[to_player][pi_NAME], 24, "%s", new_name);
				SetRolePlayNames(to_player);
				SetPlayerName(to_player, new_name);

				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET name = '%e' WHERE id = %d;", new_name, PI[to_player][pi_ID]);
				mysql_tquery(srp_db, QUERY_BUFFER);

				for(new i = 0; i != MAX_PROPERTIES; i ++)
				{
					if(!PROPERTY_INFO[i][property_VALID]) continue;
					if(PROPERTY_INFO[i][property_OWNER_ID] != PI[to_player][pi_ID]) continue;

					new name_house[24];
					if(PROPERTY_INFO[ i ][property_EXTRA1] == 0) name_house = "Casa";
					if(PROPERTY_INFO[ i ][property_EXTRA1] == 2) name_house = "Garaje";
					if(PROPERTY_INFO[ i ][property_EXTRA1] == 4) name_house = "Negocio";

					new label_str[256];
					format
					(
						label_str,
						sizeof label_str,
						"\
							{00FF00}{FFFFFF}Dirección {00FF00}[ %d ]\n\n\
							{00FF00}{FFFFFF}Propietario: {00FF00}[ %s ]\n\
							{00FF00}{FFFFFF}Tipo: {00FF00}[ %s ]\n\
							{00FF00}{FFFFFF}Presiona {00FF00}[~k~~CONVERSATION_YES~]  "WHITE"para entrar.\
						", PROPERTY_INFO[i][property_ID], PI[to_player][pi_NAME], name_house
					);
					UpdateDynamic3DTextLabelText(PROPERTY_INFO[i][property_EXT_LABEL_ID], 0xFFFFFFFF, label_str);
				}

				SendClientMessageEx(to_player, -1, ""YELLOW"Tu nombre ha sido cambiado a '%s'", new_name);
				SendFormatNotification(playerid, "El nombre del jugador ha sido cambiado a '%s'", new_name);

				SendCmdLogToAdmins(playerid, "setname", data);
			}
		}
	}
	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT id FROM player WHERE name = '%e';", new_name);
	mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnInfoQueryLoad, "s", params);
	return 1;
}

CMD:exproperty(playerid, params[])
{
	new id_property;
	if(sscanf(params, "d", id_property)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /exproperty <id>", 2);
	if(id_property <= 0) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /exproperty < id > 0 >", 2);

	new index = GetPropertyIndexByID(id_property);
	if(index == -1) return ShowPlayerMessage(playerid, "PROPIEDAD ID no encontrada.", 2);

	if(!PROPERTY_INFO[index][property_SOLD]) return ShowPlayerMessage(playerid, "Esta propiedad ya está en venta.", 2);


	PROPERTY_INFO[ index ][property_SOLD] = false;
	PROPERTY_INFO[ index ][property_CREW] = false;
	PROPERTY_INFO[ index ][property_OWNER_ID] = 0;
	PROPERTY_INFO[ index ][property_CREW_ID] = 0;
	format(PROPERTY_INFO[ index ][property_NAME], 24, "PROPIEDAD %d", PROPERTY_INFO[ index ][property_ID]);

	new info[3];
	UpdateUnnocupiedPropertyLabel(index);

	DestroyDynamicPickup(PROPERTY_INFO[ index ][property_EXT_PICKUP_ID]);
	PROPERTY_INFO[ index ][property_EXT_PICKUP_ID] = INVALID_STREAMER_ID;

	PROPERTY_INFO[ index ][property_EXT_PICKUP_ID] = CreateDynamicPickup(1273, 1, PROPERTY_INFO[ index ][property_EXT_X], PROPERTY_INFO[ index ][property_EXT_Y], PROPERTY_INFO[ index ][property_EXT_Z], 0, PROPERTY_INFO[ index ][property_EXT_INTERIOR]);
	info[0] = PICKUP_TYPE_PROPERTY;
	info[1] = index; // Index
	info[2] = 2; // Pickup Exterior
	Streamer_SetArrayData(STREAMER_TYPE_PICKUP, PROPERTY_INFO[ index ][property_EXT_PICKUP_ID], E_STREAMER_EXTRA_ID, info);

	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE properties SET id_player = NULL, id_territory = NULL WHERE id = %d;", PROPERTY_INFO[ index ][property_ID]);
	mysql_tquery(srp_db, QUERY_BUFFER);
	SendFormatNotification(playerid, "Propiedad (%d) expropiada.", PROPERTY_INFO[ index ][property_ID]);

	SendCmdLogToAdmins(playerid, "exproperty", params);
	return 1;
}

CMD:gotoproperty(playerid, params[])
{
	new int_type;
	if(sscanf(params, "d", int_type)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /gotoproperty <interior>", 2);
	if(int_type < 0 || int_type >= sizeof PROPERTY_INTERIORS) return SendFormatNotification(playerid, "Error, rango de interior: 0-%d", sizeof(PROPERTY_INTERIORS) - 1);

	SetPlayerPosEx(playerid, PROPERTY_INTERIORS[int_type][property_INT_X], PROPERTY_INTERIORS[int_type][property_INT_Y], PROPERTY_INTERIORS[int_type][property_INT_Z], PROPERTY_INTERIORS[int_type][property_INT_ANGLE], PROPERTY_INTERIORS[int_type][property_INT_INTERIOR], 0, false, true);
	return 1;
}
alias:gotoproperty("ircasa");

CMD:setpass(playerid, params[])
{
	new to_account, new_pass[MAX_PASS_LENGTH + 1];
	if(sscanf(params, "ds[19]", to_account, new_pass)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /setpass <DB-ID> <pass>", 2);

	inline OnInfoQueryLoad()
	{
		new rows;
		if(cache_get_row_count(rows))
		{
			if(rows)
			{
				new id, name[24], connected, pid, admin_level;
				cache_get_value_name_int(0, "id", id);
				cache_get_value_name(0, "name", name);
				cache_get_value_name_int(0, "connected", connected);
				cache_get_value_name_int(0, "playerid", pid);
				cache_get_value_name_int(0, "admin_level", admin_level);
				if(PI[playerid][pi_ADMIN_LEVEL] >= admin_level)
				{
					if(connected) SendFormatNotification(playerid, "JUGADOR '%s' DB-ID '%d' conectado, player_id: %d, no es necario cambiar la contraseña.", name, id, pid);
					else
					{
						new salt[16], salt_ex[16], pass_ex[64 + 1];
						getRandomSalt(salt);
						format(salt_ex, 16, "%s", salt);
						SHA256_PassHash(new_pass, salt_ex, pass_ex, 64 + 1);

						mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET salt = '%e', pass = '%e' WHERE id = %d;", salt_ex, pass_ex, id);
						mysql_tquery(srp_db, QUERY_BUFFER);

						SendFormatNotification(playerid, "La contraseña de '%s' ahora es: %s", name, new_pass);
					}
				}
				else ShowPlayerMessage(playerid, "El rango administrativo de este jugador es superior al tuyo.", 2);
			}
			else ShowPlayerMessage(playerid, "No se encontro la DB-ID.", 2);
		}
	}
	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT id, name, connected, playerid, admin_level FROM player WHERE id = %d;", to_account);
	mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnInfoQueryLoad);
	return 1;
}

CMD:delete(playerid, params[])
{
	new to_account;
	if(sscanf(params, "d", to_account)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /delete <DB-ID>", 2);

	inline OnInfoQueryLoad()
	{
		new rows;
		if(cache_get_row_count(rows))
		{
			if(rows)
			{
				new id, ip[16], name[24], connected, pid, admin_level;
				cache_get_value_name_int(0, "id", id);
				cache_get_value_name(0, "ip", ip);
				cache_get_value_name(0, "name", name);
				cache_get_value_name_int(0, "connected", connected);
				cache_get_value_name_int(0, "playerid", pid);
				cache_get_value_name_int(0, "admin_level", admin_level);

				if(PI[playerid][pi_ADMIN_LEVEL] >= admin_level)
				{
					if(connected) SendFormatNotification(playerid, "JUGADOR '%s' DB-ID '%d' conectado para eliminarlo debe estar desconectado, utilice kick, su player_id: %d.", name, id, pid);
					else
					{
						mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "DELETE FROM player WHERE id = %d;", id);
						mysql_tquery(srp_db, QUERY_BUFFER);

						new ex_properties;
						for(new index = 0; index != MAX_PROPERTIES; index ++)
						{
							if(!PROPERTY_INFO[index][property_VALID]) continue;
							if(!PROPERTY_INFO[index][property_SOLD]) continue;
							if(PROPERTY_INFO[index][property_OWNER_ID] != id) continue;

							PROPERTY_INFO[ index ][property_SOLD] = false;
							PROPERTY_INFO[ index ][property_OWNER_ID] = 0;
							format(PROPERTY_INFO[ index ][property_NAME], 24, "PROPIEDAD %d", PROPERTY_INFO[ index ][property_ID]);

							new info[3];
							UpdateUnnocupiedPropertyLabel(index);

							DestroyDynamicPickup(PROPERTY_INFO[ index ][property_EXT_PICKUP_ID]);
							PROPERTY_INFO[ index ][property_EXT_PICKUP_ID] = INVALID_STREAMER_ID;

							PROPERTY_INFO[ index ][property_EXT_PICKUP_ID] = CreateDynamicPickup(1273, 1, PROPERTY_INFO[ index ][property_EXT_X], PROPERTY_INFO[ index ][property_EXT_Y], PROPERTY_INFO[ index ][property_EXT_Z], 0, PROPERTY_INFO[ index ][property_EXT_INTERIOR]);
							info[0] = PICKUP_TYPE_PROPERTY;
							info[1] = index; // Index
							info[2] = 2; // Pickup Exterior
							Streamer_SetArrayData(STREAMER_TYPE_PICKUP, PROPERTY_INFO[ index ][property_EXT_PICKUP_ID], E_STREAMER_EXTRA_ID, info);

							ex_properties ++;
						}


						SendFormatNotification(playerid, "CUENTA (Nombre '%s' DB-ID: '%d') ha sido eliminada.", name, id);
						if(ex_properties > 0) SendFormatNotification(playerid, "Se han expropiado '%d' propiedades del jugador eliminado.", ex_properties);

						new str[145]; format(str, 145, ""WHITE"%s (%d) ha eliminado el usuario '%s'", PI[playerid][pi_NAME], playerid, name);
						SendMessageToAdmins(-1, str);
					}
				}
				else ShowPlayerMessage(playerid, "El rango administrativo de este jugador es superior al tuyo.", 2);
			}
			else ShowPlayerMessage(playerid, "No se encontro la DB-ID.", 2);
		}
	}
	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT id, ip, name, connected, playerid, admin_level FROM player WHERE id = %d;", to_account);
	mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnInfoQueryLoad);
	return 1;
}

/* PROPERTY CONSTRUCTOR */

CMD:rproperty(playerid, params[])
{
	new id_property;
	if(sscanf(params, "d", id_property)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /rproperty <id>", 2);
	if(id_property <= 0) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /rproperty < id > 0 >", 2);

	new index = GetPropertyIndexByID(id_property);
	if(index == -1) return ShowPlayerMessage(playerid, "PROPIEDAD ID no encontrada.", 2);

	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "DELETE FROM properties WHERE id = %d;", PROPERTY_INFO[index][property_ID]);
	mysql_tquery(srp_db, QUERY_BUFFER);

	if(IsValidDynamic3DTextLabel(PROPERTY_INFO[index][property_EXT_LABEL_ID])) DestroyDynamic3DTextLabel(PROPERTY_INFO[index][property_EXT_LABEL_ID]);
	if(IsValidDynamic3DTextLabel(PROPERTY_INFO[index][property_INT_LABEL_ID])) DestroyDynamic3DTextLabel(PROPERTY_INFO[index][property_INT_LABEL_ID]);
	if(IsValidDynamicPickup(PROPERTY_INFO[index][property_EXT_PICKUP_ID])) DestroyDynamicPickup(PROPERTY_INFO[index][property_EXT_PICKUP_ID]);
	if(IsValidDynamicPickup(PROPERTY_INFO[index][property_INT_PICKUP_ID])) DestroyDynamicPickup(PROPERTY_INFO[index][property_INT_PICKUP_ID]);
	new reset[Property_Info_Enum]; PROPERTY_INFO[index] = reset;

	TOTAL_PROPERTIES_LOADED --;

	SendFormatNotification(playerid, "PROPIEDAD %d ELIMINADA.", id_property);
	SendFormatNotification(playerid, "PROPIEDADES: %d/%d", TOTAL_PROPERTIES_LOADED, MAX_PROPERTIES);

	SendCmdLogToAdmins(playerid, "rproperty", params);
	return 1;
}

CMD:eproperty(playerid, params[])
{
	new id_property, new_int;
	if(sscanf(params, "dddddd", id_property, new_int, PLAYER_TEMP[playerid][pt_PROPERTY_CINFO][0], PLAYER_TEMP[playerid][pt_PROPERTY_CINFO][1], PLAYER_TEMP[playerid][pt_PROPERTY_CINFO][2], PLAYER_TEMP[playerid][pt_PROPERTY_CINFO][3])) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /eproperty <id> <interior> <nivel> <precio> <vip level> <coins>", 2);
	if(id_property <= 0) return ShowPlayerMessage(playerid, "ID no válida.", 2);

	new index = GetPropertyIndexByID(id_property);
	if(index == -1) return ShowPlayerMessage(playerid, "PROPIEDAD ID no encontrada.", 2);

	if(PROPERTY_INFO[index][property_SOLD]) return ShowPlayerMessage(playerid, "Solo se pueden modificar propiedades que están libres.", 2);

	if(new_int < 0 || new_int >= sizeof(PROPERTY_INTERIORS)) return ShowPlayerMessage(playerid, "El interior elegido no es válido.", 2);

	PROPERTY_INFO[index][property_ID_INTERIOR] = new_int;
	PROPERTY_INFO[index][property_PRICE] = PLAYER_TEMP[playerid][pt_PROPERTY_CINFO][1];
	PROPERTY_INFO[index][property_LEVEL] = PLAYER_TEMP[playerid][pt_PROPERTY_CINFO][0];
	PROPERTY_INFO[index][property_EXTRA] = PLAYER_TEMP[playerid][pt_PROPERTY_CINFO][3];
	PROPERTY_INFO[index][property_VIP_LEVEL] = PLAYER_TEMP[playerid][pt_PROPERTY_CINFO][2];
	PROPERTY_INFO[index][property_PRICE_BASE] = floatround(floatdiv(PROPERTY_INFO[index][property_PRICE], MULTIPLIER_PROPERITES));

	if(PROPERTY_INFO[index][property_EXTRA]) PROPERTY_INFO[index][property_PRICE] = 0;
	if(PROPERTY_INFO[index][property_VIP_LEVEL]) PROPERTY_INFO[index][property_LEVEL] = 1;

	UpdateUnnocupiedPropertyLabel(index);

	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE properties SET id_interior = %d, price = %d, level = %d, extra = %d, vip_level = %d WHERE id = %d;", PROPERTY_INFO[index][property_ID_INTERIOR], PROPERTY_INFO[index][property_PRICE_BASE], PROPERTY_INFO[index][property_LEVEL], PROPERTY_INFO[index][property_EXTRA], PROPERTY_INFO[index][property_VIP_LEVEL], PROPERTY_INFO[index][property_ID]);
	mysql_tquery(srp_db, QUERY_BUFFER);

	SendCmdLogToAdmins(playerid, "eproperty", params);
	return 1;
}

CMD:cproperty(playerid, params[])
{
	if(TOTAL_PROPERTIES_LOADED >= MAX_PROPERTIES) return ShowPlayerMessage(playerid, "Límite alcanzado.", 2);

	if(sscanf(params, "dddd", PLAYER_TEMP[playerid][pt_PROPERTY_CINFO][0], PLAYER_TEMP[playerid][pt_PROPERTY_CINFO][1], PLAYER_TEMP[playerid][pt_PROPERTY_CINFO][2], PLAYER_TEMP[playerid][pt_PROPERTY_CINFO][3])) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /cproperty <nivel> <precio> <vip level> <coins>", 2);

	GetPlayerPos(playerid, PLAYER_PROPERTY_CONSTRUCTOR[playerid][player_property_creator_EXT_X], PLAYER_PROPERTY_CONSTRUCTOR[playerid][player_property_creator_EXT_Y], PLAYER_PROPERTY_CONSTRUCTOR[playerid][player_property_creator_EXT_Z]);
	GetPlayerFacingAngle(playerid, PLAYER_PROPERTY_CONSTRUCTOR[playerid][player_property_creator_EXT_ANG]);
	PLAYER_PROPERTY_CONSTRUCTOR[playerid][player_property_creator_EXT_INT] = GetPlayerInterior(playerid);

	PLAYER_PROPERTY_CONSTRUCTOR[playerid][player_property_creator_ENABLED] = true;
	for(new i = 0; i != 6; i ++) PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_PROPERTY_CONSTRUCTOR][i]);

	UpdatePlayerPropertyContructor(playerid);
	return 1;
}

SendChatMessageToAdmins(color, message[])
{
	for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
	    if(IsPlayerConnected(i) && PLAYER_TEMP[i][pt_USER_LOGGED])
	        if(PI[i][pi_ADMIN_LEVEL] > 0 /*&& PLAYER_TEMP[i][pt_SEE_ADM_CHAT] && PLAYER_TEMP[i][pt_ADMIN_SERVICE]*/)
	            SendClientMessage(i, color, message);
}

SendMessageToAdmins(color, message[], level = 1)
{
	for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
	    if(IsPlayerConnected(i) && PLAYER_TEMP[i][pt_USER_LOGGED])
	        if(PI[i][pi_ADMIN_LEVEL] > level && PLAYER_TEMP[i][pt_SEE_ADM_LOG] && PLAYER_TEMP[i][pt_ADMIN_SERVICE])
	            SendClientMessage(i, color, message);

	return 1;
}

//Twitter no se xd
SendMessageToGlobalChannel(playerid, message[], bool:show_name, div, bool:police) {
	new str[1024], line1_str[165], line2_str[165], bool:line2_used = false;

	if (police) {
		format(str, sizeof(str), "{66c4e4}@Twitter {"#POLICE_COLOUR"}POLICIA{F5F5F5}: %s", message);
	} else {
		if (show_name) {
			if (PI[playerid][pi_ADMIN_LEVEL]) format(str, sizeof(str), "{66c4e4}@Twitter {00FF00}{66c4e4}#{F5F5F5}%s {%s}%s {FFFFFF}(%d){F5F5F5}: {66c4e4}%s", PLAYER_TEMP[playerid][pt_NAME], ADMIN_COLOURS[ PI[playerid][pi_ADMIN_LEVEL] ], ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], playerid, message);
			else if (PI[playerid][pi_VIP]) format(str, sizeof(str), "{66c4e4}@Twitter {FFE000}{66c4e4}#{F5F5F5}%s (%d) [{FFE000}VIP{F5F5F5}]: {66c4e4}%s", PLAYER_TEMP[playerid][pt_NAME], playerid, message);
			else format(str, sizeof(str), "{66c4e4}@Twitter {0088FF}{66c4e4}#{F5F5F5}%s (%d): {66c4e4}%s", PLAYER_TEMP[playerid][pt_NAME], playerid, message);
		} else {
			if (PI[playerid][pi_ADMIN_LEVEL]) format(str, sizeof(str), "{66c4e4}@Twitter {%s}{323232}ANONIMO{F5F5F5}(%d): {66c4e4}%s", ADMIN_COLOURS[ PI[playerid][pi_ADMIN_LEVEL] ], playerid, message);
			else if (PI[playerid][pi_VIP]) format(str, sizeof(str), "{66c4e4}@Twitter {FFE000}{323232}ANONIMO{F5F5F5}(%d) [{FFE000}VIP{F5F5F5}]: {66c4e4}%s", playerid, message);
			else format(str, sizeof(str), "{66c4e4}@Twitter {0088FF}{323232}ANONIMO{F5F5F5}(%d): {66c4e4}%s", playerid, message);
		}
	}

	if (div) {
		format(line1_str, div + 1, "%s", str);
		if (strlen(str) > div) {
			format(line2_str, sizeof line2_str, "%s", str[div]);
			line2_used = true;
		}
	}
	else format(line1_str, sizeof line1_str, "%s", str);

	foreach (new i : Player) {
		if (IsPlayerConnected(i)) {
			if ((PLAYER_TEMP[i][pt_GAME_STATE] == GAME_STATE_NORMAL || PLAYER_TEMP[i][pt_GAME_STATE] == GAME_STATE_DEAD)) {
				SendPlayerClientMessage(i, line1_str);
				if (line2_used) SendClientMessage(i, 0x66c4e4ff, line2_str);
			}
		}
	}
	return 1;
}

SendCmdLogToAdmins(playerid, cmdtext[], params[])
{
	new message[145];
	new messages[145];
	if(isnull(params)) format(message, sizeof message, "{ffffff}[ADM - BOT] [Spain] {FFFFFF}|{d50000}[LAN-BOT] | {ffffff}%s | (%d) {FFFFFF}ha utilizado el comando {828282}/%s", PI[playerid][pi_NAME], playerid, cmdtext);
	else format(message, sizeof message, "{ffffff}[ADM - BOT] [Spain] {FFFFFF} | {d50000}[LAN-BOT] | {ffffff}%s | (%d) {ffffff}ha utilizado el comando {828282}/%s %s", PI[playerid][pi_NAME], playerid, cmdtext, params);
	format(messages, sizeof messages, "[ADM - BOT] [Spain] [LAN-BOT] | %s | (%d) ha utilizado el comando /%s", PI[playerid][pi_NAME], playerid, cmdtext);
	cmds= DCC_FindChannelById("1440967671368781914");
    new DCC_Embed:embed = DCC_CreateEmbed("Admin - Bot Spain+ RolePlay","","","",0x00ff00,"Spain+ RolePlay","","https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png","");
    DCC_AddEmbedField(embed, "Admin - Bot", messages, true);
    DCC_SendChannelEmbedMessage(cmds,embed);

	for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
	    if(IsPlayerConnected(i) && PLAYER_TEMP[i][pt_USER_LOGGED])
	        if(PI[i][pi_ADMIN_LEVEL] >= PI[playerid][pi_ADMIN_LEVEL] && PLAYER_TEMP[i][pt_SEE_ACMD_LOG] /*&& PLAYER_TEMP[i][pt_ADMIN_SERVICE]*/)
	            SendClientMessage(i, 0xA9C4E4FF, message);

	return 1;
}

stock SendMessageToAd(playerid, message[])
{
	new str[250], number = PI[playerid][pi_PHONE_NUMBER];

	format(str, sizeof(str), "[{00CC00}Publicidad{FFFFFF}]: %s [Contacto: {00CC00}%d{FFFFFF}](ID: %i)", message, number, playerid);

	PI[playerid][pi_AD_CHANNEL_TIME] = gettime() + MIN_TIME_BETWEEN_AD;

	for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
	{
		if(IsPlayerConnected(i))
		{
			SendClientMessage(i, 0xFFFFFFFF, str);
		}
	}
	return 1;
}

SendMessageToAdminsAC(color, message[])
{
	for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
	    if(IsPlayerConnected(i) && PLAYER_TEMP[i][pt_USER_LOGGED])
	        if(PI[i][pi_ADMIN_LEVEL] > 1 && PLAYER_TEMP[i][pt_SEE_AC_LOG] /*&& PLAYER_TEMP[i][pt_ADMIN_SERVICE]*/)
	            SendClientMessage(i, color, message);

	return 1;
}

RespawnAllUnoccupiedVehicles()
{
    // 1. Limpieza de vehículos en el mapa
    for(new i = 1, j = GetVehiclePoolSize(); i <= j; i++)
    {
        if(!IsValidVehicle(i)) continue; // Seguridad extra

        // --- NUEVO: Si el vehículo tiene un timer de abandono activo, lo matamos ---
        if(TimerAbandonoVeh[i] != 0)
        {
            KillTimer(TimerAbandonoVeh[i]);
            TimerAbandonoVeh[i] = 0;
        }

        // --- DETECCIÓN DE REMOLQUES DE TRABAJO (TRAILERS) ---
        new model = GetVehicleModel(i);
        if(model == 435 || model == 450 || model == 584 || model == 591 || model == 606 || model == 610)
        {
            // Verificamos si alguien lo está remolcando
            new bool:siendo_remolcado = false;
            for(new v = 1, k = GetVehiclePoolSize(); v <= k; v++)
            {
                if(GetVehicleTrailer(v) == i) 
                {
                    siendo_remolcado = true;
                    break;
                }
            }

            // Si NO está enganchado a ningún camión, lo destruimos
            if(siendo_remolcado == false) 
            {
                DestroyVehicleEx(i); 
                continue;
            }
            // Si SÍ está enganchado, saltamos este vehículo para que no se borre
            else continue; 
        }

        if(!GLOBAL_VEHICLES[i][gb_vehicle_VALID]) continue;
        
        // --- CAMBIO IMPORTANTE: Usamos IsVehicleOccupied para estar seguros ---
        if(IsVehicleOccupied(i)) continue; 

        if(GLOBAL_VEHICLES[i][gb_vehicle_TYPE] == VEHICLE_TYPE_TEST ||
           GLOBAL_VEHICLES[i][gb_vehicle_TYPE] == VEHICLE_TYPE_WORK ||
           GLOBAL_VEHICLES[i][gb_vehicle_TYPE] == VEHICLE_TYPE_FACTION ||
           GLOBAL_VEHICLES[i][gb_vehicle_TYPE] == VEHICLE_TYPE_DRIVING_SCHOOL)
        {
            DestroyVehicleEx(i);
            continue;
        }

        SetVehicleToRespawnEx(i);
    }

    // 2. Limpieza de variables de jugadores
    for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
    {
        if(!IsPlayerConnected(i)) continue;
        if(PLAYER_TEMP[i][pt_USER_LOGGED] == false) continue; // Tu filtro de seguridad

        for(new z = 0; z < 10; z++)
        {
            Vehicles_SAPD[i][z] = INVALID_VEHICLE_ID;
        }

        if(PLAYER_TEMP[i][pt_TRAILER_OBJ] != 0)
        {
            // Si el tráiler que tenía asignado ya no existe, limpiamos sus variables
            if(!IsValidVehicle(PLAYER_TEMP[i][pt_TRAILER_OBJ]))
            {
                PLAYER_TEMP[i][pt_TRAILER_OBJ] = 0;
                PLAYER_TEMP[i][pt_CARGADO] = false;
                PLAYER_TEMP[i][pt_ENTREGADO] = false;
                DisablePlayerCheckpoint(i);
                SendFormatNotification(i, "Tu remolque ha sido retirado por limpieza general.");
            }
        }
    }
    return 1;
}


VehMasCercano(playerid,Float:range)
{
    new Float: PosX, Float: PosY, Float: PosZ, Float: CloseDist = range, Float: Dist, FetchVeh, PlayerVeh;
    PlayerVeh = GetPlayerVehicleID(playerid);
    for(new i = GetVehiclePoolSize(); i != 0; i--)
    {
        if(!GetPlayerCameraTargetVehicle(i)) continue;
        if(i == PlayerVeh) continue;
        GetVehiclePos(i, PosX, PosY, PosZ);
        Dist = GetPlayerDistanceFromPoint(playerid, PosX, PosY, PosZ);
        if(Dist <= CloseDist)
        {
            FetchVeh = i;
            CloseDist = Dist;
            break;
        }
    }
    return FetchVeh;
}

RespawnGlobalUnoccupiedVehicles()
{
	for(new i = 0, j = GetVehiclePoolSize(); i <= j; i ++)
	{
		if(!GLOBAL_VEHICLES[i][gb_vehicle_VALID]) continue;
		if(GLOBAL_VEHICLES[i][gb_vehicle_TYPE] == VEHICLE_TYPE_PERSONAL) continue;
		if(GLOBAL_VEHICLES[i][gb_vehicle_OCCUPIED]) continue;

		SetVehicleToRespawnEx(i);
	}
	return 1;
}


GetNumberOfPlayersOnThisIP(test_ip[])
{
	new against_ip[16], ip_count = 0;
	for(new x = 0, j = GetPlayerPoolSize(); x <= j; x++)
	{
		if(IsPlayerConnected(x))
		{
		    GetPlayerIp(x, against_ip, 16);
		    if(!strcmp(against_ip, test_ip)) ip_count++;
		}
	}
	return ip_count;
}

stock GetNearVehicle(playerid, Float:radi = 5.0)
{
	if (!IsPlayerConnected(playerid)) return INVALID_VEHICLE_ID;

	new vehicle = INVALID_VEHICLE_ID, Float:PosPlayer[3];
	GetPlayerPos(playerid, PosPlayer[0], PosPlayer[1], PosPlayer[2]);

	for (new i; i < MAX_VEHICLES; i++)
	{
		if (GLOBAL_VEHICLES[i][gb_vehicle_VALID])
		{
			new Float:PosVehicle[3], Float:PosRelative[3], Float:tempDis;
			GetVehiclePos(i, PosVehicle[0], PosVehicle[1], PosVehicle[2]);

			for (new z; z < sizeof(PosVehicle); z++)
			{
				PosRelative[z] = PosVehicle[z] - PosPlayer[z];
			}
				
			tempDis = floatsqroot((floatpower(PosRelative[0], 2)) + (floatpower(PosRelative[1], 2)) + (floatpower(PosRelative[2], 2)));

			if (tempDis <= radi)
			{
				radi = tempDis;
				vehicle = i;
			}
		}
	}
	return vehicle;
}

getRandomSalt(salt[], length = sizeof salt)
{
    for(new i = 0; i != length; i ++)
	{
		salt[i] = random(2) ? (random(26) + (random(2) ? 'a' : 'A')) : (random(10) + '0');
	}
	return true;
}

GetTickDiff(newtick, oldtick)
{
	if (oldtick < 0 && newtick >= 0) {
		return newtick - oldtick;
	} else if (oldtick >= 0 && newtick < 0 || oldtick > newtick) {
		return (cellmax - oldtick + 1) - (cellmin - newtick);
	}
	return newtick - oldtick;
}

GetPlayerSpeed(vehicleid)
{
	new Float:xPos[3];
	GetPlayerVelocity(vehicleid, xPos[0], xPos[1], xPos[2]);
	return floatround(floatsqroot(xPos[0] * xPos[0] + xPos[1] * xPos[1] + xPos[2] * xPos[2]) * 170.00);
}

public OnPlayerStreamIn(playerid, forplayerid)
{
	if(PLAYER_TEMP[playerid][pt_WANT_TAXI])
	{
		if(GetPlayerState(forplayerid) == PLAYER_STATE_DRIVER)
		{
			if(!PLAYER_WORKS[forplayerid][WORK_TAXI][pwork_SET]) return 1;
			if(PLAYER_TEMP[forplayerid][pt_WORKING_IN] != WORK_TAXI) return 1;
			SetPlayerMarkerForPlayer(forplayerid, playerid, 0xf2f224FF);
		}
	}

	if(PI[playerid][pi_WANTED_LEVEL] > 0)
	{
		if(!PLAYER_WORKS[forplayerid][WORK_POLICE][pwork_SET]) return 1;
		if(PLAYER_TEMP[forplayerid][pt_WORKING_IN] != WORK_POLICE) return 1;
		SetPlayerMarkerForPlayer(forplayerid, playerid, PlayerWantedColor(playerid));
	}

	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK)
	{
		if(!PLAYER_WORKS[forplayerid][WORK_MEDIC][pwork_SET]) return 1;
		if(PLAYER_TEMP[forplayerid][pt_WORKING_IN] != WORK_MEDIC) return 1;
		SetPlayerMarkerForPlayer(forplayerid, playerid, 0x4aba00FF);
	}
    return 1;
}

public OnPlayerStreamOut(playerid, forplayerid)
{
	if(PLAYER_TEMP[playerid][pt_WANT_TAXI])
	{
		if(GetPlayerState(forplayerid) == PLAYER_STATE_DRIVER)
		{
			if(!PLAYER_WORKS[forplayerid][WORK_TAXI][pwork_SET]) return 1;
			if(PLAYER_TEMP[forplayerid][pt_WORKING_IN] != WORK_TAXI) return 1;
			SetPlayerMarkerForPlayer(forplayerid, playerid, 0xf2f224FF);
		}
	}

	if(PI[playerid][pi_WANTED_LEVEL] > 0)
	{
		if(!PLAYER_WORKS[forplayerid][WORK_POLICE][pwork_SET]) return 1;
		if(PLAYER_TEMP[forplayerid][pt_WORKING_IN] != WORK_POLICE) return 1;
		SetPlayerMarkerForPlayer(forplayerid, playerid, PlayerWantedColor(playerid));
	}

	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK)
	{
		if(!PLAYER_WORKS[forplayerid][WORK_MEDIC][pwork_SET]) return 1;
		if(PLAYER_TEMP[forplayerid][pt_WORKING_IN] != WORK_MEDIC) return 1;
		SetPlayerMarkerForPlayer(forplayerid, playerid, 0x4aba00FF);
	}
    return 1;
}

GetPlayerPlantedPlants(playerid)
{
	new plants;

	for(new i = 0; i != MAX_PLANTS; i ++)
	{
		if(!PLANTS[i][plant_VALID]) continue;
		if(PLANTS[i][plant_PLANTED_BY_ACCOUNT_ID] == PI[playerid][pi_ID]) plants ++;
	}
	return plants;
}

forward StartPlayerJob(playerid, work, vehicleid);
public StartPlayerJob(playerid, work, vehicleid)
{
	switch(work)
	{
		case WORK_TAXI:
		{
			SetTaxiPlayerMarkers(playerid);
			ResetVehicleTaxiMeter(vehicleid);
			ShowPlayerTaxiMeter(playerid);

			new passenger = GetVehicleFirstPassenger(vehicleid);
			if(passenger != INVALID_PLAYER_ID)
			{
				ShowPlayerTaxiMeter(passenger);
				if(PLAYER_TEMP[passenger][pt_WANT_TAXI])
				{
					PLAYER_TEMP[passenger][pt_WANT_TAXI] = false;
					DisablePlayerTaxiMark(passenger);
				}

				TAXI_METER_VEHICLE[vehicleid][veh_taxi_meter_ENABLED] = true;
				GetVehiclePos(vehicleid, TAXI_METER_VEHICLE[vehicleid][veh_taxi_meter_OLD_X], TAXI_METER_VEHICLE[vehicleid][veh_taxi_meter_OLD_Y], TAXI_METER_VEHICLE[vehicleid][veh_taxi_meter_OLD_Z]);
				KillTimer(TAXI_METER_VEHICLE[vehicleid][veh_taxi_meter_TIMER]);
				TAXI_METER_VEHICLE[vehicleid][veh_taxi_meter_TIMER] = SetTimerEx("UpdateVehicleTaximeter", 4000, true, "iii", vehicleid, GLOBAL_VEHICLES[vehicleid][gb_vehicle_DRIVER], passenger);
			}
			ShowPlayerMessage(playerid, "~w~Estado ~g~Trabajando");
		}

		case WORK_BUS:
		{
			PLAYER_TEMP[playerid][pt_BUS_PROCCESS] = 0;
			SendFormatNotification(playerid,"Ve hasta los puntos de control para completar el trabajo.", 2);
			ShowPlayerMessage(playerid,"Si te bajas del BUS se cancelará el trabajo.", 2);
			Set_BUS_Checkpoint(playerid);
			SetPlayerToys(playerid);
			ShowPlayerMessage(playerid, "~w~Estado ~g~Trabajando");
		}

		case WORK_TRUCK:
		{
			if(TRUCK_VEHICLE[vehicleid][truck_vehicle_LOADED])
			{
				if(TRUCK_VEHICLE[vehicleid][truck_vehicle_DELIVERED]) ShowPlayerMessage(playerid, "El camión ya ha entregado la mercancía, ve al punto de partida para cobrar.", 2);
				else SendFormatNotification(playerid, "Ve a entregar la mercancía al punto marcado.", 2);

				SetPlayerTruckCheckpoint(playerid, vehicleid);
				ShowPlayerMessage(playerid, "~w~Estado ~g~Trabajando");
			}
			else SendFormatNotification(playerid, "Para comenzar a trabajar carga el camión en la zona indicada con una flecha amarilla.", 2);
		}
		case WORK_HARVESTER:
		{
			PLAYER_TEMP[playerid][pt_HARVERT_PROCCESS] = 0;
			SendFormatNotification(playerid, "Ve hasta los puntos de control para completar el trabajo.", 2);
			SendFormatNotification(playerid, "Si te bajas de la cosechadora se cancelará el trabajo.", 2);
			Set_HARVEST_Checkpoint(playerid);
			ShowPlayerMessage(playerid, "~w~Estado ~g~Trabajando");
			SetPlayerToys(playerid);
		}
		case WORK_LUMBERJACK:
		{
			PLAYER_TEMP[playerid][pt_PLAYER_CARRYING_TREE] = false;
			PLAYER_TEMP[playerid][pt_PLAYER_LUMBERJACK_TREE] = -1;

			DestroyPlayerKeyPress(playerid);
			RemovePlayerAttachedObject(playerid, 8);
			SetPlayerAttachedObject(playerid, 8, 341, 1, -0.172999, -0.165, -0.053999, 0.0, -7.599999, -9.6);

			SendClientMessage(playerid,-1, "{ffcb00}{FFFfFF}Los árboles que puedes talar están repartidos por la zona, si te alejas demasiado el trabajo se cancelará.");
			SetPlayerToys(playerid);
			ShowPlayerMessage(playerid, "~w~Estado ~g~Trabajando");
		}
		case WORK_TRASH:
		{
			if(PI[playerid][pi_GENDER] == SEX_MALE)
			{
				SetPlayerSkin(playerid, 16);
				
			}
			ShowPlayerMessage(playerid, "~w~Estado ~g~Trabajando");
		}
		case WORK_MECHANIC:
		{
			if(PI[playerid][pi_GENDER] == SEX_MALE)
			{
				SetPlayerSkin(playerid, 50);
				for(new i = 0; i != MAX_SU_TOYS; i ++) RemovePlayerAttachedObject(playerid, i);
				new pok[126];
				format(pok,sizeof(pok),"~p~ %s mecánico disponible ~w~(~p~/llamar mecanico~w~)",PI[playerid][pi_NAME], 3000);
				EnviarPopUp(playerid,pok);
                SetPlayerToys(playerid);				
			}
			ShowPlayerMessage(playerid, "~w~Estado ~g~Trabajando");

			SetMechanicPlayerMarkers(playerid);
		}
		case WORK_POLICE:
		{
			SetWantedPlayerMarkers(playerid);
			SetPlayerSkin(playerid, PI[playerid][pi_POLICE_DUTY]);
			ShowPlayerMessage(playerid, "~w~Estado ~g~Trabajando");
		}

		case WORK_PIZZA:
		{
			if(PI[playerid][pi_GENDER] == SEX_MALE)
			{
				SetPlayerSkin(playerid, 155);
				for(new i = 0; i != MAX_SU_TOYS; i ++) RemovePlayerAttachedObject(playerid, i);
			}
			PLAYER_TEMP[playerid][pt_PIZZA_PROCCESS] = 0;
			PLAYER_TEMP[playerid][pt_DELIVERED_PIZZAS] = 0;
			SendFormatNotification(playerid, "Para comenzar a repartir súbete a una moto de la pizzería.", 2);
			SetPlayerToys(playerid);
			ShowPlayerMessage(playerid, "~w~Estado ~g~Trabajando");
		}

		case WORK_MEDIC:
		{
			if(PI[playerid][pi_GENDER] == SEX_MALE) SetPlayerSkin(playerid, male_medic_skins[ random(sizeof(male_medic_skins)) ]);
			else SetPlayerSkin(playerid, 308);
			SetPlayerColorEx(playerid, 0xff8a8aFF);
			new pok[126];
			format(pok,sizeof(pok),"~p~ %s médico disponible ~w~(~p~/llamar médico ~w~)",PI[playerid][pi_NAME], 3000);
			EnviarPopUp(playerid,pok);
			SetPlayerAttachedObject(playerid, 8, 11738, 6, 0.27, 0.012, -0.003, 4.5, -89.200027, 0.0, 1.0, 1.0, 1.0);//botoquin
			SetInjuredPlayerMarkers(playerid);
			SetPlayerToys(playerid);
			ShowPlayerMessage(playerid, "~w~Estado ~g~Trabajando");
		}
	}

	PLAYER_TEMP[playerid][pt_WORKING_IN] = work;
	return 1;
}

forward EndPlayerJob(playerid, work, bool:changeskin);
public EndPlayerJob(playerid, work, bool:changeskin)
{
	switch(PLAYER_TEMP[playerid][pt_WORKING_IN])
	{
		case WORK_TAXI:
		{
			if(PLAYER_TEMP[playerid][pt_TAXI_METER_ENABLED])
			{
				SetNormalPlayerMarkers(playerid);
				HidePlayerTaxiMeter(playerid);
			}
		}

		case WORK_BUS:
		{
			if(IsValidDynamicRaceCP(PLAYER_TEMP[playerid][pt_BUS_CHECKPOINT]))
			{
				DestroyDynamicRaceCP(PLAYER_TEMP[playerid][pt_BUS_CHECKPOINT]);
				PLAYER_TEMP[playerid][pt_BUS_CHECKPOINT] = INVALID_STREAMER_ID;
			}
			if(PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] != INVALID_VEHICLE_ID)
			{
				if(WORK_VEHICLES[ PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] ][work_vehicle_WORK] == WORK_BUS) SetVehicleToRespawnEx(PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID]);
			}
		}

		case WORK_TRUCK:
		{
			if(PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] != INVALID_VEHICLE_ID)
			{
				if(TRUCK_VEHICLE[ PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] ][truck_vehicle_DRIVER_USER_ID] == PI[playerid][pi_ID])
				{
					if(TRUCK_VEHICLE[ PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] ][truck_vehicle_LOADING])
					{
						HidePlayerDialog(playerid);
						KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][9]);
						PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][0]);
						PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][1]);
						PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][2]);
						PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][3]);
						SetVehicleToRespawnEx(PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID]);
					}
					if(TRUCK_VEHICLE[ PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] ][truck_vehicle_UNLOADING])
					{
						TRUCK_VEHICLE[ PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] ][truck_vehicle_UNLOADING] = false;
						KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][9]);
						PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][0]);
						PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][1]);
						PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][2]);
						PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_TRUCK_LOAD][3]);
					}
				}
			}
			if(IsValidDynamicCP(PLAYER_TEMP[playerid][pt_TRUCK_CHECKPOINT]))
			{
				DestroyDynamicCP(PLAYER_TEMP[playerid][pt_TRUCK_CHECKPOINT]);
				PLAYER_TEMP[playerid][pt_TRUCK_CHECKPOINT] = INVALID_STREAMER_ID;
			}
		}
		case WORK_HARVESTER:
		{
			if (IsValidDynamicRaceCP(PLAYER_TEMP[playerid][pt_HARVERT_CHECKPOINT]))
			{
				DestroyDynamicRaceCP(PLAYER_TEMP[playerid][pt_HARVERT_CHECKPOINT]);
				PLAYER_TEMP[playerid][pt_HARVERT_CHECKPOINT] = INVALID_STREAMER_ID;
			}
			if (PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] != INVALID_VEHICLE_ID)
			{
				if (WORK_VEHICLES[ PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] ][work_vehicle_WORK] == WORK_HARVESTER)
				{
					DestroyVehicleEx(PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID]);
					PLAYER_TEMP[playerid][pt_WORK_VEHICLE_ID] = INVALID_VEHICLE_ID;
				}
			}
		}
		case WORK_LUMBERJACK: CancelLumberjackWork(playerid);
		case WORK_FARMER: CancelPlayerPlanting(playerid);
		case WORK_TRASH:
		{
			if(changeskin)
			{
				SetPlayerSkin(playerid, PI[playerid][pi_SKIN]);
				SetPlayerToys(playerid);
			}

			if(PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] != INVALID_VEHICLE_ID)
			{
				if(TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_JOB_STARTED])
				{
					if(PLAYER_TEMP[playerid][pt_TRASH_DRIVER])
					{
						SendClientMessage(TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_PASSENGER_ID], -1, "»El trabajo se ha cancelado porque tu compañero ha dejado de trabajar.");
						CancelTrashWork(playerid, TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_PASSENGER_ID], PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID]);
					}
					if(PLAYER_TEMP[playerid][pt_TRASH_PASSENGER])
					{
						SendClientMessage(TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_DRIVER_ID], -1, "»El trabajo se ha cancelado porque tu compañero ha dejado de trabajar.");
						CancelTrashWork(TRASH_VEHICLES[ PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] ][trash_vehicle_DRIVER_ID], playerid, PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID]);
					}
				}
			}
		}
		case WORK_POLICE:
		{
			PLAYER_TEMP[playerid][pt_POLICE_RADIO] = 0;
			if(changeskin)
			{
				SetPlayerSkin(playerid, PI[playerid][pi_SKIN]);
				SetPlayerToys(playerid);
				PI[playerid][pi_POLICE_DUTY] = 0;
			}
			SetNormalPlayerMarkers(playerid);
		}
		case WORK_MECHANIC:
		{
			if(changeskin)
			{
				SetPlayerSkin(playerid, PI[playerid][pi_SKIN]);
				SetPlayerToys(playerid);
			}
			SetNormalPlayerMarkers(playerid);
		}
		case WORK_PIZZA:
		{
			if(PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] != INVALID_VEHICLE_ID)
			{
				if(PIZZA_VEHICLE[ PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] ][pizza_vehicle_DRIVER_AID] == PI[playerid][pi_ID]) SetVehicleToRespawnEx(PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID]);
			}
			if(IsValidDynamicCP(PLAYER_TEMP[playerid][pt_PIZZA_CHECKPOINT]))
			{
				DestroyDynamicCP(PLAYER_TEMP[playerid][pt_PIZZA_CHECKPOINT]);
				PLAYER_TEMP[playerid][pt_PIZZA_CHECKPOINT] = INVALID_STREAMER_ID;
			}
			if(IsValidDynamicActor(PLAYER_TEMP[playerid][pt_PIZZA_ACTOR]))
			{
				DestroyDynamicActor(PLAYER_TEMP[playerid][pt_PIZZA_ACTOR]);
				PLAYER_TEMP[playerid][pt_PIZZA_ACTOR] = INVALID_STREAMER_ID;
			}
			if(changeskin)
			{
				SetPlayerSkin(playerid, PI[playerid][pi_SKIN]);
				SetPlayerToys(playerid);
			}
		}
		case WORK_MEDIC:
		{
			if(changeskin)
			{
				SetPlayerSkin(playerid, PI[playerid][pi_SKIN]);
				SetPlayerToys(playerid);
				RemovePlayerAttachedObject(playerid, 9);
			}
			SetNormalPlayerMarkers(playerid);
		}
		case WORK_TRAILERO:
		{
			
		}
	}

	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE pworks SET level = %d WHERE id_player = %d AND id_work = %d;", PLAYER_WORKS[playerid][ PLAYER_TEMP[playerid][pt_WORKING_IN] ][pwork_LEVEL], PI[playerid][pi_ID], PLAYER_TEMP[playerid][pt_WORKING_IN]);
	mysql_tquery(srp_db, QUERY_BUFFER);
	PLAYER_TEMP[playerid][pt_WORKING_IN] = WORK_NONE;
	return 1;
}

CountPlayerJobs(playerid)
{
	new count;
	for(new i = 1; i != sizeof(work_info); i ++)
	{
		if(PLAYER_WORKS[playerid][i][pwork_SET]) count ++;
	}
	return count;
}

getPlayerWorks(playerid)
{
	new works[27 * sizeof(work_info)], count;
	for(new i = 1; i != sizeof(work_info); i ++)
	{
		if(PLAYER_WORKS[playerid][i][pwork_SET])
		{
			if(count > 0) strcat(works, ", ");
			strcat(works, work_info[i][work_info_NAME]);

			count ++;
		}
	}

	if(!count) works = "{d50000}Desempleado";
	return works;
}

CountPlayerFactions(playerid)
{
	new count;
	for(new i = 1; i != sizeof(faction_info); i ++)
	{
		if(PLAYER_FACTIONS[playerid][i][pfact_SET]) count ++;
	}
	return count;
}

stock getPlayerFactions(playerid)
{
	new works[27 * sizeof(faction_info)], count;
	for(new i = 1; i != sizeof(work_info); i ++)
	{
		if(PLAYER_FACTIONS[playerid][i][pfact_SET])
		{
			if(count > 0) strcat(works, ", ");
			strcat(works, faction_info[i][faction_info_NAME]);

			count ++;
		}
	}

	if(!count) works = "ninguno";
	return works;
}

SetPlayer_Pizza_Checkpoint(playerid, point)
{
	if(IsValidDynamicCP(PLAYER_TEMP[playerid][pt_PIZZA_CHECKPOINT]))
	{
		DestroyDynamicCP(PLAYER_TEMP[playerid][pt_PIZZA_CHECKPOINT]);
		PLAYER_TEMP[playerid][pt_PIZZA_CHECKPOINT] = INVALID_STREAMER_ID;
	}
	if(IsValidDynamicActor(PLAYER_TEMP[playerid][pt_PIZZA_ACTOR]))
	{
		DestroyDynamicActor(PLAYER_TEMP[playerid][pt_PIZZA_ACTOR]);
		PLAYER_TEMP[playerid][pt_PIZZA_ACTOR] = INVALID_STREAMER_ID;
	}

	if(point == -1)
	{
		PLAYER_TEMP[playerid][pt_PIZZA_CHECKPOINT] = CreateDynamicCP(2096.279785, -1797.436279, 12.982056, 3.0, 0, 0, playerid, 9999999999.0);

		new info[1];
		info[0] = CHECKPOINT_TYPE_PIZZA_FINISH;
		Streamer_SetArrayData(STREAMER_TYPE_CP, PLAYER_TEMP[playerid][pt_PIZZA_CHECKPOINT], E_STREAMER_EXTRA_ID, info);
	}
	else
	{
		PLAYER_TEMP[playerid][pt_PIZZA_ACTOR] = CreateDynamicActor(minrand(0, 311), PIZZA_DELIVERY_POINT[point][0], PIZZA_DELIVERY_POINT[point][1], PIZZA_DELIVERY_POINT[point][2], PIZZA_DELIVERY_POINT[point][3], .playerid = playerid);

		new Float:pos[3];
		pos[0] = PIZZA_DELIVERY_POINT[point][0] + (1.5 * floatsin(-PIZZA_DELIVERY_POINT[point][3], degrees));
		pos[1] = PIZZA_DELIVERY_POINT[point][1] + (1.5 * floatcos(-PIZZA_DELIVERY_POINT[point][3], degrees));
		pos[2] = PIZZA_DELIVERY_POINT[point][2];

		PLAYER_TEMP[playerid][pt_PIZZA_CHECKPOINT] = CreateDynamicCP(pos[0], pos[1], pos[2], 1.0, 0, 0, playerid, 9999999999.0);

		new info[1];
		info[0] = CHECKPOINT_TYPE_PIZZA_DEL;
		Streamer_SetArrayData(STREAMER_TYPE_CP, PLAYER_TEMP[playerid][pt_PIZZA_CHECKPOINT], E_STREAMER_EXTRA_ID, info);
		
		//StartTracing(playerid, pos[0], pos[1], pos[2]);
	}
	return 1;
}

randomEx(max, exception)
{
	new rand = random(max);
	while(rand == exception)
	{
		rand = random(max);
	}
	return rand;
}

SetPlayerSkillLevels(playerid)
{
	if(PI[playerid][pi_LEVEL] >= 3)
	{
		SetPlayerSkillLevel(playerid, WEAPONSKILL_SAWNOFF_SHOTGUN,		200);
		SetPlayerSkillLevel(playerid, WEAPONSKILL_PISTOL, 				40);
		SetPlayerSkillLevel(playerid, WEAPONSKILL_PISTOL_SILENCED, 		500);
		SetPlayerSkillLevel(playerid, WEAPONSKILL_DESERT_EAGLE, 		999);
		SetPlayerSkillLevel(playerid, WEAPONSKILL_SHOTGUN, 				999);
		SetPlayerSkillLevel(playerid, WEAPONSKILL_SPAS12_SHOTGUN, 		999);
		SetPlayerSkillLevel(playerid, WEAPONSKILL_MICRO_UZI, 			50);
		SetPlayerSkillLevel(playerid, WEAPONSKILL_MP5, 					999);
		SetPlayerSkillLevel(playerid, WEAPONSKILL_AK47, 				999);
		SetPlayerSkillLevel(playerid, WEAPONSKILL_M4, 					999);
		SetPlayerSkillLevel(playerid, WEAPONSKILL_SNIPERRIFLE, 			999);
	}
	else
	{
		SetPlayerSkillLevel(playerid, WEAPONSKILL_SAWNOFF_SHOTGUN, 0);
		SetPlayerSkillLevel(playerid, WEAPONSKILL_PISTOL, 0);
		SetPlayerSkillLevel(playerid, WEAPONSKILL_PISTOL_SILENCED, 0);
		SetPlayerSkillLevel(playerid, WEAPONSKILL_DESERT_EAGLE, 0);
		SetPlayerSkillLevel(playerid, WEAPONSKILL_SHOTGUN, 0);
		SetPlayerSkillLevel(playerid, WEAPONSKILL_SPAS12_SHOTGUN, 0);
		SetPlayerSkillLevel(playerid, WEAPONSKILL_MICRO_UZI, 0);
		SetPlayerSkillLevel(playerid, WEAPONSKILL_MP5, 0);
		SetPlayerSkillLevel(playerid, WEAPONSKILL_AK47, 0);
		SetPlayerSkillLevel(playerid, WEAPONSKILL_M4, 0);
		SetPlayerSkillLevel(playerid, WEAPONSKILL_SNIPERRIFLE, 0);
	}
	return 1;
}

DeleteIlegalInv(playerid)
{
    // Si es VIP o está en el Evento DM, NO borramos nada y salimos de la función
    if(PI[playerid][pi_VIP] > 0) return 1;

    // Si NO es policía, borramos lo ilegal de la DB
    if(!PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET])
    {
        mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET seed_cannabis = 0, seed_crack = 0, cannabis = 0, crack = 0 WHERE id = %d;", PI[playerid][pi_ID]);
        mysql_tquery(srp_db, QUERY_BUFFER);

        mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "DELETE FROM pweapons WHERE id_player = %d;", PI[playerid][pi_ID]);
        mysql_tquery(srp_db, QUERY_BUFFER);
        ResetPlayerWeaponsEx(playerid);
        
        // MOVER ESTO AQUÍ ADENTRO: Solo los civiles pierden el arma al morir
        PI[playerid][pi_CANNABIS] = 0;
        PI[playerid][pi_CRACK] = 0;
        PI[playerid][pi_MANO_DER] = 0;
        PI[playerid][pi_DER_CANT] = 0;
        ResetPlayerWeapons(playerid);
    }
    return 1;
}



SetInjuredPlayerMarkers(playerid) {
	foreach (new i : Player) {
		if (IsPlayerConnected(i)) {
			if (PLAYER_TEMP[i][pt_GAME_STATE] == GAME_STATE_NORMAL) {
				if (PI[i][pi_STATE] == ROLEPLAY_STATE_CRACK) {
					SetPlayerMarkerForPlayer(playerid, i, 0x4aba00FF);
				}
			}
		}
	}
	return 1;
}

DisablePlayerInjuredMark(playerid) {
	foreach (new i : Player) {
		if (IsPlayerConnected(i)) {
			if (PLAYER_TEMP[i][pt_GAME_STATE] == GAME_STATE_NORMAL) {
				if (i == playerid) continue;
				if (!PLAYER_WORKS[i][WORK_MEDIC][pwork_SET]) continue;
				if (PLAYER_TEMP[i][pt_WORKING_IN] != WORK_MEDIC) continue;

				SetPlayerMarkerForPlayer(i, playerid, PLAYER_COLOR);
			}
		}
	}
	return 1;
}

Dialog:OnPlayerStandUpResponse(playerid, response, listitem, inputtext[])
{
	if (response) {
		new to_playerid;
		if (sscanf(inputtext, "u", to_playerid)) return ShowPlayerMessage(playerid, "ESCRIBE LA ID DE EL JUGADOR PARA CURAR.");
		if (!IsPlayerConnected(to_playerid)) return ShowPlayerMessage(playerid, "El jugador no está conectado.");
		if (to_playerid == playerid) return ShowPlayerMessage(playerid, "NO PUEDES CURARTE ATI MISMO.");
		
		new Float:pos[3];
		GetPlayerPos(to_playerid, pos[0], pos[1], pos[2]);
		if (!IsPlayerInRangeOfPoint(playerid, NEARS_PLAYERS_DISTANCE, pos[0], pos[1], pos[2])) return ShowPlayerMessage(playerid, "Este jugador no está cerca tuya.");

		if (PI[to_playerid][pi_STATE] != ROLEPLAY_STATE_CRACK) return ShowPlayerMessage(playerid, "Esta persona no está herida.");
		if (PI[to_playerid][pi_CREW] && CREW_INFO[ PLAYER_TEMP[to_playerid][pt_CREW_INDEX] ][crew_FIGHTING]) return ShowPlayerMessage(playerid, "No puedes curar a esta persona porque su banda está en combate.");

		KillTimer(PLAYER_TEMP[to_playerid][pt_TIMERS][16]);
		PLAYER_TEMP[to_playerid][pt_TIMERS][16] = SetTimerEx("StandUp", 5000, false, "ii", playerid, to_playerid);
		DisablePlayerInjuredMark(to_playerid);
		
		ApplyAnimation(playerid, "MEDIC", "CPR", 4.1, false, 0, 0, 0, 0, 1);
		ShowPlayerMessage(playerid, "Curando...");
		new mano = PI[playerid][pi_MANO_DER];
    	if(mano == 113){ PI[playerid][pi_DER_CANT] --; }  
		PLAYER_TEMP[playerid][pt_COOLDOWN_BOTI] = gettime() + 300;
	}
	return 1;
}

CMD:curar(playerid, params[]) {
    if(!PLAYER_WORKS[playerid][WORK_MEDIC][pwork_SET]) return ShowPlayerMessage(playerid, "No eres Medico.", 2);
	if (GetPlayerState(playerid) != PLAYER_STATE_ONFOOT) return ShowPlayerMessage(playerid, "No estás depie.");
	if (PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK) return ShowPlayerMessage(playerid, "No puedes curar estando herido.");
	if (PI[playerid][pi_CREW] && CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_FIGHTING]) return ShowPlayerMessage(playerid, "No puedes curar mientras tu banda está en combate.");
	Dialog_Show(playerid, "OnPlayerStandUpResponse", DIALOG_STYLE_INPUT, "Medico curar", "{F5F5F5}Introduce el {"#PRIMARY_COLOR"}id{F5F5F5} de el {"#GREEN_COLOR"}paciente{f5f5f5}.", "Curar", "xSalir");
	return 1;
}

forward StandUp(medic, playerid);
public StandUp(medic, playerid)
{
	if (PLAYER_WORKS[medic][WORK_MEDIC][pwork_SET] && PLAYER_TEMP[medic][pt_WORKING_IN] == WORK_MEDIC) {
		new work_extra_payment;
		if (work_info[WORK_MEDIC][work_info_EXTRA_PAY] > 0 && work_info[WORK_MEDIC][work_info_EXTRA_PAY_EXP] > 0)
		{
			work_extra_payment = (work_info[WORK_MEDIC][work_info_EXTRA_PAY] * floatround(floatdiv(PLAYER_WORKS[medic][WORK_MEDIC][pwork_LEVEL], work_info[WORK_MEDIC][work_info_EXTRA_PAY_EXP])));
			if (work_info[WORK_MEDIC][work_info_EXTRA_PAY_LIMIT] != 0) if (work_extra_payment > work_info[WORK_MEDIC][work_info_EXTRA_PAY_LIMIT]) work_extra_payment = work_info[WORK_MEDIC][work_info_EXTRA_PAY_LIMIT];
		    OtorgarLogro(medic, 29);
			if (PI[medic][pi_VIP]) work_extra_payment += 500;
		}
		
		new money = work_extra_payment;
		if (PI[medic][pi_VIP]) money += 2500 + random(500);
		else money += 2000 + random(200);

		GivePlayerCash(medic, money, true, false);

		new player_money = 1000 + random(500);
		GivePlayerCash(playerid, -player_money, true, true);

		PLAYER_WORKS[medic][WORK_MEDIC][pwork_LEVEL] ++;
		ShowPlayerMessage(medic, "Has salvado la vida de esta persona.");
	}
	
	PI[playerid][pi_STATE] = ROLEPLAY_STATE_NORMAL;
	if (PI[playerid][pi_VIP]) SetPlayerHealthEx(playerid, 20.0);
	else SetPlayerHealthEx(playerid, 20.0);
	ApplyAnimation(playerid, "CARRY", "crry_prtial", 4.1, 0, 0, 0, 0, 0, true);
	ClearAnimations(playerid);
	
	clearInjuredVars(playerid);

	new action[145];
	format(action, sizeof action, "ha curado a %s.", PLAYER_TEMP[playerid][pt_NAME]);
	Auto_SendPlayerAction(medic, action);
	return 1;
}

CMD:banda(playerid, params[])
{
	if(!PI[playerid][pi_CREW])
	{
		if(PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET]) return SendNotification(playerid, "Los policías no pueden tener bandas.");
		
		new index = GetAvaibleCrewIndex();
		if(index == -1)
		{
			SendFormatNotification(playerid, "No perteneces a ninguna banda y no se puede crear una porque no hay espacio disponible, el límite de bandas es %d.", MAX_CREWS);
			return 1;
		}
		
		ShowDialog(playerid, DIALOG_CREATE_CREW);
		return 1;
	}
	
	ShowDialog(playerid, DIALOG_CREW_MENU);
	return 1;
}

CMD:abandonar(playerid, params[])
{
	if(!PI[playerid][pi_CREW]) return ShowPlayerMessage(playerid, "No perteneces a ninguna banda.", 2);
	if(!CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_PERMISSION][CREW_RANK_LEAVE_TERRITORY]) return ShowPlayerMessage(playerid, "No tienes permiso para abandonar territorios.", 2);
	if(PLAYER_TEMP[playerid][pt_LAST_TERRITORY] == INVALID_STREAMER_ID) return ShowPlayerMessage(playerid, "No estás en un territorio de tu banda.", 2);
	if(!IsPlayerInDynamicArea(playerid, TERRITORIES[ PLAYER_TEMP[playerid][pt_LAST_TERRITORY] ][territory_AREA])) return ShowPlayerMessage(playerid, "No estás en un territorio de tu banda.", 2);
	if(TERRITORIES[ PLAYER_TEMP[playerid][pt_LAST_TERRITORY] ][territory_CREW_ID] != PI[playerid][pi_CREW]) return ShowPlayerMessage(playerid, "No estás en un territorio de tu banda.", 2);
	if(CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_FIGHTING]) return ShowPlayerMessage(playerid, "No puedes abandonar territorios mientras tu banda está en combate.", 2);

	PLAYER_TEMP[playerid][pt_PLAYER_TERRITORY_PRO] = PLAYER_TEMP[playerid][pt_LAST_TERRITORY];
	ShowDialog(playerid, DIALOG_CREW_LEAVE_TERRITORY);
	return 1;
}

CMD:invitar(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return SendNotification(playerid, "Ahora no puedes usar este comando.");
	
	if(!PI[playerid][pi_CREW]) return SendNotification(playerid, "No eres miembro de ninguna banda.");
	if(!CREW_RANK_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][ PI[playerid][pi_CREW_RANK] ][crew_rank_PERMISSION][CREW_RANK_INVITE]) return SendNotification(playerid, "No tienes permiso para invitar personas a la banda.");
	if(CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_FIGHTING]) return SendNotification(playerid, "No puedes invitar a gente a la banda cuando la banda está en combate.");
	
	new to_player;
	if(sscanf(params, "u", to_player)) return SendNotification(playerid, "~r~Modo de uso: ~w~/invitar [PlayerID/Nombre]");
	if(!IsPlayerConnected(to_player)) return SendNotification(playerid, "El jugador está desconectado.");
	if(to_player == playerid) return SendNotification(playerid, "Eres tú.");
	
	new members = CountCrewPlayers(PI[playerid][pi_CREW]);
	if(members >= 10) 
	{
		return SendFormatNotification(playerid, "Actualmente la banda cuenta con %d miembros, el límite es de %d miembros.", members, 10);
	}
	
	new Float:pos[3]; GetPlayerPos(to_player, pos[0], pos[1], pos[2]);
	if(!IsPlayerInRangeOfPoint(playerid, 2.0, pos[0], pos[1], pos[2])) return SendNotification(playerid, "Este jugador no está cerca tuya.");
	if(PLAYER_WORKS[to_player][WORK_POLICE][pwork_SET]) return SendNotification(playerid, "Esta persona es policía y no puede tener banda.");
	if(PI[to_player][pi_CREW]) return SendNotification(playerid, "Esta persona pertenece a otra banda.");
	if(PLAYER_TEMP[to_player][pt_GAME_STATE] != GAME_STATE_NORMAL) return SendNotification(playerid, "No puedes invitar a este jugador ahora.");
	
	if(gettime() < PLAYER_TEMP[ to_player ][pt_LAST_GOT_CREW] + 600)
	{
		new time = 600 - (gettime() - PLAYER_TEMP[to_player][pt_LAST_GOT_CREW]);
		SendFormatNotification(playerid, "La otra persona debe esperar %s minutos para volver a ser invitada.", TimeConvert(time));
		return 1;
	}
	
	PLAYER_TEMP[playerid][pt_CREW_INVITE_PID] = to_player;
	PLAYER_TEMP[playerid][pt_CREW_INVITE_AID] = PI[to_player][pi_ID];
	SendFormatNotification(playerid, "Quieres invitar a %s a la banda, elige el rango que le ofreces.", PLAYER_TEMP[to_player][pt_RP_NAME]);
	ShowDialog(playerid, DIALOG_CREW_INVITE_RANK);
	return 1;
}

CMD:reclutar(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return ShowPlayerMessage(playerid, "~r~Ahora no puedes usar este comando.", 2);

	if(PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET])
	{
		if(PLAYER_WORKS[playerid][WORK_POLICE][pwork_LEVEL] < 9) return SendFormatNotification(playerid, "Debes ser al menos rango ~r~%s~w~ para reclutar gente.", POLICE_RANKS[9]);

		new to_player;
		if(sscanf(params, "u", to_player)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /reclutar [PlayerID/Nombre]", 2);
		if(!IsPlayerConnected(to_player)) return ShowPlayerMessage(playerid, "~r~El jugador está desconectado.", 2);
		if(to_player == playerid) return ShowPlayerMessage(playerid, "~r~No puedes invitarte.", 2);

		new Float:pos[3]; GetPlayerPos(to_player, pos[0], pos[1], pos[2]);
		if(!IsPlayerInRangeOfPoint(playerid, 2.0, pos[0], pos[1], pos[2])) return ShowPlayerMessage(playerid, "~r~Este jugador no está cerca tuya.", 2);
		if(PI[to_player][pi_CREW]) return SendClientMessage(playerid,-1, ""RED"Esta persona pertenece a una banda y no puede ser policía.");
		if(PLAYER_WORKS[to_player][WORK_POLICE][pwork_SET]) return ShowPlayerMessage(playerid, "~r~Éste usuario es miembro.", 2);
		if(PLAYER_TEMP[to_player][pt_GAME_STATE] != GAME_STATE_NORMAL) return ShowPlayerMessage(playerid, "~r~No puedes reclutar a este jugador ahora.", 2);

		new player_jobs = CountPlayerJobs(to_player);
		if(PI[to_player][pi_VIP])
		{
			if(player_jobs >= MAX_SU_WORKS)
			{
				ShowPlayerMessage(playerid, "~r~Esta persona ya tiene trabajo y no puede tener más.", 2);
				return 1;
			}
		}
		else
		{
			if(player_jobs >= MAX_NU_WORKS)
			{
				ShowPlayerMessage(playerid, "~r~Esta persona ya tiene trabajo y no puede tener más.", 2);
				return 1;
			}
		}

		if(PLAYER_TEMP[to_player][pt_WORKING_IN]) return ShowPlayerMessage(playerid, "~r~Esta persona no puede unirse porque esta de servicio en su trabajo.", 2);

		mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "INSERT INTO pworks (id_player, id_work, `set`, level) VALUES(%d, %d, 1, 1) ON DUPLICATE KEY UPDATE `set` = 1, level = 1;", PI[to_player][pi_ID], WORK_POLICE);
		mysql_tquery(srp_db, QUERY_BUFFER);

		PLAYER_WORKS[to_player][WORK_POLICE][pwork_SET] = true;
		PLAYER_WORKS[to_player][WORK_POLICE][pwork_LEVEL] = 1;

		PI[to_player][pi_PLACA_PD] = random(10000000);
		mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET placa_pd = %d WHERE id = %d;", PI[to_player][pi_PLACA_PD], PI[to_player][pi_ID]);
		mysql_tquery(srp_db, QUERY_BUFFER);

		SendFormatNotification(playerid, "%s ahora es policía.", PLAYER_TEMP[to_player][pt_RP_NAME]);
		SendClientMessage(to_player, -1, "Ahora eres policía.");
		OtorgarLogro(to_player, 29);
	}
	else ShowPlayerMessage(playerid, "~r~Debes ser miembro de la policía para usar este comando.", 2);
	return 1;	
}

CMD:enamorado(playerid,params[])
{
    if((gettime() - LimiteEnamorado[playerid]) < 520 * 1) return ShowPlayerMessage(playerid, "~r~Tienes que esperar 6 minutos para volver a usar el comando.", 3);
    if(isnull(params)) return ShowPlayerMessage(playerid, "~r~/enamorado ~w~[persona o id]", 2);
	new player1 = strval(params);
 	if(!IsPlayerConnected(player1)) return GameTextForPlayer(playerid,"~g~El jugador es equivocado",4000,3);

    new str_text[145];
    format(str_text, sizeof(str_text), "{f54f67}%s {ffb2bd}se siente {f54f67}enamorado{ffb2bd} de {f54f67}%s. {ffb2bd}<3", PLAYER_TEMP[playerid][pt_RP_NAME], PLAYER_TEMP[player1][pt_RP_NAME]);
	ProxDetector(playerid, 10.0, str_text, 0xffb2bdFF, 0xffb2bdFF, 0xffb2bdFF, 0xffb2bdFF, 0xffb2bdFF);
	SendClientMessageToAll(-1, str_text);
	LimiteEnamorado[playerid] = gettime();
	return 1;
}


GetAvaibleCrewIndex()
{
	for(new i = 0; i != MAX_CREWS; i ++)
	{
		if(!CREW_INFO[i][crew_VALID]) return i;
	}
	return -1;
}


NewCrewRegister(index, playerid)
{
	if(!CREW_INFO[index][crew_VALID]) return 0;

	inline OnCrewInserted()
	{
		CREW_INFO[index][crew_ID] = cache_insert_id();
		if(CREW_INFO[index][crew_ID])
		{
			PI[playerid][pi_CREW] = CREW_INFO[index][crew_ID];
			PI[playerid][pi_CREW_RANK] = 0;
			PLAYER_TEMP[playerid][pt_CREW_INDEX] = index;
			mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET crew = %d, crew_rank = %d WHERE id = %d;", PI[playerid][pi_CREW], PI[playerid][pi_CREW_RANK], PI[playerid][pi_ID]);
			mysql_tquery(srp_db, QUERY_BUFFER);
			RegisterNewCrewRank(index, 0);
		}
	}
	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "INSERT INTO crews (name, color) VALUES ('%e', %d);", CREW_INFO[index][crew_NAME], CREW_INFO[index][crew_COLOR]);
	mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnCrewInserted);
	return 1;
}

SendMessageToCrewMembers(crew_id, color, message[])
{
	for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
	{
		if(IsPlayerConnected(i) && PLAYER_TEMP[i][pt_USER_LOGGED])
		{
			if(PI[i][pi_CREW] == crew_id)
			{
				SendClientMessage(i, color, message);
			}
		}
	}
	return 1;
}

forward PlayerPacketing(playerid, paquet);
public PlayerPacketing(playerid, paquet)
{
	switch(PLAYER_TEMP[playerid][pt_SELECT_PACKET])
	{
		case 0:
		{
			if(paquet==0)
			{
				new player_slot = GetEmptyInvSlot(playerid);
				if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");

				PI[playerid][pi_CANNABIS] -= 50;
				TogglePlayerControllableEx(playerid, true);
				ShowPlayerMessage(playerid, "Armaste un paquete de marihuana de 50 gramos", 2);
				new checki = 181;
                PI[playerid][pi_BOL][player_slot] = checki;
                PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
			}
			else if(paquet==1)
			{
				new player_slot = GetEmptyInvSlot(playerid);
				if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");

				PI[playerid][pi_CANNABIS] -= 100;
				TogglePlayerControllableEx(playerid, true);
				ShowPlayerMessage(playerid, "Armaste un paquete de marihuana de 100 gramos", 2);
				new checki = 182;
                PI[playerid][pi_BOL][player_slot] = checki;
                PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
			}
			return 1;
		}
		case 1:
		{
			if(paquet==0)
			{

                new player_slot = GetEmptyInvSlot(playerid);
				if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
				PI[playerid][pi_CRACK] -= 50;
				TogglePlayerControllableEx(playerid, true);
				ShowPlayerMessage(playerid, "Armaste un paquete de crack de 50 gramos", 2);
				new checki = 75;
                PI[playerid][pi_BOL][player_slot] = checki;
                PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
			}
			else if(paquet==1)
			{
     
                new player_slot = GetEmptyInvSlot(playerid);
				if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
				PI[playerid][pi_CRACK] -= 100;
				PI[playerid][pi_CPACK100]++;
				TogglePlayerControllableEx(playerid, true);
				ShowPlayerMessage(playerid, "Armaste un paquete de crack de 100 gramos", 2);
				new checki = 76;
                PI[playerid][pi_BOL][player_slot] = checki;
                PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
			}
			return 1;
		}
		case 2:
		{
			if(paquet==0)
			{
				new player_slot = GetEmptyInvSlot(playerid);
				if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");

				PI[playerid][pi_MEDICINE] -= 50;
				TogglePlayerControllableEx(playerid, true);
				ShowPlayerMessage(playerid, "Armaste un paquete de medicina de 50 gramos", 2);
				new checki = 183;
                PI[playerid][pi_BOL][player_slot] = checki;
                PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
			}
			else if(paquet==1)
			{
				new player_slot = GetEmptyInvSlot(playerid);
				if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");

				PI[playerid][pi_MEDICINE] -= 100;
				TogglePlayerControllableEx(playerid, true);
				ShowPlayerMessage(playerid, "Armaste un paquete de medicina de 100 gramos", 2);
				new checki = 184;
                PI[playerid][pi_BOL][player_slot] = checki;
                PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[checki][Capacidad];
			}
			return 1;
		}
	}
	return 1;
}

RegisterNewCrewRank(index, rank)
{
	inline OnCrewRankInserted()
	{
		CREW_RANK_INFO[index][rank][crew_rank_ID] = cache_insert_id();
	}
	mysql_format
	(
		srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER,
		"\
			INSERT INTO crew_ranks (id_crew, rank_pos, rank_name, permission0, permission1, permission2, permission3, permission4, permission5, permission6, permission7, permission8, permission9, permission10)\
			VALUES (%d, %d, '%e', %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d);\
		",
			CREW_INFO[index][crew_ID], rank, CREW_RANK_INFO[index][rank][crew_rank_NAME], CREW_RANK_INFO[index][rank][crew_rank_PERMISSION][0], CREW_RANK_INFO[index][rank][crew_rank_PERMISSION][1],
			CREW_RANK_INFO[index][rank][crew_rank_PERMISSION][2], CREW_RANK_INFO[index][rank][crew_rank_PERMISSION][3], CREW_RANK_INFO[index][rank][crew_rank_PERMISSION][4],
			CREW_RANK_INFO[index][rank][crew_rank_PERMISSION][5], CREW_RANK_INFO[index][rank][crew_rank_PERMISSION][6], CREW_RANK_INFO[index][rank][crew_rank_PERMISSION][7],
			CREW_RANK_INFO[index][rank][crew_rank_PERMISSION][8], CREW_RANK_INFO[index][rank][crew_rank_PERMISSION][9], CREW_RANK_INFO[index][rank][crew_rank_PERMISSION][10]
	);
	mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnCrewRankInserted);
	return 1;
}

SetPlayerGangZones(playerid)
{
	for(new i = 0; i != MAX_TERRITORIES; i ++)
	{
		if(!TERRITORIES[i][territory_VALID]) continue;

		if(TERRITORIES[i][territory_WAR])
		{
			new flash_color, r, g, b, a;
			HexToRGBA(CREW_INFO[ TERRITORIES[i][territory_ATTACKER_CREW_INDEX] ][crew_COLOR], r, g, b, a);
			flash_color = RGBAToHex(r, g, b, 135);

			GangZoneFlashForPlayer(playerid, TERRITORIES[i][territory_GANG_ZONE], flash_color);
		}
		else GangZoneShowForPlayer(playerid, TERRITORIES[i][territory_GANG_ZONE], TERRITORIES[i][territory_COLOR]);
	}
	return 1;
}

HidePlayerGangZones(playerid)
{
	for(new i = 0; i != MAX_TERRITORIES; i ++)
	{
		if(!TERRITORIES[i][territory_VALID]) continue;

		GangZoneHideForPlayer(playerid, TERRITORIES[i][territory_GANG_ZONE]);
	}
	return 1;
}

SetPlayerSafeZones(playerid)
{
	new r, g, b, a;
	HexToRGBA(0x43F75BFF, r, g, b, a);
	new color = RGBAToHex(r, g, b, 70);

	for(new i = 0; i != sizeof SAFE_ZONES; i ++) GangZoneShowForPlayer(playerid, SAFE_ZONES[i][safe_zone_AREA_ID], color);
	return 1;
}

stock HexToRGBA(colour, &r, &g, &b, &a) //By Betamaster
{
    r = (colour >> 24) & 0xFF;
    g = (colour >> 16) & 0xFF;
    b = (colour >> 8) & 0xFF;
    a = colour & 0xFF;
}

stock RGBAToHex(r, g, b, a) //By Betamaster
{
    return (r<<24 | g<<16 | b<<8 | a);
}

stock RGBAToARGB(col)
{
	return ((((col) << 24) & 0xFF000000) | (((col) >>> 8) & 0xFFFFFF));
}

stock ARGBToRGBA(col)
{
	return ((((col) << 8) & 0xFFFFFF00) | (((col) >>> 24) & 0xFF));
}

stock CheckConquista(playerid, bool: b = false)
{
/*	if(PI[playerid][pi_ADMIN_LEVEL] < 4)
	{
	for(new i = 0; i < sizeof PLAYER_WEAPONS[]; i ++)
	{
	if(!PLAYER_WEAPONS[playerid][i][player_weapon_VALID]) continue;

	if(PLAYER_TEMP[playerid][pt_DO] == 0)
	{

	new string[150], string2[150];
	new dialog[170];
	format(dialog, sizeof dialog, ""WHITE" Has sido sancionado razon:\n{828282}No rolear entorno\n"WHITE"Recuerda usar {D50000}/rol"WHITE" Antes de disparar");
	ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{D50000}[Admin] {ffffff}  Aviso", dialog, "Entiendo", "");
	format(string, sizeof(string), "{9a8080}[JAIL] "WHITE"%s | {39ff00}[LAN-BOT] "WHITE"| razón: No Rol de entorno. | Minutos: [5:00]",PI[playerid][pi_NAME]);
	format(string2, sizeof(string2), "**[JAIL] %s | [LAN-BOT] | razón: No Rol de entorno. | Minutos: [5:00]**",PI[playerid][pi_NAME]);
	nr= DCC_FindChannelById("1010230567930966099");
    new DCC_Embed:embed = DCC_CreateEmbed("No Rolear", "", "https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png", "", 129310, "Spain+ RP", "Spain+ RP", "", "https://media.discordapp.net/attachments/928653343415472168/1006955276840214638/IMG_20220509_134508.png");
    DCC_AddEmbedField(embed, "No Rolear Entorno", string2, true);
    DCC_SendChannelEmbedMessage(nr,embed);
    DCC_SendChannelMessage(nr, string2);
	SendClientMessageToAll(-1, string);
	JailPlayer(playerid, 300);
	}
	}
	}*/
	
	if(PI[playerid][pi_CREW])
	{
		if(gettime() > CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_LAST_ATTACK] + 120)
		{
			if(PLAYER_TEMP[playerid][pt_LAST_TERRITORY] != INVALID_STREAMER_ID)
			{
				if(IsPlayerInDynamicArea(playerid, TERRITORIES[ PLAYER_TEMP[playerid][pt_LAST_TERRITORY] ][territory_AREA]))
				{
					if(TERRITORIES[ PLAYER_TEMP[playerid][pt_LAST_TERRITORY] ][territory_CREW_ID] != PI[playerid][pi_CREW])
					{
						if(!TERRITORIES[ PLAYER_TEMP[playerid][pt_LAST_TERRITORY] ][territory_WAR] && !CREW_INFO[ PLAYER_TEMP[playerid][pt_CREW_INDEX] ][crew_FIGHTING])
						{
							if(gettime() > TERRITORIES[ PLAYER_TEMP[playerid][pt_LAST_TERRITORY] ][territory_LAST_ATTACK] + 120)
							{
								if(!TERRITORIES[ PLAYER_TEMP[playerid][pt_LAST_TERRITORY] ][territory_OCCUPIED])
								{
									new attackers_in_area = CountCrewPlayersInTerritory(PLAYER_TEMP[playerid][pt_CREW_INDEX], PLAYER_TEMP[playerid][pt_LAST_TERRITORY]);
									if(attackers_in_area >= 1) StartTerritoryAttack(PLAYER_TEMP[playerid][pt_CREW_INDEX], PLAYER_TEMP[playerid][pt_LAST_TERRITORY], 200);
									else
									{
										if(b) SendNotification(playerid, "Necesitas dos o más personas en tu banda en la zona.");
									}
								}
								else
								{
									if(CREW_INFO[ TERRITORIES[ PLAYER_TEMP[playerid][pt_LAST_TERRITORY] ][territory_CREW_INDEX] ][crew_VALID])
									{
										if(!CREW_INFO[ TERRITORIES[ PLAYER_TEMP[playerid][pt_LAST_TERRITORY] ][territory_CREW_INDEX] ][crew_FIGHTING])
										{
											new attackers_in_area = CountCrewPlayersInTerritory(PLAYER_TEMP[playerid][pt_CREW_INDEX], PLAYER_TEMP[playerid][pt_LAST_TERRITORY]);
											if(attackers_in_area >= 1) StartTerritoryAttack(PLAYER_TEMP[playerid][pt_CREW_INDEX], PLAYER_TEMP[playerid][pt_LAST_TERRITORY], 200);
											else
											{
												if(b) SendNotification(playerid, "Necesitas dos o más personas en tu banda en la zona.");
											}
										}
										else
										{
											if(b) SendNotification(playerid, "Tu banda ya está en lucha.");
										}
									}
									else
									{
										if(b) SendNotification(playerid, "Esta no es una banda válida.");
									}
								}
							}
							else
							{
								if(b) SendNotification(playerid, "Tienes que esperar 2 minutos para volver a conquistar esta zona.");
							}
						}
						else
						{
							if(b) SendNotification(playerid, "Este territorio ya está en conquista.");
						}
					}
					else
					{
						if(b) SendNotification(playerid, "Este es tu territorio.");
					}
				}
				else
				{
					if(b) SendNotification(playerid, "Este no es un terriotrio válido.");
				}
			}
			else
			{
				if(b) SendNotification(playerid, "Este no es un terriotrio válido.");
			}
		}
		else
		{
			if(b) SendNotification(playerid, "Tienes que esperar 2 minutos para volver a conquistar");
		}
	}
	else
	{
		if(b) SendNotification(playerid, "No eres de una banda.");
	}
	return 1;
}


UpdateGangZoneColor(index)
{
	if(TERRITORIES[index][territory_WAR])
	{
		new flash_color, r, g, b, a;
		HexToRGBA(CREW_INFO[ TERRITORIES[index][territory_ATTACKER_CREW_INDEX] ][crew_COLOR], r, g, b, a);
		flash_color = RGBAToHex(r, g, b, 135);

		for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
		{
			if(IsPlayerConnected(i))
			{
				if(PI[i][pi_CREW])
				{
					GangZoneFlashForPlayer(i, TERRITORIES[index][territory_GANG_ZONE], flash_color);
				}
			}
		}
	}
	else
	{
		for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
		{
			if(IsPlayerConnected(i))
			{
				if(PI[i][pi_CREW])
				{
					GangZoneShowForPlayer(i, TERRITORIES[index][territory_GANG_ZONE], TERRITORIES[index][territory_COLOR]);
				}
			}
		}
	}
	return 1;
}

StartTerritoryAttack(crew_index, territory_index, time)
{
	CREW_INFO[crew_index][crew_FIGHTING] = true;
	CREW_INFO[crew_index][crew_LAST_ATTACK] = gettime();
	TERRITORIES[territory_index][territory_WAR] = true;
	TERRITORIES[territory_index][territory_ATTACKER_CREW_INDEX] = crew_index;
	TERRITORIES[territory_index][territory_WAR_TIME_LEFT] = time;
	TERRITORIES[territory_index][territory_LAST_ATTACK] = gettime();
	UpdateGangZoneColor(territory_index);
	
	new message[145];
	format(message, sizeof message, "Conquista:_%s", TimeConvert(TERRITORIES[territory_index][territory_WAR_TIME_LEFT]));
	TextDrawSetString(TERRITORIES[territory_index][territory_TEXTDRAW][1], message);
	
	new r, g, b, a;
	HexToRGBA(CREW_INFO[crew_index][crew_COLOR], r, g, b, a);

	TextDrawColor(TERRITORIES[territory_index][territory_TEXTDRAW][0], RGBAToHex(r, g, b, 155));
	TextDrawBackgroundColor(TERRITORIES[territory_index][territory_TEXTDRAW][0], RGBAToHex(r, g, b, 155));

	KillTimer(TERRITORIES[territory_index][territory_TIMER]);
	TERRITORIES[territory_index][territory_TIMER] = SetTimerEx("UpdateTerritoryAttack", 1000, false, "i", territory_index);
	
	new territory_zone[32];
	GetAreaZone(
		TERRITORIES[territory_index][territory_MIN_X],
		TERRITORIES[territory_index][territory_MIN_Y],
		territory_zone
	);

	if (TERRITORIES[territory_index][territory_OCCUPIED])
	{
		CREW_INFO[ TERRITORIES[territory_index][territory_CREW_INDEX] ][crew_FIGHTING] = true;
		format(message, sizeof message, "{%06x}[BANDAS] {F5F5F5}La banda '%s' está atacando un territorio de la banda '%s' en %s.", CREW_INFO[crew_index][crew_COLOR] >>> 8, CREW_INFO[crew_index][crew_NAME], CREW_INFO[ TERRITORIES[territory_index][territory_CREW_INDEX] ][crew_NAME], territory_zone);
	}
	else
	{
		format(message, sizeof message, "{%06x}[BANDAS] {F5F5F5}La banda '%s' está atacando un territorio en %s.", CREW_INFO[crew_index][crew_COLOR] >>> 8, CREW_INFO[crew_index][crew_NAME], territory_zone);
	}

	new message_police[145];
	format(message_police, sizeof message_police, "{"#POLICE_COLOUR"}[Central policia] {F5F5F5}La banda '%s' está atacando un territorio en %s.", CREW_INFO[crew_index][crew_NAME], territory_zone);
	
	foreach (new i : Player)
	{
		if (IsPlayerConnected(i))
		{
			if (PI[i][pi_CREW])
			{
				SendClientMessageEx(i, -1, message);
				if (IsPlayerInDynamicArea(i, TERRITORIES[territory_index][territory_AREA]))
				{
				    OtorgarLogro(i, 16);
					if (PI[i][pi_WANTED_LEVEL] < 2) SetPlayerWantedLevelEx(i, 2);

					HexToRGBA(CREW_INFO[ PLAYER_TEMP[i][pt_CREW_INDEX] ][crew_COLOR], r, g, b, a);
					SetPlayerColorEx(i, RGBAToHex(r, g, b, 0));

					TextDrawShowForPlayer(i, TERRITORIES[territory_index][territory_TEXTDRAW][1]);
					TextDrawShowForPlayer(i, TERRITORIES[territory_index][territory_TEXTDRAW][0]);
				}
			}
			
			if (PLAYER_WORKS[i][WORK_POLICE][pwork_SET])
			{
				if (PLAYER_TEMP[i][pt_WORKING_IN] == WORK_POLICE)
				{
					SendClientMessageEx(i, -1, message_police);
				}
			}
		}
	}
	return 1;
}

forward UpdateTerritoryAttack(territory_index);
public UpdateTerritoryAttack(territory_index)
{
	if(!TERRITORIES[territory_index][territory_VALID]) return 1;
	if(!TERRITORIES[territory_index][territory_WAR]) return 1;

	if(TERRITORIES[territory_index][territory_WAR_TIME_LEFT] <= 0)
	{
		new old_crew = TERRITORIES[territory_index][territory_CREW_ID];

		CREW_INFO[ TERRITORIES[territory_index][territory_CREW_INDEX] ][crew_FIGHTING] = false;
		TERRITORIES[territory_index][territory_CREW_ID] = CREW_INFO[ TERRITORIES[territory_index][territory_ATTACKER_CREW_INDEX] ][crew_ID];
		TERRITORIES[territory_index][territory_CREW_INDEX] = TERRITORIES[territory_index][territory_ATTACKER_CREW_INDEX];

		new r, g, b, a;
		HexToRGBA(CREW_INFO[ TERRITORIES[territory_index][territory_ATTACKER_CREW_INDEX] ][crew_COLOR], r, g, b, a);
		TERRITORIES[territory_index][territory_COLOR] = RGBAToHex(r, g, b, 135);

		new message[145];
		format(message, sizeof message, "{%06x}[BANDAS] {F5F5F5}La banda '%s' ha conquistado un nuevo territorio.", CREW_INFO[ TERRITORIES[territory_index][territory_ATTACKER_CREW_INDEX] ][crew_COLOR] >>> 8, CREW_INFO[ TERRITORIES[territory_index][territory_ATTACKER_CREW_INDEX] ][crew_NAME]);

		new label_str[256];
		if(TERRITORIES[territory_index][territory_OCCUPIED])
		{
			for(new i = 0; i != MAX_PROPERTIES; i ++)
			{
				if(!PROPERTY_INFO[i][property_VALID]) continue;
				if(!PROPERTY_INFO[i][property_CREW]) continue;
				if(PROPERTY_INFO[i][property_CREW_ID] != old_crew) continue;

				if(IsPointInDynamicArea(TERRITORIES[territory_index][territory_AREA], PROPERTY_INFO[i][property_EXT_X], PROPERTY_INFO[i][property_EXT_Y], PROPERTY_INFO[i][property_EXT_Z]))
				{
					PROPERTY_INFO[i][property_CREW_ID] = TERRITORIES[territory_index][territory_CREW_ID];

					format
					(
						label_str,
						sizeof label_str,
						"\
							Propiedad {"#PRIMARY_COLOR"}#%d\n\n\
							{FFFFFF}Banda: {"#PRIMARY_COLOR"}%s\n\
							{FFFFFF}Presiona {"#PRIMARY_COLOR"}~k~~CONVERSATION_YES~ {FFFFFF}para entrar.\
						", PROPERTY_INFO[i][property_ID], CREW_INFO[ TERRITORIES[territory_index][territory_CREW_INDEX] ][crew_NAME]
					);

					UpdateDynamic3DTextLabelText(PROPERTY_INFO[i][property_EXT_LABEL_ID], 0xFFFFFFFF, label_str);
				}
			}
		}
		
		for (new i = 0; i < sizeof ENTER_EXIT; i++)
        {
            // Solo nos interesan los Mercados Negros
            if (ENTER_EXIT[i][ee_INTERIOR_TYPE] == INTERIOR_BLACK_MARKET)
            {
                // Verificamos si el mercado está dentro del AREA del territorio conquistado
                if(IsPointInDynamicArea(TERRITORIES[territory_index][territory_AREA], ENTER_EXIT[i][ee_EXT_X], ENTER_EXIT[i][ee_EXT_Y], ENTER_EXIT[i][ee_EXT_Z]))
                {
                    new m_label[256];
                    // Formateamos el nuevo texto con el nombre de la banda atacante que acaba de ganar
                    format(m_label, sizeof m_label, "{FFFFFF}Territorio de: {828282}%s\n{27EDF6}%s\n{F5F5F5}Acercate para entrar", 
                        CREW_INFO[ TERRITORIES[territory_index][territory_CREW_INDEX] ][crew_NAME],
                        ENTER_EXIT[i][ee_NAME]);

                    // Actualizamos el Label del Mercado Negro en tiempo real
                    UpdateDynamic3DTextLabelText(ENTER_EXIT[i][ee_EXT_LABEL_ID], 0xFFFFFFFF, m_label);
                }
            }
        }

		mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE territories SET id_crew = %d WHERE id = %d;", CREW_INFO[ TERRITORIES[territory_index][territory_ATTACKER_CREW_INDEX] ][crew_ID], TERRITORIES[territory_index][territory_ID]);
		mysql_tquery(srp_db, QUERY_BUFFER);

		CREW_INFO[ TERRITORIES[territory_index][territory_ATTACKER_CREW_INDEX] ][crew_LAST_ATTACK] = gettime();
		CREW_INFO[ TERRITORIES[territory_index][territory_ATTACKER_CREW_INDEX] ][crew_FIGHTING] = false;
		TERRITORIES[territory_index][territory_WAR] = false;
		TERRITORIES[territory_index][territory_ATTACKER_CREW_INDEX] = 0;
		TERRITORIES[territory_index][territory_WAR_TIME_LEFT] = 0;
		TERRITORIES[territory_index][territory_LAST_ATTACK] = gettime();
		KillTimer(TERRITORIES[territory_index][territory_TIMER]);
		UpdateGangZoneColor(territory_index);
		TERRITORIES[territory_index][territory_OCCUPIED] = true;

		new prize = minrand(500, 752);
		new prize_message[64];
		format(prize_message, sizeof prize_message, "{"#SILVER_COLOR"}Has ganado %d$ por conquistar este territorio.", prize);
	

		for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
		{
		    if(IsPlayerConnected(i)) 
		    {
				if(PI[i][pi_CREW])
				{
					SendClientMessage(i, -1, message);
					if(IsPlayerInDynamicArea(i, TERRITORIES[territory_index][territory_AREA]))
					{
						if(PI[i][pi_CREW] == TERRITORIES[territory_index][territory_CREW_ID])
						{
							GivePlayerCash(i, prize, true, false);
							SendClientMessage(i, -1, prize_message);
							//SendMoneyToBank(i);
						}
						SetPlayerNormalColor(i);

						TextDrawHideForPlayer(i, TERRITORIES[territory_index][territory_TEXTDRAW][1]);
						TextDrawHideForPlayer(i, TERRITORIES[territory_index][territory_TEXTDRAW][0]);
					}
				} 
			}
		}

		CallLocalFunction("OnCrewCaptureTerritory", "iiii", TERRITORIES[territory_index][territory_CREW_ID], TERRITORIES[territory_index][territory_CREW_INDEX], TERRITORIES[territory_index][territory_ID], territory_index);
		return 1;
	}


	TERRITORIES[territory_index][territory_WAR_TIME_LEFT] --;
	new message[145];
	format(message, sizeof message, "Conquista:_%s", TimeConvert(TERRITORIES[territory_index][territory_WAR_TIME_LEFT]));
	TextDrawSetString(TERRITORIES[territory_index][territory_TEXTDRAW][1], message);


	new attackers_in_area = CountCrewPlayersInTerritory(TERRITORIES[territory_index][territory_ATTACKER_CREW_INDEX], territory_index);
	if(attackers_in_area <= 0)
	{
		format(message, sizeof message, "{%06x}[BANDAS] {F5F5F5}La banda '%s' no ha podido conquistar el territorio que estaba atacando.", CREW_INFO[ TERRITORIES[territory_index][territory_ATTACKER_CREW_INDEX] ][crew_COLOR] >>> 8, CREW_INFO[ TERRITORIES[territory_index][territory_ATTACKER_CREW_INDEX] ][crew_NAME]);

		CREW_INFO[ TERRITORIES[territory_index][territory_ATTACKER_CREW_INDEX] ][crew_LAST_ATTACK] = gettime();
		CREW_INFO[ TERRITORIES[territory_index][territory_ATTACKER_CREW_INDEX] ][crew_FIGHTING] = false;
		CREW_INFO[ TERRITORIES[territory_index][territory_CREW_INDEX] ][crew_FIGHTING] = false;
		TERRITORIES[territory_index][territory_WAR] = false;
		TERRITORIES[territory_index][territory_ATTACKER_CREW_INDEX] = 0;
		TERRITORIES[territory_index][territory_WAR_TIME_LEFT] = 0;
		TERRITORIES[territory_index][territory_LAST_ATTACK] = gettime();
		KillTimer(TERRITORIES[territory_index][territory_TIMER]);
		UpdateGangZoneColor(territory_index);
		
		

		for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
		{
			if(IsPlayerConnected(i))
			{
				if(PI[i][pi_CREW])
				{
					SendClientMessage(i, -1, message);
					if(IsPlayerInDynamicArea(i, TERRITORIES[territory_index][territory_AREA]))
					{
						SetPlayerNormalColor(i);

						TextDrawHideForPlayer(i, TERRITORIES[territory_index][territory_TEXTDRAW][1]);
						TextDrawHideForPlayer(i, TERRITORIES[territory_index][territory_TEXTDRAW][0]);
					}
				}
			}
		}
		return 1;
	}

	KillTimer(TERRITORIES[territory_index][territory_TIMER]);
	TERRITORIES[territory_index][territory_TIMER] = SetTimerEx("UpdateTerritoryAttack", 1000, false, "i", territory_index);
	return 1;
}

CountCrewPlayersInTerritory(crew_index, territory_index)
{
	new count;
	for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
	{
		if(IsPlayerConnected(i))
		{
			if(PI[i][pi_CREW])
			{
				if(PLAYER_TEMP[i][pt_CREW_INDEX] == crew_index)
				{
					if(PI[i][pi_STATE] == ROLEPLAY_STATE_NORMAL && PLAYER_TEMP[i][pt_GAME_STATE] == GAME_STATE_NORMAL)
					{
						if(IsPlayerInDynamicArea(i, TERRITORIES[territory_index][territory_AREA]))
						{
							count ++;
						}
					}
				}
			}
		}
	}
	return count;
}

SetPlayerColorEx(playerid, color)
{
	PLAYER_TEMP[playerid][pt_PLAYER_COLOR] = color;
	return SetPlayerColor(playerid, color);
}

forward EnviarPopUp(playerid,message[]);
public EnviarPopUp(playerid,message[])
{
	new string2[84];

	for(new len = strlen(message), pos; pos < len; pos ++)
	{
		switch(message[pos])
		{
			case 'à': message[pos] = 151;
			case 'á': message[pos] = 152;
			case 'â': message[pos] = 153;
			case 'ä': message[pos] = 154;
			case 'À': message[pos] = 128;
			case 'Á': message[pos] = 129;
			case 'Â': message[pos] = 130;
			case 'Ä': message[pos] = 131;
			case 'è': message[pos] = 157;
			case 'é': message[pos] = 158;
			case 'ê': message[pos] = 159;
			case 'ë': message[pos] = 160;
			case 'È': message[pos] = 134;
			case 'É': message[pos] = 135;
			case 'Ê': message[pos] = 136;
			case 'Ë': message[pos] = 137;
			case 'ì': message[pos] = 161;
			case 'í': message[pos] = 162;
			case 'î': message[pos] = 163;
			case 'ï': message[pos] = 164;
			case 'Ì': message[pos] = 138;
			case 'Í': message[pos] = 139;
			case 'Î': message[pos] = 140;
			case 'Ï': message[pos] = 141;
			case 'ò': message[pos] = 165;
			case 'ó': message[pos] = 166;
			case 'ô': message[pos] = 167;
			case 'ö': message[pos] = 168;
			case 'Ò': message[pos] = 142;
			case 'Ó': message[pos] = 143;
			case 'Ô': message[pos] = 144;
			case 'Ö': message[pos] = 145;
			case 'ù': message[pos] = 169;
			case 'ú': message[pos] = 170;
			case 'û': message[pos] = 171;
			case 'ü': message[pos] = 172;
			case 'Ù': message[pos] = 146;
			case 'Ú': message[pos] = 147;
			case 'Û': message[pos] = 148;
			case 'Ü': message[pos] = 149;
			case 'ñ': message[pos] = 174;
			case 'Ñ': message[pos] = 173;
			case '¡': message[pos] = 64;
			case '¿': message[pos] = 175;
			case '`': message[pos] = 177;
			case '&': message[pos] = 38;
			default:  message[pos] = message[pos];
		}
	}

	format(string2,sizeof(string2),"%s",message);
	if (not==0)
	{
		TextDrawSetString(PopUp,string2); TextDrawShowForAll(PopUp); not=1; SetTimerEx("OcultarPopUp", 15000, 0,"d",playerid);
	}
	else if (not1==0)
	{
		TextDrawSetString(PopUp1,string2); TextDrawShowForAll(PopUp1); not1=1; SetTimerEx("OcultarPopUp1", 15000, 0,"d",playerid);
	}
	else if (not2==0)
	{
		TextDrawSetString(PopUp2,string2); TextDrawShowForAll(PopUp2); not2=1; SetTimerEx("OcultarPopUp2", 15000, 0,"d",playerid);
	}
	return 1;
}

forward OcultarPopUp(playerid);
public OcultarPopUp(playerid)
{
	TextDrawHideForAll(PopUp);
	not=0;
}

forward OcultarPopUp1(playerid);
public OcultarPopUp1(playerid)
{
	TextDrawHideForAll(PopUp1);
	not1=0;
}

forward OcultarPopUp2(playerid);
public OcultarPopUp2(playerid)
{
	TextDrawHideForAll(PopUp2);
	not2=0;
}

LoadServerInfo()
{
	new File:ECO = fopen("SERVER/ECO.txt", io_read), eco_str[256];
	if(ECO)
	{
		fread(ECO, eco_str);
		sscanf(eco_str, "p<,>fffffddd", MULTIPLIER_PROPERITES, MULTIPLIER_VEHICLES, MULTIPLIER_TOYS, MULTIPLIER_SKINS, MULTIPLIER_WEAPONS, SU_SD_PRICE, SU_WORK_EXTRA_PAY, CHANGE_NAME_SD_PRICE);
		fclose(ECO);
	}


	new File:AC = fopen("SERVER/AC.txt", io_read), ac_str[128], ac_num;
	if(AC)
	{
		while(fread(AC, ac_str))
		{
			if(ac_num >= sizeof(ac_Info)) break;
			sscanf(ac_str, "p<,>bbdd", ac_Info[ac_num][ac_Enabled], ac_Info[ac_num][ac_Kick], ac_Info[ac_num][ac_Detections], ac_Info[ac_num][ac_Interval]);
			ac_num ++;
		}
		fclose(AC);
	}
	return 1;
}

WriteAnticheatRules()
{
	new File:AC = fopen("SERVER/AC.txt", io_write), ac_str[128];
	if(AC)
	{
		for(new i = 0; i != sizeof(ac_Info); i ++)
		{
			format(ac_str, sizeof ac_str, "%d,%d,%d,%d\r\n", ac_Info[i][ac_Enabled], ac_Info[i][ac_Kick], ac_Info[i][ac_Detections], ac_Info[i][ac_Interval]);
			fwrite(AC, ac_str);
		}
		fclose(AC);
	}
	return 1;
}

WriteEconomyMultipliers()
{
	new File:ECO = fopen("SERVER/ECO.txt", io_write), eco_str[256];
	if(ECO)
	{
		format(eco_str, sizeof eco_str, "%f,%f,%f,%f,%f,%d,%d,%d", MULTIPLIER_PROPERITES, MULTIPLIER_VEHICLES, MULTIPLIER_TOYS, MULTIPLIER_SKINS, MULTIPLIER_WEAPONS, SU_SD_PRICE, SU_WORK_EXTRA_PAY, CHANGE_NAME_SD_PRICE);
		fwrite(ECO, eco_str);
		fclose(ECO);
	}
	return 1;
}

UpdateEconomy(type = -1)
{
	if(type == -1)
	{
		for(new i = 0; i != MAX_PROPERTIES; i ++)
		{
			if(!PROPERTY_INFO[i][property_VALID]) continue;
			PROPERTY_INFO[i][property_PRICE] = floatround(PROPERTY_INFO[i][property_PRICE_BASE] * MULTIPLIER_PROPERITES, floatround_ceil);

			if(!PROPERTY_INFO[i][property_SOLD])
			{
				UpdateUnnocupiedPropertyLabel(i);
			}
		}

		for(new i = 0; i != sizeof(Toys_Shop); i ++) Toys_Shop[i][shop_toy_price] = floatround(Toys_Shop[i][shop_toy_price_base] * MULTIPLIER_TOYS, floatround_ceil);
		for(new i = 0; i != sizeof(Binco_Shop_Male_Skins); i ++) Binco_Shop_Male_Skins[i][2] = floatround(Binco_Shop_Male_Skins[i][1] * MULTIPLIER_SKINS, floatround_ceil);
		for(new i = 0; i != sizeof(Binco_Shop_Female_Skins); i ++) Binco_Shop_Female_Skins[i][2] = floatround(Binco_Shop_Female_Skins[i][1] * MULTIPLIER_SKINS, floatround_ceil);
		for(new i = 0; i != sizeof(Suburban_Shop_Male_Skins); i ++) Suburban_Shop_Male_Skins[i][2] = floatround(Suburban_Shop_Male_Skins[i][1] * MULTIPLIER_SKINS, floatround_ceil);
		for(new i = 0; i != sizeof(Suburban_Shop_Female_Skins); i ++) Suburban_Shop_Female_Skins[i][2] = floatround(Suburban_Shop_Female_Skins[i][1] * MULTIPLIER_SKINS, floatround_ceil);
		for(new i = 0; i != sizeof(Prolaps_Shop_Male_Skins); i ++) Prolaps_Shop_Male_Skins[i][2] = floatround(Prolaps_Shop_Male_Skins[i][1] * MULTIPLIER_SKINS, floatround_ceil);
		for(new i = 0; i != sizeof(Prolaps_Shop_Female_Skins); i ++) Prolaps_Shop_Female_Skins[i][2] = floatround(Prolaps_Shop_Female_Skins[i][1] * MULTIPLIER_SKINS, floatround_ceil);
		for(new i = 0; i != sizeof(Didier_Shop_Male_Skins); i ++) Didier_Shop_Male_Skins[i][2] = floatround(Didier_Shop_Male_Skins[i][1] * MULTIPLIER_SKINS, floatround_ceil);
		for(new i = 0; i != sizeof(Didier_Shop_Female_Skins); i ++) Didier_Shop_Female_Skins[i][2] = floatround(Didier_Shop_Female_Skins[i][1] * MULTIPLIER_SKINS, floatround_ceil);
		for(new i = 0; i != sizeof(Victim_Shop_Male_Skins); i ++) Victim_Shop_Male_Skins[i][2] = floatround(Victim_Shop_Male_Skins[i][1] * MULTIPLIER_SKINS, floatround_ceil);
		for(new i = 0; i != sizeof(Victim_Shop_Female_Skins); i ++) Victim_Shop_Female_Skins[i][2] = floatround(Victim_Shop_Female_Skins[i][1] * MULTIPLIER_SKINS, floatround_ceil);
		for(new i = 0; i != sizeof(Zip_Shop_Male_Skins); i ++) Zip_Shop_Male_Skins[i][2] = floatround(Zip_Shop_Male_Skins[i][1] * MULTIPLIER_SKINS, floatround_ceil);
		for(new i = 0; i != sizeof(Zip_Shop_Female_Skins); i ++) Zip_Shop_Female_Skins[i][2] = floatround(Zip_Shop_Female_Skins[i][1] * MULTIPLIER_SKINS, floatround_ceil);
	}
	else
	{
		switch(type)
		{
			case 0:
			{
				for(new i = 0; i != MAX_PROPERTIES; i ++)
				{
					if(!PROPERTY_INFO[i][property_VALID]) continue;
					PROPERTY_INFO[i][property_PRICE] = floatround(PROPERTY_INFO[i][property_PRICE_BASE] * MULTIPLIER_PROPERITES, floatround_ceil);

					if(!PROPERTY_INFO[i][property_SOLD])
					{
						UpdateUnnocupiedPropertyLabel(i);
					}
				}
			}
			case 1:
			{
			}
			case 2:
			{
				for(new i = 0; i != sizeof(Toys_Shop); i ++) Toys_Shop[i][shop_toy_price] = floatround(Toys_Shop[i][shop_toy_price_base] * MULTIPLIER_TOYS, floatround_ceil);
			}
			case 3:
			{
				for(new i = 0; i != sizeof(Binco_Shop_Male_Skins); i ++) Binco_Shop_Male_Skins[i][2] = floatround(Binco_Shop_Male_Skins[i][1] * MULTIPLIER_SKINS, floatround_ceil);
				for(new i = 0; i != sizeof(Binco_Shop_Female_Skins); i ++) Binco_Shop_Female_Skins[i][2] = floatround(Binco_Shop_Female_Skins[i][1] * MULTIPLIER_SKINS, floatround_ceil);
				for(new i = 0; i != sizeof(Suburban_Shop_Male_Skins); i ++) Suburban_Shop_Male_Skins[i][2] = floatround(Suburban_Shop_Male_Skins[i][1] * MULTIPLIER_SKINS, floatround_ceil);
				for(new i = 0; i != sizeof(Suburban_Shop_Female_Skins); i ++) Suburban_Shop_Female_Skins[i][2] = floatround(Suburban_Shop_Female_Skins[i][1] * MULTIPLIER_SKINS, floatround_ceil);
				for(new i = 0; i != sizeof(Prolaps_Shop_Male_Skins); i ++) Prolaps_Shop_Male_Skins[i][2] = floatround(Prolaps_Shop_Male_Skins[i][1] * MULTIPLIER_SKINS, floatround_ceil);
				for(new i = 0; i != sizeof(Prolaps_Shop_Female_Skins); i ++) Prolaps_Shop_Female_Skins[i][2] = floatround(Prolaps_Shop_Female_Skins[i][1] * MULTIPLIER_SKINS, floatround_ceil);
				for(new i = 0; i != sizeof(Didier_Shop_Male_Skins); i ++) Didier_Shop_Male_Skins[i][2] = floatround(Didier_Shop_Male_Skins[i][1] * MULTIPLIER_SKINS, floatround_ceil);
				for(new i = 0; i != sizeof(Didier_Shop_Female_Skins); i ++) Didier_Shop_Female_Skins[i][2] = floatround(Didier_Shop_Female_Skins[i][1] * MULTIPLIER_SKINS, floatround_ceil);
				for(new i = 0; i != sizeof(Victim_Shop_Male_Skins); i ++) Victim_Shop_Male_Skins[i][2] = floatround(Victim_Shop_Male_Skins[i][1] * MULTIPLIER_SKINS, floatround_ceil);
				for(new i = 0; i != sizeof(Victim_Shop_Female_Skins); i ++) Victim_Shop_Female_Skins[i][2] = floatround(Victim_Shop_Female_Skins[i][1] * MULTIPLIER_SKINS, floatround_ceil);
				for(new i = 0; i != sizeof(Zip_Shop_Male_Skins); i ++) Zip_Shop_Male_Skins[i][2] = floatround(Zip_Shop_Male_Skins[i][1] * MULTIPLIER_SKINS, floatround_ceil);
				for(new i = 0; i != sizeof(Zip_Shop_Female_Skins); i ++) Zip_Shop_Female_Skins[i][2] = floatround(Zip_Shop_Female_Skins[i][1] * MULTIPLIER_SKINS, floatround_ceil);
			}
			case 4:
			{
			}
		}
	}
	return 1;
}

CMD:eco(playerid, params[])
{
	ShowDialog(playerid, DIALOG_SERVER_ECO);
	return 1;
}

ReLockPlayerVehicles(playerid, bool:remove = false)
{
	if(PI[playerid][pi_ID] == 0) return 0;
	if(PI[playerid][pi_VIP]) return 0;
	
	inline OnQueryLoadedInline()
	{
		new rows;
		if(cache_get_row_count(rows))
		{
			for(new i = 0; i < rows; i ++)
			{
				if(i >= MAX_SU_VEHICLES)
				{
					printf("---> MAX_SU_VEHICLES superado al cargar de base de datos.");
					break;
				}

				new veh_did;
				cache_get_value_index_int(i, 0, veh_did);

				//
				new vehicle_id = GetPlayerVehicleIdFromDbId(veh_did);
				if(vehicle_id != INVALID_VEHICLE_ID)
				{
					PLAYER_VEHICLES[vehicle_id][player_vehicle_ACCESSIBLE] = true;
					if(i >= MAX_NU_VEHICLES)
					{
						if(remove)
						{
							if(GLOBAL_VEHICLES[vehicle_id][gb_vehicle_OCCUPIED])
							{
								SetVehicleVelocity(vehicle_id, 0.0, 0.0, 0.0);
								if(GLOBAL_VEHICLES[vehicle_id][gb_vehicle_DRIVER] != INVALID_PLAYER_ID) RemovePlayerFromVehicle(playerid);
							}
						}
						GLOBAL_VEHICLES[vehicle_id][gb_vehicle_PARAMS_ENGINE] = 0;
						GLOBAL_VEHICLES[vehicle_id][gb_vehicle_PARAMS_LIGHTS] = 0;
						GLOBAL_VEHICLES[vehicle_id][gb_vehicle_PARAMS_DOORS] = 1;
						PLAYER_VEHICLES[vehicle_id][player_vehicle_ACCESSIBLE] = false;
						UpdateVehicleParams(vehicle_id);
					}
				}
			}
		}
	}
	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT id FROM pvehicles WHERE id_player = %d ORDER BY id DESC LIMIT %d;", PI[playerid][pi_ID], MAX_SU_VEHICLES);
	mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnQueryLoadedInline);
	return 1;
}

UnlockPlayerVehicles(playerid)
{
	new total;
	foreach(new i : Vehicle)
	{
		if(!GLOBAL_VEHICLES[i][gb_vehicle_VALID]) continue;
		if(!PLAYER_VEHICLES[i][player_vehicle_VALID]) continue;
		
		if(PLAYER_VEHICLES[i][player_vehicle_ID] == PI[playerid][pi_ID])
		{
			if(total >= MAX_SU_VEHICLES) break;
			
			PLAYER_VEHICLES[i][player_vehicle_ACCESSIBLE] = true;
		}
	}
	return total;
}

GetPlayerVehicleIdFromDbId(veh_did)
{
	for(new i = 0, j = GetVehiclePoolSize(); i <= j; i ++)
	{
		if(!GLOBAL_VEHICLES[i][gb_vehicle_VALID]) continue;
		if(!PLAYER_VEHICLES[i][player_vehicle_VALID]) continue;

		if(PLAYER_VEHICLES[i][player_vehicle_ID] == veh_did) return i;
	}
	return INVALID_VEHICLE_ID;
}

CMD:quitvip(playerid, params[])
{
	PI[playerid][pi_VIP] = 0;
	return true;
}

CMD:vip(playerid, params[])
{
	if(PI[playerid][pi_VIP] == 0)
	{
		ShowDialog(playerid, DIALOG_SU_BUY);
		return 1;
	}
	return ShowPlayerMessage(playerid, "~r~Ya tienes VIP", 2);
}

CMD:setcoins(playerid, params[])
{
	new to_player, sd;
	if(sscanf(params, "ud", to_player, sd)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /setcoins <player_id> <sd>", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);

	PI[to_player][pi_COINS] = sd;
	SendFormatNotification(to_player, "Ahora tienes ~g~%d "SERVER_COIN"~w~.", sd);
	PlayerPlaySoundEx(to_player, 1058, 0.0, 0.0, 0.0);

	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET coins = %d WHERE id = %d;", PI[to_player][pi_COINS], PI[to_player][pi_ID]);
	mysql_tquery(srp_db, QUERY_BUFFER);

	SendCmdLogToAdmins(playerid, "setcoins", params);
	return 1;
}

CMD:givedinero(playerid, params[])
{
	new to_player, bdd;
	if(sscanf(params, "ud", to_player, bdd)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /dineronegro <player_id> <cantidad>", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);

	PI[to_player][pi_BLACK] = bdd;
	SendFormatNotification(to_player, "Ahora tienes ~g~%d de dinero negro~w~.", bdd);
	PlayerPlaySoundEx(to_player, 1058, 0.0, 0.0, 0.0);

	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET DineroBlack = %d WHERE id = %d;", PI[to_player][pi_BLACK], PI[to_player][pi_ID]);
	mysql_tquery(srp_db, QUERY_BUFFER);

	SendCmdLogToAdmins(playerid, "givedinero", params);
	return 1;
}

CMD:palanca(playerid, params[])
{
	new to_player, bdd;
	if(sscanf(params, "ud", to_player, bdd)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /dineronegro <player_id> <cantidad>", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);

	PI[to_player][pi_BLACK] = bdd;
	SendFormatNotification(to_player, "Ahora tienes ~g~%d palancas~w~.", bdd);
	PlayerPlaySoundEx(to_player, 1058, 0.0, 0.0, 0.0);

	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET DineroBlack = %d WHERE id = %d;", PI[to_player][pi_BLACK], PI[to_player][pi_ID]);
	mysql_tquery(srp_db, QUERY_BUFFER);

	SendCmdLogToAdmins(playerid, "palancas", params);
	return 1;
}


CMD:givecoins(playerid, params[])
{
	new to_player, sd;
	if(sscanf(params, "ud", to_player, sd)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /givecoins <player_id> <sd>", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);

	PI[to_player][pi_COINS] += sd;
	SendClientMessageEx(to_player, -1, "»Has comprado %d "SERVER_COIN".", sd);
	PlayerPlaySoundEx(to_player, 1058, 0.0, 0.0, 0.0);

	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET coins = %d WHERE id = %d;", PI[to_player][pi_COINS], PI[to_player][pi_ID]);
	mysql_tquery(srp_db, QUERY_BUFFER);

	SendCmdLogToAdmins(playerid, "givecoins", params);
	return 1;
}

DCMD:dargemas(user, channel, params[])
{
    new gname[MAX_PLAYER_NAME],string2[125],SkinID[99];
    new to_player, sd;
    new username[33];
	DCC_GetUserName(user, username, sizeof(username));
    GetPlayerName(to_player,gname,sizeof(gname));
    
    new
	bool: hasPermission;

	DCC_HasGuildMemberRole(discordGuild, user, discordRoleDueno, hasPermission);

	if ( hasPermission )
	{

    if(IsPlayerConnected(to_player))
    {
    new DCC_Embed:embeds = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","Modo de uso $dargemas [ID] [CANTIDAD]","","",0x00ff00,"Spain+ RolePlay","","","");
    if(sscanf(params, "ud", to_player, sd)) return DCC_SendChannelEmbedMessage(channel,embeds);
	PI[to_player][pi_COINS] += sd;
	PlayerPlaySoundEx(to_player, 1058, 0.0, 0.0, 0.0);
    format(string2, sizeof(string2),":palm_tree: [Lan-Bot] Usuario [ON] [%s] recibio [%d] gemas :coin: Por el administrador [%s]", PI[to_player][pi_NAME], to_player, sd, username);
    new DCC_Embed:embed = DCC_CreateEmbed();
    DCC_SetEmbedColour(embed, 0x00ff00);
    DCC_SetEmbedTitle(embed, ":palm_tree: - Spain+ RolePlay +");
    DCC_SetEmbedDescription(embed, string2);
    DCC_SetEmbedFooter(embed, ""SERVER_NAME"");
    format(SkinID, sizeof(SkinID), "https://assets.open.mp/assets/images/skins/%d.png", PI[to_player][pi_SKIN]);
    DCC_SetEmbedThumbnail(embed, SkinID);
    DCC_SendChannelEmbedMessage(channel, embed);
    SendFormatNotification(to_player, "Acabas de recibir la cantidad de coins [%d]", PI[to_player][pi_COINS]);
    mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET coins = %d WHERE id = %d;", PI[to_player][pi_COINS], PI[to_player][pi_ID]);
	mysql_tquery(srp_db, QUERY_BUFFER);
    return 1;
    }
     else return DCC_SendChannelMessage(channel, "**No hay usuarios conectados**");
     }
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :gear:","Upss, permisos insuficientes. :shield:","","",0x00ff00,"Spain+ RolePlay","","","");
    DCC_SendChannelEmbedMessage(channel, embed, "");
    return 1;
}

DCMD:setvip(user, channel, params[])
{
    new gname[MAX_PLAYER_NAME],string2[125],SkinID[99]; 
    new to_player, vip_level, days;
    new username[33];
	DCC_GetUserName(user, username, sizeof(username));
    GetPlayerName(to_player,gname,sizeof(gname));
    
	new
	bool: hasPermission;

	DCC_HasGuildMemberRole(discordGuild, user, discordRoleDueno, hasPermission);

	if ( hasPermission )
	{
    
    new DCC_Embed:embeds = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","Modo de uso $setvip [ID] [VIP] [DIAS]","","",0x00ff00,"Spain+ RolePlay","","","");
    if(sscanf(params, "udd", to_player, vip_level, days)) return  DCC_SendChannelEmbedMessage(channel,embeds);
    if(to_player == INVALID_PLAYER_ID)
	{
		format(string2, sizeof(string2), "```Jugador no conectado.```");
        DCC_SendChannelMessage(channel, string2);

	}
	SetPlayerVip(to_player, vip_level, 0, days);
    format(string2, sizeof(string2),":palm_tree: [Lan-Bot] Usuario [ON] [%s] recibio con exito [%d] Dias de VIP :coin: Por el administrador [%s]", PI[to_player][pi_NAME], days, username);
    new DCC_Embed:embed = DCC_CreateEmbed();
    DCC_SetEmbedColour(embed, 0x00ff00);
    DCC_SetEmbedTitle(embed, ":palm_tree: - Spain+ RolePlay +");
    DCC_SetEmbedDescription(embed, string2);
    DCC_SetEmbedFooter(embed, ""SERVER_NAME"");
    format(SkinID, sizeof(SkinID), "https://assets.open.mp/assets/images/skins/%d.png", PI[to_player][pi_SKIN]);
    DCC_SetEmbedThumbnail(embed, SkinID);
    DCC_SendChannelEmbedMessage(channel, embed);
    SendFormatNotification(to_player, "Acabar de recibir VIP (%d) por %d días, fecha de caducidad: %s.", PI[to_player][pi_VIP], days, PI[to_player][pi_VIP_EXPIRE_DATE]);
	return 1;
	}
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :gear:","Upss, permisos insuficientes. :shield:","","",0x00ff00,"Spain+ RolePlay","","","");
    DCC_SendChannelEmbedMessage(channel, embed, "");
    return 1;
}

CMD:setvip(playerid, params[])
{
	new to_player, vip_level, days;
	if(sscanf(params, "udd", to_player, vip_level, days)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /setvip <player_id> <vip_level> <dias>", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);

	SetPlayerVip(to_player, vip_level, 0, days);

	SendCmdLogToAdmins(playerid, "setvip", params);
	return 1;
}

CheckPlayerSuperUser(playerid)
{
	if(PI[playerid][pi_VIP])
	{
		inline OnInfoQueryLoad()
		{
			new rows;
			if(cache_get_row_count(rows))
			{
				if(rows)
				{
					mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET vip = 0, vip_expire_date = '0000-00-00 00:00:00' WHERE id = %d;", PI[playerid][pi_ID]);
					mysql_tquery(srp_db, QUERY_BUFFER);

					PI[playerid][pi_VIP] = false;
					PI[playerid][pi_VIP_EXPIRE_DATE][0] = EOS;
					ShowPlayerMessage(playerid, "¡Tu VIP ha expirado! Usa /vip para comprar de nuevo.", 2);
					if(GetPlayerSkin(playerid) == PI[playerid][pi_SKIN]) SetPlayerToys(playerid);
					ReLockPlayerVehicles(playerid, true);
				}
				PLAYER_TEMP[playerid][pt_LAST_SU_CHECK] = gettime();
			}
		}
		mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT id FROM player WHERE id = %d AND NOW() >= vip_expire_date;", PI[playerid][pi_ID]);
		mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnInfoQueryLoad);
	}
	return 1;
}

CMD:darmedicamentos(playerid, params[])
{
  if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 0;
  new to_player, level;
  if(sscanf(params, "ud", to_player, level)) return SendFormatNotification(playerid,"MODO DE USO:{DBED15} /darmedicamentos <player_id> <cantidad>", 2);
  if(!IsPlayerConnected(to_player)) return SendClientMessageEx(playerid, -1, "Jugador (%d) desconectado", to_player);

  PI[to_player][pi_MEDICINE] += level;

  SendCmdLogToAdmins(playerid, "darmedicamentos", params);
  return 1;
}
CMD:darmarihuana(playerid, params[])
{
  if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 0;
  new to_player, level;
  if(sscanf(params, "ud", to_player, level)) return SendClientMessage(playerid, -1, "MODO DE USO:{DBED15} /darmarihuana <player_id> <cantidad>");
  if(!IsPlayerConnected(to_player)) return SendClientMessageEx(playerid, -1, "Jugador (%d) desconectado", to_player);

  PI[to_player][pi_CANNABIS] += level;

  SendCmdLogToAdmins(playerid, "darmarihuana", params);
  return 1;
}

CMD:dinamita(playerid, params[])
{
  if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 0;
  new to_player, level;
  if(sscanf(params, "ud", to_player, level)) return SendFormatNotification(playerid,"MODO DE USO:{DBED15} /dardinamita <player_id> <cantidad>", 2);
  if(!IsPlayerConnected(to_player)) return SendClientMessageEx(playerid, -1, "Jugador (%d) desconectado", to_player);

  PI[to_player][pi_CUCHILLO] += level;

  SendCmdLogToAdmins(playerid, "dardinamita", params);
  return 1;
}

CMD:materiales(playerid, params[])
{
  if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 0;
  new to_player, level;
  if(sscanf(params, "ud", to_player, level)) return SendFormatNotification(playerid,"MODO DE USO:{DBED15} /materiales <player_id> <cantidad>", 2);
  if(!IsPlayerConnected(to_player)) return SendClientMessageEx(playerid, -1, "Jugador (%d) desconectado", to_player);

  PI[to_player][pi_GANZUAS] += level;

  SendCmdLogToAdmins(playerid, "materiales", params);
  return 1;
}

CMD:botis(playerid, params[])
{
  if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 0;
  new to_player, level;
  if(sscanf(params, "ud", to_player, level)) return SendFormatNotification(playerid,"MODO DE USO:{DBED15} /botis <player_id> <cantidad>", 2);
  if(!IsPlayerConnected(to_player)) return SendClientMessageEx(playerid, -1, "Jugador (%d) desconectado", to_player);

  PI[to_player][pi_MEDICAL_KITS] += level;

  SendCmdLogToAdmins(playerid, "botiquines", params);
  return 1;
}

CMD:kits(playerid, params[])
{
  if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 0;
  new to_player, level;
  if(sscanf(params, "ud", to_player, level)) return SendFormatNotification(playerid,"MODO DE USO:{DBED15} /kits <player_id> <cantidad>", 2);
  if(!IsPlayerConnected(to_player)) return SendClientMessageEx(playerid, -1, "Jugador (%d) desconectado", to_player);

  PI[to_player][pi_MECHANIC_KITS] += level;

  SendCmdLogToAdmins(playerid, "kits", params);
  return 1;
}

CMD:ganzuas(playerid, params[])
{
  if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 0;
  new to_player, level;
  if(sscanf(params, "ud", to_player, level)) return SendFormatNotification(playerid,"MODO DE USO:{DBED15} /ganzuas <player_id> <cantidad>", 2);
  if(!IsPlayerConnected(to_player)) return SendClientMessageEx(playerid, -1, "Jugador (%d) desconectado", to_player);

  PI[to_player][pi_GANZUAS] += level;

  SendCmdLogToAdmins(playerid, "ganzuas", params);
  return 1;
}

CMD:darcrack(playerid, params[])
{
  if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 0;
  new to_player, level;
  if(sscanf(params, "ud", to_player, level)) return SendClientMessage(playerid, -1, "MODO DE USO:{DBED15} /darcrack <player_id> <cantidad>");
  if(!IsPlayerConnected(to_player)) return SendClientMessageEx(playerid, -1, "Jugador (%d) desconectado", to_player);

  PI[to_player][pi_CRACK] += level;

  SendCmdLogToAdmins(playerid, "darcrack", params);
  return 1;
}

DCMD:setcrack(user, channel, params[])
{
    new gname[MAX_PLAYER_NAME],string2[125],SkinID[99]; 
    new to_player, level;
    GetPlayerName(to_player,gname,sizeof(gname));
    
	new
	bool: hasPermission;

	DCC_HasGuildMemberRole(discordGuild, user, discordRoleDueno, hasPermission);

	if ( hasPermission )
	{
    
    new DCC_Embed:embeds = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","Modo de uso $setcrack [ID] [CANTIDAD]","","",0x00ff00,"Spain+ RolePlay","","","");
    if(sscanf(params, "ud", to_player, level)) return DCC_SendChannelEmbedMessage(channel,embeds);
    if(to_player == INVALID_PLAYER_ID)
	{
		format(string2, sizeof(string2), "**Jugador No Conectado**");
        DCC_SendChannelMessage(channel, string2);

	}
    PI[to_player][pi_CRACK] += level;
    format(string2, sizeof(string2),":palm_tree: [Lan-Bot] Usuario [ON] [%s] recibio con exito [%d] Gramos de crack :shield:", PI[to_player][pi_NAME], level);
    new DCC_Embed:embed = DCC_CreateEmbed();
    DCC_SetEmbedColour(embed, 0x00ff00);
    DCC_SetEmbedTitle(embed, ":palm_tree: - Spain+ RolePlay +");
    DCC_SetEmbedDescription(embed, string2);
    DCC_SetEmbedFooter(embed, ""SERVER_NAME"");
    format(SkinID, sizeof(SkinID), "https://assets.open.mp/assets/images/skins/%d.png", PI[to_player][pi_SKIN]);
    DCC_SetEmbedThumbnail(embed, SkinID);
    DCC_SendChannelEmbedMessage(channel, embed);
    SendFormatNotification(to_player, "Acabar de recibir [%s] de crack, ~r~ enviado por administrador del discord", to_player);
    new DCC_Message:koman;
    koman = DCMD_GetCommandMessageId();
    DCC_DeleteMessage(koman);
	return 1;
	}
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :gear:","Upss, permisos insuficientes. :shield:","","",0x00ff00,"Spain+ RolePlay","","","");
    DCC_SendChannelEmbedMessage(channel, embed, "");
    return 1;
}

DCMD:setmedi(user, channel, params[])
{
    new gname[MAX_PLAYER_NAME],string2[125],SkinID[99]; 
    new to_player, level;
    GetPlayerName(to_player,gname,sizeof(gname));
    
	new
	bool: hasPermission;

	DCC_HasGuildMemberRole(discordGuild, user, discordRoleDueno, hasPermission);

	if ( hasPermission )
	{
    
    new DCC_Embed:embeds = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","Modo de uso $setmedi [ID] [CANTIDAD]","","",0x00ff00,"Spain+ RolePlay","","","");
    if(sscanf(params, "ud", to_player, level)) return DCC_SendChannelEmbedMessage(channel,embeds);
    if(to_player == INVALID_PLAYER_ID)
	{
		format(string2, sizeof(string2), "Jugador no conectado");
        DCC_SendChannelMessage(channel, string2);

	}
    PI[to_player][pi_MEDICINE] += level;
    format(string2, sizeof(string2),":palm_tree: [Lan-Bot] Usuario [ON] [%s] recibio con exito [%d] Gramos de medicamentos", PI[to_player][pi_NAME], level);
    new DCC_Embed:embed = DCC_CreateEmbed();
    DCC_SetEmbedColour(embed, 0x00ff00);
    DCC_SetEmbedTitle(embed, ":palm_tree: - Spain+ RolePlay +");
    DCC_SetEmbedDescription(embed, string2);
    DCC_SetEmbedFooter(embed, ""SERVER_NAME"");
    format(SkinID, sizeof(SkinID), "https://assets.open.mp/assets/images/skins/%d.png", PI[to_player][pi_SKIN]);
    DCC_SetEmbedThumbnail(embed, SkinID);
    DCC_SendChannelEmbedMessage(channel, embed);
    SendFormatNotification(to_player, "Acabas de recibir varios medicamentos, ~r~ enviado por administrador del discord", level);
    new DCC_Message:koman;
    koman = DCMD_GetCommandMessageId();
    DCC_DeleteMessage(koman);
  	return 1;
  }
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :gear:","Upss, permisos insuficientes. :shield:","","",0x00ff00,"Spain+ RolePlay","","","");
    DCC_SendChannelEmbedMessage(channel, embed, "");
    return 1;
}

DCMD:dinero(user, channel, params[])
{
    new gname[MAX_PLAYER_NAME],string2[125],SkinID[99]; 
    new to_player, value;
    new username[33];
	DCC_GetUserName(user, username, sizeof(username));
    GetPlayerName(to_player,gname,sizeof(gname));
    
	new
	bool: hasPermission;

	DCC_HasGuildMemberRole(discordGuild, user, discordRoleDueno, hasPermission);

	if ( hasPermission )
	{
    
    new DCC_Embed:embeds = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","Modo de uso $dinero [ID] [CANTIDAD]","","",0x00ff00,"Spain+ RolePlay","","","");
    if(sscanf(params,"ud", to_player, value)) return DCC_SendChannelEmbedMessage(channel,embeds);
    if(to_player == INVALID_PLAYER_ID)
	{
		format(string2, sizeof(string2), "Jugador no conectado");
        DCC_SendChannelMessage(channel, string2);

	}
    GivePlayerCash(to_player, value, true, value < 0 ? true : false);
    format(string2, sizeof(string2),":palm_tree: [Lan-Bot] Usuario [ON]  [%s] Recibio [%d] :dollar: Por el administrador [%s]", PI[to_player][pi_NAME], value, username);
    new DCC_Embed:embed = DCC_CreateEmbed();
    DCC_SetEmbedColour(embed, 0x00ff00);
    DCC_SetEmbedTitle(embed, ":palm_tree: - Spain+ RolePlay +");
    DCC_SetEmbedDescription(embed, string2);
    DCC_SetEmbedFooter(embed, ""SERVER_NAME"");
    format(SkinID, sizeof(SkinID), "https://assets.open.mp/assets/images/skins/%d.png", PI[to_player][pi_SKIN]);
    DCC_SetEmbedThumbnail(embed, SkinID);
    DCC_SendChannelEmbedMessage(channel, embed);
    SendFormatNotification(to_player, "Acabas de recibir dinero ~r~ por administrador del discord", value);
    new DCC_Message:koman;
    koman = DCMD_GetCommandMessageId();
    DCC_DeleteMessage(koman);
  	return 1;
  }
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :gear:","Upss, permisos insuficientes. :shield:","","",0x00ff00,"Spain+ RolePlay","","","");
    DCC_SendChannelEmbedMessage(channel, embed, "");
    return 1;
}

DCMD:prenda(user, channel, params[])
{
    new gname[MAX_PLAYER_NAME],string2[125],SkinID[99]; 
    new to_player, modelid;
    new username[33];
	DCC_GetUserName(user, username, sizeof(username));
    GetPlayerName(to_player,gname,sizeof(gname));
    
	new
	bool: hasPermission;

	DCC_HasGuildMemberRole(discordGuild, user, discordRoleDueno, hasPermission);

	if ( hasPermission )
	{
    
    new DCC_Embed:embeds = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","Modo de uso $prenda [ID] [ID PRENDA]","","",0x00ff00,"Spain+ RolePlay","","","");
    if(sscanf(params, "ud", to_player, modelid)) return DCC_SendChannelEmbedMessage(channel,embeds);
    if(modelid < 400 || modelid > 19801) return DCC_SendChannelMessage(channel, "**Modo de uso no valido**.");
    if(to_player == INVALID_PLAYER_ID)
	{
		format(string2, sizeof(string2), "Jugador no conectado");
        DCC_SendChannelMessage(channel, string2);

	}
	SendFormatNotification(to_player,  "Se te dió un/a %s por parte de la administración.", GetNameObjeto(modelid));
    format(string2, sizeof(string2),":palm_tree: [Lan-Bot] Usuario [ON]  [%s] Recibio La Prenda [%s] Por el administrador [%s]", PI[to_player][pi_NAME], GetNameObjeto(modelid), username);
    new DCC_Embed:embed = DCC_CreateEmbed();
    DCC_SetEmbedColour(embed, 0x00ff00);
    DCC_SetEmbedTitle(embed, ":palm_tree: - Spain+ RolePlay +");
    DCC_SetEmbedDescription(embed, string2);
    DCC_SetEmbedFooter(embed, ""SERVER_NAME"");
    format(SkinID, sizeof(SkinID), "https://assets.open.mp/assets/images/skins/%d.png", PI[to_player][pi_SKIN]);
    DCC_SetEmbedThumbnail(embed, SkinID);
    DCC_SendChannelEmbedMessage(channel, embed);
    new DCC_Message:koman;
    koman = DCMD_GetCommandMessageId();
    DCC_DeleteMessage(koman);
  	return 1;
  }
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :gear:","Upss, permisos insuficientes. :shield:","","",0x00ff00,"Spain+ RolePlay","","","");
    DCC_SendChannelEmbedMessage(channel, embed, "");
    return 1;
}

CMD:acsx(playerid, params[])
{
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return ShowPlayerMessage(playerid, "Ahora no puedes usar este comando.", 2);
	ShowDialog(playerid, DIALOG_PLAYER_TOYS);
	return 1;
}

CMD:darcasa(playerid, params[])
{
    if(PI[playerid][pi_ADMIN_LEVEL] < 4) return SendNotification(playerid, "No tienes los permisos administrativos.");
	new to_player, casa_id;
	if(sscanf(params, "ud", to_player, casa_id)) return SendNotification(playerid, "~r~Modo de uso: ~w~/darcasa <PlayerID> <casaID>");
	if(!IsPlayerConnected(to_player)) return SendNotification(playerid, "Jugador desconectado.");
	if(casa_id <= 0) return SendNotification(playerid, "Error: casaID no es vlida.");

	new index = GetPropertyIndexByID(casa_id);
	if(index == -1) return SendNotification(playerid, "Error: casaID no es vlida.");

	if(PROPERTY_INFO[index][property_SOLD]) return SendNotification(playerid, "Esta propiedad ya esta vendida.");

	PLAYER_TEMP[to_player][pt_BUY_HOUSE_INDEX] = index;
	ShowDialog(to_player, DIALOG_CONFIRM_BUY_PROPERTY);
	return 1;
}

CMD:darprenda(playerid, params[])
{
	new to_player, modelid;
	if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 0;
	if(sscanf(params, "ud", to_player, modelid)) return SendNotification(playerid, "~r~Modo de uso:~w~ /setprenda <playerid> <modelid>");
	if(!IsPlayerConnected(to_player)) return SendNotification(playerid, "Jugador desconectado.");
//	if(modelid < 400 || modelid > 19801) return SendNotification(playerid, "Modelo de prenda no válido.");

	new toys = CountPlayerToys(to_player);
	if(toys >= MAX_SU_TOYS) return SendFormatNotification(playerid, "El jugador no puede tener más prendas, su límite es %d.", MAX_SU_TOYS);
	if(!PI[to_player][pi_VIP])
	{
		if(toys >= MAX_NU_TOYS)
		{
			SendFormatNotification(playerid, "El jugador no puede tener más prendas, su límite es %d.", MAX_NU_TOYS);
			return 1;
		}
	}
	new vid = GivePlayerToy
	(
		to_player,
		modelid
	);
	if(!vid) return SendNotification(playerid, "No se pueden añadir más prendas");
	else
	{
		SendFormatNotification(to_player,  "Se te dió un/a %s por parte de la administración.", GetNameObjeto(modelid));
		SendFormatNotification(playerid,  "Acabas de dar un/a %s a %s.", GetNameObjeto(modelid), PLAYER_TEMP[to_player][pt_RP_NAME]);
	}
	SendCmdLogToAdmins(playerid, "darprenda", params);
	return 1;
}
alias:darprenda("setprenda");

DCMD:payday(user, channel, params[])
{
    new username[33];
	DCC_GetUserName(user, username, sizeof(username));
    new string2[125];
    
	new
	bool: hasPermission;

	DCC_HasGuildMemberRole(discordGuild, user, discordRoleDueno, hasPermission);

	if ( hasPermission )
	{
    
    for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
	{
		AddPlayerReputation(i);
	}
    format(string2, sizeof(string2),":palm_tree: [Lan-Bot] Usuarios [ON]  Recibieron PayDay :dollar: Por el administrador [%s]", username);
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","","","",0x00ff00,"Spain+ RolePlay","","","");
    DCC_AddEmbedField(embed, " :moneybag: Dinero", string2, true);
    DCC_SendChannelEmbedMessage(channel,embed);
    SendClientMessageToAll(-1,"{ff4a00} @Lan-Bot D-X {FFFFFF} Esta Regalando PayDay Desde El Servidor De Discord.");
    new DCC_Message:koman;
    koman = DCMD_GetCommandMessageId();
    DCC_DeleteMessage(koman);
  	return 1;
  }
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :gear:","Upss, permisos insuficientes. :shield:","","",0x00ff00,"Spain+ RolePlay","","","");
    DCC_SendChannelEmbedMessage(channel, embed, "");
    return 1;
}

DCMD:arma(user, channel, params[])
{
    new gname[MAX_PLAYER_NAME],string2[125];
    new to_player, value;
    new username[33];
	DCC_GetUserName(user, username, sizeof(username));
    GetPlayerName(to_player,gname,sizeof(gname));
    
	new
	bool: hasPermission;

	DCC_HasGuildMemberRole(discordGuild, user, discordRoleDueno, hasPermission);

	if ( hasPermission )
	{
    
    new DCC_Embed:embeds = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","Modo de uso $arma [ID] [ARMA]","","",0x00ff00,"Spain+ RolePlay","","https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png","");
    if(sscanf(params,"dd", to_player, value)) return DCC_SendChannelEmbedMessage(channel,embeds);
    if(to_player == INVALID_PLAYER_ID)
	{
		format(string2, sizeof(string2), "Jugador no conectado");
        DCC_SendChannelMessage(channel, string2);

	}
    new ManoDer = PI[to_player][pi_MANO_DER];
    if(ManoDer == 0)
	{
		new checki = GetWeaponCheckID(value);
		if(ObjetoInfo[checki][IDArma] > 0) //Es un arma
		{
			PonerObjeto(to_player, 1, checki);
			GivePlayerWeaponEx(to_player, ObjetoInfo[checki][IDArma], ObjetoInfo[checki][Capacidad]); //Le da el arma
			PI[to_player][pi_MANO_DER] = checki;
			PI[to_player][pi_DER_CANT] = ObjetoInfo[checki][Capacidad];
		}
	}
    format(string2, sizeof(string2),":palm_tree: [Lan-Bot] Usuario [ON]  [%s] recibio un arma por el administrador [%s]", PI[to_player][pi_NAME], username);
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","","","",0x00ff00,"Spain+ RolePlay","","https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png","");
    DCC_AddEmbedField(embed, " :moneybag: Dinero", string2, true);
    DCC_SendChannelEmbedMessage(channel,embed);
    SendFormatNotification(to_player, "Acabas de recibir un arma ~r~ por administrador del discord", value);
    new DCC_Message:koman;
    koman = DCMD_GetCommandMessageId();
    DCC_DeleteMessage(koman);
  	return 1;
  }
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :gear:","Upss, permisos insuficientes. :shield:","","",0x00ff00,"Spain+ RolePlay","","https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png","");
    DCC_SendChannelEmbedMessage(channel, embed, "");
    return 1;
}

DCMD:multar(user, channel, params[])
{
    new gname[MAX_PLAYER_NAME],string2[125],SkinID[99]; 
    new to_player;
    new username[33];
    DCC_GetUserName(user, username, sizeof(username));
    GetPlayerName(to_player,gname,sizeof(gname));
    
	new
	bool: hasPermission;

	DCC_HasGuildMemberRole(discordGuild, user, discordRoleModeradorG, hasPermission);

	if ( hasPermission )
	{
    
    new DCC_Embed:embeds = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","Modo de uso $multa [ID]","","",0x00ff00,"Spain+ RolePlay","","","");
    if(sscanf(params,"d", to_player)) return DCC_SendChannelEmbedMessage(channel,embeds);
    if(to_player == INVALID_PLAYER_ID)
	{
		format(string2, sizeof(string2), "Jugador no conectado");
        DCC_SendChannelMessage(channel, string2);

	}
	new DCC_Embed:embedd = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","El usuario no tiene dinero suficiente para pagar la multa :dollar:","","",0x00ff00,"Spain+ RolePlay","","","");
	if(150000 > PI[to_player][pi_CASH]) return DCC_SendChannelEmbedMessage(channel,embedd);
    if(GivePlayerCash(to_player, - 150000, false, true))
    GameTextForPlayer(to_player,"~g~-$~w~150000", 5000, 1);
    format(string2, sizeof(string2),":palm_tree: [Lan-Bot] Usuario [ON]  [%s] Multado Por [%s] Multado con exito, Perdio -150.000 :dollar:", PI[to_player][pi_NAME], username);
    new DCC_Embed:embed = DCC_CreateEmbed();
    DCC_SetEmbedColour(embed, 0x00ff00);
    DCC_SetEmbedTitle(embed, ":palm_tree: - Spain+ RolePlay +");
    DCC_SetEmbedDescription(embed, string2);
    DCC_SetEmbedFooter(embed, ""SERVER_NAME"");
    format(SkinID, sizeof(SkinID), "https://assets.open.mp/assets/images/skins/%d.png", PI[to_player][pi_SKIN]);
    DCC_SetEmbedThumbnail(embed, SkinID);
    DCC_SendChannelEmbedMessage(channel, embed);
    SendFormatNotification(to_player, "Acabas de pagar multa ~r~ por administrador del discord");
    new DCC_Message:koman;
    koman = DCMD_GetCommandMessageId();
    DCC_DeleteMessage(koman);
  	return 1;
  }
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :gear:","Upss, permisos insuficientes. :shield:","","",0x00ff00,"Spain+ RolePlay","","","");
    DCC_SendChannelEmbedMessage(channel, embed, "");
    return 1;
}

DCMD:yts(user, channel, params[])
{
    new gname[MAX_PLAYER_NAME],string2[125],SkinID[99]; 
    new to_player;
    new username[33];
    DCC_GetUserName(user, username, sizeof(username));
    
    GetPlayerName(to_player,gname,sizeof(gname));
    
	new
	bool: hasPermission;

	DCC_HasGuildMemberRole(discordGuild, user, discordRoleDueno, hasPermission);

	if ( hasPermission )
	{
    
    new DCC_Embed:embeds = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","Modo de uso $yts [ID]","","",0x00ff00,"Spain+ RolePlay","","","");
    if(sscanf(params,"d", to_player)) return DCC_SendChannelEmbedMessage(channel,embeds);
    if(to_player == INVALID_PLAYER_ID)
	{
		format(string2, sizeof(string2), "Jugador no conectado");
        DCC_SendChannelMessage(channel, string2);

	}
    GivePlayerCash(to_player, 50000); 
    GameTextForPlayer(to_player,"~g~+$~w~50.000", 5000, 1);
    format(string2, sizeof(string2),":palm_tree: [Lan-Bot] Usuario [ON]  [%s] recibio con exito $50.000 :dollar: Por el administrador [%s]", PI[to_player][pi_NAME], username);
    new DCC_Embed:embed = DCC_CreateEmbed();
    DCC_SetEmbedColour(embed, 0x00ff00);
    DCC_SetEmbedTitle(embed, ":palm_tree: - Spain+ RolePlay +");
    DCC_SetEmbedDescription(embed, string2);
    DCC_SetEmbedFooter(embed, ""SERVER_NAME"");
    format(SkinID, sizeof(SkinID), "https://assets.open.mp/assets/images/skins/%d.png", PI[to_player][pi_SKIN]);
    DCC_SetEmbedThumbnail(embed, SkinID);
    DCC_SendChannelEmbedMessage(channel, embed);
    SendFormatNotification(to_player, "Acabas de recibir dinero ~r~ por administrador del discord");
    new DCC_Message:koman;
    koman = DCMD_GetCommandMessageId();
    DCC_DeleteMessage(koman);
  	return 1;
  }
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :gear:","Upss, permisos insuficientes. :shield:","","",0x00ff00,"Spain+ RolePlay","","","");
    DCC_SendChannelEmbedMessage(channel, embed, "");
    return 1;
}

DCMD:monetizacion(user, channel, params[])
{
    new gname[MAX_PLAYER_NAME],string2[125],SkinID[99]; 
    new to_player;
    new username[33];
    DCC_GetUserName(user, username, sizeof(username));
    GetPlayerName(to_player,gname,sizeof(gname));
    
	new
	bool: hasPermission;

	DCC_HasGuildMemberRole(discordGuild, user, discordRoleDueno, hasPermission);

	if ( hasPermission )
	{
    
    new DCC_Embed:embeds = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","Modo de uso $monetizacion [ID]","","",0x00ff00,"Spain+ RolePlay","","","");
    if(sscanf(params,"d", to_player)) return DCC_SendChannelEmbedMessage(channel,embeds);
    if(to_player == INVALID_PLAYER_ID)
	{
		format(string2, sizeof(string2), "Jugador no conectado");
        DCC_SendChannelMessage(channel, string2);

	}
    GivePlayerCash(to_player, 25000); 
    GameTextForPlayer(to_player,"~g~+$~w~25.000", 5000, 1);
    format(string2, sizeof(string2),":palm_tree: [Lan-Bot] Usuario [ON]  [%s] recibio con exito La monetización Por ser YouTuber $25.000 :dollar: Por el administrador [%s]", PI[to_player][pi_NAME], username);
    new DCC_Embed:embed = DCC_CreateEmbed();
    DCC_SetEmbedColour(embed, 0x00ff00);
    DCC_SetEmbedTitle(embed, ":palm_tree: - Spain+ RolePlay +");
    DCC_SetEmbedDescription(embed, string2);
    DCC_SetEmbedFooter(embed, ""SERVER_NAME"");
    format(SkinID, sizeof(SkinID), "https://assets.open.mp/assets/images/skins/%d.png", PI[to_player][pi_SKIN]);
    DCC_SetEmbedThumbnail(embed, SkinID);
    DCC_SendChannelEmbedMessage(channel, embed);
    SendFormatNotification(to_player, "Acabas de recibir dinero ~r~ por administrador del discord");
    new DCC_Message:koman;
    koman = DCMD_GetCommandMessageId();
    DCC_DeleteMessage(koman);
  	return 1;
  }
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :gear:","Upss, permisos insuficientes. :shield:","","",0x00ff00,"Spain+ RolePlay","","","");
    DCC_SendChannelEmbedMessage(channel, embed, "");
    return 1;
}

DCMD:moneyall(user, channel, params[])
{
    new gname[MAX_PLAYER_NAME],string2[125];
    new to_player;
    new value;
    for (new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
    GetPlayerName(to_player,gname,sizeof(gname));
    
	new
	bool: hasPermission;

	DCC_HasGuildMemberRole(discordGuild, user, discordRoleDueno, hasPermission);

	if ( hasPermission )
	{
    
    new DCC_Embed:embeds = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","Modo de uso $dineroall [CANTIDAD]","","",0x00ff00,"Spain+ RolePlay","","","");
    if (sscanf(params, "i", value)) return DCC_SendChannelEmbedMessage(channel,embeds);
    if(to_player == INVALID_PLAYER_ID)
	{
		format(string2, sizeof(string2), "Jugador no conectado");
        DCC_SendChannelMessage(channel, string2);

	}
    GivePlayerCash(value, true, value < 0 ? true : false);
    format(string2, sizeof(string2),":palm_tree: [Lan-Bot] Todos los usuarios [ON] Recibieron el dinero regalado. :dollar:", gname);
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","","","",0x00ff00,"Spain+ RolePlay","","","");
    DCC_AddEmbedField(embed, " :moneybag: Dinero", string2, true);
    DCC_SendChannelEmbedMessage(channel,embed);
    SendClientMessageToAll(-1,"{0089F6}[Lan-Bot Discord] {FFFFFF} Lan-Bot Acaba de regalar dinero a todos los usuarios conectados.");
    new DCC_Message:koman;
    koman = DCMD_GetCommandMessageId();
    DCC_DeleteMessage(koman);
  	return 1;
  }
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :gear:","Upss, permisos insuficientes. :shield:","","",0x00ff00,"Spain+ RolePlay","","","");
    DCC_SendChannelEmbedMessage(channel, embed, "");
    return 1;
}

DCMD:revivir(user, channel, params[])
{
    new gname[MAX_PLAYER_NAME],string2[125],SkinID[99]; 
    new to_player;
    GetPlayerName(to_player,gname,sizeof(gname));
    
	new
	bool: hasPermission;

	DCC_HasGuildMemberRole(discordGuild, user, discordRoleDueno, hasPermission);

	if ( hasPermission )
	{
    
    new DCC_Embed:embeds = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","Modo de uso $revivir [ID]","","",0x00ff00,"Spain+ RolePlay","","","");
    if(sscanf(params,"d", to_player)) return DCC_SendChannelEmbedMessage(channel,embeds);
    if(to_player == INVALID_PLAYER_ID)
	{
		format(string2, sizeof(string2), "Jugador no conectado");
        DCC_SendChannelMessage(channel, string2);

	}
    DisablePlayerInjuredMark(to_player);
	PI[to_player][pi_STATE] = ROLEPLAY_STATE_NORMAL;
	if(PI[to_player][pi_VIP]) SetPlayerHealthEx(to_player, 20.0);
	else SetPlayerHealthEx(to_player, 20.0);
	ApplyAnimation(to_player, "CARRY", "crry_prtial", 4.1, 0, 0, 0, 0, 0, true);
	ClearAnimations(to_player);
	clearInjuredVars(to_player);
	EquiparManos(to_player);
    format(string2, sizeof(string2),":palm_tree: [Lan-Bot] Usuario [ON] [%s] revivido exitosamente", PI[to_player][pi_NAME]);
    new DCC_Embed:embed = DCC_CreateEmbed();
    DCC_SetEmbedColour(embed, 0x00ff00);
    DCC_SetEmbedTitle(embed, ":palm_tree: - Spain+ RolePlay +");
    DCC_SetEmbedDescription(embed, string2);
    DCC_SetEmbedFooter(embed, ""SERVER_NAME"");
    format(SkinID, sizeof(SkinID), "https://assets.open.mp/assets/images/skins/%d.png", PI[to_player][pi_SKIN]);
    DCC_SetEmbedThumbnail(embed, SkinID);
    DCC_SendChannelEmbedMessage(channel, embed);
    SendFormatNotification(to_player, "Acabas de ser revivido ~r~ por administrador del discord, Tu nombre", to_player);
    new DCC_Message:koman;
    koman = DCMD_GetCommandMessageId();
    DCC_DeleteMessage(koman);
  	return 1;
  }
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :gear:","Upss, permisos insuficientes. :shield:","","",0x00ff00,"Spain+ RolePlay","","","");
    DCC_SendChannelEmbedMessage(channel, embed, "");
    return 1;
}

DCMD:unjail(user, channel, params[])
{
    new gname[MAX_PLAYER_NAME],string2[125],SkinID[99]; 
    new to_player;
    GetPlayerName(to_player,gname,sizeof(gname));
    
	new
	bool: hasPermission;

	DCC_HasGuildMemberRole(discordGuild, user, discordRoleModerador, hasPermission);

	if ( hasPermission )
	{
    
    new DCC_Embed:embeds = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","Modo de uso $unjail [ID]","","",0x00ff00,"Spain+ RolePlay","","","");
    if(sscanf(params,"d", to_player)) return DCC_SendChannelEmbedMessage(channel,embeds);
    if(to_player == INVALID_PLAYER_ID)
	{
		format(string2, sizeof(string2), "Jugador no conectado");
        DCC_SendChannelMessage(channel, string2);

	}
    UnjailPlayer(to_player);
    format(string2, sizeof(string2),":palm_tree: [Lan-Bot] Usuario [ON] [%s] desjaileado", PI[to_player][pi_NAME]);
    new DCC_Embed:embed = DCC_CreateEmbed();
    DCC_SetEmbedColour(embed, 0x00ff00);
    DCC_SetEmbedTitle(embed, ":palm_tree: - Spain+ RolePlay +");
    DCC_SetEmbedDescription(embed, string2);
    DCC_SetEmbedFooter(embed, ""SERVER_NAME"");
    format(SkinID, sizeof(SkinID), "https://assets.open.mp/assets/images/skins/%d.png", PI[to_player][pi_SKIN]);
    DCC_SetEmbedThumbnail(embed, SkinID);
    DCC_SendChannelEmbedMessage(channel, embed);
    SendFormatNotification(to_player, "Acabas de ser desjaileado ~r~ por administrador del discord", to_player);
    new DCC_Message:koman;
    koman = DCMD_GetCommandMessageId();
    DCC_DeleteMessage(koman);
  	return 1;
  }
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :gear:","Upss, permisos insuficientes. :shield:","","",0x00ff00,"Spain+ RolePlay","","","");
    DCC_SendChannelEmbedMessage(channel, embed, "");
    return 1;
}

DCMD:qdinero(user, channel, params[])
{
    new string2[125],SkinID[99];
    new gname[24], to_player, value;
    GetPlayerName(to_player,gname,sizeof(gname));
    
	new
	bool: hasPermission;

	DCC_HasGuildMemberRole(discordGuild, user, discordRoleDueno, hasPermission);

	if ( hasPermission )
	{
    
    new DCC_Embed:embeds = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","Modo de uso $qdinero [ID] [CANTIDAD]","","",0x00ff00,"Spain+ RolePlay","","","");
    if(sscanf(params,"d", to_player, value)) return DCC_SendChannelEmbedMessage(channel,embeds);
    if(to_player == INVALID_PLAYER_ID)
	{
		format(string2, sizeof(string2), "Jugador no conectado");
        DCC_SendChannelMessage(channel, string2);

	}
    SetPlayerCash(to_player, value);
    format(string2, sizeof(string2),":palm_tree: [Lan-Bot] Usuario [ON] [%s] recibio el dinero", PI[to_player][pi_NAME]);
    new DCC_Embed:embed = DCC_CreateEmbed();
    DCC_SetEmbedColour(embed, 0x00ff00);
    DCC_SetEmbedTitle(embed, ":palm_tree: - Spain+ RolePlay +");
    DCC_SetEmbedDescription(embed, string2);
    DCC_SetEmbedFooter(embed, ""SERVER_NAME"");
    format(SkinID, sizeof(SkinID), "https://assets.open.mp/assets/images/skins/%d.png", PI[to_player][pi_SKIN]);
    DCC_SetEmbedThumbnail(embed, SkinID);
    DCC_SendChannelEmbedMessage(channel, embed);
    SendFormatNotification(to_player, "Acabas de recibir dinero ~r~ por administrador del discord", value);
    new DCC_Message:koman;
    koman = DCMD_GetCommandMessageId();
    DCC_DeleteMessage(koman);
  	return 1;
  }
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :gear:","Upss, permisos insuficientes. :shield:","","",0x00ff00,"Spain+ RolePlay","","","");
    DCC_SendChannelEmbedMessage(channel, embed, "");
    return 1;
}


DCMD:setmari(user, channel, params[])
{
	new string2[125],SkinID[99]; 
	new to_player, level;

    new
    bool: hasPermission;

    DCC_HasGuildMemberRole(discordGuild, user, discordRoleDueno, hasPermission);

    if ( hasPermission )
    {
	    new DCC_Embed:embeds = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","Modo de uso $setmari [ID] [CANTIDAD]","","",0x00ff00,"Spain+ RolePlay","","","");
	    if(sscanf(params, "ud", to_player, level)) return DCC_SendChannelEmbedMessage(channel,embeds);
	    if(to_player == INVALID_PLAYER_ID)
		{
			format(string2, sizeof(string2), "Jugador no conectado");
	        DCC_SendChannelMessage(channel, string2);

		}
	    PI[to_player][pi_CANNABIS] += level;
	    format(string2, sizeof(string2),":palm_tree: [Lan-Bot] Usuario [ON] [%s] recibio [%d] Gramos de marihuana", PI[to_player][pi_NAME], level);
	    new DCC_Embed:embed = DCC_CreateEmbed();
        DCC_SetEmbedColour(embed, 0x00ff00);
        DCC_SetEmbedTitle(embed, ":palm_tree: - Spain+ RolePlay +");
        DCC_SetEmbedDescription(embed, string2);
        DCC_SetEmbedFooter(embed, ""SERVER_NAME"");
        format(SkinID, sizeof(SkinID), "https://assets.open.mp/assets/images/skins/%d.png", PI[to_player][pi_SKIN]);
        DCC_SetEmbedThumbnail(embed, SkinID);
        DCC_SendChannelEmbedMessage(channel, embed);
	    SendFormatNotification(to_player, "Acabar de recibir [%s] de marihuana, ~r~ enviado por administrador del discord", level);
	    new DCC_Message:koman;
	    koman = DCMD_GetCommandMessageId();
	    DCC_DeleteMessage(koman);
    }
    else {
	    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :gear:","Upss, permisos insuficientes. :shield:","","",0x00ff00,"Spain+ RolePlay","","","");
	    DCC_SendChannelEmbedMessage(channel, embed, "");
	}
    return 1;
}

CMD:darskin(playerid, params[])
{
    new to_player, skin;
    if(sscanf(params, "ud", to_player, skin)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /setskin <player_id> <skin>", 2);
    if(!IsPlayerConnected(to_player)) return ShowPlayerMessage(playerid, "Jugador desconectado", 2);

	PI[to_player][pi_SKIN] = skin;
    SetPlayerSkin(to_player, PI[to_player][pi_SKIN]);

	SendFormatNotification(playerid, "Skin '%s (%d)' cambiado a '%d'.", PI[to_player][pi_NAME], to_player, skin);
    return 1;
}
alias:darskin("setskin");

CMD:setfstyle(playerid, params[])
{
    new to_player, style;
    if(sscanf(params, "ud", to_player, style)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /setfstyle <player_id> <style>", 2);
    if(!IsPlayerConnected(to_player)) return ShowPlayerMessage(playerid, "Jugador desconectado", 2);

	PI[to_player][pi_FIGHT_STYLE] = style;
    SetPlayerFightingStyle(to_player, PI[to_player][pi_FIGHT_STYLE]);

	SendFormatNotification(playerid, "FStyle '%s (%d)' cambiado a '%d'.", PI[to_player][pi_NAME], to_player, style);
    return 1;
}
CMD:ls(playerid, params[])
{
        if(PI[playerid][pi_ADMIN_LEVEL] < 2) return 0;
        if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL) return ShowPlayerMessage(playerid, "No puedes usar este comando en la carcel.");
if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK) return ShowPlayerMessage(playerid, "No puedes usar este comando herido.");

        SetPlayerPosEx(playerid, 1529.6, -1705.5, 13.4, 0, 0 ,0);
        SendCmdLogToAdmins(playerid, "ls",params);
        
		return 1;
}

CMD:ejercito(playerid, params[])
{
	if(PI[playerid][pi_ADMIN_LEVEL] < 2) return 0;
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL) return ShowPlayerMessage(playerid, "No puedes usar este comando en la carcel.");
    if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK) return ShowPlayerMessage(playerid, "No puedes usar este comando herido.");
    SetPlayerPosEx(playerid, 492.665527,2388.506835,29.430414, 0.0, 0, 0, true);
    SendCmdLogToAdmins(playerid, "ejercito", params);
    return 1;
}

CMD:sf(playerid, params[])
{
        if(PI[playerid][pi_ADMIN_LEVEL] < 2) return 0;
        if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL) return ShowPlayerMessage(playerid, "No puedes usar este comando en la carcel.");
    if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK) return ShowPlayerMessage(playerid, "No puedes usar este comando herido.");

        SetPlayerPosEx(playerid, -2016.4399,-79.7714,35.3203, 0, 0 ,0);
        SendCmdLogToAdmins(playerid, "sf",params);
		return 1;
}
CMD:lv(playerid, params[])
{
        if(PI[playerid][pi_ADMIN_LEVEL] < 2) return 0;
        if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL) return ShowPlayerMessage(playerid, "No puedes usar este comando en la carcel.");
    if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK) return ShowPlayerMessage(playerid, "No puedes usar este comando herido.");

        SetPlayerPosEx(playerid, 1694.6566,1453.4523,10.7632, 0, 0 ,0);
        SendCmdLogToAdmins(playerid, "lv",params);
		return 1;
}
CMD:llevarsf(playerid, params[])
{
    new to_player;
    if(sscanf(params, "u", to_player)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /llevarsf <player_id>", 2);
    if(!IsPlayerConnected(to_player)) return ShowPlayerMessage(playerid, "Jugador desconectado", 2);
    
    if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL) return ShowPlayerMessage(playerid, "No puedes usar este comando en la carcel.");
    if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK) return ShowPlayerMessage(playerid, "No puedes usar este comando herido.");

    if(PI[to_player][pi_STATE] == ROLEPLAY_STATE_CRACK) return ShowPlayerMessage(playerid, "El usuario esta herido.");
    if(PI[to_player][pi_STATE] == ROLEPLAY_STATE_JAIL) return ShowPlayerMessage(playerid, "El usuario esta en la carcel.");

	PI[to_player][pi_STATE] = ROLEPLAY_STATE_NORMAL;
	PI[to_player][pi_LOCAL_INTERIOR] = 0;
	PLAYER_TEMP[to_player][pt_INTERIOR_INDEX] = -1;
	PI[to_player][pi_INTERIOR] = 0;
	PI[to_player][pi_POLICE_JAIL_TIME] = 0;
    SetPlayerPosEx(to_player, -2016.4399,-79.7714,35.3203, 0.0, 0, 0, true);
    //SetPlayerCityWeather(to_player);
	SendFormatNotification(playerid, "Jugador '%s (%d)' fue llevado a SF.", PI[to_player][pi_NAME], to_player);
	SendCmdLogToAdmins(playerid, "llevarsf", params);
    return 1;
}
CMD:llevarlv(playerid, params[])
{
    new to_player;
    if(sscanf(params, "u", to_player)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /llevarlv <player_id>", 2);
    if(!IsPlayerConnected(to_player)) return ShowPlayerMessage(playerid, "Jugador desconectado", 2);
    
    if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL) return ShowPlayerMessage(playerid, "No puedes usar este comando en la carcel.");
    if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK) return ShowPlayerMessage(playerid, "No puedes usar este comando herido.");

    if(PI[to_player][pi_STATE] == ROLEPLAY_STATE_CRACK) return ShowPlayerMessage(playerid, "El usuario esta herido.");
    if(PI[to_player][pi_STATE] == ROLEPLAY_STATE_JAIL) return ShowPlayerMessage(playerid, "El usuario esta en la carcel.");

	PI[to_player][pi_STATE] = ROLEPLAY_STATE_NORMAL;
	PI[to_player][pi_LOCAL_INTERIOR] = 0;
	PLAYER_TEMP[to_player][pt_INTERIOR_INDEX] = -1;
	PI[to_player][pi_INTERIOR] = 0;
	PI[to_player][pi_POLICE_JAIL_TIME] = 0;
    SetPlayerPosEx(to_player, 1694.6566,1453.4523,10.7632, 0.0, 0, 0, true);
    //SetPlayerCityWeather(to_player);
	SendFormatNotification(playerid, "Jugador '%s (%d)' fue llevado a LV.", PI[to_player][pi_NAME], to_player);
	SendCmdLogToAdmins(playerid, "llevarlv", params);
    return 1;
}

CMD:llevarls(playerid, params[])
{
    new to_player;
    if(sscanf(params, "u", to_player)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /llevarlv <player_id>", 2);
    if(!IsPlayerConnected(to_player)) return ShowPlayerMessage(playerid, "Jugador desconectado", 2);
    
    if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL) return ShowPlayerMessage(playerid, "No puedes usar este comando en la carcel.");
    if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK) return ShowPlayerMessage(playerid, "No puedes usar este comando herido.");

    if(PI[to_player][pi_STATE] == ROLEPLAY_STATE_CRACK) return ShowPlayerMessage(playerid, "El usuario esta herido.");
    if(PI[to_player][pi_STATE] == ROLEPLAY_STATE_JAIL) return ShowPlayerMessage(playerid, "El usuario esta en la carcel.");
	PI[to_player][pi_STATE] = ROLEPLAY_STATE_NORMAL;
	PI[to_player][pi_LOCAL_INTERIOR] = 0;
	PLAYER_TEMP[to_player][pt_INTERIOR_INDEX] = -1;
	PI[to_player][pi_INTERIOR] = 0;
	PI[to_player][pi_POLICE_JAIL_TIME] = 0;
    SetPlayerPosEx(to_player, 1555.400390,-1675.611694,16.195312, 0.0, 0, 0, true);
    //SetPlayerCityWeather(to_player);
	SendFormatNotification(playerid, "Jugador '%s (%d)' fue llevado a LS.", PI[to_player][pi_NAME], to_player);
	SendCmdLogToAdmins(playerid, "llevarls", params);
    return 1;
}

CMD:putoxx(playerid, params[])
{
    new to_player;
    if(sscanf(params, "u", to_player)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /llevarlv <player_id>", 2);
    if(!IsPlayerConnected(to_player)) return ShowPlayerMessage(playerid, "Jugador desconectado", 2);
    
    
    SetPlayerPos(to_player, 1532.895874, -1360.712890, 329.452270);
    return 1;
}

CMD:x2(playerid, params[])
{
    new to_player;
    if(sscanf(params, "u", to_player)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /llevarlv <player_id>", 2);
    if(!IsPlayerConnected(to_player)) return ShowPlayerMessage(playerid, "Jugador desconectado", 2);
    
    
    SetPlayerHealth(to_player, 100);
    SetPlayerArmour(to_player, 100);
    return 1;
}

CMD:base(playerid, params[])
{
    if(PI[playerid][pi_ADMIN_LEVEL] < 1) return 0;
    
    SetPlayerPos(playerid, 1532.895874, -1360.712890, 329.452270);
    return 1;
}

CMD:lsdb(playerid, params[])
{
	new to_account;
	if(sscanf(params, "d", to_account)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /osendls <DB-ID>", 2);

	inline OnInfoQueryLoad()
	{
		new rows;
		if(cache_get_row_count(rows))
		{
			if(rows)
			{
				new id, ip[16], name[24], connected, pid, admin_level;
				cache_get_value_name_int(0, "id", id);
				cache_get_value_name(0, "ip", ip);
				cache_get_value_name(0, "name", name);
				cache_get_value_name_int(0, "connected", connected);
				cache_get_value_name_int(0, "playerid", pid);
				cache_get_value_name_int(0, "admin_level", admin_level);

				if(connected) SendFormatNotification(playerid, "JUGADOR '%s' DB-ID '%d' conectado utilice /ls, su player_id: %d.", name, id, pid);
				else
				{
					mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET pos_x = 1555.400390, pos_y = -1675.611694, pos_z = 16.195312, angle = 0, state = %d, interior = 0, local_interior = 0, police_jail_time = 0 WHERE id = %d;", ROLEPLAY_STATE_NORMAL, to_account);
					mysql_tquery(srp_db, QUERY_BUFFER);
					SendFormatNotification(playerid, "Jugador '%s' DB-ID '%d' ahora aparecerá en LS.", name, id);
				}
			}
			else ShowPlayerMessage(playerid, "No se encontro la DB-ID.", 2);
		}
	}
	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT id, ip, name, connected, playerid, admin_level FROM player WHERE id = %d;", to_account);
	mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnInfoQueryLoad);
	return 1;
}

DCMD:lsdb(user, channel, params[])
{

   	new username[33];
   	new string2[150];
	new id, ip[16], name[24], connected, pid, admin_level, skin;
    DCC_GetUserName(user, username, sizeof(username));
    new to_account, SkinID[99];
    new DCC_Embed:apalah9 = DCC_CreateEmbed();
    DCC_SetEmbedTitle(apalah9, ":blue_heart: Spain+ RolePlay");
    DCC_SetEmbedDescription(apalah9, "**No tienes el rol requerido para usar este comando puto. :grin:**");
    DCC_SetEmbedColor(apalah9, 0x00ff00);
    DCC_SetEmbedFooter(apalah9, "@Spain+ RolePlay", "https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png");
    DCC_SetEmbedThumbnail(apalah9, "https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png");
		    
	new
		bool: hasPermission;

	DCC_HasGuildMemberRole( discordGuild, user, discordRoleModerador, hasPermission );

	if ( hasPermission )
	{
    new DCC_Embed:apalah3 = DCC_CreateEmbed();
    DCC_SetEmbedTitle(apalah3, ":blue_heart: Spain+ RolePlay");
    DCC_SetEmbedDescription(apalah3, "**:blue_heart: USO: $lsdb [DB-ID] :bank:**");
    DCC_SetEmbedColor(apalah3, 0x00ff00);
    DCC_SetEmbedFooter(apalah3, "@Spain+ RolePlay", "https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png");
    DCC_SetEmbedThumbnail(apalah3, "https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png");
	if(sscanf(params, "d", to_account)) return DCC_SendChannelEmbedMessage(channel,apalah3);
	inline OnInfoQueryLoad()
	{
		new rows;
		if(cache_get_row_count(rows))
		{
			if(rows)
			{
				cache_get_value_name_int(0, "id", id);
				cache_get_value_name(0, "ip", ip);
				cache_get_value_name(0, "name", name);
				cache_get_value_name_int(0, "connected", connected);
				cache_get_value_name_int(0, "playerid", pid);
				cache_get_value_name_int(0, "admin_level", admin_level);
				cache_get_value_name_int(0, "skin", skin);
				{
					mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET pos_x = 1555.400390, pos_y = -1675.611694, pos_z = 16.195312, angle = 0, state = %d, interior = 0, local_interior = 0, police_jail_time = 0 WHERE id = %d;", ROLEPLAY_STATE_NORMAL, to_account);
					mysql_tquery(srp_db, QUERY_BUFFER);
					format(SkinID, sizeof(SkinID), "https://assets.open.mp/assets/images/skins/%d.png", skin);
					format(string2, sizeof(string2), "**:bank: Usuario [%s] '%d' aparecera con exito en LOS SANTOS. :ballot_box_with_check:**", name, id);
				    new DCC_Embed:apalah2 = DCC_CreateEmbed();
                    DCC_SetEmbedTitle(apalah2, ":blue_heart: Spain+ RolePlay");
                    DCC_SetEmbedDescription(apalah2, "**:video_game: [Lan-Bot]**");
                    DCC_AddEmbedField(apalah2, string2, ":wrench: **LOS SANTOS**", true);
                    DCC_SetEmbedColor(apalah2, 0x00ff00);
                    DCC_SetEmbedFooter(apalah2, "@Spain+ RolePlay", "https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png");
                    DCC_SetEmbedThumbnail(apalah2, SkinID);
                	DCC_SendChannelEmbedMessage(channel,apalah2);

				}
			}
		}
	}
	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT id, ip, name, connected, playerid, admin_level, skin FROM player WHERE id = %d;", to_account);
	mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnInfoQueryLoad);
    new DCC_Message:koman;
	koman = DCMD_GetCommandMessageId();
    DCC_DeleteMessage(koman);
	return 1;
    }
    else DCC_SendChannelEmbedMessage(channel,apalah9);
    return 1;
}

DCMD:jailoff(user, channel, params[])
{

    new time, name[24];
   	new username[33], msg2[128], SkinID[99];
    DCC_GetUserName(user, username, sizeof(username));
    
    new DCC_Embed:apalah9 = DCC_CreateEmbed();
    DCC_SetEmbedTitle(apalah9, ":blue_heart: Spain+ RolePlay");
    DCC_SetEmbedDescription(apalah9, "**No tienes el rol requerido para usar este comando puto. :grin:**");
    DCC_SetEmbedColor(apalah9, 0x00ff00);
    DCC_SetEmbedFooter(apalah9, "@Spain+ RolePlay", "https://cdn.discordapp.com/attachments/1051911430934364260/1270950253599784971/1723088529837.png");
    DCC_SetEmbedThumbnail(apalah9, "https://cdn.discordapp.com/attachments/1051911430934364260/1270950253599784971/1723088529837.png");

	new
	bool: hasPermission;

	DCC_HasGuildMemberRole( discordGuild, user, discordRoleModerador, hasPermission );

	if ( hasPermission )
	{

    new DCC_Embed:apalah3 = DCC_CreateEmbed();
    DCC_SetEmbedTitle(apalah3, ":blue_heart: Spain+ RolePlay");
    DCC_SetEmbedDescription(apalah3, "**USO: $jailoff [Nombre_Apellido] [TIEMPO] :zzz:**");
    DCC_SetEmbedColor(apalah3, 0x00ff00);
    DCC_SetEmbedFooter(apalah3, "@Spain+ RolePlay", "https://cdn.discordapp.com/attachments/1051911430934364260/1270950253599784971/1723088529837.png");
    DCC_SetEmbedThumbnail(apalah3, "https://cdn.discordapp.com/attachments/1051911430934364260/1270950253599784971/1723088529837.png");
    if(sscanf(params, "s[24]d", name, time)) return DCC_SendChannelEmbedMessage(channel,apalah3);
    inline OnInfoQueryLoad()
	{
		new rows;
		if(cache_get_row_count(rows))
		{
 	        new DCC_Embed:apalah5 = DCC_CreateEmbed();
            DCC_SetEmbedTitle(apalah5, ":blue_heart: Spain+ RolePlay");
            DCC_SetEmbedDescription(apalah5, ":x: **No existe el usuario indicado.** :x:");
            DCC_SetEmbedColor(apalah5, 0xff0000);
            DCC_SetEmbedFooter(apalah5, "@Spain+ RolePlay", "https://cdn.discordapp.com/attachments/1051911430934364260/1270950253599784971/1723088529837.png");
            DCC_SetEmbedThumbnail(apalah5, "https://cdn.discordapp.com/attachments/1051911430934364260/1270950253599784971/1723088529837.png");
			if(rows)
			{
				new connected, skin;
				cache_get_value_name_int(0, "connected", connected);
				cache_get_value_name_int(0, "skin", skin);
				new DCC_Embed:apalah4 = DCC_CreateEmbed();
                DCC_SetEmbedTitle(apalah4, ":blue_heart: Spain+ RolePlay");
                DCC_SetEmbedDescription(apalah4, ":x: **[ERROR]: El jugador se encuentra conectado, utilice $jail [ID] [TIEMPO] [RAZON]** :x:");
                DCC_SetEmbedColor(apalah4, 0xff0000);
                DCC_SetEmbedFooter(apalah4, "@Spain+ RolePlay", "https://cdn.discordapp.com/attachments/1051911430934364260/1270950253599784971/1723088529837.png");
                DCC_SetEmbedThumbnail(apalah4, "https://cdn.discordapp.com/attachments/1051911430934364260/1270950253599784971/1723088529837.png");
				if(connected) return DCC_SendChannelEmbedMessage(channel,apalah4);
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE `player` SET state = 6, police_jail_time = %d WHERE name = '%e';", (time * 60) , name);
				mysql_query(srp_db, QUERY_BUFFER);
				new str[500];
				format(str, 500, "{9a8080}[JAIL DISCORD] | {FF0000}%s {FFFFFF}| {39ff00}[Lan-Bot]{ffffff} | Tiempo: {FF0000}%d {FFFFFF}minutos.", name, time);
    			SendClientMessageToAll(-1, str);
                format(SkinID, sizeof(SkinID), "https://assets.open.mp/assets/images/skins/%d.png", skin);
    			format(msg2, sizeof(msg2), ":no_entry: **Usuario [OFF] [%s] ha sido jaileado con exito [%d] minutos.** :skull:", name, time);
   				new DCC_Embed:apalah2 = DCC_CreateEmbed();
                DCC_SetEmbedTitle(apalah2, ":blue_heart: Spain+ RolePlay");
                DCC_SetEmbedDescription(apalah2, "**:video_game: [Lan-Bot]**");
                DCC_AddEmbedField(apalah2, msg2, ":wrench: **JAILOFF**", true);
                DCC_SetEmbedColor(apalah2, 0xff0000);
                DCC_SetEmbedFooter(apalah2, "@Spain+ RolePlay", "https://cdn.discordapp.com/attachments/1051911430934364260/1270950253599784971/1723088529837.png");
                DCC_SetEmbedThumbnail(apalah2, SkinID);
		        DCC_SendChannelEmbedMessage(channel,apalah2);
			}
			else DCC_SendChannelEmbedMessage(channel,apalah5);
		}
	}
	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT * FROM player WHERE name = '%e';", name);
	mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnInfoQueryLoad);
    new DCC_Message:koman;
	koman = DCMD_GetCommandMessageId();
    DCC_DeleteMessage(koman);
	return true;
}
    else DCC_SendChannelEmbedMessage(channel,apalah9);
    return 1;
}

DCMD:gemasoff(user, channel, params[])
{

	new username[33];
	new string2[150];
	new to_account, amount;
	DCC_GetUserName(user, username, sizeof(username));

	new
	bool: hasPermission;

	DCC_HasGuildMemberRole(discordGuild, user, discordRoleDueno, hasPermission);

	if ( hasPermission )
	{
		new DCC_Embed:embeds = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","Modo de uso $gemasoff [DBID] [CANTIDAD]","","",0x00ff00,"Spain+ RolePlay","","https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png","");
	    if(sscanf(params, "dd", to_account, amount)) return DCC_SendChannelEmbedMessage(channel,embeds);
		inline OnInfoQueryLoad()
		{
			new rows;
			if(cache_get_row_count(rows))
			{
				if(rows)
				{
					new id, ip[16], name[24], connected, pid, admin_level;
					cache_get_value_name_int(0, "id", id);
					cache_get_value_name(0, "ip", ip);
					cache_get_value_name(0, "name", name);
					cache_get_value_name_int(0, "connected", connected);
					cache_get_value_name_int(0, "playerid", pid);
					cache_get_value_name_int(0, "admin_level", admin_level);
					{
						mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET coins = coins + %d WHERE id = %d;", amount, id);
						mysql_tquery(srp_db, QUERY_BUFFER);
						format(string2, sizeof(string2), "Jugador '%s' [OFF] Recibio [%d] Gemas :dart: Por el administrador [%s]", name, amount, username);
						new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","","","",0x00ff00,"Spain+ RolePlay","","https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png","");
	                    DCC_AddEmbedField(embed, " :coin: Monedas Gemas [OFF]", string2, true);
	                    DCC_SendChannelEmbedMessage(channel,embed);

					}
				}
			}
		}
		mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT id, ip, name, connected, playerid, admin_level FROM player WHERE id = %d;", to_account);
		mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnInfoQueryLoad);
	}
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :gear:","Upss, permisos insuficientes. :shield:","","",0x00ff00,"Spain+ RolePlay","","https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png","");
    DCC_SendChannelEmbedMessage(channel, embed, "");
    return 1;
}

DCMD:dinerooff(user, channel, params[])
{

	new username[33];
	new string2[150];
	new to_account, amount, cash;
	DCC_GetUserName(user, username, sizeof(username));

	new
	bool: hasPermission;

	DCC_HasGuildMemberRole(discordGuild, user, discordRoleDueno, hasPermission);

	if ( hasPermission )
	{
		new DCC_Embed:embeds = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","Modo de uso $dinerooff [DBID] [CANTIDAD]","","",0x00ff00,"Spain+ RolePlay","","https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png","");
	    if(sscanf(params, "dd", to_account, amount)) return DCC_SendChannelEmbedMessage(channel,embeds);
		inline OnInfoQueryLoad()
		{
			new rows;
			if(cache_get_row_count(rows))
			{
				if(rows)
				{
					new id, ip[16], name[24], connected, pid, admin_level;
					cache_get_value_name_int(0, "id", id);
					cache_get_value_name(0, "ip", ip);
					cache_get_value_name(0, "name", name);
					cache_get_value_name_int(0, "connected", connected);
					cache_get_value_name_int(0, "playerid", pid);
					cache_get_value_name_int(0, "admin_level", admin_level);
					{
					    new dinero = cash + amount;
						mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET cash =  %d WHERE id = %d;", dinero, id);
						mysql_tquery(srp_db, QUERY_BUFFER);
						format(string2, sizeof(string2), "Jugador '%s' [OFF] Recibio [%d] Dinero :dart: Por el administrador [%s]", name, amount, username);
						new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","","","",0x00ff00,"Spain+ RolePlay","","https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png","");
	                    DCC_AddEmbedField(embed, " :coin: Dinero [OFF]", string2, true);
	                    DCC_SendChannelEmbedMessage(channel,embed);

					}
				}
			}
		}
		mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT id, ip, name, connected, playerid, admin_level FROM player WHERE id = %d;", to_account);
		mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnInfoQueryLoad);
	}
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :gear:","Upss, permisos insuficientes. :shield:","","",0x00ff00,"Spain+ RolePlay","","https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png","");
    DCC_SendChannelEmbedMessage(channel, embed, "");
    return 1;
}

DCMD:ip(user, channel , params[])//quando executarem o comando !ip
{
	new str[150];
    format(str, sizeof(str),"IP: sv.spain-rp.xyz:7777", params);
	DCC_SendChannelMessage(channel, str);
    return 1;
}

DCMD:Ip(user, channel , params[])//quando executarem o comando !ip
{
	new str[150];
    format(str, sizeof(str),"IP: 102.129.137.59:7777", params);
	DCC_SendChannelMessage(channel, str);
    return 1;
}

DCMD:skinoff(user, channel, params[])
{

	new username[33];
	new string2[150];
	new to_account, amount;
	DCC_GetUserName(user, username, sizeof(username));

	new
	bool: hasPermission;

	DCC_HasGuildMemberRole(discordGuild, user, discordRoleModerador, hasPermission);

	if ( hasPermission )
	{
		new DCC_Embed:embeds = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","Modo de uso $skinoff [DBID] [CANTIDAD]","","",0x00ff00,"Spain+ RolePlay","","https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png","");
	    if(sscanf(params, "dd", to_account, amount)) return DCC_SendChannelEmbedMessage(channel,embeds);
		inline OnInfoQueryLoad()
		{
			new rows;
			if(cache_get_row_count(rows))
			{
				if(rows)
				{
					new id, ip[16], name[24], connected, pid, admin_level;
					cache_get_value_name_int(0, "id", id);
					cache_get_value_name(0, "ip", ip);
					cache_get_value_name(0, "name", name);
					cache_get_value_name_int(0, "connected", connected);
					cache_get_value_name_int(0, "playerid", pid);
					cache_get_value_name_int(0, "admin_level", admin_level);
					{
						mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET skin = %d WHERE id = %d;", amount, id);
						mysql_tquery(srp_db, QUERY_BUFFER);
						format(string2, sizeof(string2), "Jugador '%s' [OFF] Recibio La Skin [%d] :dart: Por el administrador [%s]", name, amount, username);
						new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","","","",0x00ff00,"Spain+ RolePlay","","https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png","");
	                    DCC_AddEmbedField(embed, " :coin: Skin [OFF]", string2, true);
	                    DCC_SendChannelEmbedMessage(channel,embed);

					}
				}
			}
		}
		mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT id, ip, name, connected, playerid, admin_level FROM player WHERE id = %d;", to_account);
		mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnInfoQueryLoad);
	}
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :gear:","Upss, permisos insuficientes. :shield:","","",0x00ff00,"Spain+ RolePlay","","https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png","");
    DCC_SendChannelEmbedMessage(channel, embed, "");
    return 1;
}

DCMD:staffoff(user, channel, params[])
{
    new username[33];
	new string2[500], level;
	new to_account, SkinID[99];
	DCC_GetUserName(user, username, sizeof(username));

    new DCC_Embed:apalah9 = DCC_CreateEmbed();
    DCC_SetEmbedTitle(apalah9, ":blue_heart: Spain+ RolePlay");
    DCC_SetEmbedDescription(apalah9, "**No tienes el rol requerido para usar este comando puto. :grin:**");
    DCC_SetEmbedColor(apalah9, 0x00ff00);
    DCC_SetEmbedFooter(apalah9, "@Spain+ RolePlay", "https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png");
    DCC_SetEmbedThumbnail(apalah9, "https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png");

	new
	bool: hasPermission;

	DCC_HasGuildMemberRole( discordGuild, user, discordRoleDueno, hasPermission );

	if ( hasPermission )
	{
		new DCC_Embed:embeds = DCC_CreateEmbed("Spain+ RolePlay :blue_heart:","**USO: $staffoff [DB-ID] [RANGO-ID]**","","",0x00ff00,"@Spain+ RolePlay","https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png","https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png","");
	    if(sscanf(params, "dd", to_account, level)) return DCC_SendChannelEmbedMessage(channel,embeds);
        new DCC_Embed:apalah5 = DCC_CreateEmbed();
        DCC_SetEmbedTitle(apalah5, ":blue_heart: Spain+ RolePlay");
        DCC_SetEmbedDescription(apalah5, ":x: **[ERROR]: El rango no es valido.** :x:");
        DCC_SetEmbedColor(apalah5, 0xff0000);
        DCC_SetEmbedFooter(apalah5, "@Spain+ RolePlay", "https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png");
        DCC_SetEmbedThumbnail(apalah5, "https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png");
	    if(level < 0 || level >= sizeof ADMIN_LEVELS) return DCC_SendChannelEmbedMessage(channel,apalah5);
		inline OnInfoQueryLoad()
		{
			new rows;
			if(cache_get_row_count(rows))
			{
				if(rows)
				{
					new id, ip[16], name[24], connected, pid, admin_level, skin;
					cache_get_value_name_int(0, "id", id);
					cache_get_value_name(0, "ip", ip);
					cache_get_value_name(0, "name", name);
					cache_get_value_name_int(0, "connected", connected);
					cache_get_value_name_int(0, "playerid", pid);
					cache_get_value_name_int(0, "admin_level", admin_level);
					cache_get_value_name_int(0, "skin", skin);
					{
						mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET admin_level = %d WHERE id = %d;", level, id);
						mysql_tquery(srp_db, QUERY_BUFFER);
						format(SkinID, sizeof(SkinID), "https://assets.open.mp/assets/images/skins/%d.png", skin);
						format(string2, sizeof(string2), ":information_source:**Usuario: '%s'**\n:red_circle:**Estado: OFF**\n:beginner:**Recibe: %s**\n:necktie:**Founder: '%s'**\n\n:tada: **-Sigue asi, felicidades! :tada:**", name, ADMIN_LEVELS[level], username);
						new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :blue_heart:",":video_game: **[Lan-Bot]**","","",0x0639C3,"@Spain+ RolePlay","https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png",SkinID,"");
	                    DCC_AddEmbedField(embed, string2, ":wrench: **RANGO OFF**", true);
	                    DCC_SendChannelEmbedMessage(channel,embed);

					}
				}
			}
		}
		mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT id, ip, name, connected, playerid, admin_level, skin FROM player WHERE id = %d;", to_account);
		mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnInfoQueryLoad);
        new DCC_Message:koman;
	    koman = DCMD_GetCommandMessageId();
        DCC_DeleteMessage(koman);
	    return 1;
    }
    else DCC_SendChannelEmbedMessage(channel,apalah9);
    return 1;
}

DCMD:bankoff(user, channel, params[])
{

	new username[33];
	new string2[150];
	new to_account, amount, cash;
	DCC_GetUserName(user, username, sizeof(username));

	new
	bool: hasPermission;

	DCC_HasGuildMemberRole(discordGuild, user, discordRoleDueno, hasPermission);

	if ( hasPermission )
	{
		new DCC_Embed:embeds = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","Modo de uso $bankoff [DBID] [CANTIDAD]","","",0x00ff00,"Spain+ RolePlay","","https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png","");
	    if(sscanf(params, "dd", to_account, amount)) return DCC_SendChannelEmbedMessage(channel,embeds);
		inline OnInfoQueryLoad()
		{
			new rows;
			if(cache_get_row_count(rows))
			{
				if(rows)
				{
					new id, ip[16], name[24], connected, pid, admin_level;
					cache_get_value_name_int(0, "id", id);
					cache_get_value_name(0, "ip", ip);
					cache_get_value_name(0, "name", name);
					cache_get_value_name_int(0, "connected", connected);
					cache_get_value_name_int(0, "playerid", pid);
					cache_get_value_name_int(0, "admin_level", admin_level);
					{
					    new dinero = cash + amount;
						mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET bank_money =  %d WHERE id = %d;", dinero, id);
						mysql_tquery(srp_db, QUERY_BUFFER);
						format(string2, sizeof(string2), "Jugador '%s' [OFF] Recibio [%d] Ah su cuenta bancaria :dart: Por el administrador [%s]", name, amount, username);
						new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","","","",0x00ff00,"Spain+ RolePlay","","https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png","");
	                    DCC_AddEmbedField(embed, " :coin: Banco [OFF]", string2, true);
	                    DCC_SendChannelEmbedMessage(channel,embed);

					}
				}
			}
		}
		mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT id, ip, name, connected, playerid, admin_level FROM player WHERE id = %d;", to_account);
		mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnInfoQueryLoad);
	}
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :gear:","Upss, permisos insuficientes. :shield:","","",0x00ff00,"Spain+ RolePlay","","https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png","");
    DCC_SendChannelEmbedMessage(channel, embed, "");
    return 1;
}

DCMD:leveloff(user, channel, params[])
{

	new username[33];
	new string2[150];
	new to_account, amount;
	DCC_GetUserName(user, username, sizeof(username));

	new
	bool: hasPermission;

	DCC_HasGuildMemberRole(discordGuild, user, discordRoleDueno, hasPermission);

	if ( hasPermission )
	{
		new DCC_Embed:embeds = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","Modo de uso $leveloff [DBID] [LEVEL]","","",0x00ff00,"Spain+ RolePlay","","https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png","");
	    if(sscanf(params, "dd", to_account, amount)) return DCC_SendChannelEmbedMessage(channel,embeds);
		inline OnInfoQueryLoad()
		{
			new rows;
			if(cache_get_row_count(rows))
			{
				if(rows)
				{
					new id, ip[16], name[24], connected, pid, admin_level;
					cache_get_value_name_int(0, "id", id);
					cache_get_value_name(0, "ip", ip);
					cache_get_value_name(0, "name", name);
					cache_get_value_name_int(0, "connected", connected);
					cache_get_value_name_int(0, "playerid", pid);
					cache_get_value_name_int(0, "admin_level", admin_level);
					{
						mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET level = %d WHERE id = %d;", amount, id);
						mysql_tquery(srp_db, QUERY_BUFFER);
						format(string2, sizeof(string2), "Jugador '%s' [OFF] Recibio El Nivel [%d] :dart: Por el administrador [%s]", name, amount, username);
						new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :cyclone:","","","",0x00ff00,"Spain+ RolePlay","","https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png","");
	                    DCC_AddEmbedField(embed, " :coin: Nivel [OFF]", string2, true);
	                    DCC_SendChannelEmbedMessage(channel,embed);

					}
				}
			}
		}
		mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT id, ip, name, connected, playerid, admin_level FROM player WHERE id = %d;", to_account);
		mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnInfoQueryLoad);
	}
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :gear:","Upss, permisos insuficientes. :shield:","","",0x00ff00,"Spain+ RolePlay","","https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png","");
    DCC_SendChannelEmbedMessage(channel, embed, "");
    return 1;
}

DCMD:pass(user, channel, params[])
{

	new username[33];
	new string2[300], SkinID[99];
	new to_account, new_pass[MAX_PASS_LENGTH + 1];
	DCC_GetUserName(user, username, sizeof(username));
	
    new DCC_Embed:apalah9 = DCC_CreateEmbed();
    DCC_SetEmbedTitle(apalah9, ":blue_heart: Spain+ RolePlay");
    DCC_SetEmbedDescription(apalah9, "**No tienes el rol requerido para usar este comando puto. :grin:**");
    DCC_SetEmbedColor(apalah9, 0x00ff00);
    DCC_SetEmbedFooter(apalah9, "@Spain+ RolePlay", "https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png");
    DCC_SetEmbedThumbnail(apalah9, "https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png");

	new
	bool: hasPermission;

	DCC_HasGuildMemberRole( discordGuild, user, discordRoleDueno, hasPermission );

	if ( hasPermission )
	{
		new DCC_Embed:embeds = DCC_CreateEmbed("Spain+ RolePlay :blue_heart:","**USO: $pass [DBID] [PASS]**","","",0x00ff00,"@Spain+ RolePlay","https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png","https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png","");
		if(sscanf(params, "ds[19]", to_account, new_pass)) return DCC_SendChannelEmbedMessage(channel,embeds);
		inline OnInfoQueryLoad()
		{
			new rows;
			if(cache_get_row_count(rows))
			{
				if(rows)
				{
					new id, name[24], connected, pid, admin_level, skin;
					cache_get_value_name_int(0, "id", id);
					cache_get_value_name(0, "name", name);
					cache_get_value_name_int(0, "connected", connected);
					cache_get_value_name_int(0, "playerid", pid);
					cache_get_value_name_int(0, "admin_level", admin_level);
					cache_get_value_name_int(0, "skin", skin);

					new salt[16], salt_ex[16], pass_ex[64 + 1];
					getRandomSalt(salt);
					format(salt_ex, 16, "%s", salt);
					SHA256_PassHash(new_pass, salt_ex, pass_ex, 64 + 1);
					format(SkinID, sizeof(SkinID), "https://assets.open.mp/assets/images/skins/%d.png", skin);
					format(string2, sizeof(string2), ":bust_in_silhouette: **La password de '%s' [OFF] fue cambiada por [%s] a [%s]** :pick:", name, username, new_pass);
			        //format(string2, sizeof(string2),":bust_in_silhouette: **Usuario [ON] [%s] recibio auto [%d] :race_car: por el administrador [%s]**", PI[to_player][pi_NAME], modelid, username);
                    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :blue_heart:","**:video_game: [Lan-Bot]**","","",0x00ff00,"@Spain+ RolePlay","https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png",SkinID,"");
                    DCC_AddEmbedField(embed, string2, "**PASSWORD** :nut_and_bolt:", true);
                    DCC_SendChannelEmbedMessage(channel,embed);

					mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET salt = '%e', pass = '%e' WHERE id = %d;", salt_ex, pass_ex, id);
					mysql_tquery(srp_db, QUERY_BUFFER);
				}
			}
		}
		mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT id, name, connected, playerid, admin_level, skin FROM player WHERE id = %d;", to_account);
		mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnInfoQueryLoad);
	    new DCC_Message:koman;
	    koman = DCMD_GetCommandMessageId();
        DCC_DeleteMessage(koman);
	    return 1;
    }
    else DCC_SendChannelEmbedMessage(channel,apalah9);
    return 1;
}

DCMD:vpcar(user, channel, params[])
{
    new gname[MAX_PLAYER_NAME],string2[300];
    new to_player, modelid, SkinID[99];
    new username[33];
	DCC_GetUserName(user, username, sizeof(username));
    GetPlayerName(to_player,gname,sizeof(gname));

	new
	bool: hasPermission;

	DCC_HasGuildMemberRole(discordGuild, user, discordRoleDueno, hasPermission);

	if ( hasPermission )
	{

    new DCC_Embed:embeds = DCC_CreateEmbed("Spain+ RolePlay :blue_heart:","**USO: $vpcar [ID] [ID AUTO]**","","",0x00ff00,"@Spaim RolePlay","https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png","https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png","");
    if(sscanf(params,"ud", to_player, modelid)) return DCC_SendChannelEmbedMessage(channel,embeds);
    if(!IsPlayerConnected(to_player)) return DCC_SendChannelMessage(channel, ":x: **Jugador desconectado.** :x:");

    new pvehicles = CountPlayerVehicles(to_player);
   	if(pvehicles >= MAX_SU_VEHICLES) return DCC_SendChannelMessage(channel, ":x: **El jugador no puede tener mas vehiculos.** :x:");
	if(PI[to_player][pi_VIP] == 1)
	{
	if(pvehicles >= MAX_SU_VEHICLES) return DCC_SendChannelMessage(channel, ":x: **El jugador no puede tener mas vehiculos.** :x:");
	}
	if(!PI[to_player][pi_VIP])
	{
	if(pvehicles >= MAX_NU_VEHICLES) return DCC_SendChannelMessage(channel, ":x: **El jugador no puede tener mas vehiculos.** :x:");
	}
	new Float:pos[4];
	GetPlayerPos(to_player, pos[0], pos[1], pos[2]);
	GetPlayerFacingAngle(to_player, pos[3]);

	new vidp = AddPersonalVehicle
	(
    to_player,
    modelid,
    pos[0],
    pos[1],
    pos[2],
    pos[3],
    1,
    1,
    VEHICLE_INFO[ modelid - 400 ][vehicle_info_MAX_GAS]
	);
	if(!vidp) return DCC_SendChannelMessage(channel, ":x: **No se pueden añadir mas vehiculos.** :x:");

    format(SkinID, sizeof(SkinID), "https://assets.open.mp/assets/images/skins/%d.png", PI[to_player][pi_SKIN]);
    format(string2, sizeof(string2),":bust_in_silhouette: **Usuario [ON] [%s] recibio auto [%d] :race_car: por el administrador [%s]**", PI[to_player][pi_NAME], modelid, username);
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :blue_heart:","**:video_game: [Lan-Bog**","","",0x00ff00,"@Spain+ RolePlay","https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png",SkinID,"");
    DCC_AddEmbedField(embed, string2, "**AUTOS** :race_car:", true);
    DCC_SendChannelEmbedMessage(channel,embed);
    ShowPlayerMessage(to_player, "Acabas de recibir un auto ~r~ por administrador ~w~del discord", 2);
    new DCC_Message:koman;
    koman = DCMD_GetCommandMessageId();
    DCC_DeleteMessage(koman);
    return 1;
    }
    new DCC_Embed:embed = DCC_CreateEmbed("Spain+ RolePlay :x:","**No tienes el rol requerido para usar este comando puto. :grin:**","","",0x00ff00,"@Spain+ RolePlay","https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png","https://cdn.discordapp.com/attachments/1051911430934364260/1452754605283868816/1766433904891.png","");
    DCC_SendChannelEmbedMessage(channel, embed, "");
    return 1;
}

CMD:vpcar(playerid, params[])
{
	if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 0;
	
	new to_player, modelid;
	if(sscanf(params, "ud", to_player, modelid)) return SendNotification(playerid, "~r~Modo de uso:~w~ /vpcar <playerid> <modelid>");
	if(!IsPlayerConnected(to_player)) return SendNotification(playerid, "Jugador desconectado.");
	if(modelid < 400 || modelid > 611) return SendNotification(playerid, "Modelo de vehículo no válido.");
	
	new pvehicles = CountPlayerVehicles(to_player);
    
    if (PI[to_player][pi_VIP] > 0) // Si el objetivo es VIP
    {
        if (pvehicles >= MAX_SU_VEHICLES) {
            return SendFormatNotification(playerid, "~r~Error:~w~ El jugador VIP ya tiene el máximo de autos (%d).", MAX_SU_VEHICLES);
        }
    }
    else // Si el objetivo es usuario normal
    {
        if (pvehicles >= MAX_NU_VEHICLES) {
            return SendFormatNotification(playerid, "~r~Error:~w~ El jugador ya tiene el máximo de autos (%d).", MAX_NU_VEHICLES);
        }
    }
		
	new Float:pos[4];
	GetPlayerPos(to_player, pos[0], pos[1], pos[2]);
	GetPlayerFacingAngle(to_player, pos[3]);
	
	new vid = AddPersonalVehicle
	(
		to_player,
		modelid,
		pos[0],
		pos[1],
		pos[2],
		pos[3],
		1,
		1,
		VEHICLE_INFO[ modelid - 400 ][vehicle_info_MAX_GAS]
	);
	if(!vid) return SendNotification(playerid, "No se pueden añadir más vehículos.");
	PLAYER_VEHICLES[vid][player_vehicle_PARKING] = -1;
	SavePlayerVehicle(playerid, vid, false); 
	SendCmdLogToAdmins(playerid, "vpcar", params);
	return 1;
}

CMD:revivir(playerid, params[])
{
	new to_player;
	if(sscanf(params, "u", to_player)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /revivir <playerid>", 2);

	if(PI[to_player][pi_STATE] != ROLEPLAY_STATE_CRACK) return ShowPlayerMessage(playerid, "Esta persona no está herida.", 2);

	DisablePlayerInjuredMark(to_player);
	PI[to_player][pi_STATE] = ROLEPLAY_STATE_NORMAL;
	if(PI[to_player][pi_VIP]) SetPlayerHealthEx(to_player, 20.0);
	else SetPlayerHealthEx(to_player, 20.0);
	ApplyAnimation(to_player, "CARRY", "crry_prtial", 4.1, 0, 0, 0, 0, 0, true);
	ClearAnimations(to_player);
	clearInjuredVars(to_player);
	SendCmdLogToAdmins(playerid, "revivir", params);
	EquiparManos(to_player);
	return 1;
}
alias:revivir("revive");


CMD:capo(playerid, params[])
{
	if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER)
	{
		new vehicleid = GetPlayerVehicleID(playerid);
		if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_BONNET])
		{
			GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_BONNET] = 0;
			UpdateVehicleParams(vehicleid);

			if(PLAYER_VEHICLES[vehicleid][player_vehicle_OWNER_ID] == PI[playerid][pi_ID]) Auto_SendPlayerAction(playerid, "ha cerrado el capo de su vehiculo.");
			else Auto_SendPlayerAction(playerid, "ha cerrado el capo del vehiculo.");
		}
		else
		{
			GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_BONNET] = 1;
			UpdateVehicleParams(vehicleid);

			if(PLAYER_VEHICLES[vehicleid][player_vehicle_OWNER_ID] == PI[playerid][pi_ID]) Auto_SendPlayerAction(playerid, "ha abierto el capo de su vehiculo.");
			else Auto_SendPlayerAction(playerid, "ha abierto el capo del vehiculo.");
		}
	}
	else SendFormatNotification(playerid, "No estás conduciendo ningún vehiculo.", 2);
	return 1;
}


CMD:tuning(playerid, params[])
{
	if(GetPlayerState(playerid) != PLAYER_STATE_DRIVER) return ShowPlayerMessage(playerid, "No estás en nigún vehiculo.", 2);
	if(PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || PI[playerid][pi_STATE] == ROLEPLAY_STATE_JAIL || PI[playerid][pi_STATE] == ROLEPLAY_STATE_ARRESTED) return ShowPlayerMessage(playerid, "Ahora no puedes usar este comando.", 2);
	if(GetPlayerInterior(playerid) != 0 || GetPlayerVirtualWorld(playerid) != 0) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);
	if(!IsPlayerInRangeOfPoint(playerid, 5.0, 263.592102, 22.960014, 2.170951)) return ShowPlayerMessage(playerid, "No estás en el lugar adecuado.", 2);

	new vehicleid = GetPlayerVehicleID(playerid);
	if(!PLAYER_VEHICLES[vehicleid][player_vehicle_VALID]) return ShowPlayerMessage(playerid, "Solo puedes tunear tus vehiculos personales.", 2);
	if(PLAYER_VEHICLES[vehicleid][player_vehicle_OWNER_ID] != PI[playerid][pi_ID]) return ShowPlayerMessage(playerid, "Solo puedes tunear tus vehiculos personales.", 2);
	if(PI[playerid][pi_LEVEL] < 2) return ShowPlayerMessage(playerid, "Debes de ser al menos nivel 2 para tunear vehiculos aquí.", 2);

	PLAYER_TEMP[playerid][pt_IN_TUNING_GARAGE] = true;
	PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] = vehicleid;

	SetVehiclePosEx(vehicleid, 263.592102, 22.960014, 2.170951);
	SetVehicleZAngle(vehicleid, 0.0);
	SetVehicleVelocity(vehicleid, 0.0, 0.0, 0.0);
	SetVehicleVirtualWorldEx(vehicleid, playerid + MAX_PLAYERS);
	SetPlayerVirtualWorld(playerid, playerid + MAX_PLAYERS);

	GLOBAL_VEHICLES[vehicleid][gb_vehicle_PARAMS_ENGINE] = 0;
	UpdateVehicleParams(vehicleid);
	HidePlayerSpeedoMeter(playerid);
	SetCameraBehindPlayer(playerid);

	ShowDialog(playerid, DIALOG_VOBJECT_MENU);
	return 1;
}

stock GetPlayerCameraLookAt(playerid, &Float:X, &Float:Y, &Float:Z)
{
    new Float:pos[6];
    GetPlayerCameraPos(playerid, pos[0], pos[1], pos[2]);
    GetPlayerCameraFrontVector(playerid, pos[3], pos[4], pos[5]);
    X = floatadd(pos[0], pos[3]);
    Y = floatadd(pos[1], pos[4]);
    Z = floatadd(pos[2], pos[5]);
    return 1;
}

UpdateTuningShop(playerid)
{
	if(PLAYER_TEMP[playerid][pt_TUNING_PICKUP] != INVALID_STREAMER_ID)
	{
		DestroyDynamicPickup(PLAYER_TEMP[playerid][pt_TUNING_PICKUP]);
		PLAYER_TEMP[playerid][pt_TUNING_PICKUP] = INVALID_STREAMER_ID;
	}
	PLAYER_TEMP[playerid][pt_TUNING_PICKUP] = CreateDynamicPickup(Tuning_Shop_Objects[ PLAYER_TEMP[playerid][pt_SELECT_TUNING_OBJECT] ][tuning_object_MODELID], 1, 268.2404, 11.4559, 2.4222, playerid + MAX_PLAYERS, -1, playerid);

	new td_str[128];
	format(td_str, sizeof td_str, "Objeto:_%d/%d~n~Precio:_$%s", PLAYER_TEMP[playerid][pt_SELECT_TUNING_OBJECT] + 1, sizeof Tuning_Shop_Objects, number_format_thousand( Tuning_Shop_Objects[ PLAYER_TEMP[playerid][pt_SELECT_TUNING_OBJECT] ][tuning_object_PRICE] ) );
	PlayerTextDrawSetString(playerid, PlayerTextdraws[playerid][ptextdraw_TUNING_SHOP], td_str);
	return 1;
}

CancelPlayerTuningShop(playerid)
{
	SetCameraBehindPlayer(playerid);

	if(PLAYER_TEMP[playerid][pt_TUNING_PICKUP] != INVALID_STREAMER_ID)
	{
		DestroyDynamicPickup(PLAYER_TEMP[playerid][pt_TUNING_PICKUP]);
		PLAYER_TEMP[playerid][pt_TUNING_PICKUP] = INVALID_STREAMER_ID;
	}
	TextDrawHideForPlayer(playerid, Textdraws[textdraw_SHOP_TUNING][0]);
	TextDrawHideForPlayer(playerid, Textdraws[textdraw_SHOP_TUNING][1]);
	TextDrawHideForPlayer(playerid, Textdraws[textdraw_SHOP_TUNING][2]);
	TextDrawHideForPlayer(playerid, Textdraws[textdraw_SHOP_TUNING][3]);
	TextDrawHideForPlayer(playerid, Textdraws[textdraw_SHOP_TUNING][4]);
	PlayerTextDrawHide(playerid, PlayerTextdraws[playerid][ptextdraw_TUNING_SHOP]);
	CancelSelectTextDrawEx(playerid);

	PLAYER_TEMP[playerid][pt_TUNING_GARAGE_SHOP] = false;
	return 1;
}

GetVehicleFreeObjectSlot(vehicleid)
{
	for(new i = 0; i != MAX_SU_VOBJECTS; i ++)
	{
		if(!VEHICLE_OBJECTS[vehicleid][i][vobject_VALID]) return i;
	}
	return -1;
}

UpdateVehicleAttachedObject(vehicleid, slot, material = false)
{
	if(VEHICLE_OBJECTS[vehicleid][slot][vobject_ATTACHED])
	{
		if(VEHICLE_OBJECTS[vehicleid][slot][vobject_OBJECT_ID] == INVALID_STREAMER_ID)
		{
			VEHICLE_OBJECTS[vehicleid][slot][vobject_OBJECT_ID] = 	CreateDynamicObject
																	(
																		VEHICLE_OBJECTS[vehicleid][slot][vobject_MODELID],
																		0.0,
																		0.0,
																		0.0,
																		0.0,
																		0.0,
																		0.0
																	);
		}

		if(material)
		{
			switch(VEHICLE_OBJECTS[vehicleid][slot][vobject_TYPE])
			{
				case VOBJECT_TYPE_OBJECT:
				{
					for(new i = 0; i != MAX_VEHICLE_OBJECTS_INDEXS; i ++)
					{
						SetDynamicObjectMaterial(VEHICLE_OBJECTS[vehicleid][slot][vobject_OBJECT_ID], i, -1, "none", "none", VEHICLE_OBJECTS[vehicleid][slot][vobject_COLORS][i]);
					}
				}
				case VOBJECT_TYPE_TEXT:
				{
					SetDynamicObjectMaterialText
					(
						VEHICLE_OBJECTS[vehicleid][slot][vobject_OBJECT_ID],
						0,
						VEHICLE_OBJECTS[vehicleid][slot][vobject_text_TEXT],
						130,
						VEHICLE_OBJECTS[vehicleid][slot][vobject_text_FONT],
						VEHICLE_OBJECTS[vehicleid][slot][vobject_text_FONT_SIZE],
						VEHICLE_OBJECTS[vehicleid][slot][vobject_text_BOLD],
						VEHICLE_OBJECTS[vehicleid][slot][vobject_text_FONT_COLOR],
						0,
						OBJECT_MATERIAL_TEXT_ALIGN_CENTER
					);
				}
				case VOBJECT_TYPE_COUNTRY_FLAG: TextureCountryFlag(VEHICLE_OBJECTS[vehicleid][slot][vobject_OBJECT_ID], 1, VEHICLE_OBJECTS[vehicleid][slot][vobject_COLORS][0]);
				case VOBJECT_TYPE_COUNTRY_PANEL: TextureCountryFlag(VEHICLE_OBJECTS[vehicleid][slot][vobject_OBJECT_ID], 0, VEHICLE_OBJECTS[vehicleid][slot][vobject_COLORS][0]);
			}
		}

		AttachDynamicObjectToVehicle
		(
			VEHICLE_OBJECTS[vehicleid][slot][vobject_OBJECT_ID],
			vehicleid,
			VEHICLE_OBJECTS[vehicleid][slot][vobject_OFFSET][0],
			VEHICLE_OBJECTS[vehicleid][slot][vobject_OFFSET][1],
			VEHICLE_OBJECTS[vehicleid][slot][vobject_OFFSET][2],
			VEHICLE_OBJECTS[vehicleid][slot][vobject_ROT][0],
			VEHICLE_OBJECTS[vehicleid][slot][vobject_ROT][1],
			VEHICLE_OBJECTS[vehicleid][slot][vobject_ROT][2]
		);
	}
	else
	{
		if(VEHICLE_OBJECTS[vehicleid][slot][vobject_OBJECT_ID] != INVALID_STREAMER_ID)
		{
			DestroyDynamicObject(VEHICLE_OBJECTS[vehicleid][slot][vobject_OBJECT_ID]);
			VEHICLE_OBJECTS[vehicleid][slot][vobject_OBJECT_ID] = INVALID_STREAMER_ID;
		}
	}
	return 1;
}

EditVehicleObject(playerid, vehicleid, slot)
{
	if(PLAYER_TEMP[playerid][pt_PIVOT_OBJECT] != INVALID_OBJECT_ID)
	{
		DestroyPlayerObject(playerid, PLAYER_TEMP[playerid][pt_PIVOT_OBJECT]);
		PLAYER_TEMP[playerid][pt_PIVOT_OBJECT] = INVALID_OBJECT_ID;
	}

	PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] = slot;
	GetVehiclePos(vehicleid, GLOBAL_VEHICLES[vehicleid][gb_vehicle_POS][0], GLOBAL_VEHICLES[vehicleid][gb_vehicle_POS][1], GLOBAL_VEHICLES[vehicleid][gb_vehicle_POS][2]);

	new Float:pos[3];
	pos[0] = GLOBAL_VEHICLES[vehicleid][gb_vehicle_POS][0] + VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_OFFSET][0];
	pos[1] = GLOBAL_VEHICLES[vehicleid][gb_vehicle_POS][1] + VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_OFFSET][1];
	pos[2] = GLOBAL_VEHICLES[vehicleid][gb_vehicle_POS][2] + VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_OFFSET][2];

	PLAYER_TEMP[playerid][pt_OLD_EDIT_VOBJECT_POS][0] = VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_OFFSET][0];
	PLAYER_TEMP[playerid][pt_OLD_EDIT_VOBJECT_POS][1] = VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_OFFSET][1];
	PLAYER_TEMP[playerid][pt_OLD_EDIT_VOBJECT_POS][2] = VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_OFFSET][2];
	PLAYER_TEMP[playerid][pt_OLD_EDIT_VOBJECT_POS][3] = VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_ROT][0];
	PLAYER_TEMP[playerid][pt_OLD_EDIT_VOBJECT_POS][4] = VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_ROT][1];
	PLAYER_TEMP[playerid][pt_OLD_EDIT_VOBJECT_POS][5] = VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_ROT][2];

	PLAYER_TEMP[playerid][pt_PIVOT_OBJECT] = CreatePlayerObject(playerid, 999, pos[0], pos[1], pos[2], VEHICLE_OBJECTS[vehicleid][slot][vobject_ROT][0], VEHICLE_OBJECTS[vehicleid][slot][vobject_ROT][1], VEHICLE_OBJECTS[vehicleid][slot][vobject_ROT][2]);
	SetPlayerObjectMaterial(playerid, PLAYER_TEMP[playerid][pt_PIVOT_OBJECT], 0, 0, "null", "null");
	SetPlayerObjectMaterial(playerid, PLAYER_TEMP[playerid][pt_PIVOT_OBJECT], 1, 0, "null", "null");

	Streamer_Update(playerid);
	EditPlayerObject(playerid, PLAYER_TEMP[playerid][pt_PIVOT_OBJECT]);
	return 1;
}

public OnPlayerEditObject(playerid, playerobject, objectid, response, Float:fX, Float:fY, Float:fZ, Float:fRotX, Float:fRotY, Float:fRotZ)
{
	if(playerobject)
	{
		if(objectid == PLAYER_TEMP[playerid][pt_PIVOT_OBJECT])
		{
			switch(response)
			{
				case EDIT_RESPONSE_CANCEL:
				{
					if(PLAYER_TEMP[playerid][pt_PIVOT_OBJECT] != INVALID_OBJECT_ID)
					{
						DestroyPlayerObject(playerid, PLAYER_TEMP[playerid][pt_PIVOT_OBJECT]);
						PLAYER_TEMP[playerid][pt_PIVOT_OBJECT] = INVALID_OBJECT_ID;
					}
					VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_OFFSET][0] = PLAYER_TEMP[playerid][pt_OLD_EDIT_VOBJECT_POS][0];
					VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_OFFSET][1] = PLAYER_TEMP[playerid][pt_OLD_EDIT_VOBJECT_POS][1];
					VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_OFFSET][2] = PLAYER_TEMP[playerid][pt_OLD_EDIT_VOBJECT_POS][2];
					VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_ROT][0] = PLAYER_TEMP[playerid][pt_OLD_EDIT_VOBJECT_POS][3];
					VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_ROT][1] = PLAYER_TEMP[playerid][pt_OLD_EDIT_VOBJECT_POS][4];
					VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_ROT][2] = PLAYER_TEMP[playerid][pt_OLD_EDIT_VOBJECT_POS][5];
					UpdateVehicleAttachedObject(PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID], PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT]);
					Streamer_Update(playerid);

					ShowPlayerMessage(playerid, "Has cancelado la edición.", 2);
					ShowDialog(playerid, DIALOG_VOBJECT_OBJECT);
				}
				case EDIT_RESPONSE_FINAL:
				{
					if(PLAYER_TEMP[playerid][pt_PIVOT_OBJECT] != INVALID_OBJECT_ID)
					{
						DestroyPlayerObject(playerid, PLAYER_TEMP[playerid][pt_PIVOT_OBJECT]);
						PLAYER_TEMP[playerid][pt_PIVOT_OBJECT] = INVALID_OBJECT_ID;
					}

					new Float:v_size[3];
					GetVehicleModelInfo(GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][gb_vehicle_MODELID], VEHICLE_MODEL_INFO_SIZE, v_size[0], v_size[1], v_size[2]);

					if	(
							(VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_OFFSET][0] >= v_size[0] || -v_size[0] >= VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_OFFSET][0]) ||
							(VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_OFFSET][1] >= v_size[1] || -v_size[1] >= VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_OFFSET][1]) ||
							(VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_OFFSET][2] >= v_size[2] || -v_size[2] >= VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_OFFSET][2])
						)
					{
						ShowPlayerMessage(playerid, "La posición del objeto está demasiado lejos del vehiculo.", 2);
						VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_OFFSET][0] = PLAYER_TEMP[playerid][pt_OLD_EDIT_VOBJECT_POS][0];
						VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_OFFSET][1] = PLAYER_TEMP[playerid][pt_OLD_EDIT_VOBJECT_POS][1];
						VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_OFFSET][2] = PLAYER_TEMP[playerid][pt_OLD_EDIT_VOBJECT_POS][2];
						VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_ROT][0] = PLAYER_TEMP[playerid][pt_OLD_EDIT_VOBJECT_POS][3];
						VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_ROT][1] = PLAYER_TEMP[playerid][pt_OLD_EDIT_VOBJECT_POS][4];
						VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_ROT][2] = PLAYER_TEMP[playerid][pt_OLD_EDIT_VOBJECT_POS][5];
						UpdateVehicleAttachedObject(PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID], PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT]);
						Streamer_Update(playerid);
					}

					VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_ATTACHED] = true;
					ShowPlayerMessage(playerid, "Objeto actualizado.", 2);
					ShowDialog(playerid, DIALOG_VOBJECT_OBJECT);
				}
				case EDIT_RESPONSE_UPDATE:
				{
					VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_OFFSET][0] = fX - GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][gb_vehicle_POS][0];
					VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_OFFSET][1] = fY - GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][gb_vehicle_POS][1];
					VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_OFFSET][2] = fZ - GLOBAL_VEHICLES[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][gb_vehicle_POS][2];
					VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_ROT][0] = fRotX;
					VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_ROT][1] = fRotY;
					VEHICLE_OBJECTS[ PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID] ][ PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT] ][vobject_ROT][2] = fRotZ;
					UpdateVehicleAttachedObject(PLAYER_TEMP[playerid][pt_TUNING_GARAGE_VEHICLEID], PLAYER_TEMP[playerid][pt_TUNING_EDIT_SLOT]);
				}
			}
		}
	}
	return 1;
}

SetVehicleVirtualWorldEx(vehicleid, worldid)
{
	GLOBAL_VEHICLES[vehicleid][gb_vehicle_TP_IMMUNITY] = gettime() + 5;
	GLOBAL_VEHICLES[vehicleid][gb_vehicle_WORLD] = worldid;

	for(new i = 0; i != MAX_SU_VOBJECTS; i ++)
	{
		if(!VEHICLE_OBJECTS[vehicleid][i][vobject_VALID]) continue;
		if(VEHICLE_OBJECTS[vehicleid][i][vobject_OBJECT_ID] == INVALID_STREAMER_ID) continue;

		Streamer_SetIntData(STREAMER_TYPE_OBJECT, VEHICLE_OBJECTS[vehicleid][i][vobject_OBJECT_ID], E_STREAMER_WORLD_ID, GLOBAL_VEHICLES[vehicleid][gb_vehicle_WORLD]);
	}

	SetVehicleVirtualWorld(vehicleid, worldid);
	return 1;
}

TextureCountryFlag(objectid, index, country)
{
	new text_flag[128], material_size, font[24], font_size, text_alignment;
	switch(country)
	{
		case 0: // Alemania
		{
			text_flag		= "{231f20}ggg\n{e01f26}ggg\n{e3bc22}ggg";
			material_size	= 60;
			font			= "Webdings";
			font_size		= 55;
			text_alignment	= 1;
		}
		case 1: // Argentina
		{
			text_flag		= "{1FBEF2}ggg\n{ffffff}ggg\n{1FBEF2}ggg";
			material_size	= 60;
			font			= "Webdings";
			font_size		= 55;
			text_alignment	= 1;
		}
		case 2: // Austria
		{
			text_flag		= "{d81e05}ggg\n{ffffff}ggg\n{d81e05}ggg";
			material_size	= 60;
			font			= "Webdings";
			font_size		= 55;
			text_alignment	= 1;
		}
		case 3: // Belgica
		{
			text_flag		= "{000000}g{ffd600}g{e80000}g\n{000000}g{ffd600}g{e80000}g\n{000000}g{ffd600}g{e80000}g";
			material_size	= 60;
			font			= "Webdings";
			font_size		= 55;
			text_alignment	= 1;
		}
		case 4: // Bolivia
		{
			text_flag		= "{d52b1e}ggg\n{f9e300}ggg\n{007934}ggg";
			material_size	= 60;
			font			= "Webdings";
			font_size		= 55;
			text_alignment	= 1;
		}
		case 5: // Bulgaria
		{
			text_flag		= "{ffffff}ggg\n{00966e}ggg\n{d62612}ggg";
			material_size	= 60;
			font			= "Webdings";
			font_size		= 55;
			text_alignment	= 1;
		}
		case 6: // Chile
		{
			text_flag		= "{04019a}g{ffffff}gg\n{fe0002}ggg";
			material_size	= 60;
			font			= "Webdings";
			font_size		= 55;
			text_alignment	= 1;
		}
		case 7: // Colombia
		{
			text_flag		= "{fcd116}ggg\n{003893}ggg\n{ce1126}ggg";
			material_size	= 60;
			font			= "Webdings";
			font_size		= 55;
			text_alignment	= 0;
		}
		case 8: // El Salvador
		{
			text_flag		= "{0f47af}ggg\n{ffffff}ggg\n{0f47af}ggg";
			material_size	= 60;
			font			= "Webdings";
			font_size		= 55;
			text_alignment	= 1;
		}
		case 9: // España
		{
			text_flag		= "{c60b1e}ggg\n{ffc400}ggg\n{c60b1e}ggg";
			material_size	= 60;
			font			= "Webdings";
			font_size		= 55;
			text_alignment	= 1;
		}
		case 10: // Estonia
		{
			text_flag		= "{3a75c4}ggg\n{000000}ggg\n{ffffff}ggg";
			material_size	= 60;
			font			= "Webdings";
			font_size		= 55;
			text_alignment	= 1;
		}
		case 11: // Francia
		{
			text_flag		= "{00209f}g{ffffff}g{f42a41}g\n{00209f}g{ffffff}g{f42a41}g\n{00209f}g{ffffff}g{f42a41}g";
			material_size	= 60;
			font			= "Webdings";
			font_size		= 55;
			text_alignment	= 1;
		}
		case 12: // Guatemala
		{
			text_flag		= "{4997d0}g{ffffff}g{4997d0}g\n{4997d0}g{ffffff}g{4997d0}g\n{4997d0}g{ffffff}g{4997d0}g";
			material_size	= 60;
			font			= "Webdings";
			font_size		= 55;
			text_alignment	= 1;
		}
		case 13: // Holanda
		{
			text_flag		= "{ad1b28}ggg\n{fefefe}ggg\n{204589}ggg";
			material_size	= 60;
			font			= "Webdings";
			font_size		= 55;
			text_alignment	= 1;
		}
		case 14: // Hungria
		{
			text_flag		= "{d2232c}ggg\n{ffffff}ggg\n{008d46}ggg";
			material_size	= 60;
			font			= "Webdings";
			font_size		= 55;
			text_alignment	= 1;
		}
		case 15: // India
		{
			text_flag		= "{ff9933}ggg\n{ffffff}ggg\n{138808}ggg";
			material_size	= 60;
			font			= "Webdings";
			font_size		= 55;
			text_alignment	= 1;
		}
		case 16: // Indonesia
		{
			text_flag		= "{ce1126}ggg\n{ffffff}ggg";
			material_size	= 60;
			font			= "Webdings";
			font_size		= 60;
			text_alignment	= 1;
		}
		case 17: // Irlanda
		{
			text_flag		= "{009e60}g{ffffff}g{f77f00}g\n{009e60}g{ffffff}g{f77f00}g\n{009e60}g{ffffff}g{f77f00}g";
			material_size	= 60;
			font			= "Webdings";
			font_size		= 55;
			text_alignment	= 1;
		}
		case 18: // Italia
		{
			text_flag		= "{009246}g{ffffff}g{ce2b37}g\n{009246}g{ffffff}g{ce2b37}g\n{009246}g{ffffff}g{ce2b37}g";
			material_size	= 60;
			font			= "Webdings";
			font_size		= 55;
			text_alignment	= 1;
		}
		case 19: // Lituania
		{
			text_flag		= "{fdb913}ggg\n{006a44}ggg\n{c1272d}ggg";
			material_size	= 60;
			font			= "Webdings";
			font_size		= 55;
			text_alignment	= 1;
		}
		case 20: // Luxemburgo
		{
			text_flag		= "{ef2b2d}ggg\n{ffffff}ggg\n{00a3dd}ggg";
			material_size	= 60;
			font			= "Webdings";
			font_size		= 55;
			text_alignment	= 1;
		}
		case 21: // Madagascar
		{
			text_flag		= "{ffffff}g{d11f33}gg\n{ffffff}g{00a651}gg";
			material_size	= 60;
			font			= "Webdings";
			font_size		= 60;
			text_alignment	= 1;
		}
		case 22: // Malta
		{
			text_flag		= "{ffffff}g{d11f33}g\n{ffffff}g{d11f33}g\n{ffffff}g{d11f33}g";
			material_size	= 60;
			font			= "Webdings";
			font_size		= 60;
			text_alignment	= 1;
		}
		case 23: // Mali
		{
			text_flag		= "{14b53a}g{fcd116}g{ce1126}g\n{14b53a}g{fcd116}g{ce1126}g\n{14b53a}g{fcd116}g{ce1126}g";
			material_size	= 60;
			font			= "Webdings";
			font_size		= 55;
			text_alignment	= 1;
		}
		case 24: // México
		{
			text_flag		= "{006847}g{ffffff}g{ce1126}g\n{006847}g{ffffff}g{ce1126}g\n{006847}g{ffffff}g{ce1126}g";
			material_size	= 60;
			font			= "Webdings";
			font_size		= 55;
			text_alignment	= 1;
		}
		case 25: // Nigeria
		{
			text_flag		= "{008751}g{ffffff}g{008751}g\n{008751}g{ffffff}g{008751}g\n{008751}g{ffffff}g{008751}g";
			material_size	= 60;
			font			= "Webdings";
			font_size		= 55;
			text_alignment	= 1;
		}
		case 26: // Panamá
		{
			text_flag		= "{ffffff}g{d21034}g\n{0067c6}g{ffffff}g";
			material_size	= 60;
			font			= "Webdings";
			font_size		= 60;
			text_alignment	= 0;
		}
		case 27: // Paraguay
		{
			text_flag		= "{d52b1e}ggg\n{ffffff}ggg\n{0038a8}ggg";
			material_size	= 60;
			font			= "Webdings";
			font_size		= 55;
			text_alignment	= 1;
		}
		case 28: // Perú
		{
			text_flag		= "{e30000}g{ffffff}g{e30000}g\n{e30000}g{ffffff}g{e30000}g\n{e30000}g{ffffff}g{e30000}g";
			material_size	= 60;
			font			= "Webdings";
			font_size		= 55;
			text_alignment	= 1;
		}
		case 29: // Polonia
		{
			text_flag		= "{ffffff}ggg\n{dc143c}ggg";
			material_size	= 60;
			font			= "Webdings";
			font_size		= 60;
			text_alignment	= 1;
		}
		case 30: // Rumania
		{
			text_flag		= "{002b7f}g{fcd116}g{ce1126}g\n{002b7f}g{fcd116}g{ce1126}g\n{002b7f}g{fcd116}g{ce1126}g";
			material_size	= 60;
			font			= "Webdings";
			font_size		= 55;
			text_alignment	= 1;
		}
		case 31: // Rusia
		{
			text_flag		= "{ffffff}ggg\n{054da2}ggg\n{e01f26}ggg";
			material_size	= 60;
			font			= "Webdings";
			font_size		= 55;
			text_alignment	= 1;
		}
		case 32: // Ucrania
		{
			text_flag		= "{3a75c4}ggg\n{f9dd16}ggg";
			material_size	= 60;
			font			= "Webdings";
			font_size		= 60;
			text_alignment	= 1;
		}
		case 33: // Venezuela
		{
			text_flag		= "{f7d117}ggg\n{0033ab}ggg\n{cf142b}ggg";
			material_size	= 60;
			font			= "Webdings";
			font_size		= 55;
			text_alignment	= 1;
		}
	}

	SetDynamicObjectMaterialText
	(
		objectid,
		index,
		text_flag,
		material_size,
		font,
		font_size,
		0,
		0xFFFFFFFF,
		0,
		text_alignment
	);
	return 1;
}

RegisterNewVehicleObject(vehicleid, slot)
{
	inline OnVobjectInserted()
	{
		VEHICLE_OBJECTS[vehicleid][slot][vobject_ID] = cache_insert_id();
	}

	mysql_format
	(
		srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER,
		"\
			INSERT INTO vobjects (id_vehicle, type, name, modelid, off_x, off_y, off_z, rot_x, rot_y, rot_z, attached, color0, color1, color2, color3, color4, text, font, fontsize, fontbold, fontcolor)\
			VALUES(%d, %d, '%e', %d, %f, %f, %f, %f, %f, %f, %d, %d, %d, %d, %d, %d, '%e', '%e', %d, %d, %d);\
		",
			PLAYER_VEHICLES[vehicleid][player_vehicle_ID], VEHICLE_OBJECTS[vehicleid][slot][vobject_TYPE], VEHICLE_OBJECTS[vehicleid][slot][vobject_NAME], VEHICLE_OBJECTS[vehicleid][slot][vobject_MODELID],
			VEHICLE_OBJECTS[vehicleid][slot][vobject_OFFSET][0], VEHICLE_OBJECTS[vehicleid][slot][vobject_OFFSET][1], VEHICLE_OBJECTS[vehicleid][slot][vobject_OFFSET][2],
			VEHICLE_OBJECTS[vehicleid][slot][vobject_ROT][0], VEHICLE_OBJECTS[vehicleid][slot][vobject_ROT][1], VEHICLE_OBJECTS[vehicleid][slot][vobject_ROT][2],
			VEHICLE_OBJECTS[vehicleid][slot][vobject_ATTACHED], VEHICLE_OBJECTS[vehicleid][slot][vobject_COLORS][0], VEHICLE_OBJECTS[vehicleid][slot][vobject_COLORS][1], VEHICLE_OBJECTS[vehicleid][slot][vobject_COLORS][2],
			VEHICLE_OBJECTS[vehicleid][slot][vobject_COLORS][3], VEHICLE_OBJECTS[vehicleid][slot][vobject_COLORS][4], VEHICLE_OBJECTS[vehicleid][slot][vobject_text_TEXT], VEHICLE_OBJECTS[vehicleid][slot][vobject_text_FONT],
			VEHICLE_OBJECTS[vehicleid][slot][vobject_text_FONT_SIZE], VEHICLE_OBJECTS[vehicleid][slot][vobject_text_BOLD], VEHICLE_OBJECTS[vehicleid][slot][vobject_text_FONT_COLOR]
	);
	mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnVobjectInserted);
	return 1;
}

stock HexToIntEx(const str[], transparency = 255)
{
    static r = 0, g = 0, b = 0;
    new len = strlen(str);

    if (len != 6)
    {
        return -1;
    }

    r = (HexCharToInt(str[0]) * 16) + HexCharToInt(str[1]);
    g = (HexCharToInt(str[2]) * 16) + HexCharToInt(str[3]);
    b = (HexCharToInt(str[4]) * 16) + HexCharToInt(str[5]);

    return (r << 24) | (g << 16) | (b << 8) | transparency;
}

stock HexCharToInt(const c)
{
    if (c >= '0' && c <= '9')
    {
        return c - '0';
    }
    else if (c >= 'A' && c <= 'F')
    {
        return c - 'A' + 10;
    }
    else if (c >= 'a' && c <= 'f')
    {
        return c - 'a' + 10;
    }
    return 0;
}

UpdateVehicleObject(vehicleid, slot)
{
	mysql_format
	(
		srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER,
		"\
			UPDATE vobjects SET \
				id_vehicle = %d,\
				type = %d,\
				name = '%e',\
				modelid = %d,\
				off_x = %f,\
				off_y = %f,\
				off_z = %f,\
				rot_x = %f,\
				rot_y = %f,\
				rot_z = %f,\
				attached = %d,\
				color0 = %d,\
				color1 = %d,\
				color2 = %d,\
				color3 = %d,\
				color4 = %d,\
				text = '%e',\
				font = '%e',\
				fontsize = %d,\
				fontbold = %d,\
				fontcolor = %d \
			WHERE id = %d;\
		",
			PLAYER_VEHICLES[vehicleid][player_vehicle_ID], VEHICLE_OBJECTS[vehicleid][slot][vobject_TYPE], VEHICLE_OBJECTS[vehicleid][slot][vobject_NAME], VEHICLE_OBJECTS[vehicleid][slot][vobject_MODELID],
			VEHICLE_OBJECTS[vehicleid][slot][vobject_OFFSET][0], VEHICLE_OBJECTS[vehicleid][slot][vobject_OFFSET][1], VEHICLE_OBJECTS[vehicleid][slot][vobject_OFFSET][2],
			VEHICLE_OBJECTS[vehicleid][slot][vobject_ROT][0], VEHICLE_OBJECTS[vehicleid][slot][vobject_ROT][1], VEHICLE_OBJECTS[vehicleid][slot][vobject_ROT][2],
			VEHICLE_OBJECTS[vehicleid][slot][vobject_ATTACHED], VEHICLE_OBJECTS[vehicleid][slot][vobject_COLORS][0], VEHICLE_OBJECTS[vehicleid][slot][vobject_COLORS][1],
			VEHICLE_OBJECTS[vehicleid][slot][vobject_COLORS][2], VEHICLE_OBJECTS[vehicleid][slot][vobject_COLORS][3], VEHICLE_OBJECTS[vehicleid][slot][vobject_COLORS][4],
			VEHICLE_OBJECTS[vehicleid][slot][vobject_text_TEXT], VEHICLE_OBJECTS[vehicleid][slot][vobject_text_FONT], VEHICLE_OBJECTS[vehicleid][slot][vobject_text_FONT_SIZE],
			VEHICLE_OBJECTS[vehicleid][slot][vobject_text_BOLD], VEHICLE_OBJECTS[vehicleid][slot][vobject_text_FONT_COLOR],

			VEHICLE_OBJECTS[vehicleid][slot][vobject_ID]
	);
	mysql_tquery(srp_db, QUERY_BUFFER);
	return 1;
}

FixTextDrawString(message[], bool:space = false) {
	for(new len = strlen(message), pos; pos < len; pos ++)
	{
		switch(message[pos])
		{
			case 'à': message[pos] = 151;
			case 'á': message[pos] = 152;
			case 'â': message[pos] = 153;
			case 'ä': message[pos] = 154;
			case 'À': message[pos] = 128;
			case 'Á': message[pos] = 129;
			case 'Â': message[pos] = 130;
			case 'Ä': message[pos] = 131;
			case 'è': message[pos] = 157;
			case 'é': message[pos] = 158;
			case 'ê': message[pos] = 159;
			case 'ë': message[pos] = 160;
			case 'È': message[pos] = 134;
			case 'É': message[pos] = 135;
			case 'Ê': message[pos] = 136;
			case 'Ë': message[pos] = 137;
			case 'ì': message[pos] = 161;
			case 'í': message[pos] = 162;
			case 'î': message[pos] = 163;
			case 'ï': message[pos] = 164;
			case 'Ì': message[pos] = 138;
			case 'Í': message[pos] = 139;
			case 'Î': message[pos] = 140;
			case 'Ï': message[pos] = 141;
			case 'ò': message[pos] = 165;
			case 'ó': message[pos] = 166;
			case 'ô': message[pos] = 167;
			case 'ö': message[pos] = 168;
			case 'Ò': message[pos] = 142;
			case 'Ó': message[pos] = 143;
			case 'Ô': message[pos] = 144;
			case 'Ö': message[pos] = 145;
			case 'ù': message[pos] = 169;
			case 'ú': message[pos] = 170;
			case 'û': message[pos] = 171;
			case 'ü': message[pos] = 172;
			case 'Ù': message[pos] = 146;
			case 'Ú': message[pos] = 147;
			case 'Û': message[pos] = 148;
			case 'Ü': message[pos] = 149;
			case 'ñ': message[pos] = 174;
			case 'Ñ': message[pos] = 173;
			case '¡': message[pos] = 64;
			case '¿': message[pos] = 175;
			case '`': message[pos] = 177;
			case '&': message[pos] = 38;
			case ' ': {
				if(space) {
					message[pos] = '_';
				}
			}
			default:  message[pos] = message[pos];
		}
	}
}

PlayerPlaySoundEx(playerid, sound, Float:X, Float:Y, Float:Z)
{
	if(PI[playerid][pi_CONFIG_SOUNDS]) PlayerPlaySound(playerid, sound, X, Y, Z);
	return 1;
}

PlayAudioStreamForPlayerEx(playerid, url[], Float:posX = 0.0, Float:posY = 0.0, Float:posZ = 0.0, Float:distance = 50.0, usepos = 0)
{
	if(PI[playerid][pi_CONFIG_AUDIO]) PlayAudioStreamForPlayer(playerid, url, posX, posY, posZ, distance, usepos);
	return 1;
}

TogglePlayerControllableEx(playerid, bool:controllable)
{
	PLAYER_TEMP[playerid][pt_CONTROL] = controllable;
	return TogglePlayerControllable(playerid, controllable);
}

SetPlayerVip(playerid, vip_level, price_coin = 0, days = 30)
{
	if(vip_level < 1) return 0;

	vip_level = 2;//ok
	PI[playerid][pi_COINS] -= price_coin;
	PI[playerid][pi_VIP] = vip_level;

	inline OnInfoQueryLoad()
	{
		inline OnCountQueryLoad()
		{
			new rows;
			if(cache_get_row_count(rows))
			{
				if(rows)
				{
					cache_get_value_index(0, 0, PI[playerid][pi_VIP_EXPIRE_DATE]);
					SendClientMessageEx(playerid, -1, "»Informacion, se te dio VIP {FFFF00}[%d] {FFFFFF}por {FFFF00}%d {FFFFFF}días, fecha de caducidad: {FFFF00}%s.", PI[playerid][pi_VIP], days, PI[playerid][pi_VIP_EXPIRE_DATE]);
					UnlockPlayerVehicles(playerid);
					if(GetPlayerSkin(playerid) == PI[playerid][pi_SKIN]) SetPlayerToys(playerid);
				}
			}
		}
		mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT vip_expire_date FROM player WHERE id = %d;", PI[playerid][pi_ID]);
		mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnCountQueryLoad);
	}
	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET coins = %d, vip = %d, vip_expire_date = DATE_ADD(NOW(), INTERVAL %d DAY) WHERE id = %d;", PI[playerid][pi_COINS], PI[playerid][pi_VIP], days, PI[playerid][pi_ID]);
	mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnInfoQueryLoad);
	OtorgarLogro(playerid, 25);
	if(PI[playerid][pi_A8] == 0) 
                                 { 
                                     new Mision[500];
                                     GivePlayerCash(playerid, 5000, true, false); 
                                     SendFormatNotification(playerid, "Has completado una ~g~mision"); 
                                     PI[playerid][pi_A8] = 1; 
                                     TextDrawShowForPlayer(playerid,BoxMisiones);
                                     TextDrawShowForPlayer(playerid,MisionCo);
                                     TextDrawShowForPlayer(playerid,MisionRe);
                                     format(Mision,sizeof(Mision),"~w~Conseguir ~y~VIP ~w~5000~g~$");
                                     TextDrawSetString(MisionRe, Mision); 
                                     SetTimerEx("ActualizarTextDraw",4500,false,"i",playerid);//
                                 }
                                 
	return 1;
}

UpdateUnnocupiedPropertyLabel(index)
{
	if(!PROPERTY_INFO[index][property_VALID]) return 0;
	if(PROPERTY_INFO[index][property_SOLD]) return 0;
	
	new label_str[256];
	new type_house[24];
	if(PROPERTY_INFO[index][property_EXTRA1] == 0) type_house = "Casa en venta";
	if(PROPERTY_INFO[index][property_EXTRA1] == 2) type_house = "Garaje en venta";
	if(PROPERTY_INFO[index][property_EXTRA1] == 3) type_house = "Oficina en venta";
	if(PROPERTY_INFO[index][property_EXTRA1] == 4) type_house = "Negocio en venta";
	if(PROPERTY_INFO[index][property_VIP_LEVEL])
	{
		if(PROPERTY_INFO[index][property_EXTRA])
		{
			format
			(
				label_str, 
				sizeof label_str, 
				"\
					{C9DFEC}{ffffff}Membresía VIP requerida\n\
					\n\
					{C9DFEC}{ffffff}Propiedad {00FF00}#%d {FFFFFF}está en venta\n\n\
					{C9DFEC}{ffffff}Interior: {00FF00}%d\n\
					{C9DFEC}{ffffff}Tipo: {00FF00}[ %s ]\n\
					{C9DFEC}{ffffff}Coste: {00FF00}%d "SERVER_COIN"\n\
					{C9DFEC}{FFFFFF}Nivel necesario: {00FF00}%d\
					", PROPERTY_INFO[index][property_ID], PROPERTY_INFO[index][property_ID_INTERIOR], type_house, PROPERTY_INFO[index][property_EXTRA], PROPERTY_INFO[index][property_LEVEL]
			);
		}
		else
		{
			format
			(
				label_str, 
				sizeof label_str, 
				"\
					{C9DFEC}{ffffff}Membresía VIP requerida\n\
					\n\
					{C9DFEC}{ffffff}Propiedad {00FF00}[ %d ]{FFFFFF}está en venta\n\n\
					{C9DFEC}{ffffff}Interior: {00FF00}[ %d ]\n\
					{C9DFEC}{ffffff}Tipo: {00FF00}[ %s ]\n\
					{C9DFEC}{ffffff}Precio: {00FF00}[ %s$ ]\n\
					{C9DFEC}{ffffff}Nivel: {00FF00}[ %d ]\
				", PROPERTY_INFO[index][property_ID], PROPERTY_INFO[index][property_ID_INTERIOR], type_house, number_format_thousand(PROPERTY_INFO[index][property_PRICE]), PROPERTY_INFO[index][property_LEVEL]
			);
		}
	}
	else
	{
		if(PROPERTY_INFO[index][property_EXTRA])
		{
			format
			(
				label_str, 
				sizeof label_str, 
				"\
					{00FF00}{ffffff}Dirección {00FF00}[ %d ] {FFFFFF}está en venta\n\n\
					{00FF00}{ffffff}Interior: {00FF00}[ %d ]\n\
					{00FF00}{ffffff}Tipo: {00FF00}[ %s ]\n\
					{00FF00}{ffffff}Coste: {00FF00}[ %d ] "SERVER_COIN"\n\
					{00FF00}{ffffff}Nivel necesario: {00FF00}%d\
					{00FF00}{ffffff}Nivel necesario: {00FF00}%d\
					",PROPERTY_INFO[index][property_ID], PROPERTY_INFO[index][property_ID_INTERIOR], type_house, number_format_thousand(PROPERTY_INFO[index][property_PRICE]), PROPERTY_INFO[index][property_LEVEL]
			);
		}

		else
		{
			format
			(
				label_str, 
				sizeof label_str, 
				"\
					{C9DFEC}{ffffff}Propiedad {00FF00}#%d {FFFFFF}está en venta\n\n\
					{C9DFEC}{ffffff}Interior: {00FF00}%d\n\
					{00FF00}{ffffff}Tipo: {00FF00}[ %s ]\n\
					{C9DFEC}{ffffff}Precio: {00FF00}%s$\n\
					{C9DFEC}{ffffff}Nivel: {00FF00}%d\n\
					{C9DFEC}{ffffff}Usa {00FF00}/ayuda {FFFFFF}para ver como adquirirla.\
				", PROPERTY_INFO[index][property_ID], PROPERTY_INFO[index][property_ID_INTERIOR], type_house, number_format_thousand(PROPERTY_INFO[index][property_PRICE]), PROPERTY_INFO[index][property_LEVEL]
			);
		}
	}
	UpdateDynamic3DTextLabelText(PROPERTY_INFO[index][property_EXT_LABEL_ID], 0xFFFFFFFF, label_str);
	return 1;
}


FreezePlayer(playerid, ms = 2000)
{
	TogglePlayerControllableEx(playerid, false);
	KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][3]);
	PLAYER_TEMP[playerid][pt_TIMERS][3] = SetTimerEx("TogglePlayerControl", ms, false, "ib", playerid, true);
	return 1;
}

public SacarCargos(playerid){
	TogglePlayerControllable(playerid, 1);
	ClearAnimations(playerid);
	TogglePlayerControllable(playerid, 1);
	SetPlayerSpecialAction(playerid, 0);
	TogglePlayerControllable(playerid, 1);
	SetPlayerWantedLevel(playerid, 0);
	SetPlayerColorEx(playerid, PLAYER_COLOR);
    TieneCargos[playerid] = false;
	return 1;
}

timer DejaDeCargarEx[2000](playerid)
{
    TogglePlayerControllable(playerid,1);
}

timer Dialogo[2000](playerid)
{
    ShowDialog(playerid,1);
}

stock tiempodialogo(playerid)
{
    defer Dialogo(playerid);
    return 1;
}
stock CargandoEx(playerid)
{
    GameTextForPlayer(playerid, "~n~ ~r~Subiendo pasajeros..~n~~w~Espera por favor", 2500, 4);
    defer DejaDeCargarEx(playerid);
    return 1;
}


stock SetPlayerLookAt(playerid, Float:X, Float:Y) // Forum.sa-mp 'Write'dan aýntýdýr.
{
	new Float:Px, Float:Py, Float: Pa;
	GetPlayerPos(playerid, Px, Py, Pa);
	Pa = floatabs(atan((Y-Py)/(X-Px)));
	if (X <= Px && Y >= Py) Pa = floatsub(180, Pa);
	else if (X < Px && Y < Py) Pa = floatadd(Pa, 180);
	else if (X >= Px && Y <= Py) Pa = floatsub(360.0, Pa);
	Pa = floatsub(Pa, 90.0);
	if (Pa >= 360.0) Pa = floatsub(Pa, 360.0);
	SetPlayerFacingAngle(playerid, Pa);
}

forward CarJackingFinish(playerid);
public CarJackingFinish(playerid)
{
	TogglePlayerControllableEx(playerid, true);
	return 1;
}

SetPlayerNormalColor(playerid)
{
	if(PI[playerid][pi_VIP] > 2) return SetPlayerColorEx(playerid, 0xffa90000);
	else
	{
		if(PI[playerid][pi_ADMIN_LEVEL] && PLAYER_TEMP[playerid][pt_ADMIN_SERVICE] == true) SetPlayerColorEx(playerid, 0x8000FF00);
		else SetPlayerColorEx(playerid, PLAYER_COLOR);
	}
	SetPlayerColorEx(playerid, PLAYER_COLOR);
	return 1;
}

SendAdminAd(color, text[])
{
	for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
	{
		if(IsPlayerConnected(i))
		{
			if((PLAYER_TEMP[i][pt_GAME_STATE] == GAME_STATE_NORMAL || PLAYER_TEMP[i][pt_GAME_STATE] == GAME_STATE_DEAD) && PI[i][pi_CONFIG_ADMIN])
			{
				SendClientMessage(i, color, text);
			}
		}
	}
	return 1;
}

#define MIN_SECONDS_BETWEEN_COMMANDS 1 // Deben pasar al menos 1 segundos entre comando y comando.
public OnPlayerCommandReceived(playerid, cmd[], params[], flags)
{
	
	if(PLAYER_TEMP[playerid][pt_KICKED]) return 0;

	if(PLAYER_TEMP[playerid][pt_GAME_STATE] != GAME_STATE_NORMAL || PI[playerid][pi_STATE] == ROLEPLAY_STATE_HOSPITAL/* || IsPlayerInWorkTutorial(playerid)*/)
	{
		ShowPlayerMessage(playerid, "Ahora no puedes usar comandos.", 2);
		return 0;
	}
	if(PLAYER_TEMP[playerid][pt_SELECT_TEXTDRAW]) { ShowPlayerMessage(playerid, "Ahora no puedes usar comandos, pulsa 'ESCAPE' para cerrar el menú.", 2); return 0; }


	new interval = GetTickDiff(GetTickCount(), PLAYER_TEMP[playerid][pt_ANTIFLOOD_COMMANDS]);
	if(interval < MIN_SECONDS_BETWEEN_COMMANDS)
	{
		if(ac_Info[CHEAT_COMMAND_SPAMMER][ac_Enabled])
		{
			if(gettime() > PLAYER_AC_INFO[playerid][CHEAT_COMMAND_SPAMMER][p_ac_info_IMMUNITY])
			{
				if(interval < 50)
				{
					if(!ac_Info[CHEAT_COMMAND_SPAMMER][ac_Interval]) OnPlayerCheatDetected(playerid, CHEAT_COMMAND_SPAMMER, float(interval));
					else
					{
						if(gettime() - PLAYER_AC_INFO[playerid][CHEAT_COMMAND_SPAMMER][p_ac_info_LAST_DETECTION] > ac_Info[CHEAT_COMMAND_SPAMMER][ac_Interval]) PLAYER_AC_INFO[playerid][CHEAT_COMMAND_SPAMMER][p_ac_info_DETECTIONS] = 0;
						else PLAYER_AC_INFO[playerid][CHEAT_COMMAND_SPAMMER][p_ac_info_DETECTIONS] ++;

						PLAYER_AC_INFO[playerid][CHEAT_COMMAND_SPAMMER][p_ac_info_LAST_DETECTION] = gettime();
						if(PLAYER_AC_INFO[playerid][CHEAT_COMMAND_SPAMMER][p_ac_info_DETECTIONS] >= ac_Info[CHEAT_COMMAND_SPAMMER][ac_Detections]) OnPlayerCheatDetected(playerid, CHEAT_COMMAND_SPAMMER, float(interval));
					}
				}
			}
		}
		ShowPlayerMessage(playerid, "Cálmate.", 2);
		return 0;
	}

	if(flags)
	{
		if(flags == CMD_DISABLED)
		{
			ShowPlayerMessage(playerid, "Este comando esta deshabilitado.", 2);
			return 0;
		}

		if(flags > PI[playerid][pi_ADMIN_LEVEL])
		{
			ShowPlayerMessage(playerid, "No estás autorizado para utilizar este comando, ~y~[Solo STAFF]", 2);
			return 0;
		}

		/*if(!PLAYER_TEMP[playerid][pt_ADMIN_SERVICE])
		{
			ShowPlayerMessage(playerid, "Debes estar de servicio como admin, usa ~y~/duty.", 2);
			return 0;
		}*/
	}

	PLAYER_TEMP[playerid][pt_ANTIFLOOD_COMMANDS] = GetTickCount();

	#if CMD_LOGGIN
		printf("[CMD] %s (%d): /%s %s", PI[playerid][pi_NAME], PI[playerid][pi_ID], cmd, params);
	#endif
	return 1;
}

public OnPlayerCommandPerformed(playerid, cmd[], params[], result, flags)
{
    if(result == -1)
    {
		SendClientMessageEx(playerid, -1, "{D50000}» {FFFFFF}Comando introducido incorrecto usa el comando {66c4e4}/ayuda.");
		return 0;
		}

    return 1;
}

SendMessageToDoubtChannel(playerid, dudacolor[])
{
	new str[145], SkinID[99];
	new vip[16];
	new string[300];
	
	getPlayerVip(playerid);
	if (PI[playerid][pi_VIP]) format(str, 145, "{ffff00}[Dudas]{ffffff}%s (%d) {ffff00}[VIP%s]: {ffffff}%s", PLAYER_TEMP[playerid][pt_RP_NAME], playerid, vip, dudacolor);
	else format(str, 145, "{ffff00}[Dudas]{ffffff}%s (%d) [Nivel %d]:%s", PLAYER_TEMP[playerid][pt_RP_NAME], playerid, PI[playerid][pi_LEVEL], dudacolor);


    switch(PI[playerid][pi_ADMIN_LEVEL])
	 {
			case 1: format(str, 145, "{42ff00}[Dudas] {ffffff}%s (%d) {ff8000}[%s]: {ffffff}%s", PLAYER_TEMP[playerid][pt_RP_NAME], playerid, ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], dudacolor);
			case 2: format(str, 145, "{42ff00}[Dudas] {ffffff}%s (%d){0000ff}[%s]: {ffffff}%s", PLAYER_TEMP[playerid][pt_RP_NAME], playerid, ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], dudacolor);
			case 3: format(str, 145, "{42ff00}[Dudas] {ffffff}%s (%d){008f39}[%s]: {ffffff}%s", PLAYER_TEMP[playerid][pt_RP_NAME], playerid, ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], dudacolor);
			case 4: format(str, 145, "{42ff00}[Dudas] {ffffff}%s (%d){ff0000}[%s]: {ffffff}%s", PLAYER_TEMP[playerid][pt_RP_NAME], playerid, ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], dudacolor);
			case 5: format(str, 145, "{42ff00}[Dudas] {ffffff}%s (%d){ff4a00}[%s]: {ffffff}%s", PLAYER_TEMP[playerid][pt_RP_NAME], playerid, ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], dudacolor);
			case 6: format(str, 145, "{42ff00}[Dudas] {ffffff}%s (%d){ff4a00}[%s]: {ffffff}%s", PLAYER_TEMP[playerid][pt_RP_NAME], playerid, ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], dudacolor);
			case 7: format(str, 145, "{42ff00}[Dudas] {ffffff}%s (%d){ff4a00}[%s]: {ffffff}%s", PLAYER_TEMP[playerid][pt_RP_NAME], playerid, ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], dudacolor);
			case 8: format(str, 145, "{42ff00}[Dudas] {ffffff}%s (%d){ff4a00}[%s]: {ffffff}%s", PLAYER_TEMP[playerid][pt_RP_NAME], playerid, ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], dudacolor);
			case 9: format(str, 145, "{42ff00}[Dudas] {ffffff}%s (%d){ff4a00}[%s]: {ffffff}%s", PLAYER_TEMP[playerid][pt_RP_NAME], playerid, ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], dudacolor);
			case 10: format(str, 145, "{42ff00}[Dudas] {ffffff}%s (%d){ff4a00}[%s]: {ffffff}%s", PLAYER_TEMP[playerid][pt_RP_NAME], playerid, ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], dudacolor);
	}
	   
	PLAYER_TEMP[playerid][pt_DOUBT_CHANNEL_TIME] = gettime();
	for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
	{
		if(IsPlayerConnected(i))
		{
			if((PLAYER_TEMP[i][pt_GAME_STATE] == GAME_STATE_NORMAL || PLAYER_TEMP[i][pt_GAME_STATE] == GAME_STATE_DEAD) && PI[i][pi_DOUBT_CHANNEL])
			{
				SendClientMessage(i, 0x77c7ffFF, str);
			}
		}
	}
	return 1;
}

CMD:muteard(playerid, params[])
{
	new to_player, reason[128], time;
	if(sscanf(params, "uds[128]", to_player, time, reason)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /muteard <player_id> <minutos> <razón>", 2);
	if(time < 0 || time > 1440) return ShowPlayerMessage(playerid, "Intervalo de minutos incorrecto.", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);
	if(PI[to_player][pi_ADMIN_LEVEL] > PI[playerid][pi_ADMIN_LEVEL]) return ShowPlayerMessage(playerid, "El rango administrativo de este jugador es superior al tuyo.", 2);
	if(gettime() < PI[to_player][pi_MUTE]) return ShowPlayerMessage(playerid, "El jugador ya está muteado.", 2);
	new seconds = time * 60;
	PI[to_player][pi_MUTE] = gettime() + seconds;
	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET mute = %d WHERE id = %d;", PI[to_player][pi_MUTE], PI[to_player][pi_ID]);
	mysql_tquery(srp_db, QUERY_BUFFER);
	SendClientMessageEx(to_player, -1, "Has sido silenciado del canal de dudas por %d minutos, razón: %s", time, reason);
	new player_version[32];
	GetPlayerVersion(to_player, player_version, sizeof player_version);
	new str[250];
	switch(PI[playerid][pi_ADMIN_LEVEL])
	 {
			case 1: format(str, 250, "{df87ab}[MUTE] "WHITE"%s (%d) | "WHITE"%s {ff8000}[%s] "WHITE"| razón: %s | Minutos : %s", PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME],  ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, TimeConvert(time * 60));
			case 2: format(str, 250, "{df87ab}[MUTE] "WHITE"%s (%d) | "WHITE"%s {0000ff}[%s] "WHITE"| razón: %s | Minutos : %s", PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME],  ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, TimeConvert(time * 60));
			case 3: format(str, 250, "{df87ab}[MUTE] "WHITE"%s (%d) | "WHITE"%s {008f39}[%s] "WHITE"| razón: %s | Minutos : %s", PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME],  ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, TimeConvert(time * 60));
			case 4: format(str, 250, "{df87ab}[MUTE] "WHITE"%s (%d) | "WHITE"%s {ff0000}[%s] "WHITE"| razón: %s | Minutos : %s", PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME],  ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, TimeConvert(time * 60));
			case 5: format(str, 250, "{df87ab}[MUTE] "WHITE"%s (%d) | "WHITE"%s {ff4a00}[%s] "WHITE"| razón: %s | Minutos : %s", PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME],  ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, TimeConvert(time * 60));
			case 6: format(str, 250, "{df87ab}[MUTE] "WHITE"%s (%d) | "WHITE"%s {ff4a00}[%s] "WHITE"| razón: %s | Minutos : %s", PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME],  ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, TimeConvert(time * 60));
			case 7: format(str, 250, "{df87ab}[MUTE] "WHITE"%s (%d) | "WHITE"%s {ff4a00}[%s] "WHITE"| razón: %s | Minutos : %s", PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME],  ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, TimeConvert(time * 60));
			case 8: format(str, 250, "{df87ab}[MUTE] "WHITE"%s (%d) | "WHITE"%s {ff4a00}[%s] "WHITE"| razón: %s | Minutos : %s", PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME],  ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, TimeConvert(time * 60));
			case 9: format(str, 250, "{df87ab}[MUTE] "WHITE"%s (%d) | "WHITE"%s {ff4a00}[%s] "WHITE"| razón: %s | Minutos : %s", PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME],  ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, TimeConvert(time * 60));
			case 10: format(str, 250, "{df87ab}[MUTE] "WHITE"%s (%d) | "WHITE"%s {ff4a00}[%s] "WHITE"| razón: %s | Minutos : %s", PI[to_player][pi_NAME], to_player, PI[playerid][pi_NAME],  ADMIN_LEVELS[ PI[playerid][pi_ADMIN_LEVEL] ], reason, TimeConvert(time * 60));

	}
    SendAdminAd(-1, str);
    ShowPlayerMessage(playerid, "Acabas de recibir $1500 por el mut/sanción.", 2);
    GivePlayerCash(playerid, 1500);
	return 1;
}

CMD:desmuteard(playerid, params[])
{
    new to_player;
    if(sscanf(params, "u", to_player)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /desmuteard <player_id>", 2);
    if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);
    if(PI[to_player][pi_ADMIN_LEVEL] > PI[playerid][pi_ADMIN_LEVEL]) return ShowPlayerMessage(playerid, "El rango administrativo de este jugador es superior al tuyo.", 2);

	if(gettime() > PI[to_player][pi_MUTE]) return ShowPlayerMessage(playerid, "Este jugador no está silenciado.", 2);

	PI[to_player][pi_MUTE] = 0;
	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET mute = %d WHERE id = %d;", PI[to_player][pi_MUTE], PI[to_player][pi_ID]);
	mysql_tquery(srp_db, QUERY_BUFFER);
	SendClientMessage(to_player, -1, "Ya puedes volver a enviar dudas.");

	SendFormatNotification(playerid, "Jugador %s (%d) ha sido des-silenciado.", PI[to_player][pi_NAME], to_player);
	return 1;
}

GetFreePoliceObjectSlot()
{
	for(new i = 0; i != MAX_POLICE_OBJECTS; i ++)
	{
		if(!POLICE_OBJECTS[i][police_object_VALID]) return i;
	}
	return -1;
}

CMD:borrarop(playerid, params[])
{
	new affected_objects;
	for(new i = 0; i != MAX_POLICE_OBJECTS; i ++)
	{
		if(!POLICE_OBJECTS[i][police_object_VALID]) continue;

		DestroyDynamicObject(POLICE_OBJECTS[i][police_object_OBJECT_ID]);
		POLICE_OBJECTS[i][police_object_VALID] = false;
		POLICE_OBJECTS[i][police_object_USER][0] = EOS;
		POLICE_OBJECTS[i][police_object_OBJECT_ID] = INVALID_STREAMER_ID;
		affected_objects ++;
	}

	SendFormatNotification(playerid, "Se han eliminado todos los objetos policiales, %d objetos afectados.", affected_objects);
	SendCmdLogToAdmins(playerid, "borrarop", params);
	return 1;
}

CMD:abyc(playerid, params[])
{
	if(!PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET]) return ShowPlayerMessage(playerid, "No eres policía.", 2);
	if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_POLICE) return ShowPlayerMessage(playerid, "No estás de servicio como policía.", 2);

	new to_player, reason[128];
	if(sscanf(params, "us[128]", to_player, reason)) return ShowPlayerMessage(playerid, "Error: /abyc [Playerid o nombre] [razon]", 2);
	if(!IsPlayerConnected(to_player)) return ShowPlayerMessage(playerid, "Jugador desconectado.", 2);
	if(to_player == playerid) return 1;

	if(PLAYER_TEMP[to_player][pt_GAME_STATE] != GAME_STATE_NORMAL) return ShowPlayerMessage(playerid, "No se puede añadir byc a este jugador ahora.", 2);
	if(PLAYER_WORKS[to_player][WORK_POLICE][pwork_SET]) return ShowPlayerMessage(playerid, "No puedes añadir byc a este jugador porque es policía.", 2);

	AddPlayerPoliceHistory(to_player, PI[playerid][pi_ID], reason);
	SendFormatNotification(playerid, "Se ha añadido el informe al historial policial de %s.", PLAYER_TEMP[to_player][pt_RP_NAME]);
	return 1;
}

CMD:dbyc(playerid, params[])
{
	if(!PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET]) return ShowPlayerMessage(playerid, "No eres policía.", 2);
	if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_POLICE) return ShowPlayerMessage(playerid, "No estás de servicio como policía.", 2);
	if(PLAYER_WORKS[playerid][WORK_POLICE][pwork_LEVEL] < 9) return SendFormatNotification(playerid, "~r~Debes ser al menos rango %s para colocar objetos policiales.", POLICE_RANKS[9]);

	new to_player;
	if(sscanf(params, "u", to_player)) return ShowPlayerMessage(playerid, "Error: /dbyc [Playerid o nombre]", 2);
	if(!IsPlayerConnected(to_player)) return ShowPlayerMessage(playerid, "Jugador desconectado.", 2);
	if(PLAYER_TEMP[to_player][pt_GAME_STATE] != GAME_STATE_NORMAL) return ShowPlayerMessage(playerid, "No se puede eliminar el historial policial de este jugador ahora.", 2);

	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "DELETE FROM police_history WHERE id_player = %d;", PI[to_player][pi_ID]);
	mysql_tquery(srp_db, QUERY_BUFFER);

	SendFormatNotification(playerid, "Has borrado el historial policial de %s.", PLAYER_TEMP[to_player][pt_RP_NAME]);
	return 1;
}


CMD:byc(playerid, params[])
{
	if(!PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET]) return ShowPlayerMessage(playerid, "No eres policía.", 2);
	if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_POLICE) return ShowPlayerMessage(playerid, "No estás de servicio como policía.", 2);

	ShowDialog(playerid, DIALOG_POLICE_BYC);
	return 1;
}

AddPlayerPoliceHistory(playerid, by_id, reason[])
{
	if(!PI[playerid][pi_ID]) return 0;

	new date[24];
	getDateTime(date);
	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "INSERT INTO police_history (id_player, by_id, text, date) VALUES (%d, %d, '%e', '%e');", PI[playerid][pi_ID], by_id, reason, date);
	mysql_tquery(srp_db, QUERY_BUFFER);
	return 1;
}

CMD:admac(playerid, params[])
{
	if(sscanf(params, "d", params[0])) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /admac <nivel>", 2);
	ADMIN_LEVEL_AC_IMMUNITY = params[0];

	SendFormatNotification(playerid, "Admin level %d o mayor no sera detectado por ac.", ADMIN_LEVEL_AC_IMMUNITY);
	return 1;
}

ShowPlayerMessage(playerid, message[], sound = 0)
{
    KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][17]);
    
    for(new len = strlen(message), pos; pos < len; pos++)
    {
        switch(message[pos])
        {
            case 'à': message[pos] = 151;
            case 'á': message[pos] = 152;
            case 'â': message[pos] = 153;
            case 'ä': message[pos] = 154;
            case 'À': message[pos] = 128;
            case 'Á': message[pos] = 129;
            case 'Â': message[pos] = 130;
            case 'Ä': message[pos] = 131;
            case 'è': message[pos] = 157;
            case 'é': message[pos] = 158;
            case 'ê': message[pos] = 159;
            case 'ë': message[pos] = 160;
            case 'È': message[pos] = 134;
            case 'É': message[pos] = 135;
            case 'Ê': message[pos] = 136;
            case 'Ë': message[pos] = 137;
            case 'ì': message[pos] = 161;
            case 'í': message[pos] = 162;
            case 'î': message[pos] = 163;
            case 'ï': message[pos] = 164;
            case 'Ì': message[pos] = 138;
            case 'Í': message[pos] = 139;
            case 'Î': message[pos] = 140;
            case 'Ï': message[pos] = 141;
            case 'ò': message[pos] = 165;
            case 'ó': message[pos] = 166;
            case 'ô': message[pos] = 167;
            case 'ö': message[pos] = 168;
            case 'Ò': message[pos] = 142;
            case 'Ó': message[pos] = 143;
            case 'Ô': message[pos] = 144;
            case 'Ö': message[pos] = 145;
            case 'ù': message[pos] = 169;
            case 'ú': message[pos] = 170;
            case 'û': message[pos] = 171;
            case 'ü': message[pos] = 172;
            case 'Ù': message[pos] = 146;
            case 'Ú': message[pos] = 147;
            case 'Û': message[pos] = 148;
            case 'Ü': message[pos] = 149;
            case 'ñ': message[pos] = 174;
            case 'Ñ': message[pos] = 173;
            case '¡': message[pos] = 64;
            case '¿': message[pos] = 175;
            case '`': message[pos] = 177;
            case '&': message[pos] = 38;
        }
    }
    
    PlayerTextDrawSetString(playerid, TD_TextoCarga[playerid], message);
    PlayerTextDrawShow(playerid, TD_TextoCarga[playerid]);
    
    PLAYER_TEMP[playerid][pt_TIMERS][17] = SetTimerEx("HidePlayerMessage", 3000, false, "i", playerid);
    if(sound) PlayerPlaySoundEx(playerid, sound, 0.0, 0.0, 0.0);
    return 1;
}


HidePlayerMessage(playerid);
public HidePlayerMessage(playerid)
{
	KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][17]);
	PlayerTextDrawSetString(playerid, TD_TextoCarga[playerid], "_");
	PlayerTextDrawHide(playerid, TD_TextoCarga[playerid]);
	return 1;
}

CMD:cleancrews(playerid, params[])
{
	ShowPlayerMessage(playerid, "deshabilitado", 2);
	return 1;
}

CMD:cleanproperties(playerid, params[])
{
	new total;
	for(new i = 0; i != MAX_PROPERTIES; i ++)
	{
		if(PROPERTY_INFO[i][property_SOLD])
		{
			PROPERTY_INFO[i][property_SOLD] = false;
			PROPERTY_INFO[i][property_CREW] = false;
			PROPERTY_INFO[i][property_OWNER_ID] = 0;
			PROPERTY_INFO[i][property_CREW_ID] = 0;
			format(PROPERTY_INFO[i][property_NAME], 24, "PROPIEDAD %d", PROPERTY_INFO[i][property_ID]);

			new label_str[256], info[3];
			format
			(
				label_str,
				sizeof label_str,
				"\
					{C9DFEC}{ffffff}Propiedad {C9DFEC}#%d "WHITE"está en venta\n\n\
					{C9DFEC}{ffffff}Interior: {C9DFEC}%d\n\
					{C9DFEC}{ffffff}Precio: {C9DFEC}$%s\n\
					{C9DFEC}{ffffff}Nivel necesario: {C9DFEC}%d\n\
					{C9DFEC}{ffffff}Usa "YELLOW"/ayuda "WHITE"para ver como adquirirla.\
				", PROPERTY_INFO[i][property_ID], PROPERTY_INFO[i][property_ID_INTERIOR], number_format_thousand(PROPERTY_INFO[i][property_PRICE]), PROPERTY_INFO[i][property_LEVEL]
			);
			UpdateDynamic3DTextLabelText(PROPERTY_INFO[i][property_EXT_LABEL_ID], 0xFFFFFFFF, label_str);

			DestroyDynamicPickup(PROPERTY_INFO[i][property_EXT_PICKUP_ID]);
			PROPERTY_INFO[i][property_EXT_PICKUP_ID] = INVALID_STREAMER_ID;

			PROPERTY_INFO[i][property_EXT_PICKUP_ID] = CreateDynamicPickup(1273, 1, PROPERTY_INFO[i][property_EXT_X], PROPERTY_INFO[i][property_EXT_Y], PROPERTY_INFO[i][property_EXT_Z], 0, PROPERTY_INFO[i][property_EXT_INTERIOR]);
			info[0] = PICKUP_TYPE_PROPERTY;
			info[1] = i; // Index
			info[2] = 2; // Pickup Exterior
			Streamer_SetArrayData(STREAMER_TYPE_PICKUP, PROPERTY_INFO[i][property_EXT_PICKUP_ID], E_STREAMER_EXTRA_ID, info);

			//
			total ++;
		}
	}

	//
	mysql_tquery(srp_db, "UPDATE properties SET id_player = NULL, id_territory = NULL;");

	SendFormatNotification(playerid, "Se han liberado todas las propiedades (%d).", total);

	SendCmdLogToAdmins(playerid, "cleanproperties", params);
	return 1;
}

CMD:cleanshop(playerid, params[])
{
	mysql_tquery(srp_db, "DELETE FROM shop;");
	ShowPlayerMessage(playerid, "Ok.", 2);
	return 1;
}

CMD:cleantrabajos(playerid, params[])
{
    if(PI[playerid][pi_ADMIN_LEVEL] < 9 ) return ShowPlayerMessage(playerid,"No estás autorizado para usar este comando.", 2);
	mysql_tquery(srp_db, "UPDATE pworks SET  set = 0;");

	SendCmdLogToAdmins(playerid, "cleanjobs", params);
	return 1;
}

CMD:cleanterri(playerid, params[])
{
   if(PI[playerid][pi_ADMIN_LEVEL] < 9 ) return ShowPlayerMessage(playerid,"No estás autorizado para usar este comando.", 2);
   mysql_tquery(srp_db, "UPDATE territories SET  id_crew = NULL;");
	
	SendCmdLogToAdmins(playerid, "cleanterri", params);
	return 1;
}

CMD:countv(playerid, params[])
{
	if(sscanf(params, "u", params[0])) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /countv <playerid>", 2);
	SendFormatNotification(playerid, "Vehicles: %d", CountPlayerVehicles(params[0]));
	return 1;
}

CMD:robart(playerid, params[])
{
    	new storeid = GetPlayerNearStore(playerid);
        new remainingTime, string[128];
        
        if(Robandot[playerid] == 1) return 1;
        
        new ManoDer = PI[playerid][pi_MANO_DER];

        if(ObjetoInfo[ManoDer][IDArma] > 0) //Es un arma
		{

        if (storeid == -1)
        {
            ShowPlayerMessage(playerid, "Debes estar en una tienda ~r~24/7.");
            return 1;
        }
        
        if(PI[playerid][pi_WANTED_LEVEL] > 0) return ShowPlayerMessage(playerid, "~w~No puedes robar con ~y~cargos.");
        
        // >> CHEQUEO DE COOLDOWN DE LA TIENDA <<
        if (g_storeCooldownEnd[storeid] > gettime())
        {
            remainingTime = g_storeCooldownEnd[storeid] - gettime();
            format(string, sizeof(string), "ERROR: Esta tienda está en recuperación. Vuelve en %d minutos y %d segundos.", 
                remainingTime / 60, remainingTime % 60);
            ShowPlayerMessage(playerid, string);
            return 1;
        }
        
        if (g_isStoreBeingRobbed[storeid] == true)
        {
            ShowPlayerMessage(playerid, "Esta tienda ya está siendo ~b~robada.");
            return 1;
        }
        
        // >> INICIAR TEXTDRAW DE PROGRESO <<
    g_RobberyTimerStart[playerid] = gettime(); // Guardar el tiempo de inicio
    PlayerTextDrawShow(playerid, g_RobberyProgressTD[playerid]);
    
    // Iniciar el temporizador de actualización (se repite cada segundo)
    g_RobberyUpdateTimer[playerid] = SetTimerEx("UpdateRobberyTextDraw", 1000, true, "d", playerid);

        // Iniciar el Robo
        g_isStoreBeingRobbed[storeid] = true;
        SetTimerEx("RobberyInProgress", ROB_TIME * 1000, false, "dd", playerid, storeid);
        // INICIA LA ANIMACIÓN
        //ogglePlayerControllable(playerid, 0); // Esto detiene el movimiento/entrada del jugador

        // 2. Aplicar Animación
        // Intenta con esta si la anterior falla
       ApplyAnimation(playerid, "SHOP", "ROB_Loop_Threat", 4.0, 0, 0, 0, 1,500, 1);//amenazar

        Robandot[playerid] = 1;

        ShowPlayerMessage(playerid, "~w~Has iniciado el robo a la tienda! Permanece quieto por ~b~30 ~w~segundos.");
        
        new 
        zone[45], 
        city[45],
        level = PI[playerid][pi_WANTED_LEVEL] + 2,
        message[200];

	GetPlayerZones(playerid, city, zone);
    if (level > 6) level = 6;
    SetPlayerWantedLevelEx(playerid, level);

    format(message, sizeof message, "{"#POLICE_COLOUR"}[Central policía] {FFFFFF}%s ha iniciado un robo 24/7 {"#PRIMARY_COLOR"}%s, %s.", PLAYER_TEMP[playerid][pt_NAME], city, zone);
    SendPoliceRadioMessage(-1, -1, message);
        //  SetPlayerChatBubble(playerid, "¡Robando! (" + ROB_TIME + "s)", 0xFFFFFFFF, 20.0, 5000); 
      }
    return 1;
}

forward RobberyInProgress(playerid, storeid);
public RobberyInProgress(playerid, storeid)
{
    // ... (Código de verificación de jugador, estado y posición) ...

    // Si el jugador se desconecta/muere o se mueve, el robo falla Y entra en Cooldown.
    if (!IsPlayerConnected(playerid) || PI[playerid][pi_STATE] == ROLEPLAY_STATE_CRACK || GetPlayerNearStore(playerid) != storeid)
    {
        ShowPlayerMessage(playerid, "FALLO: El robo falló porque te moviste, moriste o desconectaste.");
        Robandot[playerid] = 0;
        // **APLICAR COOLDOWN AL FALLO**
        DialogTime[playerid][0] = gettime();
        g_isStoreBeingRobbed[storeid] = false; 
        g_storeCooldownEnd[storeid] = gettime() + STORE_COOLDOWN_TIME; 
       
    	ClearAnimations(playerid);
        // >> DETENER TEXTDRAW Y ANIMACIÓN EN CASO DE FALLO <<
    if (g_RobberyUpdateTimer[playerid] != 0) KillTimer(g_RobberyUpdateTimer[playerid]);
    g_RobberyUpdateTimer[playerid] = 0;
    ApplyAnimation(playerid, "CARRY", "crry_prtial", 4.1, 0, 0, 0, 1, 1, true);
    ClearAnimations(playerid);
    PlayerTextDrawHide(playerid, g_RobberyProgressTD[playerid]);
    
        return 1;
    }

    // --- ROBLE EXITOSO ---
    Robandot[playerid] = 0;
    
    ShowPlayerMessage(playerid, "~w~Robo ~g~exitoso ~w~ recoje el dinero y vete.");
    new randomReward;
    randomReward = 10000 + random(15001);
    new World = GetPlayerVirtualWorld(playerid);
	new Int = GetPlayerInterior(playerid);
    DropObjetoX(177, randomReward, -28.266321, -90.669776, 1004.506286, World, Int);
    OtorgarLogro(playerid, 12);
    DialogTime[playerid][0] = gettime();
    
    // ... (Recompensa, Wanted Level, Mensajes de ÉXITO) ...

    // Liberar la tienda Y aplicar Cooldown
    g_isStoreBeingRobbed[storeid] = false;
    g_storeCooldownEnd[storeid] = gettime() + STORE_COOLDOWN_TIME; // **APLICAR COOLDOWN AL ÉXITO**
    ApplyAnimation(playerid, "CARRY", "crry_prtial", 4.1, 0, 0, 0, 1, 1, true);
    ClearAnimations(playerid);
    
    if (g_RobberyUpdateTimer[playerid] != 0) KillTimer(g_RobberyUpdateTimer[playerid]);
    g_RobberyUpdateTimer[playerid] = 0;
    PlayerTextDrawHide(playerid, g_RobberyProgressTD[playerid]);
    
    return 1;
}

forward UpdateRobberyTextDraw(playerid);
public UpdateRobberyTextDraw(playerid)
{
    if (!IsPlayerConnected(playerid)) 
    {
        // Si el jugador se desconectó, paramos el timer y limpiamos la variable.
        KillTimer(g_RobberyUpdateTimer[playerid]);
        g_RobberyUpdateTimer[playerid] = 0;
        return 0;
    }
    
    new timeElapsed = gettime() - g_RobberyTimerStart[playerid];
    new remainingTime = ROB_TIME - timeElapsed;
    new string[32];
    
    if (remainingTime <= 0)
    {
        // Si por alguna razón el tiempo se agotó aquí, simplemente terminamos la actualización.
        // El timer principal (RobberyInProgress) se encarga del resultado del robo.
        remainingTime = 0;
    }

    // Actualizamos el texto: "Robando: 25s"
    format(string, sizeof(string), "~w~Robando: ~g~%ds", remainingTime);
    PlayerTextDrawSetString(playerid, g_RobberyProgressTD[playerid], string);
    
    return 1;
}



CMD:countp(playerid, params[])
{
	if(sscanf(params, "u", params[0])) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /countp <playerid>", 2);
	SendFormatNotification(playerid, "Properties: %d", CountPlayerProperties(params[0]));
	return 1;
}

CMD:presolv(playerid, params[])
{
	if(sscanf(params, "d", params[0])) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /presolv <numero>", 2);

	inline OnInfoQueryLoad()
	{
		new rows;
		if(cache_get_row_count(rows))
		{
			if(rows)
			{
				new id, name[24], connected, pid;
				cache_get_value_name_int(0, "id", id);
				cache_get_value_name(0, "name", name);
				cache_get_value_name_int(0, "connected", connected);
				cache_get_value_name_int(0, "playerid", pid);
				SendFormatNotification(playerid, "PN: %d --- Nombre: '%s' DB-ID: '%d' Conectado: '%d' Playerid: '%d'", params[0], name, id, connected, pid);
			}
			else ShowPlayerMessage(playerid, "No se encontró ningún resultado para ese número.", 2);
		}
	}
	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT id, name, connected, playerid FROM player WHERE phone_number = %d LIMIT 1;", params[0]);
	mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnInfoQueryLoad);
	return 1;
}

CMD:osetname(playerid, params[])
{
	new to_account, new_name[24];
	if(sscanf(params, "ds[20]", to_account, new_name)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /osetname <DB-ID> <name>", 2);
//	if(!IsValidRPName(new_name)) return SendFormatNotification(playerid, "El nombre '%s' no cumple con el formato Nombre_Apellido.", new_name);

	inline OnNameChecked()
	{
		new crows;
		if(cache_get_row_count(crows))
		{
			if(crows) SendFormatNotification(playerid, "El nombre %s está en uso", new_name);
			else
			{
				inline OnInfoQueryLoad()
				{
					new rows;
					if(cache_get_row_count(rows))
					{
						if(rows)
						{
							new id, ip[16], name[24], connected, pid, admin_level;
							cache_get_value_name_int(0, "id", id);
							cache_get_value_name(0, "ip", ip);
							cache_get_value_name(0, "name", name);
							cache_get_value_name_int(0, "connected", connected);
							cache_get_value_name_int(0, "playerid", pid);
							cache_get_value_name_int(0, "admin_level", admin_level);

							if(PI[playerid][pi_ADMIN_LEVEL] >= admin_level)
							{
								if(connected) SendFormatNotification(playerid, "JUGADOR '%s' DB-ID '%d' conectado utilice /setname, su player_id: %d.", name, id, pid);
								else
								{
									mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET name = '%e' WHERE id = %d;", new_name, id);
									mysql_tquery(srp_db, QUERY_BUFFER);


									for(new i = 0; i != MAX_PROPERTIES; i ++)
									{
										if(!PROPERTY_INFO[i][property_VALID]) continue;
										if(PROPERTY_INFO[i][property_OWNER_ID] != id) continue;

										new name_house[24];
										if(PROPERTY_INFO[ i ][property_EXTRA1] == 0) name_house = "Casa";
										if(PROPERTY_INFO[ i ][property_EXTRA1] == 2) name_house = "Garaje";
										if(PROPERTY_INFO[ i ][property_EXTRA1] == 4) name_house = "Negocio";				


										new label_str[256];
										format
										(
											label_str,
											sizeof label_str,
											"\
												{00FF00}{FFFFFF}Dirección {00FF00}[ %d ]\n\n\
												{00FF00}{FFFFFF}Propietario:{00FF00}[ %s ]\n\
												{00FF00}{FFFFFF}Tipo:{00FF00}[ %s ]\n\
												{00FF00}{FFFFFF}Presiona {00FF00}[~k~~CONVERSATION_YES~] "WHITE"para entrar.\
											", PROPERTY_INFO[i][property_ID], new_name, name_house
										);
										UpdateDynamic3DTextLabelText(PROPERTY_INFO[i][property_EXT_LABEL_ID], 0xFFFFFFFF, label_str);
									}
									SendFormatNotification(playerid, "El nombre de '%s' ahora es: %s", name, new_name);
								}
							}
							else ShowPlayerMessage(playerid, "El rango administrativo de este jugador es superior al tuyo.", 2);
						}
						else ShowPlayerMessage(playerid, "No se encontro la DB-ID.", 2);
					}
				}
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT id, ip, name, connected, playerid, admin_level FROM player WHERE id = %d;", to_account);
				mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnInfoQueryLoad);
			}
		}
	}
	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT id FROM player WHERE name = '%e';", new_name);
	mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnNameChecked);
	return 1;
}

CMD:ogivecoins(playerid, params[])
{
	new to_account, amount;
	if(sscanf(params, "dd", to_account, amount)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /ogivecoins <DB-ID> <cantidad>", 2);

	inline OnInfoQueryLoad()
	{
		new rows;
		if(cache_get_row_count(rows))
		{
			if(rows)
			{
				new id, ip[16], name[24], connected, pid, admin_level;
				cache_get_value_name_int(0, "id", id);
				cache_get_value_name(0, "ip", ip);
				cache_get_value_name(0, "name", name);
				cache_get_value_name_int(0, "connected", connected);
				cache_get_value_name_int(0, "playerid", pid);
				cache_get_value_name_int(0, "admin_level", admin_level);

				if(connected) SendFormatNotification(playerid, "JUGADOR '%s' DB-ID '%d' conectado, player_id: %d, use /givecoins.", name, id, pid);
				else
				{
					mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET coins = coins + %d WHERE id = %d;", amount, id);
					mysql_tquery(srp_db, QUERY_BUFFER);
					SendFormatNotification(playerid, "Le has dado %d "SERVER_COIN" a %s.", amount, name);
				}
			}
			else ShowPlayerMessage(playerid, "No se encontro la DB-ID.", 2);
		}
	}
	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT id, ip, name, connected, playerid, admin_level FROM player WHERE id = %d;", to_account);
	mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnInfoQueryLoad);
	return 1;
}

CMD:conquistar(playerid, params[])
{
	CheckConquista(playerid, true);
	return 1;
}


CMD:con(playerid, params[])
{
	new stats[400+1];
	GetNetworkStats(stats, sizeof(stats));
	ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Estadísticas del servidor", stats, "OK", "");
	return 1;
}

CMD:notifica(playerid, params[])
{
	if(isnull(params)) return ShowPlayerMessage(playerid, "Uso: /notifica [cmd/adm/ac/chat]", 2);

	switch(YHash(params, false))
	{
		case _I<cmd>:
		{
			PLAYER_TEMP[playerid][pt_SEE_ACMD_LOG] ^= true;
			SendFormatNotification(playerid, "Log de comandos %sactivado", PLAYER_TEMP[playerid][pt_SEE_ACMD_LOG] ? ("") : ("des"));
		}
		case _I<adm>:
		{
			PLAYER_TEMP[playerid][pt_SEE_ADM_LOG] ^= true;
			SendFormatNotification(playerid, "Log admin general %sactivado", PLAYER_TEMP[playerid][pt_SEE_ADM_LOG] ? ("") : ("des"));
		}
		case _I<ac>:
		{
			PLAYER_TEMP[playerid][pt_SEE_AC_LOG] ^= true;
			SendFormatNotification(playerid, "Log de anticheat %sactivado", PLAYER_TEMP[playerid][pt_SEE_AC_LOG] ? ("") : ("des"));
		}
		case _I<chat>:
		{
			PLAYER_TEMP[playerid][pt_SEE_ADM_CHAT] ^= true;
			SendFormatNotification(playerid, "Chat admin %sactivado", PLAYER_TEMP[playerid][pt_SEE_ADM_CHAT] ? ("") : ("des"));
		}
		default:
			ShowPlayerMessage(playerid, "Uso: /notifica [cmd/log/ac/chat]", 2);
	}

	return 1;
}

SetPlayerDrivingSchoolCP(playerid)
{
	if(IsValidDynamicRaceCP(PLAYER_TEMP[playerid][pt_DL_EXAM_CP]))
	{
		DestroyDynamicRaceCP(PLAYER_TEMP[playerid][pt_DL_EXAM_CP]);
		PLAYER_TEMP[playerid][pt_DL_EXAM_CP] = INVALID_STREAMER_ID;
	}

	if(PLAYER_TEMP[playerid][pt_DL_EXAM_PROCCESS] == sizeof(Driving_School_Points) - 1)
	{
		PLAYER_TEMP[playerid][pt_DL_EXAM_CP] =	CreateDynamicRaceCP
												(
													1,
													Driving_School_Points[ PLAYER_TEMP[playerid][pt_DL_EXAM_PROCCESS] ][0],
													Driving_School_Points[ PLAYER_TEMP[playerid][pt_DL_EXAM_PROCCESS] ][1],
													Driving_School_Points[ PLAYER_TEMP[playerid][pt_DL_EXAM_PROCCESS] ][2],
													0.0,
													0.0,
													0.0,
													5.0,
													0,
													0,
													playerid
												);
	}
	else
	{
		PLAYER_TEMP[playerid][pt_DL_EXAM_CP] =	CreateDynamicRaceCP
												(
													0,
													Driving_School_Points[ PLAYER_TEMP[playerid][pt_DL_EXAM_PROCCESS] ][0],
													Driving_School_Points[ PLAYER_TEMP[playerid][pt_DL_EXAM_PROCCESS] ][1],
													Driving_School_Points[ PLAYER_TEMP[playerid][pt_DL_EXAM_PROCCESS] ][2],
													Driving_School_Points[ PLAYER_TEMP[playerid][pt_DL_EXAM_PROCCESS] + 1][0],
													Driving_School_Points[ PLAYER_TEMP[playerid][pt_DL_EXAM_PROCCESS] + 1][1],
													Driving_School_Points[ PLAYER_TEMP[playerid][pt_DL_EXAM_PROCCESS] + 1][2],
													5.0,
													0,
													0,
													playerid
												);
	}

	new info[1];
	info[0] = CHECKPOINT_TYPE_DRIVING_SCHOOL;
	Streamer_SetArrayData(STREAMER_TYPE_RACE_CP, PLAYER_TEMP[playerid][pt_DL_EXAM_CP], E_STREAMER_EXTRA_ID, info);
	return 1;
}

CMD:changeflags(playerid, params[])
{
	new cmd[24], flags;
	if(sscanf(params, "s[24]d", cmd, flags)) return ShowPlayerMessage(playerid, "Uso: /changeflags [cmd] [flags]", 2);

	PC_SetFlags(cmd, flags);
	SendFormatNotification(playerid, "Flag de /%s cambiada a %d", cmd, flags);
	return 1;
}

CMD:cobject(playerid, params[]) {
	new modelid;
	if(sscanf(params, "d", modelid)) return ShowPlayerMessage(playerid, "Uso: /cobject [modelid]", 2);

	new Float:pos[3];
	GetPlayerPos(playerid, pos[0], pos[1], pos[2]);
	new objectid = CreateDynamicObject(modelid, pos[0], pos[1], pos[2], 0.0, 0.0, 0.0);
	Streamer_SetArrayData(STREAMER_TYPE_OBJECT, objectid, E_STREAMER_EXTRA_ID, {OBJECT_TYPE_TEST});
	Streamer_Update(playerid);
	EditDynamicObject(playerid, objectid);
	return 1;
}

CMD:selectobject(playerid, params[])
{
	ShowPlayerMessage(playerid, "Entraste en selección de objetos");
	SelectObject(playerid);

	return 1;
}

CMD:std(playerid, params[]) {
	SelectTextDrawEx(playerid, 0xe8d08fFF);
	return 1;
}


CMD:historial(playerid, params[])
{
	//
	new to_player;
	if(sscanf(params, "u", to_player)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /historial <player_id>", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);
	if(PI[to_player][pi_ADMIN_LEVEL] > PI[playerid][pi_ADMIN_LEVEL]) return ShowPlayerMessage(playerid, "El rango administrativo de este jugador es superior al tuyo.", 2);
	if(!PI[to_player][pi_ID]) return ShowPlayerMessage(playerid, "DB ID = 0!", 2);

	inline OnInfoQueryLoad()
	{
		new rows;
		if(cache_get_row_count(rows))
		{
			new caption[40], dialog[1600], line_str[256];
			format(caption, sizeof caption, "Bad historial de %s (%d)", PI[to_player][pi_NAME], to_player);
			format(dialog, sizeof dialog, "Por\tFecha\tTipo\tDescr.\n");
			if(rows)
			{
				for(new i = 0; i != rows; i ++)
				{
					new name[24], by, type, date[24], text[128], bool:isnull_by;
					cache_get_value_name(i, "name", name);
					cache_is_value_name_null(i, "by", isnull_by);
					if(!isnull_by) cache_get_value_name_int(i, "by", by);
					cache_get_value_name_int(i, "type", type);
					cache_get_value_name(i, "date", date);
					cache_get_value_name(i, "text", text);

					if(by == -1) name = "AC";
					switch(type)
					{
						case TYPE_WARNING: format(line_str, sizeof line_str, "%s\t%s\tAdv\t%s\n", name, date, text);
						case TYPE_KICK: format(line_str, sizeof line_str, "%s\t%s\tKick\t%s\n", name, date, text);
						case TYPE_BAN: format(line_str, sizeof line_str, "%s\t%s\tBan\t%s\n", name, date, text);
						case TYPE_TEMP_BAN: format(line_str, sizeof line_str, "%s\t%s\tTBan\t%s\n", name, date, text);
						case TYPE_UNBAN: format(line_str, sizeof line_str, "%s\t%s\tUnban\t%s\n", name, date, text);
					}
					strcat(dialog, line_str);
				}
			}
			else strcat(dialog, "Sin resultados");
			ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_TABLIST_HEADERS, caption, dialog, "xCerrar", "");
			ShowPlayerMessage(playerid, "Limite: 20", 2);
		}
	}
	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT bad_history.*, player.name FROM bad_history LEFT JOIN player ON bad_history.by = player.id WHERE bad_history.id_player = %d ORDER BY bad_history.date LIMIT 20;", PI[to_player][pi_ID]);
	mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnInfoQueryLoad);
	return 1;
}

CMD:getversion(playerid, params[])
{
	new to_player;
	if(sscanf(params, "u", to_player)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /getversion <playerid>", 2);
	if(!IsPlayerConnected(to_player)) return ShowPlayerMessage(playerid, "Jugador desconectado", 2);

	new player_version[32];
	GetPlayerVersion(to_player, player_version, sizeof player_version);

	SendFormatNotification(playerid, "Jugador %s usa la versión %s", PLAYER_TEMP[to_player][pt_NAME], player_version);
	SendCmdLogToAdmins(playerid,"getversion", params);
	return 1;
}

CMD:arma(playerid, params[])
{
	new weaponid, ammo;
	if(sscanf(params, "dd", weaponid, ammo)) return ShowPlayerMessage(playerid, "Uso: /arma [weaponid] [balas]", 2);
	if(!WEAPON_INFO[weaponid][weapon_info_AMMO]) ammo = 1;

    new ManoDer = PI[playerid][pi_MANO_DER];
    if(ManoDer == 0)
	{
		new checki = GetWeaponCheckID(weaponid);
		if(ObjetoInfo[checki][IDArma] > 0) //Es un arma
		{
			PonerObjeto(playerid, 1, checki);
			GivePlayerWeaponEx(playerid, ObjetoInfo[checki][IDArma], ObjetoInfo[checki][Capacidad]); //Le da el arma
			PI[playerid][pi_MANO_DER] = checki;
			PI[playerid][pi_DER_CANT] = ObjetoInfo[checki][Capacidad];
		}
	}
	return 1;
}

CMD:printtestvehicles(playerid, params[])
{
	for(new i, j = GetVehiclePoolSize(); i <= j; i++)
	{
		if(GLOBAL_VEHICLES[i][gb_vehicle_VALID] && GLOBAL_VEHICLES[i][gb_vehicle_TYPE] == VEHICLE_TYPE_TEST)
		{
			new Float:x, Float:y, Float:z, Float:angle;
			GetVehiclePos(i, x, y, z);
			GetVehicleZAngle(i, angle);
			printf("{VEHICLE_TYPE_, WORK_, exp, %d, %f, %f, %f, %f, color1, color2, vip, world},", GetVehicleModel(i), x, y, z, angle);
		}
	}
	ShowPlayerMessage(playerid, "Se hizo un printf de todos los vehiculos de prueba - revisa la consola o el server_log.txt");
	return 1;
}

CMD:placaex(playerid, params[])
{
	if(!PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET]) return ShowPlayerMessage(playerid, "No eres policía.", 2);
	if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_NONE && PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_POLICE)
	{
		SendFormatNotification(playerid, "Tienes que dejar de estar de servicio como %s primero.", work_info[ PLAYER_TEMP[playerid][pt_WORKING_IN] ][work_info_NAME]);
		return 1;
	}

	if(GetPlayerState(playerid) != PLAYER_STATE_ONFOOT) return ShowPlayerMessage(playerid, "No estás depie.", 2);

	if(!PLAYER_TEMP[playerid][pt_WORKING_IN]) ShowDialog(playerid, DIALOG_SELECT_POLICE_SKIN);
	else
	{
		CallLocalFunction("EndPlayerJob", "iib", playerid, PLAYER_TEMP[playerid][pt_WORKING_IN], true);
		PI[playerid][pi_POLICE_DUTY] = 0;
	}
	return 1;
}
alias:placaex("policiaadmin");

CMD:servicio(playerid, params[])
{
	if(!PLAYER_WORKS[playerid][WORK_POLICE][pwork_SET]) return ShowPlayerMessage(playerid, "No eres policía.", 2);
	if(PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_NONE && PLAYER_TEMP[playerid][pt_WORKING_IN] != WORK_POLICE)
	{
		SendFormatNotification(playerid, "Tienes que dejar de estar de servicio como %s primero.", work_info[ PLAYER_TEMP[playerid][pt_WORKING_IN] ][work_info_NAME]);
		return 1;
	}

	if(GetPlayerState(playerid) != PLAYER_STATE_ONFOOT) return ShowPlayerMessage(playerid, "No estás depie.", 2);

	if(!PLAYER_TEMP[playerid][pt_WORKING_IN]) ShowDialog(playerid, DIALOG_SELECT_POLICE_SKIN);
	else
	{
		CallLocalFunction("EndPlayerJob", "iib", playerid, PLAYER_TEMP[playerid][pt_WORKING_IN], true);
		PI[playerid][pi_POLICE_DUTY] = 0;
	}
	return 1;
}

stock IsAnyMerchantSpawned() {
    for (new i = 0; i != MAX_MERCHANTS; i ++) {
        if (!MerchantsInfo[i][mValid]) continue;
        if (MerchantsInfo[i][mSpawned]) {
            return i;
        }
    }
    return -1;
}

// Verifica si el jugador está cerca de alguna tienda y devuelve su ID
stock GetPlayerNearStore(playerid)
{
    new Float:x, Float:y, Float:z;
    GetPlayerPos(playerid, x, y, z);

    for(new i = 0; i < MAX_STORES; i++)
    {
        // Verifica la distancia 3D
        if (IsPlayerInRangeOfPoint(playerid, ROB_RANGE, g_StorePos[i][0], g_StorePos[i][1], g_StorePos[i][2]))
        {
            return i; // Devuelve el ID de la tienda (0 en este caso)
        }
    }
    return -1; // No está cerca de ninguna tienda
}


task UpdateMerchants[1000]() {
    for (new i = 0; i != MAX_MERCHANTS; i ++) {
        if (!MerchantsInfo[i][mValid]) continue;

        if (MerchantsInfo[i][mSpawned]) {
            if (gettime() > MerchantsInfo[i][mTimeSpawned]) {
                RemoveSpawnedMerchant(i);
            }
            break;
        }
    }

    if (gettime() > LastMerchantDate && IsAnyMerchantSpawned() == -1) {
        SpawnRandomMerchant();
    }
}

CMD:ecom(playerid) {
if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 0;
    for (new i = 0; i != MAX_MERCHANTS; i ++) {
        if (!MerchantsInfo[i][mValid]) continue;

        if (MerchantsInfo[i][mSpawned]) {
            RemoveSpawnedMerchant(i);
            break;
        }
    }

    ShowPlayerMessage(playerid, "Se ha eliminado el comerciante actual.");
    return 1;
}

CMD:acom(playerid) {
if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 0;
    SpawnRandomMerchant();
    ShowPlayerMessage(playerid, "Se ha creado un nuevo comerciante.");
    return 1;
}

CMD:ircomex(playerid) {
if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 0;
    new Float:pos[2], index = IsAnyMerchantSpawned();
    if (index == -1) return ShowPlayerMessage(playerid, "No hay comerciantes. ~b~/cmerchant~w~.");
   
    pos[0] = (MerchantsInfo[index][mPosX]);
    pos[0] += (0.5 * floatsin(-MerchantsInfo[index][mAngle], degrees));
    pos[1] = (MerchantsInfo[index][mPosY]);
    pos[1] += (0.5 * floatcos(-MerchantsInfo[index][mAngle], degrees));
    SetPlayerPosEx(playerid, pos[0], pos[1], MerchantsInfo[index][mPosZ], PI[playerid][pi_ANGLE], 0, 0, 0, 0);
    return 1;
}


CMD:vehicles(playerid, params[])
{
	new to_player;
	if(PI[playerid][pi_ADMIN_LEVEL] < 4) return 0;
	if(sscanf(params, "u", to_player)) return ShowPlayerMessage(playerid, "~r~Modo de uso:~w~ /vehicles <player_id>", 2);
	if(!IsPlayerConnected(to_player)) return SendFormatNotification(playerid, "Jugador (%d) desconectado", to_player);

	new dialog[115 * (MAX_SU_VEHICLES + 2)], total_vehicles;
	format(dialog, sizeof dialog, "vehiculo\tMatrícula\tDistancia\n");
	for(new i = 0; i != MAX_VEHICLES; i ++)
	{
		if(!GLOBAL_VEHICLES[i][gb_vehicle_VALID]) continue;
		if(!PLAYER_VEHICLES[i][player_vehicle_VALID]) continue;
		if(total_vehicles > MAX_SU_VEHICLES) break;

		if(PLAYER_VEHICLES[i][player_vehicle_OWNER_ID] == PI[to_player][pi_ID])
		{

			new Float:pos[3];
			GetVehiclePos(i, pos[0], pos[1], pos[2]);

			new line_str[115];
			format(line_str, sizeof line_str, ""WHITE"%d. %s\t"WHITE"%s\t"YELLOW"/gotoveh %d\n", total_vehicles + 1, VEHICLE_INFO[ GLOBAL_VEHICLES[i][gb_vehicle_MODELID] - 400 ][vehicle_info_NAME], GLOBAL_VEHICLES[i][gb_vehicle_NUMBER_PLATE], i);
			strcat(dialog, line_str);
			total_vehicles ++;
		}
	}
	if(total_vehicles == 0) strcat(dialog, "»El jugador no tiene vehiculos");

	ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_TABLIST_HEADERS, "Vehiculos", dialog, "OK", "");
	return 1;
}
alias:vehicles("vehiculos");

//Ayudante
flags:a(CMD_HELPER);
flags:desmuteart(CMD_HELPER);
flags:desmuteard(CMD_HELPER);
flags:muteard(CMD_HELPER);
flags:muteart(CMD_HELPER);
flags:spec(CMD_HELPER);
flags:specoff(CMD_HELPER);
flags:aka(CMD_HELPER);

//Moderador
flags:trabajos(CMD_HELPER_MODERATOR);
flags:getid(CMD_HELPER_MODERATOR);
flags:getname(CMD_HELPER_MODERATOR);
flags:adv(CMD_HELPER_MODERATOR);
flags:kick(CMD_HELPER_MODERATOR);
flags:freeze(CMD_HELPER_MODERATOR);
flags:unfreeze(CMD_HELPER_MODERATOR);
flags:jail(CMD_HELPER_MODERATOR);
flags:unjail(CMD_HELPER_MODERATOR);
flags:jailoff(CMD_HELPER_MODERATOR);
flags:notifica(CMD_HELPER_MODERATOR);
flags:ls(CMD_HELPER_MODERATOR);
flags:jetpack(CMD_HELPER_MODERATOR);
flags:rac(CMD_HELPER_MODERATOR);
flags:rac2(CMD_HELPER_MODERATOR);
flags:rv(CMD_HELPER_MODERATOR);
flags:pm(CMD_HELPER_MODERATOR);
flags:goto(CMD_HELPER_MODERATOR);
flags:at(CMD_HELPER_MODERATOR);
flags:pest(CMD_HELPER_MODERATOR);
flags:pinv(CMD_HELPER_MODERATOR);
flags:pexp(CMD_HELPER_MODERATOR);
flags:parmas(CMD_HELPER_MODERATOR);
flags:pbank(CMD_HELPER_MODERATOR);
flags:traerveh(CMD_HELPER_MODERATOR);
flags:gotoveh(CMD_HELPER_MODERATOR);

//Moderador G
flags:tban(CMD_MODERATOR);
flags:dban(CMD_MODERATOR);
flags:dtban(CMD_MODERATOR);
flags:lsdb(CMD_MODERATOR);
flags:cls(CMD_MODERATOR);
flags:llevarls(CMD_MODERATOR);
flags:llevarlv(CMD_MODERATOR);
flags:llevarsf(CMD_MODERATOR);
flags:ban(CMD_MODERATOR);
flags:darskin(CMD_MODERATOR);
flags:dv(CMD_MODERATOR);
flags:unban(CMD_MODERATOR);
flags:get(CMD_MODERATOR);

// Encargado
flags:v(CMD_ENCARGADO);
flags:givecash(CMD_ENCARGADO);
flags:setarmour(CMD_ENCARGADO);
flags:revivir(CMD_ENCARGADO);
flags:sethealth(CMD_ENCARGADO);
flags:rproperty(CMD_ENCARGADO);
flags:eproperty(CMD_ENCARGADO);
flags:cproperty(CMD_ENCARGADO);
flags:vpcar(CMD_ENCARGADO);
flags:setvip(CMD_ENCARGADO);
flags:fix(CMD_ENCARGADO);
flags:arma(CMD_ENCARGADO);

//Administrador
flags:givemod(CMD_DEVELOPER);
flags:asay(CMD_DEVELOPER);
flags:setgender(CMD_DEVELOPER);
flags:ao(CMD_DEVELOPER);
flags:freezeall(CMD_DEVELOPER);
flags:ufr(CMD_DEVELOPER);
flags:stopall(CMD_DEVELOPER);
flags:explode(CMD_DEVELOPER);
flags:setlevel(CMD_DEVELOPER);
flags:setwork(CMD_DEVELOPER);
flags:setworkexp(CMD_DEVELOPER);
flags:setcash(CMD_DEVELOPER);
flags:ip(CMD_DEVELOPER);
flags:saveall(CMD_DEVELOPER);
flags:ac(CMD_DEVELOPER);
flags:setbmlevel(CMD_DEVELOPER);
flags:spos(CMD_DEVELOPER);
flags:destrv(CMD_DEVELOPER);
flags:restart(CMD_DEVELOPER);
flags:setname(CMD_DEVELOPER);
flags:exproperty(CMD_DEVELOPER);
flags:gotoproperty(CMD_DEVELOPER);
flags:setpass(CMD_DEVELOPER);
flags:osetname(CMD_DEVELOPER);
flags:delete(CMD_DEVELOPER);
flags:eco(CMD_DEVELOPER);
flags:givecoins(CMD_DEVELOPER);
flags:setcoins(CMD_DEVELOPER);
flags:setfstyle(CMD_DEVELOPER);
flags:admac(CMD_DEVELOPER);
flags:cleancrews(CMD_DEVELOPER);
flags:cleanproperties(CMD_DEVELOPER);
flags:cleanshop(CMD_DEVELOPER);
flags:ogivecoins(CMD_DEVELOPER);
flags:con(CMD_DEVELOPER);
flags:changeflags(CMD_DEVELOPER);
flags:selectobject(CMD_DEVELOPER);
flags:setnameplayer(CMD_DEVELOPER);
flags:setnametemp(CMD_DEVELOPER);
flags:printtestvehicles(CMD_DEVELOPER);
flags:gpos(CMD_DEVELOPER);
flags:cpos(CMD_DEVELOPER);
flags:placaex(CMD_DEVELOPER);
flags:setwlevel(CMD_DEVELOPER);
flags:sound(CMD_DEVELOPER);
flags:anim(CMD_DEVELOPER);
flags:cobject(CMD_DEVELOPER);
flags:say(CMD_DEVELOPER);
flags:setfdrum(CMD_DEVELOPER);
flags:ahalloween(CMD_DEVELOPER);
flags:anavidad(CMD_DEVELOPER);
flags:setweather(CMD_DEVELOPER);
flags:presolv(CMD_DEVELOPER);
flags:deletead(CMD_DEVELOPER);
flags:setthirst(CMD_DEVELOPER);
flags:sethunger(CMD_DEVELOPER);
flags:setgas(CMD_DEVELOPER);
flags:borrarop(CMD_DEVELOPER);
flags:historial(CMD_DEVELOPER);
flags:getversion(CMD_DEVELOPER);
flags:settime(CMD_DEVELOPER);

getPhoneNumber(dbid)
{
	new number_str[24];
	format(number_str, sizeof number_str, "%d%04d", random(999), dbid);
	return strval(number_str);
}

getBankAccountNumber(dbid)
{
	new number_str[24];
	format(number_str, sizeof number_str, "%d%04d", random(999), dbid);
	return strval(number_str);
}

SetPiDefaultValues(playerid)
{
	new tmp_PI[enum_PI];
	PI[playerid] = tmp_PI;

	new date[24];
	getDateTime(date);

	GetPlayerIp(playerid, PI[playerid][pi_IP], 16);
	format(PI[playerid][pi_NAME], 24, "%s", PLAYER_TEMP[playerid][pt_NAME]);
	format(PI[playerid][pi_LAST_CONNECTION], 24, "%s", date);
	format(PI[playerid][pi_REG_DATE], 24, "%s", date);
	PI[playerid][pi_LAST_CONNECTION_TIMESTAMP] = gettime();
	PI[playerid][pi_LEVEL] = 1;
	PI[playerid][pi_REP] = 1;
	PI[playerid][pi_CONNECTED] = 1;
	PI[playerid][pi_PLAYERID] = playerid;
	PI[playerid][pi_TIME_FOR_REP] = TIME_FOR_REP;
	PI[playerid][pi_SKIN] = Intro_Skins[0][0];
	PI[playerid][pi_CASH] = minrand(5000, 7000);
	PI[playerid][pi_POS_X] = New_User_Pos[0];
	PI[playerid][pi_POS_Y] = New_User_Pos[1];
	PI[playerid][pi_POS_Z] = New_User_Pos[2];
	PI[playerid][pi_ANGLE] = New_User_Pos[3];
	PI[playerid][pi_STATE] = ROLEPLAY_STATE_NORMAL;
	PI[playerid][pi_FIGHT_STYLE] = 4;
	PI[playerid][pi_HEALTH] = 100.0;
	PI[playerid][pi_HUNGRY] = 100.0;
	PI[playerid][pi_THIRST] = 100.0;
	PI[playerid][pi_CONFIG_SOUNDS] = 1;
	PI[playerid][pi_CONFIG_AUDIO] = 1;
	PI[playerid][pi_CONFIG_TIME] = 1;
	PI[playerid][pi_CONFIG_HUD] = 1;
	PI[playerid][pi_CONFIG_ADMIN] = 1;
	PI[playerid][pi_CONFIG_SECURE_LOGIN] = 0;
	PI[playerid][pi_PHONE_VISIBLE_NUMBER] = 1;
	PI[playerid][pi_DOUBT_CHANNEL] = 1;
	PI[playerid][pi_TWITTER_CHANNEL] = 1;
	PI[playerid][pi_ZONE_TEXT] = 1;
	PI[playerid][pi_PING] = 1;
	return 1;
}

getDateTime(string[])
{
	new
		Year, Month, Day,
		Hour, Minute, Second
	;
	getdate(Year, Month, Day);
	gettime(Hour, Minute, Second);

	format(string, 24, "%04d-%02d-%02d %02d:%02d:%02d", Year, Month, Day, Hour, Minute, Second);
	return 1;
}

public OnPlayerRegister(playerid)
{
	if(PLAYER_TEMP[playerid][pt_LOGIN_KICK_TIMER] != -1) {
		KillTimer(PLAYER_TEMP[playerid][pt_LOGIN_KICK_TIMER]);
		PLAYER_TEMP[playerid][pt_LOGIN_KICK_TIMER] = -1;
	}
	PLAYER_TEMP[playerid][pt_USER_LOGGED] = true;
	GetPlayerName(playerid, PLAYER_TEMP[playerid][pt_NOMBRE_ORIGINAL], MAX_PLAYER_NAME);
	
    new string22[150],SkinID[99]; 
    nw= DCC_FindChannelById("1440986423623946300");
	TogglePlayerSpectatingEx(playerid, false);
	StopAudioStreamForPlayer(playerid);
	ClearPlayerChat(playerid);
	TogglePlayerControllable(playerid, false);
	//PI[playerid][pi_DRIVE_LICENSE_POINTS] = 12;
	SendClientMessageEx(playerid, -1, "{66c4e4}{ffffff}Bienvenido %s, esperemos que disfrutes en {66c4e4}Spain +.", PLAYER_TEMP[playerid][pt_RP_NAME]);
	SendClientMessageEx(playerid, -1, "{66c4e4}{ffffff}Si necesitas ayuda puedes utilizar el comando {66c4e4}/ayuda {ffffff}o puedes usar el canal de dudas {66c4e4}/duda.", 2);
	format(string22, sizeof(string22), "**Lan-Bot** **Registro** Una cuenta **%s,** | Fue creada exitosamente | SAMP : **0.3.7**", PLAYER_TEMP[playerid][pt_RP_NAME]);
	new DCC_Embed:embed = DCC_CreateEmbed("Registros Spain+ RolePlay","","","",0x00ff00,"Spain+ RolePlay","","","");
    DCC_AddEmbedField(embed, "Registros", string22, true);
    DCC_SendChannelEmbedMessage(nw,embed);
    format(SkinID, sizeof(SkinID), "https://assets.open.mp/assets/images/skins/%d.png", PI[playerid][pi_SKIN]);
    DCC_SetEmbedThumbnail(embed, SkinID); 
    Streamer_ToggleItemUpdate(playerid, STREAMER_TYPE_OBJECT, 1);
    Streamer_ToggleItemUpdate(playerid, STREAMER_TYPE_PICKUP, 1);
    Streamer_ToggleItemUpdate(playerid, STREAMER_TYPE_3D_TEXT_LABEL, 1);
    
    /*new idxs = minrand(1, 1000);
	new player_slot = GetEmptyInvSlot(playerid);
    if(player_slot == -1) return SendNotification(playerid, "No tienes mas espacio en tus bolsillos.");
    PI[playerid][pi_BOL][player_slot] = 132;
	PI[playerid][pi_BOL_CANT][player_slot] = idxs;*/
	
	OtorgarLogro(playerid, 0);
	
	PI[playerid][pi_GUIA_INICIO] = 1;
	GuardarProgresoGuia(playerid); // Crea el archivo .ini
    ActualizarGuiaInicio(playerid);
    
    TogglePlayerControllableEx(playerid, true);
    
    
    
    
    new string[128];
	format(string, sizeof string, ""WHITE"Introduce un codigo de {3C80FF}referido\n"WHITE"+ 10.000{00FF00}$ "WHITE" + Nivel {3C80FF}2");
	Dialog_Show(playerid, Addreferido, DIALOG_STYLE_INPUT, "{3C80FF}[Referido] {ffffff}  Amigo", string, "»Aceptar", "xCancelar"); 
	
    if(LabelNombre[playerid] != Text3D:INVALID_3DTEXT_ID) {
    DestroyDynamic3DTextLabel(LabelNombre[playerid]);
    LabelNombre[playerid] = Text3D:INVALID_3DTEXT_ID; // Siempre resetea después de destruir
    }
    LabelNombre[playerid] = CreateDynamic3DTextLabel("Cargando...", 0xFFFFFFFF, 0.0, 0.0, 0.35, 15.0, playerid);


	twa(playerid);
	return 1;
}

void:AbrirInventarioBasurero(playerid, index)
{
    new string[1000]; // Asegúrate de que string esté vacío al inicio
    string[0] = '\0'; 
    
    new title[84];
    format(title, sizeof(title), "{828282}[Basurero] {ffffff}  ID: %d", BasureroData[index][ba_DB_ID]);

    for(new i = 0; i < 10; i++)
    {
        new itemid = BasureroData[index][ba_INV_ID][i]; 
        if(itemid == 0) 
        {
            strcat(string, "{ff0000}Vacio[] {FFFFFF}| Basura\n");
        }
        else 
        {
            // Usamos format para añadir la línea actual al string acumulado
            format(string, sizeof(string), "%s{00ff00}[%d]{ffffff} | %s\n", 
                string, 
                BasureroData[index][ba_INV_CANT][i], 
                ObjetoInfo[itemid][NombreObjeto]);
        }
    }
    strcat(string, "{cccccc}» Tirar Basura");

    PLAYER_TEMP[playerid][pt_VIEWING_BASURERO] = index;
    ShowPlayerDialog(playerid, DIALOG_BASURERO_INV, DIALOG_STYLE_LIST, title, string, "Seleccionar", "xCerrar");
    return 1;
}


void:ActualizarBasureroSlotDB(basurero_index, slot_index)
{
    new query[250];
    // slot_index + 1 para que coincida con slot_id_1 hasta slot_id_10 en la tabla
    mysql_format(srp_db, query, sizeof(query), 
        "UPDATE basureros SET slot_id_%d = %d, slot_cant_%d = %d WHERE id = %d", 
        slot_index + 1, BasureroData[basurero_index][ba_INV_ID][slot_index],
        slot_index + 1, BasureroData[basurero_index][ba_INV_CANT][slot_index],
        BasureroData[basurero_index][ba_DB_ID]
    );
    mysql_tquery(srp_db, query);
}

void:AbrirMenuRutasTrailero(playerid)
{
    new string[700];
    strcat(string, "{FFFFFF}Ruta\t{FFFFFF}Carga\t{FFFFFF}Pago\n");
    
    for(new i = 0; i < sizeof(InfoRutasTr); i++)
    {
        format(string, sizeof(string), "%s{FFFFFF}%s\t{33CCFF}%s\t{FFFFFF}%d{00FF00}$\n", 
            string, 
            InfoRutasTr[i][ruta_NOMBRE], 
            (InfoRutasTr[i][ruta_CARGA_MODELO] == 584 ? "Gasolina" : "Contenedor"), 
            InfoRutasTr[i][ruta_PAGO]);
    }
    
    ShowPlayerDialog(playerid, DIALOG_TRAILERO_RUTAS, DIALOG_STYLE_TABLIST_HEADERS, "{828282}[Rutas] {ffffff}  Disponibles", string, "Cargar", "xCerrar");
}

void:twa(playerid)
{
	new item = random(6);
	new messageNotify[128];
	switch(item)
	{
		case 0:
		{
			format(messageNotify, sizeof(messageNotify), "{66c4e4}@Twitter{8BFE53}·{66c4e4}#{FFFfFF} %s: {66c4e4}Bienvenido a Spain+ RolePlay, ¿Como nos encontraste?. ", PLAYER_TEMP[playerid][pt_RP_NAME]);
			SendClientMessageToAll( -1, messageNotify);

		}
		case 1:
		{
			format(messageNotify, sizeof(messageNotify), "{66c4e4}@Twitter{8BFE53}·{66c4e4}#{FFFfFF} %s: {66c4e4}Bienvenido a Spain+ RolePlay, ¿Todo listo para empezar?. ", PLAYER_TEMP[playerid][pt_RP_NAME]);
			SendClientMessageToAll( -1, messageNotify);
		}
		case 2:
		{
			format(messageNotify, sizeof(messageNotify), "{66c4e4}@Twitter{8BFE53}·{66c4e4}#{FFFfFF} %s: {66c4e4}Bienvenido a Spain+ RolePlay, ¡Gracias por registrarte! . ", PLAYER_TEMP[playerid][pt_RP_NAME]);
			SendClientMessageToAll( -1, messageNotify);
		}
		case 3:
		{
			format(messageNotify, sizeof(messageNotify), "{66c4e4}@Twitter{8BFE53}·{66c4e4}#{FFFfFF} %s: {66c4e4}Bienvenido a Spain+ RolePlay, ¿Preparado para lo qué se viene?. ", PLAYER_TEMP[playerid][pt_RP_NAME]);
			SendClientMessageToAll( -1, messageNotify);
		}
		case 4:
		{
			format(messageNotify, sizeof(messageNotify), "{66c4e4}@Twitter{8BFE53}·{66c4e4}#{FFFfFF} %s: {66c4e4}Bienvenido a Spain+ RolePlay, Acaba de descubrirnos. ", PLAYER_TEMP[playerid][pt_RP_NAME]);
			SendClientMessageToAll( -1, messageNotify);
		}
		case 5:
		{
			format(messageNotify, sizeof(messageNotify), "{66c4e4}@Twitter{8BFE53}·{66c4e4}#{FFFfFF} %s: {66c4e4}Bienvenido a Spain+ RolePlay, ¿Trajiste pizza?. ", PLAYER_TEMP[playerid][pt_RP_NAME]);
			SendClientMessageToAll( -1, messageNotify);
		}
	}
}

stock ActualizarGuiaInicio(playerid)
{
    DisablePlayerCheckpoint(playerid);
    if(PI[playerid][pi_GUIA_INICIO] == 0) return 1;

    PlayerPlaySound(playerid, 1056, 0.0, 0.0, 0.0);

    // He bajado el tamaño de 4.0 a 1.0 (el más pequeño funcional)
    switch(PI[playerid][pi_GUIA_INICIO])
    {
        case 1: // RENTA BICIS
        {
            SetPlayerCheckpoint(playerid, 1768.2116, -1901.9962, 13.5663, 1.0); 
            SendClientMessage(playerid, -1, "{FFFF00}[GUÍA]: {ffffff}Ve al punto marcado para {00FF00}Rentar una Bici{FFFFFF}.");
            ShowPlayerMessage(playerid, "~y~Paso 1:~w~ Rentar transporte", 5000);
        }
        case 2: // 24/7
        {
            SetPlayerCheckpoint(playerid, 1830.9256, -1842.3298, 13.5781, 1.0); 
            SendClientMessage(playerid, -1, "{FFFF00}[GUÍA]: {FFFFFF}Dirígete al {00FF00}24/7{FFFFFF} para comprar suministros.");
            ShowPlayerMessage(playerid, "~y~Paso 2:~w~ Comprar suministros", 5000);
        }
        case 3: // BANCO
        {
            SetPlayerCheckpoint(playerid, 1477.5036, -1013.1851, 26.8437, 1.0); 
            SendClientMessage(playerid, -1, "{FFFF00}[GUÍA]: {FFFFFF}Ve al {00FF00}Banco{FFFFFF} a crear una cuenta.");
            ShowPlayerMessage(playerid, "~y~Paso 3:~w~ Crear cuenta bancaria", 5000);
        }
        case 4: // AUTOESCUELA
        {
            SetPlayerCheckpoint(playerid, 1154.0612, -1770.9093, 16.5991, 1.0); 
            SendClientMessage(playerid, -1, "{FFFF00}[GUÍA]: {FFFFFF}Ve a la {00FF00}Autoescuela{FFFFFF} para sacar tu licencia.");
            ShowPlayerMessage(playerid, "~y~Paso 4:~w~ Obtener licencia", 5000);
        }
        case 5: // CONCESIONARIO
        {
            SetPlayerCheckpoint(playerid, 2130.5124, -1147.7564, 24.4273, 1.0); 
            SendClientMessage(playerid, -1, "{FFFF00}[GUÍA]: {FFFFFF}Visita el {00FF00}Concesionario{FFFFFF} para ver autos.");
            ShowPlayerMessage(playerid, "~y~Paso 5:~w~ Visitar concesionario", 5000);
        }
    }
    return 1;
}



forward OnPlayerGetPass(playerid);
public OnPlayerGetPass(playerid)
{
	inline OnPlayerGetLogin()
	{
		new rows;
		if(cache_get_row_count(rows))
		{
			if(rows)
			{
				new bool:isnull_crew;
				cache_get_value_name(0, "reg_date", PI[playerid][pi_REG_DATE], 24);
				cache_get_value_name(0, "last_connection", PI[playerid][pi_LAST_CONNECTION], 24);
				cache_get_value_name_int(0, "last_connection_timestamp", PI[playerid][pi_LAST_CONNECTION_TIMESTAMP]);
				cache_get_value_name_int(0, "time_playing", PI[playerid][pi_TIME_PLAYING]);
				cache_get_value_name_int(0, "level", PI[playerid][pi_LEVEL]);
				cache_get_value_name_int(0, "rep", PI[playerid][pi_REP]);
				cache_get_value_name_int(0, "doubt_channel", PI[playerid][pi_DOUBT_CHANNEL]);
				cache_get_value_name_int(0, "twitter_channel", PI[playerid][pi_DOUBT_CHANNEL]);
				cache_get_value_name_int(0, "time_for_rep", PI[playerid][pi_TIME_FOR_REP]);
				cache_get_value_name_int(0, "admin_level", PI[playerid][pi_ADMIN_LEVEL]);
				cache_get_value_name_int(0, "payday_rep", PI[playerid][pi_PAYDAY_REP]);
				cache_get_value_name_int(0, "vip", PI[playerid][pi_VIP]);
				cache_get_value_name(0, "vip_expire_date", PI[playerid][pi_VIP_EXPIRE_DATE], 24);
				cache_get_value_name_int(0, "coins", PI[playerid][pi_COINS]);
				cache_get_value_name_int(0, "DineroBlack", PI[playerid][pi_BLACK]);
				cache_get_value_name_int(0, "skin", PI[playerid][pi_SKIN]);
				cache_get_value_name_int(0, "cash", PI[playerid][pi_CASH]);
				cache_get_value_name_float(0, "pos_x", PI[playerid][pi_POS_X]);
				cache_get_value_name_float(0, "pos_y", PI[playerid][pi_POS_Y]);
				cache_get_value_name_float(0, "pos_z", PI[playerid][pi_POS_Z]);
				cache_get_value_name_float(0, "angle", PI[playerid][pi_ANGLE]);
				cache_get_value_name_int(0, "state", PI[playerid][pi_STATE]);
				cache_get_value_name_int(0, "interior", PI[playerid][pi_INTERIOR]);
				cache_get_value_name_int(0, "local_interior", PI[playerid][pi_LOCAL_INTERIOR]);
				cache_get_value_name_int(0, "fight_style", PI[playerid][pi_FIGHT_STYLE]);
				cache_get_value_name_float(0, "health", PI[playerid][pi_HEALTH]);
				cache_get_value_name_float(0, "armour", PI[playerid][pi_ARMOUR]);
				cache_get_value_name_int(0, "gender", PI[playerid][pi_GENDER]);
				cache_get_value_name_float(0, "hungry", PI[playerid][pi_HUNGRY]);
				cache_get_value_name_float(0, "thirst", PI[playerid][pi_THIRST]);
				cache_get_value_name_int(0, "black_market_level", PI[playerid][pi_BLACK_MARKET_LEVEL]);
				cache_get_value_name_int(0, "wanted_level", PI[playerid][pi_WANTED_LEVEL]);
				cache_get_value_name_int(0, "police_jail_time", PI[playerid][pi_POLICE_JAIL_TIME]);
				cache_get_value_name_int(0, "police_duty", PI[playerid][pi_POLICE_DUTY]);
				cache_get_value_name_int(0, "police_jail_id", PI[playerid][pi_POLICE_JAIL_ID]);
				cache_get_value_name_int(0, "drive_license_points", PI[playerid][pi_DRIVE_LICENSE_POINTS]);
				cache_get_value_name_int(0, "bank_account", PI[playerid][pi_BANK_ACCOUNT]);
				cache_get_value_name_int(0, "bank_money", PI[playerid][pi_BANK_MONEY]);
				cache_get_value_name_int(0, "phone_number", PI[playerid][pi_PHONE_NUMBER]);
				cache_get_value_name_int(0, "phone_state", PI[playerid][pi_PHONE_STATE]);
				cache_get_value_name_int(0, "phone_visible_number", PI[playerid][pi_PHONE_VISIBLE_NUMBER]);
				cache_get_value_name_int(0, "gps", PI[playerid][pi_GPS]);
				cache_get_value_name_int(0, "mp3", PI[playerid][pi_MP3]);
				cache_get_value_name_int(0, "phone_resolver", PI[playerid][pi_PHONE_RESOLVER]);
				cache_get_value_name_int(0, "speakers", PI[playerid][pi_SPEAKERS]);
				cache_get_value_name_int(0, "mechanic_pieces", PI[playerid][pi_MECHANIC_PIECES]);
				cache_get_value_name_int(0, "fuel_drum", PI[playerid][pi_FUEL_DRUM]);
				cache_get_value_name_int(0, "seed_medicine", PI[playerid][pi_SEED_MEDICINE]);
				cache_get_value_name_int(0, "seed_cannabis", PI[playerid][pi_SEED_CANNABIS]);
				cache_get_value_name_int(0, "seed_crack", PI[playerid][pi_SEED_CRACK]);
				cache_get_value_name_int(0, "medicine", PI[playerid][pi_MEDICINE]);
				cache_get_value_name_int(0, "cannabis", PI[playerid][pi_CANNABIS]);
				cache_get_value_name_int(0, "crack", PI[playerid][pi_CRACK]);
				cache_get_value_name_int(0, "mpack50", PI[playerid][pi_MPACK50]);
				cache_get_value_name_int(0, "mpack100", PI[playerid][pi_MPACK100]);
				cache_get_value_name_int(0, "cpack50", PI[playerid][pi_CPACK50]);
				cache_get_value_name_int(0, "cpack100", PI[playerid][pi_CPACK100]);
				cache_get_value_name_int(0, "dpack50", PI[playerid][pi_DPACK50]);
				cache_get_value_name_int(0, "dpack100", PI[playerid][pi_DPACK100]);
				cache_get_value_name_int(0, "config_sounds", PI[playerid][pi_CONFIG_SOUNDS]);
				cache_get_value_name_int(0, "config_audio", PI[playerid][pi_CONFIG_AUDIO]);
				cache_get_value_name_int(0, "config_time", PI[playerid][pi_CONFIG_TIME]);
				cache_get_value_name_int(0, "config_hud", PI[playerid][pi_CONFIG_HUD]);
				cache_get_value_name_int(0, "config_admin", PI[playerid][pi_CONFIG_ADMIN]);
				cache_get_value_name_int(0, "config_secure_login", PI[playerid][pi_CONFIG_SECURE_LOGIN]);
				cache_get_value_name_int(0, "mute", PI[playerid][pi_MUTE]);
				cache_get_value_name_int(0, "mutear_twitter", PI[playerid][pi_MUTE_TWITTER]);
				cache_get_value_name_int(0, "placa_pd", PI[playerid][pi_PLACA_PD]);
				cache_get_value_name_int(0, "placa_sm", PI[playerid][pi_PLACA_SM]);
				cache_get_value_name_int(0, "can_buy_bm", PI[playerid][pi_CAN_BUY_BM]);
				cache_is_value_name_null(0, "crew", isnull_crew);
				if(!isnull_crew) cache_get_value_name_int(0, "crew", PI[playerid][pi_CREW]);
				cache_get_value_name_int(0, "crew_rank", PI[playerid][pi_CREW_RANK]);
				cache_get_value_name_int(0, "mechanic_kits", PI[playerid][pi_MECHANIC_KITS]);
				cache_get_value_name_int(0, "medical_kits", PI[playerid][pi_MEDICAL_KITS]);
				cache_get_value_name_int(0, "cuchillo", PI[playerid][pi_CUCHILLO]);
				cache_get_value_name_int(0, "mochila", PI[playerid][pi_GANZUAS]);
				cache_get_value_name_int(0, "materiales", PI[playerid][pi_MATERIALES]);
				cache_get_value_name_int(0, "mascara", PI[playerid][pi_MASK]);
				cache_get_value_name_int(0, "manoizq", PI[playerid][pi_MANO_IZQ]);
				cache_get_value_name_int(0, "manoizqcant", PI[playerid][pi_IZQ_CANT]);
				cache_get_value_name_int(0, "manoder", PI[playerid][pi_MANO_DER]);
				cache_get_value_name_int(0, "manodercant", PI[playerid][pi_DER_CANT]); 
				cache_get_value_name_int(0, "cheat", PI[playerid][pi_CHEAT]); 
				cache_get_value_name_int(0, "kana", PI[playerid][pi_KANA]);
				cache_get_value_name_int(0, "A1", PI[playerid][pi_A1]); 
				cache_get_value_name_int(0, "A2", PI[playerid][pi_A2]);
				cache_get_value_name_int(0, "A3", PI[playerid][pi_A3]);
				cache_get_value_name_int(0, "A4", PI[playerid][pi_A4]);
				cache_get_value_name_int(0, "A5", PI[playerid][pi_A5]);
				cache_get_value_name_int(0, "A6", PI[playerid][pi_A6]);
				cache_get_value_name_int(0, "A7", PI[playerid][pi_A7]);
				cache_get_value_name_int(0, "A8", PI[playerid][pi_A8]);
				cache_get_value_name_int(0, "A9", PI[playerid][pi_A9]);
				cache_get_value_name_int(0, "A10", PI[playerid][pi_A10]);
				cache_get_value_name_int(0, "kills", PI[playerid][pi_KILLS]);
				
				new stringdado[128];
				for(new x = 0; x<MAX_SLOTS_INV; x++)
				{
					format(stringdado, 128, "bol%d",x);
					cache_get_value_name_int(0, stringdado, PI[playerid][pi_BOL][x]);
					//PonerObjeto(playerid, 3, x);
				}
				new stringdado2[128];
				for(new x = 0; x<MAX_SLOTS_INV; x++)
				{
					format(stringdado2, 128, "bolcant%d",x);
					cache_get_value_name_int(0, stringdado2, PI[playerid][pi_BOL_CANT][x]);
				}
				mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET connected = 1, playerid = %d WHERE id = %d;", playerid, PI[playerid][pi_ID]);
                mysql_tquery(srp_db, QUERY_BUFFER);
				OnPlayerLogin(playerid);
			}
			else Kick(playerid);
		}
		else Kick(playerid);
	}
	
	mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT * FROM player WHERE id = %d;", PI[playerid][pi_ID]);
	mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnPlayerGetLogin);
	return 1;
}

public OnPlayerLogin(playerid)
{
	if(PI[playerid][pi_CONFIG_SECURE_LOGIN]) {
		if(PI[playerid][pi_CONFIG_SECURE_LOGIN] && strcmp(PLAYER_TEMP[playerid][pt_IP], PI[playerid][pi_IP])) {
			inline OnSecureLoginCheck() {
				new rows;
				if(cache_get_row_count(rows)) {
					if(rows) {
						new date[24];
						getDateTime(date);
						mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player_secure_login SET last_connection = '%e' WHERE ip = '%e' AND id_player = %d;", date, PLAYER_TEMP[playerid][pt_IP], PI[playerid][pi_ID]);
						mysql_tquery(srp_db, QUERY_BUFFER);
						LoginPlayer(playerid);
					}
					else {
						new string[128];
						format(string, sizeof string, "id=%d&ip=%s", PI[playerid][pi_ID], PLAYER_TEMP[playerid][pt_IP]);
						HTTP(playerid, HTTP_POST, SECURE_LOGIN_REQUEST_URL, string, "OnSecureLoginRequestCode");
					}
				}
				else Kick(playerid);
			}
			mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT ip FROM player_secure_login WHERE ip = '%e' AND id_player = %d;", PLAYER_TEMP[playerid][pt_IP], PI[playerid][pi_ID]);
			mysql_tquery_inline(srp_db, QUERY_BUFFER, using inline OnSecureLoginCheck);
			return 1;
		}
	}

	LoginPlayer(playerid);
	return 1;
}

LoginPlayer(playerid) {
	PLAYER_TEMP[playerid][pt_USER_LOGGED] = true;
	
	Streamer_ToggleItemUpdate(playerid, STREAMER_TYPE_OBJECT, 1);
    Streamer_ToggleItemUpdate(playerid, STREAMER_TYPE_PICKUP, 1);
    Streamer_ToggleItemUpdate(playerid, STREAMER_TYPE_3D_TEXT_LABEL, 1);
	Streamer_Update(playerid, STREAMER_TYPE_OBJECT); 
	
	//Si tengo algún error con armas es LoadPlayerWeaponsData
	
	LoadPlayerVehicles(playerid);
	LoadPlayerPhoneBook(playerid);
	LoadPlayerToys(playerid);
	LoadPlayerGPSData(playerid);
	LoadManoIsWeapon(playerid);
	
	CargarApartamento(playerid);
	CargarEstado(playerid);
	CargarProgresoGuia(playerid);
	
	LoadPlayerWorks(playerid);
	LoadPlayerFactions(playerid);
	LoadPlayerCrewInfo(playerid);
	LoadPlayerAcento(playerid); 
	//LoadPlayerWorksPoints(playerid);
	CargarLogros(playerid); 
	
	PLAYER_TEMP[playerid][pt_INJURED_POS][0] = PI[playerid][pi_POS_X];
	PLAYER_TEMP[playerid][pt_INJURED_POS][1] = PI[playerid][pi_POS_Y];
	PLAYER_TEMP[playerid][pt_INJURED_POS][2] = PI[playerid][pi_POS_Z];
	PLAYER_TEMP[playerid][pt_INJURED_POS][3] = PI[playerid][pi_ANGLE];
	
	SetPlayerScore(playerid, PI[playerid][pi_LEVEL]);
	PLAYER_TEMP[playerid][pt_DOUBT_CHANNEL_TIME] = gettime();
	PLAYER_TEMP[playerid][pt_TWITTER_CHANNEL_TIME] = gettime();
	ResetPlayerMoney(playerid);
	GivePlayerMoney(playerid, PI[playerid][pi_CASH]);
	SetPlayerFightingStyle(playerid, PI[playerid][pi_FIGHT_STYLE]);
	PLAYER_AC_INFO[playerid][CHEAT_PLAYER_HEALTH][p_ac_info_IMMUNITY] = gettime() + 3;
	PLAYER_AC_INFO[playerid][CHEAT_PLAYER_ARMOUR][p_ac_info_IMMUNITY] = gettime() + 3;
	SetPlayerHealthEx(playerid, PI[playerid][pi_HEALTH]);
	SetPlayerArmourEx(playerid, PI[playerid][pi_ARMOUR]);
	SetPlayerVirtualWorld(playerid, 0);
	SetPlayerNormalColor(playerid);
	PLAYER_TEMP[playerid][pt_DO]= 0; 
	StopAudioStreamForPlayer(playerid);
	SetSpawnInfo(playerid, NO_TEAM, PI[playerid][pi_SKIN], PI[playerid][pi_POS_X], PI[playerid][pi_POS_Y], PI[playerid][pi_POS_Z], PI[playerid][pi_ANGLE], 0, 0, 0, 0, 0, 0);
	SetPlayerInterior(playerid, PI[playerid][pi_INTERIOR]);
	PLAYER_TEMP[playerid][pt_BAD_LOGIN_ATTEMP] = 0;
	PLAYER_TEMP[playerid][pt_GLOBAL_CHANNEL_TIME] = gettime();
	SendClientMessageEx(playerid, -1, "{66c4e4}{ffffff}Eres {66c4e4}nivel %d, {ffffff}te quedan {66c4e4}%d minutos {FFFFFF}para la siguiente reputación.", PI[playerid][pi_LEVEL], (PI[playerid][pi_TIME_FOR_REP] / 60000));
	SendClientMessageEx(playerid, -1,"{66c4e4}{ffffff}Bienvenido de nuevo {66c4e4}%s, {ffffff}tu última conexión fue el {66c4e4}%s.", PLAYER_TEMP[playerid][pt_RP_NAME], PI[playerid][pi_LAST_CONNECTION]);
	TogglePlayerSpectatingEx(playerid, false);
	TogglePlayerControllableEx(playerid, true);
	//SendMoneyToBank(playerid);	
    SetTimerEx("LoadPlayerHouseIcons", 500, false, "i", playerid);
    SetTimerEx("AplicarRemociones", 100, false, "i", playerid);
    GetPlayerName(playerid, PLAYER_TEMP[playerid][pt_NOMBRE_ORIGINAL], MAX_PLAYER_NAME);
    SetPlayerToys(playerid);
    
    APA[playerid][pi_AptoCooldown] = gettime() + 4;
    
    if(PI[playerid][pi_GUIA_INICIO] > 0)
    {
    ActualizarGuiaInicio(playerid);
    }
    
    if(LabelNombre[playerid] != Text3D:INVALID_3DTEXT_ID) {
    DestroyDynamic3DTextLabel(LabelNombre[playerid]);
    LabelNombre[playerid] = Text3D:INVALID_3DTEXT_ID; // Siempre resetea después de destruir
    }
    LabelNombre[playerid] = CreateDynamic3DTextLabel("Cargando...", 0xFFFFFFFF, 0.0, 0.0, 0.35, 15.0, playerid);
    return 1;
}

PrepararTopRicosGemas()
{
    new player_count = 0;
    
    // Estructura temporal y local para la función (usamos un enum similar, solo local)
    enum E_TEMP_STATS
    {
        Temp_PlayerID,
        Temp_Gemas,
    };
    new online_players[MAX_PLAYERS][E_TEMP_STATS];

    // Recorre a todos los jugadores conectados y guarda sus stats
    for (new i = 0; i < MAX_PLAYERS; i++)
    {
        if (IsPlayerConnected(i))
        {
            online_players[player_count][Temp_PlayerID] = i;
            // ¡ADAPTA ESTA LÍNEA A TU VARIABLE DE DINERO!
            online_players[player_count][Temp_Gemas] = PI[i][pi_COINS];
            player_count++;
        }
    }

    // Algoritmo de ordenamiento (Bubble Sort)
    for (new i = 0; i < player_count - 1; i++)
    {
        for (new j = i + 1; j < player_count; j++)
        {
            // Compara el dinero (Temp_Gemas)
            if (online_players[i][Temp_Gemas] < online_players[j][Temp_Gemas])
            {
                // Intercambia ambos campos (ID y Dinero)
                new temp_id = online_players[i][Temp_PlayerID];
                new temp_gemas = online_players[i][Temp_Gemas];

                online_players[i][Temp_PlayerID] = online_players[j][Temp_PlayerID];
                online_players[i][Temp_Gemas] = online_players[j][Temp_Gemas];
                
                online_players[j][Temp_PlayerID] = temp_id;
                online_players[j][Temp_Gemas] = temp_gemas;
            }
        }
    }

    // 3. Llenar el array global g_TopGemas con el nuevo ENUM
    new max_top = MAX_TOP_GEMAS;
    if (player_count < max_top) max_top = player_count; 

    for (new i = 0; i < MAX_TOP_GEMAS; i++)
    {
        if (i >= max_top)
        {
            // Marcar como inválido
            g_TopGemas[i][Top_PlayerID] = INVALID_PLAYER_ID; 
            g_TopGemas[i][Top_Gemas] = 0;
            continue;
        }
        
        // Copiar los datos al array global g_TopGemas
        g_TopGemas[i][Top_PlayerID] = online_players[i][Temp_PlayerID];
        g_TopGemas[i][Top_Gemas] = online_players[i][Temp_Gemas];
    }
}

// Función que muestra el diálogo (debe ir después de PrepararTopRicos)
MostrarTopRicosGemas(playerid)
{
    PrepararTopRicosGemas(); 

    new dialog_content[2048]; 
    new temp_str[144]; // Suficiente para una línea
    new player_name[MAX_PLAYER_NAME];
    
    dialog_content[0] = '\0'; // Limpieza inicial

    // Encabezado simplificado (Sin tabuladores extra que bugean Android)
    strcat(dialog_content, "{ffffff}Posición\t{ffffff}Jugador\t{ffffff}Gemas\n"); 
    
    for (new i = 0; i < MAX_TOP_GEMAS; i++)
    {
        // Si no hay gemas o el ID es inválido, paramos
        if (g_TopGemas[i][Top_PlayerID] == INVALID_PLAYER_ID) break;
        if (g_TopGemas[i][Top_Gemas] <= 0) break;

        GetPlayerName(g_TopGemas[i][Top_PlayerID], player_name, sizeof(player_name));
        
        // Formato limpio: Posición | Nombre | Gemas
        format(temp_str, sizeof(temp_str), 
               "{FFFFFF}%d\t{FFFFFF}%s\t{2B00FF}%s G\n", 
               i + 1, player_name, number_format_thousand(g_TopGemas[i][Top_Gemas]));
               
        strcat(dialog_content, temp_str);
    }
    
    ShowPlayerDialog(playerid, DIALOG_TOP_GEMAS, DIALOG_STYLE_TABLIST_HEADERS,
        "{B77610}[Ricos] {ffffff}Top 10 Gemas", 
        dialog_content,
        "Actualizar", 
        "xCerrar");
}


PrepararTopRicosKills()
{
    new player_count = 0;
    
    // Estructura temporal y local para la función (usamos un enum similar, solo local)
    enum E_TEMP_STATS
    {
        Temp_PlayerID,
        Temp_Kills,
    };
    new online_players[MAX_PLAYERS][E_TEMP_STATS];

    // Recorre a todos los jugadores conectados y guarda sus stats
    for (new i = 0; i < MAX_PLAYERS; i++)
    {
        if (IsPlayerConnected(i))
        {
            online_players[player_count][Temp_PlayerID] = i;
            // ¡ADAPTA ESTA LÍNEA A TU VARIABLE DE DINERO!
            online_players[player_count][Temp_Kills] = PI[i][pi_KILLS];
            player_count++;
        }
    }

    // Algoritmo de ordenamiento (Bubble Sort)
    for (new i = 0; i < player_count - 1; i++)
    {
        for (new j = i + 1; j < player_count; j++)
        {
            // Compara el dinero (Temp_Kills)
            if (online_players[i][Temp_Kills] < online_players[j][Temp_Kills])
            {
                // Intercambia ambos campos (ID y Dinero)
                new temp_id = online_players[i][Temp_PlayerID];
                new temp_kills = online_players[i][Temp_Kills];

                online_players[i][Temp_PlayerID] = online_players[j][Temp_PlayerID];
                online_players[i][Temp_Kills] = online_players[j][Temp_Kills];
                
                online_players[j][Temp_PlayerID] = temp_id;
                online_players[j][Temp_Kills] = temp_kills;
            }
        }
    }

    // 3. Llenar el array global g_TopKills con el nuevo ENUM
    new max_top = MAX_TOP_KILLS;
    if (player_count < max_top) max_top = player_count; 

    for (new i = 0; i < MAX_TOP_KILLS; i++)
    {
        if (i >= max_top)
        {
            // Marcar como inválido
            g_TopKills[i][Top_PlayerID] = INVALID_PLAYER_ID; 
            g_TopKills[i][Top_Kills] = 0;
            continue;
        }
        
        // Copiar los datos al array global g_TopKills
        g_TopKills[i][Top_PlayerID] = online_players[i][Temp_PlayerID];
        g_TopKills[i][Top_Kills] = online_players[i][Temp_Kills];
    }
}

MostrarTopRicosKills(playerid)
{
    PrepararTopRicosKills(); 

    new dialog_content[2048]; // Este es el tamaño máximo real estable
    new temp_str[128]; // Una línea del top no mide más de 128 caracteres
    new player_name[MAX_PLAYER_NAME];
    
    // Limpiamos el contenido inicial
    dialog_content[0] = '\0';

    // El encabezado para TABLIST_HEADERS
    strcat(dialog_content, "{ffffff}Posición\t{ffffff}Jugador\t{ffffff}Kills\n"); 
    
    for (new i = 0; i < MAX_TOP_KILLS; i++)
    {
        // IMPORTANTE: Asegúrate de que g_TopKills tenga datos válidos
        if (g_TopKills[i][Top_Kills] <= 0) break; 

        GetPlayerName(g_TopKills[i][Top_PlayerID], player_name, sizeof(player_name));
        
        // Formateamos la línea de forma compacta
        format(temp_str, sizeof(temp_str), 
               "{FFFFFF}%d\t{FFFFFF}%s\t{D50000}%d K\n", 
               i + 1, player_name, g_TopKills[i][Top_Kills]);
               
        strcat(dialog_content, temp_str);
    }
    
    ShowPlayerDialog(playerid, DIALOG_TOP_KILLS, DIALOG_STYLE_TABLIST_HEADERS,
        "{828282}[DM] {ffffff}Top 10 Kills", 
        dialog_content,
        "Actualizar", 
        "xCerrar");
}


//#define -1X 0xAAFF00FF // Código hexadecimal para el color verde

// --- Función que se llama 0.5 segundos después del Spawn ---
forward LoadPlayerHouseIcons(playerid);
public LoadPlayerHouseIcons(playerid)
{
    // Si el jugador se desconectó antes de que se ejecutara el timer, no hacemos nada.
    if (!IsPlayerConnected(playerid)) 
    {
        return 0;
    }

// En tu función retrasada (LoadPlayerHouseIcons o similar)
new property_slot = 0; 
new cuentaID = PI[playerid][pi_ID]; 

for(new i = 0; i < MAX_PROPERTIES; i ++)
{
    // --- 1. FILTRO DE DATOS ---
    // Verificamos que la propiedad exista, esté vendida, y sea del dueño.
    if (!PROPERTY_INFO[i][property_VALID] || !PROPERTY_INFO[i][property_SOLD] || PROPERTY_INFO[i][property_OWNER_ID] != cuentaID) 
    {
        continue;
    }
    
    // --- 2. CONTROL DE SLOTS ---
    // Detener la creación si se supera el límite de íconos nativos (100).
    if (property_slot >= 100) 
    {
        break; 
    }
    
    // --- 3. CREACIÓN DEL ÍCONO (GLOBAL) ---
    // Usamos MAPICON_GLOBAL (2) para que se vea de lejos.
    // **ADVERTENCIA:** El color (0xFF00FF00) será ignorado y se verá BLANCO/GRIS.
    SetPlayerMapIcon(
        playerid,           
        property_slot,      // <- ID Único (0, 1, 2, 3...) para cada casa
        PROPERTY_INFO[i][property_EXT_X], 
        PROPERTY_INFO[i][property_EXT_Y], 
        PROPERTY_INFO[i][property_EXT_Z], 
        31,         
        0xFF00FF00,         // Color (será ignorado)
        MAPICON_GLOBAL      // <- Estilo 2: Visibilidad Global
    );
    
    // Incrementamos el slot para que la siguiente casa use un ID diferente
    property_slot++; 
    }
    return 1;
}

UpdatePlayerWorldInfo(playerid)
{
	if(PLAYER_TEMP[playerid][pt_GAME_STATE] == GAME_STATE_DEAD || PLAYER_TEMP[playerid][pt_GAME_STATE] == GAME_STATE_NORMAL)
	{
		//health armour
		GetPlayerHealth(playerid, PI[playerid][pi_HEALTH]);
		GetPlayerArmour(playerid, PI[playerid][pi_ARMOUR]);
		if(PI[playerid][pi_HEALTH] <= 0.0) PI[playerid][pi_HEALTH] = 1.0;
		if(PI[playerid][pi_HEALTH] > 100.0) PI[playerid][pi_HEALTH] = 100.0;
		if(PI[playerid][pi_ARMOUR] > 100.0) PI[playerid][pi_ARMOUR] = 100.0;

		//world
		switch(PI[playerid][pi_STATE])
		{
			case ROLEPLAY_STATE_INTERIOR:
			{
				new index = GetEnterExitIndexById(PI[playerid][pi_LOCAL_INTERIOR]);
				if(index == -1)
				{
					PI[playerid][pi_STATE] = ROLEPLAY_STATE_NORMAL;
					PI[playerid][pi_LOCAL_INTERIOR] = 0;
					PI[playerid][pi_POS_X] = New_User_Pos[0];
					PI[playerid][pi_POS_Y] = New_User_Pos[1];
					PI[playerid][pi_POS_Z] = New_User_Pos[2];
					PI[playerid][pi_ANGLE] = New_User_Pos[3];
					PI[playerid][pi_INTERIOR] = 0;
				}
				else
				{
					PI[playerid][pi_STATE] = ROLEPLAY_STATE_NORMAL;
					PI[playerid][pi_LOCAL_INTERIOR] = 0;
					PI[playerid][pi_POS_X] = ENTER_EXIT[index][ee_EXT_X];
					PI[playerid][pi_POS_Y] = ENTER_EXIT[index][ee_EXT_Y];
					PI[playerid][pi_POS_Z] = ENTER_EXIT[index][ee_EXT_Z];
					PI[playerid][pi_ANGLE] = ENTER_EXIT[index][ee_EXT_ANGLE];
					PI[playerid][pi_INTERIOR] = ENTER_EXIT[index][ee_EXT_INTERIOR];
				}
			}
			case ROLEPLAY_STATE_OWN_PROPERTY:
			{
				new index = GetPropertyIndexByID(PI[playerid][pi_LOCAL_INTERIOR]);
				if(index == -1)
				{
					PI[playerid][pi_STATE] = ROLEPLAY_STATE_NORMAL;
					PI[playerid][pi_LOCAL_INTERIOR] = 0;
					PI[playerid][pi_POS_X] = New_User_Pos[0];
					PI[playerid][pi_POS_Y] = New_User_Pos[1];
					PI[playerid][pi_POS_Z] = New_User_Pos[2];
					PI[playerid][pi_ANGLE] = New_User_Pos[3];
					PI[playerid][pi_INTERIOR] = 0;
				}
				else
				{
					if(PROPERTY_INFO[index][property_OWNER_ID] == PI[playerid][pi_ID])
					{
						PI[playerid][pi_POS_X] = PROPERTY_INTERIORS[ PROPERTY_INFO[index][property_ID_INTERIOR] ][property_INT_X];
						PI[playerid][pi_POS_Y] = PROPERTY_INTERIORS[ PROPERTY_INFO[index][property_ID_INTERIOR] ][property_INT_Y];

						new Float:z_pos = PROPERTY_INTERIORS[ PROPERTY_INFO[index][property_ID_INTERIOR] ][property_INT_Z];
						if(PROPERTY_INFO[index][property_DIS_DEFAULT_INTERIOR]) z_pos += PROPERTY_EMPTY_INTERIOR_Z_OFFSET;
						PI[playerid][pi_POS_Z] = z_pos;

						PI[playerid][pi_ANGLE] = PROPERTY_INTERIORS[ PROPERTY_INFO[index][property_ID_INTERIOR] ][property_INT_ANGLE];
						PI[playerid][pi_INTERIOR] = PROPERTY_INTERIORS[ PROPERTY_INFO[index][property_ID_INTERIOR] ][property_INT_INTERIOR];
					}
					else
					{
						PI[playerid][pi_STATE] = ROLEPLAY_STATE_NORMAL;
						PI[playerid][pi_LOCAL_INTERIOR] = 0;
						PI[playerid][pi_POS_X] = PROPERTY_INFO[index][property_EXT_X];
						PI[playerid][pi_POS_Y] = PROPERTY_INFO[index][property_EXT_Y];
						PI[playerid][pi_POS_Z] = PROPERTY_INFO[index][property_EXT_Z];
						PI[playerid][pi_ANGLE] = PROPERTY_INFO[index][property_EXT_ANGLE];
						PI[playerid][pi_INTERIOR] = PROPERTY_INFO[index][property_EXT_INTERIOR];
					}
				}
			}
			case ROLEPLAY_STATE_GUEST_PROPERTY:
			{
				new index = GetPropertyIndexByID(PI[playerid][pi_LOCAL_INTERIOR]);
				if(index == -1)
				{
					PI[playerid][pi_STATE] = ROLEPLAY_STATE_NORMAL;
					PI[playerid][pi_LOCAL_INTERIOR] = 0;
					PI[playerid][pi_POS_X] = New_User_Pos[0];
					PI[playerid][pi_POS_Y] = New_User_Pos[1];
					PI[playerid][pi_POS_Z] = New_User_Pos[2];
					PI[playerid][pi_ANGLE] = New_User_Pos[3];
					PI[playerid][pi_INTERIOR] = 0;
				}
				else
				{
					PI[playerid][pi_STATE] = ROLEPLAY_STATE_NORMAL;
					PI[playerid][pi_LOCAL_INTERIOR] = 0;
					PI[playerid][pi_POS_X] = PROPERTY_INFO[index][property_EXT_X];
					PI[playerid][pi_POS_Y] = PROPERTY_INFO[index][property_EXT_Y];
					PI[playerid][pi_POS_Z] = PROPERTY_INFO[index][property_EXT_Z];
					PI[playerid][pi_ANGLE] = PROPERTY_INFO[index][property_EXT_ANGLE];
					PI[playerid][pi_INTERIOR] = PROPERTY_INFO[index][property_EXT_INTERIOR];
				}
			}
			case ROLEPLAY_STATE_JAIL:
			{
				PI[playerid][pi_POS_X] = JAIL_POSITIONS[ PI[playerid][pi_POLICE_JAIL_ID] ][jail_X];
				PI[playerid][pi_POS_Y] = JAIL_POSITIONS[ PI[playerid][pi_POLICE_JAIL_ID] ][jail_Y];
				PI[playerid][pi_POS_Z] = JAIL_POSITIONS[ PI[playerid][pi_POLICE_JAIL_ID] ][jail_Z];
				PI[playerid][pi_ANGLE] = JAIL_POSITIONS[ PI[playerid][pi_POLICE_JAIL_ID] ][jail_ANGLE];
				PI[playerid][pi_INTERIOR] = JAIL_POSITIONS[ PI[playerid][pi_POLICE_JAIL_ID]  ][jail_INTERIOR];
			}
			default:
			{
				GetPlayerPos(playerid, PI[playerid][pi_POS_X], PI[playerid][pi_POS_Y], PI[playerid][pi_POS_Z]);
				GetPlayerFacingAngle(playerid, PI[playerid][pi_ANGLE]);
				PI[playerid][pi_INTERIOR] = GetPlayerInterior(playerid);
			}
		}
		return 1;
	}
	return 0;
}

SavePlayerData(playerid)
{
	if(PI[playerid][pi_ID])
	{
		new tmp_crew[24], tmp_vip_expire_date[24];

		tmp_crew = "NULL";
		if(PI[playerid][pi_CREW]) format(tmp_crew, sizeof tmp_crew, "%d", PI[playerid][pi_CREW]);

		tmp_vip_expire_date = "'0000-00-00 00:00:00'";
		if(strlen(PI[playerid][pi_VIP_EXPIRE_DATE]) > 3) format(tmp_vip_expire_date, sizeof tmp_vip_expire_date, "'%s'", PI[playerid][pi_VIP_EXPIRE_DATE]);

        ActualizarManos(playerid);
        
		mysql_format
		(
			srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER,
			"\
				UPDATE player SET \
					name = '%e',\
					ip = '%e',\
					email = '%e',\
					salt = '%e',\
					pass = '%e',\
					reg_date = '%e',\
					last_connection = '%e',\
					last_connection_timestamp = %d,\
					time_playing = %d,\
					level = %d,\
					rep = %d,\
					connected = %d,\
					playerid = %d,\
					doubt_channel = %d,\
					twitter_channel = %d,\
					time_for_rep = %d,\
					admin_level = %d,\
					payday_rep = %d,\
					vip = %d,\
					vip_expire_date = %s,\
					skin = %d,\
					cash = %d,\
					pos_x = %f,\
					pos_y = %f,\
					pos_z = %f,\
					angle = %f,\
					state = %d,\
					interior = %d,\
					local_interior = %d,\
					fight_style = %d,\
					health = %f,\
					armour = %f,\
					gender = %d,\
					hungry = %f,\
					thirst = %f,\
					black_market_level = %d,\
					wanted_level = %d,\
					police_jail_time = %d,\
					police_duty = %d,\
					police_jail_id = %d,\
					drive_license_points = %d,\
					bank_account = %d,\
					bank_money = %d,\
					phone_number = %d,\
					phone_state = %d,\
					phone_visible_number = %d,\
					gps = %d,\
					mp3 = %d,\
					phone_resolver = %d,\
					speakers = %d,\
					mechanic_pieces = %d,\
					fuel_drum = %d,\
					seed_medicine = %d,\
					seed_cannabis = %d,\
					seed_crack = %d,\
					medicine = %d,\
					cannabis = %d,\
					crack = %d,\
					mpack50 = %d,\
					mpack100 = %d,\
					cpack50 = %d,\
					cpack100 = %d,\
					dpack50 = %d,\
					dpack100 = %d,\
					config_sounds = %d,\
					config_audio = %d,\
					config_time = %d,\
					config_hud = %d,\
					config_admin = %d,\
					config_secure_login = %d,\
					mute = %d,\
					mutear_twitter = %d, \
					placa_pd = %d,\
					placa_sm = %d,\
					can_buy_bm = %d,\
					crew = %s,\
					crew_rank = %d,\
					mechanic_kits = %d,\
					medical_kits = %d, \
					cuchillo = %d, \
					materiales = %d, \
					mascara = %d, \
					mochila = %d, \
					DineroBlack = %d, \
					manoizq = %d, \
					manoizqcant = %d, \
					manoder = %d, \
					manodercant = %d, \
					cheat = %d, \
					kana = %d, \
					A1 = %d, \
					A2 = %d, \
					A3 = %d, \
					A4 = %d, \
					A5 = %d, \
					A6 = %d, \
					A7 = %d, \
					A8 = %d, \
					A9 = %d, \
					A10 = %d, \
					kills = %d \
				WHERE id = %d;\
			",
				PI[playerid][pi_NAME], PI[playerid][pi_IP], PI[playerid][pi_EMAIL], PI[playerid][pi_SALT], PI[playerid][pi_PASS], PI[playerid][pi_REG_DATE], PI[playerid][pi_LAST_CONNECTION],
				PI[playerid][pi_LAST_CONNECTION_TIMESTAMP], PI[playerid][pi_TIME_PLAYING], PI[playerid][pi_LEVEL], PI[playerid][pi_REP], PI[playerid][pi_CONNECTED], PI[playerid][pi_PLAYERID],
				PI[playerid][pi_DOUBT_CHANNEL], PI[playerid][pi_TWITTER_CHANNEL], PI[playerid][pi_TIME_FOR_REP], PI[playerid][pi_ADMIN_LEVEL], PI[playerid][pi_PAYDAY_REP], PI[playerid][pi_VIP], tmp_vip_expire_date,
				PI[playerid][pi_SKIN], PI[playerid][pi_CASH], PI[playerid][pi_POS_X], PI[playerid][pi_POS_Y], PI[playerid][pi_POS_Z], PI[playerid][pi_ANGLE],
				PI[playerid][pi_STATE], PI[playerid][pi_INTERIOR], PI[playerid][pi_LOCAL_INTERIOR], PI[playerid][pi_FIGHT_STYLE], PI[playerid][pi_HEALTH], PI[playerid][pi_ARMOUR], PI[playerid][pi_GENDER],
				PI[playerid][pi_HUNGRY], PI[playerid][pi_THIRST], PI[playerid][pi_BLACK_MARKET_LEVEL], PI[playerid][pi_WANTED_LEVEL], PI[playerid][pi_POLICE_JAIL_TIME], PI[playerid][pi_POLICE_DUTY],
				PI[playerid][pi_POLICE_JAIL_ID], PI[playerid][pi_DRIVE_LICENSE_POINTS], PI[playerid][pi_BANK_ACCOUNT], PI[playerid][pi_BANK_MONEY], PI[playerid][pi_PHONE_NUMBER],
				PI[playerid][pi_PHONE_STATE], PI[playerid][pi_PHONE_VISIBLE_NUMBER], PI[playerid][pi_GPS], PI[playerid][pi_MP3], PI[playerid][pi_PHONE_RESOLVER], PI[playerid][pi_SPEAKERS],
				PI[playerid][pi_MECHANIC_PIECES], PI[playerid][pi_FUEL_DRUM], PI[playerid][pi_SEED_MEDICINE], PI[playerid][pi_SEED_CANNABIS], PI[playerid][pi_SEED_CRACK], PI[playerid][pi_MEDICINE],
				PI[playerid][pi_CANNABIS], PI[playerid][pi_CRACK], PI[playerid][pi_MPACK50], PI[playerid][pi_MPACK100], PI[playerid][pi_CPACK50], PI[playerid][pi_CPACK100], PI[playerid][pi_DPACK50], PI[playerid][pi_DPACK100], PI[playerid][pi_CONFIG_SOUNDS], PI[playerid][pi_CONFIG_AUDIO], PI[playerid][pi_CONFIG_TIME], PI[playerid][pi_CONFIG_HUD],
				PI[playerid][pi_CONFIG_ADMIN], PI[playerid][pi_CONFIG_SECURE_LOGIN], PI[playerid][pi_MUTE], PI[playerid][pi_MUTE_TWITTER],PI[playerid][pi_PLACA_PD], PI[playerid][pi_PLACA_SM], PI[playerid][pi_CAN_BUY_BM], tmp_crew, PI[playerid][pi_CREW_RANK],
				PI[playerid][pi_MECHANIC_KITS], PI[playerid][pi_MEDICAL_KITS], PI[playerid][pi_CUCHILLO], PI[playerid][pi_MATERIALES], PI[playerid][pi_MASK], PI[playerid][pi_GANZUAS], PI[playerid][pi_BLACK],
				PI[playerid][pi_MANO_IZQ], PI[playerid][pi_IZQ_CANT], PI[playerid][pi_MANO_DER], PI[playerid][pi_DER_CANT], PI[playerid][pi_CHEAT], PI[playerid][pi_KANA], PI[playerid][pi_A1], PI[playerid][pi_A2], PI[playerid][pi_A3], PI[playerid][pi_A4], PI[playerid][pi_A5], PI[playerid][pi_A6], PI[playerid][pi_A7], PI[playerid][pi_A8], PI[playerid][pi_A9], PI[playerid][pi_A10], PI[playerid][pi_KILLS], PI[playerid][pi_ID]
		);
		mysql_tquery(srp_db, QUERY_BUFFER);
		
    	for(new x = 0; x<MAX_SLOTS_INV; x++)
		{
		    mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE player SET bol%d=%d, bolcant%d=%d WHERE id = '%d'", x, PI[playerid][pi_BOL][x], x, PI[playerid][pi_BOL_CANT][x], PI[playerid][pi_ID]);
			mysql_tquery(srp_db, QUERY_BUFFER);
		}

		return 1;
	}
	return 0;
}

CountPlayerVehicles(playerid)
{
    new count = 0;
    new db_id = PI[playerid][pi_ID];
    if(db_id <= 0) return 0;

    // 1. Contamos los vehículos que están EN LA CALLE
    // Recorremos todos los slots de vehículos del servidor
    for(new i = 0; i < MAX_VEHICLES; i++)
    {
        if(PLAYER_VEHICLES[i][player_vehicle_VALID] && PLAYER_VEHICLES[i][player_vehicle_OWNER_ID] == db_id)
        {
            count++;
        }
    }

    // 2. Contamos los vehículos que están EN EL PARKING
    // Usamos el límite de 6 (MAX_SU_VEHICLES) porque es el tope máximo del servidor
    for(new i = 0; i < MAX_SU_VEHICLES; i++) 
    {
        if(ParkingVehicles[playerid][i][pvValid])
        {
            count++;
        }
    }

    return count;
}



CountPlayerProperties(playerid)
{
	new count;
	if(PI[playerid][pi_ID])
	{
		for(new i = 0; i < MAX_PROPERTIES; i ++)
		{
			if(PROPERTY_INFO[i][property_VALID])
			{
				if(PROPERTY_INFO[i][property_SOLD] && PROPERTY_INFO[i][property_OWNER_ID] == PI[playerid][pi_ID])
				{
					count ++;
					if(count >= MAX_SU_PROPERTIES)
					{
						break;
					}
				}
			}
		}
	}
	return count;
}

SavePlayerWorkLevels(playerid)
{
	if(!PI[playerid][pi_ID]) return 0;

	for(new i = 0; i != sizeof work_info; i ++)
	{
		if(!PLAYER_WORKS[playerid][i][pwork_SET] || !i) continue;
		mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE pworks SET level = %d WHERE id_player = %d AND id_work = %d;", PLAYER_WORKS[playerid][i][pwork_LEVEL], PI[playerid][pi_ID], i);
		mysql_tquery(srp_db, QUERY_BUFFER);
	}
	return 1;
}

#define PlayerTask_Interval_Seconds 10
ptask PlayerTask[PlayerTask_Interval_Seconds * 1000](playerid)
{
	PI[playerid][pi_TIME_PLAYING] += PlayerTask_Interval_Seconds;
}

native gpci(playerid, serial[], len);
CheckPlayerFakeClient(playerid) //experimental
{
    if(IsPlayerNPC(playerid)) return 0;
    new sr[80],  fcharcount;
    gpci(playerid, sr, sizeof(sr));
    for(new i = 0; i < strlen(sr); i++)
    {
        if(sr[i] >= '0' && sr[i] <= '9')  fcharcount++;
    }
    return (fcharcount>= 30 || strlen(sr) <= 30) ? true : false;
}

stock HexToInt(string[])//DracoBlue
{
   if (string[0] == 0) return 0;
   new i, cur=1, res = 0;
   for (i=strlen(string);i>0;i--) {
     if (string[i-1]<58) res=res+cur*(string[i-1]-48); else res=res+cur*(string[i-1]-65+10);
     cur=cur*16;
   }
   return res;
}

GetCrewTerritories(id)
{
	new
		count;

	for(new i = 0; i != MAX_TERRITORIES; i ++)
	{
		if(TERRITORIES[i][territory_CREW_ID] == id) count++;
	}
	return count;
}

stock CountPolicesOnDuty() {
	new count = 0;
	for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
	{
		if(IsPlayerConnected(i))
		{
			if(PLAYER_TEMP[i][pt_GAME_STATE] == GAME_STATE_NORMAL)
			{
				if(PLAYER_WORKS[i][WORK_POLICE][pwork_SET] && PLAYER_TEMP[i][pt_WORKING_IN] == WORK_POLICE) {
					count ++;
				}
			}
		}
	}
	return count;
}

stock CountPlayersOnConnected()
{
	new count = 0;
	foreach(new i : Player)
	{
		if(IsPlayerConnected(i))
		{
			count ++;
		}
	}
	return count;
}

hook OnPlayerKeyPressFinish(playerid) {
	if(PLAYER_TEMP[playerid][pt_PLANTING]) {
		PLAYER_TEMP[playerid][pt_WORKING_IN] = WORK_NONE;
		PLAYER_TEMP[playerid][pt_PLANTING] = false;
		PLAYER_TEMP[playerid][pt_LAST_PLANT_TIME] = gettime();

		TogglePlayerControllableEx(playerid, true);
		ClearAnimations(playerid);

		//objeto planta: 801
		new index = GetAvaiblePlantIndex();
		if(index == -1)
		{
			switch(seed_info[ PLAYER_TEMP[playerid][pt_PLANTING_PLANT_SELECTED] ][seed_info_PLANT_TYPE])
			{
				case PLANT_TYPE_MEDICINE: PI[playerid][pi_SEED_MEDICINE] += plant_info[ PLAYER_TEMP[playerid][pt_PLANTING_PLANT_SELECTED] ][plant_info_SEEDS];
				case PLANT_TYPE_CANNABIS: PI[playerid][pi_SEED_CANNABIS] += plant_info[ PLAYER_TEMP[playerid][pt_PLANTING_PLANT_SELECTED] ][plant_info_SEEDS];
				case PLANT_TYPE_CRACK: PI[playerid][pi_SEED_CRACK] += plant_info[ PLAYER_TEMP[playerid][pt_PLANTING_PLANT_SELECTED] ][plant_info_SEEDS];
			}

			ShowPlayerMessage(playerid, "No queda espacio para más plantas, te hemos devuelto las semillas. Prueba ms tarde.", 2);
			return 1;
		}

		GetPlayerPos(playerid, PI[playerid][pi_POS_X], PI[playerid][pi_POS_Y], PI[playerid][pi_POS_Z]);
		GetPlayerFacingAngle(playerid, PI[playerid][pi_ANGLE]);
		PI[playerid][pi_POS_X] += (1.0 * floatsin(-PI[playerid][pi_ANGLE], degrees));
		PI[playerid][pi_POS_Y] += (1.0 * floatcos(-PI[playerid][pi_ANGLE], degrees));
		PI[playerid][pi_POS_Z] -= 0.75;

		PLANTS[index][plant_VALID] = true;
		PLANTS[index][plant_GROWING] = true;
		PLANTS[index][plant_INVISIBLE] = true;
		PLANTS[index][plant_GROWING_PROGRESS] = frandom(10.0, 8.0, 2);
		PLANTS[index][plant_TYPE] = PLAYER_TEMP[playerid][pt_PLANTING_PLANT_SELECTED];
		PLANTS[index][plant_PLANTED_BY_ACCOUNT_ID] = PI[playerid][pi_ID];
		PLANTS[index][plant_IMMUNITY] = -1;
		PLANTS[index][plant_VIRTUAL_WORLD] = GetPlayerVirtualWorld(playerid);

		format(PLANTS[index][plant_PLANTED_BY_NAME], 24, "%s", PLAYER_TEMP[playerid][pt_RP_NAME]);
		PLANTS[index][plant_OBJECT_ID] = CreateDynamicObject(19473, PI[playerid][pi_POS_X], PI[playerid][pi_POS_Y], PI[playerid][pi_POS_Z], 0.0, 0.0, PI[playerid][pi_ANGLE], GetPlayerVirtualWorld(playerid), 0);
		SetDynamicObjectMaterial(PLANTS[index][plant_OBJECT_ID], 2, 19473, "plants_tabletop", "CJ_PLANT", 0x00FFFFFF);

		new info[3];
		info[0] = OBJECT_TYPE_PLANT;
		info[1] = index;
		Streamer_SetArrayData(STREAMER_TYPE_OBJECT, PLANTS[index][plant_OBJECT_ID], E_STREAMER_EXTRA_ID, info);

		new label_str[256];
		if(seed_info[ PLANTS[index][plant_TYPE] ][seed_info_TYPE] == TYPE_LEGAL) format(label_str, sizeof label_str, "{FF7373}Planta (%s)\n{CCCCCC}Agricultor: %s\n\n{FF7373}(%.1f%%)", plant_info[ PLANTS[index][plant_TYPE] ][plant_info_NAME], PLANTS[index][plant_PLANTED_BY_NAME], PLANTS[index][plant_GROWING_PROGRESS]);
		else format(label_str, sizeof label_str, "{FF7373}Planta (%s)\n{CCCCCC}Agricultor: %s\n\n{FF7373}(%.1f%%)", plant_info[ PLANTS[index][plant_TYPE] ][plant_info_NAME], PLANTS[index][plant_PLANTED_BY_NAME], PLANTS[index][plant_GROWING_PROGRESS]);
		PLANTS[index][plant_LABEL_ID] = CreateDynamic3DTextLabel(label_str, 0xFFFFFFFF, PI[playerid][pi_POS_X], PI[playerid][pi_POS_Y], PI[playerid][pi_POS_Z] + 0.25, 10.0, .testlos = false, .interiorid = 0, .worldid = GetPlayerVirtualWorld(playerid));

		KillTimer(PLANTS[index][plant_TIMER]);
		PLANTS[index][plant_TIMER] = SetTimerEx("GrowPlantUp", 5000, false, "d", index);

		PLAYER_WORKS[playerid][WORK_FARMER][pwork_LEVEL] ++;
		//AddPlayerJobPoints(playerid, WORK_FARMER);
		SendNotification(playerid, "Ahora espera a que la planta crezca, si pasan más de ~r~5 minutos~w~ después de que la planta haya crecido se destruirá.");
		Streamer_Update(playerid);
		return Y_HOOKS_BREAK_RETURN_1;
	}
	else if(PLAYER_TEMP[playerid][pt_PLAYER_LUMBERJACK_TREE] != -1) {
		new tree = PLAYER_TEMP[playerid][pt_PLAYER_LUMBERJACK_TREE];
		GetPlayerFacingAngle(playerid, PI[playerid][pi_ANGLE]);
		SetDynamicObjectRot(LUMBER_TREES[ tree ][lumber_tree_OBJECT_ID], LUMBER_TREES[ tree ][lumber_tree_RX], LUMBER_TREES[ tree ][lumber_tree_RY], PI[playerid][pi_ANGLE]);
		MoveDynamicObject(LUMBER_TREES[ tree ][lumber_tree_OBJECT_ID], LUMBER_TREES[ tree ][lumber_tree_X], LUMBER_TREES[ tree ][lumber_tree_Y], LUMBER_TREES[ tree ][lumber_tree_Z] + 0.01, 0.0065, -85.0, 0.0, PI[playerid][pi_ANGLE]);
		RemovePlayerAttachedObject(playerid, 8);
		SetPlayerAttachedObject(playerid, 8, 341, 1, -0.172999, -0.165, -0.053999, 0.0, -7.599999, -9.6);

		KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][11]);
		PLAYER_TEMP[playerid][pt_TIMERS][11] = SetTimerEx("ContinueTreeAnimation", 1400, false, "iif", playerid, tree, PI[playerid][pi_ANGLE]);

		ClearAnimations(playerid);
		SetPlayerSpecialAction(playerid, SPECIAL_ACTION_NONE);
		TogglePlayerControllableEx(playerid, true);
		return Y_HOOKS_BREAK_RETURN_1;
	}
	return Y_HOOKS_CONTINUE_RETURN_1;
}

hook OnPlayerKeyPress(playerid, Float:percentage) {
	if(PLAYER_TEMP[playerid][pt_PLAYER_LUMBERJACK_TREE] != -1) {
		new tree = PLAYER_TEMP[playerid][pt_PLAYER_LUMBERJACK_TREE];
		SetPlayerArmedWeapon(playerid, 9);

		new label_str[256];
		format(label_str, sizeof label_str, "{66c4e4}Árbol (%d)\n\n"WHITE"Talando... {66c4e4}(%.1f%%)", tree, percentage);
		UpdateDynamic3DTextLabelText(LUMBER_TREES[ tree ][lumber_tree_LABEL], -1, label_str);

		KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][11]);
		PLAYER_TEMP[playerid][pt_TIMERS][11] = SetTimerEx("LumberjackUp", 2000, false, "ii", playerid, tree);
		return Y_HOOKS_BREAK_RETURN_1;
	}
	return Y_HOOKS_CONTINUE_RETURN_1;
}

forward ResetEntradaDelay(playerid);
public ResetEntradaDelay(playerid)
{
    PlayerEntradaDelay[playerid] = 0;
    return 1;
}

stock GetPlayerCameraRotation(playerid,&Float:rx,&Float:rz){
	new Float:mx,Float:my,Float:mz;
	GetPlayerCameraFrontVector(playerid,mx,my,mz);
	rx = CompressRotation(-(acos(mz)-90.0));
	rz = CompressRotation((atan2(my,mx)-90.0));
}

stock GenerarSiguienteIncendio(playerid)
{
    // ... (Tu código de validación de 5 incendios y RutaFinalBomberos aquí arriba) ...

    new rand;
    new Float:px, Float:py, Float:pz;

    // --- EL CEREBRO DE LAS RUTAS: Seleccionamos la tabla según la zona ---
    switch(ZonaIncendio[playerid])
    {
        case 1: // SAN FIERRO
        {
            rand = random(sizeof(PosIncendiosSF));
            px = PosIncendiosSF[rand][0];
            py = PosIncendiosSF[rand][1];
            pz = PosIncendiosSF[rand][2];
        }
        case 2: // LAS VENTURAS
        {
            rand = random(sizeof(PosIncendiosLV));
            px = PosIncendiosLV[rand][0];
            py = PosIncendiosLV[rand][1];
            pz = PosIncendiosLV[rand][2];
        }
        default: // LOS SANTOS (Caso 0)
        {
            rand = random(sizeof(PosIncendios));
            px = PosIncendios[rand][0];
            py = PosIncendios[rand][1];
            pz = PosIncendios[rand][2];
        }
    }

    // Ahora usamos las coordenadas px, py, pz que el switch seleccionó
    IncendiosApagados[playerid]++;
    SaludFuego[playerid] = 100.0; 
    RutaFinalBomberos[playerid] = false; 

    // Limpiamos y creamos los 4 fuegos en la posición seleccionada
    for(new f = 0; f < 4; f++) {
        if(IsValidDynamicObject(ObjetoFuego[playerid][f])) DestroyDynamicObject(ObjetoFuego[playerid][f]);
    }

    ObjetoFuego[playerid][0] = CreateDynamicObject(18691, px, py, pz - 2.0, 0, 0, 0);
    ObjetoFuego[playerid][1] = CreateDynamicObject(18691, px + 2.5, py + 1.5, pz - 2.0, 0, 0, 0);
    ObjetoFuego[playerid][2] = CreateDynamicObject(18691, px - 1.5, py - 2.5, pz - 2.0, 0, 0, 0);
    ObjetoFuego[playerid][3] = CreateDynamicObject(18691, px + 1.0, py - 3.0, pz - 2.0, 0, 0, 0);

    SetPlayerCheckpoint(playerid, px, py, pz, 10.0);
    
    new str[64], szZona[15];
    if(ZonaIncendio[playerid] == 0) szZona = "Los Santos";
    else if(ZonaIncendio[playerid] == 1) szZona = "San Fierro";
    else szZona = "Las Venturas";

    format(str, sizeof(str), "~w~Zona: ~y~%s~n~~w~Incendio: ~r~%d/5", szZona, IncendiosApagados[playerid]);
    GameTextForPlayer(playerid, str, 4000, 3);

    KillTimer(CheckFuegoTimer[playerid]);
    CheckFuegoTimer[playerid] = SetTimerEx("VerificarAguaFuego", 500, true, "d", playerid);
    
    return 1;
}

public VerificarAguaFuego(playerid)
{
    // Verificación de seguridad
    if(TrabajandoEmpresa[playerid] == 0 || ObjetoFuego[playerid][0] == INVALID_OBJECT_ID) 
    {
        KillTimer(CheckFuegoTimer[playerid]);
        return 1;
    }

    new keys, ud, lr;
    GetPlayerKeys(playerid, keys, ud, lr);

    // Si el jugador está disparando (tecla de fuego/disparo de agua)
    if(keys & KEY_FIRE) 
    {
        new Float:x, Float:y, Float:z;
        GetDynamicObjectPos(ObjetoFuego[playerid][0], x, y, z); 

        // Aumentamos el rango a 30.0 para que el camión pueda estar un poco más lejos
        if(IsPlayerInRangeOfPoint(playerid, 30.0, x, y, z)) 
        {
            SaludFuego[playerid] -= 8.0; 
            
            // --- FIX DEL TEXTO DE PROCESO ---
            new str[64];
            // Estilo 4 suele ser más estable para procesos continuos
            format(str, sizeof(str), "~w~FUEGO... ~b~%.0f%%", SaludFuego[playerid]);
            GameTextForPlayer(playerid, str, 1100, 1); // 1.1 segundos de duración para que no parpadee

            if(SaludFuego[playerid] <= 0)
            {
                KillTimer(CheckFuegoTimer[playerid]);
                FuegoApagado(playerid); 
            }
        }
        else // Si dispara pero está LEJOS del fuego
        {
            GameTextForPlayer(playerid, "~w~MUY LEJOS DEL ~r~FUEGO", 600, 1);
        }
    }
    return 1;
}

stock CargarNegocios()
{
    new path[64], cargados = 0;
    for(new i = 0; i < MAX_NEGOCIOS; i++)
    {
        format(path, sizeof(path), PATH_NEGOCIO, i);
        if(dini_Exists(path))
        {
            NI[i][n_Precio] = dini_Int(path, "Precio");
            NI[i][n_Tipo] = dini_Int(path, "Tipo");
            
            new temp_owner[MAX_PLAYER_NAME];
            format(temp_owner, sizeof(temp_owner), "%s", dini_Get(path, "Owner"));
            strmid(NI[i][n_Owner], temp_owner, 0, strlen(temp_owner), MAX_PLAYER_NAME);

            NI[i][n_Comprado] = (dini_Int(path, "Comprado") == 1) ? true : false;
            NI[i][n_Cerrado] = (dini_Int(path, "Cerrado") == 1) ? true : false;
            NI[i][n_Mercancia] = dini_Int(path, "Mercancia");
            NI[i][n_Caja] = dini_Int(path, "Caja");
            NI[i][n_EntradaX] = dini_Float(path, "EntX");
            NI[i][n_EntradaY] = dini_Float(path, "EntY");
            NI[i][n_EntradaZ] = dini_Float(path, "EntZ");
            NI[i][n_EntradaA] = dini_Float(path, "EntA");
            NI[i][n_SalidaX] = dini_Float(path, "SalX");
            NI[i][n_SalidaY] = dini_Float(path, "SalY");
            NI[i][n_SalidaZ] = dini_Float(path, "SalZ");
            NI[i][n_Interior] = dini_Int(path, "Interior");

            // --- LÓGICA DE PICKUPS ---
            
            // Pickup ENTRADA (Mundo 0)
            NI[i][n_PickupEntrada] = CreateDynamicPickup(19606, 1, NI[i][n_EntradaX], NI[i][n_EntradaY], NI[i][n_EntradaZ], 0);
            
            // Pickup SALIDA (Mundo Virtual i + 100)
            NI[i][n_PickupSalida] = CreateDynamicPickup(19607, 1, NI[i][n_SalidaX], NI[i][n_SalidaY], NI[i][n_SalidaZ], i + 100);

            // Pickup VENTA (Coordenadas según el tipo)
            new Float:vX, Float:vY, Float:vZ, modelo_venta;
            switch(NI[i][n_Tipo]) 
            {
                case 0: { // 24/7
                    vX = -29.259983; vY = -184.282455; vZ = 1003.546875; modelo_venta = 1274; 
                }
                case 1: { // Restaurante
                    vX = 379.139007; vY = -190.666397; vZ = 1000.632812; modelo_venta = 2880; 
                }
                case 2: { // Ammu-Nation
                    vX = 312.300537; vY = -165.750686; vZ = 999.601013; modelo_venta = 355; 
                }
                case 3: { // Bar
                    vX = 502.480377; vY = -14.576223; vZ = 1000.679687; modelo_venta = 1543; 
                }
            }
            NI[i][n_PickupVenta] = CreateDynamicPickup(modelo_venta, 1, vX, vY, vZ, i + 100);
            
            ActualizarNegocioVisual(i);
            cargados++;
        }
    }
    printf(">> [SISTEMA DE NEGOCIOS] Se han cargado %d negocios correctamente.", cargados);
    return 1;
}

stock GuardarNegocio(id) {
    new path[64]; format(path, sizeof(path), PATH_NEGOCIO, id);
    if(!dini_Exists(path)) dini_Create(path);

    dini_IntSet(path, "Precio", NI[id][n_Precio]);
    dini_IntSet(path, "Tipo", NI[id][n_Tipo]);
    dini_Set(path, "Owner", NI[id][n_Owner]);
    dini_IntSet(path, "Comprado", NI[id][n_Comprado] ? 1 : 0);
    dini_IntSet(path, "Cerrado", NI[id][n_Cerrado] ? 1 : 0);
    dini_IntSet(path, "Mercancia", NI[id][n_Mercancia]);
    dini_IntSet(path, "Caja", NI[id][n_Caja]);
    dini_FloatSet(path, "EntX", NI[id][n_EntradaX]);
    dini_FloatSet(path, "EntY", NI[id][n_EntradaY]);
    dini_FloatSet(path, "EntZ", NI[id][n_EntradaZ]);
    dini_FloatSet(path, "EntA", NI[id][n_EntradaA]);
    dini_IntSet(path, "Interior", NI[id][n_Interior]);
    dini_FloatSet(path, "SalX", NI[id][n_SalidaX]);
    dini_FloatSet(path, "SalY", NI[id][n_SalidaY]);
    dini_FloatSet(path, "SalZ", NI[id][n_SalidaZ]);
    return 1;
}

stock ActualizarNegocioVisual(id) {
    // Label 3D
    if(IsValidDynamic3DTextLabel(NI[id][n_Label])) DestroyDynamic3DTextLabel(NI[id][n_Label]);
    // MapIcon
    if(IsValidDynamicMapIcon(NI[id][n_MapIcon])) DestroyDynamicMapIcon(NI[id][n_MapIcon]);

    new str[256], tipo_name[24], iconid;
    switch(NI[id][n_Tipo]) {
        case 0: { tipo_name = "24/7"; iconid = 17; }
        case 1: { tipo_name = "Restaurante"; iconid = 10; }
        case 2: { tipo_name = "Amunnation"; iconid = 6; }
        case 3: { tipo_name = "Bar"; iconid = 49; }
    }

    // Crear MapIcon (Visible en mundo 0)
    NI[id][n_MapIcon] = CreateDynamicMapIcon(NI[id][n_EntradaX], NI[id][n_EntradaY], NI[id][n_EntradaZ], iconid, -1, 0, 0, -1, 150.0);

    // Formatear Texto
    if(!NI[id][n_Comprado]) {
        format(str, sizeof(str), "{FFFF00}Negocio: %s {FFFFFF}(%d)\n{FFFFFF}Estado: {00FF00}En Venta\n{FFFFFF}Precio: {00FF00}$%d\n{FFFFFF}Usa /comprarnegocio", tipo_name, id, NI[id][n_Precio]);
    } else {
        format(str, sizeof(str), "{FFFF00}Negocio: %s {FFFFFF}(ID: %d)\n{FFFFFF}Dueño: {00ACFF}%s\n{FFFFFF}Estado: %s\n{FFFFFF}Acércate para entrar", 
            tipo_name, 
            id, // El ID ahora coincide con el %d después de Negocio
            NI[id][n_Owner], // El Nombre coincide con el %s de Dueño
            (NI[id][n_Cerrado] ? "{FF0000}Cerrado" : "{00FF00}Abierto") // El Estado coincide con el último %s
        );
    }
    NI[id][n_Label] = CreateDynamic3DTextLabel(str, -1, NI[id][n_EntradaX], NI[id][n_EntradaY], NI[id][n_EntradaZ]+0.5, 12.0);
    return 1;
}

stock GuardarLaboratorio(id)
{
    new path[64];
    format(path, sizeof(path), PATH_LABS, id);
    if(!dini_Exists(path)) dini_Create(path);

    dini_IntSet(path, "Precio", LI[id][l_Precio]);
    dini_Set(path, "Owner", LI[id][l_Owner]);
    dini_Set(path, "Nombre", LI[id][l_Nombre]);
    dini_FloatSet(path, "PosX", LI[id][l_PosX]);
    dini_FloatSet(path, "PosY", LI[id][l_PosY]);
    dini_FloatSet(path, "PosZ", LI[id][l_PosZ]);
    dini_IntSet(path, "Mercancia", LI[id][l_Mercancia]);
    dini_IntSet(path, "Materiales", LI[id][l_Materiales]);
    dini_IntSet(path, "Caja", LI[id][l_Caja]);
    dini_IntSet(path, "Comprado", LI[id][l_Comprado]);
    dini_IntSet(path, "Cerrado", LI[id][l_Cerrado]);
    return 1;
}

stock CrearLabMundo(id)
{
    // Destruimos lo anterior para actualizar el texto y el pickup
    if(IsValidDynamicPickup(LI[id][l_Pickup])) DestroyDynamicPickup(LI[id][l_Pickup]);
    if(IsValidDynamic3DTextLabel(LI[id][l_Label])) DestroyDynamic3DTextLabel(LI[id][l_Label]);

    new str[512]; 

    if(LI[id][l_Comprado] == false)
    {
        // --- VISTA CUANDO ESTÁ EN VENTA ---
        format(str, sizeof(str), 
            "{3BF1B3}« {FFFFFF}Laboratorio ID: {3BF1B3}%d {3BF1B3}»\n\n\
            {00FF00}¡ESTADO: DISPONIBLE PARA COMPRA!\n\
            {FFFFFF}Precio: {00FF00}$%s\n\
            {FFFFFF}Estado: {FF0000}Cerrado (Sin dueño)\n\
            {FFFFFF}Ubicación: {CCCCCC}Zona Industrial\n\n\
            {FFFF00}Usa /comprarlaboratorio", 
            id, number_format_thousand(LI[id][l_Precio]));

        // Si no tiene dueño, por defecto sale el candado
        LI[id][l_Pickup] = CreateDynamicPickup(19133, 1, LI[id][l_PosX], LI[id][l_PosY], LI[id][l_PosZ]);
    }
    else
    {
        // --- VISTA CUANDO TIENE DUEÑO ---
        format(str, sizeof(str), 
            "{FF4B4B}« {FFFFFF}%s {FF4B4B}»\n\
            {777777}Registro Oficial ID: %d\n\n\
            {FFFFFF}Propietario: {FF4B4B}%s\n\
            {FFFFFF}Stock de Mercancía: {66c4e4}%d unidades\n\
            {FFFFFF}Estado: %s\n\
            {FFFFFF}Ubicación: {CCCCCC}Punto Clandestino\n\n\
            {3BF1B3}%s", 
            LI[id][l_Nombre], id, LI[id][l_Owner], LI[id][l_Mercancia],
            (LI[id][l_Cerrado] ? "{FF0000}Comercio Cerrado" : "{00FF00}Comercio Abierto"),
            (LI[id][l_Cerrado] ? "{777777}Vuelve más tarde..." : "Usa /laboratorio para traficar"));

        // LÓGICA DEL PICKUP QUE PEDISTE:
        if(LI[id][l_Cerrado]) {
            // Si está CERRADO: Ponemos el candado (ID 19133)
            LI[id][l_Pickup] = CreateDynamicPickup(19133, 1, LI[id][l_PosX], LI[id][l_PosY], LI[id][l_PosZ]);
        } else {
            // Si está ABIERTO: Ponemos el pickup que tú pusiste (ID 1254)
            LI[id][l_Pickup] = CreateDynamicPickup(1254, 1, LI[id][l_PosX], LI[id][l_PosY], LI[id][l_PosZ]);
        }
    }
    
    // El label con el nuevo formato
    LI[id][l_Label] = CreateDynamic3DTextLabel(str, -1, LI[id][l_PosX], LI[id][l_PosY], LI[id][l_PosZ], 15.0);
    
    // Icono del mapa (ID 32 es la casa azul de droga)
    if(LI[id][l_MapIcon] == 0) LI[id][l_MapIcon] = CreateDynamicMapIcon(LI[id][l_PosX], LI[id][l_PosY], LI[id][l_PosZ], 19, -1);
    
    return 1;
}

stock CargarLaboratorios()
{
	print(" ");
	print("--------------------------------------------------");
	print("--- Cargando Laboratorios desde Scriptfiles ---");

	new path[64], cargados = 0;

	for(new i = 0; i < MAX_LABORATORIOS; i++)
	{
		format(path, sizeof(path), PATH_LABS, i);

		if(dini_Exists(path))
		{
			LI[i][l_ID] = i;
			LI[i][l_Precio] = dini_Int(path, "Precio");
			
			// Cargamos strings (Nombre y Dueño)
			strmid(LI[i][l_Owner], dini_Get(path, "Owner"), 0, MAX_PLAYER_NAME, MAX_PLAYER_NAME);
			strmid(LI[i][l_Nombre], dini_Get(path, "Nombre"), 0, 64, 64);
			
			// Cargamos floats (Posiciones)
			LI[i][l_PosX] = dini_Float(path, "PosX");
			LI[i][l_PosY] = dini_Float(path, "PosY");
			LI[i][l_PosZ] = dini_Float(path, "PosZ");
			
			// Cargamos estados y mercancía
			LI[i][l_Mercancia] = dini_Int(path, "Mercancia"); 
			LI[i][l_Materiales] = dini_Int(path, "Materiales");
			LI[i][l_Caja] = dini_Int(path, "Caja");
			LI[i][l_Comprado] = bool:dini_Int(path, "Comprado");
			LI[i][l_Cerrado] = bool:dini_Int(path, "Cerrado");

			// Creamos el pickup, label e icono en el mapa
			CrearLabMundo(i);
			
			// Si usas Iteradores (Foreach), lo añadimos aquí
			Iter_Add(Laboratorios, i); 
			
			cargados++;
		}
	}

	printf("   Estado: %d laboratorios cargados exitosamente.", cargados);
	print("--------------------------------------------------");
	print(" ");
	return 1;
}

stock Float:CompressRotation(Float:rotation){
	return (rotation - floatround(rotation/360.0,floatround_floor)*360.0);
}

stock GetVehicleDriver(vehicleid)
{
    foreach(new i : Player)
    {
        if(GetPlayerVehicleID(i) == vehicleid && GetPlayerVehicleSeat(i) == 0)
        {
            return i; // Retorna el ID del jugador que está conduciendo
        }
    }
    return INVALID_PLAYER_ID; // Si nadie está conduciendo
}

stock AutoParquearVehiculo(vehicleid)
{
    if(!GLOBAL_VEHICLES[vehicleid][gb_vehicle_VALID]) return 0;

    new db_id = PLAYER_VEHICLES[vehicleid][player_vehicle_ID];
    new owner_id = PLAYER_VEHICLES[vehicleid][player_vehicle_OWNER_ID];
    new model = GLOBAL_VEHICLES[vehicleid][gb_vehicle_MODELID];
    new parking_idx = GetVehicleNearParkingIndex(vehicleid);
    
    if(parking_idx == -1) parking_idx = 0; 

    new multa = VEHICLE_INFO[model - 400][vehicle_info_PRICE] / 200;

    // 1. Buscamos al dueño online para actualizar su inventario de parking y cobrarle
    new player_owner_id = INVALID_PLAYER_ID;
    foreach(new i : Player)
    {
        if(PI[i][pi_ID] == owner_id)
        {
            player_owner_id = i;
            new p_v_id = GetValidParkingVehicleId(i);
            if(p_v_id != -1)
            {
                ParkingVehicles[i][p_v_id][pvValid] = true;
                ParkingVehicles[i][p_v_id][pvId] = db_id;
                ParkingVehicles[i][p_v_id][pvModelid] = model;
                ParkingVehicles[i][p_v_id][pvOwnerId] = owner_id;
                ParkingVehicles[i][p_v_id][pvParkingIndex] = parking_idx;
                format(ParkingVehicles[i][p_v_id][pvVehiclePlate], 32, "%s", GLOBAL_VEHICLES[vehicleid][gb_vehicle_NUMBER_PLATE]);
                
                SendClientMessageEx(i, -1, "{FF0000}[GRÚA]{F5F5F5} Tu %s fue remolcado al parking #%d por abandono. Multa: %d{00FF00}$", 
                    VEHICLE_INFO[model - 400][vehicle_info_NAME], parking_idx, multa);
                
                GivePlayerCash(i, -multa, true, true);
            }
            break;
        }
    }

    // 2. PREPARACIÓN PARA GUARDADO PERSISTENTE
    // Sincronizamos la variable de parking en el array del vehiculo antes de guardar
    PLAYER_VEHICLES[vehicleid][player_vehicle_PARKING] = parking_idx;

    // Usamos tu función oficial de guardado. 
    // Si el dueño está online (player_owner_id), usamos su ID de conexión.
    // Si no está, el sistema intentará guardarlo con los datos que ya tiene.
    SavePlayerVehicle(player_owner_id, vehicleid, true);

    // 3. Limpieza de variables y destrucción física
    GLOBAL_VEHICLES[vehicleid][gb_vehicle_VALID] = false;
    PLAYER_VEHICLES[vehicleid][player_vehicle_VALID] = false;
    PLAYER_VEHICLES[vehicleid][player_vehicle_ID] = 0;
    
    DestroyVehicle(vehicleid);
    
    return 1;
}

stock GuardarLogros(playerid)
{
    new path[64], key[20];
    format(path, sizeof(path), "/Logros/%d.ini", PI[playerid][pi_ID]);

    // Si el archivo no existe, lo creamos primero
    if(!dini_Exists(path)) dini_Create(path);

    for(new i = 0; i < MAX_LOGROS; i++)
    {
        format(key, sizeof(key), "Logro_%d", i);
        dini_IntSet(path, key, LogrosJugador[playerid][i]);
    }

    // Guardamos el progreso de los kilómetros (flotante)
    if(PI[playerid][pi_COMIDAS_TOTALES] > 20) dini_IntSet(path, "Comidas_Totales", 20);
    else dini_IntSet(path, "Comidas_Totales", PI[playerid][pi_COMIDAS_TOTALES]);

    // Sodas: Máximo 20
    if(PI[playerid][pi_SODAS_TOMADAS] > 20) dini_IntSet(path, "Sodas_Tomadas", 20);
    else dini_IntSet(path, "Sodas_Tomadas", PI[playerid][pi_SODAS_TOMADAS]);

    // Distancia: Máximo 10,000.0 (10km)
    if(PI[playerid][pi_DISTANCIA_PIE] > 10000.0) dini_FloatSet(path, "Distancia_Correr", 10000.0);
    else dini_FloatSet(path, "Distancia_Correr", PI[playerid][pi_DISTANCIA_PIE]);
    return 1;
}


stock CargarLogros(playerid)
{
    new path[64], key[20];
    format(path, sizeof(path), "/Logros/%d.ini", PI[playerid][pi_ID]);

    if(dini_Exists(path))
    {
        for(new i = 0; i < MAX_LOGROS; i++)
        {
            format(key, sizeof(key), "Logro_%d", i);
            LogrosJugador[playerid][i] = dini_Int(path, key);
        }
        // Cargamos la distancia recorrida
        // Dentro del stock CargarLogros, debajo de la distancia:
        PI[playerid][pi_COMIDAS_TOTALES] = dini_Int(path, "Comidas_Totales");
        if(PI[playerid][pi_COMIDAS_TOTALES] > 20) PI[playerid][pi_COMIDAS_TOTALES] = 20;

        PI[playerid][pi_SODAS_TOMADAS] = dini_Int(path, "Sodas_Tomadas");
        if(PI[playerid][pi_SODAS_TOMADAS] > 20) PI[playerid][pi_SODAS_TOMADAS] = 20;

        PI[playerid][pi_DISTANCIA_PIE] = dini_Float(path, "Distancia_Correr");
        if(PI[playerid][pi_DISTANCIA_PIE] > 10000.0) PI[playerid][pi_DISTANCIA_PIE] = 10000.0;
    }
    else // Si el archivo no existe
    {
        for(new i = 0; i < MAX_LOGROS; i++) LogrosJugador[playerid][i] = 0;
        PI[playerid][pi_DISTANCIA_PIE] = 0.0;
        PI[playerid][pi_SODAS_TOMADAS] = 0;
        PI[playerid][pi_COMIDAS_TOTALES] = 0;        
    }


    return 1;
}
    
stock OtorgarLogro(playerid, logro_id)
{
    // 1. Verificamos si ya lo tiene (Detección por variable [2025-12-21])
    if(LogrosJugador[playerid][logro_id] == 1) return 1;

    new player_slot = -1;
    new mensajePremios[128] = "";
    new itemid = InfoLogros[logro_id][lObjetoID];

    // --- VERIFICACIÓN Y ASIGNACIÓN DE OBJETOS ---
    if(itemid != -1) 
    {
        player_slot = GetEmptyInvSlot(playerid);
        if(player_slot == -1) return SendNotification(playerid, "Bolsillos llenos, no puedes recibir el premio.");
        
        // Asignamos el objeto usando tus variables de inventario
        PI[playerid][pi_BOL][player_slot] = itemid;
        PI[playerid][pi_BOL_CANT][player_slot] = ObjetoInfo[itemid][Capacidad];
        
        format(mensajePremios, sizeof(mensajePremios), "%s %s", mensajePremios, ObjetoInfo[itemid][NombreObjeto]);
    }

    // Marcamos como ganado antes de dar el resto de premios
    LogrosJugador[playerid][logro_id] = 1;

    // --- LÓGICA DE DINERO ---
    if(InfoLogros[logro_id][lDinero] > 0) 
    {
        SetPlayerCashX(playerid, InfoLogros[logro_id][lDinero]);
        format(mensajePremios, sizeof(mensajePremios), "%s %d$", mensajePremios, InfoLogros[logro_id][lDinero]);
    }

    // --- LÓGICA DE GEMAS (COINS) ---
    if(InfoLogros[logro_id][lGemas] > 0)
    {
        PI[playerid][pi_COINS] += InfoLogros[logro_id][lGemas];
        new query[128];
        mysql_format(srp_db, query, sizeof query, "UPDATE player SET coins = %d WHERE id = %d;", PI[playerid][pi_COINS], PI[playerid][pi_ID]);
        mysql_tquery(srp_db, query);
        format(mensajePremios, sizeof(mensajePremios), "%s %d Gemas", mensajePremios, InfoLogros[logro_id][lGemas]);
    }

    // --- NOTIFICACIÓN EN CHAT (GLOBAL) ---
    new str[144], pName[MAX_PLAYER_NAME];
    GetPlayerName(playerid, pName, sizeof(pName));
    format(str, sizeof(str), "{66c4e4}@{FFFFFF}Spain+{66c4e4}Bot{FFFFFF}: {66c4e4}[LOGROS] {ffffff}%s completó: {FFE900}%s", 
        pName, InfoLogros[logro_id][lNombre]);
    SendClientMessageToAll(-1, str);

    // --- NOTIFICACIÓN PERSONAL (SendNotification) ---
    new notifyStr[128];
    format(notifyStr, sizeof(notifyStr), "Logro Completado: %s - Premio:%s", InfoLogros[logro_id][lNombre], mensajePremios);
    SendFormatNotification(playerid, notifyStr); 

    // --- LÓGICA DE TEXTDRAWS ---
    new tdString[128];
    // Formateamos el texto para el TextDraw (puedes usar colores ~w~, ~y~, ~g~)
    format(tdString, sizeof(tdString), "~w~%s ~n~~y~Premio: ~g~%s", InfoLogros[logro_id][lNombre], mensajePremios);
    
    // Actualizamos el string del TextDraw de la recompensa
    TextDrawSetString(LogroRe, tdString); 

    // Mostramos los TextDraws que definiste
    TextDrawShowForPlayer(playerid, BoxLogros);
    TextDrawShowForPlayer(playerid, LogroCo);
    TextDrawShowForPlayer(playerid, LogroRe);

    // Timer para ocultarlos automáticamente en 4.5 segundos
    SetTimerEx("BorrarTdLogros", 4500, false, "i", playerid);

    // Guardado final y sonido
    PlayerPlaySound(playerid, 1058, 0.0, 0.0, 0.0);
    GuardarLogros(playerid); 
    
    return 1;
}

stock GuardarPuntosAlquiler()
{
    new path[64];
    for(new i = 0; i < MAX_PUNTOS_ALQUILER; i++)
    {
        if(PuntosAlquiler[i][al_Creado])
        {
            format(path, sizeof(path), "/Alquilar/Punto_%d.ini", i);
            if(!dini_Exists(path)) dini_Create(path);

            dini_IntSet(path, "ID", i);
            dini_FloatSet(path, "X", PuntosAlquiler[i][al_X]);
            dini_FloatSet(path, "Y", PuntosAlquiler[i][al_Y]);
            dini_FloatSet(path, "Z", PuntosAlquiler[i][al_Z]);
            dini_FloatSet(path, "A", PuntosAlquiler[i][al_A]);
        }
    }
    return 1;
}

stock CargarPuntosAlquiler()
{
    new path[64], str[128];
    for(new i = 0; i < MAX_PUNTOS_ALQUILER; i++)
    {
        format(path, sizeof(path), "/Alquilar/Punto_%d.ini", i);
        if(dini_Exists(path))
        {
            PuntosAlquiler[i][al_Creado] = 1;
            PuntosAlquiler[i][al_X] = dini_Float(path, "X");
            PuntosAlquiler[i][al_Y] = dini_Float(path, "Y");
            PuntosAlquiler[i][al_Z] = dini_Float(path, "Z");
            PuntosAlquiler[i][al_A] = dini_Float(path, "A");

            // Crear lo visual en la calle (Mundo 0, Interior 0)
            PuntosAlquiler[i][al_Pickup] = CreateDynamicPickup(1273, 1, PuntosAlquiler[i][al_X], PuntosAlquiler[i][al_Y], PuntosAlquiler[i][al_Z], 0, 0);
            
            format(str, sizeof(str), "{FFFFFF}Apartamento ID: %d\n{FFFFFF}Acércate para {00ff00}interactuar", i);
            PuntosAlquiler[i][al_Label] = CreateDynamic3DTextLabel(str, -1, PuntosAlquiler[i][al_X], PuntosAlquiler[i][al_Y], PuntosAlquiler[i][al_Z] + 0.5, 10.0, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, 0, 0);
            
            // ICONO DINÁMICO (Streamer)
            // 31 es la casa blanca. El 0 al final indica mundo virtual 0 e interior 0.
            CreateDynamicMapIcon(PuntosAlquiler[i][al_X], PuntosAlquiler[i][al_Y], PuntosAlquiler[i][al_Z], 42, -1, 0, 0, -1, 200.0, MAPICON_GLOBAL);
        }
    }
    printf("Sistema de Apartamentos: %d puntos cargados.", MAX_PUNTOS_ALQUILER);
    return 1;
}

stock GuardarApartamento(playerid)
{
    new path[64], key[32];
    // Se guarda en scriptfiles/Apartamentos/ID_DEL_JUGADOR.ini
    format(path, sizeof(path), "/Apartamentos/%d.ini", PI[playerid][pi_ID]);
    
    if(!dini_Exists(path)) dini_Create(path);

    dini_IntSet(path, "AptoID", APA[playerid][pi_AptoID]);
    dini_IntSet(path, "AptoTiempo", APA[playerid][pi_AptoTiempo]);
    
    // Coordenadas de salida a la calle
    dini_FloatSet(path, "ExX", APA[playerid][pi_AptoExX]);
    dini_FloatSet(path, "ExY", APA[playerid][pi_AptoExY]);
    dini_FloatSet(path, "ExZ", APA[playerid][pi_AptoExZ]);
    dini_FloatSet(path, "ExA", APA[playerid][pi_AptoExA]);

    // Slots de Ropero
    dini_IntSet(path, "Skin1", APA[playerid][pi_AptoSkin1]);
    dini_IntSet(path, "Skin2", APA[playerid][pi_AptoSkin2]);

    // Caja Fuerte (10 Slots)
    for(new i = 0; i < 10; i++)
    {
        format(key, sizeof(key), "CajaID_%d", i);
        dini_IntSet(path, key, APA[playerid][pi_CajaID][i]);

        format(key, sizeof(key), "CajaCant_%d", i);
        dini_IntSet(path, key, APA[playerid][pi_CajaCant][i]);
    }
    return 1;
}

stock CargarApartamento(playerid)
{
    new path[128], key[32];
    format(path, sizeof(path), "/Apartamentos/%d.ini", PI[playerid][pi_ID]);
    
    if(dini_Exists(path))
    {
        // Cargamos el ID del punto de alquiler
        APA[playerid][pi_AptoID] = dini_Int(path, "AptoID");

        // --- VALIDACIÓN DE SEGURIDAD ---
        // Si el jugador tiene un apto rentado (!= -1) 
        // pero ese ID ya no existe en el script o no está marcado como 'Creado'
        if(APA[playerid][pi_AptoID] != -1)
        {
            if(APA[playerid][pi_AptoID] >= MAX_PUNTOS_ALQUILER || !PuntosAlquiler[APA[playerid][pi_AptoID]][al_Creado])
            {
                // El punto de alquiler fue borrado del script o desactivado
                ResetearDatosApartamento(playerid); 
                SendClientMessage(playerid, -1, "{FF0000}[INFO]: {FFFFFF}El edificio donde alquilaste ya no existe. Tus pertenencias han sido devueltas.");
                return 1;
            }
        }
        // -------------------------------

        // Si pasó la validación, seguimos cargando el resto de datos normalmente
        APA[playerid][pi_AptoTiempo] = dini_Int(path, "AptoTiempo");
        APA[playerid][pi_AptoExX] = dini_Float(path, "ExX");
        APA[playerid][pi_AptoExY] = dini_Float(path, "ExY");
        APA[playerid][pi_AptoExZ] = dini_Float(path, "ExZ");
        APA[playerid][pi_AptoExA] = dini_Float(path, "ExA");
        
        APA[playerid][pi_AptoSkin1] = dini_Int(path, "Skin1");
        APA[playerid][pi_AptoSkin2] = dini_Int(path, "Skin2");

        for(new i = 0; i < 10; i++)
        {
            format(key, sizeof(key), "CajaID_%d", i);
            APA[playerid][pi_CajaID][i] = dini_Int(path, key);

            format(key, sizeof(key), "CajaCant_%d", i);
            APA[playerid][pi_CajaCant][i] = dini_Int(path, key);
        }
    }
    return 1;
}

stock EntrarApartamento(playerid)
{
    PLAYER_AC_INFO[playerid][CHEAT_HIGH_POS][p_ac_info_IMMUNITY] = gettime() + 4;
    PLAYER_AC_INFO[playerid][CHEAT_POS][p_ac_info_IMMUNITY] = gettime() + 4;
	
    TogglePlayerControllable(playerid, false);

    SetPlayerPos(playerid, 1676.874511, -1459.607299, 3002.841308);
    SetPlayerFacingAngle(playerid, 86.892738);
    
    new PersonalVW = 1000 + PI[playerid][pi_ID]; 
    SetPlayerVirtualWorld(playerid, PersonalVW);
    
    // --- CAMBIO AQUÍ: Ahora el jugador está en el interior 1 ---
    SetPlayerInterior(playerid, 1); 

    DestruirElementosInterior(playerid);

    // --- CAMBIO AQUÍ: El séptimo parámetro es el INTERIOR (lo ponemos en 1) ---
    // CreateDynamicPickup(modelo, tipo, x, y, z, virtualworld, INTERIOR, ...)
    
    APA[playerid][pi_AptoPickupEx] = CreateDynamicPickup(19606, 1, 1676.874511, -1459.607299, 3002.841308, PersonalVW, 1);
    APA[playerid][pi_AptoLabelEx] = CreateDynamic3DTextLabel("{00FFFF}{FFFFFF}Salida\n{FFFFFF}Acércate para salir", -1, 1676.874511, -1459.607299, 3002.841308, 10.0, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, PersonalVW, 1);
    
    APA[playerid][pi_AptoPickupRopero] = CreateDynamicPickup(1275, 1, 1699.813720, -1472.911621, 3002.841308, PersonalVW, 1);
    APA[playerid][pi_AptoLabelRopero] = CreateDynamic3DTextLabel("{00FFFF}{FFFFFF}Ropero\n{FFFFFF}Acércate Para Cambiar De {00FFFF}Ropa", -1, 1699.813720, -1472.911621, 3002.841308, 5.0, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, PersonalVW, 1);

    APA[playerid][pi_AptoPickupCaja] = CreateDynamicPickup(0, 1, 1700.308227, -1471.415283, 3002.841308, PersonalVW, 1);
    APA[playerid][pi_AptoLabelCaja] = CreateDynamic3DTextLabel("{00FFFF}{FFFFFF}Caja Fuerte\n{FFFFFF}Acércate Para Gestionar {00FFFF}Objetos", -1, 1700.308227, -1471.415283, 3002.841308, 5.0, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, PersonalVW, 1);

    // Si pusiste el Bebedero, también ponle el 1 al final
    // APA[playerid][pi_AptoPickupAgua] = CreateDynamicPickup(19558, 1, 1438.4045, -1221.3655, 152.3983, PersonalVW, 1);

    SendFormatNotification(playerid, "~s~Bienvenido a tu ~b~Apartamento", 3000, 1);

    SetTimerEx("QuitarCargando", 3000, false, "i", playerid); 
    SetTimerEx("DescongelarJugadorAp", 1500, false, "i", playerid); 
    PlayerTextDrawShow(playerid, TD_TextoCarga[playerid]);
    return 1;
}

forward DescongelarJugadorAp(playerid);
public DescongelarJugadorAp(playerid)
{
    TogglePlayerControllable(playerid, true);
    return 1;
}


stock DestruirElementosInterior(playerid)
{
    // Pickups
    if(IsValidDynamicPickup(APA[playerid][pi_AptoPickupEx])) DestroyDynamicPickup(APA[playerid][pi_AptoPickupEx]);
    if(IsValidDynamicPickup(APA[playerid][pi_AptoPickupRopero])) DestroyDynamicPickup(APA[playerid][pi_AptoPickupRopero]);
    if(IsValidDynamicPickup(APA[playerid][pi_AptoPickupCaja])) DestroyDynamicPickup(APA[playerid][pi_AptoPickupCaja]);
 //   if(IsValidDynamicPickup(APA[playerid][pi_AptoPickupAgua])) DestroyDynamicPickup(APA[playerid][pi_AptoPickupAgua]);

    // Labels
    if(IsValidDynamic3DTextLabel(APA[playerid][pi_AptoLabelEx])) DestroyDynamic3DTextLabel(APA[playerid][pi_AptoLabelEx]);
    if(IsValidDynamic3DTextLabel(APA[playerid][pi_AptoLabelRopero])) DestroyDynamic3DTextLabel(APA[playerid][pi_AptoLabelRopero]);
    if(IsValidDynamic3DTextLabel(APA[playerid][pi_AptoLabelCaja])) DestroyDynamic3DTextLabel(APA[playerid][pi_AptoLabelCaja]);
//    if(IsValidDynamic3DTextLabel(APA[playerid][pi_AptoLabelAgua])) DestroyDynamic3DTextLabel(APA[playerid][pi_AptoLabelAgua]);
    
    // Ponemos las variables en -1 para indicar que ya no existen
    APA[playerid][pi_AptoPickupEx] = -1;
    APA[playerid][pi_AptoPickupRopero] = -1;
    APA[playerid][pi_AptoPickupCaja] = -1;
    return 1;
}




stock SalirApartamento(playerid)
{
    PLAYER_AC_INFO[playerid][CHEAT_HIGH_POS][p_ac_info_IMMUNITY] = gettime() + 3;
	PLAYER_AC_INFO[playerid][CHEAT_POS][p_ac_info_IMMUNITY] = gettime() + 3;
	
    SetPlayerPos(playerid, APA[playerid][pi_AptoExX], APA[playerid][pi_AptoExY], APA[playerid][pi_AptoExZ]);
    SetPlayerFacingAngle(playerid, APA[playerid][pi_AptoExA]);
    
    // Regresar al Mundo 0 e Interior 0
    SetPlayerVirtualWorld(playerid, 0);
    SetPlayerInterior(playerid, 0);
    
    DestruirElementosInterior(playerid);
    return 1;
}

stock ResetTodo(playerid)
{
    AutoSiendoProcesado[playerid] = 0;
    TimeDmgDots[playerid] = 0;
    PLAYER_TEMP[playerid][pt_TRAILER_OBJ] = 0;   // No tiene remolque creado
    PLAYER_TEMP[playerid][pt_RUTA_ACTIVA] = -1;  // No tiene ruta seleccionada (-1 es ninguna)
    PLAYER_TEMP[playerid][pt_CARGADO] = false;   // No lleva carga
    PLAYER_TEMP[playerid][pt_ENTREGADO] = false; // No ha entregado la mercancía
    PLAYER_TEMP[playerid][pt_EDITING_BASURERO] = -1;
    PLAYER_TEMP[playerid][pt_ES_EDICION_REAL] = false;
    PLAYER_TEMP[playerid][pt_VIEWING_BASURERO] = -1;
    PLAYER_TEMP[playerid][pt_INTERIOR_INDEX] = -1;
	PLAYER_TEMP[playerid][pt_PROPERTY_INDEX] = -1;
	PLAYER_TEMP[playerid][pt_CLOTHING_SHOP] = -1;
	PLAYER_TEMP[playerid][pt_HUD_TEXTDRAWS] = false;
	PLAYER_TEMP[playerid][pt_SEE_ACMD_LOG] = true;
	PLAYER_TEMP[playerid][pt_SEE_AC_LOG] = true;
	PLAYER_TEMP[playerid][pt_SEE_ADM_LOG] = true;
	PLAYER_TEMP[playerid][pt_SEE_ADM_CHAT] = true;
	PLAYER_TEMP[playerid][pt_PLAYER_PHONE_CALL_PLAYERID] = INVALID_PLAYER_ID;
	PLAYER_TEMP[playerid][pt_KNOCK_PLAYER_ID] = INVALID_PLAYER_ID;
	PLAYER_TEMP[playerid][pt_GPS_CHECKPOINT] = INVALID_STREAMER_ID;
	PLAYER_TEMP[playerid][pt_PIZZA_CHECKPOINT] = INVALID_STREAMER_ID;
	PLAYER_TEMP[playerid][pt_LUMBERJACK_CHECKPOINT] = INVALID_STREAMER_ID;
	PLAYER_TEMP[playerid][pt_HARVERT_CHECKPOINT] = INVALID_STREAMER_ID;
	PLAYER_TEMP[playerid][pt_BUS_CHECKPOINT] = INVALID_STREAMER_ID;
	PLAYER_TEMP[playerid][pt_TRUCK_CHECKPOINT] = INVALID_STREAMER_ID;
	PLAYER_TEMP[playerid][pt_PIZZA_ACTOR] = INVALID_STREAMER_ID;
	PLAYER_TEMP[playerid][pt_NOTARY_TO_PLAYER] = INVALID_PLAYER_ID;
	PLAYER_TEMP[playerid][pt_TRASH_VEHICLE_ID] = INVALID_VEHICLE_ID;
	PLAYER_TEMP[playerid][pt_LAST_VEHICLE_ID] = INVALID_VEHICLE_ID;
	PLAYER_TEMP[playerid][pt_WORK_VEHICLE_ID] = INVALID_VEHICLE_ID;
	PLAYER_TEMP[playerid][pt_RENT_VEHICLE_ID] = INVALID_VEHICLE_ID;
	PLAYER_TEMP[playerid][pt_PIVOT_OBJECT] = INVALID_OBJECT_ID;
	PLAYER_TEMP[playerid][pt_RENT_VEHICLE_ID] = INVALID_VEHICLE_ID;
	PLAYER_TEMP[playerid][pt_PLAYER_LUMBERJACK_TREE] = -1;
	PLAYER_TEMP[playerid][pt_CREW_HELP] = false;
	PLAYER_TEMP[playerid][pt_DIALOG_ID] = -1;
	PLAYER_TEMP[playerid][pt_DO]= 0; 
	PLAYER_TEMP[playerid][pt_VENTA]= 0; 
	PLAYER_TEMP[playerid][pt_ROL]= 0; 
	PLAYER_TEMP[playerid][pt_LOGIN_KICK_TIMER] = -1;
	PLAYER_TEMP[playerid][pt_IN_VEHICLE_REPAIR] = false;
	
	PLAYER_TEMP[playerid][pt_FABRICA_ID] = -1; 
	PLAYER_TEMP[playerid][pt_NEGOCIO_ID] = -1;
	PLAYER_TEMP[playerid][pt_EN_APARTAMENTO] = false;
	PLAYER_TEMP[playerid][pt_EN_DEALER] = false;
	
	VentaActorSeleccionado[playerid] = -1;
    CajasCargadas[playerid] = 0;
    CajasEntregadas[playerid] = 0;
    
    // Limpiar PVars por seguridad
    DeletePVar(playerid, "CargandoCaja");
    DeletePVar(playerid, "PedidoTipo");

    // Inicializar IDs de objetos en el suelo como inválidos
    for(new o = 0; o < 3; o++) {
        ObjetoCajaSuelo[playerid][o] = -1;
    }
    
	DeletePVar(playerid, "EnRutaQuimicos");
    DeletePVar(playerid, "RegresandoConQuimicos");
    DeletePVar(playerid, "BarrilesCargados");
    DeletePVar(playerid, "CargandoBarril");
    DeletePVar(playerid, "PedidoTipo");
    DeletePVar(playerid, "ID_Fabrica_Pedido");
    DeletePVar(playerid, "CargandoCaja"); // Del sistema de empaquetado
	
	PI[playerid][pi_LabelEstado] = Text3D:INVALID_3DTEXT_ID;
    format(PI[playerid][pi_Estado], 64, "Ninguno");
    
    APA[playerid][pi_AptoID] = -1; // -1 significa que no tiene nada rentado
    APA[playerid][pi_AptoTiempo] = 0;
   
    PLD[playerid][pTrabajando] = 0;
    PLD[playerid][pLabID] = -1;
    PLD[playerid][pRutaID] = 0;
    
    PTD[playerid][tTrabajando] = 0;
    PTD[playerid][tLabID] = -1;
    PTD[playerid][tRutaID] = -1;
    PLD[playerid][pLabID] = -1; 
    
    //Logros
    PI[playerid][pi_DISTANCIA_PIE] = 0.0;
    PI[playerid][pi_SODAS_TOMADAS] = 0;
    PI[playerid][pi_COMIDAS_TOTALES] = 0;
    
    
    UltimaPos[playerid][0] = 0.0;
    UltimaPos[playerid][1] = 0.0;
    UltimaPos[playerid][2] = 0.0;
    
     if(LabelNombre[playerid] != Text3D:INVALID_3DTEXT_ID)
{
    DestroyDynamic3DTextLabel(LabelNombre[playerid]);
    LabelNombre[playerid] = Text3D:INVALID_3DTEXT_ID;
}

    
    TD_Cargando[playerid] = CreatePlayerTextDraw(playerid, -20.000000, -20.000000, "_");
    PlayerTextDrawLetterSize(playerid, TD_Cargando[playerid], 0.000000, 60.000000); // Aumentamos alto
    PlayerTextDrawTextSize(playerid, TD_Cargando[playerid], 680.000000, 0.000000); // Aumentamos ancho
    
    PlayerTextDrawAlignment(playerid, TD_Cargando[playerid], 1);
    PlayerTextDrawColor(playerid, TD_Cargando[playerid], -1);
    PlayerTextDrawUseBox(playerid, TD_Cargando[playerid], 1);
    PlayerTextDrawBoxColor(playerid, TD_Cargando[playerid], 0x000000FF); // Negro puro
    
    PlayerTextDrawSetShadow(playerid, TD_Cargando[playerid], 0);
    PlayerTextDrawSetOutline(playerid, TD_Cargando[playerid], 0);
    PlayerTextDrawBackgroundColor(playerid, TD_Cargando[playerid], 255);
    PlayerTextDrawFont(playerid, TD_Cargando[playerid], 1);
    PlayerTextDrawSetProportional(playerid, TD_Cargando[playerid], 1);
    
    // IMPORTANTE: Esto asegura que el TD esté por encima de casi todo
    PlayerTextDrawSetSelectable(playerid, TD_Cargando[playerid], 0); 
    
    TD_TextoCarga[playerid] = CreatePlayerTextDraw(playerid, 320.0, 403.0, "~w~Cargando ~g~Objetos");
    PlayerTextDrawAlignment(playerid, TD_TextoCarga[playerid], 2); // Centrado
    PlayerTextDrawBackgroundColor(playerid, TD_TextoCarga[playerid], 255);
    PlayerTextDrawFont(playerid, TD_TextoCarga[playerid], 2); // Fonte elegante
    PlayerTextDrawLetterSize(playerid, TD_TextoCarga[playerid], 0.350000, 1.600000);
    PlayerTextDrawColor(playerid, TD_TextoCarga[playerid], -1);
    PlayerTextDrawSetOutline(playerid, TD_TextoCarga[playerid], 1); // Contorno para que resalte
    PlayerTextDrawSetProportional(playerid, TD_TextoCarga[playerid], 1);
    PlayerTextDrawSetShadow(playerid, TD_TextoCarga[playerid], 0);
   
    
    // 1. CREAR EL TEXTDRAW
    g_RobberyProgressTD[playerid] = CreatePlayerTextDraw(playerid, 320.0, 403.0, "Robando: 30s");
    
    // 2. CONFIGURACIONES BÁSICAS: (playerid, TextDraw ID, ...)
    PlayerTextDrawLetterSize(playerid, g_RobberyProgressTD[playerid], 0.4, 1.6);
    PlayerTextDrawColor(playerid, g_RobberyProgressTD[playerid], 0xFFFFFFFF);  // Verde
    PlayerTextDrawFont(playerid, g_RobberyProgressTD[playerid], 2);
    
    PlayerTextDrawAlignment(playerid, g_RobberyProgressTD[playerid], 2);
    // Establece el TextDraw como no seleccionable
    PlayerTextDrawSetSelectable(playerid, g_RobberyProgressTD[playerid], false);
    
    PlayerTextDrawSetProportional(playerid, g_RobberyProgressTD[playerid], 1);
    PlayerTextDrawSetShadow(playerid, g_RobberyProgressTD[playerid], 1);
    
    // 3. OCULTAR AL INICIO (Para que solo aparezca al robar)
    PlayerTextDrawHide(playerid, g_RobberyProgressTD[playerid]);
    
    // Inicializar variables de tiempo
    g_RobberyTimerStart[playerid] = 0;
    g_RobberyUpdateTimer[playerid] = 0;
    
    EnRutaSuministros[playerid] = -1;
    CargandoMercancia[playerid] = false;
    UsandoPickup[playerid] = 0;

	ApplyAnimation(playerid, "KNIFE", "null", 0.0, 0, 0, 0, 0, 0, 0);
	ApplyAnimation(playerid, "CRACK", "null", 0.0, 0, 0, 0, 0, 0, 0);
	
    TIME_DEALER[playerid] = gettime();
    PLAYER_TEMP[playerid][pt_COOLDOWN_VENDA] = gettime() + 120; 
    PLAYER_TEMP[playerid][pt_COOLDOWN_BOTI] = gettime() + 120;
    
    return 1;
}

stock Desconectado(playerid)
{
    PLD[playerid][pTrabajando] = 0;
    PLD[playerid][pLabID] = -1;
    PLD[playerid][pRutaID] = 0;
    
    RemovePlayerAttachedObject(playerid, 9); 
    
    // 2. Limpiar PVars
    DeletePVar(playerid, "EnRutaQuimicos");
    DeletePVar(playerid, "RegresandoConQuimicos");
    DeletePVar(playerid, "BarrilesCargados");
    DeletePVar(playerid, "CargandoBarril");
    DeletePVar(playerid, "ID_Fabrica_Pedido");
    
    // 3. Desactivar Checkpoints si se sale en plena misión
    DisablePlayerCheckpoint(playerid);
    DisablePlayerRaceCheckpoint(playerid);
    
    SegundosNadando[playerid] = 0;
    
    if(APA[playerid][pi_AptoID] != -1) 
    {
        GuardarApartamento(playerid);
    }

    // 2. Destruimos sus elementos del interior para liberar memoria del Streamer
    DestruirElementosInterior(playerid); 
    
    GuardarLogros(playerid);
    
    PTD[playerid][tTrabajando] = 0;
    PTD[playerid][tLabID] = -1;
    PTD[playerid][tRutaID] = -1;
    
    // También es bueno resetear el PVar o la variable del Lab por si las usas
    PLD[playerid][pLabID] = -1; 
    
    for(new o = 0; o < 3; o++) {
        if(IsValidDynamicObject(ObjetoCajaSuelo[playerid][o])) {
            DestroyDynamicObject(ObjetoCajaSuelo[playerid][o]);
            ObjetoCajaSuelo[playerid][o] = -1;
        }
    }

    // 2. Si el jugador estaba en un vehículo con cajas visuales
    new veh = GetPlayerVehicleID(playerid);
    if(veh != 0) {
        // Opcional: Si quieres que las cajas desaparezcan si el conductor se va
        ActualizarCajasVisuales(veh, 0); 
    }

    // 3. Limpiar variables de sesión
    VentaActorSeleccionado[playerid] = -1;
    CajasCargadas[playerid] = 0;
    CajasEntregadas[playerid] = 0;
    
    EnRutaSuministros[playerid] = -1;
    TipoRutaSeleccionada[playerid] = 0;
    CargandoMercancia[playerid] = false;
    
    if(GetPVarInt(playerid, "CargandoCaja") == 1) {
    DisablePlayerCheckpoint(playerid);
    DeletePVar(playerid, "CargandoCaja");
    DeletePVar(playerid, "EsperandoEntrega");
}

    // 2. Limpiar estados de pickups y delays
    UsandoPickup[playerid] = 0;
    PlayerEntradaDelay[playerid] = 0;
    

    // 3. Limpiar PVars (Variables temporales del servidor)
    DeletePVar(playerid, "ID_NegAdmin");
    DeletePVar(playerid, "ComprandoEnNeg");
    DeletePVar(playerid, "NegID_Admin");

    // 4. Si estaba cargando, forzar descongelación por si acaso
    TogglePlayerControllable(playerid, 1);
    
    if(ChatBubbleTimer[playerid] != -1) KillTimer(ChatBubbleTimer[playerid]);
    ChatBubbleTimer[playerid] = -1;


    // Aquí irían tus otras limpiezas (como la del LabelNombre que hicimos antes)
    if(LabelNombre[playerid] != Text3D:INVALID_3DTEXT_ID)
{
    DestroyDynamic3DTextLabel(LabelNombre[playerid]);
    LabelNombre[playerid] = Text3D:INVALID_3DTEXT_ID;
}

    
    ResetTrabajo(playerid);
    
    GpsEmpresaActivo[playerid] = false;
	
	for(new i = 0; i != MAX_TIMERS_PER_PLAYER; i++) KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][i]);
	if(PLAYER_TEMP[playerid][pt_LOGIN_KICK_TIMER] != -1) {
		KillTimer(PLAYER_TEMP[playerid][pt_LOGIN_KICK_TIMER]);
		PLAYERS_IN_GAME--;
		PLAYER_TEMP[playerid][pt_LOGIN_KICK_TIMER] = -1;
	}

	if(Acento[playerid] != -1)
	{
		Acento[playerid] = INVALID_ACENTO_ID;
	}

	if(PI_CAR_WORK[playerid])
	{
		if(TimerCar[playerid]) TimerCar[playerid] = SetTimerEx("DestroyCar", 120000, false, "ii", playerid, PI_CAR_WORK_ID[playerid]);
	}
	
	if (PLAYER_TEMP[playerid][pt_RENT_VEHICLE_ID] != INVALID_VEHICLE_ID) DestroyVehicleEx(PLAYER_TEMP[playerid][pt_RENT_VEHICLE_ID]);
    PLAYER_TEMP[playerid][pt_RENT_VEHICLE_ID] = INVALID_VEHICLE_ID;

	

	if(PI_CAR_TEST[playerid])
	{
		PI_CAR_TEST[playerid]=false;
		DestroyVehicle(PI_CAR_TEST_ID[playerid]);
		PI_CAR_TEST_ID[playerid] = -1;
	}

	if(PI_TIMER_CITY[playerid] != -1)
	{
		KillTimer(PI_TIMER_CITY[playerid]);
		PI_TIMER_CITY[playerid] = -1;
	}

	if(IsValidDynamicCP(PLAYER_TEMP[playerid][pt_TRUCKER_AD]))
	{
		DestroyDynamicCP(PLAYER_TEMP[playerid][pt_TRUCKER_AD]);
		PLAYER_TEMP[playerid][pt_TRUCKER_AD] = INVALID_STREAMER_ID;
	}
	
	if (PLAYER_TEMP[playerid][pt_WORK_VEHICLE_ID] != INVALID_VEHICLE_ID) DestroyVehicleEx(PLAYER_TEMP[playerid][pt_WORK_VEHICLE_ID]);
    PLAYER_TEMP[playerid][pt_WORK_VEHICLE_ID] = INVALID_VEHICLE_ID;

	if (PLAYER_TEMP[playerid][pt_RENT_VEHICLE_ID] != INVALID_VEHICLE_ID) DestroyVehicleEx(PLAYER_TEMP[playerid][pt_RENT_VEHICLE_ID]);
    PLAYER_TEMP[playerid][pt_RENT_VEHICLE_ID] = INVALID_VEHICLE_ID;
	
	verifyCharged(playerid);
	cleanChargeVars(playerid);
	return 1;
}

stock ResetearDatosApartamento(playerid)
{
    // 1. Si el jugador está dentro de su mundo virtual, lo sacamos al spawn
    if(GetPlayerVirtualWorld(playerid) == 1000 + PI[playerid][pi_ID])
    {
        // Lo mandamos a una posición segura (puedes cambiar estas coordenadas por tu spawn)
        SetPlayerPos(playerid, 1742.71, -1861.15, 13.57); 
        SetPlayerVirtualWorld(playerid, 0);
        SetPlayerInterior(playerid, 0);
        
        // Destruimos los pickups de su interior
        DestruirElementosInterior(playerid);
        
        SendNotification(playerid, "Has sido desalojado del apartamento.");
    }

    // 2. Resetear variables principales
    APA[playerid][pi_AptoID] = -1;
    APA[playerid][pi_AptoTiempo] = 0;
    APA[playerid][pi_AptoExX] = 0.0;
    APA[playerid][pi_AptoExY] = 0.0;
    APA[playerid][pi_AptoExZ] = 0.0;
    APA[playerid][pi_AptoExA] = 0.0;

    // 3. Limpiar Slots de Ropero (Skins)
    APA[playerid][pi_AptoSkin1] = 0;
    APA[playerid][pi_AptoSkin2] = 0;

    // 4. Limpiar los 10 Slots de la Caja Fuerte
    for(new i = 0; i < 10; i++)
    {
        APA[playerid][pi_CajaID][i] = 0;
        APA[playerid][pi_CajaCant][i] = 0;
    }

    // 5. Guardar los datos reseteados en el archivo Dini para borrar lo anterior
    GuardarApartamento(playerid);
    
    return 1;
}

forward AplicarRemociones(playerid);
public AplicarRemociones(playerid)
{
	RemoveBuildingForPlayer(playerid, 1776, 379.039093, -178.882797, 1000.734375, 0.100000);
    RemoveBuildingForPlayer(playerid, 1776, 500.562500, -1.367200, 1000.734375, 0.100000);
    RemoveBuildingForPlayer(playerid, 1775, 373.828094, -178.140594, 1000.734375, 0.100000);
    RemoveBuildingForPlayer(playerid, 1775, 501.828094, -1.429700, 1000.734375, 0.100000);
    RemoveBuildingForPlayer(playerid, 1775, 495.968811, -24.320299, 1000.734375, 0.100000);
    RemoveBuildingForPlayer(playerid, 14776, 619.789124, -9.312500, 1006.429688, 0.250000);
    
	//Remove vallas arbol bug camionero
	RemoveBuildingForPlayer(playerid, 785, -460.2578, -591.9609, 11.0625, 0.25);
	RemoveBuildingForPlayer(playerid, 800, -500.7813, -567.7188, 25.7422, 0.25);
	RemoveBuildingForPlayer(playerid, 800, -500.7266, -574.1953, 25.7422, 0.25);
	
	//Eliminar semaforos en ayuntamiento
	RemoveBuildingForPlayer(playerid, 1283, 1357.5156, -1732.9375, 15.6250, 0.25);
	RemoveBuildingForPlayer(playerid, 1283, 1376.5156, -1731.8516, 15.6250, 0.25);
	RemoveBuildingForPlayer(playerid, 1283, 1441.8594, -1733.0078, 15.6250, 0.25);
	RemoveBuildingForPlayer(playerid, 1283, 1403.3672, -1733.0078, 15.6250, 0.25);
	RemoveBuildingForPlayer(playerid, 1283, 1414.4141, -1731.4297, 15.6250, 0.25);
	RemoveBuildingForPlayer(playerid, 1283, 1430.1719, -1719.4688, 15.6250, 0.25);
	RemoveBuildingForPlayer(playerid, 1283, 1513.2344, -1732.9219, 15.6250, 0.25);
	RemoveBuildingForPlayer(playerid, 1283, 1428.9375, -1605.8203, 15.6250, 0.25);
	RemoveBuildingForPlayer(playerid, 1283, 1416.5859, -1591.7422, 15.6250, 0.25);
	RemoveBuildingForPlayer(playerid, 1283, 1428.8984, -1577.1328, 15.6250, 0.25);
	RemoveBuildingForPlayer(playerid, 1283, 1443.2031, -1592.9453, 15.6250, 0.25);
	RemoveBuildingForPlayer(playerid, 1283, 1568.8828, -1745.4766, 15.6250, 0.25);
	RemoveBuildingForPlayer(playerid, 1283, 1545.7656, -1731.6719, 15.6250, 0.25);
	RemoveBuildingForPlayer(playerid, 1283, 1530.1172, -1717.0078, 15.6250, 0.25);
	RemoveBuildingForPlayer(playerid, 1283, 1582.6719, -1733.1328, 15.6250, 0.25);
	RemoveBuildingForPlayer(playerid, 1283, 1528.9531, -1605.8594, 15.6250, 0.25);
	RemoveBuildingForPlayer(playerid, 1283, 1544.6250, -1593.0313, 15.6250, 0.25);
	
	//Borrar dos farolas Dixel
	RemoveBuildingForPlayer(playerid, 1231, 1477.9375, -1652.7266, 15.6328, 0.25);
	RemoveBuildingForPlayer(playerid, 1231, 1466.4688, -1637.9609, 15.6328, 0.25);

	//Eliminar contenedores y farolas Camionero
	RemoveBuildingForPlayer(playerid, 17019, -606.0313, -528.8203, 30.5234, 0.25);
	RemoveBuildingForPlayer(playerid, 1278, -573.0547, -479.9219, 38.5781, 0.25);
	RemoveBuildingForPlayer(playerid, 1278, -552.7656, -479.9219, 38.6250, 0.25);
	RemoveBuildingForPlayer(playerid, 1278, -532.4688, -479.9219, 38.6484, 0.25);
	RemoveBuildingForPlayer(playerid, 1278, -512.1641, -479.9219, 38.5938, 0.25);

	//garaje tunin
	RemoveBuildingForPlayer(playerid, 13062, 266.3594, 20.1328, 5.4844, 0.25);
	RemoveBuildingForPlayer(playerid, 1440, 243.9531, 24.6172, 2.0156, 0.25);
	RemoveBuildingForPlayer(playerid, 1684, 276.8438, -2.4297, 2.8828, 0.25);
	RemoveBuildingForPlayer(playerid, 13059, 266.3594, 20.1328, 5.4844, 0.25);
	RemoveBuildingForPlayer(playerid, 1440, 255.2734, 22.7734, 1.8984, 0.25);
	
	//policia lv
	RemoveBuildingForPlayer(playerid, 1722, 231.6172, 178.3594, 1002.0234, 0.25);
	RemoveBuildingForPlayer(playerid, 1722, 231.6172, 179.6719, 1002.0234, 0.25);
	RemoveBuildingForPlayer(playerid, 1722, 231.6172, 179.0234, 1002.0234, 0.25);
	RemoveBuildingForPlayer(playerid, 1722, 231.6172, 181.5938, 1002.0234, 0.25);
	RemoveBuildingForPlayer(playerid, 1722, 231.6172, 182.2578, 1002.0234, 0.25);
	RemoveBuildingForPlayer(playerid, 1808, 231.9375, 180.2500, 1002.0469, 0.25);
	RemoveBuildingForPlayer(playerid, 1722, 231.6172, 182.9063, 1002.0234, 0.25);
	RemoveBuildingForPlayer(playerid, 2197, 214.7813, 187.7969, 1002.0156, 0.25);
	RemoveBuildingForPlayer(playerid, 2197, 215.5000, 187.7969, 1002.0156, 0.25);
	RemoveBuildingForPlayer(playerid, 1806, 216.6406, 185.7891, 1002.0156, 0.25);
	RemoveBuildingForPlayer(playerid, 2197, 216.2266, 187.7969, 1002.0156, 0.25);
	RemoveBuildingForPlayer(playerid, 1806, 216.7813, 186.9531, 1002.0156, 0.25);
	RemoveBuildingForPlayer(playerid, 2165, 216.9453, 186.6328, 1002.0234, 0.25);
	RemoveBuildingForPlayer(playerid, 1806, 218.4922, 185.7891, 1002.0156, 0.25);
	RemoveBuildingForPlayer(playerid, 2165, 218.9063, 186.6328, 1002.0234, 0.25);
	RemoveBuildingForPlayer(playerid, 2356, 219.2734, 187.6875, 1002.0234, 0.25);
	RemoveBuildingForPlayer(playerid, 2191, 221.4609, 188.7813, 1002.0234, 0.25);
	RemoveBuildingForPlayer(playerid, 2191, 221.4609, 187.1953, 1002.0234, 0.25);
	RemoveBuildingForPlayer(playerid, 2191, 221.4609, 185.6016, 1002.0234, 0.25);
	RemoveBuildingForPlayer(playerid, 2191, 221.4609, 183.9922, 1002.0234, 0.25);

	//Ejercito? saem
	//RemoveBuildingForPlayer(playerid, 968, -1526.4375, 481.3828, 6.9063, 0.25);
	//RemoveBuildingForPlayer(playerid, 966, -1526.3906, 481.3828, 6.1797, 0.25);

	// Taxi LV
	RemoveBuildingForPlayer(playerid, 8041, 1715.7500, 1303.2891, 15.6016, 0.25);

	//Eliminar maquinas expendedoras
    RemoveBuildingForPlayer(playerid, 1302, 0.0, 0.0, 0.0, 6000.0);
    RemoveBuildingForPlayer(playerid, 1209, 0.0, 0.0, 0.0, 6000.0);
    RemoveBuildingForPlayer(playerid, 955, 0.0, 0.0, 0.0, 6000.0);
	RemoveBuildingForPlayer(playerid, 956, 0.0, 0.0, 0.0, 6000.0);
    RemoveBuildingForPlayer(playerid, 1775, 0.0, 0.0, 0.0, 6000.0);
    RemoveBuildingForPlayer(playerid, 1776, 0.0, 0.0, 0.0, 6000.0);
    RemoveBuildingForPlayer(playerid, 1977, 0.0, 0.0, 0.0, 6000.0);
	
	//Cosechador
	RemoveBuildingForPlayer(playerid, 3276, -378.7734, -1459.0234, 25.4766, 0.25);

	//Camionero productos limpieza
	RemoveBuildingForPlayer(playerid, 985, 2497.4063, 2777.0703, 11.5313, 0.25);
	RemoveBuildingForPlayer(playerid, 986, 2497.4063, 2769.1094, 11.5313, 0.25);
	
	//Deposito
	RemoveBuildingForPlayer(playerid, 17350, -54.9922, -1130.7266, 4.5781, 0.25);
	RemoveBuildingForPlayer(playerid, 1447, -89.9297, -1133.7500, 1.3906, 0.25);
	RemoveBuildingForPlayer(playerid, 1438, -87.0547, -1132.6797, 0.0469, 0.25);
	RemoveBuildingForPlayer(playerid, 1462, -79.2500, -1137.7188, 0.0547, 0.25);
	RemoveBuildingForPlayer(playerid, 3285, -73.8047, -1141.4219, 1.9844, 0.25);
	RemoveBuildingForPlayer(playerid, 17072, -54.9922, -1130.7266, 4.5781, 0.25);
	RemoveBuildingForPlayer(playerid, 17073, -56.1250, -1130.1719, 4.4922, 0.25);
	RemoveBuildingForPlayer(playerid, 1462, -84.3750, -1116.0938, 0.2578, 0.25);
	RemoveBuildingForPlayer(playerid, 1447, -84.0547, -1117.2188, 1.3906, 0.25);
	RemoveBuildingForPlayer(playerid, 1415, -68.3516, -1104.9922, 0.2188, 0.25);
	RemoveBuildingForPlayer(playerid, 1462, -60.3594, -1116.9375, 0.2578, 0.25);
	RemoveBuildingForPlayer(playerid, 1438, -63.6719, -1125.6953, 0.0469, 0.25);
	RemoveBuildingForPlayer(playerid, 1438, -63.4141, -1115.4141, 0.0469, 0.25);
	RemoveBuildingForPlayer(playerid, 1415, -63.8125, -1106.4219, 0.2188, 0.25);
	
	// Sawmill . ext
	RemoveBuildingForPlayer(playerid, 17325, -1109.039, -1621.101, 75.265, 0.250);
	RemoveBuildingForPlayer(playerid, 785, -1132.585, -1591.156, 72.250, 0.250);
	RemoveBuildingForPlayer(playerid, 1413, -1122.757, -1692.960, 76.687, 0.250);
	RemoveBuildingForPlayer(playerid, 1447, -1127.960, -1692.804, 76.718, 0.250);
	RemoveBuildingForPlayer(playerid, 3260, -1113.484, -1679.515, 76.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3260, -1111.476, -1679.515, 76.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3260, -1109.476, -1679.515, 76.359, 0.250);
	RemoveBuildingForPlayer(playerid, 1447, -1112.289, -1693.109, 76.718, 0.250);
	RemoveBuildingForPlayer(playerid, 1412, -1117.523, -1693.093, 76.671, 0.250);
	RemoveBuildingForPlayer(playerid, 1413, -1101.648, -1693.015, 76.687, 0.250);
	RemoveBuildingForPlayer(playerid, 1447, -1106.859, -1693.039, 76.718, 0.250);
	RemoveBuildingForPlayer(playerid, 3260, -1114.617, -1670.585, 76.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3260, -1114.617, -1672.585, 76.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3260, -1114.617, -1674.578, 76.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3260, -1114.617, -1676.578, 76.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3260, -1114.617, -1678.578, 76.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3260, -1113.796, -1668.789, 76.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3260, -1108.390, -1674.585, 76.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3260, -1108.390, -1678.578, 76.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3260, -1108.390, -1676.570, 76.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3260, -1108.390, -1672.585, 76.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3260, -1108.390, -1670.585, 76.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3260, -1111.484, -1669.164, 76.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3260, -1109.421, -1669.585, 76.359, 0.250);
	RemoveBuildingForPlayer(playerid, 703, -1087.312, -1674.921, 75.296, 0.250);
	RemoveBuildingForPlayer(playerid, 691, -1068.585, -1662.578, 75.031, 0.250);
	RemoveBuildingForPlayer(playerid, 3374, -1088.390, -1663.734, 76.890, 0.250);
	RemoveBuildingForPlayer(playerid, 3374, -1094.546, -1663.523, 76.835, 0.250);
	RemoveBuildingForPlayer(playerid, 3263, -893.656, -1773.156, 82.242, 0.250);
	RemoveBuildingForPlayer(playerid, 3262, -893.828, -1775.164, 82.765, 0.250);
	RemoveBuildingForPlayer(playerid, 3265, -923.296, -1714.242, 77.085, 0.250);
	RemoveBuildingForPlayer(playerid, 3262, -876.765, -1822.765, 91.335, 0.250);
	RemoveBuildingForPlayer(playerid, 3263, -877.390, -1821.234, 91.148, 0.250);
	RemoveBuildingForPlayer(playerid, 3265, -862.570, -1821.585, 90.976, 0.250);
	RemoveBuildingForPlayer(playerid, 3264, -865.750, -1819.046, 91.085, 0.250);
	RemoveBuildingForPlayer(playerid, 3263, -861.117, -1822.031, 91.054, 0.250);
	RemoveBuildingForPlayer(playerid, 3264, -889.203, -1788.734, 85.679, 0.250);
	RemoveBuildingForPlayer(playerid, 3265, -888.507, -1791.929, 86.320, 0.250);
	RemoveBuildingForPlayer(playerid, 3262, -875.140, -1799.929, 88.890, 0.250);
	RemoveBuildingForPlayer(playerid, 3425, -1124.734, -1637.492, 86.507, 0.250);
	RemoveBuildingForPlayer(playerid, 3260, -1117.265, -1635.359, 76.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3260, -1117.265, -1637.367, 76.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3260, -1117.265, -1639.367, 76.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3260, -1116.328, -1634.226, 76.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3260, -1116.328, -1640.453, 76.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3260, -1114.328, -1634.226, 76.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3260, -1114.328, -1640.453, 76.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3260, -1108.320, -1634.226, 76.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3260, -1110.320, -1634.226, 76.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3260, -1112.320, -1634.226, 76.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3260, -1112.320, -1640.453, 76.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3260, -1110.312, -1640.453, 76.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3260, -1108.328, -1640.453, 76.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3260, -1104.328, -1634.226, 76.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3260, -1106.328, -1634.226, 76.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3260, -1106.328, -1640.453, 76.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3260, -1104.328, -1640.453, 76.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3260, -1103.101, -1635.421, 76.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3260, -1102.585, -1637.593, 76.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3260, -1103.328, -1639.421, 76.359, 0.250);
	RemoveBuildingForPlayer(playerid, 17324, -1109.039, -1621.101, 75.265, 0.250);
	RemoveBuildingForPlayer(playerid, 1454, -1089.203, -1608.734, 76.148, 0.250);
	RemoveBuildingForPlayer(playerid, 1454, -1093.156, -1608.734, 76.148, 0.250);
	RemoveBuildingForPlayer(playerid, 1454, -1097.109, -1608.734, 76.148, 0.250);
	RemoveBuildingForPlayer(playerid, 1454, -1101.062, -1608.734, 76.148, 0.250);
	RemoveBuildingForPlayer(playerid, 1454, -1085.250, -1608.734, 76.148, 0.250);
	RemoveBuildingForPlayer(playerid, 1454, -1078.312, -1608.734, 76.148, 0.250);
	RemoveBuildingForPlayer(playerid, 1454, -1074.359, -1608.734, 76.148, 0.250);
	RemoveBuildingForPlayer(playerid, 1454, -1070.406, -1608.734, 76.148, 0.250);
	RemoveBuildingForPlayer(playerid, 1454, -1066.453, -1608.734, 76.148, 0.250);
	RemoveBuildingForPlayer(playerid, 1454, -1062.500, -1608.734, 76.148, 0.250);
	RemoveBuildingForPlayer(playerid, 3261, -1023.132, -1632.460, 75.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3409, -1062.140, -1631.718, 75.335, 0.250);
	RemoveBuildingForPlayer(playerid, 3261, -1023.132, -1629.281, 75.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3261, -1023.132, -1626.101, 75.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3261, -1023.132, -1622.976, 75.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3409, -1052.359, -1631.718, 75.335, 0.250);
	RemoveBuildingForPlayer(playerid, 3409, -1042.437, -1631.718, 75.335, 0.250);
	RemoveBuildingForPlayer(playerid, 3261, -1032.703, -1622.976, 75.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3409, -1032.671, -1631.718, 75.335, 0.250);
	RemoveBuildingForPlayer(playerid, 3261, -1032.703, -1629.281, 75.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3261, -1032.703, -1626.101, 75.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3261, -1032.703, -1632.460, 75.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3261, -1032.703, -1619.906, 75.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3409, -1023.132, -1631.718, 75.335, 0.250);
	RemoveBuildingForPlayer(playerid, 3409, -1062.140, -1622.203, 75.335, 0.250);
	RemoveBuildingForPlayer(playerid, 3409, -1052.359, -1622.203, 75.335, 0.250);
	RemoveBuildingForPlayer(playerid, 3409, -1042.437, -1622.203, 75.335, 0.250);
	RemoveBuildingForPlayer(playerid, 3409, -1032.671, -1622.203, 75.335, 0.250);
	RemoveBuildingForPlayer(playerid, 3409, -1023.132, -1622.203, 75.335, 0.250);
	RemoveBuildingForPlayer(playerid, 3261, -991.953, -1688.187, 75.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3261, -991.953, -1700.679, 75.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3261, -991.953, -1697.500, 75.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3261, -991.953, -1703.859, 75.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3261, -991.953, -1691.304, 75.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3261, -991.953, -1694.375, 75.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3261, -991.953, -1685.078, 75.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3409, -982.382, -1703.109, 75.335, 0.250);
	RemoveBuildingForPlayer(playerid, 3409, -991.921, -1693.601, 75.335, 0.250);
	RemoveBuildingForPlayer(playerid, 3409, -982.382, -1693.601, 75.335, 0.250);
	RemoveBuildingForPlayer(playerid, 3409, -991.921, -1684.171, 75.335, 0.250);
	RemoveBuildingForPlayer(playerid, 3409, -982.382, -1684.171, 75.335, 0.250);
	RemoveBuildingForPlayer(playerid, 3261, -1011.929, -1655.867, 75.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3409, -1011.898, -1667.671, 75.335, 0.250);
	RemoveBuildingForPlayer(playerid, 3261, -1011.929, -1665.242, 75.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3261, -1011.929, -1662.062, 75.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3261, -1011.929, -1668.421, 75.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3261, -1011.929, -1652.750, 75.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3261, -1011.929, -1658.937, 75.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3261, -1011.929, -1649.640, 75.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3409, -1011.898, -1658.156, 75.335, 0.250);
	RemoveBuildingForPlayer(playerid, 3409, -1011.898, -1648.734, 75.335, 0.250);
	RemoveBuildingForPlayer(playerid, 3261, -1000.750, -1652.750, 75.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3409, -1000.726, -1667.671, 75.335, 0.250);
	RemoveBuildingForPlayer(playerid, 3261, -1000.750, -1665.242, 75.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3261, -1000.750, -1662.062, 75.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3261, -1000.750, -1668.421, 75.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3261, -1000.750, -1655.867, 75.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3261, -1000.750, -1658.937, 75.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3261, -1000.750, -1649.640, 75.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3409, -1000.726, -1658.156, 75.335, 0.250);
	RemoveBuildingForPlayer(playerid, 3409, -1000.726, -1648.734, 75.335, 0.250);
	RemoveBuildingForPlayer(playerid, 3261, -1052.382, -1632.460, 75.367, 0.250);
	RemoveBuildingForPlayer(playerid, 3261, -1052.382, -1629.281, 75.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3261, -1052.382, -1626.101, 75.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3261, -1052.382, -1622.976, 75.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3261, -1042.453, -1631.937, 75.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3261, -1042.453, -1635.054, 75.359, 0.250);
	RemoveBuildingForPlayer(playerid, 3409, -1023.132, -1636.390, 75.335, 0.250);
	RemoveBuildingForPlayer(playerid, 3409, -991.921, -1688.843, 75.335, 0.250);
	RemoveBuildingForPlayer(playerid, 3409, -982.382, -1688.843, 75.335, 0.250);
	RemoveBuildingForPlayer(playerid, 3409, -982.382, -1698.273, 75.335, 0.250);
	RemoveBuildingForPlayer(playerid, 3409, -991.921, -1698.273, 75.335, 0.250);
	RemoveBuildingForPlayer(playerid, 3409, -1011.898, -1662.828, 75.335, 0.250);
	RemoveBuildingForPlayer(playerid, 3409, -1000.726, -1672.343, 75.335, 0.250);
	RemoveBuildingForPlayer(playerid, 3409, -1011.898, -1653.406, 75.335, 0.250);
	RemoveBuildingForPlayer(playerid, 3409, -1032.671, -1636.390, 75.335, 0.250);
	RemoveBuildingForPlayer(playerid, 3409, -1052.359, -1636.390, 75.335, 0.250);
	RemoveBuildingForPlayer(playerid, 3409, -1042.437, -1636.390, 75.335, 0.250);
	RemoveBuildingForPlayer(playerid, 3409, -1062.140, -1626.875, 75.335, 0.250);
	RemoveBuildingForPlayer(playerid, 3409, -1023.132, -1626.875, 75.335, 0.250);
	RemoveBuildingForPlayer(playerid, 3409, -1000.726, -1662.828, 75.335, 0.250);
	RemoveBuildingForPlayer(playerid, 3409, -1000.726, -1653.406, 75.335, 0.250);
	RemoveBuildingForPlayer(playerid, 3409, -1032.671, -1626.875, 75.335, 0.250);
	RemoveBuildingForPlayer(playerid, 3409, -1042.437, -1626.875, 75.335, 0.250);
	RemoveBuildingForPlayer(playerid, 3409, -1052.359, -1626.875, 75.335, 0.250);
	RemoveBuildingForPlayer(playerid, 3409, -1062.140, -1636.390, 75.335, 0.250);
	
	return 1;
}

stock SendPlayerClientMessage(playerid, const message[], {Float, _}:...)
{
    new start = -1, end = -1, ColorCode[9], MessageColor = -1;

    // Detectar si el mensaje empieza con un código de color {RRGGBB}
    if (message[0] == '{') { start = 0; }
    if (message[7] == '}') { end = 7; }

    if (start != -1 && end != -1 && end > start) {
        start += 1;
        new length = end - start;
        if (length > 0 && length < 8) { // Ajustado a 8 para seguridad
            for (new i = 0; i < length; i++) {
                ColorCode[i] = message[start + i];
            }
            ColorCode[length] = '\0';
            MessageColor = HexToIntEx(ColorCode);
        }
    }

    // Si no se detectó color, ponemos un blanco por defecto o el que gustes
    if(MessageColor == -1) MessageColor = 0xFFFFFFFF;

    // --- Manejo del Formateo (Sustituye a YSI_UNSAFE) ---
    new dest[144]; // Tamaño máximo de un mensaje en el chat de SAMP
    new num_args = numargs();

    if (num_args <= 2) // No hay argumentos extra, enviar mensaje simple
    {
        return SendClientMessage(playerid, MessageColor, message);
    }
    else // Hay argumentos (como %d, %s), formatear
    {
        // Usamos va_format para procesar los "..."
        // Si no tienes y_va, esta es la forma nativa:
        format(dest, sizeof(dest), message, ___(2)); 
        return SendClientMessage(playerid, MessageColor, dest);
    }
}

stock GuardarEstado(playerid)
{
    new archivo[64];
    format(archivo, sizeof(archivo), "/Estado/%d.ini", PI[playerid][pi_ID]);
    
    if(!dini_Exists(archivo)) dini_Create(archivo);
    
    // Guardamos el TEXTO, no el ID del label
    dini_Set(archivo, "EstadoTexto", PI[playerid][pi_Estado]);
    dini_IntSet(archivo, "EstadoColor", PI[playerid][pi_ColorEstado]);
    return 1;
}

stock ApagarSoloMotor(vehicleid)
{
    new engine, lights, alarm, doors, bonnet, boot, objective;
    GetVehicleParamsEx(vehicleid, engine, lights, alarm, doors, bonnet, boot, objective);
    
    // Si el motor está encendido (1), lo apagamos (0)
    if(engine == 1)
    {
        SetVehicleParamsEx(vehicleid, 0, lights, alarm, doors, bonnet, boot, objective);
    }
    return 1;
}


stock CargarEstado(playerid)
{
    new archivo[64];
    format(archivo, sizeof(archivo), "/Estado/%d.ini", PI[playerid][pi_ID]);
    
    if(dini_Exists(archivo))
    {
        // 1. Cargamos el texto directamente a la variable que lee el Timer
        format(PI[playerid][pi_Estado], 64, dini_Get(archivo, "EstadoTexto"));
        
        // 2. Cargamos el color
        PI[playerid][pi_ColorEstado] = dini_Int(archivo, "EstadoColor");
    }
    else 
    {
        // Si no tiene archivo de estado, ponemos el default para que el Timer no muestre nada
        format(PI[playerid][pi_Estado], 64, "Ninguno");
        PI[playerid][pi_ColorEstado] = 0xFFFFFFFF;
    }
    return 1;
}

forward UpdateTextCity(playerid);
public UpdateTextCity(playerid)
{
    // Verificamos que el jugador esté logueado antes de actualizar
    if(!IsPlayerConnected(playerid)) return 1;

    new city[45], zone[45], str[64]; // Aumentamos un poco el margen del str
    GetPlayerZones(playerid, city, zone);

    // Si la zona falla o está vacía, ponemos un valor por defecto para que no se estire el cuadro
    if(isnull(zone)) format(str, sizeof(str), "San Andreas");
    else format(str, sizeof(str), "%s", zone);

    PlayerTextDrawSetString(playerid, PlayerTextdraws[playerid][ptextdraw_HUD][7], str);
    // No es necesario usar PlayerTextDrawShow aquí si el TD ya está visible, 
    // eso ahorra tráfico de red y evita parpadeos.
    return 1;
}

forward BorrarTdLogros(playerid);
public BorrarTdLogros(playerid){
    TextDrawHideForPlayer(playerid,BoxLogros);
    TextDrawHideForPlayer(playerid,LogroCo);
    TextDrawHideForPlayer(playerid,LogroRe);
    return 1;
}

forward TimerRotarMercados();
public TimerRotarMercados()
{
    RotarDialogosMercados();
    SendClientMessageToAll(-1, "{FF0000}[MERCADO NEGRO]: {FFFFFF}Los suministros de armas han sido rotados globalmente.");
    return 1;
}

forward CargarBasureros();
public CargarBasureros()
{
    new rows = cache_num_rows();
    if(rows)
    {
        for(new i = 0; i < rows; i++)
        {
            // 1. Primero obtenemos el ID real de la base de datos
            new db_id;
            cache_get_value_name_int(i, "id", db_id);
            
            // 2. Usamos db_id como el índice de nuestro array (ba_slot)
            new ba_slot = db_id; 

            // Verificación de seguridad para no desbordar el array
            if(ba_slot >= MAX_BASUREROS) continue;

            BasureroData[ba_slot][ba_DB_ID] = db_id;
            cache_get_value_name_float(i, "pos_x", BasureroData[ba_slot][ba_X]);
            cache_get_value_name_float(i, "pos_y", BasureroData[ba_slot][ba_Y]);
            cache_get_value_name_float(i, "pos_z", BasureroData[ba_slot][ba_Z]);
            cache_get_value_name_float(i, "rot_x", BasureroData[ba_slot][ba_RX]);
            cache_get_value_name_float(i, "rot_y", BasureroData[ba_slot][ba_RY]);
            cache_get_value_name_float(i, "rot_z", BasureroData[ba_slot][ba_RZ]);
            
            // Cargar los 10 slots de inventario
            for(new s = 0; s < 10; s++) 
            {
                new f_id[32], f_cant[32];
                format(f_id, sizeof(f_id), "slot_id_%d", s+1);
                format(f_cant, sizeof(f_cant), "slot_cant_%d", s+1);
                
                cache_get_value_name_int(i, f_id, BasureroData[ba_slot][ba_INV_ID][s]);
                cache_get_value_name_int(i, f_cant, BasureroData[ba_slot][ba_INV_CANT][s]);
            }

            // 3. Crear el objeto físicamente (Usando ba_slot)
            BasureroData[ba_slot][ba_OBJETO_ID] = CreateDynamicObject(3035, BasureroData[ba_slot][ba_X], BasureroData[ba_slot][ba_Y], BasureroData[ba_slot][ba_Z]-0.5, BasureroData[ba_slot][ba_RX], BasureroData[ba_slot][ba_RY], BasureroData[ba_slot][ba_RZ]);
            
            // 4. Crear el Label (con el ID real)
            new labelStr[128];
            format(labelStr, sizeof(labelStr), "{33CCFF}Basurero {FFFFFF}ID: %d\n{AAAAAA}Acercate para ver la basura", db_id);
            BasureroData[ba_slot][ba_LABEL] = CreateDynamic3DTextLabel(labelStr, -1, 
                BasureroData[ba_slot][ba_X], BasureroData[ba_slot][ba_Y], BasureroData[ba_slot][ba_Z] + 0.4, 10.0);
            
            // 5. Crear el Pickup (ID 1239 es el de info azul, el 0 es invisible)
            BasureroData[ba_slot][ba_PICKUP] = CreateDynamicPickup(0, 1, 
                BasureroData[ba_slot][ba_X], BasureroData[ba_slot][ba_Y], BasureroData[ba_slot][ba_Z]);

            TotalBasureros++;
        }
        printf("[MYSQL]: Se han cargado %d basureros dinámicos en sus respectivos IDs.", rows);
    }
    return 1;
}


forward TemporizadorBasureros();
public TemporizadorBasureros()
{
    new total_items_nuevos, random_item_index, id_objeto_suerte, cantidad_suerte, slot_random;
    
    // 1. Recorremos TODO el array, no solo TotalBasureros
    for(new i = 0; i < MAX_BASUREROS; i++)
    {
        // Solo procesamos si el basurero existe (ba_DB_ID no es -1)
        if(BasureroData[i][ba_DB_ID] == -1) continue;

        // Limpiamos todos los slots del basurero antes de generar nueva basura
        for(new s = 0; s < 10; s++)
        {
            BasureroData[i][ba_INV_ID][s] = 0;
            BasureroData[i][ba_INV_CANT][s] = 0;
        }

        // 2. Decidimos cuántos objetos nuevos tendrá (entre 3 y 6)
        total_items_nuevos = random(4) + 3; 

        for(new s = 0; s < total_items_nuevos; s++)
        {
            // Elegimos un slot al azar (0 al 9)
            slot_random = random(10);
            
            // Si el slot ya tiene algo (por el azar), buscamos otro o simplemente sobrescribimos
            // Elegimos un objeto al azar de nuestra lista de basura
            random_item_index = random(sizeof(ItemsBasuraRandom));
            id_objeto_suerte = ItemsBasuraRandom[random_item_index];
            
            // Cantidad aleatoria
            cantidad_suerte = random(3) + 1;

            // Lo asignamos al SLOT ALEATORIO
            BasureroData[i][ba_INV_ID][slot_random] = id_objeto_suerte;
            BasureroData[i][ba_INV_CANT][slot_random] = cantidad_suerte;

            // Guardamos este slot específico en la base de datos
            ActualizarBasureroSlotDB(i, slot_random);
        }
    }

    // 3. Mensaje global
    SendClientMessageToAll(0x33CCFFFF, "[CIUDAD]: {FFFFFF}Los camiones de basura han pasado. ¡Hay objetos nuevos en los basureros!");
    return 1;
}

forward TimerRespawnTrabajo(vehicleid);
public TimerRespawnTrabajo(vehicleid)
{
    TimerAbandonoVeh[vehicleid] = 0; // Limpiamos la variable

    // Verificamos que el auto no esté ocupado por un fantasma o alguien sentado
    if(!IsVehicleOccupied(vehicleid)) 
    {
        // Solo si sigue siendo de trabajo, lo respawneamos
        if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_TYPE] == VEHICLE_TYPE_WORK)
        {
            DestroyVehicleEx(vehicleid);
        }
    }
    return 1;
}

forward ControlCompradores();
public ControlCompradores()
{
    for(new i = 0; i < MAX_COMPRADORES; i++)
    {
        if(!CompradoresInfo[i][cActivo])
        {
            // Probabilidad de que aparezca (Random)
            if(random(100) < 5) // 5% de chance cada minuto
            {
                CompradoresInfo[i][cActivo] = true;
                CompradoresInfo[i][cTiempo] = 20 + random(40); // Entre 20 y 60 min
                CompradoresInfo[i][cActorID] = CreateDynamicActor(CompradoresInfo[i][cSkin], CompradoresInfo[i][acX], CompradoresInfo[i][acY], CompradoresInfo[i][acZ], CompradoresInfo[i][cA]);
                
                new str[128];
                format(str, sizeof(str), "{F1C40F}« Comprador: {FFFFFF}%s {F1C40F}»\n{BBBBBB}Estado: {53FF00}Buscando Mercancía\n{FFFFFF}ID: %d", CompradoresInfo[i][cNombre], i);
                CompradoresInfo[i][cLabel] = CreateDynamic3DTextLabel(str, -1, CompradoresInfo[i][acX], CompradoresInfo[i][acY], CompradoresInfo[i][acZ]+1.0, 15.0);
                
                format(str, sizeof(str), "{3BF1B3}« PEDIDO » {FFFFFF}%s está buscando mercancía. ¡Ve a tu fabrica!", CompradoresInfo[i][cNombre]);
                SendClientMessageToAll(-1, str);
            }
        }
        else 
        {
            CompradoresInfo[i][cTiempo]--;
            if(CompradoresInfo[i][cTiempo] <= 0)
            {
                DesactivarComprador(i);
                new str[128];
                format(str, sizeof(str), "{3BF1B3}« PEDIDO » {FFFFFF}%s se ha retirado de la zona.", CompradoresInfo[i][cNombre]);
                SendClientMessageToAll(-1, str);
            }
        }
    }
}

stock DesactivarComprador(id)
{
    CompradoresInfo[id][cActivo] = false;
    CompradoresInfo[id][cTiempo] = 0;

    // Usamos IsValidDynamicActor de Streamer
    if(IsValidDynamicActor(CompradoresInfo[id][cActorID])) 
    {
        DestroyDynamicActor(CompradoresInfo[id][cActorID]);
    }
    // Seteamos a -1 que es el valor estándar para "Ninguno"
    CompradoresInfo[id][cActorID] = -1; 

    if(IsValidDynamic3DTextLabel(CompradoresInfo[id][cLabel])) 
    {
        DestroyDynamic3DTextLabel(CompradoresInfo[id][cLabel]);
        CompradoresInfo[id][cLabel] = Text3D:INVALID_3DTEXT_ID; 
    }
    return 1;
}




forward TimerMejoraMotor();
public TimerMejoraMotor()
{
    for(new i = 1, j = GetVehiclePoolSize(); i <= j; i++)
    {
        // 1. ¿Es un vehiculo de jugador válido?
        if(!PLAYER_VEHICLES[i][player_vehicle_VALID]) continue;
        
        // 2. ¿Tiene mejora instalada?
        new nivel = PLAYER_VEHICLES[i][player_vehicle_MOTOR_NIVEL];
        if(nivel <= 0) {
            RemoveVehicleComponent(i, 1010); // Por si acaso
            continue; 
        }

        // 3. ¿Tiene conductor? (Cambié el chequeo por GetPlayerVehicleID)
        new conductor = INVALID_PLAYER_ID;
        for(new p = 0; p < MAX_PLAYERS; p++) {
            if(IsPlayerConnected(p) && GetPlayerVehicleID(p) == i && GetPlayerState(p) == PLAYER_STATE_DRIVER) {
                conductor = p;
                break;
            }
        }
        
        if(conductor == INVALID_PLAYER_ID) {
            RemoveVehicleComponent(i, 1010);
            continue;
        }

        new Float:vx, Float:vy, Float:vz;
        if(GetVehicleVelocity(i, vx, vy, vz))
        {
            new Float:speed = floatsqroot((vx*vx)+(vy*vy)+(vz*vz)) * 181.5;

            // 4. Rango de activación (Quitamos la tecla 'ud' para que no falle)
            if(speed > 40.0 && speed < 280.0)
            {
                new Float:boost = 1.0;
                switch(nivel)
                {
                    case 1: boost = 1.015;
                    case 2: boost = 1.022;
                    case 3: boost = 1.028;
                }
                
                // Aplicamos velocidad (VZ se queda igual para que no vuele)
                SetVehicleVelocity(i, vx * boost, vy * boost, vz);
                
                // Agregamos el Nitro visual
                AddVehicleComponent(i, 1010);
            }
            else
            {
                // Si va muy lento o está parado, quitamos nitro
                RemoveVehicleComponent(i, 1010);
            }
        }
    }
    return 1;
}


stock GuardarMejoraMotor(vehicle_id)
{
    if(!PLAYER_VEHICLES[vehicle_id][player_vehicle_VALID]) return 0;

    new path[128];
    // Quitamos la diagonal inicial para que sea relativa a scriptfiles
    format(path, sizeof(path), "Vehiculos/Mejoras/%d.ini", PLAYER_VEHICLES[vehicle_id][player_vehicle_ID]);

    // OBLIGATORIO: Si el archivo no existe, lo creamos primero
    if(!dini_Exists(path))
    {
        dini_Create(path);
    }

    // Ahora sí guardamos el valor
    dini_IntSet(path, "NivelMotor", PLAYER_VEHICLES[vehicle_id][player_vehicle_MOTOR_NIVEL]);
    
    printf("[DEBUG]: Guardando mejora motor auto ID %d en ruta: %s", PLAYER_VEHICLES[vehicle_id][player_vehicle_ID], path);
    return 1;
}



stock CargarMejoraMotor(vehicle_id)
{
    new path[128];
    // Creamos la ruta usando el ID de la base de datos (id)
    format(path, sizeof(path), "/Vehiculos/Mejoras/%d.ini", PLAYER_VEHICLES[vehicle_id][player_vehicle_ID]);

    if(dini_Exists(path))
    {
        PLAYER_VEHICLES[vehicle_id][player_vehicle_MOTOR_NIVEL] = dini_Int(path, "NivelMotor");
    }
    else
    {
        // Si el archivo no existe, el nivel es 0 (normal)
        PLAYER_VEHICLES[vehicle_id][player_vehicle_MOTOR_NIVEL] = 0;
    }
    return 1;
}

stock AbrirMenuMejoras(playerid)
{
    new vehid = GetPlayerVehicleID(playerid);
    
    // Verificación de Motor Apagado
    
    if(!PLAYER_VEHICLES[vehid][player_vehicle_VALID])
        return ShowPlayerMessage(playerid, "Solo puedes mejorar vehiculos propios.", 1085);

    new model_idx = GetVehicleModel(vehid) - 400;
    new Float:vBase = VEHICLE_INFO[model_idx][vehicle_info_MAX_VEL];
    new nivel = PLAYER_VEHICLES[vehid][player_vehicle_MOTOR_NIVEL];
    
    new Float:vActual = vBase;
    if(nivel == 1) vActual += 30.0;
    else if(nivel == 2) vActual += 55.0;
    else if(nivel == 3) vActual += 80.0;

    new str[850], title[128];
    format(title, sizeof(title), "{828282}[Mejoras] {ffffff} %s (Actual: %.0f KM/H)", VEHICLE_INFO[model_idx][vehicle_info_NAME], vActual);

    format(str, sizeof(str), "{FFFFFF}Mejora\t{FFFFFF}Estado\t{FFFFFF}Precio\t{FFFFFF}Vel. Final\n");
    format(str, sizeof(str), "%s{FFFFFF}Motor Nivel 1\t%s\t{FFFFFF}100.000{00FF00}$\t{FFFFFF}%.0f {FFFF00}KM/H\n", str, (nivel == 1 ? "{00FF00}Instalado" : "{808080}Disponible"), (vBase + 30.0));
    format(str, sizeof(str), "%s{FFFFFF}Motor Nivel 2\t%s\t{FFFFFF}200.000{00FF00}$\t{FFFFFF}%.0f {FFFF00}KM/H\n", str, (nivel == 2 ? "{00FF00}Instalado" : "{808080}Disponible"), (vBase + 55.0));
    format(str, sizeof(str), "%s{FFFFFF}Motor Nivel 3\t%s\t{FFFFFF}350.000{00FF00}$\t{FFFFFF}%.0f {FFFF00}KM/H\n", str, (nivel == 3 ? "{00FF00}Instalado" : "{808080}Disponible"), (vBase + 80.0));

    if(nivel > 0) format(str, sizeof(str), "%s{FF0000}Eliminar mejora\t{FFFFFF}Nivel %d\t{FF0000}GRATIS\t{808080}%.0f KM/H", str, nivel, vBase);

    ShowPlayerDialog(playerid, 543, DIALOG_STYLE_TABLIST_HEADERS, title, str, "Seleccionar", "xCerrar");
    return 1;
}


stock BorrarMejoraMotor(db_id)
{
    new path[128];
    format(path, sizeof(path), "Vehiculos/Mejoras/%d.ini", db_id);
    
    if(fexist(path)) 
    {
        fremove(path); 
        printf("[DEBUG]: Archivo de mejora eliminado para el vehiculo DB-ID: %d", db_id);
    }
    return 1;
}

stock RutaTutorial(playerid)
{
    new str[64];
    // Usamos el ID de MySQL para el nombre del archivo (ej: Tutoriales/45.ini)
    format(str, sizeof(str), "Tutoriales/%d.ini", PI[playerid][pi_ID]);
    return str;
}

stock GuardarProgresoGuia(playerid)
{
    // Verificación de seguridad: si el ID es 0, es que aún no carga MySQL
    if(PI[playerid][pi_ID] <= 0) return 0;

    new path[64];
    path = RutaTutorial(playerid);
    
    if(!dini_Exists(path)) dini_Create(path);
    
    dini_IntSet(path, "PasoActual", PI[playerid][pi_GUIA_INICIO]);
    return 1;
}

stock CargarProgresoGuia(playerid)
{
    new path[64];
    format(path, sizeof(path), "Tutoriales/%d.ini", PI[playerid][pi_ID]);
    
    if(dini_Exists(path))
    {
        PI[playerid][pi_GUIA_INICIO] = dini_Int(path, "PasoActual");
    }
    else
    {
        // Si no hay archivo y es nivel 1, es que apenas va a empezar
        if(PI[playerid][pi_LEVEL] < 3) // O la variable que uses para nivel
        {
            PI[playerid][pi_GUIA_INICIO] = 1;
            // No creamos el archivo aquí, se creará al guardar el primer paso
        }
        else
        {
            // Si no hay archivo pero es nivel alto, ya es un veterano
            PI[playerid][pi_GUIA_INICIO] = 0;
        }
    }
    return 1;
}

stock RotarDialogosMercados()
{
    for(new i = 1; i <= 15; i++)
    {
        // A cada mundo le asignamos un tipo de diálogo del 1 al 4 aleatoriamente
        TipoDialogoMercado[i] = 1 + random(4); 
    }
    return 1;
}

stock GetPlayerCurrentTerritory(playerid)
{
    new Float:x, Float:y, Float:z;
    GetPlayerPos(playerid, x, y, z);
    for(new i = 0; i < MAX_TERRITORIES; i++)
    {
        if(!TERRITORIES[i][territory_VALID]) continue;
        
        if(x >= TERRITORIES[i][territory_MIN_X] && x <= TERRITORIES[i][territory_MAX_X] &&
           y >= TERRITORIES[i][territory_MIN_Y] && y <= TERRITORIES[i][territory_MAX_Y])
        {
            return i;
        }
    }
    return -1;
}

stock ActualizarLabelMercadoDeZona(index)
{
    new label_str[256];
    for (new i = 0; i < sizeof ENTER_EXIT; i++)
    {
        if (ENTER_EXIT[i][ee_INTERIOR_TYPE] == INTERIOR_BLACK_MARKET)
        {
            // Verificamos si las coordenadas del mercado están dentro del área del territorio
            if(ENTER_EXIT[i][ee_EXT_X] >= TERRITORIES[index][territory_MIN_X] && ENTER_EXIT[i][ee_EXT_X] <= TERRITORIES[index][territory_MAX_X] &&
               ENTER_EXIT[i][ee_EXT_Y] >= TERRITORIES[index][territory_MIN_Y] && ENTER_EXIT[i][ee_EXT_Y] <= TERRITORIES[index][territory_MAX_Y])
            {
                if(TERRITORIES[index][territory_CREW_ID] > 0)
                {
                    format(label_str, sizeof label_str, "{FFFFFF}Territorio de: {FFFFFF}%s\n{27EDF6}%s\n{F5F5F5}Acercate para entrar", 
                        CREW_INFO[TERRITORIES[index][territory_CREW_INDEX]][crew_NAME],
                        ENTER_EXIT[i][ee_NAME]);
                }
                else
                {
                    format(label_str, sizeof label_str, "{27EDF6}%s\n{F5F5F5}Acercate para entrar", ENTER_EXIT[i][ee_NAME]);
                }
                
                // Actualizamos el Label que ya fue creado en LoadEnterExits
                if(ENTER_EXIT[i][ee_EXT_LABEL_ID] != Text3D:INVALID_3DTEXT_ID)
                {
                    UpdateDynamic3DTextLabelText(ENTER_EXIT[i][ee_EXT_LABEL_ID], 0xFFFFFFFF, label_str);
                }
            }
        }
    }
    return 1;
}

// Auxiliar para mostrar el precio correctamente
stock format_monedas(amount) {
    new str[32];
    format(str, sizeof(str), "%d Gemas", amount);
    return str;
}

stock format_dinero(amount) {
    new str[32];
    format(str, sizeof(str), "%s{00FF00}$", number_format_thousand(amount));
    return str;
}

stock AplicarFeedbackDanio(playerid, issuerid, Float:amount, weaponid)
{
    if(issuerid == INVALID_PLAYER_ID) return 1;

    // --- Feedback para la VÍCTIMA ---
    if(PLAYER_TEMP[playerid][pt_TIMERS][18] != 0) KillTimer(PLAYER_TEMP[playerid][pt_TIMERS][18]);
    PLAYER_TEMP[playerid][pt_DAMAGE_DANIO] += amount;
    PLAYER_TEMP[playerid][pt_TIMERS][18] = SetTimerEx("DamageReset", 3000, 0, "i", playerid);

    PlayerTextDrawShow(playerid, PlayerTextdraws[playerid][ptextdraw_DAMAGE][0]); 
    PlayerPlaySound(playerid, 1085, 0.0, 0.0, 0.0);

    new str[128];
    format(str, sizeof str, "~w~%s~n~~w~%s~r~-%.0f", WEAPON_INFO[weaponid][weapon_info_NAME], PLAYER_TEMP[issuerid][pt_RP_NAME], PLAYER_TEMP[playerid][pt_DAMAGE_DANIO]);
    FixTextDrawString(str); 
    PlayerTextDrawSetString(playerid, PlayerTextdraws[playerid][ptextdraw_DAMAGE][0], str); 

    // --- Feedback para el ATACANTE ---
    if(PLAYER_TEMP[issuerid][pt_TIMERS][18] != 0) KillTimer(PLAYER_TEMP[issuerid][pt_TIMERS][18]);
    PLAYER_TEMP[issuerid][pt_DAMAGE_DANIO] += amount;
    PLAYER_TEMP[issuerid][pt_TIMERS][18] = SetTimerEx("DamageReset", 3000, 0, "i", issuerid);

    PlayerTextDrawShow(issuerid, PlayerTextdraws[issuerid][ptextdraw_DAMAGE][1]);
    PlayerPlaySound(issuerid, 17802, 0.0, 0.0, 0.0);

    new strx[128];
    format(strx, sizeof strx, "~w~%s~n~~w~%s~g~+%.0f", WEAPON_INFO[weaponid][weapon_info_NAME], PLAYER_TEMP[playerid][pt_RP_NAME], PLAYER_TEMP[issuerid][pt_DAMAGE_DANIO]);
    FixTextDrawString(strx);
    PlayerTextDrawSetString(issuerid, PlayerTextdraws[issuerid][ptextdraw_DAMAGE][1], strx);
    
    return 1;
}

stock GetFreeFabricaSlot()
{
    for(new i = 0; i < MAX_FABRICAS; i++)
    {
        if(Fabricas[i][pID] == 0) return i;
    }
    return -1;
}

stock DarObjetoUnico(playerid, tipo_id, cant = 1)
{
    new query[256];
    // tipo_id es el ID de tu enum ObjetoInfo (ej: 97 para Tiburon)
    mysql_format(srp_db, query, sizeof(query), 
        "INSERT INTO objetos_jugadores (owner_id, tipo_objeto_id, cantidad) VALUES (%d, %d, %d)", 
        PI[playerid][pi_ID], tipo_id, cant);
    
    // Ejecutamos y podemos obtener el ID que se le asignó mediante un callback si quieres
    mysql_tquery(srp_db, query, "OnObjetoRegistrado", "ii", playerid, tipo_id);
    return 1;
}

forward OnObjetoRegistrado(playerid, tipo_id);
public OnObjetoRegistrado(playerid, tipo_id)
{
    new nuevo_id = cache_insert_id(); // Este es el ID único (1, 2, 3...) que generó la DB
    new str[128];
    format(str, sizeof(str), "* Has recibido: %s (ID Único: %d)", ObjetoInfo[tipo_id][NombreObjeto], nuevo_id);
    SendClientMessage(playerid, -1, str);
    return 1;
}


stock RecogerJBL(playerid)
{
    if(JBLInfo[playerid][jbl_COLOCADA])
    {
        if(IsValidDynamicObject(JBLInfo[playerid][jbl_OBJETO]))
        {
            DestroyDynamicObject(JBLInfo[playerid][jbl_OBJETO]);
            JBLInfo[playerid][jbl_OBJETO] = INVALID_STREAMER_ID;
        }
        if(IsValidDynamic3DTextLabel(JBLInfo[playerid][jbl_LABEL])) DestroyDynamic3DTextLabel(JBLInfo[playerid][jbl_LABEL]);

        // Detener música para los que están cerca
        for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
        {
            if(IsPlayerConnected(i) && IsPlayerInRangeOfPoint(i, MAX_JBL_DISTANCE + 5.0, JBLInfo[playerid][jbl_X], JBLInfo[playerid][jbl_Y], JBLInfo[playerid][jbl_Z]))
            {
                StopAudioStreamForPlayer(i);
            }
        }
        
        if(IsValidDynamicArea(JBLInfo[playerid][jbl_AREA])) 
        DestroyDynamicArea(JBLInfo[playerid][jbl_AREA]);
    

        JBLInfo[playerid][jbl_COLOCADA] = false;
        JBLInfo[playerid][jbl_LABEL] = Text3D:INVALID_3DTEXT_ID;
        JBLInfo[playerid][jbl_URL][0] = EOS;
    }
    return 1;
}


CountCrewPlayers(id_crew) {
    mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "SELECT COUNT(id) FROM player WHERE crew = %d;", id_crew);
    new count, Cache:result = mysql_query(srp_db, QUERY_BUFFER);
    cache_get_value_int(0, 0, count);
    cache_delete(result);
    return count;
}

const RPC_VehicleDestroy = 136;
IRPC:RPC_VehicleDestroy(playerid, BitStream:bs)
{
	if(ac_Info[CHEAT_DESTROY_VEHICLE][ac_Enabled]) {
		new vehicleid;
		BS_ReadUint16(bs, vehicleid);

		if(vehicleid <= 0 || vehicleid >= MAX_VEHICLES)
		{
			return 0;
		}

		if(PI[playerid][pi_LEVEL] < 3)
		{
			if( (vehicleid == GetPlayerVehicleID(playerid) && GLOBAL_VEHICLES[vehicleid][gb_vehicle_DRIVER] == playerid) || (PLAYER_VEHICLES[vehicleid][player_vehicle_VALID] && PLAYER_VEHICLES[vehicleid][player_vehicle_OWNER_ID] == PI[playerid][pi_ID]) )
			{
				return 1;
			}
			return 0;
		}

		if(!IsVehicleStreamedIn(vehicleid, playerid))
		{
			return 0;
		}

		new interval = GetTickDiff(GetTickCount(), PLAYER_TEMP[playerid][pt_LAST_VEHICLE_DESTROY]);
		if(interval < 500)
		{
			new current_gettime = gettime();
			if(current_gettime > PLAYER_AC_INFO[playerid][CHEAT_DESTROY_VEHICLE][p_ac_info_IMMUNITY])
			{
				if(!ac_Info[CHEAT_DESTROY_VEHICLE][ac_Interval]) OnPlayerCheatDetected(playerid, CHEAT_DESTROY_VEHICLE);
				else
				{
					if(current_gettime - PLAYER_AC_INFO[playerid][CHEAT_DESTROY_VEHICLE][p_ac_info_LAST_DETECTION] > ac_Info[CHEAT_DESTROY_VEHICLE][ac_Interval]) PLAYER_AC_INFO[playerid][CHEAT_DESTROY_VEHICLE][p_ac_info_DETECTIONS] = 0;
					else PLAYER_AC_INFO[playerid][CHEAT_DESTROY_VEHICLE][p_ac_info_DETECTIONS] ++;

					PLAYER_AC_INFO[playerid][CHEAT_DESTROY_VEHICLE][p_ac_info_LAST_DETECTION] = current_gettime;
					if(PLAYER_AC_INFO[playerid][CHEAT_DESTROY_VEHICLE][p_ac_info_DETECTIONS] >= ac_Info[CHEAT_DESTROY_VEHICLE][ac_Detections]) OnPlayerCheatDetected(playerid, CHEAT_DESTROY_VEHICLE);
				}
			}
			return 0;
		}
		PLAYER_TEMP[playerid][pt_LAST_VEHICLE_DESTROY] = GetTickCount();
	}
    return 1;
}

SetPropertyDefaultFurniture(index, bool:toggle) {
	if(PROPERTY_INFO[index][property_DIS_DEFAULT_INTERIOR] != !toggle) {
		PROPERTY_INFO[index][property_DIS_DEFAULT_INTERIOR] = !toggle;
		mysql_format(srp_db, QUERY_BUFFER, sizeof QUERY_BUFFER, "UPDATE properties SET dis_default_interior = %d WHERE id = %d;", PROPERTY_INFO[index][property_DIS_DEFAULT_INTERIOR], PROPERTY_INFO[index][property_ID]);
		mysql_tquery(srp_db, QUERY_BUFFER);

		new Float:z_pos = PROPERTY_INTERIORS[ PROPERTY_INFO[index][property_ID_INTERIOR] ][property_INT_Z];
		if(PROPERTY_INFO[index][property_DIS_DEFAULT_INTERIOR]) z_pos += PROPERTY_EMPTY_INTERIOR_Z_OFFSET;
		Streamer_SetFloatData(STREAMER_TYPE_3D_TEXT_LABEL, PROPERTY_INFO[index][property_INT_LABEL_ID], E_STREAMER_Z, z_pos + 0.25);
		Streamer_SetFloatData(STREAMER_TYPE_PICKUP, PROPERTY_INFO[index][property_INT_PICKUP_ID], E_STREAMER_Z, z_pos);

		for(new i = 0, j = GetPlayerPoolSize(); i <= j; i++)
		{
			if(IsPlayerConnected(i) && (PI[i][pi_STATE] == ROLEPLAY_STATE_OWN_PROPERTY || PI[i][pi_STATE] == ROLEPLAY_STATE_GUEST_PROPERTY) && PI[i][pi_LOCAL_INTERIOR] == PROPERTY_INFO[index][property_ID])
			{
				new Float:pos[3], Float:angle;
				GetPlayerPos(i, pos[0], pos[1], pos[2]);
				GetPlayerFacingAngle(i, angle);

				SetPlayerPosEx(i, pos[0], pos[1], pos[2] + (PROPERTY_INFO[index][property_DIS_DEFAULT_INTERIOR] ? PROPERTY_EMPTY_INTERIOR_Z_OFFSET : -PROPERTY_EMPTY_INTERIOR_Z_OFFSET), angle, GetPlayerInterior(i), GetPlayerVirtualWorld(i), 1);
			}
		}

		CallLocalFunction("OnDefaultPFurChanged", "i", index);
	}
}

GetVehicleComponentIndexFromId(vehicleid, id) {
	for(new i = 0; i != MAX_VEHICLE_COMPONENTS; i ++)
	{
		if(GLOBAL_VEHICLES[vehicleid][gb_vehicle_COMPONENTS][i] && GLOBAL_VEHICLES[vehicleid][gb_vehicle_COMPONENTS][i] == id) {
			return i;
		}
	}
	return -1;
}

//Módulos Optimizaros | Antrax
/* Módulos */
#include "src/taximeter.pwn"
#include "src/nears_players_dialog.pwn"
#include "src/notifications.pwn"
#include "src/air_veh_fuel.pwn"
#include "src/info_vars.pwn"
//#include "src/jobs_best_employees.pwn"
#include "src/key_press.pwn"
#include "src/visible_items.pwn"
#include "src/boat_repair_points.pwn"
#include "src/ac_anticbug.pwn"
#include "src/shield_weapon.pwn"
#include "src/vehicle_menu.pwn"
#include "src/injured.pwn"
#include "src/bolsillos.pwn"
#include "src/drop_objects.pwn"
#include "src/work_contract.pwn"
#include "src/work_vehicle_spawner.pwn"
#include "src/parking_slot_impl.pwn"
#include "src/disconnect_pickup.pwn"
#include "src/atm_robbery.pwn"
#include "src/dealer_ship.pwn"
#include "src/phone.pwn"
#include "src/jobs.pwn"
#include "src/heridas.pwn"
#include "src/repair_vehicle.pwn"
#include "src/crane_service.pwn"
#include "src/navidad.pwn"
#include "src/maps.pwn"
/*#include "src/facciones.pwn"
#include "src/gunslocker.pwn"
#include "src/vehfacc.pwn"*/